{"remainingRequest":"/home/calculus/dev/m/pharma-frontend/node_modules/babel-loader/lib/index.js!/home/calculus/dev/m/pharma-frontend/src/plugins/three/threejs.js","dependencies":[{"path":"/home/calculus/dev/m/pharma-frontend/src/plugins/three/threejs.js","mtime":1652296673262},{"path":"/home/calculus/dev/m/pharma-frontend/babel.config.js","mtime":1652296646452},{"path":"/home/calculus/dev/m/pharma-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/calculus/dev/m/pharma-frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF90eXBlb2Y9cmVxdWlyZSgiL2hvbWUvY2FsY3VsdXMvZGV2L20vcGhhcm1hLWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3R5cGVvZi5qcyIpLmRlZmF1bHQ7cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5lcHNpbG9uLmpzIik7cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyIpO3JlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuaXMtaW50ZWdlci5qcyIpO3JlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5tYXRoLnNpZ24uanMiKTtyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyIpO3JlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyIpO3JlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubWF0Y2guanMiKTtyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyIpO3JlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIik7cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyIpO3JlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyIpO3JlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3ViLmpzIik7cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBlYXQuanMiKTtyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiKTtyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC50by1qc29uLmpzIik7cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5hcnJheS5hdC5qcyIpO3JlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiKTtyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuaW50OC1hcnJheS5qcyIpO3JlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lc25leHQudHlwZWQtYXJyYXkuYXQuanMiKTtyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuY29weS13aXRoaW4uanMiKTtyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZXZlcnkuanMiKTtyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmlsbC5qcyIpO3JlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maWx0ZXIuanMiKTtyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmluZC5qcyIpO3JlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maW5kLWluZGV4LmpzIik7cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZvci1lYWNoLmpzIik7cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmluY2x1ZGVzLmpzIik7cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmluZGV4LW9mLmpzIik7cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5Lml0ZXJhdG9yLmpzIik7cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmpvaW4uanMiKTtyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkubGFzdC1pbmRleC1vZi5qcyIpO3JlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5tYXAuanMiKTtyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkucmVkdWNlLmpzIik7cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnJlZHVjZS1yaWdodC5qcyIpO3JlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5yZXZlcnNlLmpzIik7cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnNldC5qcyIpO3JlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zbGljZS5qcyIpO3JlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zb21lLmpzIik7cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnNvcnQuanMiKTtyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc3ViYXJyYXkuanMiKTtyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudG8tbG9jYWxlLXN0cmluZy5qcyIpO3JlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS50by1zdHJpbmcuanMiKTtyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudWludDgtYXJyYXkuanMiKTtyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudWludDgtY2xhbXBlZC1hcnJheS5qcyIpO3JlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5pbnQxNi1hcnJheS5qcyIpO3JlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS51aW50MTYtYXJyYXkuanMiKTtyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuaW50MzItYXJyYXkuanMiKTtyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudWludDMyLWFycmF5LmpzIik7cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZsb2F0MzItYXJyYXkuanMiKTtyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmxvYXQ2NC1hcnJheS5qcyIpO3JlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyIpO3JlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zb3J0LmpzIik7cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4uanMiKTtyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIik7cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLndlYWstbWFwLmpzIik7cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiKTtyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIik7cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy50cmltLmpzIik7cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyIpO3JlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyIpO3JlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudGVzdC5qcyIpO3JlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5tYXAuanMiKTtyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyIpO3JlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiKTtyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmZyZWV6ZS5qcyIpO3JlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS1idWZmZXIuY29uc3RydWN0b3IuanMiKTtyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNlYXJjaC5qcyIpO3JlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mcm9tLmpzIik7cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5jb25zdHJ1Y3Rvci5qcyIpO3JlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZG90LWFsbC5qcyIpO3JlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuc3RpY2t5LmpzIik7cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm1hdGgubG9nMi5qcyIpOy8vIFRocmVlSlMgM0QgbGlicmFyeS4KKGZ1bmN0aW9uKGdsb2JhbCxmYWN0b3J5KXsodHlwZW9mIGV4cG9ydHM9PT0idW5kZWZpbmVkIj8idW5kZWZpbmVkIjpfdHlwZW9mKGV4cG9ydHMpKT09PSdvYmplY3QnJiZ0eXBlb2YgbW9kdWxlIT09J3VuZGVmaW5lZCc/ZmFjdG9yeShleHBvcnRzKTp0eXBlb2YgZGVmaW5lPT09J2Z1bmN0aW9uJyYmZGVmaW5lLmFtZD9kZWZpbmUoWydleHBvcnRzJ10sZmFjdG9yeSk6KGdsb2JhbD1nbG9iYWx8fHNlbGYsZmFjdG9yeShnbG9iYWwuVEhSRUU9e30pKTt9KSh0aGlzLGZ1bmN0aW9uKGV4cG9ydHMpeyd1c2Ugc3RyaWN0JzsvLyBQb2x5ZmlsbHMKaWYoTnVtYmVyLkVQU0lMT049PT11bmRlZmluZWQpe051bWJlci5FUFNJTE9OPU1hdGgucG93KDIsLTUyKTt9aWYoTnVtYmVyLmlzSW50ZWdlcj09PXVuZGVmaW5lZCl7Ly8gTWlzc2luZyBpbiBJRQovLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9OdW1iZXIvaXNJbnRlZ2VyCk51bWJlci5pc0ludGVnZXI9ZnVuY3Rpb24odmFsdWUpe3JldHVybiB0eXBlb2YgdmFsdWU9PT0nbnVtYmVyJyYmaXNGaW5pdGUodmFsdWUpJiZNYXRoLmZsb29yKHZhbHVlKT09PXZhbHVlO307fS8vCmlmKE1hdGguc2lnbj09PXVuZGVmaW5lZCl7Ly8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9zaWduCk1hdGguc2lnbj1mdW5jdGlvbih4KXtyZXR1cm4geDwwPy0xOng+MD8xOit4O307fWlmKCduYW1lJ2luIEZ1bmN0aW9uLnByb3RvdHlwZT09PWZhbHNlKXsvLyBNaXNzaW5nIGluIElFCi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0Z1bmN0aW9uL25hbWUKT2JqZWN0LmRlZmluZVByb3BlcnR5KEZ1bmN0aW9uLnByb3RvdHlwZSwnbmFtZScse2dldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy50b1N0cmluZygpLm1hdGNoKC9eXHMqZnVuY3Rpb25ccyooW15cKFxzXSopLylbMV07fX0pO31pZihPYmplY3QuYXNzaWduPT09dW5kZWZpbmVkKXsvLyBNaXNzaW5nIGluIElFCi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9hc3NpZ24KT2JqZWN0LmFzc2lnbj1mdW5jdGlvbih0YXJnZXQpe2lmKHRhcmdldD09PXVuZGVmaW5lZHx8dGFyZ2V0PT09bnVsbCl7dGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnZlcnQgdW5kZWZpbmVkIG9yIG51bGwgdG8gb2JqZWN0Jyk7fXZhciBvdXRwdXQ9T2JqZWN0KHRhcmdldCk7Zm9yKHZhciBpbmRleD0xO2luZGV4PGFyZ3VtZW50cy5sZW5ndGg7aW5kZXgrKyl7dmFyIHNvdXJjZT1hcmd1bWVudHNbaW5kZXhdO2lmKHNvdXJjZSE9PXVuZGVmaW5lZCYmc291cmNlIT09bnVsbCl7Zm9yKHZhciBuZXh0S2V5IGluIHNvdXJjZSl7aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSxuZXh0S2V5KSl7b3V0cHV0W25leHRLZXldPXNvdXJjZVtuZXh0S2V5XTt9fX19cmV0dXJuIG91dHB1dDt9O312YXIgUkVWSVNJT049JzExMic7dmFyIE1PVVNFPXtMRUZUOjAsTUlERExFOjEsUklHSFQ6MixST1RBVEU6MCxET0xMWToxLFBBTjoyfTt2YXIgVE9VQ0g9e1JPVEFURTowLFBBTjoxLERPTExZX1BBTjoyLERPTExZX1JPVEFURTozfTt2YXIgQ3VsbEZhY2VOb25lPTA7dmFyIEN1bGxGYWNlQmFjaz0xO3ZhciBDdWxsRmFjZUZyb250PTI7dmFyIEN1bGxGYWNlRnJvbnRCYWNrPTM7dmFyIEZyb250RmFjZURpcmVjdGlvbkNXPTA7dmFyIEZyb250RmFjZURpcmVjdGlvbkNDVz0xO3ZhciBCYXNpY1NoYWRvd01hcD0wO3ZhciBQQ0ZTaGFkb3dNYXA9MTt2YXIgUENGU29mdFNoYWRvd01hcD0yO3ZhciBWU01TaGFkb3dNYXA9Mzt2YXIgRnJvbnRTaWRlPTA7dmFyIEJhY2tTaWRlPTE7dmFyIERvdWJsZVNpZGU9Mjt2YXIgRmxhdFNoYWRpbmc9MTt2YXIgU21vb3RoU2hhZGluZz0yO3ZhciBOb0NvbG9ycz0wO3ZhciBGYWNlQ29sb3JzPTE7dmFyIFZlcnRleENvbG9ycz0yO3ZhciBOb0JsZW5kaW5nPTA7dmFyIE5vcm1hbEJsZW5kaW5nPTE7dmFyIEFkZGl0aXZlQmxlbmRpbmc9Mjt2YXIgU3VidHJhY3RpdmVCbGVuZGluZz0zO3ZhciBNdWx0aXBseUJsZW5kaW5nPTQ7dmFyIEN1c3RvbUJsZW5kaW5nPTU7dmFyIEFkZEVxdWF0aW9uPTEwMDt2YXIgU3VidHJhY3RFcXVhdGlvbj0xMDE7dmFyIFJldmVyc2VTdWJ0cmFjdEVxdWF0aW9uPTEwMjt2YXIgTWluRXF1YXRpb249MTAzO3ZhciBNYXhFcXVhdGlvbj0xMDQ7dmFyIFplcm9GYWN0b3I9MjAwO3ZhciBPbmVGYWN0b3I9MjAxO3ZhciBTcmNDb2xvckZhY3Rvcj0yMDI7dmFyIE9uZU1pbnVzU3JjQ29sb3JGYWN0b3I9MjAzO3ZhciBTcmNBbHBoYUZhY3Rvcj0yMDQ7dmFyIE9uZU1pbnVzU3JjQWxwaGFGYWN0b3I9MjA1O3ZhciBEc3RBbHBoYUZhY3Rvcj0yMDY7dmFyIE9uZU1pbnVzRHN0QWxwaGFGYWN0b3I9MjA3O3ZhciBEc3RDb2xvckZhY3Rvcj0yMDg7dmFyIE9uZU1pbnVzRHN0Q29sb3JGYWN0b3I9MjA5O3ZhciBTcmNBbHBoYVNhdHVyYXRlRmFjdG9yPTIxMDt2YXIgTmV2ZXJEZXB0aD0wO3ZhciBBbHdheXNEZXB0aD0xO3ZhciBMZXNzRGVwdGg9Mjt2YXIgTGVzc0VxdWFsRGVwdGg9Mzt2YXIgRXF1YWxEZXB0aD00O3ZhciBHcmVhdGVyRXF1YWxEZXB0aD01O3ZhciBHcmVhdGVyRGVwdGg9Njt2YXIgTm90RXF1YWxEZXB0aD03O3ZhciBNdWx0aXBseU9wZXJhdGlvbj0wO3ZhciBNaXhPcGVyYXRpb249MTt2YXIgQWRkT3BlcmF0aW9uPTI7dmFyIE5vVG9uZU1hcHBpbmc9MDt2YXIgTGluZWFyVG9uZU1hcHBpbmc9MTt2YXIgUmVpbmhhcmRUb25lTWFwcGluZz0yO3ZhciBVbmNoYXJ0ZWQyVG9uZU1hcHBpbmc9Mzt2YXIgQ2luZW9uVG9uZU1hcHBpbmc9NDt2YXIgQUNFU0ZpbG1pY1RvbmVNYXBwaW5nPTU7dmFyIFVWTWFwcGluZz0zMDA7dmFyIEN1YmVSZWZsZWN0aW9uTWFwcGluZz0zMDE7dmFyIEN1YmVSZWZyYWN0aW9uTWFwcGluZz0zMDI7dmFyIEVxdWlyZWN0YW5ndWxhclJlZmxlY3Rpb25NYXBwaW5nPTMwMzt2YXIgRXF1aXJlY3Rhbmd1bGFyUmVmcmFjdGlvbk1hcHBpbmc9MzA0O3ZhciBTcGhlcmljYWxSZWZsZWN0aW9uTWFwcGluZz0zMDU7dmFyIEN1YmVVVlJlZmxlY3Rpb25NYXBwaW5nPTMwNjt2YXIgQ3ViZVVWUmVmcmFjdGlvbk1hcHBpbmc9MzA3O3ZhciBSZXBlYXRXcmFwcGluZz0xMDAwO3ZhciBDbGFtcFRvRWRnZVdyYXBwaW5nPTEwMDE7dmFyIE1pcnJvcmVkUmVwZWF0V3JhcHBpbmc9MTAwMjt2YXIgTmVhcmVzdEZpbHRlcj0xMDAzO3ZhciBOZWFyZXN0TWlwbWFwTmVhcmVzdEZpbHRlcj0xMDA0O3ZhciBOZWFyZXN0TWlwTWFwTmVhcmVzdEZpbHRlcj0xMDA0O3ZhciBOZWFyZXN0TWlwbWFwTGluZWFyRmlsdGVyPTEwMDU7dmFyIE5lYXJlc3RNaXBNYXBMaW5lYXJGaWx0ZXI9MTAwNTt2YXIgTGluZWFyRmlsdGVyPTEwMDY7dmFyIExpbmVhck1pcG1hcE5lYXJlc3RGaWx0ZXI9MTAwNzt2YXIgTGluZWFyTWlwTWFwTmVhcmVzdEZpbHRlcj0xMDA3O3ZhciBMaW5lYXJNaXBtYXBMaW5lYXJGaWx0ZXI9MTAwODt2YXIgTGluZWFyTWlwTWFwTGluZWFyRmlsdGVyPTEwMDg7dmFyIFVuc2lnbmVkQnl0ZVR5cGU9MTAwOTt2YXIgQnl0ZVR5cGU9MTAxMDt2YXIgU2hvcnRUeXBlPTEwMTE7dmFyIFVuc2lnbmVkU2hvcnRUeXBlPTEwMTI7dmFyIEludFR5cGU9MTAxMzt2YXIgVW5zaWduZWRJbnRUeXBlPTEwMTQ7dmFyIEZsb2F0VHlwZT0xMDE1O3ZhciBIYWxmRmxvYXRUeXBlPTEwMTY7dmFyIFVuc2lnbmVkU2hvcnQ0NDQ0VHlwZT0xMDE3O3ZhciBVbnNpZ25lZFNob3J0NTU1MVR5cGU9MTAxODt2YXIgVW5zaWduZWRTaG9ydDU2NVR5cGU9MTAxOTt2YXIgVW5zaWduZWRJbnQyNDhUeXBlPTEwMjA7dmFyIEFscGhhRm9ybWF0PTEwMjE7dmFyIFJHQkZvcm1hdD0xMDIyO3ZhciBSR0JBRm9ybWF0PTEwMjM7dmFyIEx1bWluYW5jZUZvcm1hdD0xMDI0O3ZhciBMdW1pbmFuY2VBbHBoYUZvcm1hdD0xMDI1O3ZhciBSR0JFRm9ybWF0PVJHQkFGb3JtYXQ7dmFyIERlcHRoRm9ybWF0PTEwMjY7dmFyIERlcHRoU3RlbmNpbEZvcm1hdD0xMDI3O3ZhciBSZWRGb3JtYXQ9MTAyODt2YXIgUmVkSW50ZWdlckZvcm1hdD0xMDI5O3ZhciBSR0Zvcm1hdD0xMDMwO3ZhciBSR0ludGVnZXJGb3JtYXQ9MTAzMTt2YXIgUkdCSW50ZWdlckZvcm1hdD0xMDMyO3ZhciBSR0JBSW50ZWdlckZvcm1hdD0xMDMzO3ZhciBSR0JfUzNUQ19EWFQxX0Zvcm1hdD0zMzc3Njt2YXIgUkdCQV9TM1RDX0RYVDFfRm9ybWF0PTMzNzc3O3ZhciBSR0JBX1MzVENfRFhUM19Gb3JtYXQ9MzM3Nzg7dmFyIFJHQkFfUzNUQ19EWFQ1X0Zvcm1hdD0zMzc3OTt2YXIgUkdCX1BWUlRDXzRCUFBWMV9Gb3JtYXQ9MzU4NDA7dmFyIFJHQl9QVlJUQ18yQlBQVjFfRm9ybWF0PTM1ODQxO3ZhciBSR0JBX1BWUlRDXzRCUFBWMV9Gb3JtYXQ9MzU4NDI7dmFyIFJHQkFfUFZSVENfMkJQUFYxX0Zvcm1hdD0zNTg0Mzt2YXIgUkdCX0VUQzFfRm9ybWF0PTM2MTk2O3ZhciBSR0JBX0FTVENfNHg0X0Zvcm1hdD0zNzgwODt2YXIgUkdCQV9BU1RDXzV4NF9Gb3JtYXQ9Mzc4MDk7dmFyIFJHQkFfQVNUQ181eDVfRm9ybWF0PTM3ODEwO3ZhciBSR0JBX0FTVENfNng1X0Zvcm1hdD0zNzgxMTt2YXIgUkdCQV9BU1RDXzZ4Nl9Gb3JtYXQ9Mzc4MTI7dmFyIFJHQkFfQVNUQ184eDVfRm9ybWF0PTM3ODEzO3ZhciBSR0JBX0FTVENfOHg2X0Zvcm1hdD0zNzgxNDt2YXIgUkdCQV9BU1RDXzh4OF9Gb3JtYXQ9Mzc4MTU7dmFyIFJHQkFfQVNUQ18xMHg1X0Zvcm1hdD0zNzgxNjt2YXIgUkdCQV9BU1RDXzEweDZfRm9ybWF0PTM3ODE3O3ZhciBSR0JBX0FTVENfMTB4OF9Gb3JtYXQ9Mzc4MTg7dmFyIFJHQkFfQVNUQ18xMHgxMF9Gb3JtYXQ9Mzc4MTk7dmFyIFJHQkFfQVNUQ18xMngxMF9Gb3JtYXQ9Mzc4MjA7dmFyIFJHQkFfQVNUQ18xMngxMl9Gb3JtYXQ9Mzc4MjE7dmFyIExvb3BPbmNlPTIyMDA7dmFyIExvb3BSZXBlYXQ9MjIwMTt2YXIgTG9vcFBpbmdQb25nPTIyMDI7dmFyIEludGVycG9sYXRlRGlzY3JldGU9MjMwMDt2YXIgSW50ZXJwb2xhdGVMaW5lYXI9MjMwMTt2YXIgSW50ZXJwb2xhdGVTbW9vdGg9MjMwMjt2YXIgWmVyb0N1cnZhdHVyZUVuZGluZz0yNDAwO3ZhciBaZXJvU2xvcGVFbmRpbmc9MjQwMTt2YXIgV3JhcEFyb3VuZEVuZGluZz0yNDAyO3ZhciBUcmlhbmdsZXNEcmF3TW9kZT0wO3ZhciBUcmlhbmdsZVN0cmlwRHJhd01vZGU9MTt2YXIgVHJpYW5nbGVGYW5EcmF3TW9kZT0yO3ZhciBMaW5lYXJFbmNvZGluZz0zMDAwO3ZhciBzUkdCRW5jb2Rpbmc9MzAwMTt2YXIgR2FtbWFFbmNvZGluZz0zMDA3O3ZhciBSR0JFRW5jb2Rpbmc9MzAwMjt2YXIgTG9nTHV2RW5jb2Rpbmc9MzAwMzt2YXIgUkdCTTdFbmNvZGluZz0zMDA0O3ZhciBSR0JNMTZFbmNvZGluZz0zMDA1O3ZhciBSR0JERW5jb2Rpbmc9MzAwNjt2YXIgQmFzaWNEZXB0aFBhY2tpbmc9MzIwMDt2YXIgUkdCQURlcHRoUGFja2luZz0zMjAxO3ZhciBUYW5nZW50U3BhY2VOb3JtYWxNYXA9MDt2YXIgT2JqZWN0U3BhY2VOb3JtYWxNYXA9MTt2YXIgWmVyb1N0ZW5jaWxPcD0wO3ZhciBLZWVwU3RlbmNpbE9wPTc2ODA7dmFyIFJlcGxhY2VTdGVuY2lsT3A9NzY4MTt2YXIgSW5jcmVtZW50U3RlbmNpbE9wPTc2ODI7dmFyIERlY3JlbWVudFN0ZW5jaWxPcD03NjgzO3ZhciBJbmNyZW1lbnRXcmFwU3RlbmNpbE9wPTM0MDU1O3ZhciBEZWNyZW1lbnRXcmFwU3RlbmNpbE9wPTM0MDU2O3ZhciBJbnZlcnRTdGVuY2lsT3A9NTM4Njt2YXIgTmV2ZXJTdGVuY2lsRnVuYz01MTI7dmFyIExlc3NTdGVuY2lsRnVuYz01MTM7dmFyIEVxdWFsU3RlbmNpbEZ1bmM9NTE0O3ZhciBMZXNzRXF1YWxTdGVuY2lsRnVuYz01MTU7dmFyIEdyZWF0ZXJTdGVuY2lsRnVuYz01MTY7dmFyIE5vdEVxdWFsU3RlbmNpbEZ1bmM9NTE3O3ZhciBHcmVhdGVyRXF1YWxTdGVuY2lsRnVuYz01MTg7dmFyIEFsd2F5c1N0ZW5jaWxGdW5jPTUxOTt2YXIgU3RhdGljRHJhd1VzYWdlPTM1MDQ0O3ZhciBEeW5hbWljRHJhd1VzYWdlPTM1MDQ4O3ZhciBTdHJlYW1EcmF3VXNhZ2U9MzUwNDA7dmFyIFN0YXRpY1JlYWRVc2FnZT0zNTA0NTt2YXIgRHluYW1pY1JlYWRVc2FnZT0zNTA0OTt2YXIgU3RyZWFtUmVhZFVzYWdlPTM1MDQxO3ZhciBTdGF0aWNDb3B5VXNhZ2U9MzUwNDY7dmFyIER5bmFtaWNDb3B5VXNhZ2U9MzUwNTA7dmFyIFN0cmVhbUNvcHlVc2FnZT0zNTA0MjsvKioKICAgKiBodHRwczovL2dpdGh1Yi5jb20vbXJkb29iL2V2ZW50ZGlzcGF0Y2hlci5qcy8KICAgKi9mdW5jdGlvbiBFdmVudERpc3BhdGNoZXIoKXt9T2JqZWN0LmFzc2lnbihFdmVudERpc3BhdGNoZXIucHJvdG90eXBlLHthZGRFdmVudExpc3RlbmVyOmZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXIodHlwZSxsaXN0ZW5lcil7aWYodGhpcy5fbGlzdGVuZXJzPT09dW5kZWZpbmVkKXt0aGlzLl9saXN0ZW5lcnM9e307fXZhciBsaXN0ZW5lcnM9dGhpcy5fbGlzdGVuZXJzO2lmKGxpc3RlbmVyc1t0eXBlXT09PXVuZGVmaW5lZCl7bGlzdGVuZXJzW3R5cGVdPVtdO31pZihsaXN0ZW5lcnNbdHlwZV0uaW5kZXhPZihsaXN0ZW5lcik9PT0tMSl7bGlzdGVuZXJzW3R5cGVdLnB1c2gobGlzdGVuZXIpO319LGhhc0V2ZW50TGlzdGVuZXI6ZnVuY3Rpb24gaGFzRXZlbnRMaXN0ZW5lcih0eXBlLGxpc3RlbmVyKXtpZih0aGlzLl9saXN0ZW5lcnM9PT11bmRlZmluZWQpe3JldHVybiBmYWxzZTt9dmFyIGxpc3RlbmVycz10aGlzLl9saXN0ZW5lcnM7cmV0dXJuIGxpc3RlbmVyc1t0eXBlXSE9PXVuZGVmaW5lZCYmbGlzdGVuZXJzW3R5cGVdLmluZGV4T2YobGlzdGVuZXIpIT09LTE7fSxyZW1vdmVFdmVudExpc3RlbmVyOmZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSxsaXN0ZW5lcil7aWYodGhpcy5fbGlzdGVuZXJzPT09dW5kZWZpbmVkKXtyZXR1cm47fXZhciBsaXN0ZW5lcnM9dGhpcy5fbGlzdGVuZXJzO3ZhciBsaXN0ZW5lckFycmF5PWxpc3RlbmVyc1t0eXBlXTtpZihsaXN0ZW5lckFycmF5IT09dW5kZWZpbmVkKXt2YXIgaW5kZXg9bGlzdGVuZXJBcnJheS5pbmRleE9mKGxpc3RlbmVyKTtpZihpbmRleCE9PS0xKXtsaXN0ZW5lckFycmF5LnNwbGljZShpbmRleCwxKTt9fX0sZGlzcGF0Y2hFdmVudDpmdW5jdGlvbiBkaXNwYXRjaEV2ZW50KGV2ZW50KXtpZih0aGlzLl9saXN0ZW5lcnM9PT11bmRlZmluZWQpe3JldHVybjt9dmFyIGxpc3RlbmVycz10aGlzLl9saXN0ZW5lcnM7dmFyIGxpc3RlbmVyQXJyYXk9bGlzdGVuZXJzW2V2ZW50LnR5cGVdO2lmKGxpc3RlbmVyQXJyYXkhPT11bmRlZmluZWQpe2V2ZW50LnRhcmdldD10aGlzO3ZhciBhcnJheT1saXN0ZW5lckFycmF5LnNsaWNlKDApO2Zvcih2YXIgaT0wLGw9YXJyYXkubGVuZ3RoO2k8bDtpKyspe2FycmF5W2ldLmNhbGwodGhpcyxldmVudCk7fX19fSk7LyoqCiAgICogQGF1dGhvciBhbHRlcmVkcSAvIGh0dHA6Ly9hbHRlcmVkcXVhbGlhLmNvbS8KICAgKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tLwogICAqL3ZhciBfbHV0PVtdO2Zvcih2YXIgaT0wO2k8MjU2O2krKyl7X2x1dFtpXT0oaTwxNj8nMCc6JycpK2kudG9TdHJpbmcoMTYpO312YXIgX01hdGg9e0RFRzJSQUQ6TWF0aC5QSS8xODAsUkFEMkRFRzoxODAvTWF0aC5QSSxnZW5lcmF0ZVVVSUQ6ZnVuY3Rpb24gZ2VuZXJhdGVVVUlEKCl7Ly8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMDUwMzQvaG93LXRvLWNyZWF0ZS1hLWd1aWQtdXVpZC1pbi1qYXZhc2NyaXB0LzIxOTYzMTM2IzIxOTYzMTM2CnZhciBkMD1NYXRoLnJhbmRvbSgpKjB4ZmZmZmZmZmZ8MDt2YXIgZDE9TWF0aC5yYW5kb20oKSoweGZmZmZmZmZmfDA7dmFyIGQyPU1hdGgucmFuZG9tKCkqMHhmZmZmZmZmZnwwO3ZhciBkMz1NYXRoLnJhbmRvbSgpKjB4ZmZmZmZmZmZ8MDt2YXIgdXVpZD1fbHV0W2QwJjB4ZmZdK19sdXRbZDA+PjgmMHhmZl0rX2x1dFtkMD4+MTYmMHhmZl0rX2x1dFtkMD4+MjQmMHhmZl0rJy0nK19sdXRbZDEmMHhmZl0rX2x1dFtkMT4+OCYweGZmXSsnLScrX2x1dFtkMT4+MTYmMHgwZnwweDQwXStfbHV0W2QxPj4yNCYweGZmXSsnLScrX2x1dFtkMiYweDNmfDB4ODBdK19sdXRbZDI+PjgmMHhmZl0rJy0nK19sdXRbZDI+PjE2JjB4ZmZdK19sdXRbZDI+PjI0JjB4ZmZdK19sdXRbZDMmMHhmZl0rX2x1dFtkMz4+OCYweGZmXStfbHV0W2QzPj4xNiYweGZmXStfbHV0W2QzPj4yNCYweGZmXTsvLyAudG9VcHBlckNhc2UoKSBoZXJlIGZsYXR0ZW5zIGNvbmNhdGVuYXRlZCBzdHJpbmdzIHRvIHNhdmUgaGVhcCBtZW1vcnkgc3BhY2UuCnJldHVybiB1dWlkLnRvVXBwZXJDYXNlKCk7fSxjbGFtcDpmdW5jdGlvbiBjbGFtcCh2YWx1ZSxtaW4sbWF4KXtyZXR1cm4gTWF0aC5tYXgobWluLE1hdGgubWluKG1heCx2YWx1ZSkpO30sLy8gY29tcHV0ZSBldWNsaWRpYW4gbW9kdWxvIG9mIG0gJSBuCi8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL01vZHVsb19vcGVyYXRpb24KZXVjbGlkZWFuTW9kdWxvOmZ1bmN0aW9uIGV1Y2xpZGVhbk1vZHVsbyhuLG0pe3JldHVybihuJW0rbSklbTt9LC8vIExpbmVhciBtYXBwaW5nIGZyb20gcmFuZ2UgPGExLCBhMj4gdG8gcmFuZ2UgPGIxLCBiMj4KbWFwTGluZWFyOmZ1bmN0aW9uIG1hcExpbmVhcih4LGExLGEyLGIxLGIyKXtyZXR1cm4gYjErKHgtYTEpKihiMi1iMSkvKGEyLWExKTt9LC8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xpbmVhcl9pbnRlcnBvbGF0aW9uCmxlcnA6ZnVuY3Rpb24gbGVycCh4LHksdCl7cmV0dXJuKDEtdCkqeCt0Knk7fSwvLyBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1Ntb290aHN0ZXAKc21vb3Roc3RlcDpmdW5jdGlvbiBzbW9vdGhzdGVwKHgsbWluLG1heCl7aWYoeDw9bWluKXtyZXR1cm4gMDt9aWYoeD49bWF4KXtyZXR1cm4gMTt9eD0oeC1taW4pLyhtYXgtbWluKTtyZXR1cm4geCp4KigzLTIqeCk7fSxzbW9vdGhlcnN0ZXA6ZnVuY3Rpb24gc21vb3RoZXJzdGVwKHgsbWluLG1heCl7aWYoeDw9bWluKXtyZXR1cm4gMDt9aWYoeD49bWF4KXtyZXR1cm4gMTt9eD0oeC1taW4pLyhtYXgtbWluKTtyZXR1cm4geCp4KngqKHgqKHgqNi0xNSkrMTApO30sLy8gUmFuZG9tIGludGVnZXIgZnJvbSA8bG93LCBoaWdoPiBpbnRlcnZhbApyYW5kSW50OmZ1bmN0aW9uIHJhbmRJbnQobG93LGhpZ2gpe3JldHVybiBsb3crTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKihoaWdoLWxvdysxKSk7fSwvLyBSYW5kb20gZmxvYXQgZnJvbSA8bG93LCBoaWdoPiBpbnRlcnZhbApyYW5kRmxvYXQ6ZnVuY3Rpb24gcmFuZEZsb2F0KGxvdyxoaWdoKXtyZXR1cm4gbG93K01hdGgucmFuZG9tKCkqKGhpZ2gtbG93KTt9LC8vIFJhbmRvbSBmbG9hdCBmcm9tIDwtcmFuZ2UvMiwgcmFuZ2UvMj4gaW50ZXJ2YWwKcmFuZEZsb2F0U3ByZWFkOmZ1bmN0aW9uIHJhbmRGbG9hdFNwcmVhZChyYW5nZSl7cmV0dXJuIHJhbmdlKigwLjUtTWF0aC5yYW5kb20oKSk7fSxkZWdUb1JhZDpmdW5jdGlvbiBkZWdUb1JhZChkZWdyZWVzKXtyZXR1cm4gZGVncmVlcypfTWF0aC5ERUcyUkFEO30scmFkVG9EZWc6ZnVuY3Rpb24gcmFkVG9EZWcocmFkaWFucyl7cmV0dXJuIHJhZGlhbnMqX01hdGguUkFEMkRFRzt9LGlzUG93ZXJPZlR3bzpmdW5jdGlvbiBpc1Bvd2VyT2ZUd28odmFsdWUpe3JldHVybih2YWx1ZSZ2YWx1ZS0xKT09PTAmJnZhbHVlIT09MDt9LGNlaWxQb3dlck9mVHdvOmZ1bmN0aW9uIGNlaWxQb3dlck9mVHdvKHZhbHVlKXtyZXR1cm4gTWF0aC5wb3coMixNYXRoLmNlaWwoTWF0aC5sb2codmFsdWUpL01hdGguTE4yKSk7fSxmbG9vclBvd2VyT2ZUd286ZnVuY3Rpb24gZmxvb3JQb3dlck9mVHdvKHZhbHVlKXtyZXR1cm4gTWF0aC5wb3coMixNYXRoLmZsb29yKE1hdGgubG9nKHZhbHVlKS9NYXRoLkxOMikpO319Oy8qKgogICAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb20vCiAgICogQGF1dGhvciBwaGlsb2diIC8gaHR0cDovL2Jsb2cudGhlaml0Lm9yZy8KICAgKiBAYXV0aG9yIGVncmFldGhlciAvIGh0dHA6Ly9lZ3JhZXRoZXIuY29tLwogICAqIEBhdXRob3Igeno4NSAvIGh0dHA6Ly93d3cubGFiNGdhbWVzLm5ldC96ejg1L2Jsb2cKICAgKi9mdW5jdGlvbiBWZWN0b3IyKHgseSl7dGhpcy54PXh8fDA7dGhpcy55PXl8fDA7fU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFZlY3RvcjIucHJvdG90eXBlLHsid2lkdGgiOntnZXQ6ZnVuY3Rpb24gZ2V0KCl7cmV0dXJuIHRoaXMueDt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe3RoaXMueD12YWx1ZTt9fSwiaGVpZ2h0Ijp7Z2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLnk7fSxzZXQ6ZnVuY3Rpb24gc2V0KHZhbHVlKXt0aGlzLnk9dmFsdWU7fX19KTtPYmplY3QuYXNzaWduKFZlY3RvcjIucHJvdG90eXBlLHtpc1ZlY3RvcjI6dHJ1ZSxzZXQ6ZnVuY3Rpb24gc2V0KHgseSl7dGhpcy54PXg7dGhpcy55PXk7cmV0dXJuIHRoaXM7fSxzZXRTY2FsYXI6ZnVuY3Rpb24gc2V0U2NhbGFyKHNjYWxhcil7dGhpcy54PXNjYWxhcjt0aGlzLnk9c2NhbGFyO3JldHVybiB0aGlzO30sc2V0WDpmdW5jdGlvbiBzZXRYKHgpe3RoaXMueD14O3JldHVybiB0aGlzO30sc2V0WTpmdW5jdGlvbiBzZXRZKHkpe3RoaXMueT15O3JldHVybiB0aGlzO30sc2V0Q29tcG9uZW50OmZ1bmN0aW9uIHNldENvbXBvbmVudChpbmRleCx2YWx1ZSl7c3dpdGNoKGluZGV4KXtjYXNlIDA6dGhpcy54PXZhbHVlO2JyZWFrO2Nhc2UgMTp0aGlzLnk9dmFsdWU7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoJ2luZGV4IGlzIG91dCBvZiByYW5nZTogJytpbmRleCk7fXJldHVybiB0aGlzO30sZ2V0Q29tcG9uZW50OmZ1bmN0aW9uIGdldENvbXBvbmVudChpbmRleCl7c3dpdGNoKGluZGV4KXtjYXNlIDA6cmV0dXJuIHRoaXMueDtjYXNlIDE6cmV0dXJuIHRoaXMueTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcignaW5kZXggaXMgb3V0IG9mIHJhbmdlOiAnK2luZGV4KTt9fSxjbG9uZTpmdW5jdGlvbiBjbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLngsdGhpcy55KTt9LGNvcHk6ZnVuY3Rpb24gY29weSh2KXt0aGlzLng9di54O3RoaXMueT12Lnk7cmV0dXJuIHRoaXM7fSxhZGQ6ZnVuY3Rpb24gYWRkKHYsdyl7aWYodyE9PXVuZGVmaW5lZCl7Y29uc29sZS53YXJuKCdUSFJFRS5WZWN0b3IyOiAuYWRkKCkgbm93IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuIFVzZSAuYWRkVmVjdG9ycyggYSwgYiApIGluc3RlYWQuJyk7cmV0dXJuIHRoaXMuYWRkVmVjdG9ycyh2LHcpO310aGlzLngrPXYueDt0aGlzLnkrPXYueTtyZXR1cm4gdGhpczt9LGFkZFNjYWxhcjpmdW5jdGlvbiBhZGRTY2FsYXIocyl7dGhpcy54Kz1zO3RoaXMueSs9cztyZXR1cm4gdGhpczt9LGFkZFZlY3RvcnM6ZnVuY3Rpb24gYWRkVmVjdG9ycyhhLGIpe3RoaXMueD1hLngrYi54O3RoaXMueT1hLnkrYi55O3JldHVybiB0aGlzO30sYWRkU2NhbGVkVmVjdG9yOmZ1bmN0aW9uIGFkZFNjYWxlZFZlY3Rvcih2LHMpe3RoaXMueCs9di54KnM7dGhpcy55Kz12LnkqcztyZXR1cm4gdGhpczt9LHN1YjpmdW5jdGlvbiBzdWIodix3KXtpZih3IT09dW5kZWZpbmVkKXtjb25zb2xlLndhcm4oJ1RIUkVFLlZlY3RvcjI6IC5zdWIoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5zdWJWZWN0b3JzKCBhLCBiICkgaW5zdGVhZC4nKTtyZXR1cm4gdGhpcy5zdWJWZWN0b3JzKHYsdyk7fXRoaXMueC09di54O3RoaXMueS09di55O3JldHVybiB0aGlzO30sc3ViU2NhbGFyOmZ1bmN0aW9uIHN1YlNjYWxhcihzKXt0aGlzLngtPXM7dGhpcy55LT1zO3JldHVybiB0aGlzO30sc3ViVmVjdG9yczpmdW5jdGlvbiBzdWJWZWN0b3JzKGEsYil7dGhpcy54PWEueC1iLng7dGhpcy55PWEueS1iLnk7cmV0dXJuIHRoaXM7fSxtdWx0aXBseTpmdW5jdGlvbiBtdWx0aXBseSh2KXt0aGlzLngqPXYueDt0aGlzLnkqPXYueTtyZXR1cm4gdGhpczt9LG11bHRpcGx5U2NhbGFyOmZ1bmN0aW9uIG11bHRpcGx5U2NhbGFyKHNjYWxhcil7dGhpcy54Kj1zY2FsYXI7dGhpcy55Kj1zY2FsYXI7cmV0dXJuIHRoaXM7fSxkaXZpZGU6ZnVuY3Rpb24gZGl2aWRlKHYpe3RoaXMueC89di54O3RoaXMueS89di55O3JldHVybiB0aGlzO30sZGl2aWRlU2NhbGFyOmZ1bmN0aW9uIGRpdmlkZVNjYWxhcihzY2FsYXIpe3JldHVybiB0aGlzLm11bHRpcGx5U2NhbGFyKDEvc2NhbGFyKTt9LGFwcGx5TWF0cml4MzpmdW5jdGlvbiBhcHBseU1hdHJpeDMobSl7dmFyIHg9dGhpcy54LHk9dGhpcy55O3ZhciBlPW0uZWxlbWVudHM7dGhpcy54PWVbMF0qeCtlWzNdKnkrZVs2XTt0aGlzLnk9ZVsxXSp4K2VbNF0qeStlWzddO3JldHVybiB0aGlzO30sbWluOmZ1bmN0aW9uIG1pbih2KXt0aGlzLng9TWF0aC5taW4odGhpcy54LHYueCk7dGhpcy55PU1hdGgubWluKHRoaXMueSx2LnkpO3JldHVybiB0aGlzO30sbWF4OmZ1bmN0aW9uIG1heCh2KXt0aGlzLng9TWF0aC5tYXgodGhpcy54LHYueCk7dGhpcy55PU1hdGgubWF4KHRoaXMueSx2LnkpO3JldHVybiB0aGlzO30sY2xhbXA6ZnVuY3Rpb24gY2xhbXAobWluLG1heCl7Ly8gYXNzdW1lcyBtaW4gPCBtYXgsIGNvbXBvbmVudHdpc2UKdGhpcy54PU1hdGgubWF4KG1pbi54LE1hdGgubWluKG1heC54LHRoaXMueCkpO3RoaXMueT1NYXRoLm1heChtaW4ueSxNYXRoLm1pbihtYXgueSx0aGlzLnkpKTtyZXR1cm4gdGhpczt9LGNsYW1wU2NhbGFyOmZ1bmN0aW9uIGNsYW1wU2NhbGFyKG1pblZhbCxtYXhWYWwpe3RoaXMueD1NYXRoLm1heChtaW5WYWwsTWF0aC5taW4obWF4VmFsLHRoaXMueCkpO3RoaXMueT1NYXRoLm1heChtaW5WYWwsTWF0aC5taW4obWF4VmFsLHRoaXMueSkpO3JldHVybiB0aGlzO30sY2xhbXBMZW5ndGg6ZnVuY3Rpb24gY2xhbXBMZW5ndGgobWluLG1heCl7dmFyIGxlbmd0aD10aGlzLmxlbmd0aCgpO3JldHVybiB0aGlzLmRpdmlkZVNjYWxhcihsZW5ndGh8fDEpLm11bHRpcGx5U2NhbGFyKE1hdGgubWF4KG1pbixNYXRoLm1pbihtYXgsbGVuZ3RoKSkpO30sZmxvb3I6ZnVuY3Rpb24gZmxvb3IoKXt0aGlzLng9TWF0aC5mbG9vcih0aGlzLngpO3RoaXMueT1NYXRoLmZsb29yKHRoaXMueSk7cmV0dXJuIHRoaXM7fSxjZWlsOmZ1bmN0aW9uIGNlaWwoKXt0aGlzLng9TWF0aC5jZWlsKHRoaXMueCk7dGhpcy55PU1hdGguY2VpbCh0aGlzLnkpO3JldHVybiB0aGlzO30scm91bmQ6ZnVuY3Rpb24gcm91bmQoKXt0aGlzLng9TWF0aC5yb3VuZCh0aGlzLngpO3RoaXMueT1NYXRoLnJvdW5kKHRoaXMueSk7cmV0dXJuIHRoaXM7fSxyb3VuZFRvWmVybzpmdW5jdGlvbiByb3VuZFRvWmVybygpe3RoaXMueD10aGlzLng8MD9NYXRoLmNlaWwodGhpcy54KTpNYXRoLmZsb29yKHRoaXMueCk7dGhpcy55PXRoaXMueTwwP01hdGguY2VpbCh0aGlzLnkpOk1hdGguZmxvb3IodGhpcy55KTtyZXR1cm4gdGhpczt9LG5lZ2F0ZTpmdW5jdGlvbiBuZWdhdGUoKXt0aGlzLng9LXRoaXMueDt0aGlzLnk9LXRoaXMueTtyZXR1cm4gdGhpczt9LGRvdDpmdW5jdGlvbiBkb3Qodil7cmV0dXJuIHRoaXMueCp2LngrdGhpcy55KnYueTt9LGNyb3NzOmZ1bmN0aW9uIGNyb3NzKHYpe3JldHVybiB0aGlzLngqdi55LXRoaXMueSp2Lng7fSxsZW5ndGhTcTpmdW5jdGlvbiBsZW5ndGhTcSgpe3JldHVybiB0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnk7fSxsZW5ndGg6ZnVuY3Rpb24gbGVuZ3RoKCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnkpO30sbWFuaGF0dGFuTGVuZ3RoOmZ1bmN0aW9uIG1hbmhhdHRhbkxlbmd0aCgpe3JldHVybiBNYXRoLmFicyh0aGlzLngpK01hdGguYWJzKHRoaXMueSk7fSxub3JtYWxpemU6ZnVuY3Rpb24gbm9ybWFsaXplKCl7cmV0dXJuIHRoaXMuZGl2aWRlU2NhbGFyKHRoaXMubGVuZ3RoKCl8fDEpO30sYW5nbGU6ZnVuY3Rpb24gYW5nbGUoKXsvLyBjb21wdXRlcyB0aGUgYW5nbGUgaW4gcmFkaWFucyB3aXRoIHJlc3BlY3QgdG8gdGhlIHBvc2l0aXZlIHgtYXhpcwp2YXIgYW5nbGU9TWF0aC5hdGFuMih0aGlzLnksdGhpcy54KTtpZihhbmdsZTwwKXthbmdsZSs9MipNYXRoLlBJO31yZXR1cm4gYW5nbGU7fSxkaXN0YW5jZVRvOmZ1bmN0aW9uIGRpc3RhbmNlVG8odil7cmV0dXJuIE1hdGguc3FydCh0aGlzLmRpc3RhbmNlVG9TcXVhcmVkKHYpKTt9LGRpc3RhbmNlVG9TcXVhcmVkOmZ1bmN0aW9uIGRpc3RhbmNlVG9TcXVhcmVkKHYpe3ZhciBkeD10aGlzLngtdi54LGR5PXRoaXMueS12Lnk7cmV0dXJuIGR4KmR4K2R5KmR5O30sbWFuaGF0dGFuRGlzdGFuY2VUbzpmdW5jdGlvbiBtYW5oYXR0YW5EaXN0YW5jZVRvKHYpe3JldHVybiBNYXRoLmFicyh0aGlzLngtdi54KStNYXRoLmFicyh0aGlzLnktdi55KTt9LHNldExlbmd0aDpmdW5jdGlvbiBzZXRMZW5ndGgobGVuZ3RoKXtyZXR1cm4gdGhpcy5ub3JtYWxpemUoKS5tdWx0aXBseVNjYWxhcihsZW5ndGgpO30sbGVycDpmdW5jdGlvbiBsZXJwKHYsYWxwaGEpe3RoaXMueCs9KHYueC10aGlzLngpKmFscGhhO3RoaXMueSs9KHYueS10aGlzLnkpKmFscGhhO3JldHVybiB0aGlzO30sbGVycFZlY3RvcnM6ZnVuY3Rpb24gbGVycFZlY3RvcnModjEsdjIsYWxwaGEpe3JldHVybiB0aGlzLnN1YlZlY3RvcnModjIsdjEpLm11bHRpcGx5U2NhbGFyKGFscGhhKS5hZGQodjEpO30sZXF1YWxzOmZ1bmN0aW9uIGVxdWFscyh2KXtyZXR1cm4gdi54PT09dGhpcy54JiZ2Lnk9PT10aGlzLnk7fSxmcm9tQXJyYXk6ZnVuY3Rpb24gZnJvbUFycmF5KGFycmF5LG9mZnNldCl7aWYob2Zmc2V0PT09dW5kZWZpbmVkKXtvZmZzZXQ9MDt9dGhpcy54PWFycmF5W29mZnNldF07dGhpcy55PWFycmF5W29mZnNldCsxXTtyZXR1cm4gdGhpczt9LHRvQXJyYXk6ZnVuY3Rpb24gdG9BcnJheShhcnJheSxvZmZzZXQpe2lmKGFycmF5PT09dW5kZWZpbmVkKXthcnJheT1bXTt9aWYob2Zmc2V0PT09dW5kZWZpbmVkKXtvZmZzZXQ9MDt9YXJyYXlbb2Zmc2V0XT10aGlzLng7YXJyYXlbb2Zmc2V0KzFdPXRoaXMueTtyZXR1cm4gYXJyYXk7fSxmcm9tQnVmZmVyQXR0cmlidXRlOmZ1bmN0aW9uIGZyb21CdWZmZXJBdHRyaWJ1dGUoYXR0cmlidXRlLGluZGV4LG9mZnNldCl7aWYob2Zmc2V0IT09dW5kZWZpbmVkKXtjb25zb2xlLndhcm4oJ1RIUkVFLlZlY3RvcjI6IG9mZnNldCBoYXMgYmVlbiByZW1vdmVkIGZyb20gLmZyb21CdWZmZXJBdHRyaWJ1dGUoKS4nKTt9dGhpcy54PWF0dHJpYnV0ZS5nZXRYKGluZGV4KTt0aGlzLnk9YXR0cmlidXRlLmdldFkoaW5kZXgpO3JldHVybiB0aGlzO30scm90YXRlQXJvdW5kOmZ1bmN0aW9uIHJvdGF0ZUFyb3VuZChjZW50ZXIsYW5nbGUpe3ZhciBjPU1hdGguY29zKGFuZ2xlKSxzPU1hdGguc2luKGFuZ2xlKTt2YXIgeD10aGlzLngtY2VudGVyLng7dmFyIHk9dGhpcy55LWNlbnRlci55O3RoaXMueD14KmMteSpzK2NlbnRlci54O3RoaXMueT14KnMreSpjK2NlbnRlci55O3JldHVybiB0aGlzO319KTsvKioKICAgKiBAYXV0aG9yIG1pa2FlbCBlbXRpbmdlciAvIGh0dHA6Ly9nb21vLnNlLwogICAqIEBhdXRob3IgYWx0ZXJlZHEgLyBodHRwOi8vYWx0ZXJlZHF1YWxpYS5jb20vCiAgICogQGF1dGhvciBXZXN0TGFuZ2xleSAvIGh0dHA6Ly9naXRodWIuY29tL1dlc3RMYW5nbGV5CiAgICogQGF1dGhvciBiaG91c3RvbiAvIGh0dHA6Ly9jbGFyYS5pbwogICAqL2Z1bmN0aW9uIFF1YXRlcm5pb24oeCx5LHosdyl7dGhpcy5feD14fHwwO3RoaXMuX3k9eXx8MDt0aGlzLl96PXp8fDA7dGhpcy5fdz13IT09dW5kZWZpbmVkP3c6MTt9T2JqZWN0LmFzc2lnbihRdWF0ZXJuaW9uLHtzbGVycDpmdW5jdGlvbiBzbGVycChxYSxxYixxbSx0KXtyZXR1cm4gcW0uY29weShxYSkuc2xlcnAocWIsdCk7fSxzbGVycEZsYXQ6ZnVuY3Rpb24gc2xlcnBGbGF0KGRzdCxkc3RPZmZzZXQsc3JjMCxzcmNPZmZzZXQwLHNyYzEsc3JjT2Zmc2V0MSx0KXsvLyBmdXp6LWZyZWUsIGFycmF5LWJhc2VkIFF1YXRlcm5pb24gU0xFUlAgb3BlcmF0aW9uCnZhciB4MD1zcmMwW3NyY09mZnNldDArMF0seTA9c3JjMFtzcmNPZmZzZXQwKzFdLHowPXNyYzBbc3JjT2Zmc2V0MCsyXSx3MD1zcmMwW3NyY09mZnNldDArM10seDE9c3JjMVtzcmNPZmZzZXQxKzBdLHkxPXNyYzFbc3JjT2Zmc2V0MSsxXSx6MT1zcmMxW3NyY09mZnNldDErMl0sdzE9c3JjMVtzcmNPZmZzZXQxKzNdO2lmKHcwIT09dzF8fHgwIT09eDF8fHkwIT09eTF8fHowIT09ejEpe3ZhciBzPTEtdCxjb3M9eDAqeDEreTAqeTErejAqejErdzAqdzEsZGlyPWNvcz49MD8xOi0xLHNxclNpbj0xLWNvcypjb3M7Ly8gU2tpcCB0aGUgU2xlcnAgZm9yIHRpbnkgc3RlcHMgdG8gYXZvaWQgbnVtZXJpYyBwcm9ibGVtczoKaWYoc3FyU2luPk51bWJlci5FUFNJTE9OKXt2YXIgc2luPU1hdGguc3FydChzcXJTaW4pLGxlbj1NYXRoLmF0YW4yKHNpbixjb3MqZGlyKTtzPU1hdGguc2luKHMqbGVuKS9zaW47dD1NYXRoLnNpbih0Kmxlbikvc2luO312YXIgdERpcj10KmRpcjt4MD14MCpzK3gxKnREaXI7eTA9eTAqcyt5MSp0RGlyO3owPXowKnMrejEqdERpcjt3MD13MCpzK3cxKnREaXI7Ly8gTm9ybWFsaXplIGluIGNhc2Ugd2UganVzdCBkaWQgYSBsZXJwOgppZihzPT09MS10KXt2YXIgZj0xL01hdGguc3FydCh4MCp4MCt5MCp5MCt6MCp6MCt3MCp3MCk7eDAqPWY7eTAqPWY7ejAqPWY7dzAqPWY7fX1kc3RbZHN0T2Zmc2V0XT14MDtkc3RbZHN0T2Zmc2V0KzFdPXkwO2RzdFtkc3RPZmZzZXQrMl09ejA7ZHN0W2RzdE9mZnNldCszXT13MDt9fSk7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUXVhdGVybmlvbi5wcm90b3R5cGUse3g6e2dldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5feDt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe3RoaXMuX3g9dmFsdWU7dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO319LHk6e2dldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5feTt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe3RoaXMuX3k9dmFsdWU7dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO319LHo6e2dldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5fejt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe3RoaXMuX3o9dmFsdWU7dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO319LHc6e2dldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5fdzt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe3RoaXMuX3c9dmFsdWU7dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO319fSk7T2JqZWN0LmFzc2lnbihRdWF0ZXJuaW9uLnByb3RvdHlwZSx7aXNRdWF0ZXJuaW9uOnRydWUsc2V0OmZ1bmN0aW9uIHNldCh4LHkseix3KXt0aGlzLl94PXg7dGhpcy5feT15O3RoaXMuX3o9ejt0aGlzLl93PXc7dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO3JldHVybiB0aGlzO30sY2xvbmU6ZnVuY3Rpb24gY2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5feCx0aGlzLl95LHRoaXMuX3osdGhpcy5fdyk7fSxjb3B5OmZ1bmN0aW9uIGNvcHkocXVhdGVybmlvbil7dGhpcy5feD1xdWF0ZXJuaW9uLng7dGhpcy5feT1xdWF0ZXJuaW9uLnk7dGhpcy5fej1xdWF0ZXJuaW9uLno7dGhpcy5fdz1xdWF0ZXJuaW9uLnc7dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO3JldHVybiB0aGlzO30sc2V0RnJvbUV1bGVyOmZ1bmN0aW9uIHNldEZyb21FdWxlcihldWxlcix1cGRhdGUpe2lmKCEoZXVsZXImJmV1bGVyLmlzRXVsZXIpKXt0aHJvdyBuZXcgRXJyb3IoJ1RIUkVFLlF1YXRlcm5pb246IC5zZXRGcm9tRXVsZXIoKSBub3cgZXhwZWN0cyBhbiBFdWxlciByb3RhdGlvbiByYXRoZXIgdGhhbiBhIFZlY3RvcjMgYW5kIG9yZGVyLicpO312YXIgeD1ldWxlci5feCx5PWV1bGVyLl95LHo9ZXVsZXIuX3osb3JkZXI9ZXVsZXIub3JkZXI7Ly8gaHR0cDovL3d3dy5tYXRod29ya3MuY29tL21hdGxhYmNlbnRyYWwvZmlsZWV4Y2hhbmdlLwovLyAJMjA2OTYtZnVuY3Rpb24tdG8tY29udmVydC1iZXR3ZWVuLWRjbS1ldWxlci1hbmdsZXMtcXVhdGVybmlvbnMtYW5kLWV1bGVyLXZlY3RvcnMvCi8vCWNvbnRlbnQvU3BpbkNhbGMubQp2YXIgY29zPU1hdGguY29zO3ZhciBzaW49TWF0aC5zaW47dmFyIGMxPWNvcyh4LzIpO3ZhciBjMj1jb3MoeS8yKTt2YXIgYzM9Y29zKHovMik7dmFyIHMxPXNpbih4LzIpO3ZhciBzMj1zaW4oeS8yKTt2YXIgczM9c2luKHovMik7aWYob3JkZXI9PT0nWFlaJyl7dGhpcy5feD1zMSpjMipjMytjMSpzMipzMzt0aGlzLl95PWMxKnMyKmMzLXMxKmMyKnMzO3RoaXMuX3o9YzEqYzIqczMrczEqczIqYzM7dGhpcy5fdz1jMSpjMipjMy1zMSpzMipzMzt9ZWxzZSBpZihvcmRlcj09PSdZWFonKXt0aGlzLl94PXMxKmMyKmMzK2MxKnMyKnMzO3RoaXMuX3k9YzEqczIqYzMtczEqYzIqczM7dGhpcy5fej1jMSpjMipzMy1zMSpzMipjMzt0aGlzLl93PWMxKmMyKmMzK3MxKnMyKnMzO31lbHNlIGlmKG9yZGVyPT09J1pYWScpe3RoaXMuX3g9czEqYzIqYzMtYzEqczIqczM7dGhpcy5feT1jMSpzMipjMytzMSpjMipzMzt0aGlzLl96PWMxKmMyKnMzK3MxKnMyKmMzO3RoaXMuX3c9YzEqYzIqYzMtczEqczIqczM7fWVsc2UgaWYob3JkZXI9PT0nWllYJyl7dGhpcy5feD1zMSpjMipjMy1jMSpzMipzMzt0aGlzLl95PWMxKnMyKmMzK3MxKmMyKnMzO3RoaXMuX3o9YzEqYzIqczMtczEqczIqYzM7dGhpcy5fdz1jMSpjMipjMytzMSpzMipzMzt9ZWxzZSBpZihvcmRlcj09PSdZWlgnKXt0aGlzLl94PXMxKmMyKmMzK2MxKnMyKnMzO3RoaXMuX3k9YzEqczIqYzMrczEqYzIqczM7dGhpcy5fej1jMSpjMipzMy1zMSpzMipjMzt0aGlzLl93PWMxKmMyKmMzLXMxKnMyKnMzO31lbHNlIGlmKG9yZGVyPT09J1haWScpe3RoaXMuX3g9czEqYzIqYzMtYzEqczIqczM7dGhpcy5feT1jMSpzMipjMy1zMSpjMipzMzt0aGlzLl96PWMxKmMyKnMzK3MxKnMyKmMzO3RoaXMuX3c9YzEqYzIqYzMrczEqczIqczM7fWlmKHVwZGF0ZSE9PWZhbHNlKXt0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7fXJldHVybiB0aGlzO30sc2V0RnJvbUF4aXNBbmdsZTpmdW5jdGlvbiBzZXRGcm9tQXhpc0FuZ2xlKGF4aXMsYW5nbGUpey8vIGh0dHA6Ly93d3cuZXVjbGlkZWFuc3BhY2UuY29tL21hdGhzL2dlb21ldHJ5L3JvdGF0aW9ucy9jb252ZXJzaW9ucy9hbmdsZVRvUXVhdGVybmlvbi9pbmRleC5odG0KLy8gYXNzdW1lcyBheGlzIGlzIG5vcm1hbGl6ZWQKdmFyIGhhbGZBbmdsZT1hbmdsZS8yLHM9TWF0aC5zaW4oaGFsZkFuZ2xlKTt0aGlzLl94PWF4aXMueCpzO3RoaXMuX3k9YXhpcy55KnM7dGhpcy5fej1heGlzLnoqczt0aGlzLl93PU1hdGguY29zKGhhbGZBbmdsZSk7dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO3JldHVybiB0aGlzO30sc2V0RnJvbVJvdGF0aW9uTWF0cml4OmZ1bmN0aW9uIHNldEZyb21Sb3RhdGlvbk1hdHJpeChtKXsvLyBodHRwOi8vd3d3LmV1Y2xpZGVhbnNwYWNlLmNvbS9tYXRocy9nZW9tZXRyeS9yb3RhdGlvbnMvY29udmVyc2lvbnMvbWF0cml4VG9RdWF0ZXJuaW9uL2luZGV4Lmh0bQovLyBhc3N1bWVzIHRoZSB1cHBlciAzeDMgb2YgbSBpcyBhIHB1cmUgcm90YXRpb24gbWF0cml4IChpLmUsIHVuc2NhbGVkKQp2YXIgdGU9bS5lbGVtZW50cyxtMTE9dGVbMF0sbTEyPXRlWzRdLG0xMz10ZVs4XSxtMjE9dGVbMV0sbTIyPXRlWzVdLG0yMz10ZVs5XSxtMzE9dGVbMl0sbTMyPXRlWzZdLG0zMz10ZVsxMF0sdHJhY2U9bTExK20yMittMzMscztpZih0cmFjZT4wKXtzPTAuNS9NYXRoLnNxcnQodHJhY2UrMS4wKTt0aGlzLl93PTAuMjUvczt0aGlzLl94PShtMzItbTIzKSpzO3RoaXMuX3k9KG0xMy1tMzEpKnM7dGhpcy5fej0obTIxLW0xMikqczt9ZWxzZSBpZihtMTE+bTIyJiZtMTE+bTMzKXtzPTIuMCpNYXRoLnNxcnQoMS4wK20xMS1tMjItbTMzKTt0aGlzLl93PShtMzItbTIzKS9zO3RoaXMuX3g9MC4yNSpzO3RoaXMuX3k9KG0xMittMjEpL3M7dGhpcy5fej0obTEzK20zMSkvczt9ZWxzZSBpZihtMjI+bTMzKXtzPTIuMCpNYXRoLnNxcnQoMS4wK20yMi1tMTEtbTMzKTt0aGlzLl93PShtMTMtbTMxKS9zO3RoaXMuX3g9KG0xMittMjEpL3M7dGhpcy5feT0wLjI1KnM7dGhpcy5fej0obTIzK20zMikvczt9ZWxzZXtzPTIuMCpNYXRoLnNxcnQoMS4wK20zMy1tMTEtbTIyKTt0aGlzLl93PShtMjEtbTEyKS9zO3RoaXMuX3g9KG0xMyttMzEpL3M7dGhpcy5feT0obTIzK20zMikvczt0aGlzLl96PTAuMjUqczt9dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO3JldHVybiB0aGlzO30sc2V0RnJvbVVuaXRWZWN0b3JzOmZ1bmN0aW9uIHNldEZyb21Vbml0VmVjdG9ycyh2RnJvbSx2VG8pey8vIGFzc3VtZXMgZGlyZWN0aW9uIHZlY3RvcnMgdkZyb20gYW5kIHZUbyBhcmUgbm9ybWFsaXplZAp2YXIgRVBTPTAuMDAwMDAxO3ZhciByPXZGcm9tLmRvdCh2VG8pKzE7aWYocjxFUFMpe3I9MDtpZihNYXRoLmFicyh2RnJvbS54KT5NYXRoLmFicyh2RnJvbS56KSl7dGhpcy5feD0tdkZyb20ueTt0aGlzLl95PXZGcm9tLng7dGhpcy5fej0wO3RoaXMuX3c9cjt9ZWxzZXt0aGlzLl94PTA7dGhpcy5feT0tdkZyb20uejt0aGlzLl96PXZGcm9tLnk7dGhpcy5fdz1yO319ZWxzZXsvLyBjcm9zc1ZlY3RvcnMoIHZGcm9tLCB2VG8gKTsgLy8gaW5saW5lZCB0byBhdm9pZCBjeWNsaWMgZGVwZW5kZW5jeSBvbiBWZWN0b3IzCnRoaXMuX3g9dkZyb20ueSp2VG8uei12RnJvbS56KnZUby55O3RoaXMuX3k9dkZyb20ueip2VG8ueC12RnJvbS54KnZUby56O3RoaXMuX3o9dkZyb20ueCp2VG8ueS12RnJvbS55KnZUby54O3RoaXMuX3c9cjt9cmV0dXJuIHRoaXMubm9ybWFsaXplKCk7fSxhbmdsZVRvOmZ1bmN0aW9uIGFuZ2xlVG8ocSl7cmV0dXJuIDIqTWF0aC5hY29zKE1hdGguYWJzKF9NYXRoLmNsYW1wKHRoaXMuZG90KHEpLC0xLDEpKSk7fSxyb3RhdGVUb3dhcmRzOmZ1bmN0aW9uIHJvdGF0ZVRvd2FyZHMocSxzdGVwKXt2YXIgYW5nbGU9dGhpcy5hbmdsZVRvKHEpO2lmKGFuZ2xlPT09MCl7cmV0dXJuIHRoaXM7fXZhciB0PU1hdGgubWluKDEsc3RlcC9hbmdsZSk7dGhpcy5zbGVycChxLHQpO3JldHVybiB0aGlzO30saW52ZXJzZTpmdW5jdGlvbiBpbnZlcnNlKCl7Ly8gcXVhdGVybmlvbiBpcyBhc3N1bWVkIHRvIGhhdmUgdW5pdCBsZW5ndGgKcmV0dXJuIHRoaXMuY29uanVnYXRlKCk7fSxjb25qdWdhdGU6ZnVuY3Rpb24gY29uanVnYXRlKCl7dGhpcy5feCo9LTE7dGhpcy5feSo9LTE7dGhpcy5feio9LTE7dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO3JldHVybiB0aGlzO30sZG90OmZ1bmN0aW9uIGRvdCh2KXtyZXR1cm4gdGhpcy5feCp2Ll94K3RoaXMuX3kqdi5feSt0aGlzLl96KnYuX3ordGhpcy5fdyp2Ll93O30sbGVuZ3RoU3E6ZnVuY3Rpb24gbGVuZ3RoU3EoKXtyZXR1cm4gdGhpcy5feCp0aGlzLl94K3RoaXMuX3kqdGhpcy5feSt0aGlzLl96KnRoaXMuX3ordGhpcy5fdyp0aGlzLl93O30sbGVuZ3RoOmZ1bmN0aW9uIGxlbmd0aCgpe3JldHVybiBNYXRoLnNxcnQodGhpcy5feCp0aGlzLl94K3RoaXMuX3kqdGhpcy5feSt0aGlzLl96KnRoaXMuX3ordGhpcy5fdyp0aGlzLl93KTt9LG5vcm1hbGl6ZTpmdW5jdGlvbiBub3JtYWxpemUoKXt2YXIgbD10aGlzLmxlbmd0aCgpO2lmKGw9PT0wKXt0aGlzLl94PTA7dGhpcy5feT0wO3RoaXMuX3o9MDt0aGlzLl93PTE7fWVsc2V7bD0xL2w7dGhpcy5feD10aGlzLl94Kmw7dGhpcy5feT10aGlzLl95Kmw7dGhpcy5fej10aGlzLl96Kmw7dGhpcy5fdz10aGlzLl93Kmw7fXRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKTtyZXR1cm4gdGhpczt9LG11bHRpcGx5OmZ1bmN0aW9uIG11bHRpcGx5KHEscCl7aWYocCE9PXVuZGVmaW5lZCl7Y29uc29sZS53YXJuKCdUSFJFRS5RdWF0ZXJuaW9uOiAubXVsdGlwbHkoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5tdWx0aXBseVF1YXRlcm5pb25zKCBhLCBiICkgaW5zdGVhZC4nKTtyZXR1cm4gdGhpcy5tdWx0aXBseVF1YXRlcm5pb25zKHEscCk7fXJldHVybiB0aGlzLm11bHRpcGx5UXVhdGVybmlvbnModGhpcyxxKTt9LHByZW11bHRpcGx5OmZ1bmN0aW9uIHByZW11bHRpcGx5KHEpe3JldHVybiB0aGlzLm11bHRpcGx5UXVhdGVybmlvbnMocSx0aGlzKTt9LG11bHRpcGx5UXVhdGVybmlvbnM6ZnVuY3Rpb24gbXVsdGlwbHlRdWF0ZXJuaW9ucyhhLGIpey8vIGZyb20gaHR0cDovL3d3dy5ldWNsaWRlYW5zcGFjZS5jb20vbWF0aHMvYWxnZWJyYS9yZWFsTm9ybWVkQWxnZWJyYS9xdWF0ZXJuaW9ucy9jb2RlL2luZGV4Lmh0bQp2YXIgcWF4PWEuX3gscWF5PWEuX3kscWF6PWEuX3oscWF3PWEuX3c7dmFyIHFieD1iLl94LHFieT1iLl95LHFiej1iLl96LHFidz1iLl93O3RoaXMuX3g9cWF4KnFidytxYXcqcWJ4K3FheSpxYnotcWF6KnFieTt0aGlzLl95PXFheSpxYncrcWF3KnFieStxYXoqcWJ4LXFheCpxYno7dGhpcy5fej1xYXoqcWJ3K3FhdypxYnorcWF4KnFieS1xYXkqcWJ4O3RoaXMuX3c9cWF3KnFidy1xYXgqcWJ4LXFheSpxYnktcWF6KnFiejt0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7cmV0dXJuIHRoaXM7fSxzbGVycDpmdW5jdGlvbiBzbGVycChxYix0KXtpZih0PT09MCl7cmV0dXJuIHRoaXM7fWlmKHQ9PT0xKXtyZXR1cm4gdGhpcy5jb3B5KHFiKTt9dmFyIHg9dGhpcy5feCx5PXRoaXMuX3ksej10aGlzLl96LHc9dGhpcy5fdzsvLyBodHRwOi8vd3d3LmV1Y2xpZGVhbnNwYWNlLmNvbS9tYXRocy9hbGdlYnJhL3JlYWxOb3JtZWRBbGdlYnJhL3F1YXRlcm5pb25zL3NsZXJwLwp2YXIgY29zSGFsZlRoZXRhPXcqcWIuX3creCpxYi5feCt5KnFiLl95K3oqcWIuX3o7aWYoY29zSGFsZlRoZXRhPDApe3RoaXMuX3c9LXFiLl93O3RoaXMuX3g9LXFiLl94O3RoaXMuX3k9LXFiLl95O3RoaXMuX3o9LXFiLl96O2Nvc0hhbGZUaGV0YT0tY29zSGFsZlRoZXRhO31lbHNle3RoaXMuY29weShxYik7fWlmKGNvc0hhbGZUaGV0YT49MS4wKXt0aGlzLl93PXc7dGhpcy5feD14O3RoaXMuX3k9eTt0aGlzLl96PXo7cmV0dXJuIHRoaXM7fXZhciBzcXJTaW5IYWxmVGhldGE9MS4wLWNvc0hhbGZUaGV0YSpjb3NIYWxmVGhldGE7aWYoc3FyU2luSGFsZlRoZXRhPD1OdW1iZXIuRVBTSUxPTil7dmFyIHM9MS10O3RoaXMuX3c9cyp3K3QqdGhpcy5fdzt0aGlzLl94PXMqeCt0KnRoaXMuX3g7dGhpcy5feT1zKnkrdCp0aGlzLl95O3RoaXMuX3o9cyp6K3QqdGhpcy5fejt0aGlzLm5vcm1hbGl6ZSgpO3RoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKTtyZXR1cm4gdGhpczt9dmFyIHNpbkhhbGZUaGV0YT1NYXRoLnNxcnQoc3FyU2luSGFsZlRoZXRhKTt2YXIgaGFsZlRoZXRhPU1hdGguYXRhbjIoc2luSGFsZlRoZXRhLGNvc0hhbGZUaGV0YSk7dmFyIHJhdGlvQT1NYXRoLnNpbigoMS10KSpoYWxmVGhldGEpL3NpbkhhbGZUaGV0YSxyYXRpb0I9TWF0aC5zaW4odCpoYWxmVGhldGEpL3NpbkhhbGZUaGV0YTt0aGlzLl93PXcqcmF0aW9BK3RoaXMuX3cqcmF0aW9CO3RoaXMuX3g9eCpyYXRpb0ErdGhpcy5feCpyYXRpb0I7dGhpcy5feT15KnJhdGlvQSt0aGlzLl95KnJhdGlvQjt0aGlzLl96PXoqcmF0aW9BK3RoaXMuX3oqcmF0aW9CO3RoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKTtyZXR1cm4gdGhpczt9LGVxdWFsczpmdW5jdGlvbiBlcXVhbHMocXVhdGVybmlvbil7cmV0dXJuIHF1YXRlcm5pb24uX3g9PT10aGlzLl94JiZxdWF0ZXJuaW9uLl95PT09dGhpcy5feSYmcXVhdGVybmlvbi5fej09PXRoaXMuX3omJnF1YXRlcm5pb24uX3c9PT10aGlzLl93O30sZnJvbUFycmF5OmZ1bmN0aW9uIGZyb21BcnJheShhcnJheSxvZmZzZXQpe2lmKG9mZnNldD09PXVuZGVmaW5lZCl7b2Zmc2V0PTA7fXRoaXMuX3g9YXJyYXlbb2Zmc2V0XTt0aGlzLl95PWFycmF5W29mZnNldCsxXTt0aGlzLl96PWFycmF5W29mZnNldCsyXTt0aGlzLl93PWFycmF5W29mZnNldCszXTt0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7cmV0dXJuIHRoaXM7fSx0b0FycmF5OmZ1bmN0aW9uIHRvQXJyYXkoYXJyYXksb2Zmc2V0KXtpZihhcnJheT09PXVuZGVmaW5lZCl7YXJyYXk9W107fWlmKG9mZnNldD09PXVuZGVmaW5lZCl7b2Zmc2V0PTA7fWFycmF5W29mZnNldF09dGhpcy5feDthcnJheVtvZmZzZXQrMV09dGhpcy5feTthcnJheVtvZmZzZXQrMl09dGhpcy5fejthcnJheVtvZmZzZXQrM109dGhpcy5fdztyZXR1cm4gYXJyYXk7fSxfb25DaGFuZ2U6ZnVuY3Rpb24gX29uQ2hhbmdlKGNhbGxiYWNrKXt0aGlzLl9vbkNoYW5nZUNhbGxiYWNrPWNhbGxiYWNrO3JldHVybiB0aGlzO30sX29uQ2hhbmdlQ2FsbGJhY2s6ZnVuY3Rpb24gX29uQ2hhbmdlQ2FsbGJhY2soKXt9fSk7LyoqCiAgICogQGF1dGhvciBtcmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS8KICAgKiBAYXV0aG9yIGtpbGUgLyBodHRwOi8va2lsZS5zdHJhdmFnYW56YS5vcmcvCiAgICogQGF1dGhvciBwaGlsb2diIC8gaHR0cDovL2Jsb2cudGhlaml0Lm9yZy8KICAgKiBAYXV0aG9yIG1pa2FlbCBlbXRpbmdlciAvIGh0dHA6Ly9nb21vLnNlLwogICAqIEBhdXRob3IgZWdyYWV0aGVyIC8gaHR0cDovL2VncmFldGhlci5jb20vCiAgICogQGF1dGhvciBXZXN0TGFuZ2xleSAvIGh0dHA6Ly9naXRodWIuY29tL1dlc3RMYW5nbGV5CiAgICovdmFyIF92ZWN0b3I9bmV3IFZlY3RvcjMoKTt2YXIgX3F1YXRlcm5pb249bmV3IFF1YXRlcm5pb24oKTtmdW5jdGlvbiBWZWN0b3IzKHgseSx6KXt0aGlzLng9eHx8MDt0aGlzLnk9eXx8MDt0aGlzLno9enx8MDt9T2JqZWN0LmFzc2lnbihWZWN0b3IzLnByb3RvdHlwZSx7aXNWZWN0b3IzOnRydWUsc2V0OmZ1bmN0aW9uIHNldCh4LHkseil7dGhpcy54PXg7dGhpcy55PXk7dGhpcy56PXo7cmV0dXJuIHRoaXM7fSxzZXRTY2FsYXI6ZnVuY3Rpb24gc2V0U2NhbGFyKHNjYWxhcil7dGhpcy54PXNjYWxhcjt0aGlzLnk9c2NhbGFyO3RoaXMuej1zY2FsYXI7cmV0dXJuIHRoaXM7fSxzZXRYOmZ1bmN0aW9uIHNldFgoeCl7dGhpcy54PXg7cmV0dXJuIHRoaXM7fSxzZXRZOmZ1bmN0aW9uIHNldFkoeSl7dGhpcy55PXk7cmV0dXJuIHRoaXM7fSxzZXRaOmZ1bmN0aW9uIHNldFooeil7dGhpcy56PXo7cmV0dXJuIHRoaXM7fSxzZXRDb21wb25lbnQ6ZnVuY3Rpb24gc2V0Q29tcG9uZW50KGluZGV4LHZhbHVlKXtzd2l0Y2goaW5kZXgpe2Nhc2UgMDp0aGlzLng9dmFsdWU7YnJlYWs7Y2FzZSAxOnRoaXMueT12YWx1ZTticmVhaztjYXNlIDI6dGhpcy56PXZhbHVlO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCdpbmRleCBpcyBvdXQgb2YgcmFuZ2U6ICcraW5kZXgpO31yZXR1cm4gdGhpczt9LGdldENvbXBvbmVudDpmdW5jdGlvbiBnZXRDb21wb25lbnQoaW5kZXgpe3N3aXRjaChpbmRleCl7Y2FzZSAwOnJldHVybiB0aGlzLng7Y2FzZSAxOnJldHVybiB0aGlzLnk7Y2FzZSAyOnJldHVybiB0aGlzLno7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoJ2luZGV4IGlzIG91dCBvZiByYW5nZTogJytpbmRleCk7fX0sY2xvbmU6ZnVuY3Rpb24gY2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy54LHRoaXMueSx0aGlzLnopO30sY29weTpmdW5jdGlvbiBjb3B5KHYpe3RoaXMueD12Lng7dGhpcy55PXYueTt0aGlzLno9di56O3JldHVybiB0aGlzO30sYWRkOmZ1bmN0aW9uIGFkZCh2LHcpe2lmKHchPT11bmRlZmluZWQpe2NvbnNvbGUud2FybignVEhSRUUuVmVjdG9yMzogLmFkZCgpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLmFkZFZlY3RvcnMoIGEsIGIgKSBpbnN0ZWFkLicpO3JldHVybiB0aGlzLmFkZFZlY3RvcnModix3KTt9dGhpcy54Kz12Lng7dGhpcy55Kz12Lnk7dGhpcy56Kz12Lno7cmV0dXJuIHRoaXM7fSxhZGRTY2FsYXI6ZnVuY3Rpb24gYWRkU2NhbGFyKHMpe3RoaXMueCs9czt0aGlzLnkrPXM7dGhpcy56Kz1zO3JldHVybiB0aGlzO30sYWRkVmVjdG9yczpmdW5jdGlvbiBhZGRWZWN0b3JzKGEsYil7dGhpcy54PWEueCtiLng7dGhpcy55PWEueStiLnk7dGhpcy56PWEueitiLno7cmV0dXJuIHRoaXM7fSxhZGRTY2FsZWRWZWN0b3I6ZnVuY3Rpb24gYWRkU2NhbGVkVmVjdG9yKHYscyl7dGhpcy54Kz12Lngqczt0aGlzLnkrPXYueSpzO3RoaXMueis9di56KnM7cmV0dXJuIHRoaXM7fSxzdWI6ZnVuY3Rpb24gc3ViKHYsdyl7aWYodyE9PXVuZGVmaW5lZCl7Y29uc29sZS53YXJuKCdUSFJFRS5WZWN0b3IzOiAuc3ViKCkgbm93IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuIFVzZSAuc3ViVmVjdG9ycyggYSwgYiApIGluc3RlYWQuJyk7cmV0dXJuIHRoaXMuc3ViVmVjdG9ycyh2LHcpO310aGlzLngtPXYueDt0aGlzLnktPXYueTt0aGlzLnotPXYuejtyZXR1cm4gdGhpczt9LHN1YlNjYWxhcjpmdW5jdGlvbiBzdWJTY2FsYXIocyl7dGhpcy54LT1zO3RoaXMueS09czt0aGlzLnotPXM7cmV0dXJuIHRoaXM7fSxzdWJWZWN0b3JzOmZ1bmN0aW9uIHN1YlZlY3RvcnMoYSxiKXt0aGlzLng9YS54LWIueDt0aGlzLnk9YS55LWIueTt0aGlzLno9YS56LWIuejtyZXR1cm4gdGhpczt9LG11bHRpcGx5OmZ1bmN0aW9uIG11bHRpcGx5KHYsdyl7aWYodyE9PXVuZGVmaW5lZCl7Y29uc29sZS53YXJuKCdUSFJFRS5WZWN0b3IzOiAubXVsdGlwbHkoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5tdWx0aXBseVZlY3RvcnMoIGEsIGIgKSBpbnN0ZWFkLicpO3JldHVybiB0aGlzLm11bHRpcGx5VmVjdG9ycyh2LHcpO310aGlzLngqPXYueDt0aGlzLnkqPXYueTt0aGlzLnoqPXYuejtyZXR1cm4gdGhpczt9LG11bHRpcGx5U2NhbGFyOmZ1bmN0aW9uIG11bHRpcGx5U2NhbGFyKHNjYWxhcil7dGhpcy54Kj1zY2FsYXI7dGhpcy55Kj1zY2FsYXI7dGhpcy56Kj1zY2FsYXI7cmV0dXJuIHRoaXM7fSxtdWx0aXBseVZlY3RvcnM6ZnVuY3Rpb24gbXVsdGlwbHlWZWN0b3JzKGEsYil7dGhpcy54PWEueCpiLng7dGhpcy55PWEueSpiLnk7dGhpcy56PWEueipiLno7cmV0dXJuIHRoaXM7fSxhcHBseUV1bGVyOmZ1bmN0aW9uIGFwcGx5RXVsZXIoZXVsZXIpe2lmKCEoZXVsZXImJmV1bGVyLmlzRXVsZXIpKXtjb25zb2xlLmVycm9yKCdUSFJFRS5WZWN0b3IzOiAuYXBwbHlFdWxlcigpIG5vdyBleHBlY3RzIGFuIEV1bGVyIHJvdGF0aW9uIHJhdGhlciB0aGFuIGEgVmVjdG9yMyBhbmQgb3JkZXIuJyk7fXJldHVybiB0aGlzLmFwcGx5UXVhdGVybmlvbihfcXVhdGVybmlvbi5zZXRGcm9tRXVsZXIoZXVsZXIpKTt9LGFwcGx5QXhpc0FuZ2xlOmZ1bmN0aW9uIGFwcGx5QXhpc0FuZ2xlKGF4aXMsYW5nbGUpe3JldHVybiB0aGlzLmFwcGx5UXVhdGVybmlvbihfcXVhdGVybmlvbi5zZXRGcm9tQXhpc0FuZ2xlKGF4aXMsYW5nbGUpKTt9LGFwcGx5TWF0cml4MzpmdW5jdGlvbiBhcHBseU1hdHJpeDMobSl7dmFyIHg9dGhpcy54LHk9dGhpcy55LHo9dGhpcy56O3ZhciBlPW0uZWxlbWVudHM7dGhpcy54PWVbMF0qeCtlWzNdKnkrZVs2XSp6O3RoaXMueT1lWzFdKngrZVs0XSp5K2VbN10qejt0aGlzLno9ZVsyXSp4K2VbNV0qeStlWzhdKno7cmV0dXJuIHRoaXM7fSxhcHBseU5vcm1hbE1hdHJpeDpmdW5jdGlvbiBhcHBseU5vcm1hbE1hdHJpeChtKXtyZXR1cm4gdGhpcy5hcHBseU1hdHJpeDMobSkubm9ybWFsaXplKCk7fSxhcHBseU1hdHJpeDQ6ZnVuY3Rpb24gYXBwbHlNYXRyaXg0KG0pe3ZhciB4PXRoaXMueCx5PXRoaXMueSx6PXRoaXMuejt2YXIgZT1tLmVsZW1lbnRzO3ZhciB3PTEvKGVbM10qeCtlWzddKnkrZVsxMV0qeitlWzE1XSk7dGhpcy54PShlWzBdKngrZVs0XSp5K2VbOF0qeitlWzEyXSkqdzt0aGlzLnk9KGVbMV0qeCtlWzVdKnkrZVs5XSp6K2VbMTNdKSp3O3RoaXMuej0oZVsyXSp4K2VbNl0qeStlWzEwXSp6K2VbMTRdKSp3O3JldHVybiB0aGlzO30sYXBwbHlRdWF0ZXJuaW9uOmZ1bmN0aW9uIGFwcGx5UXVhdGVybmlvbihxKXt2YXIgeD10aGlzLngseT10aGlzLnksej10aGlzLno7dmFyIHF4PXEueCxxeT1xLnkscXo9cS56LHF3PXEudzsvLyBjYWxjdWxhdGUgcXVhdCAqIHZlY3Rvcgp2YXIgaXg9cXcqeCtxeSp6LXF6Knk7dmFyIGl5PXF3KnkrcXoqeC1xeCp6O3ZhciBpej1xdyp6K3F4KnktcXkqeDt2YXIgaXc9LXF4KngtcXkqeS1xeip6Oy8vIGNhbGN1bGF0ZSByZXN1bHQgKiBpbnZlcnNlIHF1YXQKdGhpcy54PWl4KnF3K2l3Ki1xeCtpeSotcXotaXoqLXF5O3RoaXMueT1peSpxdytpdyotcXkraXoqLXF4LWl4Ki1xejt0aGlzLno9aXoqcXcraXcqLXF6K2l4Ki1xeS1peSotcXg7cmV0dXJuIHRoaXM7fSxwcm9qZWN0OmZ1bmN0aW9uIHByb2plY3QoY2FtZXJhKXtyZXR1cm4gdGhpcy5hcHBseU1hdHJpeDQoY2FtZXJhLm1hdHJpeFdvcmxkSW52ZXJzZSkuYXBwbHlNYXRyaXg0KGNhbWVyYS5wcm9qZWN0aW9uTWF0cml4KTt9LHVucHJvamVjdDpmdW5jdGlvbiB1bnByb2plY3QoY2FtZXJhKXtyZXR1cm4gdGhpcy5hcHBseU1hdHJpeDQoY2FtZXJhLnByb2plY3Rpb25NYXRyaXhJbnZlcnNlKS5hcHBseU1hdHJpeDQoY2FtZXJhLm1hdHJpeFdvcmxkKTt9LHRyYW5zZm9ybURpcmVjdGlvbjpmdW5jdGlvbiB0cmFuc2Zvcm1EaXJlY3Rpb24obSl7Ly8gaW5wdXQ6IFRIUkVFLk1hdHJpeDQgYWZmaW5lIG1hdHJpeAovLyB2ZWN0b3IgaW50ZXJwcmV0ZWQgYXMgYSBkaXJlY3Rpb24KdmFyIHg9dGhpcy54LHk9dGhpcy55LHo9dGhpcy56O3ZhciBlPW0uZWxlbWVudHM7dGhpcy54PWVbMF0qeCtlWzRdKnkrZVs4XSp6O3RoaXMueT1lWzFdKngrZVs1XSp5K2VbOV0qejt0aGlzLno9ZVsyXSp4K2VbNl0qeStlWzEwXSp6O3JldHVybiB0aGlzLm5vcm1hbGl6ZSgpO30sZGl2aWRlOmZ1bmN0aW9uIGRpdmlkZSh2KXt0aGlzLngvPXYueDt0aGlzLnkvPXYueTt0aGlzLnovPXYuejtyZXR1cm4gdGhpczt9LGRpdmlkZVNjYWxhcjpmdW5jdGlvbiBkaXZpZGVTY2FsYXIoc2NhbGFyKXtyZXR1cm4gdGhpcy5tdWx0aXBseVNjYWxhcigxL3NjYWxhcik7fSxtaW46ZnVuY3Rpb24gbWluKHYpe3RoaXMueD1NYXRoLm1pbih0aGlzLngsdi54KTt0aGlzLnk9TWF0aC5taW4odGhpcy55LHYueSk7dGhpcy56PU1hdGgubWluKHRoaXMueix2LnopO3JldHVybiB0aGlzO30sbWF4OmZ1bmN0aW9uIG1heCh2KXt0aGlzLng9TWF0aC5tYXgodGhpcy54LHYueCk7dGhpcy55PU1hdGgubWF4KHRoaXMueSx2LnkpO3RoaXMuej1NYXRoLm1heCh0aGlzLnosdi56KTtyZXR1cm4gdGhpczt9LGNsYW1wOmZ1bmN0aW9uIGNsYW1wKG1pbixtYXgpey8vIGFzc3VtZXMgbWluIDwgbWF4LCBjb21wb25lbnR3aXNlCnRoaXMueD1NYXRoLm1heChtaW4ueCxNYXRoLm1pbihtYXgueCx0aGlzLngpKTt0aGlzLnk9TWF0aC5tYXgobWluLnksTWF0aC5taW4obWF4LnksdGhpcy55KSk7dGhpcy56PU1hdGgubWF4KG1pbi56LE1hdGgubWluKG1heC56LHRoaXMueikpO3JldHVybiB0aGlzO30sY2xhbXBTY2FsYXI6ZnVuY3Rpb24gY2xhbXBTY2FsYXIobWluVmFsLG1heFZhbCl7dGhpcy54PU1hdGgubWF4KG1pblZhbCxNYXRoLm1pbihtYXhWYWwsdGhpcy54KSk7dGhpcy55PU1hdGgubWF4KG1pblZhbCxNYXRoLm1pbihtYXhWYWwsdGhpcy55KSk7dGhpcy56PU1hdGgubWF4KG1pblZhbCxNYXRoLm1pbihtYXhWYWwsdGhpcy56KSk7cmV0dXJuIHRoaXM7fSxjbGFtcExlbmd0aDpmdW5jdGlvbiBjbGFtcExlbmd0aChtaW4sbWF4KXt2YXIgbGVuZ3RoPXRoaXMubGVuZ3RoKCk7cmV0dXJuIHRoaXMuZGl2aWRlU2NhbGFyKGxlbmd0aHx8MSkubXVsdGlwbHlTY2FsYXIoTWF0aC5tYXgobWluLE1hdGgubWluKG1heCxsZW5ndGgpKSk7fSxmbG9vcjpmdW5jdGlvbiBmbG9vcigpe3RoaXMueD1NYXRoLmZsb29yKHRoaXMueCk7dGhpcy55PU1hdGguZmxvb3IodGhpcy55KTt0aGlzLno9TWF0aC5mbG9vcih0aGlzLnopO3JldHVybiB0aGlzO30sY2VpbDpmdW5jdGlvbiBjZWlsKCl7dGhpcy54PU1hdGguY2VpbCh0aGlzLngpO3RoaXMueT1NYXRoLmNlaWwodGhpcy55KTt0aGlzLno9TWF0aC5jZWlsKHRoaXMueik7cmV0dXJuIHRoaXM7fSxyb3VuZDpmdW5jdGlvbiByb3VuZCgpe3RoaXMueD1NYXRoLnJvdW5kKHRoaXMueCk7dGhpcy55PU1hdGgucm91bmQodGhpcy55KTt0aGlzLno9TWF0aC5yb3VuZCh0aGlzLnopO3JldHVybiB0aGlzO30scm91bmRUb1plcm86ZnVuY3Rpb24gcm91bmRUb1plcm8oKXt0aGlzLng9dGhpcy54PDA/TWF0aC5jZWlsKHRoaXMueCk6TWF0aC5mbG9vcih0aGlzLngpO3RoaXMueT10aGlzLnk8MD9NYXRoLmNlaWwodGhpcy55KTpNYXRoLmZsb29yKHRoaXMueSk7dGhpcy56PXRoaXMuejwwP01hdGguY2VpbCh0aGlzLnopOk1hdGguZmxvb3IodGhpcy56KTtyZXR1cm4gdGhpczt9LG5lZ2F0ZTpmdW5jdGlvbiBuZWdhdGUoKXt0aGlzLng9LXRoaXMueDt0aGlzLnk9LXRoaXMueTt0aGlzLno9LXRoaXMuejtyZXR1cm4gdGhpczt9LGRvdDpmdW5jdGlvbiBkb3Qodil7cmV0dXJuIHRoaXMueCp2LngrdGhpcy55KnYueSt0aGlzLnoqdi56O30sLy8gVE9ETyBsZW5ndGhTcXVhcmVkPwpsZW5ndGhTcTpmdW5jdGlvbiBsZW5ndGhTcSgpe3JldHVybiB0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnkrdGhpcy56KnRoaXMuejt9LGxlbmd0aDpmdW5jdGlvbiBsZW5ndGgoKXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCp0aGlzLngrdGhpcy55KnRoaXMueSt0aGlzLnoqdGhpcy56KTt9LG1hbmhhdHRhbkxlbmd0aDpmdW5jdGlvbiBtYW5oYXR0YW5MZW5ndGgoKXtyZXR1cm4gTWF0aC5hYnModGhpcy54KStNYXRoLmFicyh0aGlzLnkpK01hdGguYWJzKHRoaXMueik7fSxub3JtYWxpemU6ZnVuY3Rpb24gbm9ybWFsaXplKCl7cmV0dXJuIHRoaXMuZGl2aWRlU2NhbGFyKHRoaXMubGVuZ3RoKCl8fDEpO30sc2V0TGVuZ3RoOmZ1bmN0aW9uIHNldExlbmd0aChsZW5ndGgpe3JldHVybiB0aGlzLm5vcm1hbGl6ZSgpLm11bHRpcGx5U2NhbGFyKGxlbmd0aCk7fSxsZXJwOmZ1bmN0aW9uIGxlcnAodixhbHBoYSl7dGhpcy54Kz0odi54LXRoaXMueCkqYWxwaGE7dGhpcy55Kz0odi55LXRoaXMueSkqYWxwaGE7dGhpcy56Kz0odi56LXRoaXMueikqYWxwaGE7cmV0dXJuIHRoaXM7fSxsZXJwVmVjdG9yczpmdW5jdGlvbiBsZXJwVmVjdG9ycyh2MSx2MixhbHBoYSl7cmV0dXJuIHRoaXMuc3ViVmVjdG9ycyh2Mix2MSkubXVsdGlwbHlTY2FsYXIoYWxwaGEpLmFkZCh2MSk7fSxjcm9zczpmdW5jdGlvbiBjcm9zcyh2LHcpe2lmKHchPT11bmRlZmluZWQpe2NvbnNvbGUud2FybignVEhSRUUuVmVjdG9yMzogLmNyb3NzKCkgbm93IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuIFVzZSAuY3Jvc3NWZWN0b3JzKCBhLCBiICkgaW5zdGVhZC4nKTtyZXR1cm4gdGhpcy5jcm9zc1ZlY3RvcnModix3KTt9cmV0dXJuIHRoaXMuY3Jvc3NWZWN0b3JzKHRoaXMsdik7fSxjcm9zc1ZlY3RvcnM6ZnVuY3Rpb24gY3Jvc3NWZWN0b3JzKGEsYil7dmFyIGF4PWEueCxheT1hLnksYXo9YS56O3ZhciBieD1iLngsYnk9Yi55LGJ6PWIuejt0aGlzLng9YXkqYnotYXoqYnk7dGhpcy55PWF6KmJ4LWF4KmJ6O3RoaXMuej1heCpieS1heSpieDtyZXR1cm4gdGhpczt9LHByb2plY3RPblZlY3RvcjpmdW5jdGlvbiBwcm9qZWN0T25WZWN0b3Iodil7Ly8gdiBjYW5ub3QgYmUgdGhlIHplcm8gdgp2YXIgc2NhbGFyPXYuZG90KHRoaXMpL3YubGVuZ3RoU3EoKTtyZXR1cm4gdGhpcy5jb3B5KHYpLm11bHRpcGx5U2NhbGFyKHNjYWxhcik7fSxwcm9qZWN0T25QbGFuZTpmdW5jdGlvbiBwcm9qZWN0T25QbGFuZShwbGFuZU5vcm1hbCl7X3ZlY3Rvci5jb3B5KHRoaXMpLnByb2plY3RPblZlY3RvcihwbGFuZU5vcm1hbCk7cmV0dXJuIHRoaXMuc3ViKF92ZWN0b3IpO30scmVmbGVjdDpmdW5jdGlvbiByZWZsZWN0KG5vcm1hbCl7Ly8gcmVmbGVjdCBpbmNpZGVudCB2ZWN0b3Igb2ZmIHBsYW5lIG9ydGhvZ29uYWwgdG8gbm9ybWFsCi8vIG5vcm1hbCBpcyBhc3N1bWVkIHRvIGhhdmUgdW5pdCBsZW5ndGgKcmV0dXJuIHRoaXMuc3ViKF92ZWN0b3IuY29weShub3JtYWwpLm11bHRpcGx5U2NhbGFyKDIqdGhpcy5kb3Qobm9ybWFsKSkpO30sYW5nbGVUbzpmdW5jdGlvbiBhbmdsZVRvKHYpe3ZhciBkZW5vbWluYXRvcj1NYXRoLnNxcnQodGhpcy5sZW5ndGhTcSgpKnYubGVuZ3RoU3EoKSk7aWYoZGVub21pbmF0b3I9PT0wKXtjb25zb2xlLmVycm9yKCdUSFJFRS5WZWN0b3IzOiBhbmdsZVRvKCkgY2FuXCd0IGhhbmRsZSB6ZXJvIGxlbmd0aCB2ZWN0b3JzLicpO312YXIgdGhldGE9dGhpcy5kb3QodikvZGVub21pbmF0b3I7Ly8gY2xhbXAsIHRvIGhhbmRsZSBudW1lcmljYWwgcHJvYmxlbXMKcmV0dXJuIE1hdGguYWNvcyhfTWF0aC5jbGFtcCh0aGV0YSwtMSwxKSk7fSxkaXN0YW5jZVRvOmZ1bmN0aW9uIGRpc3RhbmNlVG8odil7cmV0dXJuIE1hdGguc3FydCh0aGlzLmRpc3RhbmNlVG9TcXVhcmVkKHYpKTt9LGRpc3RhbmNlVG9TcXVhcmVkOmZ1bmN0aW9uIGRpc3RhbmNlVG9TcXVhcmVkKHYpe3ZhciBkeD10aGlzLngtdi54LGR5PXRoaXMueS12LnksZHo9dGhpcy56LXYuejtyZXR1cm4gZHgqZHgrZHkqZHkrZHoqZHo7fSxtYW5oYXR0YW5EaXN0YW5jZVRvOmZ1bmN0aW9uIG1hbmhhdHRhbkRpc3RhbmNlVG8odil7cmV0dXJuIE1hdGguYWJzKHRoaXMueC12LngpK01hdGguYWJzKHRoaXMueS12LnkpK01hdGguYWJzKHRoaXMuei12LnopO30sc2V0RnJvbVNwaGVyaWNhbDpmdW5jdGlvbiBzZXRGcm9tU3BoZXJpY2FsKHMpe3JldHVybiB0aGlzLnNldEZyb21TcGhlcmljYWxDb29yZHMocy5yYWRpdXMscy5waGkscy50aGV0YSk7fSxzZXRGcm9tU3BoZXJpY2FsQ29vcmRzOmZ1bmN0aW9uIHNldEZyb21TcGhlcmljYWxDb29yZHMocmFkaXVzLHBoaSx0aGV0YSl7dmFyIHNpblBoaVJhZGl1cz1NYXRoLnNpbihwaGkpKnJhZGl1czt0aGlzLng9c2luUGhpUmFkaXVzKk1hdGguc2luKHRoZXRhKTt0aGlzLnk9TWF0aC5jb3MocGhpKSpyYWRpdXM7dGhpcy56PXNpblBoaVJhZGl1cypNYXRoLmNvcyh0aGV0YSk7cmV0dXJuIHRoaXM7fSxzZXRGcm9tQ3lsaW5kcmljYWw6ZnVuY3Rpb24gc2V0RnJvbUN5bGluZHJpY2FsKGMpe3JldHVybiB0aGlzLnNldEZyb21DeWxpbmRyaWNhbENvb3JkcyhjLnJhZGl1cyxjLnRoZXRhLGMueSk7fSxzZXRGcm9tQ3lsaW5kcmljYWxDb29yZHM6ZnVuY3Rpb24gc2V0RnJvbUN5bGluZHJpY2FsQ29vcmRzKHJhZGl1cyx0aGV0YSx5KXt0aGlzLng9cmFkaXVzKk1hdGguc2luKHRoZXRhKTt0aGlzLnk9eTt0aGlzLno9cmFkaXVzKk1hdGguY29zKHRoZXRhKTtyZXR1cm4gdGhpczt9LHNldEZyb21NYXRyaXhQb3NpdGlvbjpmdW5jdGlvbiBzZXRGcm9tTWF0cml4UG9zaXRpb24obSl7dmFyIGU9bS5lbGVtZW50czt0aGlzLng9ZVsxMl07dGhpcy55PWVbMTNdO3RoaXMuej1lWzE0XTtyZXR1cm4gdGhpczt9LHNldEZyb21NYXRyaXhTY2FsZTpmdW5jdGlvbiBzZXRGcm9tTWF0cml4U2NhbGUobSl7dmFyIHN4PXRoaXMuc2V0RnJvbU1hdHJpeENvbHVtbihtLDApLmxlbmd0aCgpO3ZhciBzeT10aGlzLnNldEZyb21NYXRyaXhDb2x1bW4obSwxKS5sZW5ndGgoKTt2YXIgc3o9dGhpcy5zZXRGcm9tTWF0cml4Q29sdW1uKG0sMikubGVuZ3RoKCk7dGhpcy54PXN4O3RoaXMueT1zeTt0aGlzLno9c3o7cmV0dXJuIHRoaXM7fSxzZXRGcm9tTWF0cml4Q29sdW1uOmZ1bmN0aW9uIHNldEZyb21NYXRyaXhDb2x1bW4obSxpbmRleCl7cmV0dXJuIHRoaXMuZnJvbUFycmF5KG0uZWxlbWVudHMsaW5kZXgqNCk7fSxlcXVhbHM6ZnVuY3Rpb24gZXF1YWxzKHYpe3JldHVybiB2Lng9PT10aGlzLngmJnYueT09PXRoaXMueSYmdi56PT09dGhpcy56O30sZnJvbUFycmF5OmZ1bmN0aW9uIGZyb21BcnJheShhcnJheSxvZmZzZXQpe2lmKG9mZnNldD09PXVuZGVmaW5lZCl7b2Zmc2V0PTA7fXRoaXMueD1hcnJheVtvZmZzZXRdO3RoaXMueT1hcnJheVtvZmZzZXQrMV07dGhpcy56PWFycmF5W29mZnNldCsyXTtyZXR1cm4gdGhpczt9LHRvQXJyYXk6ZnVuY3Rpb24gdG9BcnJheShhcnJheSxvZmZzZXQpe2lmKGFycmF5PT09dW5kZWZpbmVkKXthcnJheT1bXTt9aWYob2Zmc2V0PT09dW5kZWZpbmVkKXtvZmZzZXQ9MDt9YXJyYXlbb2Zmc2V0XT10aGlzLng7YXJyYXlbb2Zmc2V0KzFdPXRoaXMueTthcnJheVtvZmZzZXQrMl09dGhpcy56O3JldHVybiBhcnJheTt9LGZyb21CdWZmZXJBdHRyaWJ1dGU6ZnVuY3Rpb24gZnJvbUJ1ZmZlckF0dHJpYnV0ZShhdHRyaWJ1dGUsaW5kZXgsb2Zmc2V0KXtpZihvZmZzZXQhPT11bmRlZmluZWQpe2NvbnNvbGUud2FybignVEhSRUUuVmVjdG9yMzogb2Zmc2V0IGhhcyBiZWVuIHJlbW92ZWQgZnJvbSAuZnJvbUJ1ZmZlckF0dHJpYnV0ZSgpLicpO310aGlzLng9YXR0cmlidXRlLmdldFgoaW5kZXgpO3RoaXMueT1hdHRyaWJ1dGUuZ2V0WShpbmRleCk7dGhpcy56PWF0dHJpYnV0ZS5nZXRaKGluZGV4KTtyZXR1cm4gdGhpczt9fSk7LyoqCiAgICogQGF1dGhvciBhbHRlcmVkcSAvIGh0dHA6Ly9hbHRlcmVkcXVhbGlhLmNvbS8KICAgKiBAYXV0aG9yIFdlc3RMYW5nbGV5IC8gaHR0cDovL2dpdGh1Yi5jb20vV2VzdExhbmdsZXkKICAgKiBAYXV0aG9yIGJob3VzdG9uIC8gaHR0cDovL2NsYXJhLmlvCiAgICogQGF1dGhvciB0c2NodwogICAqL3ZhciBfdmVjdG9yJDE9bmV3IFZlY3RvcjMoKTtmdW5jdGlvbiBNYXRyaXgzKCl7dGhpcy5lbGVtZW50cz1bMSwwLDAsMCwxLDAsMCwwLDFdO2lmKGFyZ3VtZW50cy5sZW5ndGg+MCl7Y29uc29sZS5lcnJvcignVEhSRUUuTWF0cml4MzogdGhlIGNvbnN0cnVjdG9yIG5vIGxvbmdlciByZWFkcyBhcmd1bWVudHMuIHVzZSAuc2V0KCkgaW5zdGVhZC4nKTt9fU9iamVjdC5hc3NpZ24oTWF0cml4My5wcm90b3R5cGUse2lzTWF0cml4Mzp0cnVlLHNldDpmdW5jdGlvbiBzZXQobjExLG4xMixuMTMsbjIxLG4yMixuMjMsbjMxLG4zMixuMzMpe3ZhciB0ZT10aGlzLmVsZW1lbnRzO3RlWzBdPW4xMTt0ZVsxXT1uMjE7dGVbMl09bjMxO3RlWzNdPW4xMjt0ZVs0XT1uMjI7dGVbNV09bjMyO3RlWzZdPW4xMzt0ZVs3XT1uMjM7dGVbOF09bjMzO3JldHVybiB0aGlzO30saWRlbnRpdHk6ZnVuY3Rpb24gaWRlbnRpdHkoKXt0aGlzLnNldCgxLDAsMCwwLDEsMCwwLDAsMSk7cmV0dXJuIHRoaXM7fSxjbG9uZTpmdW5jdGlvbiBjbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmZyb21BcnJheSh0aGlzLmVsZW1lbnRzKTt9LGNvcHk6ZnVuY3Rpb24gY29weShtKXt2YXIgdGU9dGhpcy5lbGVtZW50czt2YXIgbWU9bS5lbGVtZW50czt0ZVswXT1tZVswXTt0ZVsxXT1tZVsxXTt0ZVsyXT1tZVsyXTt0ZVszXT1tZVszXTt0ZVs0XT1tZVs0XTt0ZVs1XT1tZVs1XTt0ZVs2XT1tZVs2XTt0ZVs3XT1tZVs3XTt0ZVs4XT1tZVs4XTtyZXR1cm4gdGhpczt9LHNldEZyb21NYXRyaXg0OmZ1bmN0aW9uIHNldEZyb21NYXRyaXg0KG0pe3ZhciBtZT1tLmVsZW1lbnRzO3RoaXMuc2V0KG1lWzBdLG1lWzRdLG1lWzhdLG1lWzFdLG1lWzVdLG1lWzldLG1lWzJdLG1lWzZdLG1lWzEwXSk7cmV0dXJuIHRoaXM7fSxhcHBseVRvQnVmZmVyQXR0cmlidXRlOmZ1bmN0aW9uIGFwcGx5VG9CdWZmZXJBdHRyaWJ1dGUoYXR0cmlidXRlKXtmb3IodmFyIGk9MCxsPWF0dHJpYnV0ZS5jb3VudDtpPGw7aSsrKXtfdmVjdG9yJDEueD1hdHRyaWJ1dGUuZ2V0WChpKTtfdmVjdG9yJDEueT1hdHRyaWJ1dGUuZ2V0WShpKTtfdmVjdG9yJDEuej1hdHRyaWJ1dGUuZ2V0WihpKTtfdmVjdG9yJDEuYXBwbHlNYXRyaXgzKHRoaXMpO2F0dHJpYnV0ZS5zZXRYWVooaSxfdmVjdG9yJDEueCxfdmVjdG9yJDEueSxfdmVjdG9yJDEueik7fXJldHVybiBhdHRyaWJ1dGU7fSxtdWx0aXBseTpmdW5jdGlvbiBtdWx0aXBseShtKXtyZXR1cm4gdGhpcy5tdWx0aXBseU1hdHJpY2VzKHRoaXMsbSk7fSxwcmVtdWx0aXBseTpmdW5jdGlvbiBwcmVtdWx0aXBseShtKXtyZXR1cm4gdGhpcy5tdWx0aXBseU1hdHJpY2VzKG0sdGhpcyk7fSxtdWx0aXBseU1hdHJpY2VzOmZ1bmN0aW9uIG11bHRpcGx5TWF0cmljZXMoYSxiKXt2YXIgYWU9YS5lbGVtZW50czt2YXIgYmU9Yi5lbGVtZW50czt2YXIgdGU9dGhpcy5lbGVtZW50czt2YXIgYTExPWFlWzBdLGExMj1hZVszXSxhMTM9YWVbNl07dmFyIGEyMT1hZVsxXSxhMjI9YWVbNF0sYTIzPWFlWzddO3ZhciBhMzE9YWVbMl0sYTMyPWFlWzVdLGEzMz1hZVs4XTt2YXIgYjExPWJlWzBdLGIxMj1iZVszXSxiMTM9YmVbNl07dmFyIGIyMT1iZVsxXSxiMjI9YmVbNF0sYjIzPWJlWzddO3ZhciBiMzE9YmVbMl0sYjMyPWJlWzVdLGIzMz1iZVs4XTt0ZVswXT1hMTEqYjExK2ExMipiMjErYTEzKmIzMTt0ZVszXT1hMTEqYjEyK2ExMipiMjIrYTEzKmIzMjt0ZVs2XT1hMTEqYjEzK2ExMipiMjMrYTEzKmIzMzt0ZVsxXT1hMjEqYjExK2EyMipiMjErYTIzKmIzMTt0ZVs0XT1hMjEqYjEyK2EyMipiMjIrYTIzKmIzMjt0ZVs3XT1hMjEqYjEzK2EyMipiMjMrYTIzKmIzMzt0ZVsyXT1hMzEqYjExK2EzMipiMjErYTMzKmIzMTt0ZVs1XT1hMzEqYjEyK2EzMipiMjIrYTMzKmIzMjt0ZVs4XT1hMzEqYjEzK2EzMipiMjMrYTMzKmIzMztyZXR1cm4gdGhpczt9LG11bHRpcGx5U2NhbGFyOmZ1bmN0aW9uIG11bHRpcGx5U2NhbGFyKHMpe3ZhciB0ZT10aGlzLmVsZW1lbnRzO3RlWzBdKj1zO3RlWzNdKj1zO3RlWzZdKj1zO3RlWzFdKj1zO3RlWzRdKj1zO3RlWzddKj1zO3RlWzJdKj1zO3RlWzVdKj1zO3RlWzhdKj1zO3JldHVybiB0aGlzO30sZGV0ZXJtaW5hbnQ6ZnVuY3Rpb24gZGV0ZXJtaW5hbnQoKXt2YXIgdGU9dGhpcy5lbGVtZW50czt2YXIgYT10ZVswXSxiPXRlWzFdLGM9dGVbMl0sZD10ZVszXSxlPXRlWzRdLGY9dGVbNV0sZz10ZVs2XSxoPXRlWzddLGk9dGVbOF07cmV0dXJuIGEqZSppLWEqZipoLWIqZCppK2IqZipnK2MqZCpoLWMqZSpnO30sZ2V0SW52ZXJzZTpmdW5jdGlvbiBnZXRJbnZlcnNlKG1hdHJpeCx0aHJvd09uRGVnZW5lcmF0ZSl7aWYobWF0cml4JiZtYXRyaXguaXNNYXRyaXg0KXtjb25zb2xlLmVycm9yKCJUSFJFRS5NYXRyaXgzOiAuZ2V0SW52ZXJzZSgpIG5vIGxvbmdlciB0YWtlcyBhIE1hdHJpeDQgYXJndW1lbnQuIik7fXZhciBtZT1tYXRyaXguZWxlbWVudHMsdGU9dGhpcy5lbGVtZW50cyxuMTE9bWVbMF0sbjIxPW1lWzFdLG4zMT1tZVsyXSxuMTI9bWVbM10sbjIyPW1lWzRdLG4zMj1tZVs1XSxuMTM9bWVbNl0sbjIzPW1lWzddLG4zMz1tZVs4XSx0MTE9bjMzKm4yMi1uMzIqbjIzLHQxMj1uMzIqbjEzLW4zMypuMTIsdDEzPW4yMypuMTItbjIyKm4xMyxkZXQ9bjExKnQxMStuMjEqdDEyK24zMSp0MTM7aWYoZGV0PT09MCl7dmFyIG1zZz0iVEhSRUUuTWF0cml4MzogLmdldEludmVyc2UoKSBjYW4ndCBpbnZlcnQgbWF0cml4LCBkZXRlcm1pbmFudCBpcyAwIjtpZih0aHJvd09uRGVnZW5lcmF0ZT09PXRydWUpe3Rocm93IG5ldyBFcnJvcihtc2cpO31lbHNle2NvbnNvbGUud2Fybihtc2cpO31yZXR1cm4gdGhpcy5pZGVudGl0eSgpO312YXIgZGV0SW52PTEvZGV0O3RlWzBdPXQxMSpkZXRJbnY7dGVbMV09KG4zMSpuMjMtbjMzKm4yMSkqZGV0SW52O3RlWzJdPShuMzIqbjIxLW4zMSpuMjIpKmRldEludjt0ZVszXT10MTIqZGV0SW52O3RlWzRdPShuMzMqbjExLW4zMSpuMTMpKmRldEludjt0ZVs1XT0objMxKm4xMi1uMzIqbjExKSpkZXRJbnY7dGVbNl09dDEzKmRldEludjt0ZVs3XT0objIxKm4xMy1uMjMqbjExKSpkZXRJbnY7dGVbOF09KG4yMipuMTEtbjIxKm4xMikqZGV0SW52O3JldHVybiB0aGlzO30sdHJhbnNwb3NlOmZ1bmN0aW9uIHRyYW5zcG9zZSgpe3ZhciB0bXAsbT10aGlzLmVsZW1lbnRzO3RtcD1tWzFdO21bMV09bVszXTttWzNdPXRtcDt0bXA9bVsyXTttWzJdPW1bNl07bVs2XT10bXA7dG1wPW1bNV07bVs1XT1tWzddO21bN109dG1wO3JldHVybiB0aGlzO30sZ2V0Tm9ybWFsTWF0cml4OmZ1bmN0aW9uIGdldE5vcm1hbE1hdHJpeChtYXRyaXg0KXtyZXR1cm4gdGhpcy5zZXRGcm9tTWF0cml4NChtYXRyaXg0KS5nZXRJbnZlcnNlKHRoaXMpLnRyYW5zcG9zZSgpO30sdHJhbnNwb3NlSW50b0FycmF5OmZ1bmN0aW9uIHRyYW5zcG9zZUludG9BcnJheShyKXt2YXIgbT10aGlzLmVsZW1lbnRzO3JbMF09bVswXTtyWzFdPW1bM107clsyXT1tWzZdO3JbM109bVsxXTtyWzRdPW1bNF07cls1XT1tWzddO3JbNl09bVsyXTtyWzddPW1bNV07cls4XT1tWzhdO3JldHVybiB0aGlzO30sc2V0VXZUcmFuc2Zvcm06ZnVuY3Rpb24gc2V0VXZUcmFuc2Zvcm0odHgsdHksc3gsc3kscm90YXRpb24sY3gsY3kpe3ZhciBjPU1hdGguY29zKHJvdGF0aW9uKTt2YXIgcz1NYXRoLnNpbihyb3RhdGlvbik7dGhpcy5zZXQoc3gqYyxzeCpzLC1zeCooYypjeCtzKmN5KStjeCt0eCwtc3kqcyxzeSpjLC1zeSooLXMqY3grYypjeSkrY3krdHksMCwwLDEpO30sc2NhbGU6ZnVuY3Rpb24gc2NhbGUoc3gsc3kpe3ZhciB0ZT10aGlzLmVsZW1lbnRzO3RlWzBdKj1zeDt0ZVszXSo9c3g7dGVbNl0qPXN4O3RlWzFdKj1zeTt0ZVs0XSo9c3k7dGVbN10qPXN5O3JldHVybiB0aGlzO30scm90YXRlOmZ1bmN0aW9uIHJvdGF0ZSh0aGV0YSl7dmFyIGM9TWF0aC5jb3ModGhldGEpO3ZhciBzPU1hdGguc2luKHRoZXRhKTt2YXIgdGU9dGhpcy5lbGVtZW50czt2YXIgYTExPXRlWzBdLGExMj10ZVszXSxhMTM9dGVbNl07dmFyIGEyMT10ZVsxXSxhMjI9dGVbNF0sYTIzPXRlWzddO3RlWzBdPWMqYTExK3MqYTIxO3RlWzNdPWMqYTEyK3MqYTIyO3RlWzZdPWMqYTEzK3MqYTIzO3RlWzFdPS1zKmExMStjKmEyMTt0ZVs0XT0tcyphMTIrYyphMjI7dGVbN109LXMqYTEzK2MqYTIzO3JldHVybiB0aGlzO30sdHJhbnNsYXRlOmZ1bmN0aW9uIHRyYW5zbGF0ZSh0eCx0eSl7dmFyIHRlPXRoaXMuZWxlbWVudHM7dGVbMF0rPXR4KnRlWzJdO3RlWzNdKz10eCp0ZVs1XTt0ZVs2XSs9dHgqdGVbOF07dGVbMV0rPXR5KnRlWzJdO3RlWzRdKz10eSp0ZVs1XTt0ZVs3XSs9dHkqdGVbOF07cmV0dXJuIHRoaXM7fSxlcXVhbHM6ZnVuY3Rpb24gZXF1YWxzKG1hdHJpeCl7dmFyIHRlPXRoaXMuZWxlbWVudHM7dmFyIG1lPW1hdHJpeC5lbGVtZW50cztmb3IodmFyIGk9MDtpPDk7aSsrKXtpZih0ZVtpXSE9PW1lW2ldKXtyZXR1cm4gZmFsc2U7fX1yZXR1cm4gdHJ1ZTt9LGZyb21BcnJheTpmdW5jdGlvbiBmcm9tQXJyYXkoYXJyYXksb2Zmc2V0KXtpZihvZmZzZXQ9PT11bmRlZmluZWQpe29mZnNldD0wO31mb3IodmFyIGk9MDtpPDk7aSsrKXt0aGlzLmVsZW1lbnRzW2ldPWFycmF5W2krb2Zmc2V0XTt9cmV0dXJuIHRoaXM7fSx0b0FycmF5OmZ1bmN0aW9uIHRvQXJyYXkoYXJyYXksb2Zmc2V0KXtpZihhcnJheT09PXVuZGVmaW5lZCl7YXJyYXk9W107fWlmKG9mZnNldD09PXVuZGVmaW5lZCl7b2Zmc2V0PTA7fXZhciB0ZT10aGlzLmVsZW1lbnRzO2FycmF5W29mZnNldF09dGVbMF07YXJyYXlbb2Zmc2V0KzFdPXRlWzFdO2FycmF5W29mZnNldCsyXT10ZVsyXTthcnJheVtvZmZzZXQrM109dGVbM107YXJyYXlbb2Zmc2V0KzRdPXRlWzRdO2FycmF5W29mZnNldCs1XT10ZVs1XTthcnJheVtvZmZzZXQrNl09dGVbNl07YXJyYXlbb2Zmc2V0KzddPXRlWzddO2FycmF5W29mZnNldCs4XT10ZVs4XTtyZXR1cm4gYXJyYXk7fX0pOy8qKgogICAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb20vCiAgICogQGF1dGhvciBhbHRlcmVkcSAvIGh0dHA6Ly9hbHRlcmVkcXVhbGlhLmNvbS8KICAgKiBAYXV0aG9yIHN6aW1layAvIGh0dHBzOi8vZ2l0aHViLmNvbS9zemltZWsvCiAgICovdmFyIF9jYW52YXM7dmFyIEltYWdlVXRpbHM9e2dldERhdGFVUkw6ZnVuY3Rpb24gZ2V0RGF0YVVSTChpbWFnZSl7dmFyIGNhbnZhcztpZih0eXBlb2YgSFRNTENhbnZhc0VsZW1lbnQ9PSd1bmRlZmluZWQnKXtyZXR1cm4gaW1hZ2Uuc3JjO31lbHNlIGlmKGltYWdlIGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQpe2NhbnZhcz1pbWFnZTt9ZWxzZXtpZihfY2FudmFzPT09dW5kZWZpbmVkKXtfY2FudmFzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCcsJ2NhbnZhcycpO31fY2FudmFzLndpZHRoPWltYWdlLndpZHRoO19jYW52YXMuaGVpZ2h0PWltYWdlLmhlaWdodDt2YXIgY29udGV4dD1fY2FudmFzLmdldENvbnRleHQoJzJkJyk7aWYoaW1hZ2UgaW5zdGFuY2VvZiBJbWFnZURhdGEpe2NvbnRleHQucHV0SW1hZ2VEYXRhKGltYWdlLDAsMCk7fWVsc2V7Y29udGV4dC5kcmF3SW1hZ2UoaW1hZ2UsMCwwLGltYWdlLndpZHRoLGltYWdlLmhlaWdodCk7fWNhbnZhcz1fY2FudmFzO31pZihjYW52YXMud2lkdGg+MjA0OHx8Y2FudmFzLmhlaWdodD4yMDQ4KXtyZXR1cm4gY2FudmFzLnRvRGF0YVVSTCgnaW1hZ2UvanBlZycsMC42KTt9ZWxzZXtyZXR1cm4gY2FudmFzLnRvRGF0YVVSTCgnaW1hZ2UvcG5nJyk7fX19Oy8qKgogICAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb20vCiAgICogQGF1dGhvciBhbHRlcmVkcSAvIGh0dHA6Ly9hbHRlcmVkcXVhbGlhLmNvbS8KICAgKiBAYXV0aG9yIHN6aW1layAvIGh0dHBzOi8vZ2l0aHViLmNvbS9zemltZWsvCiAgICovdmFyIHRleHR1cmVJZD0wO2Z1bmN0aW9uIFRleHR1cmUoaW1hZ2UsbWFwcGluZyx3cmFwUyx3cmFwVCxtYWdGaWx0ZXIsbWluRmlsdGVyLGZvcm1hdCx0eXBlLGFuaXNvdHJvcHksZW5jb2Rpbmcpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCdpZCcse3ZhbHVlOnRleHR1cmVJZCsrfSk7dGhpcy51dWlkPV9NYXRoLmdlbmVyYXRlVVVJRCgpO3RoaXMubmFtZT0nJzt0aGlzLmltYWdlPWltYWdlIT09dW5kZWZpbmVkP2ltYWdlOlRleHR1cmUuREVGQVVMVF9JTUFHRTt0aGlzLm1pcG1hcHM9W107dGhpcy5tYXBwaW5nPW1hcHBpbmchPT11bmRlZmluZWQ/bWFwcGluZzpUZXh0dXJlLkRFRkFVTFRfTUFQUElORzt0aGlzLndyYXBTPXdyYXBTIT09dW5kZWZpbmVkP3dyYXBTOkNsYW1wVG9FZGdlV3JhcHBpbmc7dGhpcy53cmFwVD13cmFwVCE9PXVuZGVmaW5lZD93cmFwVDpDbGFtcFRvRWRnZVdyYXBwaW5nO3RoaXMubWFnRmlsdGVyPW1hZ0ZpbHRlciE9PXVuZGVmaW5lZD9tYWdGaWx0ZXI6TGluZWFyRmlsdGVyO3RoaXMubWluRmlsdGVyPW1pbkZpbHRlciE9PXVuZGVmaW5lZD9taW5GaWx0ZXI6TGluZWFyTWlwbWFwTGluZWFyRmlsdGVyO3RoaXMuYW5pc290cm9weT1hbmlzb3Ryb3B5IT09dW5kZWZpbmVkP2FuaXNvdHJvcHk6MTt0aGlzLmZvcm1hdD1mb3JtYXQhPT11bmRlZmluZWQ/Zm9ybWF0OlJHQkFGb3JtYXQ7dGhpcy5pbnRlcm5hbEZvcm1hdD1udWxsO3RoaXMudHlwZT10eXBlIT09dW5kZWZpbmVkP3R5cGU6VW5zaWduZWRCeXRlVHlwZTt0aGlzLm9mZnNldD1uZXcgVmVjdG9yMigwLDApO3RoaXMucmVwZWF0PW5ldyBWZWN0b3IyKDEsMSk7dGhpcy5jZW50ZXI9bmV3IFZlY3RvcjIoMCwwKTt0aGlzLnJvdGF0aW9uPTA7dGhpcy5tYXRyaXhBdXRvVXBkYXRlPXRydWU7dGhpcy5tYXRyaXg9bmV3IE1hdHJpeDMoKTt0aGlzLmdlbmVyYXRlTWlwbWFwcz10cnVlO3RoaXMucHJlbXVsdGlwbHlBbHBoYT1mYWxzZTt0aGlzLmZsaXBZPXRydWU7dGhpcy51bnBhY2tBbGlnbm1lbnQ9NDsvLyB2YWxpZCB2YWx1ZXM6IDEsIDIsIDQsIDggKHNlZSBodHRwOi8vd3d3Lmtocm9ub3Mub3JnL29wZW5nbGVzL3Nkay9kb2NzL21hbi94aHRtbC9nbFBpeGVsU3RvcmVpLnhtbCkKLy8gVmFsdWVzIG9mIGVuY29kaW5nICE9PSBUSFJFRS5MaW5lYXJFbmNvZGluZyBvbmx5IHN1cHBvcnRlZCBvbiBtYXAsIGVudk1hcCBhbmQgZW1pc3NpdmVNYXAuCi8vCi8vIEFsc28gY2hhbmdpbmcgdGhlIGVuY29kaW5nIGFmdGVyIGFscmVhZHkgdXNlZCBieSBhIE1hdGVyaWFsIHdpbGwgbm90IGF1dG9tYXRpY2FsbHkgbWFrZSB0aGUgTWF0ZXJpYWwKLy8gdXBkYXRlLiBZb3UgbmVlZCB0byBleHBsaWNpdGx5IGNhbGwgTWF0ZXJpYWwubmVlZHNVcGRhdGUgdG8gdHJpZ2dlciBpdCB0byByZWNvbXBpbGUuCnRoaXMuZW5jb2Rpbmc9ZW5jb2RpbmchPT11bmRlZmluZWQ/ZW5jb2Rpbmc6TGluZWFyRW5jb2Rpbmc7dGhpcy52ZXJzaW9uPTA7dGhpcy5vblVwZGF0ZT1udWxsO31UZXh0dXJlLkRFRkFVTFRfSU1BR0U9dW5kZWZpbmVkO1RleHR1cmUuREVGQVVMVF9NQVBQSU5HPVVWTWFwcGluZztUZXh0dXJlLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoRXZlbnREaXNwYXRjaGVyLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOlRleHR1cmUsaXNUZXh0dXJlOnRydWUsdXBkYXRlTWF0cml4OmZ1bmN0aW9uIHVwZGF0ZU1hdHJpeCgpe3RoaXMubWF0cml4LnNldFV2VHJhbnNmb3JtKHRoaXMub2Zmc2V0LngsdGhpcy5vZmZzZXQueSx0aGlzLnJlcGVhdC54LHRoaXMucmVwZWF0LnksdGhpcy5yb3RhdGlvbix0aGlzLmNlbnRlci54LHRoaXMuY2VudGVyLnkpO30sY2xvbmU6ZnVuY3Rpb24gY2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoKS5jb3B5KHRoaXMpO30sY29weTpmdW5jdGlvbiBjb3B5KHNvdXJjZSl7dGhpcy5uYW1lPXNvdXJjZS5uYW1lO3RoaXMuaW1hZ2U9c291cmNlLmltYWdlO3RoaXMubWlwbWFwcz1zb3VyY2UubWlwbWFwcy5zbGljZSgwKTt0aGlzLm1hcHBpbmc9c291cmNlLm1hcHBpbmc7dGhpcy53cmFwUz1zb3VyY2Uud3JhcFM7dGhpcy53cmFwVD1zb3VyY2Uud3JhcFQ7dGhpcy5tYWdGaWx0ZXI9c291cmNlLm1hZ0ZpbHRlcjt0aGlzLm1pbkZpbHRlcj1zb3VyY2UubWluRmlsdGVyO3RoaXMuYW5pc290cm9weT1zb3VyY2UuYW5pc290cm9weTt0aGlzLmZvcm1hdD1zb3VyY2UuZm9ybWF0O3RoaXMuaW50ZXJuYWxGb3JtYXQ9c291cmNlLmludGVybmFsRm9ybWF0O3RoaXMudHlwZT1zb3VyY2UudHlwZTt0aGlzLm9mZnNldC5jb3B5KHNvdXJjZS5vZmZzZXQpO3RoaXMucmVwZWF0LmNvcHkoc291cmNlLnJlcGVhdCk7dGhpcy5jZW50ZXIuY29weShzb3VyY2UuY2VudGVyKTt0aGlzLnJvdGF0aW9uPXNvdXJjZS5yb3RhdGlvbjt0aGlzLm1hdHJpeEF1dG9VcGRhdGU9c291cmNlLm1hdHJpeEF1dG9VcGRhdGU7dGhpcy5tYXRyaXguY29weShzb3VyY2UubWF0cml4KTt0aGlzLmdlbmVyYXRlTWlwbWFwcz1zb3VyY2UuZ2VuZXJhdGVNaXBtYXBzO3RoaXMucHJlbXVsdGlwbHlBbHBoYT1zb3VyY2UucHJlbXVsdGlwbHlBbHBoYTt0aGlzLmZsaXBZPXNvdXJjZS5mbGlwWTt0aGlzLnVucGFja0FsaWdubWVudD1zb3VyY2UudW5wYWNrQWxpZ25tZW50O3RoaXMuZW5jb2Rpbmc9c291cmNlLmVuY29kaW5nO3JldHVybiB0aGlzO30sdG9KU09OOmZ1bmN0aW9uIHRvSlNPTihtZXRhKXt2YXIgaXNSb290T2JqZWN0PW1ldGE9PT11bmRlZmluZWR8fHR5cGVvZiBtZXRhPT09J3N0cmluZyc7aWYoIWlzUm9vdE9iamVjdCYmbWV0YS50ZXh0dXJlc1t0aGlzLnV1aWRdIT09dW5kZWZpbmVkKXtyZXR1cm4gbWV0YS50ZXh0dXJlc1t0aGlzLnV1aWRdO312YXIgb3V0cHV0PXttZXRhZGF0YTp7dmVyc2lvbjo0LjUsdHlwZTonVGV4dHVyZScsZ2VuZXJhdG9yOidUZXh0dXJlLnRvSlNPTid9LHV1aWQ6dGhpcy51dWlkLG5hbWU6dGhpcy5uYW1lLG1hcHBpbmc6dGhpcy5tYXBwaW5nLHJlcGVhdDpbdGhpcy5yZXBlYXQueCx0aGlzLnJlcGVhdC55XSxvZmZzZXQ6W3RoaXMub2Zmc2V0LngsdGhpcy5vZmZzZXQueV0sY2VudGVyOlt0aGlzLmNlbnRlci54LHRoaXMuY2VudGVyLnldLHJvdGF0aW9uOnRoaXMucm90YXRpb24sd3JhcDpbdGhpcy53cmFwUyx0aGlzLndyYXBUXSxmb3JtYXQ6dGhpcy5mb3JtYXQsdHlwZTp0aGlzLnR5cGUsZW5jb2Rpbmc6dGhpcy5lbmNvZGluZyxtaW5GaWx0ZXI6dGhpcy5taW5GaWx0ZXIsbWFnRmlsdGVyOnRoaXMubWFnRmlsdGVyLGFuaXNvdHJvcHk6dGhpcy5hbmlzb3Ryb3B5LGZsaXBZOnRoaXMuZmxpcFkscHJlbXVsdGlwbHlBbHBoYTp0aGlzLnByZW11bHRpcGx5QWxwaGEsdW5wYWNrQWxpZ25tZW50OnRoaXMudW5wYWNrQWxpZ25tZW50fTtpZih0aGlzLmltYWdlIT09dW5kZWZpbmVkKXsvLyBUT0RPOiBNb3ZlIHRvIFRIUkVFLkltYWdlCnZhciBpbWFnZT10aGlzLmltYWdlO2lmKGltYWdlLnV1aWQ9PT11bmRlZmluZWQpe2ltYWdlLnV1aWQ9X01hdGguZ2VuZXJhdGVVVUlEKCk7Ly8gVUdICn1pZighaXNSb290T2JqZWN0JiZtZXRhLmltYWdlc1tpbWFnZS51dWlkXT09PXVuZGVmaW5lZCl7dmFyIHVybDtpZihBcnJheS5pc0FycmF5KGltYWdlKSl7Ly8gcHJvY2VzcyBhcnJheSBvZiBpbWFnZXMgZS5nLiBDdWJlVGV4dHVyZQp1cmw9W107Zm9yKHZhciBpPTAsbD1pbWFnZS5sZW5ndGg7aTxsO2krKyl7dXJsLnB1c2goSW1hZ2VVdGlscy5nZXREYXRhVVJMKGltYWdlW2ldKSk7fX1lbHNley8vIHByb2Nlc3Mgc2luZ2xlIGltYWdlCnVybD1JbWFnZVV0aWxzLmdldERhdGFVUkwoaW1hZ2UpO31tZXRhLmltYWdlc1tpbWFnZS51dWlkXT17dXVpZDppbWFnZS51dWlkLHVybDp1cmx9O31vdXRwdXQuaW1hZ2U9aW1hZ2UudXVpZDt9aWYoIWlzUm9vdE9iamVjdCl7bWV0YS50ZXh0dXJlc1t0aGlzLnV1aWRdPW91dHB1dDt9cmV0dXJuIG91dHB1dDt9LGRpc3Bvc2U6ZnVuY3Rpb24gZGlzcG9zZSgpe3RoaXMuZGlzcGF0Y2hFdmVudCh7dHlwZTonZGlzcG9zZSd9KTt9LHRyYW5zZm9ybVV2OmZ1bmN0aW9uIHRyYW5zZm9ybVV2KHV2KXtpZih0aGlzLm1hcHBpbmchPT1VVk1hcHBpbmcpe3JldHVybiB1djt9dXYuYXBwbHlNYXRyaXgzKHRoaXMubWF0cml4KTtpZih1di54PDB8fHV2Lng+MSl7c3dpdGNoKHRoaXMud3JhcFMpe2Nhc2UgUmVwZWF0V3JhcHBpbmc6dXYueD11di54LU1hdGguZmxvb3IodXYueCk7YnJlYWs7Y2FzZSBDbGFtcFRvRWRnZVdyYXBwaW5nOnV2Lng9dXYueDwwPzA6MTticmVhaztjYXNlIE1pcnJvcmVkUmVwZWF0V3JhcHBpbmc6aWYoTWF0aC5hYnMoTWF0aC5mbG9vcih1di54KSUyKT09PTEpe3V2Lng9TWF0aC5jZWlsKHV2LngpLXV2Lng7fWVsc2V7dXYueD11di54LU1hdGguZmxvb3IodXYueCk7fWJyZWFrO319aWYodXYueTwwfHx1di55PjEpe3N3aXRjaCh0aGlzLndyYXBUKXtjYXNlIFJlcGVhdFdyYXBwaW5nOnV2Lnk9dXYueS1NYXRoLmZsb29yKHV2LnkpO2JyZWFrO2Nhc2UgQ2xhbXBUb0VkZ2VXcmFwcGluZzp1di55PXV2Lnk8MD8wOjE7YnJlYWs7Y2FzZSBNaXJyb3JlZFJlcGVhdFdyYXBwaW5nOmlmKE1hdGguYWJzKE1hdGguZmxvb3IodXYueSklMik9PT0xKXt1di55PU1hdGguY2VpbCh1di55KS11di55O31lbHNle3V2Lnk9dXYueS1NYXRoLmZsb29yKHV2LnkpO31icmVhazt9fWlmKHRoaXMuZmxpcFkpe3V2Lnk9MS11di55O31yZXR1cm4gdXY7fX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0dXJlLnByb3RvdHlwZSwibmVlZHNVcGRhdGUiLHtzZXQ6ZnVuY3Rpb24gc2V0KHZhbHVlKXtpZih2YWx1ZT09PXRydWUpe3RoaXMudmVyc2lvbisrO319fSk7LyoqCiAgICogQGF1dGhvciBzdXBlcmVnZ2JlcnQgLyBodHRwOi8vd3d3LnBhdWxicnVudC5jby51ay8KICAgKiBAYXV0aG9yIHBoaWxvZ2IgLyBodHRwOi8vYmxvZy50aGVqaXQub3JnLwogICAqIEBhdXRob3IgbWlrYWVsIGVtdGluZ2VyIC8gaHR0cDovL2dvbW8uc2UvCiAgICogQGF1dGhvciBlZ3JhZXRoZXIgLyBodHRwOi8vZWdyYWV0aGVyLmNvbS8KICAgKiBAYXV0aG9yIFdlc3RMYW5nbGV5IC8gaHR0cDovL2dpdGh1Yi5jb20vV2VzdExhbmdsZXkKICAgKi9mdW5jdGlvbiBWZWN0b3I0KHgseSx6LHcpe3RoaXMueD14fHwwO3RoaXMueT15fHwwO3RoaXMuej16fHwwO3RoaXMudz13IT09dW5kZWZpbmVkP3c6MTt9T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoVmVjdG9yNC5wcm90b3R5cGUseyJ3aWR0aCI6e2dldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy56O30sc2V0OmZ1bmN0aW9uIHNldCh2YWx1ZSl7dGhpcy56PXZhbHVlO319LCJoZWlnaHQiOntnZXQ6ZnVuY3Rpb24gZ2V0KCl7cmV0dXJuIHRoaXMudzt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe3RoaXMudz12YWx1ZTt9fX0pO09iamVjdC5hc3NpZ24oVmVjdG9yNC5wcm90b3R5cGUse2lzVmVjdG9yNDp0cnVlLHNldDpmdW5jdGlvbiBzZXQoeCx5LHosdyl7dGhpcy54PXg7dGhpcy55PXk7dGhpcy56PXo7dGhpcy53PXc7cmV0dXJuIHRoaXM7fSxzZXRTY2FsYXI6ZnVuY3Rpb24gc2V0U2NhbGFyKHNjYWxhcil7dGhpcy54PXNjYWxhcjt0aGlzLnk9c2NhbGFyO3RoaXMuej1zY2FsYXI7dGhpcy53PXNjYWxhcjtyZXR1cm4gdGhpczt9LHNldFg6ZnVuY3Rpb24gc2V0WCh4KXt0aGlzLng9eDtyZXR1cm4gdGhpczt9LHNldFk6ZnVuY3Rpb24gc2V0WSh5KXt0aGlzLnk9eTtyZXR1cm4gdGhpczt9LHNldFo6ZnVuY3Rpb24gc2V0Wih6KXt0aGlzLno9ejtyZXR1cm4gdGhpczt9LHNldFc6ZnVuY3Rpb24gc2V0Vyh3KXt0aGlzLnc9dztyZXR1cm4gdGhpczt9LHNldENvbXBvbmVudDpmdW5jdGlvbiBzZXRDb21wb25lbnQoaW5kZXgsdmFsdWUpe3N3aXRjaChpbmRleCl7Y2FzZSAwOnRoaXMueD12YWx1ZTticmVhaztjYXNlIDE6dGhpcy55PXZhbHVlO2JyZWFrO2Nhc2UgMjp0aGlzLno9dmFsdWU7YnJlYWs7Y2FzZSAzOnRoaXMudz12YWx1ZTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcignaW5kZXggaXMgb3V0IG9mIHJhbmdlOiAnK2luZGV4KTt9cmV0dXJuIHRoaXM7fSxnZXRDb21wb25lbnQ6ZnVuY3Rpb24gZ2V0Q29tcG9uZW50KGluZGV4KXtzd2l0Y2goaW5kZXgpe2Nhc2UgMDpyZXR1cm4gdGhpcy54O2Nhc2UgMTpyZXR1cm4gdGhpcy55O2Nhc2UgMjpyZXR1cm4gdGhpcy56O2Nhc2UgMzpyZXR1cm4gdGhpcy53O2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCdpbmRleCBpcyBvdXQgb2YgcmFuZ2U6ICcraW5kZXgpO319LGNsb25lOmZ1bmN0aW9uIGNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMueCx0aGlzLnksdGhpcy56LHRoaXMudyk7fSxjb3B5OmZ1bmN0aW9uIGNvcHkodil7dGhpcy54PXYueDt0aGlzLnk9di55O3RoaXMuej12Lno7dGhpcy53PXYudyE9PXVuZGVmaW5lZD92Lnc6MTtyZXR1cm4gdGhpczt9LGFkZDpmdW5jdGlvbiBhZGQodix3KXtpZih3IT09dW5kZWZpbmVkKXtjb25zb2xlLndhcm4oJ1RIUkVFLlZlY3RvcjQ6IC5hZGQoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5hZGRWZWN0b3JzKCBhLCBiICkgaW5zdGVhZC4nKTtyZXR1cm4gdGhpcy5hZGRWZWN0b3JzKHYsdyk7fXRoaXMueCs9di54O3RoaXMueSs9di55O3RoaXMueis9di56O3RoaXMudys9di53O3JldHVybiB0aGlzO30sYWRkU2NhbGFyOmZ1bmN0aW9uIGFkZFNjYWxhcihzKXt0aGlzLngrPXM7dGhpcy55Kz1zO3RoaXMueis9czt0aGlzLncrPXM7cmV0dXJuIHRoaXM7fSxhZGRWZWN0b3JzOmZ1bmN0aW9uIGFkZFZlY3RvcnMoYSxiKXt0aGlzLng9YS54K2IueDt0aGlzLnk9YS55K2IueTt0aGlzLno9YS56K2Iuejt0aGlzLnc9YS53K2IudztyZXR1cm4gdGhpczt9LGFkZFNjYWxlZFZlY3RvcjpmdW5jdGlvbiBhZGRTY2FsZWRWZWN0b3IodixzKXt0aGlzLngrPXYueCpzO3RoaXMueSs9di55KnM7dGhpcy56Kz12Lnoqczt0aGlzLncrPXYudypzO3JldHVybiB0aGlzO30sc3ViOmZ1bmN0aW9uIHN1Yih2LHcpe2lmKHchPT11bmRlZmluZWQpe2NvbnNvbGUud2FybignVEhSRUUuVmVjdG9yNDogLnN1YigpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLnN1YlZlY3RvcnMoIGEsIGIgKSBpbnN0ZWFkLicpO3JldHVybiB0aGlzLnN1YlZlY3RvcnModix3KTt9dGhpcy54LT12Lng7dGhpcy55LT12Lnk7dGhpcy56LT12Lno7dGhpcy53LT12Lnc7cmV0dXJuIHRoaXM7fSxzdWJTY2FsYXI6ZnVuY3Rpb24gc3ViU2NhbGFyKHMpe3RoaXMueC09czt0aGlzLnktPXM7dGhpcy56LT1zO3RoaXMudy09cztyZXR1cm4gdGhpczt9LHN1YlZlY3RvcnM6ZnVuY3Rpb24gc3ViVmVjdG9ycyhhLGIpe3RoaXMueD1hLngtYi54O3RoaXMueT1hLnktYi55O3RoaXMuej1hLnotYi56O3RoaXMudz1hLnctYi53O3JldHVybiB0aGlzO30sbXVsdGlwbHlTY2FsYXI6ZnVuY3Rpb24gbXVsdGlwbHlTY2FsYXIoc2NhbGFyKXt0aGlzLngqPXNjYWxhcjt0aGlzLnkqPXNjYWxhcjt0aGlzLnoqPXNjYWxhcjt0aGlzLncqPXNjYWxhcjtyZXR1cm4gdGhpczt9LGFwcGx5TWF0cml4NDpmdW5jdGlvbiBhcHBseU1hdHJpeDQobSl7dmFyIHg9dGhpcy54LHk9dGhpcy55LHo9dGhpcy56LHc9dGhpcy53O3ZhciBlPW0uZWxlbWVudHM7dGhpcy54PWVbMF0qeCtlWzRdKnkrZVs4XSp6K2VbMTJdKnc7dGhpcy55PWVbMV0qeCtlWzVdKnkrZVs5XSp6K2VbMTNdKnc7dGhpcy56PWVbMl0qeCtlWzZdKnkrZVsxMF0qeitlWzE0XSp3O3RoaXMudz1lWzNdKngrZVs3XSp5K2VbMTFdKnorZVsxNV0qdztyZXR1cm4gdGhpczt9LGRpdmlkZVNjYWxhcjpmdW5jdGlvbiBkaXZpZGVTY2FsYXIoc2NhbGFyKXtyZXR1cm4gdGhpcy5tdWx0aXBseVNjYWxhcigxL3NjYWxhcik7fSxzZXRBeGlzQW5nbGVGcm9tUXVhdGVybmlvbjpmdW5jdGlvbiBzZXRBeGlzQW5nbGVGcm9tUXVhdGVybmlvbihxKXsvLyBodHRwOi8vd3d3LmV1Y2xpZGVhbnNwYWNlLmNvbS9tYXRocy9nZW9tZXRyeS9yb3RhdGlvbnMvY29udmVyc2lvbnMvcXVhdGVybmlvblRvQW5nbGUvaW5kZXguaHRtCi8vIHEgaXMgYXNzdW1lZCB0byBiZSBub3JtYWxpemVkCnRoaXMudz0yKk1hdGguYWNvcyhxLncpO3ZhciBzPU1hdGguc3FydCgxLXEudypxLncpO2lmKHM8MC4wMDAxKXt0aGlzLng9MTt0aGlzLnk9MDt0aGlzLno9MDt9ZWxzZXt0aGlzLng9cS54L3M7dGhpcy55PXEueS9zO3RoaXMuej1xLnovczt9cmV0dXJuIHRoaXM7fSxzZXRBeGlzQW5nbGVGcm9tUm90YXRpb25NYXRyaXg6ZnVuY3Rpb24gc2V0QXhpc0FuZ2xlRnJvbVJvdGF0aW9uTWF0cml4KG0pey8vIGh0dHA6Ly93d3cuZXVjbGlkZWFuc3BhY2UuY29tL21hdGhzL2dlb21ldHJ5L3JvdGF0aW9ucy9jb252ZXJzaW9ucy9tYXRyaXhUb0FuZ2xlL2luZGV4Lmh0bQovLyBhc3N1bWVzIHRoZSB1cHBlciAzeDMgb2YgbSBpcyBhIHB1cmUgcm90YXRpb24gbWF0cml4IChpLmUsIHVuc2NhbGVkKQp2YXIgYW5nbGUseCx5LHosLy8gdmFyaWFibGVzIGZvciByZXN1bHQKZXBzaWxvbj0wLjAxLC8vIG1hcmdpbiB0byBhbGxvdyBmb3Igcm91bmRpbmcgZXJyb3JzCmVwc2lsb24yPTAuMSwvLyBtYXJnaW4gdG8gZGlzdGluZ3Vpc2ggYmV0d2VlbiAwIGFuZCAxODAgZGVncmVlcwp0ZT1tLmVsZW1lbnRzLG0xMT10ZVswXSxtMTI9dGVbNF0sbTEzPXRlWzhdLG0yMT10ZVsxXSxtMjI9dGVbNV0sbTIzPXRlWzldLG0zMT10ZVsyXSxtMzI9dGVbNl0sbTMzPXRlWzEwXTtpZihNYXRoLmFicyhtMTItbTIxKTxlcHNpbG9uJiZNYXRoLmFicyhtMTMtbTMxKTxlcHNpbG9uJiZNYXRoLmFicyhtMjMtbTMyKTxlcHNpbG9uKXsvLyBzaW5ndWxhcml0eSBmb3VuZAovLyBmaXJzdCBjaGVjayBmb3IgaWRlbnRpdHkgbWF0cml4IHdoaWNoIG11c3QgaGF2ZSArMSBmb3IgYWxsIHRlcm1zCi8vIGluIGxlYWRpbmcgZGlhZ29uYWwgYW5kIHplcm8gaW4gb3RoZXIgdGVybXMKaWYoTWF0aC5hYnMobTEyK20yMSk8ZXBzaWxvbjImJk1hdGguYWJzKG0xMyttMzEpPGVwc2lsb24yJiZNYXRoLmFicyhtMjMrbTMyKTxlcHNpbG9uMiYmTWF0aC5hYnMobTExK20yMittMzMtMyk8ZXBzaWxvbjIpey8vIHRoaXMgc2luZ3VsYXJpdHkgaXMgaWRlbnRpdHkgbWF0cml4IHNvIGFuZ2xlID0gMAp0aGlzLnNldCgxLDAsMCwwKTtyZXR1cm4gdGhpczsvLyB6ZXJvIGFuZ2xlLCBhcmJpdHJhcnkgYXhpcwp9Ly8gb3RoZXJ3aXNlIHRoaXMgc2luZ3VsYXJpdHkgaXMgYW5nbGUgPSAxODAKYW5nbGU9TWF0aC5QSTt2YXIgeHg9KG0xMSsxKS8yO3ZhciB5eT0obTIyKzEpLzI7dmFyIHp6PShtMzMrMSkvMjt2YXIgeHk9KG0xMittMjEpLzQ7dmFyIHh6PShtMTMrbTMxKS80O3ZhciB5ej0obTIzK20zMikvNDtpZih4eD55eSYmeHg+enopey8vIG0xMSBpcyB0aGUgbGFyZ2VzdCBkaWFnb25hbCB0ZXJtCmlmKHh4PGVwc2lsb24pe3g9MDt5PTAuNzA3MTA2NzgxO3o9MC43MDcxMDY3ODE7fWVsc2V7eD1NYXRoLnNxcnQoeHgpO3k9eHkveDt6PXh6L3g7fX1lbHNlIGlmKHl5Pnp6KXsvLyBtMjIgaXMgdGhlIGxhcmdlc3QgZGlhZ29uYWwgdGVybQppZih5eTxlcHNpbG9uKXt4PTAuNzA3MTA2NzgxO3k9MDt6PTAuNzA3MTA2NzgxO31lbHNle3k9TWF0aC5zcXJ0KHl5KTt4PXh5L3k7ej15ei95O319ZWxzZXsvLyBtMzMgaXMgdGhlIGxhcmdlc3QgZGlhZ29uYWwgdGVybSBzbyBiYXNlIHJlc3VsdCBvbiB0aGlzCmlmKHp6PGVwc2lsb24pe3g9MC43MDcxMDY3ODE7eT0wLjcwNzEwNjc4MTt6PTA7fWVsc2V7ej1NYXRoLnNxcnQoenopO3g9eHovejt5PXl6L3o7fX10aGlzLnNldCh4LHkseixhbmdsZSk7cmV0dXJuIHRoaXM7Ly8gcmV0dXJuIDE4MCBkZWcgcm90YXRpb24KfS8vIGFzIHdlIGhhdmUgcmVhY2hlZCBoZXJlIHRoZXJlIGFyZSBubyBzaW5ndWxhcml0aWVzIHNvIHdlIGNhbiBoYW5kbGUgbm9ybWFsbHkKdmFyIHM9TWF0aC5zcXJ0KChtMzItbTIzKSoobTMyLW0yMykrKG0xMy1tMzEpKihtMTMtbTMxKSsobTIxLW0xMikqKG0yMS1tMTIpKTsvLyB1c2VkIHRvIG5vcm1hbGl6ZQppZihNYXRoLmFicyhzKTwwLjAwMSl7cz0xO30vLyBwcmV2ZW50IGRpdmlkZSBieSB6ZXJvLCBzaG91bGQgbm90IGhhcHBlbiBpZiBtYXRyaXggaXMgb3J0aG9nb25hbCBhbmQgc2hvdWxkIGJlCi8vIGNhdWdodCBieSBzaW5ndWxhcml0eSB0ZXN0IGFib3ZlLCBidXQgSSd2ZSBsZWZ0IGl0IGluIGp1c3QgaW4gY2FzZQp0aGlzLng9KG0zMi1tMjMpL3M7dGhpcy55PShtMTMtbTMxKS9zO3RoaXMuej0obTIxLW0xMikvczt0aGlzLnc9TWF0aC5hY29zKChtMTErbTIyK20zMy0xKS8yKTtyZXR1cm4gdGhpczt9LG1pbjpmdW5jdGlvbiBtaW4odil7dGhpcy54PU1hdGgubWluKHRoaXMueCx2LngpO3RoaXMueT1NYXRoLm1pbih0aGlzLnksdi55KTt0aGlzLno9TWF0aC5taW4odGhpcy56LHYueik7dGhpcy53PU1hdGgubWluKHRoaXMudyx2LncpO3JldHVybiB0aGlzO30sbWF4OmZ1bmN0aW9uIG1heCh2KXt0aGlzLng9TWF0aC5tYXgodGhpcy54LHYueCk7dGhpcy55PU1hdGgubWF4KHRoaXMueSx2LnkpO3RoaXMuej1NYXRoLm1heCh0aGlzLnosdi56KTt0aGlzLnc9TWF0aC5tYXgodGhpcy53LHYudyk7cmV0dXJuIHRoaXM7fSxjbGFtcDpmdW5jdGlvbiBjbGFtcChtaW4sbWF4KXsvLyBhc3N1bWVzIG1pbiA8IG1heCwgY29tcG9uZW50d2lzZQp0aGlzLng9TWF0aC5tYXgobWluLngsTWF0aC5taW4obWF4LngsdGhpcy54KSk7dGhpcy55PU1hdGgubWF4KG1pbi55LE1hdGgubWluKG1heC55LHRoaXMueSkpO3RoaXMuej1NYXRoLm1heChtaW4ueixNYXRoLm1pbihtYXgueix0aGlzLnopKTt0aGlzLnc9TWF0aC5tYXgobWluLncsTWF0aC5taW4obWF4LncsdGhpcy53KSk7cmV0dXJuIHRoaXM7fSxjbGFtcFNjYWxhcjpmdW5jdGlvbiBjbGFtcFNjYWxhcihtaW5WYWwsbWF4VmFsKXt0aGlzLng9TWF0aC5tYXgobWluVmFsLE1hdGgubWluKG1heFZhbCx0aGlzLngpKTt0aGlzLnk9TWF0aC5tYXgobWluVmFsLE1hdGgubWluKG1heFZhbCx0aGlzLnkpKTt0aGlzLno9TWF0aC5tYXgobWluVmFsLE1hdGgubWluKG1heFZhbCx0aGlzLnopKTt0aGlzLnc9TWF0aC5tYXgobWluVmFsLE1hdGgubWluKG1heFZhbCx0aGlzLncpKTtyZXR1cm4gdGhpczt9LGNsYW1wTGVuZ3RoOmZ1bmN0aW9uIGNsYW1wTGVuZ3RoKG1pbixtYXgpe3ZhciBsZW5ndGg9dGhpcy5sZW5ndGgoKTtyZXR1cm4gdGhpcy5kaXZpZGVTY2FsYXIobGVuZ3RofHwxKS5tdWx0aXBseVNjYWxhcihNYXRoLm1heChtaW4sTWF0aC5taW4obWF4LGxlbmd0aCkpKTt9LGZsb29yOmZ1bmN0aW9uIGZsb29yKCl7dGhpcy54PU1hdGguZmxvb3IodGhpcy54KTt0aGlzLnk9TWF0aC5mbG9vcih0aGlzLnkpO3RoaXMuej1NYXRoLmZsb29yKHRoaXMueik7dGhpcy53PU1hdGguZmxvb3IodGhpcy53KTtyZXR1cm4gdGhpczt9LGNlaWw6ZnVuY3Rpb24gY2VpbCgpe3RoaXMueD1NYXRoLmNlaWwodGhpcy54KTt0aGlzLnk9TWF0aC5jZWlsKHRoaXMueSk7dGhpcy56PU1hdGguY2VpbCh0aGlzLnopO3RoaXMudz1NYXRoLmNlaWwodGhpcy53KTtyZXR1cm4gdGhpczt9LHJvdW5kOmZ1bmN0aW9uIHJvdW5kKCl7dGhpcy54PU1hdGgucm91bmQodGhpcy54KTt0aGlzLnk9TWF0aC5yb3VuZCh0aGlzLnkpO3RoaXMuej1NYXRoLnJvdW5kKHRoaXMueik7dGhpcy53PU1hdGgucm91bmQodGhpcy53KTtyZXR1cm4gdGhpczt9LHJvdW5kVG9aZXJvOmZ1bmN0aW9uIHJvdW5kVG9aZXJvKCl7dGhpcy54PXRoaXMueDwwP01hdGguY2VpbCh0aGlzLngpOk1hdGguZmxvb3IodGhpcy54KTt0aGlzLnk9dGhpcy55PDA/TWF0aC5jZWlsKHRoaXMueSk6TWF0aC5mbG9vcih0aGlzLnkpO3RoaXMuej10aGlzLno8MD9NYXRoLmNlaWwodGhpcy56KTpNYXRoLmZsb29yKHRoaXMueik7dGhpcy53PXRoaXMudzwwP01hdGguY2VpbCh0aGlzLncpOk1hdGguZmxvb3IodGhpcy53KTtyZXR1cm4gdGhpczt9LG5lZ2F0ZTpmdW5jdGlvbiBuZWdhdGUoKXt0aGlzLng9LXRoaXMueDt0aGlzLnk9LXRoaXMueTt0aGlzLno9LXRoaXMuejt0aGlzLnc9LXRoaXMudztyZXR1cm4gdGhpczt9LGRvdDpmdW5jdGlvbiBkb3Qodil7cmV0dXJuIHRoaXMueCp2LngrdGhpcy55KnYueSt0aGlzLnoqdi56K3RoaXMudyp2Lnc7fSxsZW5ndGhTcTpmdW5jdGlvbiBsZW5ndGhTcSgpe3JldHVybiB0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnkrdGhpcy56KnRoaXMueit0aGlzLncqdGhpcy53O30sbGVuZ3RoOmZ1bmN0aW9uIGxlbmd0aCgpe3JldHVybiBNYXRoLnNxcnQodGhpcy54KnRoaXMueCt0aGlzLnkqdGhpcy55K3RoaXMueip0aGlzLnordGhpcy53KnRoaXMudyk7fSxtYW5oYXR0YW5MZW5ndGg6ZnVuY3Rpb24gbWFuaGF0dGFuTGVuZ3RoKCl7cmV0dXJuIE1hdGguYWJzKHRoaXMueCkrTWF0aC5hYnModGhpcy55KStNYXRoLmFicyh0aGlzLnopK01hdGguYWJzKHRoaXMudyk7fSxub3JtYWxpemU6ZnVuY3Rpb24gbm9ybWFsaXplKCl7cmV0dXJuIHRoaXMuZGl2aWRlU2NhbGFyKHRoaXMubGVuZ3RoKCl8fDEpO30sc2V0TGVuZ3RoOmZ1bmN0aW9uIHNldExlbmd0aChsZW5ndGgpe3JldHVybiB0aGlzLm5vcm1hbGl6ZSgpLm11bHRpcGx5U2NhbGFyKGxlbmd0aCk7fSxsZXJwOmZ1bmN0aW9uIGxlcnAodixhbHBoYSl7dGhpcy54Kz0odi54LXRoaXMueCkqYWxwaGE7dGhpcy55Kz0odi55LXRoaXMueSkqYWxwaGE7dGhpcy56Kz0odi56LXRoaXMueikqYWxwaGE7dGhpcy53Kz0odi53LXRoaXMudykqYWxwaGE7cmV0dXJuIHRoaXM7fSxsZXJwVmVjdG9yczpmdW5jdGlvbiBsZXJwVmVjdG9ycyh2MSx2MixhbHBoYSl7cmV0dXJuIHRoaXMuc3ViVmVjdG9ycyh2Mix2MSkubXVsdGlwbHlTY2FsYXIoYWxwaGEpLmFkZCh2MSk7fSxlcXVhbHM6ZnVuY3Rpb24gZXF1YWxzKHYpe3JldHVybiB2Lng9PT10aGlzLngmJnYueT09PXRoaXMueSYmdi56PT09dGhpcy56JiZ2Lnc9PT10aGlzLnc7fSxmcm9tQXJyYXk6ZnVuY3Rpb24gZnJvbUFycmF5KGFycmF5LG9mZnNldCl7aWYob2Zmc2V0PT09dW5kZWZpbmVkKXtvZmZzZXQ9MDt9dGhpcy54PWFycmF5W29mZnNldF07dGhpcy55PWFycmF5W29mZnNldCsxXTt0aGlzLno9YXJyYXlbb2Zmc2V0KzJdO3RoaXMudz1hcnJheVtvZmZzZXQrM107cmV0dXJuIHRoaXM7fSx0b0FycmF5OmZ1bmN0aW9uIHRvQXJyYXkoYXJyYXksb2Zmc2V0KXtpZihhcnJheT09PXVuZGVmaW5lZCl7YXJyYXk9W107fWlmKG9mZnNldD09PXVuZGVmaW5lZCl7b2Zmc2V0PTA7fWFycmF5W29mZnNldF09dGhpcy54O2FycmF5W29mZnNldCsxXT10aGlzLnk7YXJyYXlbb2Zmc2V0KzJdPXRoaXMuejthcnJheVtvZmZzZXQrM109dGhpcy53O3JldHVybiBhcnJheTt9LGZyb21CdWZmZXJBdHRyaWJ1dGU6ZnVuY3Rpb24gZnJvbUJ1ZmZlckF0dHJpYnV0ZShhdHRyaWJ1dGUsaW5kZXgsb2Zmc2V0KXtpZihvZmZzZXQhPT11bmRlZmluZWQpe2NvbnNvbGUud2FybignVEhSRUUuVmVjdG9yNDogb2Zmc2V0IGhhcyBiZWVuIHJlbW92ZWQgZnJvbSAuZnJvbUJ1ZmZlckF0dHJpYnV0ZSgpLicpO310aGlzLng9YXR0cmlidXRlLmdldFgoaW5kZXgpO3RoaXMueT1hdHRyaWJ1dGUuZ2V0WShpbmRleCk7dGhpcy56PWF0dHJpYnV0ZS5nZXRaKGluZGV4KTt0aGlzLnc9YXR0cmlidXRlLmdldFcoaW5kZXgpO3JldHVybiB0aGlzO319KTsvKioKICAgKiBAYXV0aG9yIHN6aW1layAvIGh0dHBzOi8vZ2l0aHViLmNvbS9zemltZWsvCiAgICogQGF1dGhvciBhbHRlcmVkcSAvIGh0dHA6Ly9hbHRlcmVkcXVhbGlhLmNvbS8KICAgKiBAYXV0aG9yIE1hcml1cyBLaW50ZWwgLyBodHRwczovL2dpdGh1Yi5jb20va2ludGVsCiAgICovIC8qCiAgIEluIG9wdGlvbnMsIHdlIGNhbiBzcGVjaWZ5OgogICAqIFRleHR1cmUgcGFyYW1ldGVycyBmb3IgYW4gYXV0by1nZW5lcmF0ZWQgdGFyZ2V0IHRleHR1cmUKICAgKiBkZXB0aEJ1ZmZlci9zdGVuY2lsQnVmZmVyOiBCb29sZWFucyB0byBpbmRpY2F0ZSBpZiB3ZSBzaG91bGQgZ2VuZXJhdGUgdGhlc2UgYnVmZmVycwogICovZnVuY3Rpb24gV2ViR0xSZW5kZXJUYXJnZXQod2lkdGgsaGVpZ2h0LG9wdGlvbnMpe3RoaXMud2lkdGg9d2lkdGg7dGhpcy5oZWlnaHQ9aGVpZ2h0O3RoaXMuc2Npc3Nvcj1uZXcgVmVjdG9yNCgwLDAsd2lkdGgsaGVpZ2h0KTt0aGlzLnNjaXNzb3JUZXN0PWZhbHNlO3RoaXMudmlld3BvcnQ9bmV3IFZlY3RvcjQoMCwwLHdpZHRoLGhlaWdodCk7b3B0aW9ucz1vcHRpb25zfHx7fTt0aGlzLnRleHR1cmU9bmV3IFRleHR1cmUodW5kZWZpbmVkLHVuZGVmaW5lZCxvcHRpb25zLndyYXBTLG9wdGlvbnMud3JhcFQsb3B0aW9ucy5tYWdGaWx0ZXIsb3B0aW9ucy5taW5GaWx0ZXIsb3B0aW9ucy5mb3JtYXQsb3B0aW9ucy50eXBlLG9wdGlvbnMuYW5pc290cm9weSxvcHRpb25zLmVuY29kaW5nKTt0aGlzLnRleHR1cmUuaW1hZ2U9e307dGhpcy50ZXh0dXJlLmltYWdlLndpZHRoPXdpZHRoO3RoaXMudGV4dHVyZS5pbWFnZS5oZWlnaHQ9aGVpZ2h0O3RoaXMudGV4dHVyZS5nZW5lcmF0ZU1pcG1hcHM9b3B0aW9ucy5nZW5lcmF0ZU1pcG1hcHMhPT11bmRlZmluZWQ/b3B0aW9ucy5nZW5lcmF0ZU1pcG1hcHM6ZmFsc2U7dGhpcy50ZXh0dXJlLm1pbkZpbHRlcj1vcHRpb25zLm1pbkZpbHRlciE9PXVuZGVmaW5lZD9vcHRpb25zLm1pbkZpbHRlcjpMaW5lYXJGaWx0ZXI7dGhpcy5kZXB0aEJ1ZmZlcj1vcHRpb25zLmRlcHRoQnVmZmVyIT09dW5kZWZpbmVkP29wdGlvbnMuZGVwdGhCdWZmZXI6dHJ1ZTt0aGlzLnN0ZW5jaWxCdWZmZXI9b3B0aW9ucy5zdGVuY2lsQnVmZmVyIT09dW5kZWZpbmVkP29wdGlvbnMuc3RlbmNpbEJ1ZmZlcjp0cnVlO3RoaXMuZGVwdGhUZXh0dXJlPW9wdGlvbnMuZGVwdGhUZXh0dXJlIT09dW5kZWZpbmVkP29wdGlvbnMuZGVwdGhUZXh0dXJlOm51bGw7fVdlYkdMUmVuZGVyVGFyZ2V0LnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoRXZlbnREaXNwYXRjaGVyLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOldlYkdMUmVuZGVyVGFyZ2V0LGlzV2ViR0xSZW5kZXJUYXJnZXQ6dHJ1ZSxzZXRTaXplOmZ1bmN0aW9uIHNldFNpemUod2lkdGgsaGVpZ2h0KXtpZih0aGlzLndpZHRoIT09d2lkdGh8fHRoaXMuaGVpZ2h0IT09aGVpZ2h0KXt0aGlzLndpZHRoPXdpZHRoO3RoaXMuaGVpZ2h0PWhlaWdodDt0aGlzLnRleHR1cmUuaW1hZ2Uud2lkdGg9d2lkdGg7dGhpcy50ZXh0dXJlLmltYWdlLmhlaWdodD1oZWlnaHQ7dGhpcy5kaXNwb3NlKCk7fXRoaXMudmlld3BvcnQuc2V0KDAsMCx3aWR0aCxoZWlnaHQpO3RoaXMuc2Npc3Nvci5zZXQoMCwwLHdpZHRoLGhlaWdodCk7fSxjbG9uZTpmdW5jdGlvbiBjbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmNvcHkodGhpcyk7fSxjb3B5OmZ1bmN0aW9uIGNvcHkoc291cmNlKXt0aGlzLndpZHRoPXNvdXJjZS53aWR0aDt0aGlzLmhlaWdodD1zb3VyY2UuaGVpZ2h0O3RoaXMudmlld3BvcnQuY29weShzb3VyY2Uudmlld3BvcnQpO3RoaXMudGV4dHVyZT1zb3VyY2UudGV4dHVyZS5jbG9uZSgpO3RoaXMuZGVwdGhCdWZmZXI9c291cmNlLmRlcHRoQnVmZmVyO3RoaXMuc3RlbmNpbEJ1ZmZlcj1zb3VyY2Uuc3RlbmNpbEJ1ZmZlcjt0aGlzLmRlcHRoVGV4dHVyZT1zb3VyY2UuZGVwdGhUZXh0dXJlO3JldHVybiB0aGlzO30sZGlzcG9zZTpmdW5jdGlvbiBkaXNwb3NlKCl7dGhpcy5kaXNwYXRjaEV2ZW50KHt0eXBlOidkaXNwb3NlJ30pO319KTsvKioKICAgKiBAYXV0aG9yIE11Z2VuODcgLyBodHRwczovL2dpdGh1Yi5jb20vTXVnZW44NwogICAqIEBhdXRob3IgTWF0dCBEZXNMYXVyaWVycyAvIEBtYXR0ZGVzbAogICAqL2Z1bmN0aW9uIFdlYkdMTXVsdGlzYW1wbGVSZW5kZXJUYXJnZXQod2lkdGgsaGVpZ2h0LG9wdGlvbnMpe1dlYkdMUmVuZGVyVGFyZ2V0LmNhbGwodGhpcyx3aWR0aCxoZWlnaHQsb3B0aW9ucyk7dGhpcy5zYW1wbGVzPTQ7fVdlYkdMTXVsdGlzYW1wbGVSZW5kZXJUYXJnZXQucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShXZWJHTFJlbmRlclRhcmdldC5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpXZWJHTE11bHRpc2FtcGxlUmVuZGVyVGFyZ2V0LGlzV2ViR0xNdWx0aXNhbXBsZVJlbmRlclRhcmdldDp0cnVlLGNvcHk6ZnVuY3Rpb24gY29weShzb3VyY2Upe1dlYkdMUmVuZGVyVGFyZ2V0LnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyxzb3VyY2UpO3RoaXMuc2FtcGxlcz1zb3VyY2Uuc2FtcGxlcztyZXR1cm4gdGhpczt9fSk7dmFyIF92MT1uZXcgVmVjdG9yMygpO3ZhciBfbTE9bmV3IE1hdHJpeDQoKTt2YXIgX3plcm89bmV3IFZlY3RvcjMoMCwwLDApO3ZhciBfb25lPW5ldyBWZWN0b3IzKDEsMSwxKTt2YXIgX3g9bmV3IFZlY3RvcjMoKTt2YXIgX3k9bmV3IFZlY3RvcjMoKTt2YXIgX3o9bmV3IFZlY3RvcjMoKTsvKioKICAgKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tLwogICAqIEBhdXRob3Igc3VwZXJlZ2diZXJ0IC8gaHR0cDovL3d3dy5wYXVsYnJ1bnQuY28udWsvCiAgICogQGF1dGhvciBwaGlsb2diIC8gaHR0cDovL2Jsb2cudGhlaml0Lm9yZy8KICAgKiBAYXV0aG9yIGpvcmRpX3JvcyAvIGh0dHA6Ly9wbGF0dHNvZnQuY29tCiAgICogQGF1dGhvciBEMXBsbzFkIC8gaHR0cDovL2dpdGh1Yi5jb20vRDFwbG8xZAogICAqIEBhdXRob3IgYWx0ZXJlZHEgLyBodHRwOi8vYWx0ZXJlZHF1YWxpYS5jb20vCiAgICogQGF1dGhvciBtaWthZWwgZW10aW5nZXIgLyBodHRwOi8vZ29tby5zZS8KICAgKiBAYXV0aG9yIHRpbWtuaXAgLyBodHRwOi8vd3d3LmZsb29ycGxhbm5lci5jb20vCiAgICogQGF1dGhvciBiaG91c3RvbiAvIGh0dHA6Ly9jbGFyYS5pbwogICAqIEBhdXRob3IgV2VzdExhbmdsZXkgLyBodHRwOi8vZ2l0aHViLmNvbS9XZXN0TGFuZ2xleQogICAqL2Z1bmN0aW9uIE1hdHJpeDQoKXt0aGlzLmVsZW1lbnRzPVsxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCwwLDAsMCwxXTtpZihhcmd1bWVudHMubGVuZ3RoPjApe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLk1hdHJpeDQ6IHRoZSBjb25zdHJ1Y3RvciBubyBsb25nZXIgcmVhZHMgYXJndW1lbnRzLiB1c2UgLnNldCgpIGluc3RlYWQuJyk7fX1PYmplY3QuYXNzaWduKE1hdHJpeDQucHJvdG90eXBlLHtpc01hdHJpeDQ6dHJ1ZSxzZXQ6ZnVuY3Rpb24gc2V0KG4xMSxuMTIsbjEzLG4xNCxuMjEsbjIyLG4yMyxuMjQsbjMxLG4zMixuMzMsbjM0LG40MSxuNDIsbjQzLG40NCl7dmFyIHRlPXRoaXMuZWxlbWVudHM7dGVbMF09bjExO3RlWzRdPW4xMjt0ZVs4XT1uMTM7dGVbMTJdPW4xNDt0ZVsxXT1uMjE7dGVbNV09bjIyO3RlWzldPW4yMzt0ZVsxM109bjI0O3RlWzJdPW4zMTt0ZVs2XT1uMzI7dGVbMTBdPW4zMzt0ZVsxNF09bjM0O3RlWzNdPW40MTt0ZVs3XT1uNDI7dGVbMTFdPW40Mzt0ZVsxNV09bjQ0O3JldHVybiB0aGlzO30saWRlbnRpdHk6ZnVuY3Rpb24gaWRlbnRpdHkoKXt0aGlzLnNldCgxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCwwLDAsMCwxKTtyZXR1cm4gdGhpczt9LGNsb25lOmZ1bmN0aW9uIGNsb25lKCl7cmV0dXJuIG5ldyBNYXRyaXg0KCkuZnJvbUFycmF5KHRoaXMuZWxlbWVudHMpO30sY29weTpmdW5jdGlvbiBjb3B5KG0pe3ZhciB0ZT10aGlzLmVsZW1lbnRzO3ZhciBtZT1tLmVsZW1lbnRzO3RlWzBdPW1lWzBdO3RlWzFdPW1lWzFdO3RlWzJdPW1lWzJdO3RlWzNdPW1lWzNdO3RlWzRdPW1lWzRdO3RlWzVdPW1lWzVdO3RlWzZdPW1lWzZdO3RlWzddPW1lWzddO3RlWzhdPW1lWzhdO3RlWzldPW1lWzldO3RlWzEwXT1tZVsxMF07dGVbMTFdPW1lWzExXTt0ZVsxMl09bWVbMTJdO3RlWzEzXT1tZVsxM107dGVbMTRdPW1lWzE0XTt0ZVsxNV09bWVbMTVdO3JldHVybiB0aGlzO30sY29weVBvc2l0aW9uOmZ1bmN0aW9uIGNvcHlQb3NpdGlvbihtKXt2YXIgdGU9dGhpcy5lbGVtZW50cyxtZT1tLmVsZW1lbnRzO3RlWzEyXT1tZVsxMl07dGVbMTNdPW1lWzEzXTt0ZVsxNF09bWVbMTRdO3JldHVybiB0aGlzO30sZXh0cmFjdEJhc2lzOmZ1bmN0aW9uIGV4dHJhY3RCYXNpcyh4QXhpcyx5QXhpcyx6QXhpcyl7eEF4aXMuc2V0RnJvbU1hdHJpeENvbHVtbih0aGlzLDApO3lBeGlzLnNldEZyb21NYXRyaXhDb2x1bW4odGhpcywxKTt6QXhpcy5zZXRGcm9tTWF0cml4Q29sdW1uKHRoaXMsMik7cmV0dXJuIHRoaXM7fSxtYWtlQmFzaXM6ZnVuY3Rpb24gbWFrZUJhc2lzKHhBeGlzLHlBeGlzLHpBeGlzKXt0aGlzLnNldCh4QXhpcy54LHlBeGlzLngsekF4aXMueCwwLHhBeGlzLnkseUF4aXMueSx6QXhpcy55LDAseEF4aXMueix5QXhpcy56LHpBeGlzLnosMCwwLDAsMCwxKTtyZXR1cm4gdGhpczt9LGV4dHJhY3RSb3RhdGlvbjpmdW5jdGlvbiBleHRyYWN0Um90YXRpb24obSl7Ly8gdGhpcyBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCByZWZsZWN0aW9uIG1hdHJpY2VzCnZhciB0ZT10aGlzLmVsZW1lbnRzO3ZhciBtZT1tLmVsZW1lbnRzO3ZhciBzY2FsZVg9MS9fdjEuc2V0RnJvbU1hdHJpeENvbHVtbihtLDApLmxlbmd0aCgpO3ZhciBzY2FsZVk9MS9fdjEuc2V0RnJvbU1hdHJpeENvbHVtbihtLDEpLmxlbmd0aCgpO3ZhciBzY2FsZVo9MS9fdjEuc2V0RnJvbU1hdHJpeENvbHVtbihtLDIpLmxlbmd0aCgpO3RlWzBdPW1lWzBdKnNjYWxlWDt0ZVsxXT1tZVsxXSpzY2FsZVg7dGVbMl09bWVbMl0qc2NhbGVYO3RlWzNdPTA7dGVbNF09bWVbNF0qc2NhbGVZO3RlWzVdPW1lWzVdKnNjYWxlWTt0ZVs2XT1tZVs2XSpzY2FsZVk7dGVbN109MDt0ZVs4XT1tZVs4XSpzY2FsZVo7dGVbOV09bWVbOV0qc2NhbGVaO3RlWzEwXT1tZVsxMF0qc2NhbGVaO3RlWzExXT0wO3RlWzEyXT0wO3RlWzEzXT0wO3RlWzE0XT0wO3RlWzE1XT0xO3JldHVybiB0aGlzO30sbWFrZVJvdGF0aW9uRnJvbUV1bGVyOmZ1bmN0aW9uIG1ha2VSb3RhdGlvbkZyb21FdWxlcihldWxlcil7aWYoIShldWxlciYmZXVsZXIuaXNFdWxlcikpe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLk1hdHJpeDQ6IC5tYWtlUm90YXRpb25Gcm9tRXVsZXIoKSBub3cgZXhwZWN0cyBhIEV1bGVyIHJvdGF0aW9uIHJhdGhlciB0aGFuIGEgVmVjdG9yMyBhbmQgb3JkZXIuJyk7fXZhciB0ZT10aGlzLmVsZW1lbnRzO3ZhciB4PWV1bGVyLngseT1ldWxlci55LHo9ZXVsZXIuejt2YXIgYT1NYXRoLmNvcyh4KSxiPU1hdGguc2luKHgpO3ZhciBjPU1hdGguY29zKHkpLGQ9TWF0aC5zaW4oeSk7dmFyIGU9TWF0aC5jb3MoeiksZj1NYXRoLnNpbih6KTtpZihldWxlci5vcmRlcj09PSdYWVonKXt2YXIgYWU9YSplLGFmPWEqZixiZT1iKmUsYmY9YipmO3RlWzBdPWMqZTt0ZVs0XT0tYypmO3RlWzhdPWQ7dGVbMV09YWYrYmUqZDt0ZVs1XT1hZS1iZipkO3RlWzldPS1iKmM7dGVbMl09YmYtYWUqZDt0ZVs2XT1iZSthZipkO3RlWzEwXT1hKmM7fWVsc2UgaWYoZXVsZXIub3JkZXI9PT0nWVhaJyl7dmFyIGNlPWMqZSxjZj1jKmYsZGU9ZCplLGRmPWQqZjt0ZVswXT1jZStkZipiO3RlWzRdPWRlKmItY2Y7dGVbOF09YSpkO3RlWzFdPWEqZjt0ZVs1XT1hKmU7dGVbOV09LWI7dGVbMl09Y2YqYi1kZTt0ZVs2XT1kZitjZSpiO3RlWzEwXT1hKmM7fWVsc2UgaWYoZXVsZXIub3JkZXI9PT0nWlhZJyl7dmFyIGNlPWMqZSxjZj1jKmYsZGU9ZCplLGRmPWQqZjt0ZVswXT1jZS1kZipiO3RlWzRdPS1hKmY7dGVbOF09ZGUrY2YqYjt0ZVsxXT1jZitkZSpiO3RlWzVdPWEqZTt0ZVs5XT1kZi1jZSpiO3RlWzJdPS1hKmQ7dGVbNl09Yjt0ZVsxMF09YSpjO31lbHNlIGlmKGV1bGVyLm9yZGVyPT09J1pZWCcpe3ZhciBhZT1hKmUsYWY9YSpmLGJlPWIqZSxiZj1iKmY7dGVbMF09YyplO3RlWzRdPWJlKmQtYWY7dGVbOF09YWUqZCtiZjt0ZVsxXT1jKmY7dGVbNV09YmYqZCthZTt0ZVs5XT1hZipkLWJlO3RlWzJdPS1kO3RlWzZdPWIqYzt0ZVsxMF09YSpjO31lbHNlIGlmKGV1bGVyLm9yZGVyPT09J1laWCcpe3ZhciBhYz1hKmMsYWQ9YSpkLGJjPWIqYyxiZD1iKmQ7dGVbMF09YyplO3RlWzRdPWJkLWFjKmY7dGVbOF09YmMqZithZDt0ZVsxXT1mO3RlWzVdPWEqZTt0ZVs5XT0tYiplO3RlWzJdPS1kKmU7dGVbNl09YWQqZitiYzt0ZVsxMF09YWMtYmQqZjt9ZWxzZSBpZihldWxlci5vcmRlcj09PSdYWlknKXt2YXIgYWM9YSpjLGFkPWEqZCxiYz1iKmMsYmQ9YipkO3RlWzBdPWMqZTt0ZVs0XT0tZjt0ZVs4XT1kKmU7dGVbMV09YWMqZitiZDt0ZVs1XT1hKmU7dGVbOV09YWQqZi1iYzt0ZVsyXT1iYypmLWFkO3RlWzZdPWIqZTt0ZVsxMF09YmQqZithYzt9Ly8gYm90dG9tIHJvdwp0ZVszXT0wO3RlWzddPTA7dGVbMTFdPTA7Ly8gbGFzdCBjb2x1bW4KdGVbMTJdPTA7dGVbMTNdPTA7dGVbMTRdPTA7dGVbMTVdPTE7cmV0dXJuIHRoaXM7fSxtYWtlUm90YXRpb25Gcm9tUXVhdGVybmlvbjpmdW5jdGlvbiBtYWtlUm90YXRpb25Gcm9tUXVhdGVybmlvbihxKXtyZXR1cm4gdGhpcy5jb21wb3NlKF96ZXJvLHEsX29uZSk7fSxsb29rQXQ6ZnVuY3Rpb24gbG9va0F0KGV5ZSx0YXJnZXQsdXApe3ZhciB0ZT10aGlzLmVsZW1lbnRzO196LnN1YlZlY3RvcnMoZXllLHRhcmdldCk7aWYoX3oubGVuZ3RoU3EoKT09PTApey8vIGV5ZSBhbmQgdGFyZ2V0IGFyZSBpbiB0aGUgc2FtZSBwb3NpdGlvbgpfei56PTE7fV96Lm5vcm1hbGl6ZSgpO194LmNyb3NzVmVjdG9ycyh1cCxfeik7aWYoX3gubGVuZ3RoU3EoKT09PTApey8vIHVwIGFuZCB6IGFyZSBwYXJhbGxlbAppZihNYXRoLmFicyh1cC56KT09PTEpe196LngrPTAuMDAwMTt9ZWxzZXtfei56Kz0wLjAwMDE7fV96Lm5vcm1hbGl6ZSgpO194LmNyb3NzVmVjdG9ycyh1cCxfeik7fV94Lm5vcm1hbGl6ZSgpO195LmNyb3NzVmVjdG9ycyhfeixfeCk7dGVbMF09X3gueDt0ZVs0XT1feS54O3RlWzhdPV96Lng7dGVbMV09X3gueTt0ZVs1XT1feS55O3RlWzldPV96Lnk7dGVbMl09X3guejt0ZVs2XT1feS56O3RlWzEwXT1fei56O3JldHVybiB0aGlzO30sbXVsdGlwbHk6ZnVuY3Rpb24gbXVsdGlwbHkobSxuKXtpZihuIT09dW5kZWZpbmVkKXtjb25zb2xlLndhcm4oJ1RIUkVFLk1hdHJpeDQ6IC5tdWx0aXBseSgpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLm11bHRpcGx5TWF0cmljZXMoIGEsIGIgKSBpbnN0ZWFkLicpO3JldHVybiB0aGlzLm11bHRpcGx5TWF0cmljZXMobSxuKTt9cmV0dXJuIHRoaXMubXVsdGlwbHlNYXRyaWNlcyh0aGlzLG0pO30scHJlbXVsdGlwbHk6ZnVuY3Rpb24gcHJlbXVsdGlwbHkobSl7cmV0dXJuIHRoaXMubXVsdGlwbHlNYXRyaWNlcyhtLHRoaXMpO30sbXVsdGlwbHlNYXRyaWNlczpmdW5jdGlvbiBtdWx0aXBseU1hdHJpY2VzKGEsYil7dmFyIGFlPWEuZWxlbWVudHM7dmFyIGJlPWIuZWxlbWVudHM7dmFyIHRlPXRoaXMuZWxlbWVudHM7dmFyIGExMT1hZVswXSxhMTI9YWVbNF0sYTEzPWFlWzhdLGExND1hZVsxMl07dmFyIGEyMT1hZVsxXSxhMjI9YWVbNV0sYTIzPWFlWzldLGEyND1hZVsxM107dmFyIGEzMT1hZVsyXSxhMzI9YWVbNl0sYTMzPWFlWzEwXSxhMzQ9YWVbMTRdO3ZhciBhNDE9YWVbM10sYTQyPWFlWzddLGE0Mz1hZVsxMV0sYTQ0PWFlWzE1XTt2YXIgYjExPWJlWzBdLGIxMj1iZVs0XSxiMTM9YmVbOF0sYjE0PWJlWzEyXTt2YXIgYjIxPWJlWzFdLGIyMj1iZVs1XSxiMjM9YmVbOV0sYjI0PWJlWzEzXTt2YXIgYjMxPWJlWzJdLGIzMj1iZVs2XSxiMzM9YmVbMTBdLGIzND1iZVsxNF07dmFyIGI0MT1iZVszXSxiNDI9YmVbN10sYjQzPWJlWzExXSxiNDQ9YmVbMTVdO3RlWzBdPWExMSpiMTErYTEyKmIyMSthMTMqYjMxK2ExNCpiNDE7dGVbNF09YTExKmIxMithMTIqYjIyK2ExMypiMzIrYTE0KmI0Mjt0ZVs4XT1hMTEqYjEzK2ExMipiMjMrYTEzKmIzMythMTQqYjQzO3RlWzEyXT1hMTEqYjE0K2ExMipiMjQrYTEzKmIzNCthMTQqYjQ0O3RlWzFdPWEyMSpiMTErYTIyKmIyMSthMjMqYjMxK2EyNCpiNDE7dGVbNV09YTIxKmIxMithMjIqYjIyK2EyMypiMzIrYTI0KmI0Mjt0ZVs5XT1hMjEqYjEzK2EyMipiMjMrYTIzKmIzMythMjQqYjQzO3RlWzEzXT1hMjEqYjE0K2EyMipiMjQrYTIzKmIzNCthMjQqYjQ0O3RlWzJdPWEzMSpiMTErYTMyKmIyMSthMzMqYjMxK2EzNCpiNDE7dGVbNl09YTMxKmIxMithMzIqYjIyK2EzMypiMzIrYTM0KmI0Mjt0ZVsxMF09YTMxKmIxMythMzIqYjIzK2EzMypiMzMrYTM0KmI0Mzt0ZVsxNF09YTMxKmIxNCthMzIqYjI0K2EzMypiMzQrYTM0KmI0NDt0ZVszXT1hNDEqYjExK2E0MipiMjErYTQzKmIzMSthNDQqYjQxO3RlWzddPWE0MSpiMTIrYTQyKmIyMithNDMqYjMyK2E0NCpiNDI7dGVbMTFdPWE0MSpiMTMrYTQyKmIyMythNDMqYjMzK2E0NCpiNDM7dGVbMTVdPWE0MSpiMTQrYTQyKmIyNCthNDMqYjM0K2E0NCpiNDQ7cmV0dXJuIHRoaXM7fSxtdWx0aXBseVNjYWxhcjpmdW5jdGlvbiBtdWx0aXBseVNjYWxhcihzKXt2YXIgdGU9dGhpcy5lbGVtZW50czt0ZVswXSo9czt0ZVs0XSo9czt0ZVs4XSo9czt0ZVsxMl0qPXM7dGVbMV0qPXM7dGVbNV0qPXM7dGVbOV0qPXM7dGVbMTNdKj1zO3RlWzJdKj1zO3RlWzZdKj1zO3RlWzEwXSo9czt0ZVsxNF0qPXM7dGVbM10qPXM7dGVbN10qPXM7dGVbMTFdKj1zO3RlWzE1XSo9cztyZXR1cm4gdGhpczt9LGFwcGx5VG9CdWZmZXJBdHRyaWJ1dGU6ZnVuY3Rpb24gYXBwbHlUb0J1ZmZlckF0dHJpYnV0ZShhdHRyaWJ1dGUpe2Zvcih2YXIgaT0wLGw9YXR0cmlidXRlLmNvdW50O2k8bDtpKyspe192MS54PWF0dHJpYnV0ZS5nZXRYKGkpO192MS55PWF0dHJpYnV0ZS5nZXRZKGkpO192MS56PWF0dHJpYnV0ZS5nZXRaKGkpO192MS5hcHBseU1hdHJpeDQodGhpcyk7YXR0cmlidXRlLnNldFhZWihpLF92MS54LF92MS55LF92MS56KTt9cmV0dXJuIGF0dHJpYnV0ZTt9LGRldGVybWluYW50OmZ1bmN0aW9uIGRldGVybWluYW50KCl7dmFyIHRlPXRoaXMuZWxlbWVudHM7dmFyIG4xMT10ZVswXSxuMTI9dGVbNF0sbjEzPXRlWzhdLG4xND10ZVsxMl07dmFyIG4yMT10ZVsxXSxuMjI9dGVbNV0sbjIzPXRlWzldLG4yND10ZVsxM107dmFyIG4zMT10ZVsyXSxuMzI9dGVbNl0sbjMzPXRlWzEwXSxuMzQ9dGVbMTRdO3ZhciBuNDE9dGVbM10sbjQyPXRlWzddLG40Mz10ZVsxMV0sbjQ0PXRlWzE1XTsvL1RPRE86IG1ha2UgdGhpcyBtb3JlIGVmZmljaWVudAovLyggYmFzZWQgb24gaHR0cDovL3d3dy5ldWNsaWRlYW5zcGFjZS5jb20vbWF0aHMvYWxnZWJyYS9tYXRyaXgvZnVuY3Rpb25zL2ludmVyc2UvZm91ckQvaW5kZXguaHRtICkKcmV0dXJuIG40MSooK24xNCpuMjMqbjMyLW4xMypuMjQqbjMyLW4xNCpuMjIqbjMzK24xMipuMjQqbjMzK24xMypuMjIqbjM0LW4xMipuMjMqbjM0KStuNDIqKCtuMTEqbjIzKm4zNC1uMTEqbjI0Km4zMytuMTQqbjIxKm4zMy1uMTMqbjIxKm4zNCtuMTMqbjI0Km4zMS1uMTQqbjIzKm4zMSkrbjQzKigrbjExKm4yNCpuMzItbjExKm4yMipuMzQtbjE0Km4yMSpuMzIrbjEyKm4yMSpuMzQrbjE0Km4yMipuMzEtbjEyKm4yNCpuMzEpK240NCooLW4xMypuMjIqbjMxLW4xMSpuMjMqbjMyK24xMSpuMjIqbjMzK24xMypuMjEqbjMyLW4xMipuMjEqbjMzK24xMipuMjMqbjMxKTt9LHRyYW5zcG9zZTpmdW5jdGlvbiB0cmFuc3Bvc2UoKXt2YXIgdGU9dGhpcy5lbGVtZW50czt2YXIgdG1wO3RtcD10ZVsxXTt0ZVsxXT10ZVs0XTt0ZVs0XT10bXA7dG1wPXRlWzJdO3RlWzJdPXRlWzhdO3RlWzhdPXRtcDt0bXA9dGVbNl07dGVbNl09dGVbOV07dGVbOV09dG1wO3RtcD10ZVszXTt0ZVszXT10ZVsxMl07dGVbMTJdPXRtcDt0bXA9dGVbN107dGVbN109dGVbMTNdO3RlWzEzXT10bXA7dG1wPXRlWzExXTt0ZVsxMV09dGVbMTRdO3RlWzE0XT10bXA7cmV0dXJuIHRoaXM7fSxzZXRQb3NpdGlvbjpmdW5jdGlvbiBzZXRQb3NpdGlvbih4LHkseil7dmFyIHRlPXRoaXMuZWxlbWVudHM7aWYoeC5pc1ZlY3RvcjMpe3RlWzEyXT14Lng7dGVbMTNdPXgueTt0ZVsxNF09eC56O31lbHNle3RlWzEyXT14O3RlWzEzXT15O3RlWzE0XT16O31yZXR1cm4gdGhpczt9LGdldEludmVyc2U6ZnVuY3Rpb24gZ2V0SW52ZXJzZShtLHRocm93T25EZWdlbmVyYXRlKXsvLyBiYXNlZCBvbiBodHRwOi8vd3d3LmV1Y2xpZGVhbnNwYWNlLmNvbS9tYXRocy9hbGdlYnJhL21hdHJpeC9mdW5jdGlvbnMvaW52ZXJzZS9mb3VyRC9pbmRleC5odG0KdmFyIHRlPXRoaXMuZWxlbWVudHMsbWU9bS5lbGVtZW50cyxuMTE9bWVbMF0sbjIxPW1lWzFdLG4zMT1tZVsyXSxuNDE9bWVbM10sbjEyPW1lWzRdLG4yMj1tZVs1XSxuMzI9bWVbNl0sbjQyPW1lWzddLG4xMz1tZVs4XSxuMjM9bWVbOV0sbjMzPW1lWzEwXSxuNDM9bWVbMTFdLG4xND1tZVsxMl0sbjI0PW1lWzEzXSxuMzQ9bWVbMTRdLG40ND1tZVsxNV0sdDExPW4yMypuMzQqbjQyLW4yNCpuMzMqbjQyK24yNCpuMzIqbjQzLW4yMipuMzQqbjQzLW4yMypuMzIqbjQ0K24yMipuMzMqbjQ0LHQxMj1uMTQqbjMzKm40Mi1uMTMqbjM0Km40Mi1uMTQqbjMyKm40MytuMTIqbjM0Km40MytuMTMqbjMyKm40NC1uMTIqbjMzKm40NCx0MTM9bjEzKm4yNCpuNDItbjE0Km4yMypuNDIrbjE0Km4yMipuNDMtbjEyKm4yNCpuNDMtbjEzKm4yMipuNDQrbjEyKm4yMypuNDQsdDE0PW4xNCpuMjMqbjMyLW4xMypuMjQqbjMyLW4xNCpuMjIqbjMzK24xMipuMjQqbjMzK24xMypuMjIqbjM0LW4xMipuMjMqbjM0O3ZhciBkZXQ9bjExKnQxMStuMjEqdDEyK24zMSp0MTMrbjQxKnQxNDtpZihkZXQ9PT0wKXt2YXIgbXNnPSJUSFJFRS5NYXRyaXg0OiAuZ2V0SW52ZXJzZSgpIGNhbid0IGludmVydCBtYXRyaXgsIGRldGVybWluYW50IGlzIDAiO2lmKHRocm93T25EZWdlbmVyYXRlPT09dHJ1ZSl7dGhyb3cgbmV3IEVycm9yKG1zZyk7fWVsc2V7Y29uc29sZS53YXJuKG1zZyk7fXJldHVybiB0aGlzLmlkZW50aXR5KCk7fXZhciBkZXRJbnY9MS9kZXQ7dGVbMF09dDExKmRldEludjt0ZVsxXT0objI0Km4zMypuNDEtbjIzKm4zNCpuNDEtbjI0Km4zMSpuNDMrbjIxKm4zNCpuNDMrbjIzKm4zMSpuNDQtbjIxKm4zMypuNDQpKmRldEludjt0ZVsyXT0objIyKm4zNCpuNDEtbjI0Km4zMipuNDErbjI0Km4zMSpuNDItbjIxKm4zNCpuNDItbjIyKm4zMSpuNDQrbjIxKm4zMipuNDQpKmRldEludjt0ZVszXT0objIzKm4zMipuNDEtbjIyKm4zMypuNDEtbjIzKm4zMSpuNDIrbjIxKm4zMypuNDIrbjIyKm4zMSpuNDMtbjIxKm4zMipuNDMpKmRldEludjt0ZVs0XT10MTIqZGV0SW52O3RlWzVdPShuMTMqbjM0Km40MS1uMTQqbjMzKm40MStuMTQqbjMxKm40My1uMTEqbjM0Km40My1uMTMqbjMxKm40NCtuMTEqbjMzKm40NCkqZGV0SW52O3RlWzZdPShuMTQqbjMyKm40MS1uMTIqbjM0Km40MS1uMTQqbjMxKm40MituMTEqbjM0Km40MituMTIqbjMxKm40NC1uMTEqbjMyKm40NCkqZGV0SW52O3RlWzddPShuMTIqbjMzKm40MS1uMTMqbjMyKm40MStuMTMqbjMxKm40Mi1uMTEqbjMzKm40Mi1uMTIqbjMxKm40MytuMTEqbjMyKm40MykqZGV0SW52O3RlWzhdPXQxMypkZXRJbnY7dGVbOV09KG4xNCpuMjMqbjQxLW4xMypuMjQqbjQxLW4xNCpuMjEqbjQzK24xMSpuMjQqbjQzK24xMypuMjEqbjQ0LW4xMSpuMjMqbjQ0KSpkZXRJbnY7dGVbMTBdPShuMTIqbjI0Km40MS1uMTQqbjIyKm40MStuMTQqbjIxKm40Mi1uMTEqbjI0Km40Mi1uMTIqbjIxKm40NCtuMTEqbjIyKm40NCkqZGV0SW52O3RlWzExXT0objEzKm4yMipuNDEtbjEyKm4yMypuNDEtbjEzKm4yMSpuNDIrbjExKm4yMypuNDIrbjEyKm4yMSpuNDMtbjExKm4yMipuNDMpKmRldEludjt0ZVsxMl09dDE0KmRldEludjt0ZVsxM109KG4xMypuMjQqbjMxLW4xNCpuMjMqbjMxK24xNCpuMjEqbjMzLW4xMSpuMjQqbjMzLW4xMypuMjEqbjM0K24xMSpuMjMqbjM0KSpkZXRJbnY7dGVbMTRdPShuMTQqbjIyKm4zMS1uMTIqbjI0Km4zMS1uMTQqbjIxKm4zMituMTEqbjI0Km4zMituMTIqbjIxKm4zNC1uMTEqbjIyKm4zNCkqZGV0SW52O3RlWzE1XT0objEyKm4yMypuMzEtbjEzKm4yMipuMzErbjEzKm4yMSpuMzItbjExKm4yMypuMzItbjEyKm4yMSpuMzMrbjExKm4yMipuMzMpKmRldEludjtyZXR1cm4gdGhpczt9LHNjYWxlOmZ1bmN0aW9uIHNjYWxlKHYpe3ZhciB0ZT10aGlzLmVsZW1lbnRzO3ZhciB4PXYueCx5PXYueSx6PXYuejt0ZVswXSo9eDt0ZVs0XSo9eTt0ZVs4XSo9ejt0ZVsxXSo9eDt0ZVs1XSo9eTt0ZVs5XSo9ejt0ZVsyXSo9eDt0ZVs2XSo9eTt0ZVsxMF0qPXo7dGVbM10qPXg7dGVbN10qPXk7dGVbMTFdKj16O3JldHVybiB0aGlzO30sZ2V0TWF4U2NhbGVPbkF4aXM6ZnVuY3Rpb24gZ2V0TWF4U2NhbGVPbkF4aXMoKXt2YXIgdGU9dGhpcy5lbGVtZW50czt2YXIgc2NhbGVYU3E9dGVbMF0qdGVbMF0rdGVbMV0qdGVbMV0rdGVbMl0qdGVbMl07dmFyIHNjYWxlWVNxPXRlWzRdKnRlWzRdK3RlWzVdKnRlWzVdK3RlWzZdKnRlWzZdO3ZhciBzY2FsZVpTcT10ZVs4XSp0ZVs4XSt0ZVs5XSp0ZVs5XSt0ZVsxMF0qdGVbMTBdO3JldHVybiBNYXRoLnNxcnQoTWF0aC5tYXgoc2NhbGVYU3Esc2NhbGVZU3Esc2NhbGVaU3EpKTt9LG1ha2VUcmFuc2xhdGlvbjpmdW5jdGlvbiBtYWtlVHJhbnNsYXRpb24oeCx5LHope3RoaXMuc2V0KDEsMCwwLHgsMCwxLDAseSwwLDAsMSx6LDAsMCwwLDEpO3JldHVybiB0aGlzO30sbWFrZVJvdGF0aW9uWDpmdW5jdGlvbiBtYWtlUm90YXRpb25YKHRoZXRhKXt2YXIgYz1NYXRoLmNvcyh0aGV0YSkscz1NYXRoLnNpbih0aGV0YSk7dGhpcy5zZXQoMSwwLDAsMCwwLGMsLXMsMCwwLHMsYywwLDAsMCwwLDEpO3JldHVybiB0aGlzO30sbWFrZVJvdGF0aW9uWTpmdW5jdGlvbiBtYWtlUm90YXRpb25ZKHRoZXRhKXt2YXIgYz1NYXRoLmNvcyh0aGV0YSkscz1NYXRoLnNpbih0aGV0YSk7dGhpcy5zZXQoYywwLHMsMCwwLDEsMCwwLC1zLDAsYywwLDAsMCwwLDEpO3JldHVybiB0aGlzO30sbWFrZVJvdGF0aW9uWjpmdW5jdGlvbiBtYWtlUm90YXRpb25aKHRoZXRhKXt2YXIgYz1NYXRoLmNvcyh0aGV0YSkscz1NYXRoLnNpbih0aGV0YSk7dGhpcy5zZXQoYywtcywwLDAscyxjLDAsMCwwLDAsMSwwLDAsMCwwLDEpO3JldHVybiB0aGlzO30sbWFrZVJvdGF0aW9uQXhpczpmdW5jdGlvbiBtYWtlUm90YXRpb25BeGlzKGF4aXMsYW5nbGUpey8vIEJhc2VkIG9uIGh0dHA6Ly93d3cuZ2FtZWRldi5uZXQvcmVmZXJlbmNlL2FydGljbGVzL2FydGljbGUxMTk5LmFzcAp2YXIgYz1NYXRoLmNvcyhhbmdsZSk7dmFyIHM9TWF0aC5zaW4oYW5nbGUpO3ZhciB0PTEtYzt2YXIgeD1heGlzLngseT1heGlzLnksej1heGlzLno7dmFyIHR4PXQqeCx0eT10Knk7dGhpcy5zZXQodHgqeCtjLHR4Knktcyp6LHR4Knorcyp5LDAsdHgqeStzKnosdHkqeStjLHR5Knotcyp4LDAsdHgqei1zKnksdHkqeitzKngsdCp6KnorYywwLDAsMCwwLDEpO3JldHVybiB0aGlzO30sbWFrZVNjYWxlOmZ1bmN0aW9uIG1ha2VTY2FsZSh4LHkseil7dGhpcy5zZXQoeCwwLDAsMCwwLHksMCwwLDAsMCx6LDAsMCwwLDAsMSk7cmV0dXJuIHRoaXM7fSxtYWtlU2hlYXI6ZnVuY3Rpb24gbWFrZVNoZWFyKHgseSx6KXt0aGlzLnNldCgxLHkseiwwLHgsMSx6LDAseCx5LDEsMCwwLDAsMCwxKTtyZXR1cm4gdGhpczt9LGNvbXBvc2U6ZnVuY3Rpb24gY29tcG9zZShwb3NpdGlvbixxdWF0ZXJuaW9uLHNjYWxlKXt2YXIgdGU9dGhpcy5lbGVtZW50czt2YXIgeD1xdWF0ZXJuaW9uLl94LHk9cXVhdGVybmlvbi5feSx6PXF1YXRlcm5pb24uX3osdz1xdWF0ZXJuaW9uLl93O3ZhciB4Mj14K3gseTI9eSt5LHoyPXorejt2YXIgeHg9eCp4Mix4eT14KnkyLHh6PXgqejI7dmFyIHl5PXkqeTIseXo9eSp6Mix6ej16KnoyO3ZhciB3eD13KngyLHd5PXcqeTIsd3o9dyp6Mjt2YXIgc3g9c2NhbGUueCxzeT1zY2FsZS55LHN6PXNjYWxlLno7dGVbMF09KDEtKHl5K3p6KSkqc3g7dGVbMV09KHh5K3d6KSpzeDt0ZVsyXT0oeHotd3kpKnN4O3RlWzNdPTA7dGVbNF09KHh5LXd6KSpzeTt0ZVs1XT0oMS0oeHgrenopKSpzeTt0ZVs2XT0oeXord3gpKnN5O3RlWzddPTA7dGVbOF09KHh6K3d5KSpzejt0ZVs5XT0oeXotd3gpKnN6O3RlWzEwXT0oMS0oeHgreXkpKSpzejt0ZVsxMV09MDt0ZVsxMl09cG9zaXRpb24ueDt0ZVsxM109cG9zaXRpb24ueTt0ZVsxNF09cG9zaXRpb24uejt0ZVsxNV09MTtyZXR1cm4gdGhpczt9LGRlY29tcG9zZTpmdW5jdGlvbiBkZWNvbXBvc2UocG9zaXRpb24scXVhdGVybmlvbixzY2FsZSl7dmFyIHRlPXRoaXMuZWxlbWVudHM7dmFyIHN4PV92MS5zZXQodGVbMF0sdGVbMV0sdGVbMl0pLmxlbmd0aCgpO3ZhciBzeT1fdjEuc2V0KHRlWzRdLHRlWzVdLHRlWzZdKS5sZW5ndGgoKTt2YXIgc3o9X3YxLnNldCh0ZVs4XSx0ZVs5XSx0ZVsxMF0pLmxlbmd0aCgpOy8vIGlmIGRldGVybWluZSBpcyBuZWdhdGl2ZSwgd2UgbmVlZCB0byBpbnZlcnQgb25lIHNjYWxlCnZhciBkZXQ9dGhpcy5kZXRlcm1pbmFudCgpO2lmKGRldDwwKXtzeD0tc3g7fXBvc2l0aW9uLng9dGVbMTJdO3Bvc2l0aW9uLnk9dGVbMTNdO3Bvc2l0aW9uLno9dGVbMTRdOy8vIHNjYWxlIHRoZSByb3RhdGlvbiBwYXJ0Cl9tMS5jb3B5KHRoaXMpO3ZhciBpbnZTWD0xL3N4O3ZhciBpbnZTWT0xL3N5O3ZhciBpbnZTWj0xL3N6O19tMS5lbGVtZW50c1swXSo9aW52U1g7X20xLmVsZW1lbnRzWzFdKj1pbnZTWDtfbTEuZWxlbWVudHNbMl0qPWludlNYO19tMS5lbGVtZW50c1s0XSo9aW52U1k7X20xLmVsZW1lbnRzWzVdKj1pbnZTWTtfbTEuZWxlbWVudHNbNl0qPWludlNZO19tMS5lbGVtZW50c1s4XSo9aW52U1o7X20xLmVsZW1lbnRzWzldKj1pbnZTWjtfbTEuZWxlbWVudHNbMTBdKj1pbnZTWjtxdWF0ZXJuaW9uLnNldEZyb21Sb3RhdGlvbk1hdHJpeChfbTEpO3NjYWxlLng9c3g7c2NhbGUueT1zeTtzY2FsZS56PXN6O3JldHVybiB0aGlzO30sbWFrZVBlcnNwZWN0aXZlOmZ1bmN0aW9uIG1ha2VQZXJzcGVjdGl2ZShsZWZ0LHJpZ2h0LHRvcCxib3R0b20sbmVhcixmYXIpe2lmKGZhcj09PXVuZGVmaW5lZCl7Y29uc29sZS53YXJuKCdUSFJFRS5NYXRyaXg0OiAubWFrZVBlcnNwZWN0aXZlKCkgaGFzIGJlZW4gcmVkZWZpbmVkIGFuZCBoYXMgYSBuZXcgc2lnbmF0dXJlLiBQbGVhc2UgY2hlY2sgdGhlIGRvY3MuJyk7fXZhciB0ZT10aGlzLmVsZW1lbnRzO3ZhciB4PTIqbmVhci8ocmlnaHQtbGVmdCk7dmFyIHk9MipuZWFyLyh0b3AtYm90dG9tKTt2YXIgYT0ocmlnaHQrbGVmdCkvKHJpZ2h0LWxlZnQpO3ZhciBiPSh0b3ArYm90dG9tKS8odG9wLWJvdHRvbSk7dmFyIGM9LShmYXIrbmVhcikvKGZhci1uZWFyKTt2YXIgZD0tMipmYXIqbmVhci8oZmFyLW5lYXIpO3RlWzBdPXg7dGVbNF09MDt0ZVs4XT1hO3RlWzEyXT0wO3RlWzFdPTA7dGVbNV09eTt0ZVs5XT1iO3RlWzEzXT0wO3RlWzJdPTA7dGVbNl09MDt0ZVsxMF09Yzt0ZVsxNF09ZDt0ZVszXT0wO3RlWzddPTA7dGVbMTFdPS0xO3RlWzE1XT0wO3JldHVybiB0aGlzO30sbWFrZU9ydGhvZ3JhcGhpYzpmdW5jdGlvbiBtYWtlT3J0aG9ncmFwaGljKGxlZnQscmlnaHQsdG9wLGJvdHRvbSxuZWFyLGZhcil7dmFyIHRlPXRoaXMuZWxlbWVudHM7dmFyIHc9MS4wLyhyaWdodC1sZWZ0KTt2YXIgaD0xLjAvKHRvcC1ib3R0b20pO3ZhciBwPTEuMC8oZmFyLW5lYXIpO3ZhciB4PShyaWdodCtsZWZ0KSp3O3ZhciB5PSh0b3ArYm90dG9tKSpoO3ZhciB6PShmYXIrbmVhcikqcDt0ZVswXT0yKnc7dGVbNF09MDt0ZVs4XT0wO3RlWzEyXT0teDt0ZVsxXT0wO3RlWzVdPTIqaDt0ZVs5XT0wO3RlWzEzXT0teTt0ZVsyXT0wO3RlWzZdPTA7dGVbMTBdPS0yKnA7dGVbMTRdPS16O3RlWzNdPTA7dGVbN109MDt0ZVsxMV09MDt0ZVsxNV09MTtyZXR1cm4gdGhpczt9LGVxdWFsczpmdW5jdGlvbiBlcXVhbHMobWF0cml4KXt2YXIgdGU9dGhpcy5lbGVtZW50czt2YXIgbWU9bWF0cml4LmVsZW1lbnRzO2Zvcih2YXIgaT0wO2k8MTY7aSsrKXtpZih0ZVtpXSE9PW1lW2ldKXtyZXR1cm4gZmFsc2U7fX1yZXR1cm4gdHJ1ZTt9LGZyb21BcnJheTpmdW5jdGlvbiBmcm9tQXJyYXkoYXJyYXksb2Zmc2V0KXtpZihvZmZzZXQ9PT11bmRlZmluZWQpe29mZnNldD0wO31mb3IodmFyIGk9MDtpPDE2O2krKyl7dGhpcy5lbGVtZW50c1tpXT1hcnJheVtpK29mZnNldF07fXJldHVybiB0aGlzO30sdG9BcnJheTpmdW5jdGlvbiB0b0FycmF5KGFycmF5LG9mZnNldCl7aWYoYXJyYXk9PT11bmRlZmluZWQpe2FycmF5PVtdO31pZihvZmZzZXQ9PT11bmRlZmluZWQpe29mZnNldD0wO312YXIgdGU9dGhpcy5lbGVtZW50czthcnJheVtvZmZzZXRdPXRlWzBdO2FycmF5W29mZnNldCsxXT10ZVsxXTthcnJheVtvZmZzZXQrMl09dGVbMl07YXJyYXlbb2Zmc2V0KzNdPXRlWzNdO2FycmF5W29mZnNldCs0XT10ZVs0XTthcnJheVtvZmZzZXQrNV09dGVbNV07YXJyYXlbb2Zmc2V0KzZdPXRlWzZdO2FycmF5W29mZnNldCs3XT10ZVs3XTthcnJheVtvZmZzZXQrOF09dGVbOF07YXJyYXlbb2Zmc2V0KzldPXRlWzldO2FycmF5W29mZnNldCsxMF09dGVbMTBdO2FycmF5W29mZnNldCsxMV09dGVbMTFdO2FycmF5W29mZnNldCsxMl09dGVbMTJdO2FycmF5W29mZnNldCsxM109dGVbMTNdO2FycmF5W29mZnNldCsxNF09dGVbMTRdO2FycmF5W29mZnNldCsxNV09dGVbMTVdO3JldHVybiBhcnJheTt9fSk7LyoqCiAgICogQGF1dGhvciBtcmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS8KICAgKiBAYXV0aG9yIFdlc3RMYW5nbGV5IC8gaHR0cDovL2dpdGh1Yi5jb20vV2VzdExhbmdsZXkKICAgKiBAYXV0aG9yIGJob3VzdG9uIC8gaHR0cDovL2NsYXJhLmlvCiAgICovdmFyIF9tYXRyaXg9bmV3IE1hdHJpeDQoKTt2YXIgX3F1YXRlcm5pb24kMT1uZXcgUXVhdGVybmlvbigpO2Z1bmN0aW9uIEV1bGVyKHgseSx6LG9yZGVyKXt0aGlzLl94PXh8fDA7dGhpcy5feT15fHwwO3RoaXMuX3o9enx8MDt0aGlzLl9vcmRlcj1vcmRlcnx8RXVsZXIuRGVmYXVsdE9yZGVyO31FdWxlci5Sb3RhdGlvbk9yZGVycz1bJ1hZWicsJ1laWCcsJ1pYWScsJ1haWScsJ1lYWicsJ1pZWCddO0V1bGVyLkRlZmF1bHRPcmRlcj0nWFlaJztPYmplY3QuZGVmaW5lUHJvcGVydGllcyhFdWxlci5wcm90b3R5cGUse3g6e2dldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5feDt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe3RoaXMuX3g9dmFsdWU7dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO319LHk6e2dldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5feTt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe3RoaXMuX3k9dmFsdWU7dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO319LHo6e2dldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5fejt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe3RoaXMuX3o9dmFsdWU7dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO319LG9yZGVyOntnZXQ6ZnVuY3Rpb24gZ2V0KCl7cmV0dXJuIHRoaXMuX29yZGVyO30sc2V0OmZ1bmN0aW9uIHNldCh2YWx1ZSl7dGhpcy5fb3JkZXI9dmFsdWU7dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO319fSk7T2JqZWN0LmFzc2lnbihFdWxlci5wcm90b3R5cGUse2lzRXVsZXI6dHJ1ZSxzZXQ6ZnVuY3Rpb24gc2V0KHgseSx6LG9yZGVyKXt0aGlzLl94PXg7dGhpcy5feT15O3RoaXMuX3o9ejt0aGlzLl9vcmRlcj1vcmRlcnx8dGhpcy5fb3JkZXI7dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO3JldHVybiB0aGlzO30sY2xvbmU6ZnVuY3Rpb24gY2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5feCx0aGlzLl95LHRoaXMuX3osdGhpcy5fb3JkZXIpO30sY29weTpmdW5jdGlvbiBjb3B5KGV1bGVyKXt0aGlzLl94PWV1bGVyLl94O3RoaXMuX3k9ZXVsZXIuX3k7dGhpcy5fej1ldWxlci5fejt0aGlzLl9vcmRlcj1ldWxlci5fb3JkZXI7dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO3JldHVybiB0aGlzO30sc2V0RnJvbVJvdGF0aW9uTWF0cml4OmZ1bmN0aW9uIHNldEZyb21Sb3RhdGlvbk1hdHJpeChtLG9yZGVyLHVwZGF0ZSl7dmFyIGNsYW1wPV9NYXRoLmNsYW1wOy8vIGFzc3VtZXMgdGhlIHVwcGVyIDN4MyBvZiBtIGlzIGEgcHVyZSByb3RhdGlvbiBtYXRyaXggKGkuZSwgdW5zY2FsZWQpCnZhciB0ZT1tLmVsZW1lbnRzO3ZhciBtMTE9dGVbMF0sbTEyPXRlWzRdLG0xMz10ZVs4XTt2YXIgbTIxPXRlWzFdLG0yMj10ZVs1XSxtMjM9dGVbOV07dmFyIG0zMT10ZVsyXSxtMzI9dGVbNl0sbTMzPXRlWzEwXTtvcmRlcj1vcmRlcnx8dGhpcy5fb3JkZXI7aWYob3JkZXI9PT0nWFlaJyl7dGhpcy5feT1NYXRoLmFzaW4oY2xhbXAobTEzLC0xLDEpKTtpZihNYXRoLmFicyhtMTMpPDAuOTk5OTk5OSl7dGhpcy5feD1NYXRoLmF0YW4yKC1tMjMsbTMzKTt0aGlzLl96PU1hdGguYXRhbjIoLW0xMixtMTEpO31lbHNle3RoaXMuX3g9TWF0aC5hdGFuMihtMzIsbTIyKTt0aGlzLl96PTA7fX1lbHNlIGlmKG9yZGVyPT09J1lYWicpe3RoaXMuX3g9TWF0aC5hc2luKC1jbGFtcChtMjMsLTEsMSkpO2lmKE1hdGguYWJzKG0yMyk8MC45OTk5OTk5KXt0aGlzLl95PU1hdGguYXRhbjIobTEzLG0zMyk7dGhpcy5fej1NYXRoLmF0YW4yKG0yMSxtMjIpO31lbHNle3RoaXMuX3k9TWF0aC5hdGFuMigtbTMxLG0xMSk7dGhpcy5fej0wO319ZWxzZSBpZihvcmRlcj09PSdaWFknKXt0aGlzLl94PU1hdGguYXNpbihjbGFtcChtMzIsLTEsMSkpO2lmKE1hdGguYWJzKG0zMik8MC45OTk5OTk5KXt0aGlzLl95PU1hdGguYXRhbjIoLW0zMSxtMzMpO3RoaXMuX3o9TWF0aC5hdGFuMigtbTEyLG0yMik7fWVsc2V7dGhpcy5feT0wO3RoaXMuX3o9TWF0aC5hdGFuMihtMjEsbTExKTt9fWVsc2UgaWYob3JkZXI9PT0nWllYJyl7dGhpcy5feT1NYXRoLmFzaW4oLWNsYW1wKG0zMSwtMSwxKSk7aWYoTWF0aC5hYnMobTMxKTwwLjk5OTk5OTkpe3RoaXMuX3g9TWF0aC5hdGFuMihtMzIsbTMzKTt0aGlzLl96PU1hdGguYXRhbjIobTIxLG0xMSk7fWVsc2V7dGhpcy5feD0wO3RoaXMuX3o9TWF0aC5hdGFuMigtbTEyLG0yMik7fX1lbHNlIGlmKG9yZGVyPT09J1laWCcpe3RoaXMuX3o9TWF0aC5hc2luKGNsYW1wKG0yMSwtMSwxKSk7aWYoTWF0aC5hYnMobTIxKTwwLjk5OTk5OTkpe3RoaXMuX3g9TWF0aC5hdGFuMigtbTIzLG0yMik7dGhpcy5feT1NYXRoLmF0YW4yKC1tMzEsbTExKTt9ZWxzZXt0aGlzLl94PTA7dGhpcy5feT1NYXRoLmF0YW4yKG0xMyxtMzMpO319ZWxzZSBpZihvcmRlcj09PSdYWlknKXt0aGlzLl96PU1hdGguYXNpbigtY2xhbXAobTEyLC0xLDEpKTtpZihNYXRoLmFicyhtMTIpPDAuOTk5OTk5OSl7dGhpcy5feD1NYXRoLmF0YW4yKG0zMixtMjIpO3RoaXMuX3k9TWF0aC5hdGFuMihtMTMsbTExKTt9ZWxzZXt0aGlzLl94PU1hdGguYXRhbjIoLW0yMyxtMzMpO3RoaXMuX3k9MDt9fWVsc2V7Y29uc29sZS53YXJuKCdUSFJFRS5FdWxlcjogLnNldEZyb21Sb3RhdGlvbk1hdHJpeCgpIGdpdmVuIHVuc3VwcG9ydGVkIG9yZGVyOiAnK29yZGVyKTt9dGhpcy5fb3JkZXI9b3JkZXI7aWYodXBkYXRlIT09ZmFsc2Upe3RoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKTt9cmV0dXJuIHRoaXM7fSxzZXRGcm9tUXVhdGVybmlvbjpmdW5jdGlvbiBzZXRGcm9tUXVhdGVybmlvbihxLG9yZGVyLHVwZGF0ZSl7X21hdHJpeC5tYWtlUm90YXRpb25Gcm9tUXVhdGVybmlvbihxKTtyZXR1cm4gdGhpcy5zZXRGcm9tUm90YXRpb25NYXRyaXgoX21hdHJpeCxvcmRlcix1cGRhdGUpO30sc2V0RnJvbVZlY3RvcjM6ZnVuY3Rpb24gc2V0RnJvbVZlY3RvcjModixvcmRlcil7cmV0dXJuIHRoaXMuc2V0KHYueCx2Lnksdi56LG9yZGVyfHx0aGlzLl9vcmRlcik7fSxyZW9yZGVyOmZ1bmN0aW9uIHJlb3JkZXIobmV3T3JkZXIpey8vIFdBUk5JTkc6IHRoaXMgZGlzY2FyZHMgcmV2b2x1dGlvbiBpbmZvcm1hdGlvbiAtYmhvdXN0b24KX3F1YXRlcm5pb24kMS5zZXRGcm9tRXVsZXIodGhpcyk7cmV0dXJuIHRoaXMuc2V0RnJvbVF1YXRlcm5pb24oX3F1YXRlcm5pb24kMSxuZXdPcmRlcik7fSxlcXVhbHM6ZnVuY3Rpb24gZXF1YWxzKGV1bGVyKXtyZXR1cm4gZXVsZXIuX3g9PT10aGlzLl94JiZldWxlci5feT09PXRoaXMuX3kmJmV1bGVyLl96PT09dGhpcy5feiYmZXVsZXIuX29yZGVyPT09dGhpcy5fb3JkZXI7fSxmcm9tQXJyYXk6ZnVuY3Rpb24gZnJvbUFycmF5KGFycmF5KXt0aGlzLl94PWFycmF5WzBdO3RoaXMuX3k9YXJyYXlbMV07dGhpcy5fej1hcnJheVsyXTtpZihhcnJheVszXSE9PXVuZGVmaW5lZCl7dGhpcy5fb3JkZXI9YXJyYXlbM107fXRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKTtyZXR1cm4gdGhpczt9LHRvQXJyYXk6ZnVuY3Rpb24gdG9BcnJheShhcnJheSxvZmZzZXQpe2lmKGFycmF5PT09dW5kZWZpbmVkKXthcnJheT1bXTt9aWYob2Zmc2V0PT09dW5kZWZpbmVkKXtvZmZzZXQ9MDt9YXJyYXlbb2Zmc2V0XT10aGlzLl94O2FycmF5W29mZnNldCsxXT10aGlzLl95O2FycmF5W29mZnNldCsyXT10aGlzLl96O2FycmF5W29mZnNldCszXT10aGlzLl9vcmRlcjtyZXR1cm4gYXJyYXk7fSx0b1ZlY3RvcjM6ZnVuY3Rpb24gdG9WZWN0b3IzKG9wdGlvbmFsUmVzdWx0KXtpZihvcHRpb25hbFJlc3VsdCl7cmV0dXJuIG9wdGlvbmFsUmVzdWx0LnNldCh0aGlzLl94LHRoaXMuX3ksdGhpcy5feik7fWVsc2V7cmV0dXJuIG5ldyBWZWN0b3IzKHRoaXMuX3gsdGhpcy5feSx0aGlzLl96KTt9fSxfb25DaGFuZ2U6ZnVuY3Rpb24gX29uQ2hhbmdlKGNhbGxiYWNrKXt0aGlzLl9vbkNoYW5nZUNhbGxiYWNrPWNhbGxiYWNrO3JldHVybiB0aGlzO30sX29uQ2hhbmdlQ2FsbGJhY2s6ZnVuY3Rpb24gX29uQ2hhbmdlQ2FsbGJhY2soKXt9fSk7LyoqCiAgICogQGF1dGhvciBtcmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS8KICAgKi9mdW5jdGlvbiBMYXllcnMoKXt0aGlzLm1hc2s9MXwwO31PYmplY3QuYXNzaWduKExheWVycy5wcm90b3R5cGUse3NldDpmdW5jdGlvbiBzZXQoY2hhbm5lbCl7dGhpcy5tYXNrPTE8PGNoYW5uZWx8MDt9LGVuYWJsZTpmdW5jdGlvbiBlbmFibGUoY2hhbm5lbCl7dGhpcy5tYXNrfD0xPDxjaGFubmVsfDA7fSxlbmFibGVBbGw6ZnVuY3Rpb24gZW5hYmxlQWxsKCl7dGhpcy5tYXNrPTB4ZmZmZmZmZmZ8MDt9LHRvZ2dsZTpmdW5jdGlvbiB0b2dnbGUoY2hhbm5lbCl7dGhpcy5tYXNrXj0xPDxjaGFubmVsfDA7fSxkaXNhYmxlOmZ1bmN0aW9uIGRpc2FibGUoY2hhbm5lbCl7dGhpcy5tYXNrJj1+KDE8PGNoYW5uZWx8MCk7fSxkaXNhYmxlQWxsOmZ1bmN0aW9uIGRpc2FibGVBbGwoKXt0aGlzLm1hc2s9MDt9LHRlc3Q6ZnVuY3Rpb24gdGVzdChsYXllcnMpe3JldHVybih0aGlzLm1hc2smbGF5ZXJzLm1hc2spIT09MDt9fSk7dmFyIF9vYmplY3QzRElkPTA7dmFyIF92MSQxPW5ldyBWZWN0b3IzKCk7dmFyIF9xMT1uZXcgUXVhdGVybmlvbigpO3ZhciBfbTEkMT1uZXcgTWF0cml4NCgpO3ZhciBfdGFyZ2V0PW5ldyBWZWN0b3IzKCk7dmFyIF9wb3NpdGlvbj1uZXcgVmVjdG9yMygpO3ZhciBfc2NhbGU9bmV3IFZlY3RvcjMoKTt2YXIgX3F1YXRlcm5pb24kMj1uZXcgUXVhdGVybmlvbigpO3ZhciBfeEF4aXM9bmV3IFZlY3RvcjMoMSwwLDApO3ZhciBfeUF4aXM9bmV3IFZlY3RvcjMoMCwxLDApO3ZhciBfekF4aXM9bmV3IFZlY3RvcjMoMCwwLDEpO3ZhciBfYWRkZWRFdmVudD17dHlwZTonYWRkZWQnfTt2YXIgX3JlbW92ZWRFdmVudD17dHlwZToncmVtb3ZlZCd9Oy8qKgogICAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb20vCiAgICogQGF1dGhvciBtaWthZWwgZW10aW5nZXIgLyBodHRwOi8vZ29tby5zZS8KICAgKiBAYXV0aG9yIGFsdGVyZWRxIC8gaHR0cDovL2FsdGVyZWRxdWFsaWEuY29tLwogICAqIEBhdXRob3IgV2VzdExhbmdsZXkgLyBodHRwOi8vZ2l0aHViLmNvbS9XZXN0TGFuZ2xleQogICAqIEBhdXRob3IgZWxlcGhhbnRhdHdvcmsgLyB3d3cuZWxlcGhhbnRhdHdvcmsuY2gKICAgKi9mdW5jdGlvbiBPYmplY3QzRCgpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCdpZCcse3ZhbHVlOl9vYmplY3QzRElkKyt9KTt0aGlzLnV1aWQ9X01hdGguZ2VuZXJhdGVVVUlEKCk7dGhpcy5uYW1lPScnO3RoaXMudHlwZT0nT2JqZWN0M0QnO3RoaXMucGFyZW50PW51bGw7dGhpcy5jaGlsZHJlbj1bXTt0aGlzLnVwPU9iamVjdDNELkRlZmF1bHRVcC5jbG9uZSgpO3ZhciBwb3NpdGlvbj1uZXcgVmVjdG9yMygpO3ZhciByb3RhdGlvbj1uZXcgRXVsZXIoKTt2YXIgcXVhdGVybmlvbj1uZXcgUXVhdGVybmlvbigpO3ZhciBzY2FsZT1uZXcgVmVjdG9yMygxLDEsMSk7ZnVuY3Rpb24gb25Sb3RhdGlvbkNoYW5nZSgpe3F1YXRlcm5pb24uc2V0RnJvbUV1bGVyKHJvdGF0aW9uLGZhbHNlKTt9ZnVuY3Rpb24gb25RdWF0ZXJuaW9uQ2hhbmdlKCl7cm90YXRpb24uc2V0RnJvbVF1YXRlcm5pb24ocXVhdGVybmlvbix1bmRlZmluZWQsZmFsc2UpO31yb3RhdGlvbi5fb25DaGFuZ2Uob25Sb3RhdGlvbkNoYW5nZSk7cXVhdGVybmlvbi5fb25DaGFuZ2Uob25RdWF0ZXJuaW9uQ2hhbmdlKTtPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLHtwb3NpdGlvbjp7Y29uZmlndXJhYmxlOnRydWUsZW51bWVyYWJsZTp0cnVlLHZhbHVlOnBvc2l0aW9ufSxyb3RhdGlvbjp7Y29uZmlndXJhYmxlOnRydWUsZW51bWVyYWJsZTp0cnVlLHZhbHVlOnJvdGF0aW9ufSxxdWF0ZXJuaW9uOntjb25maWd1cmFibGU6dHJ1ZSxlbnVtZXJhYmxlOnRydWUsdmFsdWU6cXVhdGVybmlvbn0sc2NhbGU6e2NvbmZpZ3VyYWJsZTp0cnVlLGVudW1lcmFibGU6dHJ1ZSx2YWx1ZTpzY2FsZX0sbW9kZWxWaWV3TWF0cml4Ont2YWx1ZTpuZXcgTWF0cml4NCgpfSxub3JtYWxNYXRyaXg6e3ZhbHVlOm5ldyBNYXRyaXgzKCl9fSk7dGhpcy5tYXRyaXg9bmV3IE1hdHJpeDQoKTt0aGlzLm1hdHJpeFdvcmxkPW5ldyBNYXRyaXg0KCk7dGhpcy5tYXRyaXhBdXRvVXBkYXRlPU9iamVjdDNELkRlZmF1bHRNYXRyaXhBdXRvVXBkYXRlO3RoaXMubWF0cml4V29ybGROZWVkc1VwZGF0ZT1mYWxzZTt0aGlzLmxheWVycz1uZXcgTGF5ZXJzKCk7dGhpcy52aXNpYmxlPXRydWU7dGhpcy5jYXN0U2hhZG93PWZhbHNlO3RoaXMucmVjZWl2ZVNoYWRvdz1mYWxzZTt0aGlzLmZydXN0dW1DdWxsZWQ9dHJ1ZTt0aGlzLnJlbmRlck9yZGVyPTA7dGhpcy51c2VyRGF0YT17fTt9T2JqZWN0M0QuRGVmYXVsdFVwPW5ldyBWZWN0b3IzKDAsMSwwKTtPYmplY3QzRC5EZWZhdWx0TWF0cml4QXV0b1VwZGF0ZT10cnVlO09iamVjdDNELnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoRXZlbnREaXNwYXRjaGVyLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOk9iamVjdDNELGlzT2JqZWN0M0Q6dHJ1ZSxvbkJlZm9yZVJlbmRlcjpmdW5jdGlvbiBvbkJlZm9yZVJlbmRlcigpe30sb25BZnRlclJlbmRlcjpmdW5jdGlvbiBvbkFmdGVyUmVuZGVyKCl7fSxhcHBseU1hdHJpeDpmdW5jdGlvbiBhcHBseU1hdHJpeChtYXRyaXgpe2lmKHRoaXMubWF0cml4QXV0b1VwZGF0ZSl7dGhpcy51cGRhdGVNYXRyaXgoKTt9dGhpcy5tYXRyaXgucHJlbXVsdGlwbHkobWF0cml4KTt0aGlzLm1hdHJpeC5kZWNvbXBvc2UodGhpcy5wb3NpdGlvbix0aGlzLnF1YXRlcm5pb24sdGhpcy5zY2FsZSk7fSxhcHBseVF1YXRlcm5pb246ZnVuY3Rpb24gYXBwbHlRdWF0ZXJuaW9uKHEpe3RoaXMucXVhdGVybmlvbi5wcmVtdWx0aXBseShxKTtyZXR1cm4gdGhpczt9LHNldFJvdGF0aW9uRnJvbUF4aXNBbmdsZTpmdW5jdGlvbiBzZXRSb3RhdGlvbkZyb21BeGlzQW5nbGUoYXhpcyxhbmdsZSl7Ly8gYXNzdW1lcyBheGlzIGlzIG5vcm1hbGl6ZWQKdGhpcy5xdWF0ZXJuaW9uLnNldEZyb21BeGlzQW5nbGUoYXhpcyxhbmdsZSk7fSxzZXRSb3RhdGlvbkZyb21FdWxlcjpmdW5jdGlvbiBzZXRSb3RhdGlvbkZyb21FdWxlcihldWxlcil7dGhpcy5xdWF0ZXJuaW9uLnNldEZyb21FdWxlcihldWxlcix0cnVlKTt9LHNldFJvdGF0aW9uRnJvbU1hdHJpeDpmdW5jdGlvbiBzZXRSb3RhdGlvbkZyb21NYXRyaXgobSl7Ly8gYXNzdW1lcyB0aGUgdXBwZXIgM3gzIG9mIG0gaXMgYSBwdXJlIHJvdGF0aW9uIG1hdHJpeCAoaS5lLCB1bnNjYWxlZCkKdGhpcy5xdWF0ZXJuaW9uLnNldEZyb21Sb3RhdGlvbk1hdHJpeChtKTt9LHNldFJvdGF0aW9uRnJvbVF1YXRlcm5pb246ZnVuY3Rpb24gc2V0Um90YXRpb25Gcm9tUXVhdGVybmlvbihxKXsvLyBhc3N1bWVzIHEgaXMgbm9ybWFsaXplZAp0aGlzLnF1YXRlcm5pb24uY29weShxKTt9LHJvdGF0ZU9uQXhpczpmdW5jdGlvbiByb3RhdGVPbkF4aXMoYXhpcyxhbmdsZSl7Ly8gcm90YXRlIG9iamVjdCBvbiBheGlzIGluIG9iamVjdCBzcGFjZQovLyBheGlzIGlzIGFzc3VtZWQgdG8gYmUgbm9ybWFsaXplZApfcTEuc2V0RnJvbUF4aXNBbmdsZShheGlzLGFuZ2xlKTt0aGlzLnF1YXRlcm5pb24ubXVsdGlwbHkoX3ExKTtyZXR1cm4gdGhpczt9LHJvdGF0ZU9uV29ybGRBeGlzOmZ1bmN0aW9uIHJvdGF0ZU9uV29ybGRBeGlzKGF4aXMsYW5nbGUpey8vIHJvdGF0ZSBvYmplY3Qgb24gYXhpcyBpbiB3b3JsZCBzcGFjZQovLyBheGlzIGlzIGFzc3VtZWQgdG8gYmUgbm9ybWFsaXplZAovLyBtZXRob2QgYXNzdW1lcyBubyByb3RhdGVkIHBhcmVudApfcTEuc2V0RnJvbUF4aXNBbmdsZShheGlzLGFuZ2xlKTt0aGlzLnF1YXRlcm5pb24ucHJlbXVsdGlwbHkoX3ExKTtyZXR1cm4gdGhpczt9LHJvdGF0ZVg6ZnVuY3Rpb24gcm90YXRlWChhbmdsZSl7cmV0dXJuIHRoaXMucm90YXRlT25BeGlzKF94QXhpcyxhbmdsZSk7fSxyb3RhdGVZOmZ1bmN0aW9uIHJvdGF0ZVkoYW5nbGUpe3JldHVybiB0aGlzLnJvdGF0ZU9uQXhpcyhfeUF4aXMsYW5nbGUpO30scm90YXRlWjpmdW5jdGlvbiByb3RhdGVaKGFuZ2xlKXtyZXR1cm4gdGhpcy5yb3RhdGVPbkF4aXMoX3pBeGlzLGFuZ2xlKTt9LHRyYW5zbGF0ZU9uQXhpczpmdW5jdGlvbiB0cmFuc2xhdGVPbkF4aXMoYXhpcyxkaXN0YW5jZSl7Ly8gdHJhbnNsYXRlIG9iamVjdCBieSBkaXN0YW5jZSBhbG9uZyBheGlzIGluIG9iamVjdCBzcGFjZQovLyBheGlzIGlzIGFzc3VtZWQgdG8gYmUgbm9ybWFsaXplZApfdjEkMS5jb3B5KGF4aXMpLmFwcGx5UXVhdGVybmlvbih0aGlzLnF1YXRlcm5pb24pO3RoaXMucG9zaXRpb24uYWRkKF92MSQxLm11bHRpcGx5U2NhbGFyKGRpc3RhbmNlKSk7cmV0dXJuIHRoaXM7fSx0cmFuc2xhdGVYOmZ1bmN0aW9uIHRyYW5zbGF0ZVgoZGlzdGFuY2Upe3JldHVybiB0aGlzLnRyYW5zbGF0ZU9uQXhpcyhfeEF4aXMsZGlzdGFuY2UpO30sdHJhbnNsYXRlWTpmdW5jdGlvbiB0cmFuc2xhdGVZKGRpc3RhbmNlKXtyZXR1cm4gdGhpcy50cmFuc2xhdGVPbkF4aXMoX3lBeGlzLGRpc3RhbmNlKTt9LHRyYW5zbGF0ZVo6ZnVuY3Rpb24gdHJhbnNsYXRlWihkaXN0YW5jZSl7cmV0dXJuIHRoaXMudHJhbnNsYXRlT25BeGlzKF96QXhpcyxkaXN0YW5jZSk7fSxsb2NhbFRvV29ybGQ6ZnVuY3Rpb24gbG9jYWxUb1dvcmxkKHZlY3Rvcil7cmV0dXJuIHZlY3Rvci5hcHBseU1hdHJpeDQodGhpcy5tYXRyaXhXb3JsZCk7fSx3b3JsZFRvTG9jYWw6ZnVuY3Rpb24gd29ybGRUb0xvY2FsKHZlY3Rvcil7cmV0dXJuIHZlY3Rvci5hcHBseU1hdHJpeDQoX20xJDEuZ2V0SW52ZXJzZSh0aGlzLm1hdHJpeFdvcmxkKSk7fSxsb29rQXQ6ZnVuY3Rpb24gbG9va0F0KHgseSx6KXsvLyBUaGlzIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0IG9iamVjdHMgaGF2aW5nIG5vbi11bmlmb3JtbHktc2NhbGVkIHBhcmVudChzKQppZih4LmlzVmVjdG9yMyl7X3RhcmdldC5jb3B5KHgpO31lbHNle190YXJnZXQuc2V0KHgseSx6KTt9dmFyIHBhcmVudD10aGlzLnBhcmVudDt0aGlzLnVwZGF0ZVdvcmxkTWF0cml4KHRydWUsZmFsc2UpO19wb3NpdGlvbi5zZXRGcm9tTWF0cml4UG9zaXRpb24odGhpcy5tYXRyaXhXb3JsZCk7aWYodGhpcy5pc0NhbWVyYXx8dGhpcy5pc0xpZ2h0KXtfbTEkMS5sb29rQXQoX3Bvc2l0aW9uLF90YXJnZXQsdGhpcy51cCk7fWVsc2V7X20xJDEubG9va0F0KF90YXJnZXQsX3Bvc2l0aW9uLHRoaXMudXApO310aGlzLnF1YXRlcm5pb24uc2V0RnJvbVJvdGF0aW9uTWF0cml4KF9tMSQxKTtpZihwYXJlbnQpe19tMSQxLmV4dHJhY3RSb3RhdGlvbihwYXJlbnQubWF0cml4V29ybGQpO19xMS5zZXRGcm9tUm90YXRpb25NYXRyaXgoX20xJDEpO3RoaXMucXVhdGVybmlvbi5wcmVtdWx0aXBseShfcTEuaW52ZXJzZSgpKTt9fSxhZGQ6ZnVuY3Rpb24gYWRkKG9iamVjdCl7aWYoYXJndW1lbnRzLmxlbmd0aD4xKXtmb3IodmFyIGk9MDtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKXt0aGlzLmFkZChhcmd1bWVudHNbaV0pO31yZXR1cm4gdGhpczt9aWYob2JqZWN0PT09dGhpcyl7Y29uc29sZS5lcnJvcigiVEhSRUUuT2JqZWN0M0QuYWRkOiBvYmplY3QgY2FuJ3QgYmUgYWRkZWQgYXMgYSBjaGlsZCBvZiBpdHNlbGYuIixvYmplY3QpO3JldHVybiB0aGlzO31pZihvYmplY3QmJm9iamVjdC5pc09iamVjdDNEKXtpZihvYmplY3QucGFyZW50IT09bnVsbCl7b2JqZWN0LnBhcmVudC5yZW1vdmUob2JqZWN0KTt9b2JqZWN0LnBhcmVudD10aGlzO3RoaXMuY2hpbGRyZW4ucHVzaChvYmplY3QpO29iamVjdC5kaXNwYXRjaEV2ZW50KF9hZGRlZEV2ZW50KTt9ZWxzZXtjb25zb2xlLmVycm9yKCJUSFJFRS5PYmplY3QzRC5hZGQ6IG9iamVjdCBub3QgYW4gaW5zdGFuY2Ugb2YgVEhSRUUuT2JqZWN0M0QuIixvYmplY3QpO31yZXR1cm4gdGhpczt9LHJlbW92ZTpmdW5jdGlvbiByZW1vdmUob2JqZWN0KXtpZihhcmd1bWVudHMubGVuZ3RoPjEpe2Zvcih2YXIgaT0wO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspe3RoaXMucmVtb3ZlKGFyZ3VtZW50c1tpXSk7fXJldHVybiB0aGlzO312YXIgaW5kZXg9dGhpcy5jaGlsZHJlbi5pbmRleE9mKG9iamVjdCk7aWYoaW5kZXghPT0tMSl7b2JqZWN0LnBhcmVudD1udWxsO3RoaXMuY2hpbGRyZW4uc3BsaWNlKGluZGV4LDEpO29iamVjdC5kaXNwYXRjaEV2ZW50KF9yZW1vdmVkRXZlbnQpO31yZXR1cm4gdGhpczt9LGF0dGFjaDpmdW5jdGlvbiBhdHRhY2gob2JqZWN0KXsvLyBhZGRzIG9iamVjdCBhcyBhIGNoaWxkIG9mIHRoaXMsIHdoaWxlIG1haW50YWluaW5nIHRoZSBvYmplY3QncyB3b3JsZCB0cmFuc2Zvcm0KdGhpcy51cGRhdGVXb3JsZE1hdHJpeCh0cnVlLGZhbHNlKTtfbTEkMS5nZXRJbnZlcnNlKHRoaXMubWF0cml4V29ybGQpO2lmKG9iamVjdC5wYXJlbnQhPT1udWxsKXtvYmplY3QucGFyZW50LnVwZGF0ZVdvcmxkTWF0cml4KHRydWUsZmFsc2UpO19tMSQxLm11bHRpcGx5KG9iamVjdC5wYXJlbnQubWF0cml4V29ybGQpO31vYmplY3QuYXBwbHlNYXRyaXgoX20xJDEpO29iamVjdC51cGRhdGVXb3JsZE1hdHJpeChmYWxzZSxmYWxzZSk7dGhpcy5hZGQob2JqZWN0KTtyZXR1cm4gdGhpczt9LGdldE9iamVjdEJ5SWQ6ZnVuY3Rpb24gZ2V0T2JqZWN0QnlJZChpZCl7cmV0dXJuIHRoaXMuZ2V0T2JqZWN0QnlQcm9wZXJ0eSgnaWQnLGlkKTt9LGdldE9iamVjdEJ5TmFtZTpmdW5jdGlvbiBnZXRPYmplY3RCeU5hbWUobmFtZSl7cmV0dXJuIHRoaXMuZ2V0T2JqZWN0QnlQcm9wZXJ0eSgnbmFtZScsbmFtZSk7fSxnZXRPYmplY3RCeVByb3BlcnR5OmZ1bmN0aW9uIGdldE9iamVjdEJ5UHJvcGVydHkobmFtZSx2YWx1ZSl7aWYodGhpc1tuYW1lXT09PXZhbHVlKXtyZXR1cm4gdGhpczt9Zm9yKHZhciBpPTAsbD10aGlzLmNoaWxkcmVuLmxlbmd0aDtpPGw7aSsrKXt2YXIgY2hpbGQ9dGhpcy5jaGlsZHJlbltpXTt2YXIgb2JqZWN0PWNoaWxkLmdldE9iamVjdEJ5UHJvcGVydHkobmFtZSx2YWx1ZSk7aWYob2JqZWN0IT09dW5kZWZpbmVkKXtyZXR1cm4gb2JqZWN0O319cmV0dXJuIHVuZGVmaW5lZDt9LGdldFdvcmxkUG9zaXRpb246ZnVuY3Rpb24gZ2V0V29ybGRQb3NpdGlvbih0YXJnZXQpe2lmKHRhcmdldD09PXVuZGVmaW5lZCl7Y29uc29sZS53YXJuKCdUSFJFRS5PYmplY3QzRDogLmdldFdvcmxkUG9zaXRpb24oKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkJyk7dGFyZ2V0PW5ldyBWZWN0b3IzKCk7fXRoaXMudXBkYXRlTWF0cml4V29ybGQodHJ1ZSk7cmV0dXJuIHRhcmdldC5zZXRGcm9tTWF0cml4UG9zaXRpb24odGhpcy5tYXRyaXhXb3JsZCk7fSxnZXRXb3JsZFF1YXRlcm5pb246ZnVuY3Rpb24gZ2V0V29ybGRRdWF0ZXJuaW9uKHRhcmdldCl7aWYodGFyZ2V0PT09dW5kZWZpbmVkKXtjb25zb2xlLndhcm4oJ1RIUkVFLk9iamVjdDNEOiAuZ2V0V29ybGRRdWF0ZXJuaW9uKCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCcpO3RhcmdldD1uZXcgUXVhdGVybmlvbigpO310aGlzLnVwZGF0ZU1hdHJpeFdvcmxkKHRydWUpO3RoaXMubWF0cml4V29ybGQuZGVjb21wb3NlKF9wb3NpdGlvbix0YXJnZXQsX3NjYWxlKTtyZXR1cm4gdGFyZ2V0O30sZ2V0V29ybGRTY2FsZTpmdW5jdGlvbiBnZXRXb3JsZFNjYWxlKHRhcmdldCl7aWYodGFyZ2V0PT09dW5kZWZpbmVkKXtjb25zb2xlLndhcm4oJ1RIUkVFLk9iamVjdDNEOiAuZ2V0V29ybGRTY2FsZSgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQnKTt0YXJnZXQ9bmV3IFZlY3RvcjMoKTt9dGhpcy51cGRhdGVNYXRyaXhXb3JsZCh0cnVlKTt0aGlzLm1hdHJpeFdvcmxkLmRlY29tcG9zZShfcG9zaXRpb24sX3F1YXRlcm5pb24kMix0YXJnZXQpO3JldHVybiB0YXJnZXQ7fSxnZXRXb3JsZERpcmVjdGlvbjpmdW5jdGlvbiBnZXRXb3JsZERpcmVjdGlvbih0YXJnZXQpe2lmKHRhcmdldD09PXVuZGVmaW5lZCl7Y29uc29sZS53YXJuKCdUSFJFRS5PYmplY3QzRDogLmdldFdvcmxkRGlyZWN0aW9uKCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCcpO3RhcmdldD1uZXcgVmVjdG9yMygpO310aGlzLnVwZGF0ZU1hdHJpeFdvcmxkKHRydWUpO3ZhciBlPXRoaXMubWF0cml4V29ybGQuZWxlbWVudHM7cmV0dXJuIHRhcmdldC5zZXQoZVs4XSxlWzldLGVbMTBdKS5ub3JtYWxpemUoKTt9LHJheWNhc3Q6ZnVuY3Rpb24gcmF5Y2FzdCgpe30sdHJhdmVyc2U6ZnVuY3Rpb24gdHJhdmVyc2UoY2FsbGJhY2spe2NhbGxiYWNrKHRoaXMpO3ZhciBjaGlsZHJlbj10aGlzLmNoaWxkcmVuO2Zvcih2YXIgaT0wLGw9Y2hpbGRyZW4ubGVuZ3RoO2k8bDtpKyspe2NoaWxkcmVuW2ldLnRyYXZlcnNlKGNhbGxiYWNrKTt9fSx0cmF2ZXJzZVZpc2libGU6ZnVuY3Rpb24gdHJhdmVyc2VWaXNpYmxlKGNhbGxiYWNrKXtpZih0aGlzLnZpc2libGU9PT1mYWxzZSl7cmV0dXJuO31jYWxsYmFjayh0aGlzKTt2YXIgY2hpbGRyZW49dGhpcy5jaGlsZHJlbjtmb3IodmFyIGk9MCxsPWNoaWxkcmVuLmxlbmd0aDtpPGw7aSsrKXtjaGlsZHJlbltpXS50cmF2ZXJzZVZpc2libGUoY2FsbGJhY2spO319LHRyYXZlcnNlQW5jZXN0b3JzOmZ1bmN0aW9uIHRyYXZlcnNlQW5jZXN0b3JzKGNhbGxiYWNrKXt2YXIgcGFyZW50PXRoaXMucGFyZW50O2lmKHBhcmVudCE9PW51bGwpe2NhbGxiYWNrKHBhcmVudCk7cGFyZW50LnRyYXZlcnNlQW5jZXN0b3JzKGNhbGxiYWNrKTt9fSx1cGRhdGVNYXRyaXg6ZnVuY3Rpb24gdXBkYXRlTWF0cml4KCl7dGhpcy5tYXRyaXguY29tcG9zZSh0aGlzLnBvc2l0aW9uLHRoaXMucXVhdGVybmlvbix0aGlzLnNjYWxlKTt0aGlzLm1hdHJpeFdvcmxkTmVlZHNVcGRhdGU9dHJ1ZTt9LHVwZGF0ZU1hdHJpeFdvcmxkOmZ1bmN0aW9uIHVwZGF0ZU1hdHJpeFdvcmxkKGZvcmNlKXtpZih0aGlzLm1hdHJpeEF1dG9VcGRhdGUpe3RoaXMudXBkYXRlTWF0cml4KCk7fWlmKHRoaXMubWF0cml4V29ybGROZWVkc1VwZGF0ZXx8Zm9yY2Upe2lmKHRoaXMucGFyZW50PT09bnVsbCl7dGhpcy5tYXRyaXhXb3JsZC5jb3B5KHRoaXMubWF0cml4KTt9ZWxzZXt0aGlzLm1hdHJpeFdvcmxkLm11bHRpcGx5TWF0cmljZXModGhpcy5wYXJlbnQubWF0cml4V29ybGQsdGhpcy5tYXRyaXgpO310aGlzLm1hdHJpeFdvcmxkTmVlZHNVcGRhdGU9ZmFsc2U7Zm9yY2U9dHJ1ZTt9Ly8gdXBkYXRlIGNoaWxkcmVuCnZhciBjaGlsZHJlbj10aGlzLmNoaWxkcmVuO2Zvcih2YXIgaT0wLGw9Y2hpbGRyZW4ubGVuZ3RoO2k8bDtpKyspe2NoaWxkcmVuW2ldLnVwZGF0ZU1hdHJpeFdvcmxkKGZvcmNlKTt9fSx1cGRhdGVXb3JsZE1hdHJpeDpmdW5jdGlvbiB1cGRhdGVXb3JsZE1hdHJpeCh1cGRhdGVQYXJlbnRzLHVwZGF0ZUNoaWxkcmVuKXt2YXIgcGFyZW50PXRoaXMucGFyZW50O2lmKHVwZGF0ZVBhcmVudHM9PT10cnVlJiZwYXJlbnQhPT1udWxsKXtwYXJlbnQudXBkYXRlV29ybGRNYXRyaXgodHJ1ZSxmYWxzZSk7fWlmKHRoaXMubWF0cml4QXV0b1VwZGF0ZSl7dGhpcy51cGRhdGVNYXRyaXgoKTt9aWYodGhpcy5wYXJlbnQ9PT1udWxsKXt0aGlzLm1hdHJpeFdvcmxkLmNvcHkodGhpcy5tYXRyaXgpO31lbHNle3RoaXMubWF0cml4V29ybGQubXVsdGlwbHlNYXRyaWNlcyh0aGlzLnBhcmVudC5tYXRyaXhXb3JsZCx0aGlzLm1hdHJpeCk7fS8vIHVwZGF0ZSBjaGlsZHJlbgppZih1cGRhdGVDaGlsZHJlbj09PXRydWUpe3ZhciBjaGlsZHJlbj10aGlzLmNoaWxkcmVuO2Zvcih2YXIgaT0wLGw9Y2hpbGRyZW4ubGVuZ3RoO2k8bDtpKyspe2NoaWxkcmVuW2ldLnVwZGF0ZVdvcmxkTWF0cml4KGZhbHNlLHRydWUpO319fSx0b0pTT046ZnVuY3Rpb24gdG9KU09OKG1ldGEpey8vIG1ldGEgaXMgYSBzdHJpbmcgd2hlbiBjYWxsZWQgZnJvbSBKU09OLnN0cmluZ2lmeQp2YXIgaXNSb290T2JqZWN0PW1ldGE9PT11bmRlZmluZWR8fHR5cGVvZiBtZXRhPT09J3N0cmluZyc7dmFyIG91dHB1dD17fTsvLyBtZXRhIGlzIGEgaGFzaCB1c2VkIHRvIGNvbGxlY3QgZ2VvbWV0cmllcywgbWF0ZXJpYWxzLgovLyBub3QgcHJvdmlkaW5nIGl0IGltcGxpZXMgdGhhdCB0aGlzIGlzIHRoZSByb290IG9iamVjdAovLyBiZWluZyBzZXJpYWxpemVkLgppZihpc1Jvb3RPYmplY3Qpey8vIGluaXRpYWxpemUgbWV0YSBvYmoKbWV0YT17Z2VvbWV0cmllczp7fSxtYXRlcmlhbHM6e30sdGV4dHVyZXM6e30saW1hZ2VzOnt9LHNoYXBlczp7fX07b3V0cHV0Lm1ldGFkYXRhPXt2ZXJzaW9uOjQuNSx0eXBlOidPYmplY3QnLGdlbmVyYXRvcjonT2JqZWN0M0QudG9KU09OJ307fS8vIHN0YW5kYXJkIE9iamVjdDNEIHNlcmlhbGl6YXRpb24KdmFyIG9iamVjdD17fTtvYmplY3QudXVpZD10aGlzLnV1aWQ7b2JqZWN0LnR5cGU9dGhpcy50eXBlO2lmKHRoaXMubmFtZSE9PScnKXtvYmplY3QubmFtZT10aGlzLm5hbWU7fWlmKHRoaXMuY2FzdFNoYWRvdz09PXRydWUpe29iamVjdC5jYXN0U2hhZG93PXRydWU7fWlmKHRoaXMucmVjZWl2ZVNoYWRvdz09PXRydWUpe29iamVjdC5yZWNlaXZlU2hhZG93PXRydWU7fWlmKHRoaXMudmlzaWJsZT09PWZhbHNlKXtvYmplY3QudmlzaWJsZT1mYWxzZTt9aWYodGhpcy5mcnVzdHVtQ3VsbGVkPT09ZmFsc2Upe29iamVjdC5mcnVzdHVtQ3VsbGVkPWZhbHNlO31pZih0aGlzLnJlbmRlck9yZGVyIT09MCl7b2JqZWN0LnJlbmRlck9yZGVyPXRoaXMucmVuZGVyT3JkZXI7fWlmKEpTT04uc3RyaW5naWZ5KHRoaXMudXNlckRhdGEpIT09J3t9Jyl7b2JqZWN0LnVzZXJEYXRhPXRoaXMudXNlckRhdGE7fW9iamVjdC5sYXllcnM9dGhpcy5sYXllcnMubWFzaztvYmplY3QubWF0cml4PXRoaXMubWF0cml4LnRvQXJyYXkoKTtpZih0aGlzLm1hdHJpeEF1dG9VcGRhdGU9PT1mYWxzZSl7b2JqZWN0Lm1hdHJpeEF1dG9VcGRhdGU9ZmFsc2U7fS8vIG9iamVjdCBzcGVjaWZpYyBwcm9wZXJ0aWVzCmlmKHRoaXMuaXNJbnN0YW5jZWRNZXNoKXtvYmplY3QudHlwZT0nSW5zdGFuY2VkTWVzaCc7b2JqZWN0LmNvdW50PXRoaXMuY291bnQ7b2JqZWN0Lmluc3RhbmNlTWF0cml4PXRoaXMuaW5zdGFuY2VNYXRyaXgudG9KU09OKCk7fS8vCmZ1bmN0aW9uIHNlcmlhbGl6ZShsaWJyYXJ5LGVsZW1lbnQpe2lmKGxpYnJhcnlbZWxlbWVudC51dWlkXT09PXVuZGVmaW5lZCl7bGlicmFyeVtlbGVtZW50LnV1aWRdPWVsZW1lbnQudG9KU09OKG1ldGEpO31yZXR1cm4gZWxlbWVudC51dWlkO31pZih0aGlzLmlzTWVzaHx8dGhpcy5pc0xpbmV8fHRoaXMuaXNQb2ludHMpe29iamVjdC5nZW9tZXRyeT1zZXJpYWxpemUobWV0YS5nZW9tZXRyaWVzLHRoaXMuZ2VvbWV0cnkpO3ZhciBwYXJhbWV0ZXJzPXRoaXMuZ2VvbWV0cnkucGFyYW1ldGVycztpZihwYXJhbWV0ZXJzIT09dW5kZWZpbmVkJiZwYXJhbWV0ZXJzLnNoYXBlcyE9PXVuZGVmaW5lZCl7dmFyIHNoYXBlcz1wYXJhbWV0ZXJzLnNoYXBlcztpZihBcnJheS5pc0FycmF5KHNoYXBlcykpe2Zvcih2YXIgaT0wLGw9c2hhcGVzLmxlbmd0aDtpPGw7aSsrKXt2YXIgc2hhcGU9c2hhcGVzW2ldO3NlcmlhbGl6ZShtZXRhLnNoYXBlcyxzaGFwZSk7fX1lbHNle3NlcmlhbGl6ZShtZXRhLnNoYXBlcyxzaGFwZXMpO319fWlmKHRoaXMubWF0ZXJpYWwhPT11bmRlZmluZWQpe2lmKEFycmF5LmlzQXJyYXkodGhpcy5tYXRlcmlhbCkpe3ZhciB1dWlkcz1bXTtmb3IodmFyIGk9MCxsPXRoaXMubWF0ZXJpYWwubGVuZ3RoO2k8bDtpKyspe3V1aWRzLnB1c2goc2VyaWFsaXplKG1ldGEubWF0ZXJpYWxzLHRoaXMubWF0ZXJpYWxbaV0pKTt9b2JqZWN0Lm1hdGVyaWFsPXV1aWRzO31lbHNle29iamVjdC5tYXRlcmlhbD1zZXJpYWxpemUobWV0YS5tYXRlcmlhbHMsdGhpcy5tYXRlcmlhbCk7fX0vLwppZih0aGlzLmNoaWxkcmVuLmxlbmd0aD4wKXtvYmplY3QuY2hpbGRyZW49W107Zm9yKHZhciBpPTA7aTx0aGlzLmNoaWxkcmVuLmxlbmd0aDtpKyspe29iamVjdC5jaGlsZHJlbi5wdXNoKHRoaXMuY2hpbGRyZW5baV0udG9KU09OKG1ldGEpLm9iamVjdCk7fX1pZihpc1Jvb3RPYmplY3Qpe3ZhciBnZW9tZXRyaWVzPWV4dHJhY3RGcm9tQ2FjaGUobWV0YS5nZW9tZXRyaWVzKTt2YXIgbWF0ZXJpYWxzPWV4dHJhY3RGcm9tQ2FjaGUobWV0YS5tYXRlcmlhbHMpO3ZhciB0ZXh0dXJlcz1leHRyYWN0RnJvbUNhY2hlKG1ldGEudGV4dHVyZXMpO3ZhciBpbWFnZXM9ZXh0cmFjdEZyb21DYWNoZShtZXRhLmltYWdlcyk7dmFyIHNoYXBlcz1leHRyYWN0RnJvbUNhY2hlKG1ldGEuc2hhcGVzKTtpZihnZW9tZXRyaWVzLmxlbmd0aD4wKXtvdXRwdXQuZ2VvbWV0cmllcz1nZW9tZXRyaWVzO31pZihtYXRlcmlhbHMubGVuZ3RoPjApe291dHB1dC5tYXRlcmlhbHM9bWF0ZXJpYWxzO31pZih0ZXh0dXJlcy5sZW5ndGg+MCl7b3V0cHV0LnRleHR1cmVzPXRleHR1cmVzO31pZihpbWFnZXMubGVuZ3RoPjApe291dHB1dC5pbWFnZXM9aW1hZ2VzO31pZihzaGFwZXMubGVuZ3RoPjApe291dHB1dC5zaGFwZXM9c2hhcGVzO319b3V0cHV0Lm9iamVjdD1vYmplY3Q7cmV0dXJuIG91dHB1dDsvLyBleHRyYWN0IGRhdGEgZnJvbSB0aGUgY2FjaGUgaGFzaAovLyByZW1vdmUgbWV0YWRhdGEgb24gZWFjaCBpdGVtCi8vIGFuZCByZXR1cm4gYXMgYXJyYXkKZnVuY3Rpb24gZXh0cmFjdEZyb21DYWNoZShjYWNoZSl7dmFyIHZhbHVlcz1bXTtmb3IodmFyIGtleSBpbiBjYWNoZSl7dmFyIGRhdGE9Y2FjaGVba2V5XTtkZWxldGUgZGF0YS5tZXRhZGF0YTt2YWx1ZXMucHVzaChkYXRhKTt9cmV0dXJuIHZhbHVlczt9fSxjbG9uZTpmdW5jdGlvbiBjbG9uZShyZWN1cnNpdmUpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmNvcHkodGhpcyxyZWN1cnNpdmUpO30sY29weTpmdW5jdGlvbiBjb3B5KHNvdXJjZSxyZWN1cnNpdmUpe2lmKHJlY3Vyc2l2ZT09PXVuZGVmaW5lZCl7cmVjdXJzaXZlPXRydWU7fXRoaXMubmFtZT1zb3VyY2UubmFtZTt0aGlzLnVwLmNvcHkoc291cmNlLnVwKTt0aGlzLnBvc2l0aW9uLmNvcHkoc291cmNlLnBvc2l0aW9uKTt0aGlzLnF1YXRlcm5pb24uY29weShzb3VyY2UucXVhdGVybmlvbik7dGhpcy5zY2FsZS5jb3B5KHNvdXJjZS5zY2FsZSk7dGhpcy5tYXRyaXguY29weShzb3VyY2UubWF0cml4KTt0aGlzLm1hdHJpeFdvcmxkLmNvcHkoc291cmNlLm1hdHJpeFdvcmxkKTt0aGlzLm1hdHJpeEF1dG9VcGRhdGU9c291cmNlLm1hdHJpeEF1dG9VcGRhdGU7dGhpcy5tYXRyaXhXb3JsZE5lZWRzVXBkYXRlPXNvdXJjZS5tYXRyaXhXb3JsZE5lZWRzVXBkYXRlO3RoaXMubGF5ZXJzLm1hc2s9c291cmNlLmxheWVycy5tYXNrO3RoaXMudmlzaWJsZT1zb3VyY2UudmlzaWJsZTt0aGlzLmNhc3RTaGFkb3c9c291cmNlLmNhc3RTaGFkb3c7dGhpcy5yZWNlaXZlU2hhZG93PXNvdXJjZS5yZWNlaXZlU2hhZG93O3RoaXMuZnJ1c3R1bUN1bGxlZD1zb3VyY2UuZnJ1c3R1bUN1bGxlZDt0aGlzLnJlbmRlck9yZGVyPXNvdXJjZS5yZW5kZXJPcmRlcjt0aGlzLnVzZXJEYXRhPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoc291cmNlLnVzZXJEYXRhKSk7aWYocmVjdXJzaXZlPT09dHJ1ZSl7Zm9yKHZhciBpPTA7aTxzb3VyY2UuY2hpbGRyZW4ubGVuZ3RoO2krKyl7dmFyIGNoaWxkPXNvdXJjZS5jaGlsZHJlbltpXTt0aGlzLmFkZChjaGlsZC5jbG9uZSgpKTt9fXJldHVybiB0aGlzO319KTsvKioKICAgKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tLwogICAqL2Z1bmN0aW9uIFNjZW5lKCl7T2JqZWN0M0QuY2FsbCh0aGlzKTt0aGlzLnR5cGU9J1NjZW5lJzt0aGlzLmJhY2tncm91bmQ9bnVsbDt0aGlzLmVudmlyb25tZW50PW51bGw7dGhpcy5mb2c9bnVsbDt0aGlzLm92ZXJyaWRlTWF0ZXJpYWw9bnVsbDt0aGlzLmF1dG9VcGRhdGU9dHJ1ZTsvLyBjaGVja2VkIGJ5IHRoZSByZW5kZXJlcgppZih0eXBlb2YgX19USFJFRV9ERVZUT09MU19fIT09J3VuZGVmaW5lZCcpe19fVEhSRUVfREVWVE9PTFNfXy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnb2JzZXJ2ZScse2RldGFpbDp0aGlzfSkpOy8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWYKfX1TY2VuZS5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKE9iamVjdDNELnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOlNjZW5lLGlzU2NlbmU6dHJ1ZSxjb3B5OmZ1bmN0aW9uIGNvcHkoc291cmNlLHJlY3Vyc2l2ZSl7T2JqZWN0M0QucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHNvdXJjZSxyZWN1cnNpdmUpO2lmKHNvdXJjZS5iYWNrZ3JvdW5kIT09bnVsbCl7dGhpcy5iYWNrZ3JvdW5kPXNvdXJjZS5iYWNrZ3JvdW5kLmNsb25lKCk7fWlmKHNvdXJjZS5lbnZpcm9ubWVudCE9PW51bGwpe3RoaXMuZW52aXJvbm1lbnQ9c291cmNlLmVudmlyb25tZW50LmNsb25lKCk7fWlmKHNvdXJjZS5mb2chPT1udWxsKXt0aGlzLmZvZz1zb3VyY2UuZm9nLmNsb25lKCk7fWlmKHNvdXJjZS5vdmVycmlkZU1hdGVyaWFsIT09bnVsbCl7dGhpcy5vdmVycmlkZU1hdGVyaWFsPXNvdXJjZS5vdmVycmlkZU1hdGVyaWFsLmNsb25lKCk7fXRoaXMuYXV0b1VwZGF0ZT1zb3VyY2UuYXV0b1VwZGF0ZTt0aGlzLm1hdHJpeEF1dG9VcGRhdGU9c291cmNlLm1hdHJpeEF1dG9VcGRhdGU7cmV0dXJuIHRoaXM7fSx0b0pTT046ZnVuY3Rpb24gdG9KU09OKG1ldGEpe3ZhciBkYXRhPU9iamVjdDNELnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzLG1ldGEpO2lmKHRoaXMuYmFja2dyb3VuZCE9PW51bGwpe2RhdGEub2JqZWN0LmJhY2tncm91bmQ9dGhpcy5iYWNrZ3JvdW5kLnRvSlNPTihtZXRhKTt9aWYodGhpcy5lbnZpcm9ubWVudCE9PW51bGwpe2RhdGEub2JqZWN0LmVudmlyb25tZW50PXRoaXMuZW52aXJvbm1lbnQudG9KU09OKG1ldGEpO31pZih0aGlzLmZvZyE9PW51bGwpe2RhdGEub2JqZWN0LmZvZz10aGlzLmZvZy50b0pTT04oKTt9cmV0dXJuIGRhdGE7fSxkaXNwb3NlOmZ1bmN0aW9uIGRpc3Bvc2UoKXt0aGlzLmRpc3BhdGNoRXZlbnQoe3R5cGU6J2Rpc3Bvc2UnfSk7fX0pO3ZhciBfcG9pbnRzPVtuZXcgVmVjdG9yMygpLG5ldyBWZWN0b3IzKCksbmV3IFZlY3RvcjMoKSxuZXcgVmVjdG9yMygpLG5ldyBWZWN0b3IzKCksbmV3IFZlY3RvcjMoKSxuZXcgVmVjdG9yMygpLG5ldyBWZWN0b3IzKCldO3ZhciBfdmVjdG9yJDI9bmV3IFZlY3RvcjMoKTt2YXIgX2JveD1uZXcgQm94MygpOy8vIHRyaWFuZ2xlIGNlbnRlcmVkIHZlcnRpY2VzCnZhciBfdjA9bmV3IFZlY3RvcjMoKTt2YXIgX3YxJDI9bmV3IFZlY3RvcjMoKTt2YXIgX3YyPW5ldyBWZWN0b3IzKCk7Ly8gdHJpYW5nbGUgZWRnZSB2ZWN0b3JzCnZhciBfZjA9bmV3IFZlY3RvcjMoKTt2YXIgX2YxPW5ldyBWZWN0b3IzKCk7dmFyIF9mMj1uZXcgVmVjdG9yMygpO3ZhciBfY2VudGVyPW5ldyBWZWN0b3IzKCk7dmFyIF9leHRlbnRzPW5ldyBWZWN0b3IzKCk7dmFyIF90cmlhbmdsZU5vcm1hbD1uZXcgVmVjdG9yMygpO3ZhciBfdGVzdEF4aXM9bmV3IFZlY3RvcjMoKTsvKioKICAgKiBAYXV0aG9yIGJob3VzdG9uIC8gaHR0cDovL2NsYXJhLmlvCiAgICogQGF1dGhvciBXZXN0TGFuZ2xleSAvIGh0dHA6Ly9naXRodWIuY29tL1dlc3RMYW5nbGV5CiAgICovZnVuY3Rpb24gQm94MyhtaW4sbWF4KXt0aGlzLm1pbj1taW4hPT11bmRlZmluZWQ/bWluOm5ldyBWZWN0b3IzKCtJbmZpbml0eSwrSW5maW5pdHksK0luZmluaXR5KTt0aGlzLm1heD1tYXghPT11bmRlZmluZWQ/bWF4Om5ldyBWZWN0b3IzKC1JbmZpbml0eSwtSW5maW5pdHksLUluZmluaXR5KTt9T2JqZWN0LmFzc2lnbihCb3gzLnByb3RvdHlwZSx7aXNCb3gzOnRydWUsc2V0OmZ1bmN0aW9uIHNldChtaW4sbWF4KXt0aGlzLm1pbi5jb3B5KG1pbik7dGhpcy5tYXguY29weShtYXgpO3JldHVybiB0aGlzO30sc2V0RnJvbUFycmF5OmZ1bmN0aW9uIHNldEZyb21BcnJheShhcnJheSl7dmFyIG1pblg9K0luZmluaXR5O3ZhciBtaW5ZPStJbmZpbml0eTt2YXIgbWluWj0rSW5maW5pdHk7dmFyIG1heFg9LUluZmluaXR5O3ZhciBtYXhZPS1JbmZpbml0eTt2YXIgbWF4Wj0tSW5maW5pdHk7Zm9yKHZhciBpPTAsbD1hcnJheS5sZW5ndGg7aTxsO2krPTMpe3ZhciB4PWFycmF5W2ldO3ZhciB5PWFycmF5W2krMV07dmFyIHo9YXJyYXlbaSsyXTtpZih4PG1pblgpe21pblg9eDt9aWYoeTxtaW5ZKXttaW5ZPXk7fWlmKHo8bWluWil7bWluWj16O31pZih4Pm1heFgpe21heFg9eDt9aWYoeT5tYXhZKXttYXhZPXk7fWlmKHo+bWF4Wil7bWF4Wj16O319dGhpcy5taW4uc2V0KG1pblgsbWluWSxtaW5aKTt0aGlzLm1heC5zZXQobWF4WCxtYXhZLG1heFopO3JldHVybiB0aGlzO30sc2V0RnJvbUJ1ZmZlckF0dHJpYnV0ZTpmdW5jdGlvbiBzZXRGcm9tQnVmZmVyQXR0cmlidXRlKGF0dHJpYnV0ZSl7dmFyIG1pblg9K0luZmluaXR5O3ZhciBtaW5ZPStJbmZpbml0eTt2YXIgbWluWj0rSW5maW5pdHk7dmFyIG1heFg9LUluZmluaXR5O3ZhciBtYXhZPS1JbmZpbml0eTt2YXIgbWF4Wj0tSW5maW5pdHk7Zm9yKHZhciBpPTAsbD1hdHRyaWJ1dGUuY291bnQ7aTxsO2krKyl7dmFyIHg9YXR0cmlidXRlLmdldFgoaSk7dmFyIHk9YXR0cmlidXRlLmdldFkoaSk7dmFyIHo9YXR0cmlidXRlLmdldFooaSk7aWYoeDxtaW5YKXttaW5YPXg7fWlmKHk8bWluWSl7bWluWT15O31pZih6PG1pblope21pblo9ejt9aWYoeD5tYXhYKXttYXhYPXg7fWlmKHk+bWF4WSl7bWF4WT15O31pZih6Pm1heFope21heFo9ejt9fXRoaXMubWluLnNldChtaW5YLG1pblksbWluWik7dGhpcy5tYXguc2V0KG1heFgsbWF4WSxtYXhaKTtyZXR1cm4gdGhpczt9LHNldEZyb21Qb2ludHM6ZnVuY3Rpb24gc2V0RnJvbVBvaW50cyhwb2ludHMpe3RoaXMubWFrZUVtcHR5KCk7Zm9yKHZhciBpPTAsaWw9cG9pbnRzLmxlbmd0aDtpPGlsO2krKyl7dGhpcy5leHBhbmRCeVBvaW50KHBvaW50c1tpXSk7fXJldHVybiB0aGlzO30sc2V0RnJvbUNlbnRlckFuZFNpemU6ZnVuY3Rpb24gc2V0RnJvbUNlbnRlckFuZFNpemUoY2VudGVyLHNpemUpe3ZhciBoYWxmU2l6ZT1fdmVjdG9yJDIuY29weShzaXplKS5tdWx0aXBseVNjYWxhcigwLjUpO3RoaXMubWluLmNvcHkoY2VudGVyKS5zdWIoaGFsZlNpemUpO3RoaXMubWF4LmNvcHkoY2VudGVyKS5hZGQoaGFsZlNpemUpO3JldHVybiB0aGlzO30sc2V0RnJvbU9iamVjdDpmdW5jdGlvbiBzZXRGcm9tT2JqZWN0KG9iamVjdCl7dGhpcy5tYWtlRW1wdHkoKTtyZXR1cm4gdGhpcy5leHBhbmRCeU9iamVjdChvYmplY3QpO30sY2xvbmU6ZnVuY3Rpb24gY2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoKS5jb3B5KHRoaXMpO30sY29weTpmdW5jdGlvbiBjb3B5KGJveCl7dGhpcy5taW4uY29weShib3gubWluKTt0aGlzLm1heC5jb3B5KGJveC5tYXgpO3JldHVybiB0aGlzO30sbWFrZUVtcHR5OmZ1bmN0aW9uIG1ha2VFbXB0eSgpe3RoaXMubWluLng9dGhpcy5taW4ueT10aGlzLm1pbi56PStJbmZpbml0eTt0aGlzLm1heC54PXRoaXMubWF4Lnk9dGhpcy5tYXguej0tSW5maW5pdHk7cmV0dXJuIHRoaXM7fSxpc0VtcHR5OmZ1bmN0aW9uIGlzRW1wdHkoKXsvLyB0aGlzIGlzIGEgbW9yZSByb2J1c3QgY2hlY2sgZm9yIGVtcHR5IHRoYW4gKCB2b2x1bWUgPD0gMCApIGJlY2F1c2Ugdm9sdW1lIGNhbiBnZXQgcG9zaXRpdmUgd2l0aCB0d28gbmVnYXRpdmUgYXhlcwpyZXR1cm4gdGhpcy5tYXgueDx0aGlzLm1pbi54fHx0aGlzLm1heC55PHRoaXMubWluLnl8fHRoaXMubWF4Lno8dGhpcy5taW4uejt9LGdldENlbnRlcjpmdW5jdGlvbiBnZXRDZW50ZXIodGFyZ2V0KXtpZih0YXJnZXQ9PT11bmRlZmluZWQpe2NvbnNvbGUud2FybignVEhSRUUuQm94MzogLmdldENlbnRlcigpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQnKTt0YXJnZXQ9bmV3IFZlY3RvcjMoKTt9cmV0dXJuIHRoaXMuaXNFbXB0eSgpP3RhcmdldC5zZXQoMCwwLDApOnRhcmdldC5hZGRWZWN0b3JzKHRoaXMubWluLHRoaXMubWF4KS5tdWx0aXBseVNjYWxhcigwLjUpO30sZ2V0U2l6ZTpmdW5jdGlvbiBnZXRTaXplKHRhcmdldCl7aWYodGFyZ2V0PT09dW5kZWZpbmVkKXtjb25zb2xlLndhcm4oJ1RIUkVFLkJveDM6IC5nZXRTaXplKCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCcpO3RhcmdldD1uZXcgVmVjdG9yMygpO31yZXR1cm4gdGhpcy5pc0VtcHR5KCk/dGFyZ2V0LnNldCgwLDAsMCk6dGFyZ2V0LnN1YlZlY3RvcnModGhpcy5tYXgsdGhpcy5taW4pO30sZXhwYW5kQnlQb2ludDpmdW5jdGlvbiBleHBhbmRCeVBvaW50KHBvaW50KXt0aGlzLm1pbi5taW4ocG9pbnQpO3RoaXMubWF4Lm1heChwb2ludCk7cmV0dXJuIHRoaXM7fSxleHBhbmRCeVZlY3RvcjpmdW5jdGlvbiBleHBhbmRCeVZlY3Rvcih2ZWN0b3Ipe3RoaXMubWluLnN1Yih2ZWN0b3IpO3RoaXMubWF4LmFkZCh2ZWN0b3IpO3JldHVybiB0aGlzO30sZXhwYW5kQnlTY2FsYXI6ZnVuY3Rpb24gZXhwYW5kQnlTY2FsYXIoc2NhbGFyKXt0aGlzLm1pbi5hZGRTY2FsYXIoLXNjYWxhcik7dGhpcy5tYXguYWRkU2NhbGFyKHNjYWxhcik7cmV0dXJuIHRoaXM7fSxleHBhbmRCeU9iamVjdDpmdW5jdGlvbiBleHBhbmRCeU9iamVjdChvYmplY3Qpey8vIENvbXB1dGVzIHRoZSB3b3JsZC1heGlzLWFsaWduZWQgYm91bmRpbmcgYm94IG9mIGFuIG9iamVjdCAoaW5jbHVkaW5nIGl0cyBjaGlsZHJlbiksCi8vIGFjY291bnRpbmcgZm9yIGJvdGggdGhlIG9iamVjdCdzLCBhbmQgY2hpbGRyZW4ncywgd29ybGQgdHJhbnNmb3JtcwpvYmplY3QudXBkYXRlV29ybGRNYXRyaXgoZmFsc2UsZmFsc2UpO3ZhciBnZW9tZXRyeT1vYmplY3QuZ2VvbWV0cnk7aWYoZ2VvbWV0cnkhPT11bmRlZmluZWQpe2lmKGdlb21ldHJ5LmJvdW5kaW5nQm94PT09bnVsbCl7Z2VvbWV0cnkuY29tcHV0ZUJvdW5kaW5nQm94KCk7fV9ib3guY29weShnZW9tZXRyeS5ib3VuZGluZ0JveCk7X2JveC5hcHBseU1hdHJpeDQob2JqZWN0Lm1hdHJpeFdvcmxkKTt0aGlzLmV4cGFuZEJ5UG9pbnQoX2JveC5taW4pO3RoaXMuZXhwYW5kQnlQb2ludChfYm94Lm1heCk7fXZhciBjaGlsZHJlbj1vYmplY3QuY2hpbGRyZW47Zm9yKHZhciBpPTAsbD1jaGlsZHJlbi5sZW5ndGg7aTxsO2krKyl7dGhpcy5leHBhbmRCeU9iamVjdChjaGlsZHJlbltpXSk7fXJldHVybiB0aGlzO30sY29udGFpbnNQb2ludDpmdW5jdGlvbiBjb250YWluc1BvaW50KHBvaW50KXtyZXR1cm4gcG9pbnQueDx0aGlzLm1pbi54fHxwb2ludC54PnRoaXMubWF4Lnh8fHBvaW50Lnk8dGhpcy5taW4ueXx8cG9pbnQueT50aGlzLm1heC55fHxwb2ludC56PHRoaXMubWluLnp8fHBvaW50Lno+dGhpcy5tYXguej9mYWxzZTp0cnVlO30sY29udGFpbnNCb3g6ZnVuY3Rpb24gY29udGFpbnNCb3goYm94KXtyZXR1cm4gdGhpcy5taW4ueDw9Ym94Lm1pbi54JiZib3gubWF4Lng8PXRoaXMubWF4LngmJnRoaXMubWluLnk8PWJveC5taW4ueSYmYm94Lm1heC55PD10aGlzLm1heC55JiZ0aGlzLm1pbi56PD1ib3gubWluLnomJmJveC5tYXguejw9dGhpcy5tYXguejt9LGdldFBhcmFtZXRlcjpmdW5jdGlvbiBnZXRQYXJhbWV0ZXIocG9pbnQsdGFyZ2V0KXsvLyBUaGlzIGNhbiBwb3RlbnRpYWxseSBoYXZlIGEgZGl2aWRlIGJ5IHplcm8gaWYgdGhlIGJveAovLyBoYXMgYSBzaXplIGRpbWVuc2lvbiBvZiAwLgppZih0YXJnZXQ9PT11bmRlZmluZWQpe2NvbnNvbGUud2FybignVEhSRUUuQm94MzogLmdldFBhcmFtZXRlcigpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQnKTt0YXJnZXQ9bmV3IFZlY3RvcjMoKTt9cmV0dXJuIHRhcmdldC5zZXQoKHBvaW50LngtdGhpcy5taW4ueCkvKHRoaXMubWF4LngtdGhpcy5taW4ueCksKHBvaW50LnktdGhpcy5taW4ueSkvKHRoaXMubWF4LnktdGhpcy5taW4ueSksKHBvaW50LnotdGhpcy5taW4ueikvKHRoaXMubWF4LnotdGhpcy5taW4ueikpO30saW50ZXJzZWN0c0JveDpmdW5jdGlvbiBpbnRlcnNlY3RzQm94KGJveCl7Ly8gdXNpbmcgNiBzcGxpdHRpbmcgcGxhbmVzIHRvIHJ1bGUgb3V0IGludGVyc2VjdGlvbnMuCnJldHVybiBib3gubWF4Lng8dGhpcy5taW4ueHx8Ym94Lm1pbi54PnRoaXMubWF4Lnh8fGJveC5tYXgueTx0aGlzLm1pbi55fHxib3gubWluLnk+dGhpcy5tYXgueXx8Ym94Lm1heC56PHRoaXMubWluLnp8fGJveC5taW4uej50aGlzLm1heC56P2ZhbHNlOnRydWU7fSxpbnRlcnNlY3RzU3BoZXJlOmZ1bmN0aW9uIGludGVyc2VjdHNTcGhlcmUoc3BoZXJlKXsvLyBGaW5kIHRoZSBwb2ludCBvbiB0aGUgQUFCQiBjbG9zZXN0IHRvIHRoZSBzcGhlcmUgY2VudGVyLgp0aGlzLmNsYW1wUG9pbnQoc3BoZXJlLmNlbnRlcixfdmVjdG9yJDIpOy8vIElmIHRoYXQgcG9pbnQgaXMgaW5zaWRlIHRoZSBzcGhlcmUsIHRoZSBBQUJCIGFuZCBzcGhlcmUgaW50ZXJzZWN0LgpyZXR1cm4gX3ZlY3RvciQyLmRpc3RhbmNlVG9TcXVhcmVkKHNwaGVyZS5jZW50ZXIpPD1zcGhlcmUucmFkaXVzKnNwaGVyZS5yYWRpdXM7fSxpbnRlcnNlY3RzUGxhbmU6ZnVuY3Rpb24gaW50ZXJzZWN0c1BsYW5lKHBsYW5lKXsvLyBXZSBjb21wdXRlIHRoZSBtaW5pbXVtIGFuZCBtYXhpbXVtIGRvdCBwcm9kdWN0IHZhbHVlcy4gSWYgdGhvc2UgdmFsdWVzCi8vIGFyZSBvbiB0aGUgc2FtZSBzaWRlIChiYWNrIG9yIGZyb250KSBvZiB0aGUgcGxhbmUsIHRoZW4gdGhlcmUgaXMgbm8gaW50ZXJzZWN0aW9uLgp2YXIgbWluLG1heDtpZihwbGFuZS5ub3JtYWwueD4wKXttaW49cGxhbmUubm9ybWFsLngqdGhpcy5taW4ueDttYXg9cGxhbmUubm9ybWFsLngqdGhpcy5tYXgueDt9ZWxzZXttaW49cGxhbmUubm9ybWFsLngqdGhpcy5tYXgueDttYXg9cGxhbmUubm9ybWFsLngqdGhpcy5taW4ueDt9aWYocGxhbmUubm9ybWFsLnk+MCl7bWluKz1wbGFuZS5ub3JtYWwueSp0aGlzLm1pbi55O21heCs9cGxhbmUubm9ybWFsLnkqdGhpcy5tYXgueTt9ZWxzZXttaW4rPXBsYW5lLm5vcm1hbC55KnRoaXMubWF4Lnk7bWF4Kz1wbGFuZS5ub3JtYWwueSp0aGlzLm1pbi55O31pZihwbGFuZS5ub3JtYWwuej4wKXttaW4rPXBsYW5lLm5vcm1hbC56KnRoaXMubWluLno7bWF4Kz1wbGFuZS5ub3JtYWwueip0aGlzLm1heC56O31lbHNle21pbis9cGxhbmUubm9ybWFsLnoqdGhpcy5tYXguejttYXgrPXBsYW5lLm5vcm1hbC56KnRoaXMubWluLno7fXJldHVybiBtaW48PS1wbGFuZS5jb25zdGFudCYmbWF4Pj0tcGxhbmUuY29uc3RhbnQ7fSxpbnRlcnNlY3RzVHJpYW5nbGU6ZnVuY3Rpb24gaW50ZXJzZWN0c1RyaWFuZ2xlKHRyaWFuZ2xlKXtpZih0aGlzLmlzRW1wdHkoKSl7cmV0dXJuIGZhbHNlO30vLyBjb21wdXRlIGJveCBjZW50ZXIgYW5kIGV4dGVudHMKdGhpcy5nZXRDZW50ZXIoX2NlbnRlcik7X2V4dGVudHMuc3ViVmVjdG9ycyh0aGlzLm1heCxfY2VudGVyKTsvLyB0cmFuc2xhdGUgdHJpYW5nbGUgdG8gYWFiYiBvcmlnaW4KX3YwLnN1YlZlY3RvcnModHJpYW5nbGUuYSxfY2VudGVyKTtfdjEkMi5zdWJWZWN0b3JzKHRyaWFuZ2xlLmIsX2NlbnRlcik7X3YyLnN1YlZlY3RvcnModHJpYW5nbGUuYyxfY2VudGVyKTsvLyBjb21wdXRlIGVkZ2UgdmVjdG9ycyBmb3IgdHJpYW5nbGUKX2YwLnN1YlZlY3RvcnMoX3YxJDIsX3YwKTtfZjEuc3ViVmVjdG9ycyhfdjIsX3YxJDIpO19mMi5zdWJWZWN0b3JzKF92MCxfdjIpOy8vIHRlc3QgYWdhaW5zdCBheGVzIHRoYXQgYXJlIGdpdmVuIGJ5IGNyb3NzIHByb2R1Y3QgY29tYmluYXRpb25zIG9mIHRoZSBlZGdlcyBvZiB0aGUgdHJpYW5nbGUgYW5kIHRoZSBlZGdlcyBvZiB0aGUgYWFiYgovLyBtYWtlIGFuIGF4aXMgdGVzdGluZyBvZiBlYWNoIG9mIHRoZSAzIHNpZGVzIG9mIHRoZSBhYWJiIGFnYWluc3QgZWFjaCBvZiB0aGUgMyBzaWRlcyBvZiB0aGUgdHJpYW5nbGUgPSA5IGF4aXMgb2Ygc2VwYXJhdGlvbgovLyBheGlzX2lqID0gdV9pIHggZl9qICh1MCwgdTEsIHUyID0gZmFjZSBub3JtYWxzIG9mIGFhYmIgPSB4LHkseiBheGVzIHZlY3RvcnMgc2luY2UgYWFiYiBpcyBheGlzIGFsaWduZWQpCnZhciBheGVzPVswLC1fZjAueixfZjAueSwwLC1fZjEueixfZjEueSwwLC1fZjIueixfZjIueSxfZjAueiwwLC1fZjAueCxfZjEueiwwLC1fZjEueCxfZjIueiwwLC1fZjIueCwtX2YwLnksX2YwLngsMCwtX2YxLnksX2YxLngsMCwtX2YyLnksX2YyLngsMF07aWYoIXNhdEZvckF4ZXMoYXhlcyxfdjAsX3YxJDIsX3YyLF9leHRlbnRzKSl7cmV0dXJuIGZhbHNlO30vLyB0ZXN0IDMgZmFjZSBub3JtYWxzIGZyb20gdGhlIGFhYmIKYXhlcz1bMSwwLDAsMCwxLDAsMCwwLDFdO2lmKCFzYXRGb3JBeGVzKGF4ZXMsX3YwLF92MSQyLF92MixfZXh0ZW50cykpe3JldHVybiBmYWxzZTt9Ly8gZmluYWxseSB0ZXN0aW5nIHRoZSBmYWNlIG5vcm1hbCBvZiB0aGUgdHJpYW5nbGUKLy8gdXNlIGFscmVhZHkgZXhpc3RpbmcgdHJpYW5nbGUgZWRnZSB2ZWN0b3JzIGhlcmUKX3RyaWFuZ2xlTm9ybWFsLmNyb3NzVmVjdG9ycyhfZjAsX2YxKTtheGVzPVtfdHJpYW5nbGVOb3JtYWwueCxfdHJpYW5nbGVOb3JtYWwueSxfdHJpYW5nbGVOb3JtYWwuel07cmV0dXJuIHNhdEZvckF4ZXMoYXhlcyxfdjAsX3YxJDIsX3YyLF9leHRlbnRzKTt9LGNsYW1wUG9pbnQ6ZnVuY3Rpb24gY2xhbXBQb2ludChwb2ludCx0YXJnZXQpe2lmKHRhcmdldD09PXVuZGVmaW5lZCl7Y29uc29sZS53YXJuKCdUSFJFRS5Cb3gzOiAuY2xhbXBQb2ludCgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQnKTt0YXJnZXQ9bmV3IFZlY3RvcjMoKTt9cmV0dXJuIHRhcmdldC5jb3B5KHBvaW50KS5jbGFtcCh0aGlzLm1pbix0aGlzLm1heCk7fSxkaXN0YW5jZVRvUG9pbnQ6ZnVuY3Rpb24gZGlzdGFuY2VUb1BvaW50KHBvaW50KXt2YXIgY2xhbXBlZFBvaW50PV92ZWN0b3IkMi5jb3B5KHBvaW50KS5jbGFtcCh0aGlzLm1pbix0aGlzLm1heCk7cmV0dXJuIGNsYW1wZWRQb2ludC5zdWIocG9pbnQpLmxlbmd0aCgpO30sZ2V0Qm91bmRpbmdTcGhlcmU6ZnVuY3Rpb24gZ2V0Qm91bmRpbmdTcGhlcmUodGFyZ2V0KXtpZih0YXJnZXQ9PT11bmRlZmluZWQpe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLkJveDM6IC5nZXRCb3VuZGluZ1NwaGVyZSgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQnKTsvL3RhcmdldCA9IG5ldyBTcGhlcmUoKTsgLy8gcmVtb3ZlZCB0byBhdm9pZCBjeWNsaWMgZGVwZW5kZW5jeQp9dGhpcy5nZXRDZW50ZXIodGFyZ2V0LmNlbnRlcik7dGFyZ2V0LnJhZGl1cz10aGlzLmdldFNpemUoX3ZlY3RvciQyKS5sZW5ndGgoKSowLjU7cmV0dXJuIHRhcmdldDt9LGludGVyc2VjdDpmdW5jdGlvbiBpbnRlcnNlY3QoYm94KXt0aGlzLm1pbi5tYXgoYm94Lm1pbik7dGhpcy5tYXgubWluKGJveC5tYXgpOy8vIGVuc3VyZSB0aGF0IGlmIHRoZXJlIGlzIG5vIG92ZXJsYXAsIHRoZSByZXN1bHQgaXMgZnVsbHkgZW1wdHksIG5vdCBzbGlnaHRseSBlbXB0eSB3aXRoIG5vbi1pbmYvK2luZiB2YWx1ZXMgdGhhdCB3aWxsIGNhdXNlIHN1YnNlcXVlbmNlIGludGVyc2VjdHMgdG8gZXJyb25lb3VzbHkgcmV0dXJuIHZhbGlkIHZhbHVlcy4KaWYodGhpcy5pc0VtcHR5KCkpe3RoaXMubWFrZUVtcHR5KCk7fXJldHVybiB0aGlzO30sdW5pb246ZnVuY3Rpb24gdW5pb24oYm94KXt0aGlzLm1pbi5taW4oYm94Lm1pbik7dGhpcy5tYXgubWF4KGJveC5tYXgpO3JldHVybiB0aGlzO30sYXBwbHlNYXRyaXg0OmZ1bmN0aW9uIGFwcGx5TWF0cml4NChtYXRyaXgpey8vIHRyYW5zZm9ybSBvZiBlbXB0eSBib3ggaXMgYW4gZW1wdHkgYm94LgppZih0aGlzLmlzRW1wdHkoKSl7cmV0dXJuIHRoaXM7fS8vIE5PVEU6IEkgYW0gdXNpbmcgYSBiaW5hcnkgcGF0dGVybiB0byBzcGVjaWZ5IGFsbCAyXjMgY29tYmluYXRpb25zIGJlbG93Cl9wb2ludHNbMF0uc2V0KHRoaXMubWluLngsdGhpcy5taW4ueSx0aGlzLm1pbi56KS5hcHBseU1hdHJpeDQobWF0cml4KTsvLyAwMDAKX3BvaW50c1sxXS5zZXQodGhpcy5taW4ueCx0aGlzLm1pbi55LHRoaXMubWF4LnopLmFwcGx5TWF0cml4NChtYXRyaXgpOy8vIDAwMQpfcG9pbnRzWzJdLnNldCh0aGlzLm1pbi54LHRoaXMubWF4LnksdGhpcy5taW4ueikuYXBwbHlNYXRyaXg0KG1hdHJpeCk7Ly8gMDEwCl9wb2ludHNbM10uc2V0KHRoaXMubWluLngsdGhpcy5tYXgueSx0aGlzLm1heC56KS5hcHBseU1hdHJpeDQobWF0cml4KTsvLyAwMTEKX3BvaW50c1s0XS5zZXQodGhpcy5tYXgueCx0aGlzLm1pbi55LHRoaXMubWluLnopLmFwcGx5TWF0cml4NChtYXRyaXgpOy8vIDEwMApfcG9pbnRzWzVdLnNldCh0aGlzLm1heC54LHRoaXMubWluLnksdGhpcy5tYXgueikuYXBwbHlNYXRyaXg0KG1hdHJpeCk7Ly8gMTAxCl9wb2ludHNbNl0uc2V0KHRoaXMubWF4LngsdGhpcy5tYXgueSx0aGlzLm1pbi56KS5hcHBseU1hdHJpeDQobWF0cml4KTsvLyAxMTAKX3BvaW50c1s3XS5zZXQodGhpcy5tYXgueCx0aGlzLm1heC55LHRoaXMubWF4LnopLmFwcGx5TWF0cml4NChtYXRyaXgpOy8vIDExMQp0aGlzLnNldEZyb21Qb2ludHMoX3BvaW50cyk7cmV0dXJuIHRoaXM7fSx0cmFuc2xhdGU6ZnVuY3Rpb24gdHJhbnNsYXRlKG9mZnNldCl7dGhpcy5taW4uYWRkKG9mZnNldCk7dGhpcy5tYXguYWRkKG9mZnNldCk7cmV0dXJuIHRoaXM7fSxlcXVhbHM6ZnVuY3Rpb24gZXF1YWxzKGJveCl7cmV0dXJuIGJveC5taW4uZXF1YWxzKHRoaXMubWluKSYmYm94Lm1heC5lcXVhbHModGhpcy5tYXgpO319KTtmdW5jdGlvbiBzYXRGb3JBeGVzKGF4ZXMsdjAsdjEsdjIsZXh0ZW50cyl7dmFyIGksajtmb3IoaT0wLGo9YXhlcy5sZW5ndGgtMztpPD1qO2krPTMpe190ZXN0QXhpcy5mcm9tQXJyYXkoYXhlcyxpKTsvLyBwcm9qZWN0IHRoZSBhYWJiIG9udG8gdGhlIHNlcGVyYXRpbmcgYXhpcwp2YXIgcj1leHRlbnRzLngqTWF0aC5hYnMoX3Rlc3RBeGlzLngpK2V4dGVudHMueSpNYXRoLmFicyhfdGVzdEF4aXMueSkrZXh0ZW50cy56Kk1hdGguYWJzKF90ZXN0QXhpcy56KTsvLyBwcm9qZWN0IGFsbCAzIHZlcnRpY2VzIG9mIHRoZSB0cmlhbmdsZSBvbnRvIHRoZSBzZXBlcmF0aW5nIGF4aXMKdmFyIHAwPXYwLmRvdChfdGVzdEF4aXMpO3ZhciBwMT12MS5kb3QoX3Rlc3RBeGlzKTt2YXIgcDI9djIuZG90KF90ZXN0QXhpcyk7Ly8gYWN0dWFsIHRlc3QsIGJhc2ljYWxseSBzZWUgaWYgZWl0aGVyIG9mIHRoZSBtb3N0IGV4dHJlbWUgb2YgdGhlIHRyaWFuZ2xlIHBvaW50cyBpbnRlcnNlY3RzIHIKaWYoTWF0aC5tYXgoLU1hdGgubWF4KHAwLHAxLHAyKSxNYXRoLm1pbihwMCxwMSxwMikpPnIpey8vIHBvaW50cyBvZiB0aGUgcHJvamVjdGVkIHRyaWFuZ2xlIGFyZSBvdXRzaWRlIHRoZSBwcm9qZWN0ZWQgaGFsZi1sZW5ndGggb2YgdGhlIGFhYmIKLy8gdGhlIGF4aXMgaXMgc2VwZXJhdGluZyBhbmQgd2UgY2FuIGV4aXQKcmV0dXJuIGZhbHNlO319cmV0dXJuIHRydWU7fXZhciBfYm94JDE9bmV3IEJveDMoKTsvKioKICAgKiBAYXV0aG9yIGJob3VzdG9uIC8gaHR0cDovL2NsYXJhLmlvCiAgICogQGF1dGhvciBtcmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS8KICAgKi9mdW5jdGlvbiBTcGhlcmUoY2VudGVyLHJhZGl1cyl7dGhpcy5jZW50ZXI9Y2VudGVyIT09dW5kZWZpbmVkP2NlbnRlcjpuZXcgVmVjdG9yMygpO3RoaXMucmFkaXVzPXJhZGl1cyE9PXVuZGVmaW5lZD9yYWRpdXM6MDt9T2JqZWN0LmFzc2lnbihTcGhlcmUucHJvdG90eXBlLHtzZXQ6ZnVuY3Rpb24gc2V0KGNlbnRlcixyYWRpdXMpe3RoaXMuY2VudGVyLmNvcHkoY2VudGVyKTt0aGlzLnJhZGl1cz1yYWRpdXM7cmV0dXJuIHRoaXM7fSxzZXRGcm9tUG9pbnRzOmZ1bmN0aW9uIHNldEZyb21Qb2ludHMocG9pbnRzLG9wdGlvbmFsQ2VudGVyKXt2YXIgY2VudGVyPXRoaXMuY2VudGVyO2lmKG9wdGlvbmFsQ2VudGVyIT09dW5kZWZpbmVkKXtjZW50ZXIuY29weShvcHRpb25hbENlbnRlcik7fWVsc2V7X2JveCQxLnNldEZyb21Qb2ludHMocG9pbnRzKS5nZXRDZW50ZXIoY2VudGVyKTt9dmFyIG1heFJhZGl1c1NxPTA7Zm9yKHZhciBpPTAsaWw9cG9pbnRzLmxlbmd0aDtpPGlsO2krKyl7bWF4UmFkaXVzU3E9TWF0aC5tYXgobWF4UmFkaXVzU3EsY2VudGVyLmRpc3RhbmNlVG9TcXVhcmVkKHBvaW50c1tpXSkpO310aGlzLnJhZGl1cz1NYXRoLnNxcnQobWF4UmFkaXVzU3EpO3JldHVybiB0aGlzO30sY2xvbmU6ZnVuY3Rpb24gY2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoKS5jb3B5KHRoaXMpO30sY29weTpmdW5jdGlvbiBjb3B5KHNwaGVyZSl7dGhpcy5jZW50ZXIuY29weShzcGhlcmUuY2VudGVyKTt0aGlzLnJhZGl1cz1zcGhlcmUucmFkaXVzO3JldHVybiB0aGlzO30sZW1wdHk6ZnVuY3Rpb24gZW1wdHkoKXtyZXR1cm4gdGhpcy5yYWRpdXM8PTA7fSxjb250YWluc1BvaW50OmZ1bmN0aW9uIGNvbnRhaW5zUG9pbnQocG9pbnQpe3JldHVybiBwb2ludC5kaXN0YW5jZVRvU3F1YXJlZCh0aGlzLmNlbnRlcik8PXRoaXMucmFkaXVzKnRoaXMucmFkaXVzO30sZGlzdGFuY2VUb1BvaW50OmZ1bmN0aW9uIGRpc3RhbmNlVG9Qb2ludChwb2ludCl7cmV0dXJuIHBvaW50LmRpc3RhbmNlVG8odGhpcy5jZW50ZXIpLXRoaXMucmFkaXVzO30saW50ZXJzZWN0c1NwaGVyZTpmdW5jdGlvbiBpbnRlcnNlY3RzU3BoZXJlKHNwaGVyZSl7dmFyIHJhZGl1c1N1bT10aGlzLnJhZGl1cytzcGhlcmUucmFkaXVzO3JldHVybiBzcGhlcmUuY2VudGVyLmRpc3RhbmNlVG9TcXVhcmVkKHRoaXMuY2VudGVyKTw9cmFkaXVzU3VtKnJhZGl1c1N1bTt9LGludGVyc2VjdHNCb3g6ZnVuY3Rpb24gaW50ZXJzZWN0c0JveChib3gpe3JldHVybiBib3guaW50ZXJzZWN0c1NwaGVyZSh0aGlzKTt9LGludGVyc2VjdHNQbGFuZTpmdW5jdGlvbiBpbnRlcnNlY3RzUGxhbmUocGxhbmUpe3JldHVybiBNYXRoLmFicyhwbGFuZS5kaXN0YW5jZVRvUG9pbnQodGhpcy5jZW50ZXIpKTw9dGhpcy5yYWRpdXM7fSxjbGFtcFBvaW50OmZ1bmN0aW9uIGNsYW1wUG9pbnQocG9pbnQsdGFyZ2V0KXt2YXIgZGVsdGFMZW5ndGhTcT10aGlzLmNlbnRlci5kaXN0YW5jZVRvU3F1YXJlZChwb2ludCk7aWYodGFyZ2V0PT09dW5kZWZpbmVkKXtjb25zb2xlLndhcm4oJ1RIUkVFLlNwaGVyZTogLmNsYW1wUG9pbnQoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkJyk7dGFyZ2V0PW5ldyBWZWN0b3IzKCk7fXRhcmdldC5jb3B5KHBvaW50KTtpZihkZWx0YUxlbmd0aFNxPnRoaXMucmFkaXVzKnRoaXMucmFkaXVzKXt0YXJnZXQuc3ViKHRoaXMuY2VudGVyKS5ub3JtYWxpemUoKTt0YXJnZXQubXVsdGlwbHlTY2FsYXIodGhpcy5yYWRpdXMpLmFkZCh0aGlzLmNlbnRlcik7fXJldHVybiB0YXJnZXQ7fSxnZXRCb3VuZGluZ0JveDpmdW5jdGlvbiBnZXRCb3VuZGluZ0JveCh0YXJnZXQpe2lmKHRhcmdldD09PXVuZGVmaW5lZCl7Y29uc29sZS53YXJuKCdUSFJFRS5TcGhlcmU6IC5nZXRCb3VuZGluZ0JveCgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQnKTt0YXJnZXQ9bmV3IEJveDMoKTt9dGFyZ2V0LnNldCh0aGlzLmNlbnRlcix0aGlzLmNlbnRlcik7dGFyZ2V0LmV4cGFuZEJ5U2NhbGFyKHRoaXMucmFkaXVzKTtyZXR1cm4gdGFyZ2V0O30sYXBwbHlNYXRyaXg0OmZ1bmN0aW9uIGFwcGx5TWF0cml4NChtYXRyaXgpe3RoaXMuY2VudGVyLmFwcGx5TWF0cml4NChtYXRyaXgpO3RoaXMucmFkaXVzPXRoaXMucmFkaXVzKm1hdHJpeC5nZXRNYXhTY2FsZU9uQXhpcygpO3JldHVybiB0aGlzO30sdHJhbnNsYXRlOmZ1bmN0aW9uIHRyYW5zbGF0ZShvZmZzZXQpe3RoaXMuY2VudGVyLmFkZChvZmZzZXQpO3JldHVybiB0aGlzO30sZXF1YWxzOmZ1bmN0aW9uIGVxdWFscyhzcGhlcmUpe3JldHVybiBzcGhlcmUuY2VudGVyLmVxdWFscyh0aGlzLmNlbnRlcikmJnNwaGVyZS5yYWRpdXM9PT10aGlzLnJhZGl1czt9fSk7dmFyIF92ZWN0b3IkMz1uZXcgVmVjdG9yMygpO3ZhciBfc2VnQ2VudGVyPW5ldyBWZWN0b3IzKCk7dmFyIF9zZWdEaXI9bmV3IFZlY3RvcjMoKTt2YXIgX2RpZmY9bmV3IFZlY3RvcjMoKTt2YXIgX2VkZ2UxPW5ldyBWZWN0b3IzKCk7dmFyIF9lZGdlMj1uZXcgVmVjdG9yMygpO3ZhciBfbm9ybWFsPW5ldyBWZWN0b3IzKCk7LyoqCiAgICogQGF1dGhvciBiaG91c3RvbiAvIGh0dHA6Ly9jbGFyYS5pbwogICAqL2Z1bmN0aW9uIFJheShvcmlnaW4sZGlyZWN0aW9uKXt0aGlzLm9yaWdpbj1vcmlnaW4hPT11bmRlZmluZWQ/b3JpZ2luOm5ldyBWZWN0b3IzKCk7dGhpcy5kaXJlY3Rpb249ZGlyZWN0aW9uIT09dW5kZWZpbmVkP2RpcmVjdGlvbjpuZXcgVmVjdG9yMygwLDAsLTEpO31PYmplY3QuYXNzaWduKFJheS5wcm90b3R5cGUse3NldDpmdW5jdGlvbiBzZXQob3JpZ2luLGRpcmVjdGlvbil7dGhpcy5vcmlnaW4uY29weShvcmlnaW4pO3RoaXMuZGlyZWN0aW9uLmNvcHkoZGlyZWN0aW9uKTtyZXR1cm4gdGhpczt9LGNsb25lOmZ1bmN0aW9uIGNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCkuY29weSh0aGlzKTt9LGNvcHk6ZnVuY3Rpb24gY29weShyYXkpe3RoaXMub3JpZ2luLmNvcHkocmF5Lm9yaWdpbik7dGhpcy5kaXJlY3Rpb24uY29weShyYXkuZGlyZWN0aW9uKTtyZXR1cm4gdGhpczt9LGF0OmZ1bmN0aW9uIGF0KHQsdGFyZ2V0KXtpZih0YXJnZXQ9PT11bmRlZmluZWQpe2NvbnNvbGUud2FybignVEhSRUUuUmF5OiAuYXQoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkJyk7dGFyZ2V0PW5ldyBWZWN0b3IzKCk7fXJldHVybiB0YXJnZXQuY29weSh0aGlzLmRpcmVjdGlvbikubXVsdGlwbHlTY2FsYXIodCkuYWRkKHRoaXMub3JpZ2luKTt9LGxvb2tBdDpmdW5jdGlvbiBsb29rQXQodil7dGhpcy5kaXJlY3Rpb24uY29weSh2KS5zdWIodGhpcy5vcmlnaW4pLm5vcm1hbGl6ZSgpO3JldHVybiB0aGlzO30scmVjYXN0OmZ1bmN0aW9uIHJlY2FzdCh0KXt0aGlzLm9yaWdpbi5jb3B5KHRoaXMuYXQodCxfdmVjdG9yJDMpKTtyZXR1cm4gdGhpczt9LGNsb3Nlc3RQb2ludFRvUG9pbnQ6ZnVuY3Rpb24gY2xvc2VzdFBvaW50VG9Qb2ludChwb2ludCx0YXJnZXQpe2lmKHRhcmdldD09PXVuZGVmaW5lZCl7Y29uc29sZS53YXJuKCdUSFJFRS5SYXk6IC5jbG9zZXN0UG9pbnRUb1BvaW50KCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCcpO3RhcmdldD1uZXcgVmVjdG9yMygpO310YXJnZXQuc3ViVmVjdG9ycyhwb2ludCx0aGlzLm9yaWdpbik7dmFyIGRpcmVjdGlvbkRpc3RhbmNlPXRhcmdldC5kb3QodGhpcy5kaXJlY3Rpb24pO2lmKGRpcmVjdGlvbkRpc3RhbmNlPDApe3JldHVybiB0YXJnZXQuY29weSh0aGlzLm9yaWdpbik7fXJldHVybiB0YXJnZXQuY29weSh0aGlzLmRpcmVjdGlvbikubXVsdGlwbHlTY2FsYXIoZGlyZWN0aW9uRGlzdGFuY2UpLmFkZCh0aGlzLm9yaWdpbik7fSxkaXN0YW5jZVRvUG9pbnQ6ZnVuY3Rpb24gZGlzdGFuY2VUb1BvaW50KHBvaW50KXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMuZGlzdGFuY2VTcVRvUG9pbnQocG9pbnQpKTt9LGRpc3RhbmNlU3FUb1BvaW50OmZ1bmN0aW9uIGRpc3RhbmNlU3FUb1BvaW50KHBvaW50KXt2YXIgZGlyZWN0aW9uRGlzdGFuY2U9X3ZlY3RvciQzLnN1YlZlY3RvcnMocG9pbnQsdGhpcy5vcmlnaW4pLmRvdCh0aGlzLmRpcmVjdGlvbik7Ly8gcG9pbnQgYmVoaW5kIHRoZSByYXkKaWYoZGlyZWN0aW9uRGlzdGFuY2U8MCl7cmV0dXJuIHRoaXMub3JpZ2luLmRpc3RhbmNlVG9TcXVhcmVkKHBvaW50KTt9X3ZlY3RvciQzLmNvcHkodGhpcy5kaXJlY3Rpb24pLm11bHRpcGx5U2NhbGFyKGRpcmVjdGlvbkRpc3RhbmNlKS5hZGQodGhpcy5vcmlnaW4pO3JldHVybiBfdmVjdG9yJDMuZGlzdGFuY2VUb1NxdWFyZWQocG9pbnQpO30sZGlzdGFuY2VTcVRvU2VnbWVudDpmdW5jdGlvbiBkaXN0YW5jZVNxVG9TZWdtZW50KHYwLHYxLG9wdGlvbmFsUG9pbnRPblJheSxvcHRpb25hbFBvaW50T25TZWdtZW50KXsvLyBmcm9tIGh0dHA6Ly93d3cuZ2VvbWV0cmljdG9vbHMuY29tL0dURW5naW5lL0luY2x1ZGUvTWF0aGVtYXRpY3MvR3RlRGlzdFJheVNlZ21lbnQuaAovLyBJdCByZXR1cm5zIHRoZSBtaW4gZGlzdGFuY2UgYmV0d2VlbiB0aGUgcmF5IGFuZCB0aGUgc2VnbWVudAovLyBkZWZpbmVkIGJ5IHYwIGFuZCB2MQovLyBJdCBjYW4gYWxzbyBzZXQgdHdvIG9wdGlvbmFsIHRhcmdldHMgOgovLyAtIFRoZSBjbG9zZXN0IHBvaW50IG9uIHRoZSByYXkKLy8gLSBUaGUgY2xvc2VzdCBwb2ludCBvbiB0aGUgc2VnbWVudApfc2VnQ2VudGVyLmNvcHkodjApLmFkZCh2MSkubXVsdGlwbHlTY2FsYXIoMC41KTtfc2VnRGlyLmNvcHkodjEpLnN1Yih2MCkubm9ybWFsaXplKCk7X2RpZmYuY29weSh0aGlzLm9yaWdpbikuc3ViKF9zZWdDZW50ZXIpO3ZhciBzZWdFeHRlbnQ9djAuZGlzdGFuY2VUbyh2MSkqMC41O3ZhciBhMDE9LXRoaXMuZGlyZWN0aW9uLmRvdChfc2VnRGlyKTt2YXIgYjA9X2RpZmYuZG90KHRoaXMuZGlyZWN0aW9uKTt2YXIgYjE9LV9kaWZmLmRvdChfc2VnRGlyKTt2YXIgYz1fZGlmZi5sZW5ndGhTcSgpO3ZhciBkZXQ9TWF0aC5hYnMoMS1hMDEqYTAxKTt2YXIgczAsczEsc3FyRGlzdCxleHREZXQ7aWYoZGV0PjApey8vIFRoZSByYXkgYW5kIHNlZ21lbnQgYXJlIG5vdCBwYXJhbGxlbC4KczA9YTAxKmIxLWIwO3MxPWEwMSpiMC1iMTtleHREZXQ9c2VnRXh0ZW50KmRldDtpZihzMD49MCl7aWYoczE+PS1leHREZXQpe2lmKHMxPD1leHREZXQpey8vIHJlZ2lvbiAwCi8vIE1pbmltdW0gYXQgaW50ZXJpb3IgcG9pbnRzIG9mIHJheSBhbmQgc2VnbWVudC4KdmFyIGludkRldD0xL2RldDtzMCo9aW52RGV0O3MxKj1pbnZEZXQ7c3FyRGlzdD1zMCooczArYTAxKnMxKzIqYjApK3MxKihhMDEqczArczErMipiMSkrYzt9ZWxzZXsvLyByZWdpb24gMQpzMT1zZWdFeHRlbnQ7czA9TWF0aC5tYXgoMCwtKGEwMSpzMStiMCkpO3NxckRpc3Q9LXMwKnMwK3MxKihzMSsyKmIxKStjO319ZWxzZXsvLyByZWdpb24gNQpzMT0tc2VnRXh0ZW50O3MwPU1hdGgubWF4KDAsLShhMDEqczErYjApKTtzcXJEaXN0PS1zMCpzMCtzMSooczErMipiMSkrYzt9fWVsc2V7aWYoczE8PS1leHREZXQpey8vIHJlZ2lvbiA0CnMwPU1hdGgubWF4KDAsLSgtYTAxKnNlZ0V4dGVudCtiMCkpO3MxPXMwPjA/LXNlZ0V4dGVudDpNYXRoLm1pbihNYXRoLm1heCgtc2VnRXh0ZW50LC1iMSksc2VnRXh0ZW50KTtzcXJEaXN0PS1zMCpzMCtzMSooczErMipiMSkrYzt9ZWxzZSBpZihzMTw9ZXh0RGV0KXsvLyByZWdpb24gMwpzMD0wO3MxPU1hdGgubWluKE1hdGgubWF4KC1zZWdFeHRlbnQsLWIxKSxzZWdFeHRlbnQpO3NxckRpc3Q9czEqKHMxKzIqYjEpK2M7fWVsc2V7Ly8gcmVnaW9uIDIKczA9TWF0aC5tYXgoMCwtKGEwMSpzZWdFeHRlbnQrYjApKTtzMT1zMD4wP3NlZ0V4dGVudDpNYXRoLm1pbihNYXRoLm1heCgtc2VnRXh0ZW50LC1iMSksc2VnRXh0ZW50KTtzcXJEaXN0PS1zMCpzMCtzMSooczErMipiMSkrYzt9fX1lbHNley8vIFJheSBhbmQgc2VnbWVudCBhcmUgcGFyYWxsZWwuCnMxPWEwMT4wPy1zZWdFeHRlbnQ6c2VnRXh0ZW50O3MwPU1hdGgubWF4KDAsLShhMDEqczErYjApKTtzcXJEaXN0PS1zMCpzMCtzMSooczErMipiMSkrYzt9aWYob3B0aW9uYWxQb2ludE9uUmF5KXtvcHRpb25hbFBvaW50T25SYXkuY29weSh0aGlzLmRpcmVjdGlvbikubXVsdGlwbHlTY2FsYXIoczApLmFkZCh0aGlzLm9yaWdpbik7fWlmKG9wdGlvbmFsUG9pbnRPblNlZ21lbnQpe29wdGlvbmFsUG9pbnRPblNlZ21lbnQuY29weShfc2VnRGlyKS5tdWx0aXBseVNjYWxhcihzMSkuYWRkKF9zZWdDZW50ZXIpO31yZXR1cm4gc3FyRGlzdDt9LGludGVyc2VjdFNwaGVyZTpmdW5jdGlvbiBpbnRlcnNlY3RTcGhlcmUoc3BoZXJlLHRhcmdldCl7X3ZlY3RvciQzLnN1YlZlY3RvcnMoc3BoZXJlLmNlbnRlcix0aGlzLm9yaWdpbik7dmFyIHRjYT1fdmVjdG9yJDMuZG90KHRoaXMuZGlyZWN0aW9uKTt2YXIgZDI9X3ZlY3RvciQzLmRvdChfdmVjdG9yJDMpLXRjYSp0Y2E7dmFyIHJhZGl1czI9c3BoZXJlLnJhZGl1cypzcGhlcmUucmFkaXVzO2lmKGQyPnJhZGl1czIpe3JldHVybiBudWxsO312YXIgdGhjPU1hdGguc3FydChyYWRpdXMyLWQyKTsvLyB0MCA9IGZpcnN0IGludGVyc2VjdCBwb2ludCAtIGVudHJhbmNlIG9uIGZyb250IG9mIHNwaGVyZQp2YXIgdDA9dGNhLXRoYzsvLyB0MSA9IHNlY29uZCBpbnRlcnNlY3QgcG9pbnQgLSBleGl0IHBvaW50IG9uIGJhY2sgb2Ygc3BoZXJlCnZhciB0MT10Y2ErdGhjOy8vIHRlc3QgdG8gc2VlIGlmIGJvdGggdDAgYW5kIHQxIGFyZSBiZWhpbmQgdGhlIHJheSAtIGlmIHNvLCByZXR1cm4gbnVsbAppZih0MDwwJiZ0MTwwKXtyZXR1cm4gbnVsbDt9Ly8gdGVzdCB0byBzZWUgaWYgdDAgaXMgYmVoaW5kIHRoZSByYXk6Ci8vIGlmIGl0IGlzLCB0aGUgcmF5IGlzIGluc2lkZSB0aGUgc3BoZXJlLCBzbyByZXR1cm4gdGhlIHNlY29uZCBleGl0IHBvaW50IHNjYWxlZCBieSB0MSwKLy8gaW4gb3JkZXIgdG8gYWx3YXlzIHJldHVybiBhbiBpbnRlcnNlY3QgcG9pbnQgdGhhdCBpcyBpbiBmcm9udCBvZiB0aGUgcmF5LgppZih0MDwwKXtyZXR1cm4gdGhpcy5hdCh0MSx0YXJnZXQpO30vLyBlbHNlIHQwIGlzIGluIGZyb250IG9mIHRoZSByYXksIHNvIHJldHVybiB0aGUgZmlyc3QgY29sbGlzaW9uIHBvaW50IHNjYWxlZCBieSB0MApyZXR1cm4gdGhpcy5hdCh0MCx0YXJnZXQpO30saW50ZXJzZWN0c1NwaGVyZTpmdW5jdGlvbiBpbnRlcnNlY3RzU3BoZXJlKHNwaGVyZSl7cmV0dXJuIHRoaXMuZGlzdGFuY2VTcVRvUG9pbnQoc3BoZXJlLmNlbnRlcik8PXNwaGVyZS5yYWRpdXMqc3BoZXJlLnJhZGl1czt9LGRpc3RhbmNlVG9QbGFuZTpmdW5jdGlvbiBkaXN0YW5jZVRvUGxhbmUocGxhbmUpe3ZhciBkZW5vbWluYXRvcj1wbGFuZS5ub3JtYWwuZG90KHRoaXMuZGlyZWN0aW9uKTtpZihkZW5vbWluYXRvcj09PTApey8vIGxpbmUgaXMgY29wbGFuYXIsIHJldHVybiBvcmlnaW4KaWYocGxhbmUuZGlzdGFuY2VUb1BvaW50KHRoaXMub3JpZ2luKT09PTApe3JldHVybiAwO30vLyBOdWxsIGlzIHByZWZlcmFibGUgdG8gdW5kZWZpbmVkIHNpbmNlIHVuZGVmaW5lZCBtZWFucy4uLi4gaXQgaXMgdW5kZWZpbmVkCnJldHVybiBudWxsO312YXIgdD0tKHRoaXMub3JpZ2luLmRvdChwbGFuZS5ub3JtYWwpK3BsYW5lLmNvbnN0YW50KS9kZW5vbWluYXRvcjsvLyBSZXR1cm4gaWYgdGhlIHJheSBuZXZlciBpbnRlcnNlY3RzIHRoZSBwbGFuZQpyZXR1cm4gdD49MD90Om51bGw7fSxpbnRlcnNlY3RQbGFuZTpmdW5jdGlvbiBpbnRlcnNlY3RQbGFuZShwbGFuZSx0YXJnZXQpe3ZhciB0PXRoaXMuZGlzdGFuY2VUb1BsYW5lKHBsYW5lKTtpZih0PT09bnVsbCl7cmV0dXJuIG51bGw7fXJldHVybiB0aGlzLmF0KHQsdGFyZ2V0KTt9LGludGVyc2VjdHNQbGFuZTpmdW5jdGlvbiBpbnRlcnNlY3RzUGxhbmUocGxhbmUpey8vIGNoZWNrIGlmIHRoZSByYXkgbGllcyBvbiB0aGUgcGxhbmUgZmlyc3QKdmFyIGRpc3RUb1BvaW50PXBsYW5lLmRpc3RhbmNlVG9Qb2ludCh0aGlzLm9yaWdpbik7aWYoZGlzdFRvUG9pbnQ9PT0wKXtyZXR1cm4gdHJ1ZTt9dmFyIGRlbm9taW5hdG9yPXBsYW5lLm5vcm1hbC5kb3QodGhpcy5kaXJlY3Rpb24pO2lmKGRlbm9taW5hdG9yKmRpc3RUb1BvaW50PDApe3JldHVybiB0cnVlO30vLyByYXkgb3JpZ2luIGlzIGJlaGluZCB0aGUgcGxhbmUgKGFuZCBpcyBwb2ludGluZyBiZWhpbmQgaXQpCnJldHVybiBmYWxzZTt9LGludGVyc2VjdEJveDpmdW5jdGlvbiBpbnRlcnNlY3RCb3goYm94LHRhcmdldCl7dmFyIHRtaW4sdG1heCx0eW1pbix0eW1heCx0em1pbix0em1heDt2YXIgaW52ZGlyeD0xL3RoaXMuZGlyZWN0aW9uLngsaW52ZGlyeT0xL3RoaXMuZGlyZWN0aW9uLnksaW52ZGlyej0xL3RoaXMuZGlyZWN0aW9uLno7dmFyIG9yaWdpbj10aGlzLm9yaWdpbjtpZihpbnZkaXJ4Pj0wKXt0bWluPShib3gubWluLngtb3JpZ2luLngpKmludmRpcng7dG1heD0oYm94Lm1heC54LW9yaWdpbi54KSppbnZkaXJ4O31lbHNle3RtaW49KGJveC5tYXgueC1vcmlnaW4ueCkqaW52ZGlyeDt0bWF4PShib3gubWluLngtb3JpZ2luLngpKmludmRpcng7fWlmKGludmRpcnk+PTApe3R5bWluPShib3gubWluLnktb3JpZ2luLnkpKmludmRpcnk7dHltYXg9KGJveC5tYXgueS1vcmlnaW4ueSkqaW52ZGlyeTt9ZWxzZXt0eW1pbj0oYm94Lm1heC55LW9yaWdpbi55KSppbnZkaXJ5O3R5bWF4PShib3gubWluLnktb3JpZ2luLnkpKmludmRpcnk7fWlmKHRtaW4+dHltYXh8fHR5bWluPnRtYXgpe3JldHVybiBudWxsO30vLyBUaGVzZSBsaW5lcyBhbHNvIGhhbmRsZSB0aGUgY2FzZSB3aGVyZSB0bWluIG9yIHRtYXggaXMgTmFOCi8vIChyZXN1bHQgb2YgMCAqIEluZmluaXR5KS4geCAhPT0geCByZXR1cm5zIHRydWUgaWYgeCBpcyBOYU4KaWYodHltaW4+dG1pbnx8dG1pbiE9PXRtaW4pe3RtaW49dHltaW47fWlmKHR5bWF4PHRtYXh8fHRtYXghPT10bWF4KXt0bWF4PXR5bWF4O31pZihpbnZkaXJ6Pj0wKXt0em1pbj0oYm94Lm1pbi56LW9yaWdpbi56KSppbnZkaXJ6O3R6bWF4PShib3gubWF4Lnotb3JpZ2luLnopKmludmRpcno7fWVsc2V7dHptaW49KGJveC5tYXguei1vcmlnaW4ueikqaW52ZGlyejt0em1heD0oYm94Lm1pbi56LW9yaWdpbi56KSppbnZkaXJ6O31pZih0bWluPnR6bWF4fHx0em1pbj50bWF4KXtyZXR1cm4gbnVsbDt9aWYodHptaW4+dG1pbnx8dG1pbiE9PXRtaW4pe3RtaW49dHptaW47fWlmKHR6bWF4PHRtYXh8fHRtYXghPT10bWF4KXt0bWF4PXR6bWF4O30vL3JldHVybiBwb2ludCBjbG9zZXN0IHRvIHRoZSByYXkgKHBvc2l0aXZlIHNpZGUpCmlmKHRtYXg8MCl7cmV0dXJuIG51bGw7fXJldHVybiB0aGlzLmF0KHRtaW4+PTA/dG1pbjp0bWF4LHRhcmdldCk7fSxpbnRlcnNlY3RzQm94OmZ1bmN0aW9uIGludGVyc2VjdHNCb3goYm94KXtyZXR1cm4gdGhpcy5pbnRlcnNlY3RCb3goYm94LF92ZWN0b3IkMykhPT1udWxsO30saW50ZXJzZWN0VHJpYW5nbGU6ZnVuY3Rpb24gaW50ZXJzZWN0VHJpYW5nbGUoYSxiLGMsYmFja2ZhY2VDdWxsaW5nLHRhcmdldCl7Ly8gQ29tcHV0ZSB0aGUgb2Zmc2V0IG9yaWdpbiwgZWRnZXMsIGFuZCBub3JtYWwuCi8vIGZyb20gaHR0cDovL3d3dy5nZW9tZXRyaWN0b29scy5jb20vR1RFbmdpbmUvSW5jbHVkZS9NYXRoZW1hdGljcy9HdGVJbnRyUmF5M1RyaWFuZ2xlMy5oCl9lZGdlMS5zdWJWZWN0b3JzKGIsYSk7X2VkZ2UyLnN1YlZlY3RvcnMoYyxhKTtfbm9ybWFsLmNyb3NzVmVjdG9ycyhfZWRnZTEsX2VkZ2UyKTsvLyBTb2x2ZSBRICsgdCpEID0gYjEqRTEgKyBiMipFMiAoUSA9IGtEaWZmLCBEID0gcmF5IGRpcmVjdGlvbiwKLy8gRTEgPSBrRWRnZTEsIEUyID0ga0VkZ2UyLCBOID0gQ3Jvc3MoRTEsRTIpKSBieQovLyAgIHxEb3QoRCxOKXwqYjEgPSBzaWduKERvdChELE4pKSpEb3QoRCxDcm9zcyhRLEUyKSkKLy8gICB8RG90KEQsTil8KmIyID0gc2lnbihEb3QoRCxOKSkqRG90KEQsQ3Jvc3MoRTEsUSkpCi8vICAgfERvdChELE4pfCp0ID0gLXNpZ24oRG90KEQsTikpKkRvdChRLE4pCnZhciBEZE49dGhpcy5kaXJlY3Rpb24uZG90KF9ub3JtYWwpO3ZhciBzaWduO2lmKERkTj4wKXtpZihiYWNrZmFjZUN1bGxpbmcpe3JldHVybiBudWxsO31zaWduPTE7fWVsc2UgaWYoRGROPDApe3NpZ249LTE7RGROPS1EZE47fWVsc2V7cmV0dXJuIG51bGw7fV9kaWZmLnN1YlZlY3RvcnModGhpcy5vcmlnaW4sYSk7dmFyIERkUXhFMj1zaWduKnRoaXMuZGlyZWN0aW9uLmRvdChfZWRnZTIuY3Jvc3NWZWN0b3JzKF9kaWZmLF9lZGdlMikpOy8vIGIxIDwgMCwgbm8gaW50ZXJzZWN0aW9uCmlmKERkUXhFMjwwKXtyZXR1cm4gbnVsbDt9dmFyIERkRTF4UT1zaWduKnRoaXMuZGlyZWN0aW9uLmRvdChfZWRnZTEuY3Jvc3MoX2RpZmYpKTsvLyBiMiA8IDAsIG5vIGludGVyc2VjdGlvbgppZihEZEUxeFE8MCl7cmV0dXJuIG51bGw7fS8vIGIxK2IyID4gMSwgbm8gaW50ZXJzZWN0aW9uCmlmKERkUXhFMitEZEUxeFE+RGROKXtyZXR1cm4gbnVsbDt9Ly8gTGluZSBpbnRlcnNlY3RzIHRyaWFuZ2xlLCBjaGVjayBpZiByYXkgZG9lcy4KdmFyIFFkTj0tc2lnbipfZGlmZi5kb3QoX25vcm1hbCk7Ly8gdCA8IDAsIG5vIGludGVyc2VjdGlvbgppZihRZE48MCl7cmV0dXJuIG51bGw7fS8vIFJheSBpbnRlcnNlY3RzIHRyaWFuZ2xlLgpyZXR1cm4gdGhpcy5hdChRZE4vRGROLHRhcmdldCk7fSxhcHBseU1hdHJpeDQ6ZnVuY3Rpb24gYXBwbHlNYXRyaXg0KG1hdHJpeDQpe3RoaXMub3JpZ2luLmFwcGx5TWF0cml4NChtYXRyaXg0KTt0aGlzLmRpcmVjdGlvbi50cmFuc2Zvcm1EaXJlY3Rpb24obWF0cml4NCk7cmV0dXJuIHRoaXM7fSxlcXVhbHM6ZnVuY3Rpb24gZXF1YWxzKHJheSl7cmV0dXJuIHJheS5vcmlnaW4uZXF1YWxzKHRoaXMub3JpZ2luKSYmcmF5LmRpcmVjdGlvbi5lcXVhbHModGhpcy5kaXJlY3Rpb24pO319KTsvKioKICAgKiBAYXV0aG9yIGJob3VzdG9uIC8gaHR0cDovL2NsYXJhLmlvCiAgICovdmFyIF92ZWN0b3IxPW5ldyBWZWN0b3IzKCk7dmFyIF92ZWN0b3IyPW5ldyBWZWN0b3IzKCk7dmFyIF9ub3JtYWxNYXRyaXg9bmV3IE1hdHJpeDMoKTtmdW5jdGlvbiBQbGFuZShub3JtYWwsY29uc3RhbnQpey8vIG5vcm1hbCBpcyBhc3N1bWVkIHRvIGJlIG5vcm1hbGl6ZWQKdGhpcy5ub3JtYWw9bm9ybWFsIT09dW5kZWZpbmVkP25vcm1hbDpuZXcgVmVjdG9yMygxLDAsMCk7dGhpcy5jb25zdGFudD1jb25zdGFudCE9PXVuZGVmaW5lZD9jb25zdGFudDowO31PYmplY3QuYXNzaWduKFBsYW5lLnByb3RvdHlwZSx7aXNQbGFuZTp0cnVlLHNldDpmdW5jdGlvbiBzZXQobm9ybWFsLGNvbnN0YW50KXt0aGlzLm5vcm1hbC5jb3B5KG5vcm1hbCk7dGhpcy5jb25zdGFudD1jb25zdGFudDtyZXR1cm4gdGhpczt9LHNldENvbXBvbmVudHM6ZnVuY3Rpb24gc2V0Q29tcG9uZW50cyh4LHkseix3KXt0aGlzLm5vcm1hbC5zZXQoeCx5LHopO3RoaXMuY29uc3RhbnQ9dztyZXR1cm4gdGhpczt9LHNldEZyb21Ob3JtYWxBbmRDb3BsYW5hclBvaW50OmZ1bmN0aW9uIHNldEZyb21Ob3JtYWxBbmRDb3BsYW5hclBvaW50KG5vcm1hbCxwb2ludCl7dGhpcy5ub3JtYWwuY29weShub3JtYWwpO3RoaXMuY29uc3RhbnQ9LXBvaW50LmRvdCh0aGlzLm5vcm1hbCk7cmV0dXJuIHRoaXM7fSxzZXRGcm9tQ29wbGFuYXJQb2ludHM6ZnVuY3Rpb24gc2V0RnJvbUNvcGxhbmFyUG9pbnRzKGEsYixjKXt2YXIgbm9ybWFsPV92ZWN0b3IxLnN1YlZlY3RvcnMoYyxiKS5jcm9zcyhfdmVjdG9yMi5zdWJWZWN0b3JzKGEsYikpLm5vcm1hbGl6ZSgpOy8vIFE6IHNob3VsZCBhbiBlcnJvciBiZSB0aHJvd24gaWYgbm9ybWFsIGlzIHplcm8gKGUuZy4gZGVnZW5lcmF0ZSBwbGFuZSk/CnRoaXMuc2V0RnJvbU5vcm1hbEFuZENvcGxhbmFyUG9pbnQobm9ybWFsLGEpO3JldHVybiB0aGlzO30sY2xvbmU6ZnVuY3Rpb24gY2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoKS5jb3B5KHRoaXMpO30sY29weTpmdW5jdGlvbiBjb3B5KHBsYW5lKXt0aGlzLm5vcm1hbC5jb3B5KHBsYW5lLm5vcm1hbCk7dGhpcy5jb25zdGFudD1wbGFuZS5jb25zdGFudDtyZXR1cm4gdGhpczt9LG5vcm1hbGl6ZTpmdW5jdGlvbiBub3JtYWxpemUoKXsvLyBOb3RlOiB3aWxsIGxlYWQgdG8gYSBkaXZpZGUgYnkgemVybyBpZiB0aGUgcGxhbmUgaXMgaW52YWxpZC4KdmFyIGludmVyc2VOb3JtYWxMZW5ndGg9MS4wL3RoaXMubm9ybWFsLmxlbmd0aCgpO3RoaXMubm9ybWFsLm11bHRpcGx5U2NhbGFyKGludmVyc2VOb3JtYWxMZW5ndGgpO3RoaXMuY29uc3RhbnQqPWludmVyc2VOb3JtYWxMZW5ndGg7cmV0dXJuIHRoaXM7fSxuZWdhdGU6ZnVuY3Rpb24gbmVnYXRlKCl7dGhpcy5jb25zdGFudCo9LTE7dGhpcy5ub3JtYWwubmVnYXRlKCk7cmV0dXJuIHRoaXM7fSxkaXN0YW5jZVRvUG9pbnQ6ZnVuY3Rpb24gZGlzdGFuY2VUb1BvaW50KHBvaW50KXtyZXR1cm4gdGhpcy5ub3JtYWwuZG90KHBvaW50KSt0aGlzLmNvbnN0YW50O30sZGlzdGFuY2VUb1NwaGVyZTpmdW5jdGlvbiBkaXN0YW5jZVRvU3BoZXJlKHNwaGVyZSl7cmV0dXJuIHRoaXMuZGlzdGFuY2VUb1BvaW50KHNwaGVyZS5jZW50ZXIpLXNwaGVyZS5yYWRpdXM7fSxwcm9qZWN0UG9pbnQ6ZnVuY3Rpb24gcHJvamVjdFBvaW50KHBvaW50LHRhcmdldCl7aWYodGFyZ2V0PT09dW5kZWZpbmVkKXtjb25zb2xlLndhcm4oJ1RIUkVFLlBsYW5lOiAucHJvamVjdFBvaW50KCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCcpO3RhcmdldD1uZXcgVmVjdG9yMygpO31yZXR1cm4gdGFyZ2V0LmNvcHkodGhpcy5ub3JtYWwpLm11bHRpcGx5U2NhbGFyKC10aGlzLmRpc3RhbmNlVG9Qb2ludChwb2ludCkpLmFkZChwb2ludCk7fSxpbnRlcnNlY3RMaW5lOmZ1bmN0aW9uIGludGVyc2VjdExpbmUobGluZSx0YXJnZXQpe2lmKHRhcmdldD09PXVuZGVmaW5lZCl7Y29uc29sZS53YXJuKCdUSFJFRS5QbGFuZTogLmludGVyc2VjdExpbmUoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkJyk7dGFyZ2V0PW5ldyBWZWN0b3IzKCk7fXZhciBkaXJlY3Rpb249bGluZS5kZWx0YShfdmVjdG9yMSk7dmFyIGRlbm9taW5hdG9yPXRoaXMubm9ybWFsLmRvdChkaXJlY3Rpb24pO2lmKGRlbm9taW5hdG9yPT09MCl7Ly8gbGluZSBpcyBjb3BsYW5hciwgcmV0dXJuIG9yaWdpbgppZih0aGlzLmRpc3RhbmNlVG9Qb2ludChsaW5lLnN0YXJ0KT09PTApe3JldHVybiB0YXJnZXQuY29weShsaW5lLnN0YXJ0KTt9Ly8gVW5zdXJlIGlmIHRoaXMgaXMgdGhlIGNvcnJlY3QgbWV0aG9kIHRvIGhhbmRsZSB0aGlzIGNhc2UuCnJldHVybiB1bmRlZmluZWQ7fXZhciB0PS0obGluZS5zdGFydC5kb3QodGhpcy5ub3JtYWwpK3RoaXMuY29uc3RhbnQpL2Rlbm9taW5hdG9yO2lmKHQ8MHx8dD4xKXtyZXR1cm4gdW5kZWZpbmVkO31yZXR1cm4gdGFyZ2V0LmNvcHkoZGlyZWN0aW9uKS5tdWx0aXBseVNjYWxhcih0KS5hZGQobGluZS5zdGFydCk7fSxpbnRlcnNlY3RzTGluZTpmdW5jdGlvbiBpbnRlcnNlY3RzTGluZShsaW5lKXsvLyBOb3RlOiB0aGlzIHRlc3RzIGlmIGEgbGluZSBpbnRlcnNlY3RzIHRoZSBwbGFuZSwgbm90IHdoZXRoZXIgaXQgKG9yIGl0cyBlbmQtcG9pbnRzKSBhcmUgY29wbGFuYXIgd2l0aCBpdC4KdmFyIHN0YXJ0U2lnbj10aGlzLmRpc3RhbmNlVG9Qb2ludChsaW5lLnN0YXJ0KTt2YXIgZW5kU2lnbj10aGlzLmRpc3RhbmNlVG9Qb2ludChsaW5lLmVuZCk7cmV0dXJuIHN0YXJ0U2lnbjwwJiZlbmRTaWduPjB8fGVuZFNpZ248MCYmc3RhcnRTaWduPjA7fSxpbnRlcnNlY3RzQm94OmZ1bmN0aW9uIGludGVyc2VjdHNCb3goYm94KXtyZXR1cm4gYm94LmludGVyc2VjdHNQbGFuZSh0aGlzKTt9LGludGVyc2VjdHNTcGhlcmU6ZnVuY3Rpb24gaW50ZXJzZWN0c1NwaGVyZShzcGhlcmUpe3JldHVybiBzcGhlcmUuaW50ZXJzZWN0c1BsYW5lKHRoaXMpO30sY29wbGFuYXJQb2ludDpmdW5jdGlvbiBjb3BsYW5hclBvaW50KHRhcmdldCl7aWYodGFyZ2V0PT09dW5kZWZpbmVkKXtjb25zb2xlLndhcm4oJ1RIUkVFLlBsYW5lOiAuY29wbGFuYXJQb2ludCgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQnKTt0YXJnZXQ9bmV3IFZlY3RvcjMoKTt9cmV0dXJuIHRhcmdldC5jb3B5KHRoaXMubm9ybWFsKS5tdWx0aXBseVNjYWxhcigtdGhpcy5jb25zdGFudCk7fSxhcHBseU1hdHJpeDQ6ZnVuY3Rpb24gYXBwbHlNYXRyaXg0KG1hdHJpeCxvcHRpb25hbE5vcm1hbE1hdHJpeCl7dmFyIG5vcm1hbE1hdHJpeD1vcHRpb25hbE5vcm1hbE1hdHJpeHx8X25vcm1hbE1hdHJpeC5nZXROb3JtYWxNYXRyaXgobWF0cml4KTt2YXIgcmVmZXJlbmNlUG9pbnQ9dGhpcy5jb3BsYW5hclBvaW50KF92ZWN0b3IxKS5hcHBseU1hdHJpeDQobWF0cml4KTt2YXIgbm9ybWFsPXRoaXMubm9ybWFsLmFwcGx5TWF0cml4Myhub3JtYWxNYXRyaXgpLm5vcm1hbGl6ZSgpO3RoaXMuY29uc3RhbnQ9LXJlZmVyZW5jZVBvaW50LmRvdChub3JtYWwpO3JldHVybiB0aGlzO30sdHJhbnNsYXRlOmZ1bmN0aW9uIHRyYW5zbGF0ZShvZmZzZXQpe3RoaXMuY29uc3RhbnQtPW9mZnNldC5kb3QodGhpcy5ub3JtYWwpO3JldHVybiB0aGlzO30sZXF1YWxzOmZ1bmN0aW9uIGVxdWFscyhwbGFuZSl7cmV0dXJuIHBsYW5lLm5vcm1hbC5lcXVhbHModGhpcy5ub3JtYWwpJiZwbGFuZS5jb25zdGFudD09PXRoaXMuY29uc3RhbnQ7fX0pOy8qKgogICAqIEBhdXRob3IgYmhvdXN0b24gLyBodHRwOi8vY2xhcmEuaW8KICAgKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tLwogICAqL3ZhciBfdjAkMT1uZXcgVmVjdG9yMygpO3ZhciBfdjEkMz1uZXcgVmVjdG9yMygpO3ZhciBfdjIkMT1uZXcgVmVjdG9yMygpO3ZhciBfdjM9bmV3IFZlY3RvcjMoKTt2YXIgX3ZhYj1uZXcgVmVjdG9yMygpO3ZhciBfdmFjPW5ldyBWZWN0b3IzKCk7dmFyIF92YmM9bmV3IFZlY3RvcjMoKTt2YXIgX3ZhcD1uZXcgVmVjdG9yMygpO3ZhciBfdmJwPW5ldyBWZWN0b3IzKCk7dmFyIF92Y3A9bmV3IFZlY3RvcjMoKTtmdW5jdGlvbiBUcmlhbmdsZShhLGIsYyl7dGhpcy5hPWEhPT11bmRlZmluZWQ/YTpuZXcgVmVjdG9yMygpO3RoaXMuYj1iIT09dW5kZWZpbmVkP2I6bmV3IFZlY3RvcjMoKTt0aGlzLmM9YyE9PXVuZGVmaW5lZD9jOm5ldyBWZWN0b3IzKCk7fU9iamVjdC5hc3NpZ24oVHJpYW5nbGUse2dldE5vcm1hbDpmdW5jdGlvbiBnZXROb3JtYWwoYSxiLGMsdGFyZ2V0KXtpZih0YXJnZXQ9PT11bmRlZmluZWQpe2NvbnNvbGUud2FybignVEhSRUUuVHJpYW5nbGU6IC5nZXROb3JtYWwoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkJyk7dGFyZ2V0PW5ldyBWZWN0b3IzKCk7fXRhcmdldC5zdWJWZWN0b3JzKGMsYik7X3YwJDEuc3ViVmVjdG9ycyhhLGIpO3RhcmdldC5jcm9zcyhfdjAkMSk7dmFyIHRhcmdldExlbmd0aFNxPXRhcmdldC5sZW5ndGhTcSgpO2lmKHRhcmdldExlbmd0aFNxPjApe3JldHVybiB0YXJnZXQubXVsdGlwbHlTY2FsYXIoMS9NYXRoLnNxcnQodGFyZ2V0TGVuZ3RoU3EpKTt9cmV0dXJuIHRhcmdldC5zZXQoMCwwLDApO30sLy8gc3RhdGljL2luc3RhbmNlIG1ldGhvZCB0byBjYWxjdWxhdGUgYmFyeWNlbnRyaWMgY29vcmRpbmF0ZXMKLy8gYmFzZWQgb246IGh0dHA6Ly93d3cuYmxhY2twYXduLmNvbS90ZXh0cy9wb2ludGlucG9seS9kZWZhdWx0Lmh0bWwKZ2V0QmFyeWNvb3JkOmZ1bmN0aW9uIGdldEJhcnljb29yZChwb2ludCxhLGIsYyx0YXJnZXQpe192MCQxLnN1YlZlY3RvcnMoYyxhKTtfdjEkMy5zdWJWZWN0b3JzKGIsYSk7X3YyJDEuc3ViVmVjdG9ycyhwb2ludCxhKTt2YXIgZG90MDA9X3YwJDEuZG90KF92MCQxKTt2YXIgZG90MDE9X3YwJDEuZG90KF92MSQzKTt2YXIgZG90MDI9X3YwJDEuZG90KF92MiQxKTt2YXIgZG90MTE9X3YxJDMuZG90KF92MSQzKTt2YXIgZG90MTI9X3YxJDMuZG90KF92MiQxKTt2YXIgZGVub209ZG90MDAqZG90MTEtZG90MDEqZG90MDE7aWYodGFyZ2V0PT09dW5kZWZpbmVkKXtjb25zb2xlLndhcm4oJ1RIUkVFLlRyaWFuZ2xlOiAuZ2V0QmFyeWNvb3JkKCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCcpO3RhcmdldD1uZXcgVmVjdG9yMygpO30vLyBjb2xsaW5lYXIgb3Igc2luZ3VsYXIgdHJpYW5nbGUKaWYoZGVub209PT0wKXsvLyBhcmJpdHJhcnkgbG9jYXRpb24gb3V0c2lkZSBvZiB0cmlhbmdsZT8KLy8gbm90IHN1cmUgaWYgdGhpcyBpcyB0aGUgYmVzdCBpZGVhLCBtYXliZSBzaG91bGQgYmUgcmV0dXJuaW5nIHVuZGVmaW5lZApyZXR1cm4gdGFyZ2V0LnNldCgtMiwtMSwtMSk7fXZhciBpbnZEZW5vbT0xL2Rlbm9tO3ZhciB1PShkb3QxMSpkb3QwMi1kb3QwMSpkb3QxMikqaW52RGVub207dmFyIHY9KGRvdDAwKmRvdDEyLWRvdDAxKmRvdDAyKSppbnZEZW5vbTsvLyBiYXJ5Y2VudHJpYyBjb29yZGluYXRlcyBtdXN0IGFsd2F5cyBzdW0gdG8gMQpyZXR1cm4gdGFyZ2V0LnNldCgxLXUtdix2LHUpO30sY29udGFpbnNQb2ludDpmdW5jdGlvbiBjb250YWluc1BvaW50KHBvaW50LGEsYixjKXtUcmlhbmdsZS5nZXRCYXJ5Y29vcmQocG9pbnQsYSxiLGMsX3YzKTtyZXR1cm4gX3YzLng+PTAmJl92My55Pj0wJiZfdjMueCtfdjMueTw9MTt9LGdldFVWOmZ1bmN0aW9uIGdldFVWKHBvaW50LHAxLHAyLHAzLHV2MSx1djIsdXYzLHRhcmdldCl7dGhpcy5nZXRCYXJ5Y29vcmQocG9pbnQscDEscDIscDMsX3YzKTt0YXJnZXQuc2V0KDAsMCk7dGFyZ2V0LmFkZFNjYWxlZFZlY3Rvcih1djEsX3YzLngpO3RhcmdldC5hZGRTY2FsZWRWZWN0b3IodXYyLF92My55KTt0YXJnZXQuYWRkU2NhbGVkVmVjdG9yKHV2MyxfdjMueik7cmV0dXJuIHRhcmdldDt9LGlzRnJvbnRGYWNpbmc6ZnVuY3Rpb24gaXNGcm9udEZhY2luZyhhLGIsYyxkaXJlY3Rpb24pe192MCQxLnN1YlZlY3RvcnMoYyxiKTtfdjEkMy5zdWJWZWN0b3JzKGEsYik7Ly8gc3RyaWN0bHkgZnJvbnQgZmFjaW5nCnJldHVybiBfdjAkMS5jcm9zcyhfdjEkMykuZG90KGRpcmVjdGlvbik8MD90cnVlOmZhbHNlO319KTtPYmplY3QuYXNzaWduKFRyaWFuZ2xlLnByb3RvdHlwZSx7c2V0OmZ1bmN0aW9uIHNldChhLGIsYyl7dGhpcy5hLmNvcHkoYSk7dGhpcy5iLmNvcHkoYik7dGhpcy5jLmNvcHkoYyk7cmV0dXJuIHRoaXM7fSxzZXRGcm9tUG9pbnRzQW5kSW5kaWNlczpmdW5jdGlvbiBzZXRGcm9tUG9pbnRzQW5kSW5kaWNlcyhwb2ludHMsaTAsaTEsaTIpe3RoaXMuYS5jb3B5KHBvaW50c1tpMF0pO3RoaXMuYi5jb3B5KHBvaW50c1tpMV0pO3RoaXMuYy5jb3B5KHBvaW50c1tpMl0pO3JldHVybiB0aGlzO30sY2xvbmU6ZnVuY3Rpb24gY2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoKS5jb3B5KHRoaXMpO30sY29weTpmdW5jdGlvbiBjb3B5KHRyaWFuZ2xlKXt0aGlzLmEuY29weSh0cmlhbmdsZS5hKTt0aGlzLmIuY29weSh0cmlhbmdsZS5iKTt0aGlzLmMuY29weSh0cmlhbmdsZS5jKTtyZXR1cm4gdGhpczt9LGdldEFyZWE6ZnVuY3Rpb24gZ2V0QXJlYSgpe192MCQxLnN1YlZlY3RvcnModGhpcy5jLHRoaXMuYik7X3YxJDMuc3ViVmVjdG9ycyh0aGlzLmEsdGhpcy5iKTtyZXR1cm4gX3YwJDEuY3Jvc3MoX3YxJDMpLmxlbmd0aCgpKjAuNTt9LGdldE1pZHBvaW50OmZ1bmN0aW9uIGdldE1pZHBvaW50KHRhcmdldCl7aWYodGFyZ2V0PT09dW5kZWZpbmVkKXtjb25zb2xlLndhcm4oJ1RIUkVFLlRyaWFuZ2xlOiAuZ2V0TWlkcG9pbnQoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkJyk7dGFyZ2V0PW5ldyBWZWN0b3IzKCk7fXJldHVybiB0YXJnZXQuYWRkVmVjdG9ycyh0aGlzLmEsdGhpcy5iKS5hZGQodGhpcy5jKS5tdWx0aXBseVNjYWxhcigxLzMpO30sZ2V0Tm9ybWFsOmZ1bmN0aW9uIGdldE5vcm1hbCh0YXJnZXQpe3JldHVybiBUcmlhbmdsZS5nZXROb3JtYWwodGhpcy5hLHRoaXMuYix0aGlzLmMsdGFyZ2V0KTt9LGdldFBsYW5lOmZ1bmN0aW9uIGdldFBsYW5lKHRhcmdldCl7aWYodGFyZ2V0PT09dW5kZWZpbmVkKXtjb25zb2xlLndhcm4oJ1RIUkVFLlRyaWFuZ2xlOiAuZ2V0UGxhbmUoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkJyk7dGFyZ2V0PW5ldyBQbGFuZSgpO31yZXR1cm4gdGFyZ2V0LnNldEZyb21Db3BsYW5hclBvaW50cyh0aGlzLmEsdGhpcy5iLHRoaXMuYyk7fSxnZXRCYXJ5Y29vcmQ6ZnVuY3Rpb24gZ2V0QmFyeWNvb3JkKHBvaW50LHRhcmdldCl7cmV0dXJuIFRyaWFuZ2xlLmdldEJhcnljb29yZChwb2ludCx0aGlzLmEsdGhpcy5iLHRoaXMuYyx0YXJnZXQpO30sZ2V0VVY6ZnVuY3Rpb24gZ2V0VVYocG9pbnQsdXYxLHV2Mix1djMsdGFyZ2V0KXtyZXR1cm4gVHJpYW5nbGUuZ2V0VVYocG9pbnQsdGhpcy5hLHRoaXMuYix0aGlzLmMsdXYxLHV2Mix1djMsdGFyZ2V0KTt9LGNvbnRhaW5zUG9pbnQ6ZnVuY3Rpb24gY29udGFpbnNQb2ludChwb2ludCl7cmV0dXJuIFRyaWFuZ2xlLmNvbnRhaW5zUG9pbnQocG9pbnQsdGhpcy5hLHRoaXMuYix0aGlzLmMpO30saXNGcm9udEZhY2luZzpmdW5jdGlvbiBpc0Zyb250RmFjaW5nKGRpcmVjdGlvbil7cmV0dXJuIFRyaWFuZ2xlLmlzRnJvbnRGYWNpbmcodGhpcy5hLHRoaXMuYix0aGlzLmMsZGlyZWN0aW9uKTt9LGludGVyc2VjdHNCb3g6ZnVuY3Rpb24gaW50ZXJzZWN0c0JveChib3gpe3JldHVybiBib3guaW50ZXJzZWN0c1RyaWFuZ2xlKHRoaXMpO30sY2xvc2VzdFBvaW50VG9Qb2ludDpmdW5jdGlvbiBjbG9zZXN0UG9pbnRUb1BvaW50KHAsdGFyZ2V0KXtpZih0YXJnZXQ9PT11bmRlZmluZWQpe2NvbnNvbGUud2FybignVEhSRUUuVHJpYW5nbGU6IC5jbG9zZXN0UG9pbnRUb1BvaW50KCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCcpO3RhcmdldD1uZXcgVmVjdG9yMygpO312YXIgYT10aGlzLmEsYj10aGlzLmIsYz10aGlzLmM7dmFyIHYsdzsvLyBhbGdvcml0aG0gdGhhbmtzIHRvIFJlYWwtVGltZSBDb2xsaXNpb24gRGV0ZWN0aW9uIGJ5IENocmlzdGVyIEVyaWNzb24sCi8vIHB1Ymxpc2hlZCBieSBNb3JnYW4gS2F1Zm1hbm4gUHVibGlzaGVycywgKGMpIDIwMDUgRWxzZXZpZXIgSW5jLiwKLy8gdW5kZXIgdGhlIGFjY29tcGFueWluZyBsaWNlbnNlOyBzZWUgY2hhcHRlciA1LjEuNSBmb3IgZGV0YWlsZWQgZXhwbGFuYXRpb24uCi8vIGJhc2ljYWxseSwgd2UncmUgZGlzdGluZ3Vpc2hpbmcgd2hpY2ggb2YgdGhlIHZvcm9ub2kgcmVnaW9ucyBvZiB0aGUgdHJpYW5nbGUKLy8gdGhlIHBvaW50IGxpZXMgaW4gd2l0aCB0aGUgbWluaW11bSBhbW91bnQgb2YgcmVkdW5kYW50IGNvbXB1dGF0aW9uLgpfdmFiLnN1YlZlY3RvcnMoYixhKTtfdmFjLnN1YlZlY3RvcnMoYyxhKTtfdmFwLnN1YlZlY3RvcnMocCxhKTt2YXIgZDE9X3ZhYi5kb3QoX3ZhcCk7dmFyIGQyPV92YWMuZG90KF92YXApO2lmKGQxPD0wJiZkMjw9MCl7Ly8gdmVydGV4IHJlZ2lvbiBvZiBBOyBiYXJ5Y2VudHJpYyBjb29yZHMgKDEsIDAsIDApCnJldHVybiB0YXJnZXQuY29weShhKTt9X3ZicC5zdWJWZWN0b3JzKHAsYik7dmFyIGQzPV92YWIuZG90KF92YnApO3ZhciBkND1fdmFjLmRvdChfdmJwKTtpZihkMz49MCYmZDQ8PWQzKXsvLyB2ZXJ0ZXggcmVnaW9uIG9mIEI7IGJhcnljZW50cmljIGNvb3JkcyAoMCwgMSwgMCkKcmV0dXJuIHRhcmdldC5jb3B5KGIpO312YXIgdmM9ZDEqZDQtZDMqZDI7aWYodmM8PTAmJmQxPj0wJiZkMzw9MCl7dj1kMS8oZDEtZDMpOy8vIGVkZ2UgcmVnaW9uIG9mIEFCOyBiYXJ5Y2VudHJpYyBjb29yZHMgKDEtdiwgdiwgMCkKcmV0dXJuIHRhcmdldC5jb3B5KGEpLmFkZFNjYWxlZFZlY3RvcihfdmFiLHYpO31fdmNwLnN1YlZlY3RvcnMocCxjKTt2YXIgZDU9X3ZhYi5kb3QoX3ZjcCk7dmFyIGQ2PV92YWMuZG90KF92Y3ApO2lmKGQ2Pj0wJiZkNTw9ZDYpey8vIHZlcnRleCByZWdpb24gb2YgQzsgYmFyeWNlbnRyaWMgY29vcmRzICgwLCAwLCAxKQpyZXR1cm4gdGFyZ2V0LmNvcHkoYyk7fXZhciB2Yj1kNSpkMi1kMSpkNjtpZih2Yjw9MCYmZDI+PTAmJmQ2PD0wKXt3PWQyLyhkMi1kNik7Ly8gZWRnZSByZWdpb24gb2YgQUM7IGJhcnljZW50cmljIGNvb3JkcyAoMS13LCAwLCB3KQpyZXR1cm4gdGFyZ2V0LmNvcHkoYSkuYWRkU2NhbGVkVmVjdG9yKF92YWMsdyk7fXZhciB2YT1kMypkNi1kNSpkNDtpZih2YTw9MCYmZDQtZDM+PTAmJmQ1LWQ2Pj0wKXtfdmJjLnN1YlZlY3RvcnMoYyxiKTt3PShkNC1kMykvKGQ0LWQzKyhkNS1kNikpOy8vIGVkZ2UgcmVnaW9uIG9mIEJDOyBiYXJ5Y2VudHJpYyBjb29yZHMgKDAsIDEtdywgdykKcmV0dXJuIHRhcmdldC5jb3B5KGIpLmFkZFNjYWxlZFZlY3RvcihfdmJjLHcpOy8vIGVkZ2UgcmVnaW9uIG9mIEJDCn0vLyBmYWNlIHJlZ2lvbgp2YXIgZGVub209MS8odmErdmIrdmMpOy8vIHUgPSB2YSAqIGRlbm9tCnY9dmIqZGVub207dz12YypkZW5vbTtyZXR1cm4gdGFyZ2V0LmNvcHkoYSkuYWRkU2NhbGVkVmVjdG9yKF92YWIsdikuYWRkU2NhbGVkVmVjdG9yKF92YWMsdyk7fSxlcXVhbHM6ZnVuY3Rpb24gZXF1YWxzKHRyaWFuZ2xlKXtyZXR1cm4gdHJpYW5nbGUuYS5lcXVhbHModGhpcy5hKSYmdHJpYW5nbGUuYi5lcXVhbHModGhpcy5iKSYmdHJpYW5nbGUuYy5lcXVhbHModGhpcy5jKTt9fSk7LyoqCiAgICogQGF1dGhvciBtcmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS8KICAgKi92YXIgX2NvbG9yS2V5d29yZHM9eydhbGljZWJsdWUnOjB4RjBGOEZGLCdhbnRpcXVld2hpdGUnOjB4RkFFQkQ3LCdhcXVhJzoweDAwRkZGRiwnYXF1YW1hcmluZSc6MHg3RkZGRDQsJ2F6dXJlJzoweEYwRkZGRiwnYmVpZ2UnOjB4RjVGNURDLCdiaXNxdWUnOjB4RkZFNEM0LCdibGFjayc6MHgwMDAwMDAsJ2JsYW5jaGVkYWxtb25kJzoweEZGRUJDRCwnYmx1ZSc6MHgwMDAwRkYsJ2JsdWV2aW9sZXQnOjB4OEEyQkUyLCdicm93bic6MHhBNTJBMkEsJ2J1cmx5d29vZCc6MHhERUI4ODcsJ2NhZGV0Ymx1ZSc6MHg1RjlFQTAsJ2NoYXJ0cmV1c2UnOjB4N0ZGRjAwLCdjaG9jb2xhdGUnOjB4RDI2OTFFLCdjb3JhbCc6MHhGRjdGNTAsJ2Nvcm5mbG93ZXJibHVlJzoweDY0OTVFRCwnY29ybnNpbGsnOjB4RkZGOERDLCdjcmltc29uJzoweERDMTQzQywnY3lhbic6MHgwMEZGRkYsJ2RhcmtibHVlJzoweDAwMDA4QiwnZGFya2N5YW4nOjB4MDA4QjhCLCdkYXJrZ29sZGVucm9kJzoweEI4ODYwQiwnZGFya2dyYXknOjB4QTlBOUE5LCdkYXJrZ3JlZW4nOjB4MDA2NDAwLCdkYXJrZ3JleSc6MHhBOUE5QTksJ2RhcmtraGFraSc6MHhCREI3NkIsJ2RhcmttYWdlbnRhJzoweDhCMDA4QiwnZGFya29saXZlZ3JlZW4nOjB4NTU2QjJGLCdkYXJrb3JhbmdlJzoweEZGOEMwMCwnZGFya29yY2hpZCc6MHg5OTMyQ0MsJ2RhcmtyZWQnOjB4OEIwMDAwLCdkYXJrc2FsbW9uJzoweEU5OTY3QSwnZGFya3NlYWdyZWVuJzoweDhGQkM4RiwnZGFya3NsYXRlYmx1ZSc6MHg0ODNEOEIsJ2RhcmtzbGF0ZWdyYXknOjB4MkY0RjRGLCdkYXJrc2xhdGVncmV5JzoweDJGNEY0RiwnZGFya3R1cnF1b2lzZSc6MHgwMENFRDEsJ2Rhcmt2aW9sZXQnOjB4OTQwMEQzLCdkZWVwcGluayc6MHhGRjE0OTMsJ2RlZXBza3libHVlJzoweDAwQkZGRiwnZGltZ3JheSc6MHg2OTY5NjksJ2RpbWdyZXknOjB4Njk2OTY5LCdkb2RnZXJibHVlJzoweDFFOTBGRiwnZmlyZWJyaWNrJzoweEIyMjIyMiwnZmxvcmFsd2hpdGUnOjB4RkZGQUYwLCdmb3Jlc3RncmVlbic6MHgyMjhCMjIsJ2Z1Y2hzaWEnOjB4RkYwMEZGLCdnYWluc2Jvcm8nOjB4RENEQ0RDLCdnaG9zdHdoaXRlJzoweEY4RjhGRiwnZ29sZCc6MHhGRkQ3MDAsJ2dvbGRlbnJvZCc6MHhEQUE1MjAsJ2dyYXknOjB4ODA4MDgwLCdncmVlbic6MHgwMDgwMDAsJ2dyZWVueWVsbG93JzoweEFERkYyRiwnZ3JleSc6MHg4MDgwODAsJ2hvbmV5ZGV3JzoweEYwRkZGMCwnaG90cGluayc6MHhGRjY5QjQsJ2luZGlhbnJlZCc6MHhDRDVDNUMsJ2luZGlnbyc6MHg0QjAwODIsJ2l2b3J5JzoweEZGRkZGMCwna2hha2knOjB4RjBFNjhDLCdsYXZlbmRlcic6MHhFNkU2RkEsJ2xhdmVuZGVyYmx1c2gnOjB4RkZGMEY1LCdsYXduZ3JlZW4nOjB4N0NGQzAwLCdsZW1vbmNoaWZmb24nOjB4RkZGQUNELCdsaWdodGJsdWUnOjB4QUREOEU2LCdsaWdodGNvcmFsJzoweEYwODA4MCwnbGlnaHRjeWFuJzoweEUwRkZGRiwnbGlnaHRnb2xkZW5yb2R5ZWxsb3cnOjB4RkFGQUQyLCdsaWdodGdyYXknOjB4RDNEM0QzLCdsaWdodGdyZWVuJzoweDkwRUU5MCwnbGlnaHRncmV5JzoweEQzRDNEMywnbGlnaHRwaW5rJzoweEZGQjZDMSwnbGlnaHRzYWxtb24nOjB4RkZBMDdBLCdsaWdodHNlYWdyZWVuJzoweDIwQjJBQSwnbGlnaHRza3libHVlJzoweDg3Q0VGQSwnbGlnaHRzbGF0ZWdyYXknOjB4Nzc4ODk5LCdsaWdodHNsYXRlZ3JleSc6MHg3Nzg4OTksJ2xpZ2h0c3RlZWxibHVlJzoweEIwQzRERSwnbGlnaHR5ZWxsb3cnOjB4RkZGRkUwLCdsaW1lJzoweDAwRkYwMCwnbGltZWdyZWVuJzoweDMyQ0QzMiwnbGluZW4nOjB4RkFGMEU2LCdtYWdlbnRhJzoweEZGMDBGRiwnbWFyb29uJzoweDgwMDAwMCwnbWVkaXVtYXF1YW1hcmluZSc6MHg2NkNEQUEsJ21lZGl1bWJsdWUnOjB4MDAwMENELCdtZWRpdW1vcmNoaWQnOjB4QkE1NUQzLCdtZWRpdW1wdXJwbGUnOjB4OTM3MERCLCdtZWRpdW1zZWFncmVlbic6MHgzQ0IzNzEsJ21lZGl1bXNsYXRlYmx1ZSc6MHg3QjY4RUUsJ21lZGl1bXNwcmluZ2dyZWVuJzoweDAwRkE5QSwnbWVkaXVtdHVycXVvaXNlJzoweDQ4RDFDQywnbWVkaXVtdmlvbGV0cmVkJzoweEM3MTU4NSwnbWlkbmlnaHRibHVlJzoweDE5MTk3MCwnbWludGNyZWFtJzoweEY1RkZGQSwnbWlzdHlyb3NlJzoweEZGRTRFMSwnbW9jY2FzaW4nOjB4RkZFNEI1LCduYXZham93aGl0ZSc6MHhGRkRFQUQsJ25hdnknOjB4MDAwMDgwLCdvbGRsYWNlJzoweEZERjVFNiwnb2xpdmUnOjB4ODA4MDAwLCdvbGl2ZWRyYWInOjB4NkI4RTIzLCdvcmFuZ2UnOjB4RkZBNTAwLCdvcmFuZ2VyZWQnOjB4RkY0NTAwLCdvcmNoaWQnOjB4REE3MEQ2LCdwYWxlZ29sZGVucm9kJzoweEVFRThBQSwncGFsZWdyZWVuJzoweDk4RkI5OCwncGFsZXR1cnF1b2lzZSc6MHhBRkVFRUUsJ3BhbGV2aW9sZXRyZWQnOjB4REI3MDkzLCdwYXBheWF3aGlwJzoweEZGRUZENSwncGVhY2hwdWZmJzoweEZGREFCOSwncGVydSc6MHhDRDg1M0YsJ3BpbmsnOjB4RkZDMENCLCdwbHVtJzoweEREQTBERCwncG93ZGVyYmx1ZSc6MHhCMEUwRTYsJ3B1cnBsZSc6MHg4MDAwODAsJ3JlYmVjY2FwdXJwbGUnOjB4NjYzMzk5LCdyZWQnOjB4RkYwMDAwLCdyb3N5YnJvd24nOjB4QkM4RjhGLCdyb3lhbGJsdWUnOjB4NDE2OUUxLCdzYWRkbGVicm93bic6MHg4QjQ1MTMsJ3NhbG1vbic6MHhGQTgwNzIsJ3NhbmR5YnJvd24nOjB4RjRBNDYwLCdzZWFncmVlbic6MHgyRThCNTcsJ3NlYXNoZWxsJzoweEZGRjVFRSwnc2llbm5hJzoweEEwNTIyRCwnc2lsdmVyJzoweEMwQzBDMCwnc2t5Ymx1ZSc6MHg4N0NFRUIsJ3NsYXRlYmx1ZSc6MHg2QTVBQ0QsJ3NsYXRlZ3JheSc6MHg3MDgwOTAsJ3NsYXRlZ3JleSc6MHg3MDgwOTAsJ3Nub3cnOjB4RkZGQUZBLCdzcHJpbmdncmVlbic6MHgwMEZGN0YsJ3N0ZWVsYmx1ZSc6MHg0NjgyQjQsJ3Rhbic6MHhEMkI0OEMsJ3RlYWwnOjB4MDA4MDgwLCd0aGlzdGxlJzoweEQ4QkZEOCwndG9tYXRvJzoweEZGNjM0NywndHVycXVvaXNlJzoweDQwRTBEMCwndmlvbGV0JzoweEVFODJFRSwnd2hlYXQnOjB4RjVERUIzLCd3aGl0ZSc6MHhGRkZGRkYsJ3doaXRlc21va2UnOjB4RjVGNUY1LCd5ZWxsb3cnOjB4RkZGRjAwLCd5ZWxsb3dncmVlbic6MHg5QUNEMzJ9O3ZhciBfaHNsQT17aDowLHM6MCxsOjB9O3ZhciBfaHNsQj17aDowLHM6MCxsOjB9O2Z1bmN0aW9uIENvbG9yKHIsZyxiKXtpZihnPT09dW5kZWZpbmVkJiZiPT09dW5kZWZpbmVkKXsvLyByIGlzIFRIUkVFLkNvbG9yLCBoZXggb3Igc3RyaW5nCnJldHVybiB0aGlzLnNldChyKTt9cmV0dXJuIHRoaXMuc2V0UkdCKHIsZyxiKTt9ZnVuY3Rpb24gaHVlMnJnYihwLHEsdCl7aWYodDwwKXt0Kz0xO31pZih0PjEpe3QtPTE7fWlmKHQ8MS82KXtyZXR1cm4gcCsocS1wKSo2KnQ7fWlmKHQ8MS8yKXtyZXR1cm4gcTt9aWYodDwyLzMpe3JldHVybiBwKyhxLXApKjYqKDIvMy10KTt9cmV0dXJuIHA7fWZ1bmN0aW9uIFNSR0JUb0xpbmVhcihjKXtyZXR1cm4gYzwwLjA0MDQ1P2MqMC4wNzczOTkzODA4Ok1hdGgucG93KGMqMC45NDc4NjcyOTg2KzAuMDUyMTMyNzAxNCwyLjQpO31mdW5jdGlvbiBMaW5lYXJUb1NSR0IoYyl7cmV0dXJuIGM8MC4wMDMxMzA4P2MqMTIuOTI6MS4wNTUqTWF0aC5wb3coYywwLjQxNjY2KS0wLjA1NTt9T2JqZWN0LmFzc2lnbihDb2xvci5wcm90b3R5cGUse2lzQ29sb3I6dHJ1ZSxyOjEsZzoxLGI6MSxzZXQ6ZnVuY3Rpb24gc2V0KHZhbHVlKXtpZih2YWx1ZSYmdmFsdWUuaXNDb2xvcil7dGhpcy5jb3B5KHZhbHVlKTt9ZWxzZSBpZih0eXBlb2YgdmFsdWU9PT0nbnVtYmVyJyl7dGhpcy5zZXRIZXgodmFsdWUpO31lbHNlIGlmKHR5cGVvZiB2YWx1ZT09PSdzdHJpbmcnKXt0aGlzLnNldFN0eWxlKHZhbHVlKTt9cmV0dXJuIHRoaXM7fSxzZXRTY2FsYXI6ZnVuY3Rpb24gc2V0U2NhbGFyKHNjYWxhcil7dGhpcy5yPXNjYWxhcjt0aGlzLmc9c2NhbGFyO3RoaXMuYj1zY2FsYXI7cmV0dXJuIHRoaXM7fSxzZXRIZXg6ZnVuY3Rpb24gc2V0SGV4KGhleCl7aGV4PU1hdGguZmxvb3IoaGV4KTt0aGlzLnI9KGhleD4+MTYmMjU1KS8yNTU7dGhpcy5nPShoZXg+PjgmMjU1KS8yNTU7dGhpcy5iPShoZXgmMjU1KS8yNTU7cmV0dXJuIHRoaXM7fSxzZXRSR0I6ZnVuY3Rpb24gc2V0UkdCKHIsZyxiKXt0aGlzLnI9cjt0aGlzLmc9Zzt0aGlzLmI9YjtyZXR1cm4gdGhpczt9LHNldEhTTDpmdW5jdGlvbiBzZXRIU0woaCxzLGwpey8vIGgscyxsIHJhbmdlcyBhcmUgaW4gMC4wIC0gMS4wCmg9X01hdGguZXVjbGlkZWFuTW9kdWxvKGgsMSk7cz1fTWF0aC5jbGFtcChzLDAsMSk7bD1fTWF0aC5jbGFtcChsLDAsMSk7aWYocz09PTApe3RoaXMucj10aGlzLmc9dGhpcy5iPWw7fWVsc2V7dmFyIHA9bDw9MC41P2wqKDErcyk6bCtzLWwqczt2YXIgcT0yKmwtcDt0aGlzLnI9aHVlMnJnYihxLHAsaCsxLzMpO3RoaXMuZz1odWUycmdiKHEscCxoKTt0aGlzLmI9aHVlMnJnYihxLHAsaC0xLzMpO31yZXR1cm4gdGhpczt9LHNldFN0eWxlOmZ1bmN0aW9uIHNldFN0eWxlKHN0eWxlKXtmdW5jdGlvbiBoYW5kbGVBbHBoYShzdHJpbmcpe2lmKHN0cmluZz09PXVuZGVmaW5lZCl7cmV0dXJuO31pZihwYXJzZUZsb2F0KHN0cmluZyk8MSl7Y29uc29sZS53YXJuKCdUSFJFRS5Db2xvcjogQWxwaGEgY29tcG9uZW50IG9mICcrc3R5bGUrJyB3aWxsIGJlIGlnbm9yZWQuJyk7fX12YXIgbTtpZihtPS9eKCg/OnJnYnxoc2wpYT8pXChccyooW15cKV0qKVwpLy5leGVjKHN0eWxlKSl7Ly8gcmdiIC8gaHNsCnZhciBjb2xvcjt2YXIgbmFtZT1tWzFdO3ZhciBjb21wb25lbnRzPW1bMl07c3dpdGNoKG5hbWUpe2Nhc2UncmdiJzpjYXNlJ3JnYmEnOmlmKGNvbG9yPS9eKFxkKylccyosXHMqKFxkKylccyosXHMqKFxkKylccyooLFxzKihbMC05XSpcLj9bMC05XSspXHMqKT8kLy5leGVjKGNvbXBvbmVudHMpKXsvLyByZ2IoMjU1LDAsMCkgcmdiYSgyNTUsMCwwLDAuNSkKdGhpcy5yPU1hdGgubWluKDI1NSxwYXJzZUludChjb2xvclsxXSwxMCkpLzI1NTt0aGlzLmc9TWF0aC5taW4oMjU1LHBhcnNlSW50KGNvbG9yWzJdLDEwKSkvMjU1O3RoaXMuYj1NYXRoLm1pbigyNTUscGFyc2VJbnQoY29sb3JbM10sMTApKS8yNTU7aGFuZGxlQWxwaGEoY29sb3JbNV0pO3JldHVybiB0aGlzO31pZihjb2xvcj0vXihcZCspXCVccyosXHMqKFxkKylcJVxzKixccyooXGQrKVwlXHMqKCxccyooWzAtOV0qXC4/WzAtOV0rKVxzKik/JC8uZXhlYyhjb21wb25lbnRzKSl7Ly8gcmdiKDEwMCUsMCUsMCUpIHJnYmEoMTAwJSwwJSwwJSwwLjUpCnRoaXMucj1NYXRoLm1pbigxMDAscGFyc2VJbnQoY29sb3JbMV0sMTApKS8xMDA7dGhpcy5nPU1hdGgubWluKDEwMCxwYXJzZUludChjb2xvclsyXSwxMCkpLzEwMDt0aGlzLmI9TWF0aC5taW4oMTAwLHBhcnNlSW50KGNvbG9yWzNdLDEwKSkvMTAwO2hhbmRsZUFscGhhKGNvbG9yWzVdKTtyZXR1cm4gdGhpczt9YnJlYWs7Y2FzZSdoc2wnOmNhc2UnaHNsYSc6aWYoY29sb3I9L14oWzAtOV0qXC4/WzAtOV0rKVxzKixccyooXGQrKVwlXHMqLFxzKihcZCspXCVccyooLFxzKihbMC05XSpcLj9bMC05XSspXHMqKT8kLy5leGVjKGNvbXBvbmVudHMpKXsvLyBoc2woMTIwLDUwJSw1MCUpIGhzbGEoMTIwLDUwJSw1MCUsMC41KQp2YXIgaD1wYXJzZUZsb2F0KGNvbG9yWzFdKS8zNjA7dmFyIHM9cGFyc2VJbnQoY29sb3JbMl0sMTApLzEwMDt2YXIgbD1wYXJzZUludChjb2xvclszXSwxMCkvMTAwO2hhbmRsZUFscGhhKGNvbG9yWzVdKTtyZXR1cm4gdGhpcy5zZXRIU0woaCxzLGwpO31icmVhazt9fWVsc2UgaWYobT0vXlwjKFtBLUZhLWYwLTldKykkLy5leGVjKHN0eWxlKSl7Ly8gaGV4IGNvbG9yCnZhciBoZXg9bVsxXTt2YXIgc2l6ZT1oZXgubGVuZ3RoO2lmKHNpemU9PT0zKXsvLyAjZmYwCnRoaXMucj1wYXJzZUludChoZXguY2hhckF0KDApK2hleC5jaGFyQXQoMCksMTYpLzI1NTt0aGlzLmc9cGFyc2VJbnQoaGV4LmNoYXJBdCgxKStoZXguY2hhckF0KDEpLDE2KS8yNTU7dGhpcy5iPXBhcnNlSW50KGhleC5jaGFyQXQoMikraGV4LmNoYXJBdCgyKSwxNikvMjU1O3JldHVybiB0aGlzO31lbHNlIGlmKHNpemU9PT02KXsvLyAjZmYwMDAwCnRoaXMucj1wYXJzZUludChoZXguY2hhckF0KDApK2hleC5jaGFyQXQoMSksMTYpLzI1NTt0aGlzLmc9cGFyc2VJbnQoaGV4LmNoYXJBdCgyKStoZXguY2hhckF0KDMpLDE2KS8yNTU7dGhpcy5iPXBhcnNlSW50KGhleC5jaGFyQXQoNCkraGV4LmNoYXJBdCg1KSwxNikvMjU1O3JldHVybiB0aGlzO319aWYoc3R5bGUmJnN0eWxlLmxlbmd0aD4wKXtyZXR1cm4gdGhpcy5zZXRDb2xvck5hbWUoc3R5bGUpO31yZXR1cm4gdGhpczt9LHNldENvbG9yTmFtZTpmdW5jdGlvbiBzZXRDb2xvck5hbWUoc3R5bGUpey8vIGNvbG9yIGtleXdvcmRzCnZhciBoZXg9X2NvbG9yS2V5d29yZHNbc3R5bGVdO2lmKGhleCE9PXVuZGVmaW5lZCl7Ly8gcmVkCnRoaXMuc2V0SGV4KGhleCk7fWVsc2V7Ly8gdW5rbm93biBjb2xvcgpjb25zb2xlLndhcm4oJ1RIUkVFLkNvbG9yOiBVbmtub3duIGNvbG9yICcrc3R5bGUpO31yZXR1cm4gdGhpczt9LGNsb25lOmZ1bmN0aW9uIGNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMucix0aGlzLmcsdGhpcy5iKTt9LGNvcHk6ZnVuY3Rpb24gY29weShjb2xvcil7dGhpcy5yPWNvbG9yLnI7dGhpcy5nPWNvbG9yLmc7dGhpcy5iPWNvbG9yLmI7cmV0dXJuIHRoaXM7fSxjb3B5R2FtbWFUb0xpbmVhcjpmdW5jdGlvbiBjb3B5R2FtbWFUb0xpbmVhcihjb2xvcixnYW1tYUZhY3Rvcil7aWYoZ2FtbWFGYWN0b3I9PT11bmRlZmluZWQpe2dhbW1hRmFjdG9yPTIuMDt9dGhpcy5yPU1hdGgucG93KGNvbG9yLnIsZ2FtbWFGYWN0b3IpO3RoaXMuZz1NYXRoLnBvdyhjb2xvci5nLGdhbW1hRmFjdG9yKTt0aGlzLmI9TWF0aC5wb3coY29sb3IuYixnYW1tYUZhY3Rvcik7cmV0dXJuIHRoaXM7fSxjb3B5TGluZWFyVG9HYW1tYTpmdW5jdGlvbiBjb3B5TGluZWFyVG9HYW1tYShjb2xvcixnYW1tYUZhY3Rvcil7aWYoZ2FtbWFGYWN0b3I9PT11bmRlZmluZWQpe2dhbW1hRmFjdG9yPTIuMDt9dmFyIHNhZmVJbnZlcnNlPWdhbW1hRmFjdG9yPjA/MS4wL2dhbW1hRmFjdG9yOjEuMDt0aGlzLnI9TWF0aC5wb3coY29sb3IucixzYWZlSW52ZXJzZSk7dGhpcy5nPU1hdGgucG93KGNvbG9yLmcsc2FmZUludmVyc2UpO3RoaXMuYj1NYXRoLnBvdyhjb2xvci5iLHNhZmVJbnZlcnNlKTtyZXR1cm4gdGhpczt9LGNvbnZlcnRHYW1tYVRvTGluZWFyOmZ1bmN0aW9uIGNvbnZlcnRHYW1tYVRvTGluZWFyKGdhbW1hRmFjdG9yKXt0aGlzLmNvcHlHYW1tYVRvTGluZWFyKHRoaXMsZ2FtbWFGYWN0b3IpO3JldHVybiB0aGlzO30sY29udmVydExpbmVhclRvR2FtbWE6ZnVuY3Rpb24gY29udmVydExpbmVhclRvR2FtbWEoZ2FtbWFGYWN0b3Ipe3RoaXMuY29weUxpbmVhclRvR2FtbWEodGhpcyxnYW1tYUZhY3Rvcik7cmV0dXJuIHRoaXM7fSxjb3B5U1JHQlRvTGluZWFyOmZ1bmN0aW9uIGNvcHlTUkdCVG9MaW5lYXIoY29sb3Ipe3RoaXMucj1TUkdCVG9MaW5lYXIoY29sb3Iucik7dGhpcy5nPVNSR0JUb0xpbmVhcihjb2xvci5nKTt0aGlzLmI9U1JHQlRvTGluZWFyKGNvbG9yLmIpO3JldHVybiB0aGlzO30sY29weUxpbmVhclRvU1JHQjpmdW5jdGlvbiBjb3B5TGluZWFyVG9TUkdCKGNvbG9yKXt0aGlzLnI9TGluZWFyVG9TUkdCKGNvbG9yLnIpO3RoaXMuZz1MaW5lYXJUb1NSR0IoY29sb3IuZyk7dGhpcy5iPUxpbmVhclRvU1JHQihjb2xvci5iKTtyZXR1cm4gdGhpczt9LGNvbnZlcnRTUkdCVG9MaW5lYXI6ZnVuY3Rpb24gY29udmVydFNSR0JUb0xpbmVhcigpe3RoaXMuY29weVNSR0JUb0xpbmVhcih0aGlzKTtyZXR1cm4gdGhpczt9LGNvbnZlcnRMaW5lYXJUb1NSR0I6ZnVuY3Rpb24gY29udmVydExpbmVhclRvU1JHQigpe3RoaXMuY29weUxpbmVhclRvU1JHQih0aGlzKTtyZXR1cm4gdGhpczt9LGdldEhleDpmdW5jdGlvbiBnZXRIZXgoKXtyZXR1cm4gdGhpcy5yKjI1NTw8MTZedGhpcy5nKjI1NTw8OF50aGlzLmIqMjU1PDwwO30sZ2V0SGV4U3RyaW5nOmZ1bmN0aW9uIGdldEhleFN0cmluZygpe3JldHVybignMDAwMDAwJyt0aGlzLmdldEhleCgpLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTYpO30sZ2V0SFNMOmZ1bmN0aW9uIGdldEhTTCh0YXJnZXQpey8vIGgscyxsIHJhbmdlcyBhcmUgaW4gMC4wIC0gMS4wCmlmKHRhcmdldD09PXVuZGVmaW5lZCl7Y29uc29sZS53YXJuKCdUSFJFRS5Db2xvcjogLmdldEhTTCgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQnKTt0YXJnZXQ9e2g6MCxzOjAsbDowfTt9dmFyIHI9dGhpcy5yLGc9dGhpcy5nLGI9dGhpcy5iO3ZhciBtYXg9TWF0aC5tYXgocixnLGIpO3ZhciBtaW49TWF0aC5taW4ocixnLGIpO3ZhciBodWUsc2F0dXJhdGlvbjt2YXIgbGlnaHRuZXNzPShtaW4rbWF4KS8yLjA7aWYobWluPT09bWF4KXtodWU9MDtzYXR1cmF0aW9uPTA7fWVsc2V7dmFyIGRlbHRhPW1heC1taW47c2F0dXJhdGlvbj1saWdodG5lc3M8PTAuNT9kZWx0YS8obWF4K21pbik6ZGVsdGEvKDItbWF4LW1pbik7c3dpdGNoKG1heCl7Y2FzZSByOmh1ZT0oZy1iKS9kZWx0YSsoZzxiPzY6MCk7YnJlYWs7Y2FzZSBnOmh1ZT0oYi1yKS9kZWx0YSsyO2JyZWFrO2Nhc2UgYjpodWU9KHItZykvZGVsdGErNDticmVhazt9aHVlLz02O310YXJnZXQuaD1odWU7dGFyZ2V0LnM9c2F0dXJhdGlvbjt0YXJnZXQubD1saWdodG5lc3M7cmV0dXJuIHRhcmdldDt9LGdldFN0eWxlOmZ1bmN0aW9uIGdldFN0eWxlKCl7cmV0dXJuJ3JnYignKyh0aGlzLnIqMjU1fDApKycsJysodGhpcy5nKjI1NXwwKSsnLCcrKHRoaXMuYioyNTV8MCkrJyknO30sb2Zmc2V0SFNMOmZ1bmN0aW9uIG9mZnNldEhTTChoLHMsbCl7dGhpcy5nZXRIU0woX2hzbEEpO19oc2xBLmgrPWg7X2hzbEEucys9cztfaHNsQS5sKz1sO3RoaXMuc2V0SFNMKF9oc2xBLmgsX2hzbEEucyxfaHNsQS5sKTtyZXR1cm4gdGhpczt9LGFkZDpmdW5jdGlvbiBhZGQoY29sb3Ipe3RoaXMucis9Y29sb3Iucjt0aGlzLmcrPWNvbG9yLmc7dGhpcy5iKz1jb2xvci5iO3JldHVybiB0aGlzO30sYWRkQ29sb3JzOmZ1bmN0aW9uIGFkZENvbG9ycyhjb2xvcjEsY29sb3IyKXt0aGlzLnI9Y29sb3IxLnIrY29sb3IyLnI7dGhpcy5nPWNvbG9yMS5nK2NvbG9yMi5nO3RoaXMuYj1jb2xvcjEuYitjb2xvcjIuYjtyZXR1cm4gdGhpczt9LGFkZFNjYWxhcjpmdW5jdGlvbiBhZGRTY2FsYXIocyl7dGhpcy5yKz1zO3RoaXMuZys9czt0aGlzLmIrPXM7cmV0dXJuIHRoaXM7fSxzdWI6ZnVuY3Rpb24gc3ViKGNvbG9yKXt0aGlzLnI9TWF0aC5tYXgoMCx0aGlzLnItY29sb3Iucik7dGhpcy5nPU1hdGgubWF4KDAsdGhpcy5nLWNvbG9yLmcpO3RoaXMuYj1NYXRoLm1heCgwLHRoaXMuYi1jb2xvci5iKTtyZXR1cm4gdGhpczt9LG11bHRpcGx5OmZ1bmN0aW9uIG11bHRpcGx5KGNvbG9yKXt0aGlzLnIqPWNvbG9yLnI7dGhpcy5nKj1jb2xvci5nO3RoaXMuYio9Y29sb3IuYjtyZXR1cm4gdGhpczt9LG11bHRpcGx5U2NhbGFyOmZ1bmN0aW9uIG11bHRpcGx5U2NhbGFyKHMpe3RoaXMucio9czt0aGlzLmcqPXM7dGhpcy5iKj1zO3JldHVybiB0aGlzO30sbGVycDpmdW5jdGlvbiBsZXJwKGNvbG9yLGFscGhhKXt0aGlzLnIrPShjb2xvci5yLXRoaXMucikqYWxwaGE7dGhpcy5nKz0oY29sb3IuZy10aGlzLmcpKmFscGhhO3RoaXMuYis9KGNvbG9yLmItdGhpcy5iKSphbHBoYTtyZXR1cm4gdGhpczt9LGxlcnBIU0w6ZnVuY3Rpb24gbGVycEhTTChjb2xvcixhbHBoYSl7dGhpcy5nZXRIU0woX2hzbEEpO2NvbG9yLmdldEhTTChfaHNsQik7dmFyIGg9X01hdGgubGVycChfaHNsQS5oLF9oc2xCLmgsYWxwaGEpO3ZhciBzPV9NYXRoLmxlcnAoX2hzbEEucyxfaHNsQi5zLGFscGhhKTt2YXIgbD1fTWF0aC5sZXJwKF9oc2xBLmwsX2hzbEIubCxhbHBoYSk7dGhpcy5zZXRIU0woaCxzLGwpO3JldHVybiB0aGlzO30sZXF1YWxzOmZ1bmN0aW9uIGVxdWFscyhjKXtyZXR1cm4gYy5yPT09dGhpcy5yJiZjLmc9PT10aGlzLmcmJmMuYj09PXRoaXMuYjt9LGZyb21BcnJheTpmdW5jdGlvbiBmcm9tQXJyYXkoYXJyYXksb2Zmc2V0KXtpZihvZmZzZXQ9PT11bmRlZmluZWQpe29mZnNldD0wO310aGlzLnI9YXJyYXlbb2Zmc2V0XTt0aGlzLmc9YXJyYXlbb2Zmc2V0KzFdO3RoaXMuYj1hcnJheVtvZmZzZXQrMl07cmV0dXJuIHRoaXM7fSx0b0FycmF5OmZ1bmN0aW9uIHRvQXJyYXkoYXJyYXksb2Zmc2V0KXtpZihhcnJheT09PXVuZGVmaW5lZCl7YXJyYXk9W107fWlmKG9mZnNldD09PXVuZGVmaW5lZCl7b2Zmc2V0PTA7fWFycmF5W29mZnNldF09dGhpcy5yO2FycmF5W29mZnNldCsxXT10aGlzLmc7YXJyYXlbb2Zmc2V0KzJdPXRoaXMuYjtyZXR1cm4gYXJyYXk7fSx0b0pTT046ZnVuY3Rpb24gdG9KU09OKCl7cmV0dXJuIHRoaXMuZ2V0SGV4KCk7fX0pO0NvbG9yLk5BTUVTPV9jb2xvcktleXdvcmRzOy8qKgogICAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb20vCiAgICogQGF1dGhvciBhbHRlcmVkcSAvIGh0dHA6Ly9hbHRlcmVkcXVhbGlhLmNvbS8KICAgKi9mdW5jdGlvbiBGYWNlMyhhLGIsYyxub3JtYWwsY29sb3IsbWF0ZXJpYWxJbmRleCl7dGhpcy5hPWE7dGhpcy5iPWI7dGhpcy5jPWM7dGhpcy5ub3JtYWw9bm9ybWFsJiZub3JtYWwuaXNWZWN0b3IzP25vcm1hbDpuZXcgVmVjdG9yMygpO3RoaXMudmVydGV4Tm9ybWFscz1BcnJheS5pc0FycmF5KG5vcm1hbCk/bm9ybWFsOltdO3RoaXMuY29sb3I9Y29sb3ImJmNvbG9yLmlzQ29sb3I/Y29sb3I6bmV3IENvbG9yKCk7dGhpcy52ZXJ0ZXhDb2xvcnM9QXJyYXkuaXNBcnJheShjb2xvcik/Y29sb3I6W107dGhpcy5tYXRlcmlhbEluZGV4PW1hdGVyaWFsSW5kZXghPT11bmRlZmluZWQ/bWF0ZXJpYWxJbmRleDowO31PYmplY3QuYXNzaWduKEZhY2UzLnByb3RvdHlwZSx7Y2xvbmU6ZnVuY3Rpb24gY2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoKS5jb3B5KHRoaXMpO30sY29weTpmdW5jdGlvbiBjb3B5KHNvdXJjZSl7dGhpcy5hPXNvdXJjZS5hO3RoaXMuYj1zb3VyY2UuYjt0aGlzLmM9c291cmNlLmM7dGhpcy5ub3JtYWwuY29weShzb3VyY2Uubm9ybWFsKTt0aGlzLmNvbG9yLmNvcHkoc291cmNlLmNvbG9yKTt0aGlzLm1hdGVyaWFsSW5kZXg9c291cmNlLm1hdGVyaWFsSW5kZXg7Zm9yKHZhciBpPTAsaWw9c291cmNlLnZlcnRleE5vcm1hbHMubGVuZ3RoO2k8aWw7aSsrKXt0aGlzLnZlcnRleE5vcm1hbHNbaV09c291cmNlLnZlcnRleE5vcm1hbHNbaV0uY2xvbmUoKTt9Zm9yKHZhciBpPTAsaWw9c291cmNlLnZlcnRleENvbG9ycy5sZW5ndGg7aTxpbDtpKyspe3RoaXMudmVydGV4Q29sb3JzW2ldPXNvdXJjZS52ZXJ0ZXhDb2xvcnNbaV0uY2xvbmUoKTt9cmV0dXJuIHRoaXM7fX0pOy8qKgogICAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb20vCiAgICogQGF1dGhvciBhbHRlcmVkcSAvIGh0dHA6Ly9hbHRlcmVkcXVhbGlhLmNvbS8KICAgKi92YXIgbWF0ZXJpYWxJZD0wO2Z1bmN0aW9uIE1hdGVyaWFsKCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsJ2lkJyx7dmFsdWU6bWF0ZXJpYWxJZCsrfSk7dGhpcy51dWlkPV9NYXRoLmdlbmVyYXRlVVVJRCgpO3RoaXMubmFtZT0nJzt0aGlzLnR5cGU9J01hdGVyaWFsJzt0aGlzLmZvZz10cnVlO3RoaXMuYmxlbmRpbmc9Tm9ybWFsQmxlbmRpbmc7dGhpcy5zaWRlPUZyb250U2lkZTt0aGlzLmZsYXRTaGFkaW5nPWZhbHNlO3RoaXMudmVydGV4VGFuZ2VudHM9ZmFsc2U7dGhpcy52ZXJ0ZXhDb2xvcnM9Tm9Db2xvcnM7Ly8gVEhSRUUuTm9Db2xvcnMsIFRIUkVFLlZlcnRleENvbG9ycywgVEhSRUUuRmFjZUNvbG9ycwp0aGlzLm9wYWNpdHk9MTt0aGlzLnRyYW5zcGFyZW50PWZhbHNlO3RoaXMuYmxlbmRTcmM9U3JjQWxwaGFGYWN0b3I7dGhpcy5ibGVuZERzdD1PbmVNaW51c1NyY0FscGhhRmFjdG9yO3RoaXMuYmxlbmRFcXVhdGlvbj1BZGRFcXVhdGlvbjt0aGlzLmJsZW5kU3JjQWxwaGE9bnVsbDt0aGlzLmJsZW5kRHN0QWxwaGE9bnVsbDt0aGlzLmJsZW5kRXF1YXRpb25BbHBoYT1udWxsO3RoaXMuZGVwdGhGdW5jPUxlc3NFcXVhbERlcHRoO3RoaXMuZGVwdGhUZXN0PXRydWU7dGhpcy5kZXB0aFdyaXRlPXRydWU7dGhpcy5zdGVuY2lsV3JpdGVNYXNrPTB4ZmY7dGhpcy5zdGVuY2lsRnVuYz1BbHdheXNTdGVuY2lsRnVuYzt0aGlzLnN0ZW5jaWxSZWY9MDt0aGlzLnN0ZW5jaWxGdW5jTWFzaz0weGZmO3RoaXMuc3RlbmNpbEZhaWw9S2VlcFN0ZW5jaWxPcDt0aGlzLnN0ZW5jaWxaRmFpbD1LZWVwU3RlbmNpbE9wO3RoaXMuc3RlbmNpbFpQYXNzPUtlZXBTdGVuY2lsT3A7dGhpcy5zdGVuY2lsV3JpdGU9ZmFsc2U7dGhpcy5jbGlwcGluZ1BsYW5lcz1udWxsO3RoaXMuY2xpcEludGVyc2VjdGlvbj1mYWxzZTt0aGlzLmNsaXBTaGFkb3dzPWZhbHNlO3RoaXMuc2hhZG93U2lkZT1udWxsO3RoaXMuY29sb3JXcml0ZT10cnVlO3RoaXMucHJlY2lzaW9uPW51bGw7Ly8gb3ZlcnJpZGUgdGhlIHJlbmRlcmVyJ3MgZGVmYXVsdCBwcmVjaXNpb24gZm9yIHRoaXMgbWF0ZXJpYWwKdGhpcy5wb2x5Z29uT2Zmc2V0PWZhbHNlO3RoaXMucG9seWdvbk9mZnNldEZhY3Rvcj0wO3RoaXMucG9seWdvbk9mZnNldFVuaXRzPTA7dGhpcy5kaXRoZXJpbmc9ZmFsc2U7dGhpcy5hbHBoYVRlc3Q9MDt0aGlzLnByZW11bHRpcGxpZWRBbHBoYT1mYWxzZTt0aGlzLnZpc2libGU9dHJ1ZTt0aGlzLnRvbmVNYXBwZWQ9dHJ1ZTt0aGlzLnVzZXJEYXRhPXt9O3RoaXMudmVyc2lvbj0wO31NYXRlcmlhbC5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKEV2ZW50RGlzcGF0Y2hlci5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpNYXRlcmlhbCxpc01hdGVyaWFsOnRydWUsb25CZWZvcmVDb21waWxlOmZ1bmN0aW9uIG9uQmVmb3JlQ29tcGlsZSgpe30sc2V0VmFsdWVzOmZ1bmN0aW9uIHNldFZhbHVlcyh2YWx1ZXMpe2lmKHZhbHVlcz09PXVuZGVmaW5lZCl7cmV0dXJuO31mb3IodmFyIGtleSBpbiB2YWx1ZXMpe3ZhciBuZXdWYWx1ZT12YWx1ZXNba2V5XTtpZihuZXdWYWx1ZT09PXVuZGVmaW5lZCl7Y29uc29sZS53YXJuKCJUSFJFRS5NYXRlcmlhbDogJyIra2V5KyInIHBhcmFtZXRlciBpcyB1bmRlZmluZWQuIik7Y29udGludWU7fS8vIGZvciBiYWNrd2FyZCBjb21wYXRhYmlsaXR5IGlmIHNoYWRpbmcgaXMgc2V0IGluIHRoZSBjb25zdHJ1Y3RvcgppZihrZXk9PT0nc2hhZGluZycpe2NvbnNvbGUud2FybignVEhSRUUuJyt0aGlzLnR5cGUrJzogLnNoYWRpbmcgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIHRoZSBib29sZWFuIC5mbGF0U2hhZGluZyBpbnN0ZWFkLicpO3RoaXMuZmxhdFNoYWRpbmc9bmV3VmFsdWU9PT1GbGF0U2hhZGluZz90cnVlOmZhbHNlO2NvbnRpbnVlO312YXIgY3VycmVudFZhbHVlPXRoaXNba2V5XTtpZihjdXJyZW50VmFsdWU9PT11bmRlZmluZWQpe2NvbnNvbGUud2FybigiVEhSRUUuIit0aGlzLnR5cGUrIjogJyIra2V5KyInIGlzIG5vdCBhIHByb3BlcnR5IG9mIHRoaXMgbWF0ZXJpYWwuIik7Y29udGludWU7fWlmKGN1cnJlbnRWYWx1ZSYmY3VycmVudFZhbHVlLmlzQ29sb3Ipe2N1cnJlbnRWYWx1ZS5zZXQobmV3VmFsdWUpO31lbHNlIGlmKGN1cnJlbnRWYWx1ZSYmY3VycmVudFZhbHVlLmlzVmVjdG9yMyYmbmV3VmFsdWUmJm5ld1ZhbHVlLmlzVmVjdG9yMyl7Y3VycmVudFZhbHVlLmNvcHkobmV3VmFsdWUpO31lbHNle3RoaXNba2V5XT1uZXdWYWx1ZTt9fX0sdG9KU09OOmZ1bmN0aW9uIHRvSlNPTihtZXRhKXt2YXIgaXNSb290PW1ldGE9PT11bmRlZmluZWR8fHR5cGVvZiBtZXRhPT09J3N0cmluZyc7aWYoaXNSb290KXttZXRhPXt0ZXh0dXJlczp7fSxpbWFnZXM6e319O312YXIgZGF0YT17bWV0YWRhdGE6e3ZlcnNpb246NC41LHR5cGU6J01hdGVyaWFsJyxnZW5lcmF0b3I6J01hdGVyaWFsLnRvSlNPTid9fTsvLyBzdGFuZGFyZCBNYXRlcmlhbCBzZXJpYWxpemF0aW9uCmRhdGEudXVpZD10aGlzLnV1aWQ7ZGF0YS50eXBlPXRoaXMudHlwZTtpZih0aGlzLm5hbWUhPT0nJyl7ZGF0YS5uYW1lPXRoaXMubmFtZTt9aWYodGhpcy5jb2xvciYmdGhpcy5jb2xvci5pc0NvbG9yKXtkYXRhLmNvbG9yPXRoaXMuY29sb3IuZ2V0SGV4KCk7fWlmKHRoaXMucm91Z2huZXNzIT09dW5kZWZpbmVkKXtkYXRhLnJvdWdobmVzcz10aGlzLnJvdWdobmVzczt9aWYodGhpcy5tZXRhbG5lc3MhPT11bmRlZmluZWQpe2RhdGEubWV0YWxuZXNzPXRoaXMubWV0YWxuZXNzO31pZih0aGlzLnNoZWVuJiZ0aGlzLnNoZWVuLmlzQ29sb3Ipe2RhdGEuc2hlZW49dGhpcy5zaGVlbi5nZXRIZXgoKTt9aWYodGhpcy5lbWlzc2l2ZSYmdGhpcy5lbWlzc2l2ZS5pc0NvbG9yKXtkYXRhLmVtaXNzaXZlPXRoaXMuZW1pc3NpdmUuZ2V0SGV4KCk7fWlmKHRoaXMuZW1pc3NpdmVJbnRlbnNpdHkmJnRoaXMuZW1pc3NpdmVJbnRlbnNpdHkhPT0xKXtkYXRhLmVtaXNzaXZlSW50ZW5zaXR5PXRoaXMuZW1pc3NpdmVJbnRlbnNpdHk7fWlmKHRoaXMuc3BlY3VsYXImJnRoaXMuc3BlY3VsYXIuaXNDb2xvcil7ZGF0YS5zcGVjdWxhcj10aGlzLnNwZWN1bGFyLmdldEhleCgpO31pZih0aGlzLnNoaW5pbmVzcyE9PXVuZGVmaW5lZCl7ZGF0YS5zaGluaW5lc3M9dGhpcy5zaGluaW5lc3M7fWlmKHRoaXMuY2xlYXJjb2F0IT09dW5kZWZpbmVkKXtkYXRhLmNsZWFyY29hdD10aGlzLmNsZWFyY29hdDt9aWYodGhpcy5jbGVhcmNvYXRSb3VnaG5lc3MhPT11bmRlZmluZWQpe2RhdGEuY2xlYXJjb2F0Um91Z2huZXNzPXRoaXMuY2xlYXJjb2F0Um91Z2huZXNzO31pZih0aGlzLmNsZWFyY29hdE5vcm1hbE1hcCYmdGhpcy5jbGVhcmNvYXROb3JtYWxNYXAuaXNUZXh0dXJlKXtkYXRhLmNsZWFyY29hdE5vcm1hbE1hcD10aGlzLmNsZWFyY29hdE5vcm1hbE1hcC50b0pTT04obWV0YSkudXVpZDtkYXRhLmNsZWFyY29hdE5vcm1hbFNjYWxlPXRoaXMuY2xlYXJjb2F0Tm9ybWFsU2NhbGUudG9BcnJheSgpO31pZih0aGlzLm1hcCYmdGhpcy5tYXAuaXNUZXh0dXJlKXtkYXRhLm1hcD10aGlzLm1hcC50b0pTT04obWV0YSkudXVpZDt9aWYodGhpcy5tYXRjYXAmJnRoaXMubWF0Y2FwLmlzVGV4dHVyZSl7ZGF0YS5tYXRjYXA9dGhpcy5tYXRjYXAudG9KU09OKG1ldGEpLnV1aWQ7fWlmKHRoaXMuYWxwaGFNYXAmJnRoaXMuYWxwaGFNYXAuaXNUZXh0dXJlKXtkYXRhLmFscGhhTWFwPXRoaXMuYWxwaGFNYXAudG9KU09OKG1ldGEpLnV1aWQ7fWlmKHRoaXMubGlnaHRNYXAmJnRoaXMubGlnaHRNYXAuaXNUZXh0dXJlKXtkYXRhLmxpZ2h0TWFwPXRoaXMubGlnaHRNYXAudG9KU09OKG1ldGEpLnV1aWQ7fWlmKHRoaXMuYW9NYXAmJnRoaXMuYW9NYXAuaXNUZXh0dXJlKXtkYXRhLmFvTWFwPXRoaXMuYW9NYXAudG9KU09OKG1ldGEpLnV1aWQ7ZGF0YS5hb01hcEludGVuc2l0eT10aGlzLmFvTWFwSW50ZW5zaXR5O31pZih0aGlzLmJ1bXBNYXAmJnRoaXMuYnVtcE1hcC5pc1RleHR1cmUpe2RhdGEuYnVtcE1hcD10aGlzLmJ1bXBNYXAudG9KU09OKG1ldGEpLnV1aWQ7ZGF0YS5idW1wU2NhbGU9dGhpcy5idW1wU2NhbGU7fWlmKHRoaXMubm9ybWFsTWFwJiZ0aGlzLm5vcm1hbE1hcC5pc1RleHR1cmUpe2RhdGEubm9ybWFsTWFwPXRoaXMubm9ybWFsTWFwLnRvSlNPTihtZXRhKS51dWlkO2RhdGEubm9ybWFsTWFwVHlwZT10aGlzLm5vcm1hbE1hcFR5cGU7ZGF0YS5ub3JtYWxTY2FsZT10aGlzLm5vcm1hbFNjYWxlLnRvQXJyYXkoKTt9aWYodGhpcy5kaXNwbGFjZW1lbnRNYXAmJnRoaXMuZGlzcGxhY2VtZW50TWFwLmlzVGV4dHVyZSl7ZGF0YS5kaXNwbGFjZW1lbnRNYXA9dGhpcy5kaXNwbGFjZW1lbnRNYXAudG9KU09OKG1ldGEpLnV1aWQ7ZGF0YS5kaXNwbGFjZW1lbnRTY2FsZT10aGlzLmRpc3BsYWNlbWVudFNjYWxlO2RhdGEuZGlzcGxhY2VtZW50Qmlhcz10aGlzLmRpc3BsYWNlbWVudEJpYXM7fWlmKHRoaXMucm91Z2huZXNzTWFwJiZ0aGlzLnJvdWdobmVzc01hcC5pc1RleHR1cmUpe2RhdGEucm91Z2huZXNzTWFwPXRoaXMucm91Z2huZXNzTWFwLnRvSlNPTihtZXRhKS51dWlkO31pZih0aGlzLm1ldGFsbmVzc01hcCYmdGhpcy5tZXRhbG5lc3NNYXAuaXNUZXh0dXJlKXtkYXRhLm1ldGFsbmVzc01hcD10aGlzLm1ldGFsbmVzc01hcC50b0pTT04obWV0YSkudXVpZDt9aWYodGhpcy5lbWlzc2l2ZU1hcCYmdGhpcy5lbWlzc2l2ZU1hcC5pc1RleHR1cmUpe2RhdGEuZW1pc3NpdmVNYXA9dGhpcy5lbWlzc2l2ZU1hcC50b0pTT04obWV0YSkudXVpZDt9aWYodGhpcy5zcGVjdWxhck1hcCYmdGhpcy5zcGVjdWxhck1hcC5pc1RleHR1cmUpe2RhdGEuc3BlY3VsYXJNYXA9dGhpcy5zcGVjdWxhck1hcC50b0pTT04obWV0YSkudXVpZDt9aWYodGhpcy5lbnZNYXAmJnRoaXMuZW52TWFwLmlzVGV4dHVyZSl7ZGF0YS5lbnZNYXA9dGhpcy5lbnZNYXAudG9KU09OKG1ldGEpLnV1aWQ7ZGF0YS5yZWZsZWN0aXZpdHk9dGhpcy5yZWZsZWN0aXZpdHk7Ly8gU2NhbGUgYmVoaW5kIGVudk1hcApkYXRhLnJlZnJhY3Rpb25SYXRpbz10aGlzLnJlZnJhY3Rpb25SYXRpbztpZih0aGlzLmNvbWJpbmUhPT11bmRlZmluZWQpe2RhdGEuY29tYmluZT10aGlzLmNvbWJpbmU7fWlmKHRoaXMuZW52TWFwSW50ZW5zaXR5IT09dW5kZWZpbmVkKXtkYXRhLmVudk1hcEludGVuc2l0eT10aGlzLmVudk1hcEludGVuc2l0eTt9fWlmKHRoaXMuZ3JhZGllbnRNYXAmJnRoaXMuZ3JhZGllbnRNYXAuaXNUZXh0dXJlKXtkYXRhLmdyYWRpZW50TWFwPXRoaXMuZ3JhZGllbnRNYXAudG9KU09OKG1ldGEpLnV1aWQ7fWlmKHRoaXMuc2l6ZSE9PXVuZGVmaW5lZCl7ZGF0YS5zaXplPXRoaXMuc2l6ZTt9aWYodGhpcy5zaXplQXR0ZW51YXRpb24hPT11bmRlZmluZWQpe2RhdGEuc2l6ZUF0dGVudWF0aW9uPXRoaXMuc2l6ZUF0dGVudWF0aW9uO31pZih0aGlzLmJsZW5kaW5nIT09Tm9ybWFsQmxlbmRpbmcpe2RhdGEuYmxlbmRpbmc9dGhpcy5ibGVuZGluZzt9aWYodGhpcy5mbGF0U2hhZGluZz09PXRydWUpe2RhdGEuZmxhdFNoYWRpbmc9dGhpcy5mbGF0U2hhZGluZzt9aWYodGhpcy5zaWRlIT09RnJvbnRTaWRlKXtkYXRhLnNpZGU9dGhpcy5zaWRlO31pZih0aGlzLnZlcnRleENvbG9ycyE9PU5vQ29sb3JzKXtkYXRhLnZlcnRleENvbG9ycz10aGlzLnZlcnRleENvbG9yczt9aWYodGhpcy5vcGFjaXR5PDEpe2RhdGEub3BhY2l0eT10aGlzLm9wYWNpdHk7fWlmKHRoaXMudHJhbnNwYXJlbnQ9PT10cnVlKXtkYXRhLnRyYW5zcGFyZW50PXRoaXMudHJhbnNwYXJlbnQ7fWRhdGEuZGVwdGhGdW5jPXRoaXMuZGVwdGhGdW5jO2RhdGEuZGVwdGhUZXN0PXRoaXMuZGVwdGhUZXN0O2RhdGEuZGVwdGhXcml0ZT10aGlzLmRlcHRoV3JpdGU7ZGF0YS5zdGVuY2lsV3JpdGU9dGhpcy5zdGVuY2lsV3JpdGU7ZGF0YS5zdGVuY2lsV3JpdGVNYXNrPXRoaXMuc3RlbmNpbFdyaXRlTWFzaztkYXRhLnN0ZW5jaWxGdW5jPXRoaXMuc3RlbmNpbEZ1bmM7ZGF0YS5zdGVuY2lsUmVmPXRoaXMuc3RlbmNpbFJlZjtkYXRhLnN0ZW5jaWxGdW5jTWFzaz10aGlzLnN0ZW5jaWxGdW5jTWFzaztkYXRhLnN0ZW5jaWxGYWlsPXRoaXMuc3RlbmNpbEZhaWw7ZGF0YS5zdGVuY2lsWkZhaWw9dGhpcy5zdGVuY2lsWkZhaWw7ZGF0YS5zdGVuY2lsWlBhc3M9dGhpcy5zdGVuY2lsWlBhc3M7Ly8gcm90YXRpb24gKFNwcml0ZU1hdGVyaWFsKQppZih0aGlzLnJvdGF0aW9uJiZ0aGlzLnJvdGF0aW9uIT09MCl7ZGF0YS5yb3RhdGlvbj10aGlzLnJvdGF0aW9uO31pZih0aGlzLnBvbHlnb25PZmZzZXQ9PT10cnVlKXtkYXRhLnBvbHlnb25PZmZzZXQ9dHJ1ZTt9aWYodGhpcy5wb2x5Z29uT2Zmc2V0RmFjdG9yIT09MCl7ZGF0YS5wb2x5Z29uT2Zmc2V0RmFjdG9yPXRoaXMucG9seWdvbk9mZnNldEZhY3Rvcjt9aWYodGhpcy5wb2x5Z29uT2Zmc2V0VW5pdHMhPT0wKXtkYXRhLnBvbHlnb25PZmZzZXRVbml0cz10aGlzLnBvbHlnb25PZmZzZXRVbml0czt9aWYodGhpcy5saW5ld2lkdGgmJnRoaXMubGluZXdpZHRoIT09MSl7ZGF0YS5saW5ld2lkdGg9dGhpcy5saW5ld2lkdGg7fWlmKHRoaXMuZGFzaFNpemUhPT11bmRlZmluZWQpe2RhdGEuZGFzaFNpemU9dGhpcy5kYXNoU2l6ZTt9aWYodGhpcy5nYXBTaXplIT09dW5kZWZpbmVkKXtkYXRhLmdhcFNpemU9dGhpcy5nYXBTaXplO31pZih0aGlzLnNjYWxlIT09dW5kZWZpbmVkKXtkYXRhLnNjYWxlPXRoaXMuc2NhbGU7fWlmKHRoaXMuZGl0aGVyaW5nPT09dHJ1ZSl7ZGF0YS5kaXRoZXJpbmc9dHJ1ZTt9aWYodGhpcy5hbHBoYVRlc3Q+MCl7ZGF0YS5hbHBoYVRlc3Q9dGhpcy5hbHBoYVRlc3Q7fWlmKHRoaXMucHJlbXVsdGlwbGllZEFscGhhPT09dHJ1ZSl7ZGF0YS5wcmVtdWx0aXBsaWVkQWxwaGE9dGhpcy5wcmVtdWx0aXBsaWVkQWxwaGE7fWlmKHRoaXMud2lyZWZyYW1lPT09dHJ1ZSl7ZGF0YS53aXJlZnJhbWU9dGhpcy53aXJlZnJhbWU7fWlmKHRoaXMud2lyZWZyYW1lTGluZXdpZHRoPjEpe2RhdGEud2lyZWZyYW1lTGluZXdpZHRoPXRoaXMud2lyZWZyYW1lTGluZXdpZHRoO31pZih0aGlzLndpcmVmcmFtZUxpbmVjYXAhPT0ncm91bmQnKXtkYXRhLndpcmVmcmFtZUxpbmVjYXA9dGhpcy53aXJlZnJhbWVMaW5lY2FwO31pZih0aGlzLndpcmVmcmFtZUxpbmVqb2luIT09J3JvdW5kJyl7ZGF0YS53aXJlZnJhbWVMaW5lam9pbj10aGlzLndpcmVmcmFtZUxpbmVqb2luO31pZih0aGlzLm1vcnBoVGFyZ2V0cz09PXRydWUpe2RhdGEubW9ycGhUYXJnZXRzPXRydWU7fWlmKHRoaXMubW9ycGhOb3JtYWxzPT09dHJ1ZSl7ZGF0YS5tb3JwaE5vcm1hbHM9dHJ1ZTt9aWYodGhpcy5za2lubmluZz09PXRydWUpe2RhdGEuc2tpbm5pbmc9dHJ1ZTt9aWYodGhpcy52aXNpYmxlPT09ZmFsc2Upe2RhdGEudmlzaWJsZT1mYWxzZTt9aWYodGhpcy50b25lTWFwcGVkPT09ZmFsc2Upe2RhdGEudG9uZU1hcHBlZD1mYWxzZTt9aWYoSlNPTi5zdHJpbmdpZnkodGhpcy51c2VyRGF0YSkhPT0ne30nKXtkYXRhLnVzZXJEYXRhPXRoaXMudXNlckRhdGE7fS8vIFRPRE86IENvcGllZCBmcm9tIE9iamVjdDNELnRvSlNPTgpmdW5jdGlvbiBleHRyYWN0RnJvbUNhY2hlKGNhY2hlKXt2YXIgdmFsdWVzPVtdO2Zvcih2YXIga2V5IGluIGNhY2hlKXt2YXIgZGF0YT1jYWNoZVtrZXldO2RlbGV0ZSBkYXRhLm1ldGFkYXRhO3ZhbHVlcy5wdXNoKGRhdGEpO31yZXR1cm4gdmFsdWVzO31pZihpc1Jvb3Qpe3ZhciB0ZXh0dXJlcz1leHRyYWN0RnJvbUNhY2hlKG1ldGEudGV4dHVyZXMpO3ZhciBpbWFnZXM9ZXh0cmFjdEZyb21DYWNoZShtZXRhLmltYWdlcyk7aWYodGV4dHVyZXMubGVuZ3RoPjApe2RhdGEudGV4dHVyZXM9dGV4dHVyZXM7fWlmKGltYWdlcy5sZW5ndGg+MCl7ZGF0YS5pbWFnZXM9aW1hZ2VzO319cmV0dXJuIGRhdGE7fSxjbG9uZTpmdW5jdGlvbiBjbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmNvcHkodGhpcyk7fSxjb3B5OmZ1bmN0aW9uIGNvcHkoc291cmNlKXt0aGlzLm5hbWU9c291cmNlLm5hbWU7dGhpcy5mb2c9c291cmNlLmZvZzt0aGlzLmJsZW5kaW5nPXNvdXJjZS5ibGVuZGluZzt0aGlzLnNpZGU9c291cmNlLnNpZGU7dGhpcy5mbGF0U2hhZGluZz1zb3VyY2UuZmxhdFNoYWRpbmc7dGhpcy52ZXJ0ZXhUYW5nZW50cz1zb3VyY2UudmVydGV4VGFuZ2VudHM7dGhpcy52ZXJ0ZXhDb2xvcnM9c291cmNlLnZlcnRleENvbG9yczt0aGlzLm9wYWNpdHk9c291cmNlLm9wYWNpdHk7dGhpcy50cmFuc3BhcmVudD1zb3VyY2UudHJhbnNwYXJlbnQ7dGhpcy5ibGVuZFNyYz1zb3VyY2UuYmxlbmRTcmM7dGhpcy5ibGVuZERzdD1zb3VyY2UuYmxlbmREc3Q7dGhpcy5ibGVuZEVxdWF0aW9uPXNvdXJjZS5ibGVuZEVxdWF0aW9uO3RoaXMuYmxlbmRTcmNBbHBoYT1zb3VyY2UuYmxlbmRTcmNBbHBoYTt0aGlzLmJsZW5kRHN0QWxwaGE9c291cmNlLmJsZW5kRHN0QWxwaGE7dGhpcy5ibGVuZEVxdWF0aW9uQWxwaGE9c291cmNlLmJsZW5kRXF1YXRpb25BbHBoYTt0aGlzLmRlcHRoRnVuYz1zb3VyY2UuZGVwdGhGdW5jO3RoaXMuZGVwdGhUZXN0PXNvdXJjZS5kZXB0aFRlc3Q7dGhpcy5kZXB0aFdyaXRlPXNvdXJjZS5kZXB0aFdyaXRlO3RoaXMuc3RlbmNpbFdyaXRlTWFzaz1zb3VyY2Uuc3RlbmNpbFdyaXRlTWFzazt0aGlzLnN0ZW5jaWxGdW5jPXNvdXJjZS5zdGVuY2lsRnVuYzt0aGlzLnN0ZW5jaWxSZWY9c291cmNlLnN0ZW5jaWxSZWY7dGhpcy5zdGVuY2lsRnVuY01hc2s9c291cmNlLnN0ZW5jaWxGdW5jTWFzazt0aGlzLnN0ZW5jaWxGYWlsPXNvdXJjZS5zdGVuY2lsRmFpbDt0aGlzLnN0ZW5jaWxaRmFpbD1zb3VyY2Uuc3RlbmNpbFpGYWlsO3RoaXMuc3RlbmNpbFpQYXNzPXNvdXJjZS5zdGVuY2lsWlBhc3M7dGhpcy5zdGVuY2lsV3JpdGU9c291cmNlLnN0ZW5jaWxXcml0ZTt2YXIgc3JjUGxhbmVzPXNvdXJjZS5jbGlwcGluZ1BsYW5lcyxkc3RQbGFuZXM9bnVsbDtpZihzcmNQbGFuZXMhPT1udWxsKXt2YXIgbj1zcmNQbGFuZXMubGVuZ3RoO2RzdFBsYW5lcz1uZXcgQXJyYXkobik7Zm9yKHZhciBpPTA7aSE9PW47KytpKXtkc3RQbGFuZXNbaV09c3JjUGxhbmVzW2ldLmNsb25lKCk7fX10aGlzLmNsaXBwaW5nUGxhbmVzPWRzdFBsYW5lczt0aGlzLmNsaXBJbnRlcnNlY3Rpb249c291cmNlLmNsaXBJbnRlcnNlY3Rpb247dGhpcy5jbGlwU2hhZG93cz1zb3VyY2UuY2xpcFNoYWRvd3M7dGhpcy5zaGFkb3dTaWRlPXNvdXJjZS5zaGFkb3dTaWRlO3RoaXMuY29sb3JXcml0ZT1zb3VyY2UuY29sb3JXcml0ZTt0aGlzLnByZWNpc2lvbj1zb3VyY2UucHJlY2lzaW9uO3RoaXMucG9seWdvbk9mZnNldD1zb3VyY2UucG9seWdvbk9mZnNldDt0aGlzLnBvbHlnb25PZmZzZXRGYWN0b3I9c291cmNlLnBvbHlnb25PZmZzZXRGYWN0b3I7dGhpcy5wb2x5Z29uT2Zmc2V0VW5pdHM9c291cmNlLnBvbHlnb25PZmZzZXRVbml0czt0aGlzLmRpdGhlcmluZz1zb3VyY2UuZGl0aGVyaW5nO3RoaXMuYWxwaGFUZXN0PXNvdXJjZS5hbHBoYVRlc3Q7dGhpcy5wcmVtdWx0aXBsaWVkQWxwaGE9c291cmNlLnByZW11bHRpcGxpZWRBbHBoYTt0aGlzLnZpc2libGU9c291cmNlLnZpc2libGU7dGhpcy50b25lTWFwcGVkPXNvdXJjZS50b25lTWFwcGVkO3RoaXMudXNlckRhdGE9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShzb3VyY2UudXNlckRhdGEpKTtyZXR1cm4gdGhpczt9LGRpc3Bvc2U6ZnVuY3Rpb24gZGlzcG9zZSgpe3RoaXMuZGlzcGF0Y2hFdmVudCh7dHlwZTonZGlzcG9zZSd9KTt9fSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KE1hdGVyaWFsLnByb3RvdHlwZSwnbmVlZHNVcGRhdGUnLHtzZXQ6ZnVuY3Rpb24gc2V0KHZhbHVlKXtpZih2YWx1ZT09PXRydWUpe3RoaXMudmVyc2lvbisrO319fSk7LyoqCiAgICogQGF1dGhvciBtcmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS8KICAgKiBAYXV0aG9yIGFsdGVyZWRxIC8gaHR0cDovL2FsdGVyZWRxdWFsaWEuY29tLwogICAqCiAgICogcGFyYW1ldGVycyA9IHsKICAgKiAgY29sb3I6IDxoZXg+LAogICAqICBvcGFjaXR5OiA8ZmxvYXQ+LAogICAqICBtYXA6IG5ldyBUSFJFRS5UZXh0dXJlKCA8SW1hZ2U+ICksCiAgICoKICAgKiAgbGlnaHRNYXA6IG5ldyBUSFJFRS5UZXh0dXJlKCA8SW1hZ2U+ICksCiAgICogIGxpZ2h0TWFwSW50ZW5zaXR5OiA8ZmxvYXQ+CiAgICoKICAgKiAgYW9NYXA6IG5ldyBUSFJFRS5UZXh0dXJlKCA8SW1hZ2U+ICksCiAgICogIGFvTWFwSW50ZW5zaXR5OiA8ZmxvYXQ+CiAgICoKICAgKiAgc3BlY3VsYXJNYXA6IG5ldyBUSFJFRS5UZXh0dXJlKCA8SW1hZ2U+ICksCiAgICoKICAgKiAgYWxwaGFNYXA6IG5ldyBUSFJFRS5UZXh0dXJlKCA8SW1hZ2U+ICksCiAgICoKICAgKiAgZW52TWFwOiBuZXcgVEhSRUUuQ3ViZVRleHR1cmUoIFtwb3N4LCBuZWd4LCBwb3N5LCBuZWd5LCBwb3N6LCBuZWd6XSApLAogICAqICBjb21iaW5lOiBUSFJFRS5NdWx0aXBseSwKICAgKiAgcmVmbGVjdGl2aXR5OiA8ZmxvYXQ+LAogICAqICByZWZyYWN0aW9uUmF0aW86IDxmbG9hdD4sCiAgICoKICAgKiAgZGVwdGhUZXN0OiA8Ym9vbD4sCiAgICogIGRlcHRoV3JpdGU6IDxib29sPiwKICAgKgogICAqICB3aXJlZnJhbWU6IDxib29sZWFuPiwKICAgKiAgd2lyZWZyYW1lTGluZXdpZHRoOiA8ZmxvYXQ+LAogICAqCiAgICogIHNraW5uaW5nOiA8Ym9vbD4sCiAgICogIG1vcnBoVGFyZ2V0czogPGJvb2w+CiAgICogfQogICAqL2Z1bmN0aW9uIE1lc2hCYXNpY01hdGVyaWFsKHBhcmFtZXRlcnMpe01hdGVyaWFsLmNhbGwodGhpcyk7dGhpcy50eXBlPSdNZXNoQmFzaWNNYXRlcmlhbCc7dGhpcy5jb2xvcj1uZXcgQ29sb3IoMHhmZmZmZmYpOy8vIGVtaXNzaXZlCnRoaXMubWFwPW51bGw7dGhpcy5saWdodE1hcD1udWxsO3RoaXMubGlnaHRNYXBJbnRlbnNpdHk9MS4wO3RoaXMuYW9NYXA9bnVsbDt0aGlzLmFvTWFwSW50ZW5zaXR5PTEuMDt0aGlzLnNwZWN1bGFyTWFwPW51bGw7dGhpcy5hbHBoYU1hcD1udWxsO3RoaXMuZW52TWFwPW51bGw7dGhpcy5jb21iaW5lPU11bHRpcGx5T3BlcmF0aW9uO3RoaXMucmVmbGVjdGl2aXR5PTE7dGhpcy5yZWZyYWN0aW9uUmF0aW89MC45ODt0aGlzLndpcmVmcmFtZT1mYWxzZTt0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD0xO3RoaXMud2lyZWZyYW1lTGluZWNhcD0ncm91bmQnO3RoaXMud2lyZWZyYW1lTGluZWpvaW49J3JvdW5kJzt0aGlzLnNraW5uaW5nPWZhbHNlO3RoaXMubW9ycGhUYXJnZXRzPWZhbHNlO3RoaXMuc2V0VmFsdWVzKHBhcmFtZXRlcnMpO31NZXNoQmFzaWNNYXRlcmlhbC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShNYXRlcmlhbC5wcm90b3R5cGUpO01lc2hCYXNpY01hdGVyaWFsLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1NZXNoQmFzaWNNYXRlcmlhbDtNZXNoQmFzaWNNYXRlcmlhbC5wcm90b3R5cGUuaXNNZXNoQmFzaWNNYXRlcmlhbD10cnVlO01lc2hCYXNpY01hdGVyaWFsLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKHNvdXJjZSl7TWF0ZXJpYWwucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHNvdXJjZSk7dGhpcy5jb2xvci5jb3B5KHNvdXJjZS5jb2xvcik7dGhpcy5tYXA9c291cmNlLm1hcDt0aGlzLmxpZ2h0TWFwPXNvdXJjZS5saWdodE1hcDt0aGlzLmxpZ2h0TWFwSW50ZW5zaXR5PXNvdXJjZS5saWdodE1hcEludGVuc2l0eTt0aGlzLmFvTWFwPXNvdXJjZS5hb01hcDt0aGlzLmFvTWFwSW50ZW5zaXR5PXNvdXJjZS5hb01hcEludGVuc2l0eTt0aGlzLnNwZWN1bGFyTWFwPXNvdXJjZS5zcGVjdWxhck1hcDt0aGlzLmFscGhhTWFwPXNvdXJjZS5hbHBoYU1hcDt0aGlzLmVudk1hcD1zb3VyY2UuZW52TWFwO3RoaXMuY29tYmluZT1zb3VyY2UuY29tYmluZTt0aGlzLnJlZmxlY3Rpdml0eT1zb3VyY2UucmVmbGVjdGl2aXR5O3RoaXMucmVmcmFjdGlvblJhdGlvPXNvdXJjZS5yZWZyYWN0aW9uUmF0aW87dGhpcy53aXJlZnJhbWU9c291cmNlLndpcmVmcmFtZTt0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD1zb3VyY2Uud2lyZWZyYW1lTGluZXdpZHRoO3RoaXMud2lyZWZyYW1lTGluZWNhcD1zb3VyY2Uud2lyZWZyYW1lTGluZWNhcDt0aGlzLndpcmVmcmFtZUxpbmVqb2luPXNvdXJjZS53aXJlZnJhbWVMaW5lam9pbjt0aGlzLnNraW5uaW5nPXNvdXJjZS5za2lubmluZzt0aGlzLm1vcnBoVGFyZ2V0cz1zb3VyY2UubW9ycGhUYXJnZXRzO3JldHVybiB0aGlzO307LyoqCiAgICogQGF1dGhvciBtcmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS8KICAgKi92YXIgX3ZlY3RvciQ0PW5ldyBWZWN0b3IzKCk7ZnVuY3Rpb24gQnVmZmVyQXR0cmlidXRlKGFycmF5LGl0ZW1TaXplLG5vcm1hbGl6ZWQpe2lmKEFycmF5LmlzQXJyYXkoYXJyYXkpKXt0aHJvdyBuZXcgVHlwZUVycm9yKCdUSFJFRS5CdWZmZXJBdHRyaWJ1dGU6IGFycmF5IHNob3VsZCBiZSBhIFR5cGVkIEFycmF5LicpO310aGlzLm5hbWU9Jyc7dGhpcy5hcnJheT1hcnJheTt0aGlzLml0ZW1TaXplPWl0ZW1TaXplO3RoaXMuY291bnQ9YXJyYXkhPT11bmRlZmluZWQ/YXJyYXkubGVuZ3RoL2l0ZW1TaXplOjA7dGhpcy5ub3JtYWxpemVkPW5vcm1hbGl6ZWQ9PT10cnVlO3RoaXMudXNhZ2U9U3RhdGljRHJhd1VzYWdlO3RoaXMudXBkYXRlUmFuZ2U9e29mZnNldDowLGNvdW50Oi0xfTt0aGlzLnZlcnNpb249MDt9T2JqZWN0LmRlZmluZVByb3BlcnR5KEJ1ZmZlckF0dHJpYnV0ZS5wcm90b3R5cGUsJ25lZWRzVXBkYXRlJyx7c2V0OmZ1bmN0aW9uIHNldCh2YWx1ZSl7aWYodmFsdWU9PT10cnVlKXt0aGlzLnZlcnNpb24rKzt9fX0pO09iamVjdC5hc3NpZ24oQnVmZmVyQXR0cmlidXRlLnByb3RvdHlwZSx7aXNCdWZmZXJBdHRyaWJ1dGU6dHJ1ZSxvblVwbG9hZENhbGxiYWNrOmZ1bmN0aW9uIG9uVXBsb2FkQ2FsbGJhY2soKXt9LHNldFVzYWdlOmZ1bmN0aW9uIHNldFVzYWdlKHZhbHVlKXt0aGlzLnVzYWdlPXZhbHVlO3JldHVybiB0aGlzO30sY29weTpmdW5jdGlvbiBjb3B5KHNvdXJjZSl7dGhpcy5uYW1lPXNvdXJjZS5uYW1lO3RoaXMuYXJyYXk9bmV3IHNvdXJjZS5hcnJheS5jb25zdHJ1Y3Rvcihzb3VyY2UuYXJyYXkpO3RoaXMuaXRlbVNpemU9c291cmNlLml0ZW1TaXplO3RoaXMuY291bnQ9c291cmNlLmNvdW50O3RoaXMubm9ybWFsaXplZD1zb3VyY2Uubm9ybWFsaXplZDt0aGlzLnVzYWdlPXNvdXJjZS51c2FnZTtyZXR1cm4gdGhpczt9LGNvcHlBdDpmdW5jdGlvbiBjb3B5QXQoaW5kZXgxLGF0dHJpYnV0ZSxpbmRleDIpe2luZGV4MSo9dGhpcy5pdGVtU2l6ZTtpbmRleDIqPWF0dHJpYnV0ZS5pdGVtU2l6ZTtmb3IodmFyIGk9MCxsPXRoaXMuaXRlbVNpemU7aTxsO2krKyl7dGhpcy5hcnJheVtpbmRleDEraV09YXR0cmlidXRlLmFycmF5W2luZGV4MitpXTt9cmV0dXJuIHRoaXM7fSxjb3B5QXJyYXk6ZnVuY3Rpb24gY29weUFycmF5KGFycmF5KXt0aGlzLmFycmF5LnNldChhcnJheSk7cmV0dXJuIHRoaXM7fSxjb3B5Q29sb3JzQXJyYXk6ZnVuY3Rpb24gY29weUNvbG9yc0FycmF5KGNvbG9ycyl7dmFyIGFycmF5PXRoaXMuYXJyYXksb2Zmc2V0PTA7Zm9yKHZhciBpPTAsbD1jb2xvcnMubGVuZ3RoO2k8bDtpKyspe3ZhciBjb2xvcj1jb2xvcnNbaV07aWYoY29sb3I9PT11bmRlZmluZWQpe2NvbnNvbGUud2FybignVEhSRUUuQnVmZmVyQXR0cmlidXRlLmNvcHlDb2xvcnNBcnJheSgpOiBjb2xvciBpcyB1bmRlZmluZWQnLGkpO2NvbG9yPW5ldyBDb2xvcigpO31hcnJheVtvZmZzZXQrK109Y29sb3IucjthcnJheVtvZmZzZXQrK109Y29sb3IuZzthcnJheVtvZmZzZXQrK109Y29sb3IuYjt9cmV0dXJuIHRoaXM7fSxjb3B5VmVjdG9yMnNBcnJheTpmdW5jdGlvbiBjb3B5VmVjdG9yMnNBcnJheSh2ZWN0b3JzKXt2YXIgYXJyYXk9dGhpcy5hcnJheSxvZmZzZXQ9MDtmb3IodmFyIGk9MCxsPXZlY3RvcnMubGVuZ3RoO2k8bDtpKyspe3ZhciB2ZWN0b3I9dmVjdG9yc1tpXTtpZih2ZWN0b3I9PT11bmRlZmluZWQpe2NvbnNvbGUud2FybignVEhSRUUuQnVmZmVyQXR0cmlidXRlLmNvcHlWZWN0b3Iyc0FycmF5KCk6IHZlY3RvciBpcyB1bmRlZmluZWQnLGkpO3ZlY3Rvcj1uZXcgVmVjdG9yMigpO31hcnJheVtvZmZzZXQrK109dmVjdG9yLng7YXJyYXlbb2Zmc2V0KytdPXZlY3Rvci55O31yZXR1cm4gdGhpczt9LGNvcHlWZWN0b3Izc0FycmF5OmZ1bmN0aW9uIGNvcHlWZWN0b3Izc0FycmF5KHZlY3RvcnMpe3ZhciBhcnJheT10aGlzLmFycmF5LG9mZnNldD0wO2Zvcih2YXIgaT0wLGw9dmVjdG9ycy5sZW5ndGg7aTxsO2krKyl7dmFyIHZlY3Rvcj12ZWN0b3JzW2ldO2lmKHZlY3Rvcj09PXVuZGVmaW5lZCl7Y29uc29sZS53YXJuKCdUSFJFRS5CdWZmZXJBdHRyaWJ1dGUuY29weVZlY3RvcjNzQXJyYXkoKTogdmVjdG9yIGlzIHVuZGVmaW5lZCcsaSk7dmVjdG9yPW5ldyBWZWN0b3IzKCk7fWFycmF5W29mZnNldCsrXT12ZWN0b3IueDthcnJheVtvZmZzZXQrK109dmVjdG9yLnk7YXJyYXlbb2Zmc2V0KytdPXZlY3Rvci56O31yZXR1cm4gdGhpczt9LGNvcHlWZWN0b3I0c0FycmF5OmZ1bmN0aW9uIGNvcHlWZWN0b3I0c0FycmF5KHZlY3RvcnMpe3ZhciBhcnJheT10aGlzLmFycmF5LG9mZnNldD0wO2Zvcih2YXIgaT0wLGw9dmVjdG9ycy5sZW5ndGg7aTxsO2krKyl7dmFyIHZlY3Rvcj12ZWN0b3JzW2ldO2lmKHZlY3Rvcj09PXVuZGVmaW5lZCl7Y29uc29sZS53YXJuKCdUSFJFRS5CdWZmZXJBdHRyaWJ1dGUuY29weVZlY3RvcjRzQXJyYXkoKTogdmVjdG9yIGlzIHVuZGVmaW5lZCcsaSk7dmVjdG9yPW5ldyBWZWN0b3I0KCk7fWFycmF5W29mZnNldCsrXT12ZWN0b3IueDthcnJheVtvZmZzZXQrK109dmVjdG9yLnk7YXJyYXlbb2Zmc2V0KytdPXZlY3Rvci56O2FycmF5W29mZnNldCsrXT12ZWN0b3Iudzt9cmV0dXJuIHRoaXM7fSxhcHBseU1hdHJpeDM6ZnVuY3Rpb24gYXBwbHlNYXRyaXgzKG0pe2Zvcih2YXIgaT0wLGw9dGhpcy5jb3VudDtpPGw7aSsrKXtfdmVjdG9yJDQueD10aGlzLmdldFgoaSk7X3ZlY3RvciQ0Lnk9dGhpcy5nZXRZKGkpO192ZWN0b3IkNC56PXRoaXMuZ2V0WihpKTtfdmVjdG9yJDQuYXBwbHlNYXRyaXgzKG0pO3RoaXMuc2V0WFlaKGksX3ZlY3RvciQ0LngsX3ZlY3RvciQ0LnksX3ZlY3RvciQ0LnopO31yZXR1cm4gdGhpczt9LGFwcGx5TWF0cml4NDpmdW5jdGlvbiBhcHBseU1hdHJpeDQobSl7Zm9yKHZhciBpPTAsbD10aGlzLmNvdW50O2k8bDtpKyspe192ZWN0b3IkNC54PXRoaXMuZ2V0WChpKTtfdmVjdG9yJDQueT10aGlzLmdldFkoaSk7X3ZlY3RvciQ0Lno9dGhpcy5nZXRaKGkpO192ZWN0b3IkNC5hcHBseU1hdHJpeDQobSk7dGhpcy5zZXRYWVooaSxfdmVjdG9yJDQueCxfdmVjdG9yJDQueSxfdmVjdG9yJDQueik7fXJldHVybiB0aGlzO30sYXBwbHlOb3JtYWxNYXRyaXg6ZnVuY3Rpb24gYXBwbHlOb3JtYWxNYXRyaXgobSl7Zm9yKHZhciBpPTAsbD10aGlzLmNvdW50O2k8bDtpKyspe192ZWN0b3IkNC54PXRoaXMuZ2V0WChpKTtfdmVjdG9yJDQueT10aGlzLmdldFkoaSk7X3ZlY3RvciQ0Lno9dGhpcy5nZXRaKGkpO192ZWN0b3IkNC5hcHBseU5vcm1hbE1hdHJpeChtKTt0aGlzLnNldFhZWihpLF92ZWN0b3IkNC54LF92ZWN0b3IkNC55LF92ZWN0b3IkNC56KTt9cmV0dXJuIHRoaXM7fSx0cmFuc2Zvcm1EaXJlY3Rpb246ZnVuY3Rpb24gdHJhbnNmb3JtRGlyZWN0aW9uKG0pe2Zvcih2YXIgaT0wLGw9dGhpcy5jb3VudDtpPGw7aSsrKXtfdmVjdG9yJDQueD10aGlzLmdldFgoaSk7X3ZlY3RvciQ0Lnk9dGhpcy5nZXRZKGkpO192ZWN0b3IkNC56PXRoaXMuZ2V0WihpKTtfdmVjdG9yJDQudHJhbnNmb3JtRGlyZWN0aW9uKG0pO3RoaXMuc2V0WFlaKGksX3ZlY3RvciQ0LngsX3ZlY3RvciQ0LnksX3ZlY3RvciQ0LnopO31yZXR1cm4gdGhpczt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUsb2Zmc2V0KXtpZihvZmZzZXQ9PT11bmRlZmluZWQpe29mZnNldD0wO310aGlzLmFycmF5LnNldCh2YWx1ZSxvZmZzZXQpO3JldHVybiB0aGlzO30sZ2V0WDpmdW5jdGlvbiBnZXRYKGluZGV4KXtyZXR1cm4gdGhpcy5hcnJheVtpbmRleCp0aGlzLml0ZW1TaXplXTt9LHNldFg6ZnVuY3Rpb24gc2V0WChpbmRleCx4KXt0aGlzLmFycmF5W2luZGV4KnRoaXMuaXRlbVNpemVdPXg7cmV0dXJuIHRoaXM7fSxnZXRZOmZ1bmN0aW9uIGdldFkoaW5kZXgpe3JldHVybiB0aGlzLmFycmF5W2luZGV4KnRoaXMuaXRlbVNpemUrMV07fSxzZXRZOmZ1bmN0aW9uIHNldFkoaW5kZXgseSl7dGhpcy5hcnJheVtpbmRleCp0aGlzLml0ZW1TaXplKzFdPXk7cmV0dXJuIHRoaXM7fSxnZXRaOmZ1bmN0aW9uIGdldFooaW5kZXgpe3JldHVybiB0aGlzLmFycmF5W2luZGV4KnRoaXMuaXRlbVNpemUrMl07fSxzZXRaOmZ1bmN0aW9uIHNldFooaW5kZXgseil7dGhpcy5hcnJheVtpbmRleCp0aGlzLml0ZW1TaXplKzJdPXo7cmV0dXJuIHRoaXM7fSxnZXRXOmZ1bmN0aW9uIGdldFcoaW5kZXgpe3JldHVybiB0aGlzLmFycmF5W2luZGV4KnRoaXMuaXRlbVNpemUrM107fSxzZXRXOmZ1bmN0aW9uIHNldFcoaW5kZXgsdyl7dGhpcy5hcnJheVtpbmRleCp0aGlzLml0ZW1TaXplKzNdPXc7cmV0dXJuIHRoaXM7fSxzZXRYWTpmdW5jdGlvbiBzZXRYWShpbmRleCx4LHkpe2luZGV4Kj10aGlzLml0ZW1TaXplO3RoaXMuYXJyYXlbaW5kZXgrMF09eDt0aGlzLmFycmF5W2luZGV4KzFdPXk7cmV0dXJuIHRoaXM7fSxzZXRYWVo6ZnVuY3Rpb24gc2V0WFlaKGluZGV4LHgseSx6KXtpbmRleCo9dGhpcy5pdGVtU2l6ZTt0aGlzLmFycmF5W2luZGV4KzBdPXg7dGhpcy5hcnJheVtpbmRleCsxXT15O3RoaXMuYXJyYXlbaW5kZXgrMl09ejtyZXR1cm4gdGhpczt9LHNldFhZWlc6ZnVuY3Rpb24gc2V0WFlaVyhpbmRleCx4LHkseix3KXtpbmRleCo9dGhpcy5pdGVtU2l6ZTt0aGlzLmFycmF5W2luZGV4KzBdPXg7dGhpcy5hcnJheVtpbmRleCsxXT15O3RoaXMuYXJyYXlbaW5kZXgrMl09ejt0aGlzLmFycmF5W2luZGV4KzNdPXc7cmV0dXJuIHRoaXM7fSxvblVwbG9hZDpmdW5jdGlvbiBvblVwbG9hZChjYWxsYmFjayl7dGhpcy5vblVwbG9hZENhbGxiYWNrPWNhbGxiYWNrO3JldHVybiB0aGlzO30sY2xvbmU6ZnVuY3Rpb24gY2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5hcnJheSx0aGlzLml0ZW1TaXplKS5jb3B5KHRoaXMpO30sdG9KU09OOmZ1bmN0aW9uIHRvSlNPTigpe3JldHVybntpdGVtU2l6ZTp0aGlzLml0ZW1TaXplLHR5cGU6dGhpcy5hcnJheS5jb25zdHJ1Y3Rvci5uYW1lLGFycmF5OkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuYXJyYXkpLG5vcm1hbGl6ZWQ6dGhpcy5ub3JtYWxpemVkfTt9fSk7Ly8KZnVuY3Rpb24gSW50OEJ1ZmZlckF0dHJpYnV0ZShhcnJheSxpdGVtU2l6ZSxub3JtYWxpemVkKXtCdWZmZXJBdHRyaWJ1dGUuY2FsbCh0aGlzLG5ldyBJbnQ4QXJyYXkoYXJyYXkpLGl0ZW1TaXplLG5vcm1hbGl6ZWQpO31JbnQ4QnVmZmVyQXR0cmlidXRlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEJ1ZmZlckF0dHJpYnV0ZS5wcm90b3R5cGUpO0ludDhCdWZmZXJBdHRyaWJ1dGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPUludDhCdWZmZXJBdHRyaWJ1dGU7ZnVuY3Rpb24gVWludDhCdWZmZXJBdHRyaWJ1dGUoYXJyYXksaXRlbVNpemUsbm9ybWFsaXplZCl7QnVmZmVyQXR0cmlidXRlLmNhbGwodGhpcyxuZXcgVWludDhBcnJheShhcnJheSksaXRlbVNpemUsbm9ybWFsaXplZCk7fVVpbnQ4QnVmZmVyQXR0cmlidXRlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEJ1ZmZlckF0dHJpYnV0ZS5wcm90b3R5cGUpO1VpbnQ4QnVmZmVyQXR0cmlidXRlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1VaW50OEJ1ZmZlckF0dHJpYnV0ZTtmdW5jdGlvbiBVaW50OENsYW1wZWRCdWZmZXJBdHRyaWJ1dGUoYXJyYXksaXRlbVNpemUsbm9ybWFsaXplZCl7QnVmZmVyQXR0cmlidXRlLmNhbGwodGhpcyxuZXcgVWludDhDbGFtcGVkQXJyYXkoYXJyYXkpLGl0ZW1TaXplLG5vcm1hbGl6ZWQpO31VaW50OENsYW1wZWRCdWZmZXJBdHRyaWJ1dGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoQnVmZmVyQXR0cmlidXRlLnByb3RvdHlwZSk7VWludDhDbGFtcGVkQnVmZmVyQXR0cmlidXRlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1VaW50OENsYW1wZWRCdWZmZXJBdHRyaWJ1dGU7ZnVuY3Rpb24gSW50MTZCdWZmZXJBdHRyaWJ1dGUoYXJyYXksaXRlbVNpemUsbm9ybWFsaXplZCl7QnVmZmVyQXR0cmlidXRlLmNhbGwodGhpcyxuZXcgSW50MTZBcnJheShhcnJheSksaXRlbVNpemUsbm9ybWFsaXplZCk7fUludDE2QnVmZmVyQXR0cmlidXRlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEJ1ZmZlckF0dHJpYnV0ZS5wcm90b3R5cGUpO0ludDE2QnVmZmVyQXR0cmlidXRlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1JbnQxNkJ1ZmZlckF0dHJpYnV0ZTtmdW5jdGlvbiBVaW50MTZCdWZmZXJBdHRyaWJ1dGUoYXJyYXksaXRlbVNpemUsbm9ybWFsaXplZCl7QnVmZmVyQXR0cmlidXRlLmNhbGwodGhpcyxuZXcgVWludDE2QXJyYXkoYXJyYXkpLGl0ZW1TaXplLG5vcm1hbGl6ZWQpO31VaW50MTZCdWZmZXJBdHRyaWJ1dGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoQnVmZmVyQXR0cmlidXRlLnByb3RvdHlwZSk7VWludDE2QnVmZmVyQXR0cmlidXRlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1VaW50MTZCdWZmZXJBdHRyaWJ1dGU7ZnVuY3Rpb24gSW50MzJCdWZmZXJBdHRyaWJ1dGUoYXJyYXksaXRlbVNpemUsbm9ybWFsaXplZCl7QnVmZmVyQXR0cmlidXRlLmNhbGwodGhpcyxuZXcgSW50MzJBcnJheShhcnJheSksaXRlbVNpemUsbm9ybWFsaXplZCk7fUludDMyQnVmZmVyQXR0cmlidXRlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEJ1ZmZlckF0dHJpYnV0ZS5wcm90b3R5cGUpO0ludDMyQnVmZmVyQXR0cmlidXRlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1JbnQzMkJ1ZmZlckF0dHJpYnV0ZTtmdW5jdGlvbiBVaW50MzJCdWZmZXJBdHRyaWJ1dGUoYXJyYXksaXRlbVNpemUsbm9ybWFsaXplZCl7QnVmZmVyQXR0cmlidXRlLmNhbGwodGhpcyxuZXcgVWludDMyQXJyYXkoYXJyYXkpLGl0ZW1TaXplLG5vcm1hbGl6ZWQpO31VaW50MzJCdWZmZXJBdHRyaWJ1dGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoQnVmZmVyQXR0cmlidXRlLnByb3RvdHlwZSk7VWludDMyQnVmZmVyQXR0cmlidXRlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1VaW50MzJCdWZmZXJBdHRyaWJ1dGU7ZnVuY3Rpb24gRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZShhcnJheSxpdGVtU2l6ZSxub3JtYWxpemVkKXtCdWZmZXJBdHRyaWJ1dGUuY2FsbCh0aGlzLG5ldyBGbG9hdDMyQXJyYXkoYXJyYXkpLGl0ZW1TaXplLG5vcm1hbGl6ZWQpO31GbG9hdDMyQnVmZmVyQXR0cmlidXRlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEJ1ZmZlckF0dHJpYnV0ZS5wcm90b3R5cGUpO0Zsb2F0MzJCdWZmZXJBdHRyaWJ1dGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPUZsb2F0MzJCdWZmZXJBdHRyaWJ1dGU7ZnVuY3Rpb24gRmxvYXQ2NEJ1ZmZlckF0dHJpYnV0ZShhcnJheSxpdGVtU2l6ZSxub3JtYWxpemVkKXtCdWZmZXJBdHRyaWJ1dGUuY2FsbCh0aGlzLG5ldyBGbG9hdDY0QXJyYXkoYXJyYXkpLGl0ZW1TaXplLG5vcm1hbGl6ZWQpO31GbG9hdDY0QnVmZmVyQXR0cmlidXRlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEJ1ZmZlckF0dHJpYnV0ZS5wcm90b3R5cGUpO0Zsb2F0NjRCdWZmZXJBdHRyaWJ1dGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPUZsb2F0NjRCdWZmZXJBdHRyaWJ1dGU7LyoqCiAgICogQGF1dGhvciBtcmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS8KICAgKi9mdW5jdGlvbiBEaXJlY3RHZW9tZXRyeSgpe3RoaXMudmVydGljZXM9W107dGhpcy5ub3JtYWxzPVtdO3RoaXMuY29sb3JzPVtdO3RoaXMudXZzPVtdO3RoaXMudXZzMj1bXTt0aGlzLmdyb3Vwcz1bXTt0aGlzLm1vcnBoVGFyZ2V0cz17fTt0aGlzLnNraW5XZWlnaHRzPVtdO3RoaXMuc2tpbkluZGljZXM9W107Ly8gdGhpcy5saW5lRGlzdGFuY2VzID0gW107CnRoaXMuYm91bmRpbmdCb3g9bnVsbDt0aGlzLmJvdW5kaW5nU3BoZXJlPW51bGw7Ly8gdXBkYXRlIGZsYWdzCnRoaXMudmVydGljZXNOZWVkVXBkYXRlPWZhbHNlO3RoaXMubm9ybWFsc05lZWRVcGRhdGU9ZmFsc2U7dGhpcy5jb2xvcnNOZWVkVXBkYXRlPWZhbHNlO3RoaXMudXZzTmVlZFVwZGF0ZT1mYWxzZTt0aGlzLmdyb3Vwc05lZWRVcGRhdGU9ZmFsc2U7fU9iamVjdC5hc3NpZ24oRGlyZWN0R2VvbWV0cnkucHJvdG90eXBlLHtjb21wdXRlR3JvdXBzOmZ1bmN0aW9uIGNvbXB1dGVHcm91cHMoZ2VvbWV0cnkpe3ZhciBncm91cDt2YXIgZ3JvdXBzPVtdO3ZhciBtYXRlcmlhbEluZGV4PXVuZGVmaW5lZDt2YXIgZmFjZXM9Z2VvbWV0cnkuZmFjZXM7Zm9yKHZhciBpPTA7aTxmYWNlcy5sZW5ndGg7aSsrKXt2YXIgZmFjZT1mYWNlc1tpXTsvLyBtYXRlcmlhbHMKaWYoZmFjZS5tYXRlcmlhbEluZGV4IT09bWF0ZXJpYWxJbmRleCl7bWF0ZXJpYWxJbmRleD1mYWNlLm1hdGVyaWFsSW5kZXg7aWYoZ3JvdXAhPT11bmRlZmluZWQpe2dyb3VwLmNvdW50PWkqMy1ncm91cC5zdGFydDtncm91cHMucHVzaChncm91cCk7fWdyb3VwPXtzdGFydDppKjMsbWF0ZXJpYWxJbmRleDptYXRlcmlhbEluZGV4fTt9fWlmKGdyb3VwIT09dW5kZWZpbmVkKXtncm91cC5jb3VudD1pKjMtZ3JvdXAuc3RhcnQ7Z3JvdXBzLnB1c2goZ3JvdXApO310aGlzLmdyb3Vwcz1ncm91cHM7fSxmcm9tR2VvbWV0cnk6ZnVuY3Rpb24gZnJvbUdlb21ldHJ5KGdlb21ldHJ5KXt2YXIgZmFjZXM9Z2VvbWV0cnkuZmFjZXM7dmFyIHZlcnRpY2VzPWdlb21ldHJ5LnZlcnRpY2VzO3ZhciBmYWNlVmVydGV4VXZzPWdlb21ldHJ5LmZhY2VWZXJ0ZXhVdnM7dmFyIGhhc0ZhY2VWZXJ0ZXhVdj1mYWNlVmVydGV4VXZzWzBdJiZmYWNlVmVydGV4VXZzWzBdLmxlbmd0aD4wO3ZhciBoYXNGYWNlVmVydGV4VXYyPWZhY2VWZXJ0ZXhVdnNbMV0mJmZhY2VWZXJ0ZXhVdnNbMV0ubGVuZ3RoPjA7Ly8gbW9ycGhzCnZhciBtb3JwaFRhcmdldHM9Z2VvbWV0cnkubW9ycGhUYXJnZXRzO3ZhciBtb3JwaFRhcmdldHNMZW5ndGg9bW9ycGhUYXJnZXRzLmxlbmd0aDt2YXIgbW9ycGhUYXJnZXRzUG9zaXRpb247aWYobW9ycGhUYXJnZXRzTGVuZ3RoPjApe21vcnBoVGFyZ2V0c1Bvc2l0aW9uPVtdO2Zvcih2YXIgaT0wO2k8bW9ycGhUYXJnZXRzTGVuZ3RoO2krKyl7bW9ycGhUYXJnZXRzUG9zaXRpb25baV09e25hbWU6bW9ycGhUYXJnZXRzW2ldLm5hbWUsZGF0YTpbXX07fXRoaXMubW9ycGhUYXJnZXRzLnBvc2l0aW9uPW1vcnBoVGFyZ2V0c1Bvc2l0aW9uO312YXIgbW9ycGhOb3JtYWxzPWdlb21ldHJ5Lm1vcnBoTm9ybWFsczt2YXIgbW9ycGhOb3JtYWxzTGVuZ3RoPW1vcnBoTm9ybWFscy5sZW5ndGg7dmFyIG1vcnBoVGFyZ2V0c05vcm1hbDtpZihtb3JwaE5vcm1hbHNMZW5ndGg+MCl7bW9ycGhUYXJnZXRzTm9ybWFsPVtdO2Zvcih2YXIgaT0wO2k8bW9ycGhOb3JtYWxzTGVuZ3RoO2krKyl7bW9ycGhUYXJnZXRzTm9ybWFsW2ldPXtuYW1lOm1vcnBoTm9ybWFsc1tpXS5uYW1lLGRhdGE6W119O310aGlzLm1vcnBoVGFyZ2V0cy5ub3JtYWw9bW9ycGhUYXJnZXRzTm9ybWFsO30vLyBza2lucwp2YXIgc2tpbkluZGljZXM9Z2VvbWV0cnkuc2tpbkluZGljZXM7dmFyIHNraW5XZWlnaHRzPWdlb21ldHJ5LnNraW5XZWlnaHRzO3ZhciBoYXNTa2luSW5kaWNlcz1za2luSW5kaWNlcy5sZW5ndGg9PT12ZXJ0aWNlcy5sZW5ndGg7dmFyIGhhc1NraW5XZWlnaHRzPXNraW5XZWlnaHRzLmxlbmd0aD09PXZlcnRpY2VzLmxlbmd0aDsvLwppZih2ZXJ0aWNlcy5sZW5ndGg+MCYmZmFjZXMubGVuZ3RoPT09MCl7Y29uc29sZS5lcnJvcignVEhSRUUuRGlyZWN0R2VvbWV0cnk6IEZhY2VsZXNzIGdlb21ldHJpZXMgYXJlIG5vdCBzdXBwb3J0ZWQuJyk7fWZvcih2YXIgaT0wO2k8ZmFjZXMubGVuZ3RoO2krKyl7dmFyIGZhY2U9ZmFjZXNbaV07dGhpcy52ZXJ0aWNlcy5wdXNoKHZlcnRpY2VzW2ZhY2UuYV0sdmVydGljZXNbZmFjZS5iXSx2ZXJ0aWNlc1tmYWNlLmNdKTt2YXIgdmVydGV4Tm9ybWFscz1mYWNlLnZlcnRleE5vcm1hbHM7aWYodmVydGV4Tm9ybWFscy5sZW5ndGg9PT0zKXt0aGlzLm5vcm1hbHMucHVzaCh2ZXJ0ZXhOb3JtYWxzWzBdLHZlcnRleE5vcm1hbHNbMV0sdmVydGV4Tm9ybWFsc1syXSk7fWVsc2V7dmFyIG5vcm1hbD1mYWNlLm5vcm1hbDt0aGlzLm5vcm1hbHMucHVzaChub3JtYWwsbm9ybWFsLG5vcm1hbCk7fXZhciB2ZXJ0ZXhDb2xvcnM9ZmFjZS52ZXJ0ZXhDb2xvcnM7aWYodmVydGV4Q29sb3JzLmxlbmd0aD09PTMpe3RoaXMuY29sb3JzLnB1c2godmVydGV4Q29sb3JzWzBdLHZlcnRleENvbG9yc1sxXSx2ZXJ0ZXhDb2xvcnNbMl0pO31lbHNle3ZhciBjb2xvcj1mYWNlLmNvbG9yO3RoaXMuY29sb3JzLnB1c2goY29sb3IsY29sb3IsY29sb3IpO31pZihoYXNGYWNlVmVydGV4VXY9PT10cnVlKXt2YXIgdmVydGV4VXZzPWZhY2VWZXJ0ZXhVdnNbMF1baV07aWYodmVydGV4VXZzIT09dW5kZWZpbmVkKXt0aGlzLnV2cy5wdXNoKHZlcnRleFV2c1swXSx2ZXJ0ZXhVdnNbMV0sdmVydGV4VXZzWzJdKTt9ZWxzZXtjb25zb2xlLndhcm4oJ1RIUkVFLkRpcmVjdEdlb21ldHJ5LmZyb21HZW9tZXRyeSgpOiBVbmRlZmluZWQgdmVydGV4VXYgJyxpKTt0aGlzLnV2cy5wdXNoKG5ldyBWZWN0b3IyKCksbmV3IFZlY3RvcjIoKSxuZXcgVmVjdG9yMigpKTt9fWlmKGhhc0ZhY2VWZXJ0ZXhVdjI9PT10cnVlKXt2YXIgdmVydGV4VXZzPWZhY2VWZXJ0ZXhVdnNbMV1baV07aWYodmVydGV4VXZzIT09dW5kZWZpbmVkKXt0aGlzLnV2czIucHVzaCh2ZXJ0ZXhVdnNbMF0sdmVydGV4VXZzWzFdLHZlcnRleFV2c1syXSk7fWVsc2V7Y29uc29sZS53YXJuKCdUSFJFRS5EaXJlY3RHZW9tZXRyeS5mcm9tR2VvbWV0cnkoKTogVW5kZWZpbmVkIHZlcnRleFV2MiAnLGkpO3RoaXMudXZzMi5wdXNoKG5ldyBWZWN0b3IyKCksbmV3IFZlY3RvcjIoKSxuZXcgVmVjdG9yMigpKTt9fS8vIG1vcnBocwpmb3IodmFyIGo9MDtqPG1vcnBoVGFyZ2V0c0xlbmd0aDtqKyspe3ZhciBtb3JwaFRhcmdldD1tb3JwaFRhcmdldHNbal0udmVydGljZXM7bW9ycGhUYXJnZXRzUG9zaXRpb25bal0uZGF0YS5wdXNoKG1vcnBoVGFyZ2V0W2ZhY2UuYV0sbW9ycGhUYXJnZXRbZmFjZS5iXSxtb3JwaFRhcmdldFtmYWNlLmNdKTt9Zm9yKHZhciBqPTA7ajxtb3JwaE5vcm1hbHNMZW5ndGg7aisrKXt2YXIgbW9ycGhOb3JtYWw9bW9ycGhOb3JtYWxzW2pdLnZlcnRleE5vcm1hbHNbaV07bW9ycGhUYXJnZXRzTm9ybWFsW2pdLmRhdGEucHVzaChtb3JwaE5vcm1hbC5hLG1vcnBoTm9ybWFsLmIsbW9ycGhOb3JtYWwuYyk7fS8vIHNraW5zCmlmKGhhc1NraW5JbmRpY2VzKXt0aGlzLnNraW5JbmRpY2VzLnB1c2goc2tpbkluZGljZXNbZmFjZS5hXSxza2luSW5kaWNlc1tmYWNlLmJdLHNraW5JbmRpY2VzW2ZhY2UuY10pO31pZihoYXNTa2luV2VpZ2h0cyl7dGhpcy5za2luV2VpZ2h0cy5wdXNoKHNraW5XZWlnaHRzW2ZhY2UuYV0sc2tpbldlaWdodHNbZmFjZS5iXSxza2luV2VpZ2h0c1tmYWNlLmNdKTt9fXRoaXMuY29tcHV0ZUdyb3VwcyhnZW9tZXRyeSk7dGhpcy52ZXJ0aWNlc05lZWRVcGRhdGU9Z2VvbWV0cnkudmVydGljZXNOZWVkVXBkYXRlO3RoaXMubm9ybWFsc05lZWRVcGRhdGU9Z2VvbWV0cnkubm9ybWFsc05lZWRVcGRhdGU7dGhpcy5jb2xvcnNOZWVkVXBkYXRlPWdlb21ldHJ5LmNvbG9yc05lZWRVcGRhdGU7dGhpcy51dnNOZWVkVXBkYXRlPWdlb21ldHJ5LnV2c05lZWRVcGRhdGU7dGhpcy5ncm91cHNOZWVkVXBkYXRlPWdlb21ldHJ5Lmdyb3Vwc05lZWRVcGRhdGU7aWYoZ2VvbWV0cnkuYm91bmRpbmdTcGhlcmUhPT1udWxsKXt0aGlzLmJvdW5kaW5nU3BoZXJlPWdlb21ldHJ5LmJvdW5kaW5nU3BoZXJlLmNsb25lKCk7fWlmKGdlb21ldHJ5LmJvdW5kaW5nQm94IT09bnVsbCl7dGhpcy5ib3VuZGluZ0JveD1nZW9tZXRyeS5ib3VuZGluZ0JveC5jbG9uZSgpO31yZXR1cm4gdGhpczt9fSk7LyoqCiAgICogQGF1dGhvciBtcmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS8KICAgKi9mdW5jdGlvbiBhcnJheU1heChhcnJheSl7aWYoYXJyYXkubGVuZ3RoPT09MCl7cmV0dXJuLUluZmluaXR5O312YXIgbWF4PWFycmF5WzBdO2Zvcih2YXIgaT0xLGw9YXJyYXkubGVuZ3RoO2k8bDsrK2kpe2lmKGFycmF5W2ldPm1heCl7bWF4PWFycmF5W2ldO319cmV0dXJuIG1heDt9LyoqCiAgICogQGF1dGhvciBhbHRlcmVkcSAvIGh0dHA6Ly9hbHRlcmVkcXVhbGlhLmNvbS8KICAgKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tLwogICAqL3ZhciBfYnVmZmVyR2VvbWV0cnlJZD0xOy8vIEJ1ZmZlckdlb21ldHJ5IHVzZXMgb2RkIG51bWJlcnMgYXMgSWQKdmFyIF9tMSQyPW5ldyBNYXRyaXg0KCk7dmFyIF9vYmo9bmV3IE9iamVjdDNEKCk7dmFyIF9vZmZzZXQ9bmV3IFZlY3RvcjMoKTt2YXIgX2JveCQyPW5ldyBCb3gzKCk7dmFyIF9ib3hNb3JwaFRhcmdldHM9bmV3IEJveDMoKTt2YXIgX3ZlY3RvciQ1PW5ldyBWZWN0b3IzKCk7ZnVuY3Rpb24gQnVmZmVyR2VvbWV0cnkoKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywnaWQnLHt2YWx1ZTpfYnVmZmVyR2VvbWV0cnlJZCs9Mn0pO3RoaXMudXVpZD1fTWF0aC5nZW5lcmF0ZVVVSUQoKTt0aGlzLm5hbWU9Jyc7dGhpcy50eXBlPSdCdWZmZXJHZW9tZXRyeSc7dGhpcy5pbmRleD1udWxsO3RoaXMuYXR0cmlidXRlcz17fTt0aGlzLm1vcnBoQXR0cmlidXRlcz17fTt0aGlzLm1vcnBoVGFyZ2V0c1JlbGF0aXZlPWZhbHNlO3RoaXMuZ3JvdXBzPVtdO3RoaXMuYm91bmRpbmdCb3g9bnVsbDt0aGlzLmJvdW5kaW5nU3BoZXJlPW51bGw7dGhpcy5kcmF3UmFuZ2U9e3N0YXJ0OjAsY291bnQ6SW5maW5pdHl9O3RoaXMudXNlckRhdGE9e307fUJ1ZmZlckdlb21ldHJ5LnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoRXZlbnREaXNwYXRjaGVyLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOkJ1ZmZlckdlb21ldHJ5LGlzQnVmZmVyR2VvbWV0cnk6dHJ1ZSxnZXRJbmRleDpmdW5jdGlvbiBnZXRJbmRleCgpe3JldHVybiB0aGlzLmluZGV4O30sc2V0SW5kZXg6ZnVuY3Rpb24gc2V0SW5kZXgoaW5kZXgpe2lmKEFycmF5LmlzQXJyYXkoaW5kZXgpKXt0aGlzLmluZGV4PW5ldyhhcnJheU1heChpbmRleCk+NjU1MzU/VWludDMyQnVmZmVyQXR0cmlidXRlOlVpbnQxNkJ1ZmZlckF0dHJpYnV0ZSkoaW5kZXgsMSk7fWVsc2V7dGhpcy5pbmRleD1pbmRleDt9fSxnZXRBdHRyaWJ1dGU6ZnVuY3Rpb24gZ2V0QXR0cmlidXRlKG5hbWUpe3JldHVybiB0aGlzLmF0dHJpYnV0ZXNbbmFtZV07fSxzZXRBdHRyaWJ1dGU6ZnVuY3Rpb24gc2V0QXR0cmlidXRlKG5hbWUsYXR0cmlidXRlKXt0aGlzLmF0dHJpYnV0ZXNbbmFtZV09YXR0cmlidXRlO3JldHVybiB0aGlzO30sZGVsZXRlQXR0cmlidXRlOmZ1bmN0aW9uIGRlbGV0ZUF0dHJpYnV0ZShuYW1lKXtkZWxldGUgdGhpcy5hdHRyaWJ1dGVzW25hbWVdO3JldHVybiB0aGlzO30sYWRkR3JvdXA6ZnVuY3Rpb24gYWRkR3JvdXAoc3RhcnQsY291bnQsbWF0ZXJpYWxJbmRleCl7dGhpcy5ncm91cHMucHVzaCh7c3RhcnQ6c3RhcnQsY291bnQ6Y291bnQsbWF0ZXJpYWxJbmRleDptYXRlcmlhbEluZGV4IT09dW5kZWZpbmVkP21hdGVyaWFsSW5kZXg6MH0pO30sY2xlYXJHcm91cHM6ZnVuY3Rpb24gY2xlYXJHcm91cHMoKXt0aGlzLmdyb3Vwcz1bXTt9LHNldERyYXdSYW5nZTpmdW5jdGlvbiBzZXREcmF3UmFuZ2Uoc3RhcnQsY291bnQpe3RoaXMuZHJhd1JhbmdlLnN0YXJ0PXN0YXJ0O3RoaXMuZHJhd1JhbmdlLmNvdW50PWNvdW50O30sYXBwbHlNYXRyaXg6ZnVuY3Rpb24gYXBwbHlNYXRyaXgobWF0cml4KXt2YXIgcG9zaXRpb249dGhpcy5hdHRyaWJ1dGVzLnBvc2l0aW9uO2lmKHBvc2l0aW9uIT09dW5kZWZpbmVkKXtwb3NpdGlvbi5hcHBseU1hdHJpeDQobWF0cml4KTtwb3NpdGlvbi5uZWVkc1VwZGF0ZT10cnVlO312YXIgbm9ybWFsPXRoaXMuYXR0cmlidXRlcy5ub3JtYWw7aWYobm9ybWFsIT09dW5kZWZpbmVkKXt2YXIgbm9ybWFsTWF0cml4PW5ldyBNYXRyaXgzKCkuZ2V0Tm9ybWFsTWF0cml4KG1hdHJpeCk7bm9ybWFsLmFwcGx5Tm9ybWFsTWF0cml4KG5vcm1hbE1hdHJpeCk7bm9ybWFsLm5lZWRzVXBkYXRlPXRydWU7fXZhciB0YW5nZW50PXRoaXMuYXR0cmlidXRlcy50YW5nZW50O2lmKHRhbmdlbnQhPT11bmRlZmluZWQpe3RhbmdlbnQudHJhbnNmb3JtRGlyZWN0aW9uKG1hdHJpeCk7dGFuZ2VudC5uZWVkc1VwZGF0ZT10cnVlO31pZih0aGlzLmJvdW5kaW5nQm94IT09bnVsbCl7dGhpcy5jb21wdXRlQm91bmRpbmdCb3goKTt9aWYodGhpcy5ib3VuZGluZ1NwaGVyZSE9PW51bGwpe3RoaXMuY29tcHV0ZUJvdW5kaW5nU3BoZXJlKCk7fXJldHVybiB0aGlzO30scm90YXRlWDpmdW5jdGlvbiByb3RhdGVYKGFuZ2xlKXsvLyByb3RhdGUgZ2VvbWV0cnkgYXJvdW5kIHdvcmxkIHgtYXhpcwpfbTEkMi5tYWtlUm90YXRpb25YKGFuZ2xlKTt0aGlzLmFwcGx5TWF0cml4KF9tMSQyKTtyZXR1cm4gdGhpczt9LHJvdGF0ZVk6ZnVuY3Rpb24gcm90YXRlWShhbmdsZSl7Ly8gcm90YXRlIGdlb21ldHJ5IGFyb3VuZCB3b3JsZCB5LWF4aXMKX20xJDIubWFrZVJvdGF0aW9uWShhbmdsZSk7dGhpcy5hcHBseU1hdHJpeChfbTEkMik7cmV0dXJuIHRoaXM7fSxyb3RhdGVaOmZ1bmN0aW9uIHJvdGF0ZVooYW5nbGUpey8vIHJvdGF0ZSBnZW9tZXRyeSBhcm91bmQgd29ybGQgei1heGlzCl9tMSQyLm1ha2VSb3RhdGlvblooYW5nbGUpO3RoaXMuYXBwbHlNYXRyaXgoX20xJDIpO3JldHVybiB0aGlzO30sdHJhbnNsYXRlOmZ1bmN0aW9uIHRyYW5zbGF0ZSh4LHkseil7Ly8gdHJhbnNsYXRlIGdlb21ldHJ5Cl9tMSQyLm1ha2VUcmFuc2xhdGlvbih4LHkseik7dGhpcy5hcHBseU1hdHJpeChfbTEkMik7cmV0dXJuIHRoaXM7fSxzY2FsZTpmdW5jdGlvbiBzY2FsZSh4LHkseil7Ly8gc2NhbGUgZ2VvbWV0cnkKX20xJDIubWFrZVNjYWxlKHgseSx6KTt0aGlzLmFwcGx5TWF0cml4KF9tMSQyKTtyZXR1cm4gdGhpczt9LGxvb2tBdDpmdW5jdGlvbiBsb29rQXQodmVjdG9yKXtfb2JqLmxvb2tBdCh2ZWN0b3IpO19vYmoudXBkYXRlTWF0cml4KCk7dGhpcy5hcHBseU1hdHJpeChfb2JqLm1hdHJpeCk7cmV0dXJuIHRoaXM7fSxjZW50ZXI6ZnVuY3Rpb24gY2VudGVyKCl7dGhpcy5jb21wdXRlQm91bmRpbmdCb3goKTt0aGlzLmJvdW5kaW5nQm94LmdldENlbnRlcihfb2Zmc2V0KS5uZWdhdGUoKTt0aGlzLnRyYW5zbGF0ZShfb2Zmc2V0LngsX29mZnNldC55LF9vZmZzZXQueik7cmV0dXJuIHRoaXM7fSxzZXRGcm9tT2JqZWN0OmZ1bmN0aW9uIHNldEZyb21PYmplY3Qob2JqZWN0KXsvLyBjb25zb2xlLmxvZyggJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5LnNldEZyb21PYmplY3QoKS4gQ29udmVydGluZycsIG9iamVjdCwgdGhpcyApOwp2YXIgZ2VvbWV0cnk9b2JqZWN0Lmdlb21ldHJ5O2lmKG9iamVjdC5pc1BvaW50c3x8b2JqZWN0LmlzTGluZSl7dmFyIHBvc2l0aW9ucz1uZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZShnZW9tZXRyeS52ZXJ0aWNlcy5sZW5ndGgqMywzKTt2YXIgY29sb3JzPW5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKGdlb21ldHJ5LmNvbG9ycy5sZW5ndGgqMywzKTt0aGlzLnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLHBvc2l0aW9ucy5jb3B5VmVjdG9yM3NBcnJheShnZW9tZXRyeS52ZXJ0aWNlcykpO3RoaXMuc2V0QXR0cmlidXRlKCdjb2xvcicsY29sb3JzLmNvcHlDb2xvcnNBcnJheShnZW9tZXRyeS5jb2xvcnMpKTtpZihnZW9tZXRyeS5saW5lRGlzdGFuY2VzJiZnZW9tZXRyeS5saW5lRGlzdGFuY2VzLmxlbmd0aD09PWdlb21ldHJ5LnZlcnRpY2VzLmxlbmd0aCl7dmFyIGxpbmVEaXN0YW5jZXM9bmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUoZ2VvbWV0cnkubGluZURpc3RhbmNlcy5sZW5ndGgsMSk7dGhpcy5zZXRBdHRyaWJ1dGUoJ2xpbmVEaXN0YW5jZScsbGluZURpc3RhbmNlcy5jb3B5QXJyYXkoZ2VvbWV0cnkubGluZURpc3RhbmNlcykpO31pZihnZW9tZXRyeS5ib3VuZGluZ1NwaGVyZSE9PW51bGwpe3RoaXMuYm91bmRpbmdTcGhlcmU9Z2VvbWV0cnkuYm91bmRpbmdTcGhlcmUuY2xvbmUoKTt9aWYoZ2VvbWV0cnkuYm91bmRpbmdCb3ghPT1udWxsKXt0aGlzLmJvdW5kaW5nQm94PWdlb21ldHJ5LmJvdW5kaW5nQm94LmNsb25lKCk7fX1lbHNlIGlmKG9iamVjdC5pc01lc2gpe2lmKGdlb21ldHJ5JiZnZW9tZXRyeS5pc0dlb21ldHJ5KXt0aGlzLmZyb21HZW9tZXRyeShnZW9tZXRyeSk7fX1yZXR1cm4gdGhpczt9LHNldEZyb21Qb2ludHM6ZnVuY3Rpb24gc2V0RnJvbVBvaW50cyhwb2ludHMpe3ZhciBwb3NpdGlvbj1bXTtmb3IodmFyIGk9MCxsPXBvaW50cy5sZW5ndGg7aTxsO2krKyl7dmFyIHBvaW50PXBvaW50c1tpXTtwb3NpdGlvbi5wdXNoKHBvaW50LngscG9pbnQueSxwb2ludC56fHwwKTt9dGhpcy5zZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJyxuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZShwb3NpdGlvbiwzKSk7cmV0dXJuIHRoaXM7fSx1cGRhdGVGcm9tT2JqZWN0OmZ1bmN0aW9uIHVwZGF0ZUZyb21PYmplY3Qob2JqZWN0KXt2YXIgZ2VvbWV0cnk9b2JqZWN0Lmdlb21ldHJ5O2lmKG9iamVjdC5pc01lc2gpe3ZhciBkaXJlY3Q9Z2VvbWV0cnkuX19kaXJlY3RHZW9tZXRyeTtpZihnZW9tZXRyeS5lbGVtZW50c05lZWRVcGRhdGU9PT10cnVlKXtkaXJlY3Q9dW5kZWZpbmVkO2dlb21ldHJ5LmVsZW1lbnRzTmVlZFVwZGF0ZT1mYWxzZTt9aWYoZGlyZWN0PT09dW5kZWZpbmVkKXtyZXR1cm4gdGhpcy5mcm9tR2VvbWV0cnkoZ2VvbWV0cnkpO31kaXJlY3QudmVydGljZXNOZWVkVXBkYXRlPWdlb21ldHJ5LnZlcnRpY2VzTmVlZFVwZGF0ZTtkaXJlY3Qubm9ybWFsc05lZWRVcGRhdGU9Z2VvbWV0cnkubm9ybWFsc05lZWRVcGRhdGU7ZGlyZWN0LmNvbG9yc05lZWRVcGRhdGU9Z2VvbWV0cnkuY29sb3JzTmVlZFVwZGF0ZTtkaXJlY3QudXZzTmVlZFVwZGF0ZT1nZW9tZXRyeS51dnNOZWVkVXBkYXRlO2RpcmVjdC5ncm91cHNOZWVkVXBkYXRlPWdlb21ldHJ5Lmdyb3Vwc05lZWRVcGRhdGU7Z2VvbWV0cnkudmVydGljZXNOZWVkVXBkYXRlPWZhbHNlO2dlb21ldHJ5Lm5vcm1hbHNOZWVkVXBkYXRlPWZhbHNlO2dlb21ldHJ5LmNvbG9yc05lZWRVcGRhdGU9ZmFsc2U7Z2VvbWV0cnkudXZzTmVlZFVwZGF0ZT1mYWxzZTtnZW9tZXRyeS5ncm91cHNOZWVkVXBkYXRlPWZhbHNlO2dlb21ldHJ5PWRpcmVjdDt9dmFyIGF0dHJpYnV0ZTtpZihnZW9tZXRyeS52ZXJ0aWNlc05lZWRVcGRhdGU9PT10cnVlKXthdHRyaWJ1dGU9dGhpcy5hdHRyaWJ1dGVzLnBvc2l0aW9uO2lmKGF0dHJpYnV0ZSE9PXVuZGVmaW5lZCl7YXR0cmlidXRlLmNvcHlWZWN0b3Izc0FycmF5KGdlb21ldHJ5LnZlcnRpY2VzKTthdHRyaWJ1dGUubmVlZHNVcGRhdGU9dHJ1ZTt9Z2VvbWV0cnkudmVydGljZXNOZWVkVXBkYXRlPWZhbHNlO31pZihnZW9tZXRyeS5ub3JtYWxzTmVlZFVwZGF0ZT09PXRydWUpe2F0dHJpYnV0ZT10aGlzLmF0dHJpYnV0ZXMubm9ybWFsO2lmKGF0dHJpYnV0ZSE9PXVuZGVmaW5lZCl7YXR0cmlidXRlLmNvcHlWZWN0b3Izc0FycmF5KGdlb21ldHJ5Lm5vcm1hbHMpO2F0dHJpYnV0ZS5uZWVkc1VwZGF0ZT10cnVlO31nZW9tZXRyeS5ub3JtYWxzTmVlZFVwZGF0ZT1mYWxzZTt9aWYoZ2VvbWV0cnkuY29sb3JzTmVlZFVwZGF0ZT09PXRydWUpe2F0dHJpYnV0ZT10aGlzLmF0dHJpYnV0ZXMuY29sb3I7aWYoYXR0cmlidXRlIT09dW5kZWZpbmVkKXthdHRyaWJ1dGUuY29weUNvbG9yc0FycmF5KGdlb21ldHJ5LmNvbG9ycyk7YXR0cmlidXRlLm5lZWRzVXBkYXRlPXRydWU7fWdlb21ldHJ5LmNvbG9yc05lZWRVcGRhdGU9ZmFsc2U7fWlmKGdlb21ldHJ5LnV2c05lZWRVcGRhdGUpe2F0dHJpYnV0ZT10aGlzLmF0dHJpYnV0ZXMudXY7aWYoYXR0cmlidXRlIT09dW5kZWZpbmVkKXthdHRyaWJ1dGUuY29weVZlY3RvcjJzQXJyYXkoZ2VvbWV0cnkudXZzKTthdHRyaWJ1dGUubmVlZHNVcGRhdGU9dHJ1ZTt9Z2VvbWV0cnkudXZzTmVlZFVwZGF0ZT1mYWxzZTt9aWYoZ2VvbWV0cnkubGluZURpc3RhbmNlc05lZWRVcGRhdGUpe2F0dHJpYnV0ZT10aGlzLmF0dHJpYnV0ZXMubGluZURpc3RhbmNlO2lmKGF0dHJpYnV0ZSE9PXVuZGVmaW5lZCl7YXR0cmlidXRlLmNvcHlBcnJheShnZW9tZXRyeS5saW5lRGlzdGFuY2VzKTthdHRyaWJ1dGUubmVlZHNVcGRhdGU9dHJ1ZTt9Z2VvbWV0cnkubGluZURpc3RhbmNlc05lZWRVcGRhdGU9ZmFsc2U7fWlmKGdlb21ldHJ5Lmdyb3Vwc05lZWRVcGRhdGUpe2dlb21ldHJ5LmNvbXB1dGVHcm91cHMob2JqZWN0Lmdlb21ldHJ5KTt0aGlzLmdyb3Vwcz1nZW9tZXRyeS5ncm91cHM7Z2VvbWV0cnkuZ3JvdXBzTmVlZFVwZGF0ZT1mYWxzZTt9cmV0dXJuIHRoaXM7fSxmcm9tR2VvbWV0cnk6ZnVuY3Rpb24gZnJvbUdlb21ldHJ5KGdlb21ldHJ5KXtnZW9tZXRyeS5fX2RpcmVjdEdlb21ldHJ5PW5ldyBEaXJlY3RHZW9tZXRyeSgpLmZyb21HZW9tZXRyeShnZW9tZXRyeSk7cmV0dXJuIHRoaXMuZnJvbURpcmVjdEdlb21ldHJ5KGdlb21ldHJ5Ll9fZGlyZWN0R2VvbWV0cnkpO30sZnJvbURpcmVjdEdlb21ldHJ5OmZ1bmN0aW9uIGZyb21EaXJlY3RHZW9tZXRyeShnZW9tZXRyeSl7dmFyIHBvc2l0aW9ucz1uZXcgRmxvYXQzMkFycmF5KGdlb21ldHJ5LnZlcnRpY2VzLmxlbmd0aCozKTt0aGlzLnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLG5ldyBCdWZmZXJBdHRyaWJ1dGUocG9zaXRpb25zLDMpLmNvcHlWZWN0b3Izc0FycmF5KGdlb21ldHJ5LnZlcnRpY2VzKSk7aWYoZ2VvbWV0cnkubm9ybWFscy5sZW5ndGg+MCl7dmFyIG5vcm1hbHM9bmV3IEZsb2F0MzJBcnJheShnZW9tZXRyeS5ub3JtYWxzLmxlbmd0aCozKTt0aGlzLnNldEF0dHJpYnV0ZSgnbm9ybWFsJyxuZXcgQnVmZmVyQXR0cmlidXRlKG5vcm1hbHMsMykuY29weVZlY3RvcjNzQXJyYXkoZ2VvbWV0cnkubm9ybWFscykpO31pZihnZW9tZXRyeS5jb2xvcnMubGVuZ3RoPjApe3ZhciBjb2xvcnM9bmV3IEZsb2F0MzJBcnJheShnZW9tZXRyeS5jb2xvcnMubGVuZ3RoKjMpO3RoaXMuc2V0QXR0cmlidXRlKCdjb2xvcicsbmV3IEJ1ZmZlckF0dHJpYnV0ZShjb2xvcnMsMykuY29weUNvbG9yc0FycmF5KGdlb21ldHJ5LmNvbG9ycykpO31pZihnZW9tZXRyeS51dnMubGVuZ3RoPjApe3ZhciB1dnM9bmV3IEZsb2F0MzJBcnJheShnZW9tZXRyeS51dnMubGVuZ3RoKjIpO3RoaXMuc2V0QXR0cmlidXRlKCd1dicsbmV3IEJ1ZmZlckF0dHJpYnV0ZSh1dnMsMikuY29weVZlY3RvcjJzQXJyYXkoZ2VvbWV0cnkudXZzKSk7fWlmKGdlb21ldHJ5LnV2czIubGVuZ3RoPjApe3ZhciB1dnMyPW5ldyBGbG9hdDMyQXJyYXkoZ2VvbWV0cnkudXZzMi5sZW5ndGgqMik7dGhpcy5zZXRBdHRyaWJ1dGUoJ3V2MicsbmV3IEJ1ZmZlckF0dHJpYnV0ZSh1dnMyLDIpLmNvcHlWZWN0b3Iyc0FycmF5KGdlb21ldHJ5LnV2czIpKTt9Ly8gZ3JvdXBzCnRoaXMuZ3JvdXBzPWdlb21ldHJ5Lmdyb3VwczsvLyBtb3JwaHMKZm9yKHZhciBuYW1lIGluIGdlb21ldHJ5Lm1vcnBoVGFyZ2V0cyl7dmFyIGFycmF5PVtdO3ZhciBtb3JwaFRhcmdldHM9Z2VvbWV0cnkubW9ycGhUYXJnZXRzW25hbWVdO2Zvcih2YXIgaT0wLGw9bW9ycGhUYXJnZXRzLmxlbmd0aDtpPGw7aSsrKXt2YXIgbW9ycGhUYXJnZXQ9bW9ycGhUYXJnZXRzW2ldO3ZhciBhdHRyaWJ1dGU9bmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUobW9ycGhUYXJnZXQuZGF0YS5sZW5ndGgqMywzKTthdHRyaWJ1dGUubmFtZT1tb3JwaFRhcmdldC5uYW1lO2FycmF5LnB1c2goYXR0cmlidXRlLmNvcHlWZWN0b3Izc0FycmF5KG1vcnBoVGFyZ2V0LmRhdGEpKTt9dGhpcy5tb3JwaEF0dHJpYnV0ZXNbbmFtZV09YXJyYXk7fS8vIHNraW5uaW5nCmlmKGdlb21ldHJ5LnNraW5JbmRpY2VzLmxlbmd0aD4wKXt2YXIgc2tpbkluZGljZXM9bmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUoZ2VvbWV0cnkuc2tpbkluZGljZXMubGVuZ3RoKjQsNCk7dGhpcy5zZXRBdHRyaWJ1dGUoJ3NraW5JbmRleCcsc2tpbkluZGljZXMuY29weVZlY3RvcjRzQXJyYXkoZ2VvbWV0cnkuc2tpbkluZGljZXMpKTt9aWYoZ2VvbWV0cnkuc2tpbldlaWdodHMubGVuZ3RoPjApe3ZhciBza2luV2VpZ2h0cz1uZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZShnZW9tZXRyeS5za2luV2VpZ2h0cy5sZW5ndGgqNCw0KTt0aGlzLnNldEF0dHJpYnV0ZSgnc2tpbldlaWdodCcsc2tpbldlaWdodHMuY29weVZlY3RvcjRzQXJyYXkoZ2VvbWV0cnkuc2tpbldlaWdodHMpKTt9Ly8KaWYoZ2VvbWV0cnkuYm91bmRpbmdTcGhlcmUhPT1udWxsKXt0aGlzLmJvdW5kaW5nU3BoZXJlPWdlb21ldHJ5LmJvdW5kaW5nU3BoZXJlLmNsb25lKCk7fWlmKGdlb21ldHJ5LmJvdW5kaW5nQm94IT09bnVsbCl7dGhpcy5ib3VuZGluZ0JveD1nZW9tZXRyeS5ib3VuZGluZ0JveC5jbG9uZSgpO31yZXR1cm4gdGhpczt9LGNvbXB1dGVCb3VuZGluZ0JveDpmdW5jdGlvbiBjb21wdXRlQm91bmRpbmdCb3goKXtpZih0aGlzLmJvdW5kaW5nQm94PT09bnVsbCl7dGhpcy5ib3VuZGluZ0JveD1uZXcgQm94MygpO312YXIgcG9zaXRpb249dGhpcy5hdHRyaWJ1dGVzLnBvc2l0aW9uO3ZhciBtb3JwaEF0dHJpYnV0ZXNQb3NpdGlvbj10aGlzLm1vcnBoQXR0cmlidXRlcy5wb3NpdGlvbjtpZihwb3NpdGlvbiE9PXVuZGVmaW5lZCl7dGhpcy5ib3VuZGluZ0JveC5zZXRGcm9tQnVmZmVyQXR0cmlidXRlKHBvc2l0aW9uKTsvLyBwcm9jZXNzIG1vcnBoIGF0dHJpYnV0ZXMgaWYgcHJlc2VudAppZihtb3JwaEF0dHJpYnV0ZXNQb3NpdGlvbil7Zm9yKHZhciBpPTAsaWw9bW9ycGhBdHRyaWJ1dGVzUG9zaXRpb24ubGVuZ3RoO2k8aWw7aSsrKXt2YXIgbW9ycGhBdHRyaWJ1dGU9bW9ycGhBdHRyaWJ1dGVzUG9zaXRpb25baV07X2JveCQyLnNldEZyb21CdWZmZXJBdHRyaWJ1dGUobW9ycGhBdHRyaWJ1dGUpO2lmKHRoaXMubW9ycGhUYXJnZXRzUmVsYXRpdmUpe192ZWN0b3IkNS5hZGRWZWN0b3JzKHRoaXMuYm91bmRpbmdCb3gubWluLF9ib3gkMi5taW4pO3RoaXMuYm91bmRpbmdCb3guZXhwYW5kQnlQb2ludChfdmVjdG9yJDUpO192ZWN0b3IkNS5hZGRWZWN0b3JzKHRoaXMuYm91bmRpbmdCb3gubWF4LF9ib3gkMi5tYXgpO3RoaXMuYm91bmRpbmdCb3guZXhwYW5kQnlQb2ludChfdmVjdG9yJDUpO31lbHNle3RoaXMuYm91bmRpbmdCb3guZXhwYW5kQnlQb2ludChfYm94JDIubWluKTt0aGlzLmJvdW5kaW5nQm94LmV4cGFuZEJ5UG9pbnQoX2JveCQyLm1heCk7fX19fWVsc2V7dGhpcy5ib3VuZGluZ0JveC5tYWtlRW1wdHkoKTt9aWYoaXNOYU4odGhpcy5ib3VuZGluZ0JveC5taW4ueCl8fGlzTmFOKHRoaXMuYm91bmRpbmdCb3gubWluLnkpfHxpc05hTih0aGlzLmJvdW5kaW5nQm94Lm1pbi56KSl7Y29uc29sZS5lcnJvcignVEhSRUUuQnVmZmVyR2VvbWV0cnkuY29tcHV0ZUJvdW5kaW5nQm94OiBDb21wdXRlZCBtaW4vbWF4IGhhdmUgTmFOIHZhbHVlcy4gVGhlICJwb3NpdGlvbiIgYXR0cmlidXRlIGlzIGxpa2VseSB0byBoYXZlIE5hTiB2YWx1ZXMuJyx0aGlzKTt9fSxjb21wdXRlQm91bmRpbmdTcGhlcmU6ZnVuY3Rpb24gY29tcHV0ZUJvdW5kaW5nU3BoZXJlKCl7aWYodGhpcy5ib3VuZGluZ1NwaGVyZT09PW51bGwpe3RoaXMuYm91bmRpbmdTcGhlcmU9bmV3IFNwaGVyZSgpO312YXIgcG9zaXRpb249dGhpcy5hdHRyaWJ1dGVzLnBvc2l0aW9uO3ZhciBtb3JwaEF0dHJpYnV0ZXNQb3NpdGlvbj10aGlzLm1vcnBoQXR0cmlidXRlcy5wb3NpdGlvbjtpZihwb3NpdGlvbil7Ly8gZmlyc3QsIGZpbmQgdGhlIGNlbnRlciBvZiB0aGUgYm91bmRpbmcgc3BoZXJlCnZhciBjZW50ZXI9dGhpcy5ib3VuZGluZ1NwaGVyZS5jZW50ZXI7X2JveCQyLnNldEZyb21CdWZmZXJBdHRyaWJ1dGUocG9zaXRpb24pOy8vIHByb2Nlc3MgbW9ycGggYXR0cmlidXRlcyBpZiBwcmVzZW50CmlmKG1vcnBoQXR0cmlidXRlc1Bvc2l0aW9uKXtmb3IodmFyIGk9MCxpbD1tb3JwaEF0dHJpYnV0ZXNQb3NpdGlvbi5sZW5ndGg7aTxpbDtpKyspe3ZhciBtb3JwaEF0dHJpYnV0ZT1tb3JwaEF0dHJpYnV0ZXNQb3NpdGlvbltpXTtfYm94TW9ycGhUYXJnZXRzLnNldEZyb21CdWZmZXJBdHRyaWJ1dGUobW9ycGhBdHRyaWJ1dGUpO2lmKHRoaXMubW9ycGhUYXJnZXRzUmVsYXRpdmUpe192ZWN0b3IkNS5hZGRWZWN0b3JzKF9ib3gkMi5taW4sX2JveE1vcnBoVGFyZ2V0cy5taW4pO19ib3gkMi5leHBhbmRCeVBvaW50KF92ZWN0b3IkNSk7X3ZlY3RvciQ1LmFkZFZlY3RvcnMoX2JveCQyLm1heCxfYm94TW9ycGhUYXJnZXRzLm1heCk7X2JveCQyLmV4cGFuZEJ5UG9pbnQoX3ZlY3RvciQ1KTt9ZWxzZXtfYm94JDIuZXhwYW5kQnlQb2ludChfYm94TW9ycGhUYXJnZXRzLm1pbik7X2JveCQyLmV4cGFuZEJ5UG9pbnQoX2JveE1vcnBoVGFyZ2V0cy5tYXgpO319fV9ib3gkMi5nZXRDZW50ZXIoY2VudGVyKTsvLyBzZWNvbmQsIHRyeSB0byBmaW5kIGEgYm91bmRpbmdTcGhlcmUgd2l0aCBhIHJhZGl1cyBzbWFsbGVyIHRoYW4gdGhlCi8vIGJvdW5kaW5nU3BoZXJlIG9mIHRoZSBib3VuZGluZ0JveDogc3FydCgzKSBzbWFsbGVyIGluIHRoZSBiZXN0IGNhc2UKdmFyIG1heFJhZGl1c1NxPTA7Zm9yKHZhciBpPTAsaWw9cG9zaXRpb24uY291bnQ7aTxpbDtpKyspe192ZWN0b3IkNS5mcm9tQnVmZmVyQXR0cmlidXRlKHBvc2l0aW9uLGkpO21heFJhZGl1c1NxPU1hdGgubWF4KG1heFJhZGl1c1NxLGNlbnRlci5kaXN0YW5jZVRvU3F1YXJlZChfdmVjdG9yJDUpKTt9Ly8gcHJvY2VzcyBtb3JwaCBhdHRyaWJ1dGVzIGlmIHByZXNlbnQKaWYobW9ycGhBdHRyaWJ1dGVzUG9zaXRpb24pe2Zvcih2YXIgaT0wLGlsPW1vcnBoQXR0cmlidXRlc1Bvc2l0aW9uLmxlbmd0aDtpPGlsO2krKyl7dmFyIG1vcnBoQXR0cmlidXRlPW1vcnBoQXR0cmlidXRlc1Bvc2l0aW9uW2ldO3ZhciBtb3JwaFRhcmdldHNSZWxhdGl2ZT10aGlzLm1vcnBoVGFyZ2V0c1JlbGF0aXZlO2Zvcih2YXIgaj0wLGpsPW1vcnBoQXR0cmlidXRlLmNvdW50O2o8amw7aisrKXtfdmVjdG9yJDUuZnJvbUJ1ZmZlckF0dHJpYnV0ZShtb3JwaEF0dHJpYnV0ZSxqKTtpZihtb3JwaFRhcmdldHNSZWxhdGl2ZSl7X29mZnNldC5mcm9tQnVmZmVyQXR0cmlidXRlKHBvc2l0aW9uLGopO192ZWN0b3IkNS5hZGQoX29mZnNldCk7fW1heFJhZGl1c1NxPU1hdGgubWF4KG1heFJhZGl1c1NxLGNlbnRlci5kaXN0YW5jZVRvU3F1YXJlZChfdmVjdG9yJDUpKTt9fX10aGlzLmJvdW5kaW5nU3BoZXJlLnJhZGl1cz1NYXRoLnNxcnQobWF4UmFkaXVzU3EpO2lmKGlzTmFOKHRoaXMuYm91bmRpbmdTcGhlcmUucmFkaXVzKSl7Y29uc29sZS5lcnJvcignVEhSRUUuQnVmZmVyR2VvbWV0cnkuY29tcHV0ZUJvdW5kaW5nU3BoZXJlKCk6IENvbXB1dGVkIHJhZGl1cyBpcyBOYU4uIFRoZSAicG9zaXRpb24iIGF0dHJpYnV0ZSBpcyBsaWtlbHkgdG8gaGF2ZSBOYU4gdmFsdWVzLicsdGhpcyk7fX19LGNvbXB1dGVGYWNlTm9ybWFsczpmdW5jdGlvbiBjb21wdXRlRmFjZU5vcm1hbHMoKXsvLyBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eQp9LGNvbXB1dGVWZXJ0ZXhOb3JtYWxzOmZ1bmN0aW9uIGNvbXB1dGVWZXJ0ZXhOb3JtYWxzKCl7dmFyIGluZGV4PXRoaXMuaW5kZXg7dmFyIGF0dHJpYnV0ZXM9dGhpcy5hdHRyaWJ1dGVzO2lmKGF0dHJpYnV0ZXMucG9zaXRpb24pe3ZhciBwb3NpdGlvbnM9YXR0cmlidXRlcy5wb3NpdGlvbi5hcnJheTtpZihhdHRyaWJ1dGVzLm5vcm1hbD09PXVuZGVmaW5lZCl7dGhpcy5zZXRBdHRyaWJ1dGUoJ25vcm1hbCcsbmV3IEJ1ZmZlckF0dHJpYnV0ZShuZXcgRmxvYXQzMkFycmF5KHBvc2l0aW9ucy5sZW5ndGgpLDMpKTt9ZWxzZXsvLyByZXNldCBleGlzdGluZyBub3JtYWxzIHRvIHplcm8KdmFyIGFycmF5PWF0dHJpYnV0ZXMubm9ybWFsLmFycmF5O2Zvcih2YXIgaT0wLGlsPWFycmF5Lmxlbmd0aDtpPGlsO2krKyl7YXJyYXlbaV09MDt9fXZhciBub3JtYWxzPWF0dHJpYnV0ZXMubm9ybWFsLmFycmF5O3ZhciB2QSx2Qix2Qzt2YXIgcEE9bmV3IFZlY3RvcjMoKSxwQj1uZXcgVmVjdG9yMygpLHBDPW5ldyBWZWN0b3IzKCk7dmFyIGNiPW5ldyBWZWN0b3IzKCksYWI9bmV3IFZlY3RvcjMoKTsvLyBpbmRleGVkIGVsZW1lbnRzCmlmKGluZGV4KXt2YXIgaW5kaWNlcz1pbmRleC5hcnJheTtmb3IodmFyIGk9MCxpbD1pbmRleC5jb3VudDtpPGlsO2krPTMpe3ZBPWluZGljZXNbaSswXSozO3ZCPWluZGljZXNbaSsxXSozO3ZDPWluZGljZXNbaSsyXSozO3BBLmZyb21BcnJheShwb3NpdGlvbnMsdkEpO3BCLmZyb21BcnJheShwb3NpdGlvbnMsdkIpO3BDLmZyb21BcnJheShwb3NpdGlvbnMsdkMpO2NiLnN1YlZlY3RvcnMocEMscEIpO2FiLnN1YlZlY3RvcnMocEEscEIpO2NiLmNyb3NzKGFiKTtub3JtYWxzW3ZBXSs9Y2IueDtub3JtYWxzW3ZBKzFdKz1jYi55O25vcm1hbHNbdkErMl0rPWNiLno7bm9ybWFsc1t2Ql0rPWNiLng7bm9ybWFsc1t2QisxXSs9Y2IueTtub3JtYWxzW3ZCKzJdKz1jYi56O25vcm1hbHNbdkNdKz1jYi54O25vcm1hbHNbdkMrMV0rPWNiLnk7bm9ybWFsc1t2QysyXSs9Y2Iuejt9fWVsc2V7Ly8gbm9uLWluZGV4ZWQgZWxlbWVudHMgKHVuY29ubmVjdGVkIHRyaWFuZ2xlIHNvdXApCmZvcih2YXIgaT0wLGlsPXBvc2l0aW9ucy5sZW5ndGg7aTxpbDtpKz05KXtwQS5mcm9tQXJyYXkocG9zaXRpb25zLGkpO3BCLmZyb21BcnJheShwb3NpdGlvbnMsaSszKTtwQy5mcm9tQXJyYXkocG9zaXRpb25zLGkrNik7Y2Iuc3ViVmVjdG9ycyhwQyxwQik7YWIuc3ViVmVjdG9ycyhwQSxwQik7Y2IuY3Jvc3MoYWIpO25vcm1hbHNbaV09Y2IueDtub3JtYWxzW2krMV09Y2IueTtub3JtYWxzW2krMl09Y2Iuejtub3JtYWxzW2krM109Y2IueDtub3JtYWxzW2krNF09Y2IueTtub3JtYWxzW2krNV09Y2Iuejtub3JtYWxzW2krNl09Y2IueDtub3JtYWxzW2krN109Y2IueTtub3JtYWxzW2krOF09Y2Iuejt9fXRoaXMubm9ybWFsaXplTm9ybWFscygpO2F0dHJpYnV0ZXMubm9ybWFsLm5lZWRzVXBkYXRlPXRydWU7fX0sbWVyZ2U6ZnVuY3Rpb24gbWVyZ2UoZ2VvbWV0cnksb2Zmc2V0KXtpZighKGdlb21ldHJ5JiZnZW9tZXRyeS5pc0J1ZmZlckdlb21ldHJ5KSl7Y29uc29sZS5lcnJvcignVEhSRUUuQnVmZmVyR2VvbWV0cnkubWVyZ2UoKTogZ2VvbWV0cnkgbm90IGFuIGluc3RhbmNlIG9mIFRIUkVFLkJ1ZmZlckdlb21ldHJ5LicsZ2VvbWV0cnkpO3JldHVybjt9aWYob2Zmc2V0PT09dW5kZWZpbmVkKXtvZmZzZXQ9MDtjb25zb2xlLndhcm4oJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5Lm1lcmdlKCk6IE92ZXJ3cml0aW5nIG9yaWdpbmFsIGdlb21ldHJ5LCBzdGFydGluZyBhdCBvZmZzZXQ9MC4gJysnVXNlIEJ1ZmZlckdlb21ldHJ5VXRpbHMubWVyZ2VCdWZmZXJHZW9tZXRyaWVzKCkgZm9yIGxvc3NsZXNzIG1lcmdlLicpO312YXIgYXR0cmlidXRlcz10aGlzLmF0dHJpYnV0ZXM7Zm9yKHZhciBrZXkgaW4gYXR0cmlidXRlcyl7aWYoZ2VvbWV0cnkuYXR0cmlidXRlc1trZXldPT09dW5kZWZpbmVkKXtjb250aW51ZTt9dmFyIGF0dHJpYnV0ZTE9YXR0cmlidXRlc1trZXldO3ZhciBhdHRyaWJ1dGVBcnJheTE9YXR0cmlidXRlMS5hcnJheTt2YXIgYXR0cmlidXRlMj1nZW9tZXRyeS5hdHRyaWJ1dGVzW2tleV07dmFyIGF0dHJpYnV0ZUFycmF5Mj1hdHRyaWJ1dGUyLmFycmF5O3ZhciBhdHRyaWJ1dGVPZmZzZXQ9YXR0cmlidXRlMi5pdGVtU2l6ZSpvZmZzZXQ7dmFyIGxlbmd0aD1NYXRoLm1pbihhdHRyaWJ1dGVBcnJheTIubGVuZ3RoLGF0dHJpYnV0ZUFycmF5MS5sZW5ndGgtYXR0cmlidXRlT2Zmc2V0KTtmb3IodmFyIGk9MCxqPWF0dHJpYnV0ZU9mZnNldDtpPGxlbmd0aDtpKyssaisrKXthdHRyaWJ1dGVBcnJheTFbal09YXR0cmlidXRlQXJyYXkyW2ldO319cmV0dXJuIHRoaXM7fSxub3JtYWxpemVOb3JtYWxzOmZ1bmN0aW9uIG5vcm1hbGl6ZU5vcm1hbHMoKXt2YXIgbm9ybWFscz10aGlzLmF0dHJpYnV0ZXMubm9ybWFsO2Zvcih2YXIgaT0wLGlsPW5vcm1hbHMuY291bnQ7aTxpbDtpKyspe192ZWN0b3IkNS54PW5vcm1hbHMuZ2V0WChpKTtfdmVjdG9yJDUueT1ub3JtYWxzLmdldFkoaSk7X3ZlY3RvciQ1Lno9bm9ybWFscy5nZXRaKGkpO192ZWN0b3IkNS5ub3JtYWxpemUoKTtub3JtYWxzLnNldFhZWihpLF92ZWN0b3IkNS54LF92ZWN0b3IkNS55LF92ZWN0b3IkNS56KTt9fSx0b05vbkluZGV4ZWQ6ZnVuY3Rpb24gdG9Ob25JbmRleGVkKCl7ZnVuY3Rpb24gY29udmVydEJ1ZmZlckF0dHJpYnV0ZShhdHRyaWJ1dGUsaW5kaWNlcyl7dmFyIGFycmF5PWF0dHJpYnV0ZS5hcnJheTt2YXIgaXRlbVNpemU9YXR0cmlidXRlLml0ZW1TaXplO3ZhciBhcnJheTI9bmV3IGFycmF5LmNvbnN0cnVjdG9yKGluZGljZXMubGVuZ3RoKml0ZW1TaXplKTt2YXIgaW5kZXg9MCxpbmRleDI9MDtmb3IodmFyIGk9MCxsPWluZGljZXMubGVuZ3RoO2k8bDtpKyspe2luZGV4PWluZGljZXNbaV0qaXRlbVNpemU7Zm9yKHZhciBqPTA7ajxpdGVtU2l6ZTtqKyspe2FycmF5MltpbmRleDIrK109YXJyYXlbaW5kZXgrK107fX1yZXR1cm4gbmV3IEJ1ZmZlckF0dHJpYnV0ZShhcnJheTIsaXRlbVNpemUpO30vLwppZih0aGlzLmluZGV4PT09bnVsbCl7Y29uc29sZS53YXJuKCdUSFJFRS5CdWZmZXJHZW9tZXRyeS50b05vbkluZGV4ZWQoKTogR2VvbWV0cnkgaXMgYWxyZWFkeSBub24taW5kZXhlZC4nKTtyZXR1cm4gdGhpczt9dmFyIGdlb21ldHJ5Mj1uZXcgQnVmZmVyR2VvbWV0cnkoKTt2YXIgaW5kaWNlcz10aGlzLmluZGV4LmFycmF5O3ZhciBhdHRyaWJ1dGVzPXRoaXMuYXR0cmlidXRlczsvLyBhdHRyaWJ1dGVzCmZvcih2YXIgbmFtZSBpbiBhdHRyaWJ1dGVzKXt2YXIgYXR0cmlidXRlPWF0dHJpYnV0ZXNbbmFtZV07dmFyIG5ld0F0dHJpYnV0ZT1jb252ZXJ0QnVmZmVyQXR0cmlidXRlKGF0dHJpYnV0ZSxpbmRpY2VzKTtnZW9tZXRyeTIuc2V0QXR0cmlidXRlKG5hbWUsbmV3QXR0cmlidXRlKTt9Ly8gbW9ycGggYXR0cmlidXRlcwp2YXIgbW9ycGhBdHRyaWJ1dGVzPXRoaXMubW9ycGhBdHRyaWJ1dGVzO2ZvcihuYW1lIGluIG1vcnBoQXR0cmlidXRlcyl7dmFyIG1vcnBoQXJyYXk9W107dmFyIG1vcnBoQXR0cmlidXRlPW1vcnBoQXR0cmlidXRlc1tuYW1lXTsvLyBtb3JwaEF0dHJpYnV0ZTogYXJyYXkgb2YgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZXMKZm9yKHZhciBpPTAsaWw9bW9ycGhBdHRyaWJ1dGUubGVuZ3RoO2k8aWw7aSsrKXt2YXIgYXR0cmlidXRlPW1vcnBoQXR0cmlidXRlW2ldO3ZhciBuZXdBdHRyaWJ1dGU9Y29udmVydEJ1ZmZlckF0dHJpYnV0ZShhdHRyaWJ1dGUsaW5kaWNlcyk7bW9ycGhBcnJheS5wdXNoKG5ld0F0dHJpYnV0ZSk7fWdlb21ldHJ5Mi5tb3JwaEF0dHJpYnV0ZXNbbmFtZV09bW9ycGhBcnJheTt9Z2VvbWV0cnkyLm1vcnBoVGFyZ2V0c1JlbGF0aXZlPXRoaXMubW9ycGhUYXJnZXRzUmVsYXRpdmU7Ly8gZ3JvdXBzCnZhciBncm91cHM9dGhpcy5ncm91cHM7Zm9yKHZhciBpPTAsbD1ncm91cHMubGVuZ3RoO2k8bDtpKyspe3ZhciBncm91cD1ncm91cHNbaV07Z2VvbWV0cnkyLmFkZEdyb3VwKGdyb3VwLnN0YXJ0LGdyb3VwLmNvdW50LGdyb3VwLm1hdGVyaWFsSW5kZXgpO31yZXR1cm4gZ2VvbWV0cnkyO30sdG9KU09OOmZ1bmN0aW9uIHRvSlNPTigpe3ZhciBkYXRhPXttZXRhZGF0YTp7dmVyc2lvbjo0LjUsdHlwZTonQnVmZmVyR2VvbWV0cnknLGdlbmVyYXRvcjonQnVmZmVyR2VvbWV0cnkudG9KU09OJ319Oy8vIHN0YW5kYXJkIEJ1ZmZlckdlb21ldHJ5IHNlcmlhbGl6YXRpb24KZGF0YS51dWlkPXRoaXMudXVpZDtkYXRhLnR5cGU9dGhpcy50eXBlO2lmKHRoaXMubmFtZSE9PScnKXtkYXRhLm5hbWU9dGhpcy5uYW1lO31pZihPYmplY3Qua2V5cyh0aGlzLnVzZXJEYXRhKS5sZW5ndGg+MCl7ZGF0YS51c2VyRGF0YT10aGlzLnVzZXJEYXRhO31pZih0aGlzLnBhcmFtZXRlcnMhPT11bmRlZmluZWQpe3ZhciBwYXJhbWV0ZXJzPXRoaXMucGFyYW1ldGVycztmb3IodmFyIGtleSBpbiBwYXJhbWV0ZXJzKXtpZihwYXJhbWV0ZXJzW2tleV0hPT11bmRlZmluZWQpe2RhdGFba2V5XT1wYXJhbWV0ZXJzW2tleV07fX1yZXR1cm4gZGF0YTt9ZGF0YS5kYXRhPXthdHRyaWJ1dGVzOnt9fTt2YXIgaW5kZXg9dGhpcy5pbmRleDtpZihpbmRleCE9PW51bGwpe2RhdGEuZGF0YS5pbmRleD17dHlwZTppbmRleC5hcnJheS5jb25zdHJ1Y3Rvci5uYW1lLGFycmF5OkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGluZGV4LmFycmF5KX07fXZhciBhdHRyaWJ1dGVzPXRoaXMuYXR0cmlidXRlcztmb3IodmFyIGtleSBpbiBhdHRyaWJ1dGVzKXt2YXIgYXR0cmlidXRlPWF0dHJpYnV0ZXNba2V5XTt2YXIgYXR0cmlidXRlRGF0YT1hdHRyaWJ1dGUudG9KU09OKCk7aWYoYXR0cmlidXRlLm5hbWUhPT0nJyl7YXR0cmlidXRlRGF0YS5uYW1lPWF0dHJpYnV0ZS5uYW1lO31kYXRhLmRhdGEuYXR0cmlidXRlc1trZXldPWF0dHJpYnV0ZURhdGE7fXZhciBtb3JwaEF0dHJpYnV0ZXM9e307dmFyIGhhc01vcnBoQXR0cmlidXRlcz1mYWxzZTtmb3IodmFyIGtleSBpbiB0aGlzLm1vcnBoQXR0cmlidXRlcyl7dmFyIGF0dHJpYnV0ZUFycmF5PXRoaXMubW9ycGhBdHRyaWJ1dGVzW2tleV07dmFyIGFycmF5PVtdO2Zvcih2YXIgaT0wLGlsPWF0dHJpYnV0ZUFycmF5Lmxlbmd0aDtpPGlsO2krKyl7dmFyIGF0dHJpYnV0ZT1hdHRyaWJ1dGVBcnJheVtpXTt2YXIgYXR0cmlidXRlRGF0YT1hdHRyaWJ1dGUudG9KU09OKCk7aWYoYXR0cmlidXRlLm5hbWUhPT0nJyl7YXR0cmlidXRlRGF0YS5uYW1lPWF0dHJpYnV0ZS5uYW1lO31hcnJheS5wdXNoKGF0dHJpYnV0ZURhdGEpO31pZihhcnJheS5sZW5ndGg+MCl7bW9ycGhBdHRyaWJ1dGVzW2tleV09YXJyYXk7aGFzTW9ycGhBdHRyaWJ1dGVzPXRydWU7fX1pZihoYXNNb3JwaEF0dHJpYnV0ZXMpe2RhdGEuZGF0YS5tb3JwaEF0dHJpYnV0ZXM9bW9ycGhBdHRyaWJ1dGVzO2RhdGEuZGF0YS5tb3JwaFRhcmdldHNSZWxhdGl2ZT10aGlzLm1vcnBoVGFyZ2V0c1JlbGF0aXZlO312YXIgZ3JvdXBzPXRoaXMuZ3JvdXBzO2lmKGdyb3Vwcy5sZW5ndGg+MCl7ZGF0YS5kYXRhLmdyb3Vwcz1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGdyb3VwcykpO312YXIgYm91bmRpbmdTcGhlcmU9dGhpcy5ib3VuZGluZ1NwaGVyZTtpZihib3VuZGluZ1NwaGVyZSE9PW51bGwpe2RhdGEuZGF0YS5ib3VuZGluZ1NwaGVyZT17Y2VudGVyOmJvdW5kaW5nU3BoZXJlLmNlbnRlci50b0FycmF5KCkscmFkaXVzOmJvdW5kaW5nU3BoZXJlLnJhZGl1c307fXJldHVybiBkYXRhO30sY2xvbmU6ZnVuY3Rpb24gY2xvbmUoKXsvKgogICAgICAgLy8gSGFuZGxlIHByaW1pdGl2ZXMKCiAgICAgICB2YXIgcGFyYW1ldGVycyA9IHRoaXMucGFyYW1ldGVyczsKCiAgICAgICBpZiAoIHBhcmFtZXRlcnMgIT09IHVuZGVmaW5lZCApIHsKCiAgICAgICB2YXIgdmFsdWVzID0gW107CgogICAgICAgZm9yICggdmFyIGtleSBpbiBwYXJhbWV0ZXJzICkgewoKICAgICAgIHZhbHVlcy5wdXNoKCBwYXJhbWV0ZXJzWyBrZXkgXSApOwoKICAgICAgIH0KCiAgICAgICB2YXIgZ2VvbWV0cnkgPSBPYmplY3QuY3JlYXRlKCB0aGlzLmNvbnN0cnVjdG9yLnByb3RvdHlwZSApOwogICAgICAgdGhpcy5jb25zdHJ1Y3Rvci5hcHBseSggZ2VvbWV0cnksIHZhbHVlcyApOwogICAgICAgcmV0dXJuIGdlb21ldHJ5OwoKICAgICAgIH0KCiAgICAgICByZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoKS5jb3B5KCB0aGlzICk7CiAgICAgICAqL3JldHVybiBuZXcgQnVmZmVyR2VvbWV0cnkoKS5jb3B5KHRoaXMpO30sY29weTpmdW5jdGlvbiBjb3B5KHNvdXJjZSl7dmFyIG5hbWUsaSxsOy8vIHJlc2V0CnRoaXMuaW5kZXg9bnVsbDt0aGlzLmF0dHJpYnV0ZXM9e307dGhpcy5tb3JwaEF0dHJpYnV0ZXM9e307dGhpcy5ncm91cHM9W107dGhpcy5ib3VuZGluZ0JveD1udWxsO3RoaXMuYm91bmRpbmdTcGhlcmU9bnVsbDsvLyBuYW1lCnRoaXMubmFtZT1zb3VyY2UubmFtZTsvLyBpbmRleAp2YXIgaW5kZXg9c291cmNlLmluZGV4O2lmKGluZGV4IT09bnVsbCl7dGhpcy5zZXRJbmRleChpbmRleC5jbG9uZSgpKTt9Ly8gYXR0cmlidXRlcwp2YXIgYXR0cmlidXRlcz1zb3VyY2UuYXR0cmlidXRlcztmb3IobmFtZSBpbiBhdHRyaWJ1dGVzKXt2YXIgYXR0cmlidXRlPWF0dHJpYnV0ZXNbbmFtZV07dGhpcy5zZXRBdHRyaWJ1dGUobmFtZSxhdHRyaWJ1dGUuY2xvbmUoKSk7fS8vIG1vcnBoIGF0dHJpYnV0ZXMKdmFyIG1vcnBoQXR0cmlidXRlcz1zb3VyY2UubW9ycGhBdHRyaWJ1dGVzO2ZvcihuYW1lIGluIG1vcnBoQXR0cmlidXRlcyl7dmFyIGFycmF5PVtdO3ZhciBtb3JwaEF0dHJpYnV0ZT1tb3JwaEF0dHJpYnV0ZXNbbmFtZV07Ly8gbW9ycGhBdHRyaWJ1dGU6IGFycmF5IG9mIEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGVzCmZvcihpPTAsbD1tb3JwaEF0dHJpYnV0ZS5sZW5ndGg7aTxsO2krKyl7YXJyYXkucHVzaChtb3JwaEF0dHJpYnV0ZVtpXS5jbG9uZSgpKTt9dGhpcy5tb3JwaEF0dHJpYnV0ZXNbbmFtZV09YXJyYXk7fXRoaXMubW9ycGhUYXJnZXRzUmVsYXRpdmU9c291cmNlLm1vcnBoVGFyZ2V0c1JlbGF0aXZlOy8vIGdyb3Vwcwp2YXIgZ3JvdXBzPXNvdXJjZS5ncm91cHM7Zm9yKGk9MCxsPWdyb3Vwcy5sZW5ndGg7aTxsO2krKyl7dmFyIGdyb3VwPWdyb3Vwc1tpXTt0aGlzLmFkZEdyb3VwKGdyb3VwLnN0YXJ0LGdyb3VwLmNvdW50LGdyb3VwLm1hdGVyaWFsSW5kZXgpO30vLyBib3VuZGluZyBib3gKdmFyIGJvdW5kaW5nQm94PXNvdXJjZS5ib3VuZGluZ0JveDtpZihib3VuZGluZ0JveCE9PW51bGwpe3RoaXMuYm91bmRpbmdCb3g9Ym91bmRpbmdCb3guY2xvbmUoKTt9Ly8gYm91bmRpbmcgc3BoZXJlCnZhciBib3VuZGluZ1NwaGVyZT1zb3VyY2UuYm91bmRpbmdTcGhlcmU7aWYoYm91bmRpbmdTcGhlcmUhPT1udWxsKXt0aGlzLmJvdW5kaW5nU3BoZXJlPWJvdW5kaW5nU3BoZXJlLmNsb25lKCk7fS8vIGRyYXcgcmFuZ2UKdGhpcy5kcmF3UmFuZ2Uuc3RhcnQ9c291cmNlLmRyYXdSYW5nZS5zdGFydDt0aGlzLmRyYXdSYW5nZS5jb3VudD1zb3VyY2UuZHJhd1JhbmdlLmNvdW50Oy8vIHVzZXIgZGF0YQp0aGlzLnVzZXJEYXRhPXNvdXJjZS51c2VyRGF0YTtyZXR1cm4gdGhpczt9LGRpc3Bvc2U6ZnVuY3Rpb24gZGlzcG9zZSgpe3RoaXMuZGlzcGF0Y2hFdmVudCh7dHlwZTonZGlzcG9zZSd9KTt9fSk7LyoqCiAgICogQGF1dGhvciBtcmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS8KICAgKiBAYXV0aG9yIGFsdGVyZWRxIC8gaHR0cDovL2FsdGVyZWRxdWFsaWEuY29tLwogICAqIEBhdXRob3IgbWlrYWVsIGVtdGluZ2VyIC8gaHR0cDovL2dvbW8uc2UvCiAgICogQGF1dGhvciBqb25vYnIxIC8gaHR0cDovL2pvbm9icjEuY29tLwogICAqL3ZhciBfaW52ZXJzZU1hdHJpeD1uZXcgTWF0cml4NCgpO3ZhciBfcmF5PW5ldyBSYXkoKTt2YXIgX3NwaGVyZT1uZXcgU3BoZXJlKCk7dmFyIF92QT1uZXcgVmVjdG9yMygpO3ZhciBfdkI9bmV3IFZlY3RvcjMoKTt2YXIgX3ZDPW5ldyBWZWN0b3IzKCk7dmFyIF90ZW1wQT1uZXcgVmVjdG9yMygpO3ZhciBfdGVtcEI9bmV3IFZlY3RvcjMoKTt2YXIgX3RlbXBDPW5ldyBWZWN0b3IzKCk7dmFyIF9tb3JwaEE9bmV3IFZlY3RvcjMoKTt2YXIgX21vcnBoQj1uZXcgVmVjdG9yMygpO3ZhciBfbW9ycGhDPW5ldyBWZWN0b3IzKCk7dmFyIF91dkE9bmV3IFZlY3RvcjIoKTt2YXIgX3V2Qj1uZXcgVmVjdG9yMigpO3ZhciBfdXZDPW5ldyBWZWN0b3IyKCk7dmFyIF9pbnRlcnNlY3Rpb25Qb2ludD1uZXcgVmVjdG9yMygpO3ZhciBfaW50ZXJzZWN0aW9uUG9pbnRXb3JsZD1uZXcgVmVjdG9yMygpO2Z1bmN0aW9uIE1lc2goZ2VvbWV0cnksbWF0ZXJpYWwpe09iamVjdDNELmNhbGwodGhpcyk7dGhpcy50eXBlPSdNZXNoJzt0aGlzLmdlb21ldHJ5PWdlb21ldHJ5IT09dW5kZWZpbmVkP2dlb21ldHJ5Om5ldyBCdWZmZXJHZW9tZXRyeSgpO3RoaXMubWF0ZXJpYWw9bWF0ZXJpYWwhPT11bmRlZmluZWQ/bWF0ZXJpYWw6bmV3IE1lc2hCYXNpY01hdGVyaWFsKHtjb2xvcjpNYXRoLnJhbmRvbSgpKjB4ZmZmZmZmfSk7dGhpcy51cGRhdGVNb3JwaFRhcmdldHMoKTt9TWVzaC5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKE9iamVjdDNELnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOk1lc2gsaXNNZXNoOnRydWUsY29weTpmdW5jdGlvbiBjb3B5KHNvdXJjZSl7T2JqZWN0M0QucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHNvdXJjZSk7aWYoc291cmNlLm1vcnBoVGFyZ2V0SW5mbHVlbmNlcyE9PXVuZGVmaW5lZCl7dGhpcy5tb3JwaFRhcmdldEluZmx1ZW5jZXM9c291cmNlLm1vcnBoVGFyZ2V0SW5mbHVlbmNlcy5zbGljZSgpO31pZihzb3VyY2UubW9ycGhUYXJnZXREaWN0aW9uYXJ5IT09dW5kZWZpbmVkKXt0aGlzLm1vcnBoVGFyZ2V0RGljdGlvbmFyeT1PYmplY3QuYXNzaWduKHt9LHNvdXJjZS5tb3JwaFRhcmdldERpY3Rpb25hcnkpO31yZXR1cm4gdGhpczt9LHVwZGF0ZU1vcnBoVGFyZ2V0czpmdW5jdGlvbiB1cGRhdGVNb3JwaFRhcmdldHMoKXt2YXIgZ2VvbWV0cnk9dGhpcy5nZW9tZXRyeTt2YXIgbSxtbCxuYW1lO2lmKGdlb21ldHJ5LmlzQnVmZmVyR2VvbWV0cnkpe3ZhciBtb3JwaEF0dHJpYnV0ZXM9Z2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzO3ZhciBrZXlzPU9iamVjdC5rZXlzKG1vcnBoQXR0cmlidXRlcyk7aWYoa2V5cy5sZW5ndGg+MCl7dmFyIG1vcnBoQXR0cmlidXRlPW1vcnBoQXR0cmlidXRlc1trZXlzWzBdXTtpZihtb3JwaEF0dHJpYnV0ZSE9PXVuZGVmaW5lZCl7dGhpcy5tb3JwaFRhcmdldEluZmx1ZW5jZXM9W107dGhpcy5tb3JwaFRhcmdldERpY3Rpb25hcnk9e307Zm9yKG09MCxtbD1tb3JwaEF0dHJpYnV0ZS5sZW5ndGg7bTxtbDttKyspe25hbWU9bW9ycGhBdHRyaWJ1dGVbbV0ubmFtZXx8U3RyaW5nKG0pO3RoaXMubW9ycGhUYXJnZXRJbmZsdWVuY2VzLnB1c2goMCk7dGhpcy5tb3JwaFRhcmdldERpY3Rpb25hcnlbbmFtZV09bTt9fX19ZWxzZXt2YXIgbW9ycGhUYXJnZXRzPWdlb21ldHJ5Lm1vcnBoVGFyZ2V0cztpZihtb3JwaFRhcmdldHMhPT11bmRlZmluZWQmJm1vcnBoVGFyZ2V0cy5sZW5ndGg+MCl7Y29uc29sZS5lcnJvcignVEhSRUUuTWVzaC51cGRhdGVNb3JwaFRhcmdldHMoKSBubyBsb25nZXIgc3VwcG9ydHMgVEhSRUUuR2VvbWV0cnkuIFVzZSBUSFJFRS5CdWZmZXJHZW9tZXRyeSBpbnN0ZWFkLicpO319fSxyYXljYXN0OmZ1bmN0aW9uIHJheWNhc3QocmF5Y2FzdGVyLGludGVyc2VjdHMpe3ZhciBnZW9tZXRyeT10aGlzLmdlb21ldHJ5O3ZhciBtYXRlcmlhbD10aGlzLm1hdGVyaWFsO3ZhciBtYXRyaXhXb3JsZD10aGlzLm1hdHJpeFdvcmxkO2lmKG1hdGVyaWFsPT09dW5kZWZpbmVkKXtyZXR1cm47fS8vIENoZWNraW5nIGJvdW5kaW5nU3BoZXJlIGRpc3RhbmNlIHRvIHJheQppZihnZW9tZXRyeS5ib3VuZGluZ1NwaGVyZT09PW51bGwpe2dlb21ldHJ5LmNvbXB1dGVCb3VuZGluZ1NwaGVyZSgpO31fc3BoZXJlLmNvcHkoZ2VvbWV0cnkuYm91bmRpbmdTcGhlcmUpO19zcGhlcmUuYXBwbHlNYXRyaXg0KG1hdHJpeFdvcmxkKTtpZihyYXljYXN0ZXIucmF5LmludGVyc2VjdHNTcGhlcmUoX3NwaGVyZSk9PT1mYWxzZSl7cmV0dXJuO30vLwpfaW52ZXJzZU1hdHJpeC5nZXRJbnZlcnNlKG1hdHJpeFdvcmxkKTtfcmF5LmNvcHkocmF5Y2FzdGVyLnJheSkuYXBwbHlNYXRyaXg0KF9pbnZlcnNlTWF0cml4KTsvLyBDaGVjayBib3VuZGluZ0JveCBiZWZvcmUgY29udGludWluZwppZihnZW9tZXRyeS5ib3VuZGluZ0JveCE9PW51bGwpe2lmKF9yYXkuaW50ZXJzZWN0c0JveChnZW9tZXRyeS5ib3VuZGluZ0JveCk9PT1mYWxzZSl7cmV0dXJuO319dmFyIGludGVyc2VjdGlvbjtpZihnZW9tZXRyeS5pc0J1ZmZlckdlb21ldHJ5KXt2YXIgYSxiLGM7dmFyIGluZGV4PWdlb21ldHJ5LmluZGV4O3ZhciBwb3NpdGlvbj1nZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uO3ZhciBtb3JwaFBvc2l0aW9uPWdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlcy5wb3NpdGlvbjt2YXIgbW9ycGhUYXJnZXRzUmVsYXRpdmU9Z2VvbWV0cnkubW9ycGhUYXJnZXRzUmVsYXRpdmU7dmFyIHV2PWdlb21ldHJ5LmF0dHJpYnV0ZXMudXY7dmFyIHV2Mj1nZW9tZXRyeS5hdHRyaWJ1dGVzLnV2Mjt2YXIgZ3JvdXBzPWdlb21ldHJ5Lmdyb3Vwczt2YXIgZHJhd1JhbmdlPWdlb21ldHJ5LmRyYXdSYW5nZTt2YXIgaSxqLGlsLGpsO3ZhciBncm91cCxncm91cE1hdGVyaWFsO3ZhciBzdGFydCxlbmQ7aWYoaW5kZXghPT1udWxsKXsvLyBpbmRleGVkIGJ1ZmZlciBnZW9tZXRyeQppZihBcnJheS5pc0FycmF5KG1hdGVyaWFsKSl7Zm9yKGk9MCxpbD1ncm91cHMubGVuZ3RoO2k8aWw7aSsrKXtncm91cD1ncm91cHNbaV07Z3JvdXBNYXRlcmlhbD1tYXRlcmlhbFtncm91cC5tYXRlcmlhbEluZGV4XTtzdGFydD1NYXRoLm1heChncm91cC5zdGFydCxkcmF3UmFuZ2Uuc3RhcnQpO2VuZD1NYXRoLm1pbihncm91cC5zdGFydCtncm91cC5jb3VudCxkcmF3UmFuZ2Uuc3RhcnQrZHJhd1JhbmdlLmNvdW50KTtmb3Ioaj1zdGFydCxqbD1lbmQ7ajxqbDtqKz0zKXthPWluZGV4LmdldFgoaik7Yj1pbmRleC5nZXRYKGorMSk7Yz1pbmRleC5nZXRYKGorMik7aW50ZXJzZWN0aW9uPWNoZWNrQnVmZmVyR2VvbWV0cnlJbnRlcnNlY3Rpb24odGhpcyxncm91cE1hdGVyaWFsLHJheWNhc3RlcixfcmF5LHBvc2l0aW9uLG1vcnBoUG9zaXRpb24sbW9ycGhUYXJnZXRzUmVsYXRpdmUsdXYsdXYyLGEsYixjKTtpZihpbnRlcnNlY3Rpb24pe2ludGVyc2VjdGlvbi5mYWNlSW5kZXg9TWF0aC5mbG9vcihqLzMpOy8vIHRyaWFuZ2xlIG51bWJlciBpbiBpbmRleGVkIGJ1ZmZlciBzZW1hbnRpY3MKaW50ZXJzZWN0aW9uLmZhY2UubWF0ZXJpYWxJbmRleD1ncm91cC5tYXRlcmlhbEluZGV4O2ludGVyc2VjdHMucHVzaChpbnRlcnNlY3Rpb24pO319fX1lbHNle3N0YXJ0PU1hdGgubWF4KDAsZHJhd1JhbmdlLnN0YXJ0KTtlbmQ9TWF0aC5taW4oaW5kZXguY291bnQsZHJhd1JhbmdlLnN0YXJ0K2RyYXdSYW5nZS5jb3VudCk7Zm9yKGk9c3RhcnQsaWw9ZW5kO2k8aWw7aSs9Myl7YT1pbmRleC5nZXRYKGkpO2I9aW5kZXguZ2V0WChpKzEpO2M9aW5kZXguZ2V0WChpKzIpO2ludGVyc2VjdGlvbj1jaGVja0J1ZmZlckdlb21ldHJ5SW50ZXJzZWN0aW9uKHRoaXMsbWF0ZXJpYWwscmF5Y2FzdGVyLF9yYXkscG9zaXRpb24sbW9ycGhQb3NpdGlvbixtb3JwaFRhcmdldHNSZWxhdGl2ZSx1dix1djIsYSxiLGMpO2lmKGludGVyc2VjdGlvbil7aW50ZXJzZWN0aW9uLmZhY2VJbmRleD1NYXRoLmZsb29yKGkvMyk7Ly8gdHJpYW5nbGUgbnVtYmVyIGluIGluZGV4ZWQgYnVmZmVyIHNlbWFudGljcwppbnRlcnNlY3RzLnB1c2goaW50ZXJzZWN0aW9uKTt9fX19ZWxzZSBpZihwb3NpdGlvbiE9PXVuZGVmaW5lZCl7Ly8gbm9uLWluZGV4ZWQgYnVmZmVyIGdlb21ldHJ5CmlmKEFycmF5LmlzQXJyYXkobWF0ZXJpYWwpKXtmb3IoaT0wLGlsPWdyb3Vwcy5sZW5ndGg7aTxpbDtpKyspe2dyb3VwPWdyb3Vwc1tpXTtncm91cE1hdGVyaWFsPW1hdGVyaWFsW2dyb3VwLm1hdGVyaWFsSW5kZXhdO3N0YXJ0PU1hdGgubWF4KGdyb3VwLnN0YXJ0LGRyYXdSYW5nZS5zdGFydCk7ZW5kPU1hdGgubWluKGdyb3VwLnN0YXJ0K2dyb3VwLmNvdW50LGRyYXdSYW5nZS5zdGFydCtkcmF3UmFuZ2UuY291bnQpO2ZvcihqPXN0YXJ0LGpsPWVuZDtqPGpsO2orPTMpe2E9ajtiPWorMTtjPWorMjtpbnRlcnNlY3Rpb249Y2hlY2tCdWZmZXJHZW9tZXRyeUludGVyc2VjdGlvbih0aGlzLGdyb3VwTWF0ZXJpYWwscmF5Y2FzdGVyLF9yYXkscG9zaXRpb24sbW9ycGhQb3NpdGlvbixtb3JwaFRhcmdldHNSZWxhdGl2ZSx1dix1djIsYSxiLGMpO2lmKGludGVyc2VjdGlvbil7aW50ZXJzZWN0aW9uLmZhY2VJbmRleD1NYXRoLmZsb29yKGovMyk7Ly8gdHJpYW5nbGUgbnVtYmVyIGluIG5vbi1pbmRleGVkIGJ1ZmZlciBzZW1hbnRpY3MKaW50ZXJzZWN0aW9uLmZhY2UubWF0ZXJpYWxJbmRleD1ncm91cC5tYXRlcmlhbEluZGV4O2ludGVyc2VjdHMucHVzaChpbnRlcnNlY3Rpb24pO319fX1lbHNle3N0YXJ0PU1hdGgubWF4KDAsZHJhd1JhbmdlLnN0YXJ0KTtlbmQ9TWF0aC5taW4ocG9zaXRpb24uY291bnQsZHJhd1JhbmdlLnN0YXJ0K2RyYXdSYW5nZS5jb3VudCk7Zm9yKGk9c3RhcnQsaWw9ZW5kO2k8aWw7aSs9Myl7YT1pO2I9aSsxO2M9aSsyO2ludGVyc2VjdGlvbj1jaGVja0J1ZmZlckdlb21ldHJ5SW50ZXJzZWN0aW9uKHRoaXMsbWF0ZXJpYWwscmF5Y2FzdGVyLF9yYXkscG9zaXRpb24sbW9ycGhQb3NpdGlvbixtb3JwaFRhcmdldHNSZWxhdGl2ZSx1dix1djIsYSxiLGMpO2lmKGludGVyc2VjdGlvbil7aW50ZXJzZWN0aW9uLmZhY2VJbmRleD1NYXRoLmZsb29yKGkvMyk7Ly8gdHJpYW5nbGUgbnVtYmVyIGluIG5vbi1pbmRleGVkIGJ1ZmZlciBzZW1hbnRpY3MKaW50ZXJzZWN0cy5wdXNoKGludGVyc2VjdGlvbik7fX19fX1lbHNlIGlmKGdlb21ldHJ5LmlzR2VvbWV0cnkpe3ZhciBmdkEsZnZCLGZ2Qzt2YXIgaXNNdWx0aU1hdGVyaWFsPUFycmF5LmlzQXJyYXkobWF0ZXJpYWwpO3ZhciB2ZXJ0aWNlcz1nZW9tZXRyeS52ZXJ0aWNlczt2YXIgZmFjZXM9Z2VvbWV0cnkuZmFjZXM7dmFyIHV2czt2YXIgZmFjZVZlcnRleFV2cz1nZW9tZXRyeS5mYWNlVmVydGV4VXZzWzBdO2lmKGZhY2VWZXJ0ZXhVdnMubGVuZ3RoPjApe3V2cz1mYWNlVmVydGV4VXZzO31mb3IodmFyIGY9MCxmbD1mYWNlcy5sZW5ndGg7ZjxmbDtmKyspe3ZhciBmYWNlPWZhY2VzW2ZdO3ZhciBmYWNlTWF0ZXJpYWw9aXNNdWx0aU1hdGVyaWFsP21hdGVyaWFsW2ZhY2UubWF0ZXJpYWxJbmRleF06bWF0ZXJpYWw7aWYoZmFjZU1hdGVyaWFsPT09dW5kZWZpbmVkKXtjb250aW51ZTt9ZnZBPXZlcnRpY2VzW2ZhY2UuYV07ZnZCPXZlcnRpY2VzW2ZhY2UuYl07ZnZDPXZlcnRpY2VzW2ZhY2UuY107aW50ZXJzZWN0aW9uPWNoZWNrSW50ZXJzZWN0aW9uKHRoaXMsZmFjZU1hdGVyaWFsLHJheWNhc3RlcixfcmF5LGZ2QSxmdkIsZnZDLF9pbnRlcnNlY3Rpb25Qb2ludCk7aWYoaW50ZXJzZWN0aW9uKXtpZih1dnMmJnV2c1tmXSl7dmFyIHV2c19mPXV2c1tmXTtfdXZBLmNvcHkodXZzX2ZbMF0pO191dkIuY29weSh1dnNfZlsxXSk7X3V2Qy5jb3B5KHV2c19mWzJdKTtpbnRlcnNlY3Rpb24udXY9VHJpYW5nbGUuZ2V0VVYoX2ludGVyc2VjdGlvblBvaW50LGZ2QSxmdkIsZnZDLF91dkEsX3V2QixfdXZDLG5ldyBWZWN0b3IyKCkpO31pbnRlcnNlY3Rpb24uZmFjZT1mYWNlO2ludGVyc2VjdGlvbi5mYWNlSW5kZXg9ZjtpbnRlcnNlY3RzLnB1c2goaW50ZXJzZWN0aW9uKTt9fX19LGNsb25lOmZ1bmN0aW9uIGNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuZ2VvbWV0cnksdGhpcy5tYXRlcmlhbCkuY29weSh0aGlzKTt9fSk7ZnVuY3Rpb24gY2hlY2tJbnRlcnNlY3Rpb24ob2JqZWN0LG1hdGVyaWFsLHJheWNhc3RlcixyYXkscEEscEIscEMscG9pbnQpe3ZhciBpbnRlcnNlY3Q7aWYobWF0ZXJpYWwuc2lkZT09PUJhY2tTaWRlKXtpbnRlcnNlY3Q9cmF5LmludGVyc2VjdFRyaWFuZ2xlKHBDLHBCLHBBLHRydWUscG9pbnQpO31lbHNle2ludGVyc2VjdD1yYXkuaW50ZXJzZWN0VHJpYW5nbGUocEEscEIscEMsbWF0ZXJpYWwuc2lkZSE9PURvdWJsZVNpZGUscG9pbnQpO31pZihpbnRlcnNlY3Q9PT1udWxsKXtyZXR1cm4gbnVsbDt9X2ludGVyc2VjdGlvblBvaW50V29ybGQuY29weShwb2ludCk7X2ludGVyc2VjdGlvblBvaW50V29ybGQuYXBwbHlNYXRyaXg0KG9iamVjdC5tYXRyaXhXb3JsZCk7dmFyIGRpc3RhbmNlPXJheWNhc3Rlci5yYXkub3JpZ2luLmRpc3RhbmNlVG8oX2ludGVyc2VjdGlvblBvaW50V29ybGQpO2lmKGRpc3RhbmNlPHJheWNhc3Rlci5uZWFyfHxkaXN0YW5jZT5yYXljYXN0ZXIuZmFyKXtyZXR1cm4gbnVsbDt9cmV0dXJue2Rpc3RhbmNlOmRpc3RhbmNlLHBvaW50Ol9pbnRlcnNlY3Rpb25Qb2ludFdvcmxkLmNsb25lKCksb2JqZWN0Om9iamVjdH07fWZ1bmN0aW9uIGNoZWNrQnVmZmVyR2VvbWV0cnlJbnRlcnNlY3Rpb24ob2JqZWN0LG1hdGVyaWFsLHJheWNhc3RlcixyYXkscG9zaXRpb24sbW9ycGhQb3NpdGlvbixtb3JwaFRhcmdldHNSZWxhdGl2ZSx1dix1djIsYSxiLGMpe192QS5mcm9tQnVmZmVyQXR0cmlidXRlKHBvc2l0aW9uLGEpO192Qi5mcm9tQnVmZmVyQXR0cmlidXRlKHBvc2l0aW9uLGIpO192Qy5mcm9tQnVmZmVyQXR0cmlidXRlKHBvc2l0aW9uLGMpO3ZhciBtb3JwaEluZmx1ZW5jZXM9b2JqZWN0Lm1vcnBoVGFyZ2V0SW5mbHVlbmNlcztpZihtYXRlcmlhbC5tb3JwaFRhcmdldHMmJm1vcnBoUG9zaXRpb24mJm1vcnBoSW5mbHVlbmNlcyl7X21vcnBoQS5zZXQoMCwwLDApO19tb3JwaEIuc2V0KDAsMCwwKTtfbW9ycGhDLnNldCgwLDAsMCk7Zm9yKHZhciBpPTAsaWw9bW9ycGhQb3NpdGlvbi5sZW5ndGg7aTxpbDtpKyspe3ZhciBpbmZsdWVuY2U9bW9ycGhJbmZsdWVuY2VzW2ldO3ZhciBtb3JwaEF0dHJpYnV0ZT1tb3JwaFBvc2l0aW9uW2ldO2lmKGluZmx1ZW5jZT09PTApe2NvbnRpbnVlO31fdGVtcEEuZnJvbUJ1ZmZlckF0dHJpYnV0ZShtb3JwaEF0dHJpYnV0ZSxhKTtfdGVtcEIuZnJvbUJ1ZmZlckF0dHJpYnV0ZShtb3JwaEF0dHJpYnV0ZSxiKTtfdGVtcEMuZnJvbUJ1ZmZlckF0dHJpYnV0ZShtb3JwaEF0dHJpYnV0ZSxjKTtpZihtb3JwaFRhcmdldHNSZWxhdGl2ZSl7X21vcnBoQS5hZGRTY2FsZWRWZWN0b3IoX3RlbXBBLGluZmx1ZW5jZSk7X21vcnBoQi5hZGRTY2FsZWRWZWN0b3IoX3RlbXBCLGluZmx1ZW5jZSk7X21vcnBoQy5hZGRTY2FsZWRWZWN0b3IoX3RlbXBDLGluZmx1ZW5jZSk7fWVsc2V7X21vcnBoQS5hZGRTY2FsZWRWZWN0b3IoX3RlbXBBLnN1YihfdkEpLGluZmx1ZW5jZSk7X21vcnBoQi5hZGRTY2FsZWRWZWN0b3IoX3RlbXBCLnN1YihfdkIpLGluZmx1ZW5jZSk7X21vcnBoQy5hZGRTY2FsZWRWZWN0b3IoX3RlbXBDLnN1YihfdkMpLGluZmx1ZW5jZSk7fX1fdkEuYWRkKF9tb3JwaEEpO192Qi5hZGQoX21vcnBoQik7X3ZDLmFkZChfbW9ycGhDKTt9dmFyIGludGVyc2VjdGlvbj1jaGVja0ludGVyc2VjdGlvbihvYmplY3QsbWF0ZXJpYWwscmF5Y2FzdGVyLHJheSxfdkEsX3ZCLF92QyxfaW50ZXJzZWN0aW9uUG9pbnQpO2lmKGludGVyc2VjdGlvbil7aWYodXYpe191dkEuZnJvbUJ1ZmZlckF0dHJpYnV0ZSh1dixhKTtfdXZCLmZyb21CdWZmZXJBdHRyaWJ1dGUodXYsYik7X3V2Qy5mcm9tQnVmZmVyQXR0cmlidXRlKHV2LGMpO2ludGVyc2VjdGlvbi51dj1UcmlhbmdsZS5nZXRVVihfaW50ZXJzZWN0aW9uUG9pbnQsX3ZBLF92QixfdkMsX3V2QSxfdXZCLF91dkMsbmV3IFZlY3RvcjIoKSk7fWlmKHV2Mil7X3V2QS5mcm9tQnVmZmVyQXR0cmlidXRlKHV2MixhKTtfdXZCLmZyb21CdWZmZXJBdHRyaWJ1dGUodXYyLGIpO191dkMuZnJvbUJ1ZmZlckF0dHJpYnV0ZSh1djIsYyk7aW50ZXJzZWN0aW9uLnV2Mj1UcmlhbmdsZS5nZXRVVihfaW50ZXJzZWN0aW9uUG9pbnQsX3ZBLF92QixfdkMsX3V2QSxfdXZCLF91dkMsbmV3IFZlY3RvcjIoKSk7fXZhciBmYWNlPW5ldyBGYWNlMyhhLGIsYyk7VHJpYW5nbGUuZ2V0Tm9ybWFsKF92QSxfdkIsX3ZDLGZhY2Uubm9ybWFsKTtpbnRlcnNlY3Rpb24uZmFjZT1mYWNlO31yZXR1cm4gaW50ZXJzZWN0aW9uO30vKioKICAgKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tLwogICAqIEBhdXRob3Iga2lsZSAvIGh0dHA6Ly9raWxlLnN0cmF2YWdhbnphLm9yZy8KICAgKiBAYXV0aG9yIGFsdGVyZWRxIC8gaHR0cDovL2FsdGVyZWRxdWFsaWEuY29tLwogICAqIEBhdXRob3IgbWlrYWVsIGVtdGluZ2VyIC8gaHR0cDovL2dvbW8uc2UvCiAgICogQGF1dGhvciB6ejg1IC8gaHR0cDovL3d3dy5sYWI0Z2FtZXMubmV0L3p6ODUvYmxvZwogICAqIEBhdXRob3IgYmhvdXN0b24gLyBodHRwOi8vY2xhcmEuaW8KICAgKi92YXIgX2dlb21ldHJ5SWQ9MDsvLyBHZW9tZXRyeSB1c2VzIGV2ZW4gbnVtYmVycyBhcyBJZAp2YXIgX20xJDM9bmV3IE1hdHJpeDQoKTt2YXIgX29iaiQxPW5ldyBPYmplY3QzRCgpO3ZhciBfb2Zmc2V0JDE9bmV3IFZlY3RvcjMoKTtmdW5jdGlvbiBHZW9tZXRyeSgpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCdpZCcse3ZhbHVlOl9nZW9tZXRyeUlkKz0yfSk7dGhpcy51dWlkPV9NYXRoLmdlbmVyYXRlVVVJRCgpO3RoaXMubmFtZT0nJzt0aGlzLnR5cGU9J0dlb21ldHJ5Jzt0aGlzLnZlcnRpY2VzPVtdO3RoaXMuY29sb3JzPVtdO3RoaXMuZmFjZXM9W107dGhpcy5mYWNlVmVydGV4VXZzPVtbXV07dGhpcy5tb3JwaFRhcmdldHM9W107dGhpcy5tb3JwaE5vcm1hbHM9W107dGhpcy5za2luV2VpZ2h0cz1bXTt0aGlzLnNraW5JbmRpY2VzPVtdO3RoaXMubGluZURpc3RhbmNlcz1bXTt0aGlzLmJvdW5kaW5nQm94PW51bGw7dGhpcy5ib3VuZGluZ1NwaGVyZT1udWxsOy8vIHVwZGF0ZSBmbGFncwp0aGlzLmVsZW1lbnRzTmVlZFVwZGF0ZT1mYWxzZTt0aGlzLnZlcnRpY2VzTmVlZFVwZGF0ZT1mYWxzZTt0aGlzLnV2c05lZWRVcGRhdGU9ZmFsc2U7dGhpcy5ub3JtYWxzTmVlZFVwZGF0ZT1mYWxzZTt0aGlzLmNvbG9yc05lZWRVcGRhdGU9ZmFsc2U7dGhpcy5saW5lRGlzdGFuY2VzTmVlZFVwZGF0ZT1mYWxzZTt0aGlzLmdyb3Vwc05lZWRVcGRhdGU9ZmFsc2U7fUdlb21ldHJ5LnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoRXZlbnREaXNwYXRjaGVyLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOkdlb21ldHJ5LGlzR2VvbWV0cnk6dHJ1ZSxhcHBseU1hdHJpeDpmdW5jdGlvbiBhcHBseU1hdHJpeChtYXRyaXgpe3ZhciBub3JtYWxNYXRyaXg9bmV3IE1hdHJpeDMoKS5nZXROb3JtYWxNYXRyaXgobWF0cml4KTtmb3IodmFyIGk9MCxpbD10aGlzLnZlcnRpY2VzLmxlbmd0aDtpPGlsO2krKyl7dmFyIHZlcnRleD10aGlzLnZlcnRpY2VzW2ldO3ZlcnRleC5hcHBseU1hdHJpeDQobWF0cml4KTt9Zm9yKHZhciBpPTAsaWw9dGhpcy5mYWNlcy5sZW5ndGg7aTxpbDtpKyspe3ZhciBmYWNlPXRoaXMuZmFjZXNbaV07ZmFjZS5ub3JtYWwuYXBwbHlNYXRyaXgzKG5vcm1hbE1hdHJpeCkubm9ybWFsaXplKCk7Zm9yKHZhciBqPTAsamw9ZmFjZS52ZXJ0ZXhOb3JtYWxzLmxlbmd0aDtqPGpsO2orKyl7ZmFjZS52ZXJ0ZXhOb3JtYWxzW2pdLmFwcGx5TWF0cml4Myhub3JtYWxNYXRyaXgpLm5vcm1hbGl6ZSgpO319aWYodGhpcy5ib3VuZGluZ0JveCE9PW51bGwpe3RoaXMuY29tcHV0ZUJvdW5kaW5nQm94KCk7fWlmKHRoaXMuYm91bmRpbmdTcGhlcmUhPT1udWxsKXt0aGlzLmNvbXB1dGVCb3VuZGluZ1NwaGVyZSgpO310aGlzLnZlcnRpY2VzTmVlZFVwZGF0ZT10cnVlO3RoaXMubm9ybWFsc05lZWRVcGRhdGU9dHJ1ZTtyZXR1cm4gdGhpczt9LHJvdGF0ZVg6ZnVuY3Rpb24gcm90YXRlWChhbmdsZSl7Ly8gcm90YXRlIGdlb21ldHJ5IGFyb3VuZCB3b3JsZCB4LWF4aXMKX20xJDMubWFrZVJvdGF0aW9uWChhbmdsZSk7dGhpcy5hcHBseU1hdHJpeChfbTEkMyk7cmV0dXJuIHRoaXM7fSxyb3RhdGVZOmZ1bmN0aW9uIHJvdGF0ZVkoYW5nbGUpey8vIHJvdGF0ZSBnZW9tZXRyeSBhcm91bmQgd29ybGQgeS1heGlzCl9tMSQzLm1ha2VSb3RhdGlvblkoYW5nbGUpO3RoaXMuYXBwbHlNYXRyaXgoX20xJDMpO3JldHVybiB0aGlzO30scm90YXRlWjpmdW5jdGlvbiByb3RhdGVaKGFuZ2xlKXsvLyByb3RhdGUgZ2VvbWV0cnkgYXJvdW5kIHdvcmxkIHotYXhpcwpfbTEkMy5tYWtlUm90YXRpb25aKGFuZ2xlKTt0aGlzLmFwcGx5TWF0cml4KF9tMSQzKTtyZXR1cm4gdGhpczt9LHRyYW5zbGF0ZTpmdW5jdGlvbiB0cmFuc2xhdGUoeCx5LHopey8vIHRyYW5zbGF0ZSBnZW9tZXRyeQpfbTEkMy5tYWtlVHJhbnNsYXRpb24oeCx5LHopO3RoaXMuYXBwbHlNYXRyaXgoX20xJDMpO3JldHVybiB0aGlzO30sc2NhbGU6ZnVuY3Rpb24gc2NhbGUoeCx5LHopey8vIHNjYWxlIGdlb21ldHJ5Cl9tMSQzLm1ha2VTY2FsZSh4LHkseik7dGhpcy5hcHBseU1hdHJpeChfbTEkMyk7cmV0dXJuIHRoaXM7fSxsb29rQXQ6ZnVuY3Rpb24gbG9va0F0KHZlY3Rvcil7X29iaiQxLmxvb2tBdCh2ZWN0b3IpO19vYmokMS51cGRhdGVNYXRyaXgoKTt0aGlzLmFwcGx5TWF0cml4KF9vYmokMS5tYXRyaXgpO3JldHVybiB0aGlzO30sZnJvbUJ1ZmZlckdlb21ldHJ5OmZ1bmN0aW9uIGZyb21CdWZmZXJHZW9tZXRyeShnZW9tZXRyeSl7dmFyIHNjb3BlPXRoaXM7dmFyIGluZGljZXM9Z2VvbWV0cnkuaW5kZXghPT1udWxsP2dlb21ldHJ5LmluZGV4LmFycmF5OnVuZGVmaW5lZDt2YXIgYXR0cmlidXRlcz1nZW9tZXRyeS5hdHRyaWJ1dGVzO2lmKGF0dHJpYnV0ZXMucG9zaXRpb249PT11bmRlZmluZWQpe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLkdlb21ldHJ5LmZyb21CdWZmZXJHZW9tZXRyeSgpOiBQb3NpdGlvbiBhdHRyaWJ1dGUgcmVxdWlyZWQgZm9yIGNvbnZlcnNpb24uJyk7cmV0dXJuIHRoaXM7fXZhciBwb3NpdGlvbnM9YXR0cmlidXRlcy5wb3NpdGlvbi5hcnJheTt2YXIgbm9ybWFscz1hdHRyaWJ1dGVzLm5vcm1hbCE9PXVuZGVmaW5lZD9hdHRyaWJ1dGVzLm5vcm1hbC5hcnJheTp1bmRlZmluZWQ7dmFyIGNvbG9ycz1hdHRyaWJ1dGVzLmNvbG9yIT09dW5kZWZpbmVkP2F0dHJpYnV0ZXMuY29sb3IuYXJyYXk6dW5kZWZpbmVkO3ZhciB1dnM9YXR0cmlidXRlcy51diE9PXVuZGVmaW5lZD9hdHRyaWJ1dGVzLnV2LmFycmF5OnVuZGVmaW5lZDt2YXIgdXZzMj1hdHRyaWJ1dGVzLnV2MiE9PXVuZGVmaW5lZD9hdHRyaWJ1dGVzLnV2Mi5hcnJheTp1bmRlZmluZWQ7aWYodXZzMiE9PXVuZGVmaW5lZCl7dGhpcy5mYWNlVmVydGV4VXZzWzFdPVtdO31mb3IodmFyIGk9MDtpPHBvc2l0aW9ucy5sZW5ndGg7aSs9Myl7c2NvcGUudmVydGljZXMucHVzaChuZXcgVmVjdG9yMygpLmZyb21BcnJheShwb3NpdGlvbnMsaSkpO2lmKGNvbG9ycyE9PXVuZGVmaW5lZCl7c2NvcGUuY29sb3JzLnB1c2gobmV3IENvbG9yKCkuZnJvbUFycmF5KGNvbG9ycyxpKSk7fX1mdW5jdGlvbiBhZGRGYWNlKGEsYixjLG1hdGVyaWFsSW5kZXgpe3ZhciB2ZXJ0ZXhDb2xvcnM9Y29sb3JzPT09dW5kZWZpbmVkP1tdOltzY29wZS5jb2xvcnNbYV0uY2xvbmUoKSxzY29wZS5jb2xvcnNbYl0uY2xvbmUoKSxzY29wZS5jb2xvcnNbY10uY2xvbmUoKV07dmFyIHZlcnRleE5vcm1hbHM9bm9ybWFscz09PXVuZGVmaW5lZD9bXTpbbmV3IFZlY3RvcjMoKS5mcm9tQXJyYXkobm9ybWFscyxhKjMpLG5ldyBWZWN0b3IzKCkuZnJvbUFycmF5KG5vcm1hbHMsYiozKSxuZXcgVmVjdG9yMygpLmZyb21BcnJheShub3JtYWxzLGMqMyldO3ZhciBmYWNlPW5ldyBGYWNlMyhhLGIsYyx2ZXJ0ZXhOb3JtYWxzLHZlcnRleENvbG9ycyxtYXRlcmlhbEluZGV4KTtzY29wZS5mYWNlcy5wdXNoKGZhY2UpO2lmKHV2cyE9PXVuZGVmaW5lZCl7c2NvcGUuZmFjZVZlcnRleFV2c1swXS5wdXNoKFtuZXcgVmVjdG9yMigpLmZyb21BcnJheSh1dnMsYSoyKSxuZXcgVmVjdG9yMigpLmZyb21BcnJheSh1dnMsYioyKSxuZXcgVmVjdG9yMigpLmZyb21BcnJheSh1dnMsYyoyKV0pO31pZih1dnMyIT09dW5kZWZpbmVkKXtzY29wZS5mYWNlVmVydGV4VXZzWzFdLnB1c2goW25ldyBWZWN0b3IyKCkuZnJvbUFycmF5KHV2czIsYSoyKSxuZXcgVmVjdG9yMigpLmZyb21BcnJheSh1dnMyLGIqMiksbmV3IFZlY3RvcjIoKS5mcm9tQXJyYXkodXZzMixjKjIpXSk7fX12YXIgZ3JvdXBzPWdlb21ldHJ5Lmdyb3VwcztpZihncm91cHMubGVuZ3RoPjApe2Zvcih2YXIgaT0wO2k8Z3JvdXBzLmxlbmd0aDtpKyspe3ZhciBncm91cD1ncm91cHNbaV07dmFyIHN0YXJ0PWdyb3VwLnN0YXJ0O3ZhciBjb3VudD1ncm91cC5jb3VudDtmb3IodmFyIGo9c3RhcnQsamw9c3RhcnQrY291bnQ7ajxqbDtqKz0zKXtpZihpbmRpY2VzIT09dW5kZWZpbmVkKXthZGRGYWNlKGluZGljZXNbal0saW5kaWNlc1tqKzFdLGluZGljZXNbaisyXSxncm91cC5tYXRlcmlhbEluZGV4KTt9ZWxzZXthZGRGYWNlKGosaisxLGorMixncm91cC5tYXRlcmlhbEluZGV4KTt9fX19ZWxzZXtpZihpbmRpY2VzIT09dW5kZWZpbmVkKXtmb3IodmFyIGk9MDtpPGluZGljZXMubGVuZ3RoO2krPTMpe2FkZEZhY2UoaW5kaWNlc1tpXSxpbmRpY2VzW2krMV0saW5kaWNlc1tpKzJdKTt9fWVsc2V7Zm9yKHZhciBpPTA7aTxwb3NpdGlvbnMubGVuZ3RoLzM7aSs9Myl7YWRkRmFjZShpLGkrMSxpKzIpO319fXRoaXMuY29tcHV0ZUZhY2VOb3JtYWxzKCk7aWYoZ2VvbWV0cnkuYm91bmRpbmdCb3ghPT1udWxsKXt0aGlzLmJvdW5kaW5nQm94PWdlb21ldHJ5LmJvdW5kaW5nQm94LmNsb25lKCk7fWlmKGdlb21ldHJ5LmJvdW5kaW5nU3BoZXJlIT09bnVsbCl7dGhpcy5ib3VuZGluZ1NwaGVyZT1nZW9tZXRyeS5ib3VuZGluZ1NwaGVyZS5jbG9uZSgpO31yZXR1cm4gdGhpczt9LGNlbnRlcjpmdW5jdGlvbiBjZW50ZXIoKXt0aGlzLmNvbXB1dGVCb3VuZGluZ0JveCgpO3RoaXMuYm91bmRpbmdCb3guZ2V0Q2VudGVyKF9vZmZzZXQkMSkubmVnYXRlKCk7dGhpcy50cmFuc2xhdGUoX29mZnNldCQxLngsX29mZnNldCQxLnksX29mZnNldCQxLnopO3JldHVybiB0aGlzO30sbm9ybWFsaXplOmZ1bmN0aW9uIG5vcm1hbGl6ZSgpe3RoaXMuY29tcHV0ZUJvdW5kaW5nU3BoZXJlKCk7dmFyIGNlbnRlcj10aGlzLmJvdW5kaW5nU3BoZXJlLmNlbnRlcjt2YXIgcmFkaXVzPXRoaXMuYm91bmRpbmdTcGhlcmUucmFkaXVzO3ZhciBzPXJhZGl1cz09PTA/MToxLjAvcmFkaXVzO3ZhciBtYXRyaXg9bmV3IE1hdHJpeDQoKTttYXRyaXguc2V0KHMsMCwwLC1zKmNlbnRlci54LDAscywwLC1zKmNlbnRlci55LDAsMCxzLC1zKmNlbnRlci56LDAsMCwwLDEpO3RoaXMuYXBwbHlNYXRyaXgobWF0cml4KTtyZXR1cm4gdGhpczt9LGNvbXB1dGVGYWNlTm9ybWFsczpmdW5jdGlvbiBjb21wdXRlRmFjZU5vcm1hbHMoKXt2YXIgY2I9bmV3IFZlY3RvcjMoKSxhYj1uZXcgVmVjdG9yMygpO2Zvcih2YXIgZj0wLGZsPXRoaXMuZmFjZXMubGVuZ3RoO2Y8Zmw7ZisrKXt2YXIgZmFjZT10aGlzLmZhY2VzW2ZdO3ZhciB2QT10aGlzLnZlcnRpY2VzW2ZhY2UuYV07dmFyIHZCPXRoaXMudmVydGljZXNbZmFjZS5iXTt2YXIgdkM9dGhpcy52ZXJ0aWNlc1tmYWNlLmNdO2NiLnN1YlZlY3RvcnModkMsdkIpO2FiLnN1YlZlY3RvcnModkEsdkIpO2NiLmNyb3NzKGFiKTtjYi5ub3JtYWxpemUoKTtmYWNlLm5vcm1hbC5jb3B5KGNiKTt9fSxjb21wdXRlVmVydGV4Tm9ybWFsczpmdW5jdGlvbiBjb21wdXRlVmVydGV4Tm9ybWFscyhhcmVhV2VpZ2h0ZWQpe2lmKGFyZWFXZWlnaHRlZD09PXVuZGVmaW5lZCl7YXJlYVdlaWdodGVkPXRydWU7fXZhciB2LHZsLGYsZmwsZmFjZSx2ZXJ0aWNlczt2ZXJ0aWNlcz1uZXcgQXJyYXkodGhpcy52ZXJ0aWNlcy5sZW5ndGgpO2Zvcih2PTAsdmw9dGhpcy52ZXJ0aWNlcy5sZW5ndGg7djx2bDt2Kyspe3ZlcnRpY2VzW3ZdPW5ldyBWZWN0b3IzKCk7fWlmKGFyZWFXZWlnaHRlZCl7Ly8gdmVydGV4IG5vcm1hbHMgd2VpZ2h0ZWQgYnkgdHJpYW5nbGUgYXJlYXMKLy8gaHR0cDovL3d3dy5pcXVpbGV6bGVzLm9yZy93d3cvYXJ0aWNsZXMvbm9ybWFscy9ub3JtYWxzLmh0bQp2YXIgdkEsdkIsdkM7dmFyIGNiPW5ldyBWZWN0b3IzKCksYWI9bmV3IFZlY3RvcjMoKTtmb3IoZj0wLGZsPXRoaXMuZmFjZXMubGVuZ3RoO2Y8Zmw7ZisrKXtmYWNlPXRoaXMuZmFjZXNbZl07dkE9dGhpcy52ZXJ0aWNlc1tmYWNlLmFdO3ZCPXRoaXMudmVydGljZXNbZmFjZS5iXTt2Qz10aGlzLnZlcnRpY2VzW2ZhY2UuY107Y2Iuc3ViVmVjdG9ycyh2Qyx2Qik7YWIuc3ViVmVjdG9ycyh2QSx2Qik7Y2IuY3Jvc3MoYWIpO3ZlcnRpY2VzW2ZhY2UuYV0uYWRkKGNiKTt2ZXJ0aWNlc1tmYWNlLmJdLmFkZChjYik7dmVydGljZXNbZmFjZS5jXS5hZGQoY2IpO319ZWxzZXt0aGlzLmNvbXB1dGVGYWNlTm9ybWFscygpO2ZvcihmPTAsZmw9dGhpcy5mYWNlcy5sZW5ndGg7ZjxmbDtmKyspe2ZhY2U9dGhpcy5mYWNlc1tmXTt2ZXJ0aWNlc1tmYWNlLmFdLmFkZChmYWNlLm5vcm1hbCk7dmVydGljZXNbZmFjZS5iXS5hZGQoZmFjZS5ub3JtYWwpO3ZlcnRpY2VzW2ZhY2UuY10uYWRkKGZhY2Uubm9ybWFsKTt9fWZvcih2PTAsdmw9dGhpcy52ZXJ0aWNlcy5sZW5ndGg7djx2bDt2Kyspe3ZlcnRpY2VzW3ZdLm5vcm1hbGl6ZSgpO31mb3IoZj0wLGZsPXRoaXMuZmFjZXMubGVuZ3RoO2Y8Zmw7ZisrKXtmYWNlPXRoaXMuZmFjZXNbZl07dmFyIHZlcnRleE5vcm1hbHM9ZmFjZS52ZXJ0ZXhOb3JtYWxzO2lmKHZlcnRleE5vcm1hbHMubGVuZ3RoPT09Myl7dmVydGV4Tm9ybWFsc1swXS5jb3B5KHZlcnRpY2VzW2ZhY2UuYV0pO3ZlcnRleE5vcm1hbHNbMV0uY29weSh2ZXJ0aWNlc1tmYWNlLmJdKTt2ZXJ0ZXhOb3JtYWxzWzJdLmNvcHkodmVydGljZXNbZmFjZS5jXSk7fWVsc2V7dmVydGV4Tm9ybWFsc1swXT12ZXJ0aWNlc1tmYWNlLmFdLmNsb25lKCk7dmVydGV4Tm9ybWFsc1sxXT12ZXJ0aWNlc1tmYWNlLmJdLmNsb25lKCk7dmVydGV4Tm9ybWFsc1syXT12ZXJ0aWNlc1tmYWNlLmNdLmNsb25lKCk7fX1pZih0aGlzLmZhY2VzLmxlbmd0aD4wKXt0aGlzLm5vcm1hbHNOZWVkVXBkYXRlPXRydWU7fX0sY29tcHV0ZUZsYXRWZXJ0ZXhOb3JtYWxzOmZ1bmN0aW9uIGNvbXB1dGVGbGF0VmVydGV4Tm9ybWFscygpe3ZhciBmLGZsLGZhY2U7dGhpcy5jb21wdXRlRmFjZU5vcm1hbHMoKTtmb3IoZj0wLGZsPXRoaXMuZmFjZXMubGVuZ3RoO2Y8Zmw7ZisrKXtmYWNlPXRoaXMuZmFjZXNbZl07dmFyIHZlcnRleE5vcm1hbHM9ZmFjZS52ZXJ0ZXhOb3JtYWxzO2lmKHZlcnRleE5vcm1hbHMubGVuZ3RoPT09Myl7dmVydGV4Tm9ybWFsc1swXS5jb3B5KGZhY2Uubm9ybWFsKTt2ZXJ0ZXhOb3JtYWxzWzFdLmNvcHkoZmFjZS5ub3JtYWwpO3ZlcnRleE5vcm1hbHNbMl0uY29weShmYWNlLm5vcm1hbCk7fWVsc2V7dmVydGV4Tm9ybWFsc1swXT1mYWNlLm5vcm1hbC5jbG9uZSgpO3ZlcnRleE5vcm1hbHNbMV09ZmFjZS5ub3JtYWwuY2xvbmUoKTt2ZXJ0ZXhOb3JtYWxzWzJdPWZhY2Uubm9ybWFsLmNsb25lKCk7fX1pZih0aGlzLmZhY2VzLmxlbmd0aD4wKXt0aGlzLm5vcm1hbHNOZWVkVXBkYXRlPXRydWU7fX0sY29tcHV0ZU1vcnBoTm9ybWFsczpmdW5jdGlvbiBjb21wdXRlTW9ycGhOb3JtYWxzKCl7dmFyIGksaWwsZixmbCxmYWNlOy8vIHNhdmUgb3JpZ2luYWwgbm9ybWFscwovLyAtIGNyZWF0ZSB0ZW1wIHZhcmlhYmxlcyBvbiBmaXJzdCBhY2Nlc3MKLy8gICBvdGhlcndpc2UganVzdCBjb3B5IChmb3IgZmFzdGVyIHJlcGVhdGVkIGNhbGxzKQpmb3IoZj0wLGZsPXRoaXMuZmFjZXMubGVuZ3RoO2Y8Zmw7ZisrKXtmYWNlPXRoaXMuZmFjZXNbZl07aWYoIWZhY2UuX19vcmlnaW5hbEZhY2VOb3JtYWwpe2ZhY2UuX19vcmlnaW5hbEZhY2VOb3JtYWw9ZmFjZS5ub3JtYWwuY2xvbmUoKTt9ZWxzZXtmYWNlLl9fb3JpZ2luYWxGYWNlTm9ybWFsLmNvcHkoZmFjZS5ub3JtYWwpO31pZighZmFjZS5fX29yaWdpbmFsVmVydGV4Tm9ybWFscyl7ZmFjZS5fX29yaWdpbmFsVmVydGV4Tm9ybWFscz1bXTt9Zm9yKGk9MCxpbD1mYWNlLnZlcnRleE5vcm1hbHMubGVuZ3RoO2k8aWw7aSsrKXtpZighZmFjZS5fX29yaWdpbmFsVmVydGV4Tm9ybWFsc1tpXSl7ZmFjZS5fX29yaWdpbmFsVmVydGV4Tm9ybWFsc1tpXT1mYWNlLnZlcnRleE5vcm1hbHNbaV0uY2xvbmUoKTt9ZWxzZXtmYWNlLl9fb3JpZ2luYWxWZXJ0ZXhOb3JtYWxzW2ldLmNvcHkoZmFjZS52ZXJ0ZXhOb3JtYWxzW2ldKTt9fX0vLyB1c2UgdGVtcCBnZW9tZXRyeSB0byBjb21wdXRlIGZhY2UgYW5kIHZlcnRleCBub3JtYWxzIGZvciBlYWNoIG1vcnBoCnZhciB0bXBHZW89bmV3IEdlb21ldHJ5KCk7dG1wR2VvLmZhY2VzPXRoaXMuZmFjZXM7Zm9yKGk9MCxpbD10aGlzLm1vcnBoVGFyZ2V0cy5sZW5ndGg7aTxpbDtpKyspey8vIGNyZWF0ZSBvbiBmaXJzdCBhY2Nlc3MKaWYoIXRoaXMubW9ycGhOb3JtYWxzW2ldKXt0aGlzLm1vcnBoTm9ybWFsc1tpXT17fTt0aGlzLm1vcnBoTm9ybWFsc1tpXS5mYWNlTm9ybWFscz1bXTt0aGlzLm1vcnBoTm9ybWFsc1tpXS52ZXJ0ZXhOb3JtYWxzPVtdO3ZhciBkc3ROb3JtYWxzRmFjZT10aGlzLm1vcnBoTm9ybWFsc1tpXS5mYWNlTm9ybWFsczt2YXIgZHN0Tm9ybWFsc1ZlcnRleD10aGlzLm1vcnBoTm9ybWFsc1tpXS52ZXJ0ZXhOb3JtYWxzO3ZhciBmYWNlTm9ybWFsLHZlcnRleE5vcm1hbHM7Zm9yKGY9MCxmbD10aGlzLmZhY2VzLmxlbmd0aDtmPGZsO2YrKyl7ZmFjZU5vcm1hbD1uZXcgVmVjdG9yMygpO3ZlcnRleE5vcm1hbHM9e2E6bmV3IFZlY3RvcjMoKSxiOm5ldyBWZWN0b3IzKCksYzpuZXcgVmVjdG9yMygpfTtkc3ROb3JtYWxzRmFjZS5wdXNoKGZhY2VOb3JtYWwpO2RzdE5vcm1hbHNWZXJ0ZXgucHVzaCh2ZXJ0ZXhOb3JtYWxzKTt9fXZhciBtb3JwaE5vcm1hbHM9dGhpcy5tb3JwaE5vcm1hbHNbaV07Ly8gc2V0IHZlcnRpY2VzIHRvIG1vcnBoIHRhcmdldAp0bXBHZW8udmVydGljZXM9dGhpcy5tb3JwaFRhcmdldHNbaV0udmVydGljZXM7Ly8gY29tcHV0ZSBtb3JwaCBub3JtYWxzCnRtcEdlby5jb21wdXRlRmFjZU5vcm1hbHMoKTt0bXBHZW8uY29tcHV0ZVZlcnRleE5vcm1hbHMoKTsvLyBzdG9yZSBtb3JwaCBub3JtYWxzCnZhciBmYWNlTm9ybWFsLHZlcnRleE5vcm1hbHM7Zm9yKGY9MCxmbD10aGlzLmZhY2VzLmxlbmd0aDtmPGZsO2YrKyl7ZmFjZT10aGlzLmZhY2VzW2ZdO2ZhY2VOb3JtYWw9bW9ycGhOb3JtYWxzLmZhY2VOb3JtYWxzW2ZdO3ZlcnRleE5vcm1hbHM9bW9ycGhOb3JtYWxzLnZlcnRleE5vcm1hbHNbZl07ZmFjZU5vcm1hbC5jb3B5KGZhY2Uubm9ybWFsKTt2ZXJ0ZXhOb3JtYWxzLmEuY29weShmYWNlLnZlcnRleE5vcm1hbHNbMF0pO3ZlcnRleE5vcm1hbHMuYi5jb3B5KGZhY2UudmVydGV4Tm9ybWFsc1sxXSk7dmVydGV4Tm9ybWFscy5jLmNvcHkoZmFjZS52ZXJ0ZXhOb3JtYWxzWzJdKTt9fS8vIHJlc3RvcmUgb3JpZ2luYWwgbm9ybWFscwpmb3IoZj0wLGZsPXRoaXMuZmFjZXMubGVuZ3RoO2Y8Zmw7ZisrKXtmYWNlPXRoaXMuZmFjZXNbZl07ZmFjZS5ub3JtYWw9ZmFjZS5fX29yaWdpbmFsRmFjZU5vcm1hbDtmYWNlLnZlcnRleE5vcm1hbHM9ZmFjZS5fX29yaWdpbmFsVmVydGV4Tm9ybWFsczt9fSxjb21wdXRlQm91bmRpbmdCb3g6ZnVuY3Rpb24gY29tcHV0ZUJvdW5kaW5nQm94KCl7aWYodGhpcy5ib3VuZGluZ0JveD09PW51bGwpe3RoaXMuYm91bmRpbmdCb3g9bmV3IEJveDMoKTt9dGhpcy5ib3VuZGluZ0JveC5zZXRGcm9tUG9pbnRzKHRoaXMudmVydGljZXMpO30sY29tcHV0ZUJvdW5kaW5nU3BoZXJlOmZ1bmN0aW9uIGNvbXB1dGVCb3VuZGluZ1NwaGVyZSgpe2lmKHRoaXMuYm91bmRpbmdTcGhlcmU9PT1udWxsKXt0aGlzLmJvdW5kaW5nU3BoZXJlPW5ldyBTcGhlcmUoKTt9dGhpcy5ib3VuZGluZ1NwaGVyZS5zZXRGcm9tUG9pbnRzKHRoaXMudmVydGljZXMpO30sbWVyZ2U6ZnVuY3Rpb24gbWVyZ2UoZ2VvbWV0cnksbWF0cml4LG1hdGVyaWFsSW5kZXhPZmZzZXQpe2lmKCEoZ2VvbWV0cnkmJmdlb21ldHJ5LmlzR2VvbWV0cnkpKXtjb25zb2xlLmVycm9yKCdUSFJFRS5HZW9tZXRyeS5tZXJnZSgpOiBnZW9tZXRyeSBub3QgYW4gaW5zdGFuY2Ugb2YgVEhSRUUuR2VvbWV0cnkuJyxnZW9tZXRyeSk7cmV0dXJuO312YXIgbm9ybWFsTWF0cml4LHZlcnRleE9mZnNldD10aGlzLnZlcnRpY2VzLmxlbmd0aCx2ZXJ0aWNlczE9dGhpcy52ZXJ0aWNlcyx2ZXJ0aWNlczI9Z2VvbWV0cnkudmVydGljZXMsZmFjZXMxPXRoaXMuZmFjZXMsZmFjZXMyPWdlb21ldHJ5LmZhY2VzLGNvbG9yczE9dGhpcy5jb2xvcnMsY29sb3JzMj1nZW9tZXRyeS5jb2xvcnM7aWYobWF0ZXJpYWxJbmRleE9mZnNldD09PXVuZGVmaW5lZCl7bWF0ZXJpYWxJbmRleE9mZnNldD0wO31pZihtYXRyaXghPT11bmRlZmluZWQpe25vcm1hbE1hdHJpeD1uZXcgTWF0cml4MygpLmdldE5vcm1hbE1hdHJpeChtYXRyaXgpO30vLyB2ZXJ0aWNlcwpmb3IodmFyIGk9MCxpbD12ZXJ0aWNlczIubGVuZ3RoO2k8aWw7aSsrKXt2YXIgdmVydGV4PXZlcnRpY2VzMltpXTt2YXIgdmVydGV4Q29weT12ZXJ0ZXguY2xvbmUoKTtpZihtYXRyaXghPT11bmRlZmluZWQpe3ZlcnRleENvcHkuYXBwbHlNYXRyaXg0KG1hdHJpeCk7fXZlcnRpY2VzMS5wdXNoKHZlcnRleENvcHkpO30vLyBjb2xvcnMKZm9yKHZhciBpPTAsaWw9Y29sb3JzMi5sZW5ndGg7aTxpbDtpKyspe2NvbG9yczEucHVzaChjb2xvcnMyW2ldLmNsb25lKCkpO30vLyBmYWNlcwpmb3IoaT0wLGlsPWZhY2VzMi5sZW5ndGg7aTxpbDtpKyspe3ZhciBmYWNlPWZhY2VzMltpXSxmYWNlQ29weSxub3JtYWwsY29sb3IsZmFjZVZlcnRleE5vcm1hbHM9ZmFjZS52ZXJ0ZXhOb3JtYWxzLGZhY2VWZXJ0ZXhDb2xvcnM9ZmFjZS52ZXJ0ZXhDb2xvcnM7ZmFjZUNvcHk9bmV3IEZhY2UzKGZhY2UuYSt2ZXJ0ZXhPZmZzZXQsZmFjZS5iK3ZlcnRleE9mZnNldCxmYWNlLmMrdmVydGV4T2Zmc2V0KTtmYWNlQ29weS5ub3JtYWwuY29weShmYWNlLm5vcm1hbCk7aWYobm9ybWFsTWF0cml4IT09dW5kZWZpbmVkKXtmYWNlQ29weS5ub3JtYWwuYXBwbHlNYXRyaXgzKG5vcm1hbE1hdHJpeCkubm9ybWFsaXplKCk7fWZvcih2YXIgaj0wLGpsPWZhY2VWZXJ0ZXhOb3JtYWxzLmxlbmd0aDtqPGpsO2orKyl7bm9ybWFsPWZhY2VWZXJ0ZXhOb3JtYWxzW2pdLmNsb25lKCk7aWYobm9ybWFsTWF0cml4IT09dW5kZWZpbmVkKXtub3JtYWwuYXBwbHlNYXRyaXgzKG5vcm1hbE1hdHJpeCkubm9ybWFsaXplKCk7fWZhY2VDb3B5LnZlcnRleE5vcm1hbHMucHVzaChub3JtYWwpO31mYWNlQ29weS5jb2xvci5jb3B5KGZhY2UuY29sb3IpO2Zvcih2YXIgaj0wLGpsPWZhY2VWZXJ0ZXhDb2xvcnMubGVuZ3RoO2o8amw7aisrKXtjb2xvcj1mYWNlVmVydGV4Q29sb3JzW2pdO2ZhY2VDb3B5LnZlcnRleENvbG9ycy5wdXNoKGNvbG9yLmNsb25lKCkpO31mYWNlQ29weS5tYXRlcmlhbEluZGV4PWZhY2UubWF0ZXJpYWxJbmRleCttYXRlcmlhbEluZGV4T2Zmc2V0O2ZhY2VzMS5wdXNoKGZhY2VDb3B5KTt9Ly8gdXZzCmZvcih2YXIgaT0wLGlsPWdlb21ldHJ5LmZhY2VWZXJ0ZXhVdnMubGVuZ3RoO2k8aWw7aSsrKXt2YXIgZmFjZVZlcnRleFV2czI9Z2VvbWV0cnkuZmFjZVZlcnRleFV2c1tpXTtpZih0aGlzLmZhY2VWZXJ0ZXhVdnNbaV09PT11bmRlZmluZWQpe3RoaXMuZmFjZVZlcnRleFV2c1tpXT1bXTt9Zm9yKHZhciBqPTAsamw9ZmFjZVZlcnRleFV2czIubGVuZ3RoO2o8amw7aisrKXt2YXIgdXZzMj1mYWNlVmVydGV4VXZzMltqXSx1dnNDb3B5PVtdO2Zvcih2YXIgaz0wLGtsPXV2czIubGVuZ3RoO2s8a2w7aysrKXt1dnNDb3B5LnB1c2godXZzMltrXS5jbG9uZSgpKTt9dGhpcy5mYWNlVmVydGV4VXZzW2ldLnB1c2godXZzQ29weSk7fX19LG1lcmdlTWVzaDpmdW5jdGlvbiBtZXJnZU1lc2gobWVzaCl7aWYoIShtZXNoJiZtZXNoLmlzTWVzaCkpe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLkdlb21ldHJ5Lm1lcmdlTWVzaCgpOiBtZXNoIG5vdCBhbiBpbnN0YW5jZSBvZiBUSFJFRS5NZXNoLicsbWVzaCk7cmV0dXJuO31pZihtZXNoLm1hdHJpeEF1dG9VcGRhdGUpe21lc2gudXBkYXRlTWF0cml4KCk7fXRoaXMubWVyZ2UobWVzaC5nZW9tZXRyeSxtZXNoLm1hdHJpeCk7fSwvKgogICAgICogQ2hlY2tzIGZvciBkdXBsaWNhdGUgdmVydGljZXMgd2l0aCBoYXNobWFwLgogICAgICogRHVwbGljYXRlZCB2ZXJ0aWNlcyBhcmUgcmVtb3ZlZAogICAgICogYW5kIGZhY2VzJyB2ZXJ0aWNlcyBhcmUgdXBkYXRlZC4KICAgICAqL21lcmdlVmVydGljZXM6ZnVuY3Rpb24gbWVyZ2VWZXJ0aWNlcygpe3ZhciB2ZXJ0aWNlc01hcD17fTsvLyBIYXNobWFwIGZvciBsb29raW5nIHVwIHZlcnRpY2VzIGJ5IHBvc2l0aW9uIGNvb3JkaW5hdGVzIChhbmQgbWFraW5nIHN1cmUgdGhleSBhcmUgdW5pcXVlKQp2YXIgdW5pcXVlPVtdLGNoYW5nZXM9W107dmFyIHYsa2V5O3ZhciBwcmVjaXNpb25Qb2ludHM9NDsvLyBudW1iZXIgb2YgZGVjaW1hbCBwb2ludHMsIGUuZy4gNCBmb3IgZXBzaWxvbiBvZiAwLjAwMDEKdmFyIHByZWNpc2lvbj1NYXRoLnBvdygxMCxwcmVjaXNpb25Qb2ludHMpO3ZhciBpLGlsLGZhY2U7dmFyIGluZGljZXMsaixqbDtmb3IoaT0wLGlsPXRoaXMudmVydGljZXMubGVuZ3RoO2k8aWw7aSsrKXt2PXRoaXMudmVydGljZXNbaV07a2V5PU1hdGgucm91bmQodi54KnByZWNpc2lvbikrJ18nK01hdGgucm91bmQodi55KnByZWNpc2lvbikrJ18nK01hdGgucm91bmQodi56KnByZWNpc2lvbik7aWYodmVydGljZXNNYXBba2V5XT09PXVuZGVmaW5lZCl7dmVydGljZXNNYXBba2V5XT1pO3VuaXF1ZS5wdXNoKHRoaXMudmVydGljZXNbaV0pO2NoYW5nZXNbaV09dW5pcXVlLmxlbmd0aC0xO31lbHNley8vY29uc29sZS5sb2coJ0R1cGxpY2F0ZSB2ZXJ0ZXggZm91bmQuICcsIGksICcgY291bGQgYmUgdXNpbmcgJywgdmVydGljZXNNYXBba2V5XSk7CmNoYW5nZXNbaV09Y2hhbmdlc1t2ZXJ0aWNlc01hcFtrZXldXTt9fS8vIGlmIGZhY2VzIGFyZSBjb21wbGV0ZWx5IGRlZ2VuZXJhdGUgYWZ0ZXIgbWVyZ2luZyB2ZXJ0aWNlcywgd2UKLy8gaGF2ZSB0byByZW1vdmUgdGhlbSBmcm9tIHRoZSBnZW9tZXRyeS4KdmFyIGZhY2VJbmRpY2VzVG9SZW1vdmU9W107Zm9yKGk9MCxpbD10aGlzLmZhY2VzLmxlbmd0aDtpPGlsO2krKyl7ZmFjZT10aGlzLmZhY2VzW2ldO2ZhY2UuYT1jaGFuZ2VzW2ZhY2UuYV07ZmFjZS5iPWNoYW5nZXNbZmFjZS5iXTtmYWNlLmM9Y2hhbmdlc1tmYWNlLmNdO2luZGljZXM9W2ZhY2UuYSxmYWNlLmIsZmFjZS5jXTsvLyBpZiBhbnkgZHVwbGljYXRlIHZlcnRpY2VzIGFyZSBmb3VuZCBpbiBhIEZhY2UzCi8vIHdlIGhhdmUgdG8gcmVtb3ZlIHRoZSBmYWNlIGFzIG5vdGhpbmcgY2FuIGJlIHNhdmVkCmZvcih2YXIgbj0wO248MztuKyspe2lmKGluZGljZXNbbl09PT1pbmRpY2VzWyhuKzEpJTNdKXtmYWNlSW5kaWNlc1RvUmVtb3ZlLnB1c2goaSk7YnJlYWs7fX19Zm9yKGk9ZmFjZUluZGljZXNUb1JlbW92ZS5sZW5ndGgtMTtpPj0wO2ktLSl7dmFyIGlkeD1mYWNlSW5kaWNlc1RvUmVtb3ZlW2ldO3RoaXMuZmFjZXMuc3BsaWNlKGlkeCwxKTtmb3Ioaj0wLGpsPXRoaXMuZmFjZVZlcnRleFV2cy5sZW5ndGg7ajxqbDtqKyspe3RoaXMuZmFjZVZlcnRleFV2c1tqXS5zcGxpY2UoaWR4LDEpO319Ly8gVXNlIHVuaXF1ZSBzZXQgb2YgdmVydGljZXMKdmFyIGRpZmY9dGhpcy52ZXJ0aWNlcy5sZW5ndGgtdW5pcXVlLmxlbmd0aDt0aGlzLnZlcnRpY2VzPXVuaXF1ZTtyZXR1cm4gZGlmZjt9LHNldEZyb21Qb2ludHM6ZnVuY3Rpb24gc2V0RnJvbVBvaW50cyhwb2ludHMpe3RoaXMudmVydGljZXM9W107Zm9yKHZhciBpPTAsbD1wb2ludHMubGVuZ3RoO2k8bDtpKyspe3ZhciBwb2ludD1wb2ludHNbaV07dGhpcy52ZXJ0aWNlcy5wdXNoKG5ldyBWZWN0b3IzKHBvaW50LngscG9pbnQueSxwb2ludC56fHwwKSk7fXJldHVybiB0aGlzO30sc29ydEZhY2VzQnlNYXRlcmlhbEluZGV4OmZ1bmN0aW9uIHNvcnRGYWNlc0J5TWF0ZXJpYWxJbmRleCgpe3ZhciBmYWNlcz10aGlzLmZhY2VzO3ZhciBsZW5ndGg9ZmFjZXMubGVuZ3RoOy8vIHRhZyBmYWNlcwpmb3IodmFyIGk9MDtpPGxlbmd0aDtpKyspe2ZhY2VzW2ldLl9pZD1pO30vLyBzb3J0IGZhY2VzCmZ1bmN0aW9uIG1hdGVyaWFsSW5kZXhTb3J0KGEsYil7cmV0dXJuIGEubWF0ZXJpYWxJbmRleC1iLm1hdGVyaWFsSW5kZXg7fWZhY2VzLnNvcnQobWF0ZXJpYWxJbmRleFNvcnQpOy8vIHNvcnQgdXZzCnZhciB1dnMxPXRoaXMuZmFjZVZlcnRleFV2c1swXTt2YXIgdXZzMj10aGlzLmZhY2VWZXJ0ZXhVdnNbMV07dmFyIG5ld1V2czEsbmV3VXZzMjtpZih1dnMxJiZ1dnMxLmxlbmd0aD09PWxlbmd0aCl7bmV3VXZzMT1bXTt9aWYodXZzMiYmdXZzMi5sZW5ndGg9PT1sZW5ndGgpe25ld1V2czI9W107fWZvcih2YXIgaT0wO2k8bGVuZ3RoO2krKyl7dmFyIGlkPWZhY2VzW2ldLl9pZDtpZihuZXdVdnMxKXtuZXdVdnMxLnB1c2godXZzMVtpZF0pO31pZihuZXdVdnMyKXtuZXdVdnMyLnB1c2godXZzMltpZF0pO319aWYobmV3VXZzMSl7dGhpcy5mYWNlVmVydGV4VXZzWzBdPW5ld1V2czE7fWlmKG5ld1V2czIpe3RoaXMuZmFjZVZlcnRleFV2c1sxXT1uZXdVdnMyO319LHRvSlNPTjpmdW5jdGlvbiB0b0pTT04oKXt2YXIgZGF0YT17bWV0YWRhdGE6e3ZlcnNpb246NC41LHR5cGU6J0dlb21ldHJ5JyxnZW5lcmF0b3I6J0dlb21ldHJ5LnRvSlNPTid9fTsvLyBzdGFuZGFyZCBHZW9tZXRyeSBzZXJpYWxpemF0aW9uCmRhdGEudXVpZD10aGlzLnV1aWQ7ZGF0YS50eXBlPXRoaXMudHlwZTtpZih0aGlzLm5hbWUhPT0nJyl7ZGF0YS5uYW1lPXRoaXMubmFtZTt9aWYodGhpcy5wYXJhbWV0ZXJzIT09dW5kZWZpbmVkKXt2YXIgcGFyYW1ldGVycz10aGlzLnBhcmFtZXRlcnM7Zm9yKHZhciBrZXkgaW4gcGFyYW1ldGVycyl7aWYocGFyYW1ldGVyc1trZXldIT09dW5kZWZpbmVkKXtkYXRhW2tleV09cGFyYW1ldGVyc1trZXldO319cmV0dXJuIGRhdGE7fXZhciB2ZXJ0aWNlcz1bXTtmb3IodmFyIGk9MDtpPHRoaXMudmVydGljZXMubGVuZ3RoO2krKyl7dmFyIHZlcnRleD10aGlzLnZlcnRpY2VzW2ldO3ZlcnRpY2VzLnB1c2godmVydGV4LngsdmVydGV4LnksdmVydGV4LnopO312YXIgZmFjZXM9W107dmFyIG5vcm1hbHM9W107dmFyIG5vcm1hbHNIYXNoPXt9O3ZhciBjb2xvcnM9W107dmFyIGNvbG9yc0hhc2g9e307dmFyIHV2cz1bXTt2YXIgdXZzSGFzaD17fTtmb3IodmFyIGk9MDtpPHRoaXMuZmFjZXMubGVuZ3RoO2krKyl7dmFyIGZhY2U9dGhpcy5mYWNlc1tpXTt2YXIgaGFzTWF0ZXJpYWw9dHJ1ZTt2YXIgaGFzRmFjZVV2PWZhbHNlOy8vIGRlcHJlY2F0ZWQKdmFyIGhhc0ZhY2VWZXJ0ZXhVdj10aGlzLmZhY2VWZXJ0ZXhVdnNbMF1baV0hPT11bmRlZmluZWQ7dmFyIGhhc0ZhY2VOb3JtYWw9ZmFjZS5ub3JtYWwubGVuZ3RoKCk+MDt2YXIgaGFzRmFjZVZlcnRleE5vcm1hbD1mYWNlLnZlcnRleE5vcm1hbHMubGVuZ3RoPjA7dmFyIGhhc0ZhY2VDb2xvcj1mYWNlLmNvbG9yLnIhPT0xfHxmYWNlLmNvbG9yLmchPT0xfHxmYWNlLmNvbG9yLmIhPT0xO3ZhciBoYXNGYWNlVmVydGV4Q29sb3I9ZmFjZS52ZXJ0ZXhDb2xvcnMubGVuZ3RoPjA7dmFyIGZhY2VUeXBlPTA7ZmFjZVR5cGU9c2V0Qml0KGZhY2VUeXBlLDAsMCk7Ly8gaXNRdWFkCmZhY2VUeXBlPXNldEJpdChmYWNlVHlwZSwxLGhhc01hdGVyaWFsKTtmYWNlVHlwZT1zZXRCaXQoZmFjZVR5cGUsMixoYXNGYWNlVXYpO2ZhY2VUeXBlPXNldEJpdChmYWNlVHlwZSwzLGhhc0ZhY2VWZXJ0ZXhVdik7ZmFjZVR5cGU9c2V0Qml0KGZhY2VUeXBlLDQsaGFzRmFjZU5vcm1hbCk7ZmFjZVR5cGU9c2V0Qml0KGZhY2VUeXBlLDUsaGFzRmFjZVZlcnRleE5vcm1hbCk7ZmFjZVR5cGU9c2V0Qml0KGZhY2VUeXBlLDYsaGFzRmFjZUNvbG9yKTtmYWNlVHlwZT1zZXRCaXQoZmFjZVR5cGUsNyxoYXNGYWNlVmVydGV4Q29sb3IpO2ZhY2VzLnB1c2goZmFjZVR5cGUpO2ZhY2VzLnB1c2goZmFjZS5hLGZhY2UuYixmYWNlLmMpO2ZhY2VzLnB1c2goZmFjZS5tYXRlcmlhbEluZGV4KTtpZihoYXNGYWNlVmVydGV4VXYpe3ZhciBmYWNlVmVydGV4VXZzPXRoaXMuZmFjZVZlcnRleFV2c1swXVtpXTtmYWNlcy5wdXNoKGdldFV2SW5kZXgoZmFjZVZlcnRleFV2c1swXSksZ2V0VXZJbmRleChmYWNlVmVydGV4VXZzWzFdKSxnZXRVdkluZGV4KGZhY2VWZXJ0ZXhVdnNbMl0pKTt9aWYoaGFzRmFjZU5vcm1hbCl7ZmFjZXMucHVzaChnZXROb3JtYWxJbmRleChmYWNlLm5vcm1hbCkpO31pZihoYXNGYWNlVmVydGV4Tm9ybWFsKXt2YXIgdmVydGV4Tm9ybWFscz1mYWNlLnZlcnRleE5vcm1hbHM7ZmFjZXMucHVzaChnZXROb3JtYWxJbmRleCh2ZXJ0ZXhOb3JtYWxzWzBdKSxnZXROb3JtYWxJbmRleCh2ZXJ0ZXhOb3JtYWxzWzFdKSxnZXROb3JtYWxJbmRleCh2ZXJ0ZXhOb3JtYWxzWzJdKSk7fWlmKGhhc0ZhY2VDb2xvcil7ZmFjZXMucHVzaChnZXRDb2xvckluZGV4KGZhY2UuY29sb3IpKTt9aWYoaGFzRmFjZVZlcnRleENvbG9yKXt2YXIgdmVydGV4Q29sb3JzPWZhY2UudmVydGV4Q29sb3JzO2ZhY2VzLnB1c2goZ2V0Q29sb3JJbmRleCh2ZXJ0ZXhDb2xvcnNbMF0pLGdldENvbG9ySW5kZXgodmVydGV4Q29sb3JzWzFdKSxnZXRDb2xvckluZGV4KHZlcnRleENvbG9yc1syXSkpO319ZnVuY3Rpb24gc2V0Qml0KHZhbHVlLHBvc2l0aW9uLGVuYWJsZWQpe3JldHVybiBlbmFibGVkP3ZhbHVlfDE8PHBvc2l0aW9uOnZhbHVlJn4oMTw8cG9zaXRpb24pO31mdW5jdGlvbiBnZXROb3JtYWxJbmRleChub3JtYWwpe3ZhciBoYXNoPW5vcm1hbC54LnRvU3RyaW5nKCkrbm9ybWFsLnkudG9TdHJpbmcoKStub3JtYWwuei50b1N0cmluZygpO2lmKG5vcm1hbHNIYXNoW2hhc2hdIT09dW5kZWZpbmVkKXtyZXR1cm4gbm9ybWFsc0hhc2hbaGFzaF07fW5vcm1hbHNIYXNoW2hhc2hdPW5vcm1hbHMubGVuZ3RoLzM7bm9ybWFscy5wdXNoKG5vcm1hbC54LG5vcm1hbC55LG5vcm1hbC56KTtyZXR1cm4gbm9ybWFsc0hhc2hbaGFzaF07fWZ1bmN0aW9uIGdldENvbG9ySW5kZXgoY29sb3Ipe3ZhciBoYXNoPWNvbG9yLnIudG9TdHJpbmcoKStjb2xvci5nLnRvU3RyaW5nKCkrY29sb3IuYi50b1N0cmluZygpO2lmKGNvbG9yc0hhc2hbaGFzaF0hPT11bmRlZmluZWQpe3JldHVybiBjb2xvcnNIYXNoW2hhc2hdO31jb2xvcnNIYXNoW2hhc2hdPWNvbG9ycy5sZW5ndGg7Y29sb3JzLnB1c2goY29sb3IuZ2V0SGV4KCkpO3JldHVybiBjb2xvcnNIYXNoW2hhc2hdO31mdW5jdGlvbiBnZXRVdkluZGV4KHV2KXt2YXIgaGFzaD11di54LnRvU3RyaW5nKCkrdXYueS50b1N0cmluZygpO2lmKHV2c0hhc2hbaGFzaF0hPT11bmRlZmluZWQpe3JldHVybiB1dnNIYXNoW2hhc2hdO311dnNIYXNoW2hhc2hdPXV2cy5sZW5ndGgvMjt1dnMucHVzaCh1di54LHV2LnkpO3JldHVybiB1dnNIYXNoW2hhc2hdO31kYXRhLmRhdGE9e307ZGF0YS5kYXRhLnZlcnRpY2VzPXZlcnRpY2VzO2RhdGEuZGF0YS5ub3JtYWxzPW5vcm1hbHM7aWYoY29sb3JzLmxlbmd0aD4wKXtkYXRhLmRhdGEuY29sb3JzPWNvbG9yczt9aWYodXZzLmxlbmd0aD4wKXtkYXRhLmRhdGEudXZzPVt1dnNdO30vLyB0ZW1wb3JhbCBiYWNrd2FyZCBjb21wYXRpYmlsaXR5CmRhdGEuZGF0YS5mYWNlcz1mYWNlcztyZXR1cm4gZGF0YTt9LGNsb25lOmZ1bmN0aW9uIGNsb25lKCl7LyoKICAgICAgIC8vIEhhbmRsZSBwcmltaXRpdmVzCgogICAgICAgdmFyIHBhcmFtZXRlcnMgPSB0aGlzLnBhcmFtZXRlcnM7CgogICAgICAgaWYgKCBwYXJhbWV0ZXJzICE9PSB1bmRlZmluZWQgKSB7CgogICAgICAgdmFyIHZhbHVlcyA9IFtdOwoKICAgICAgIGZvciAoIHZhciBrZXkgaW4gcGFyYW1ldGVycyApIHsKCiAgICAgICB2YWx1ZXMucHVzaCggcGFyYW1ldGVyc1sga2V5IF0gKTsKCiAgICAgICB9CgogICAgICAgdmFyIGdlb21ldHJ5ID0gT2JqZWN0LmNyZWF0ZSggdGhpcy5jb25zdHJ1Y3Rvci5wcm90b3R5cGUgKTsKICAgICAgIHRoaXMuY29uc3RydWN0b3IuYXBwbHkoIGdlb21ldHJ5LCB2YWx1ZXMgKTsKICAgICAgIHJldHVybiBnZW9tZXRyeTsKCiAgICAgICB9CgogICAgICAgcmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCkuY29weSggdGhpcyApOwogICAgICAgKi9yZXR1cm4gbmV3IEdlb21ldHJ5KCkuY29weSh0aGlzKTt9LGNvcHk6ZnVuY3Rpb24gY29weShzb3VyY2Upe3ZhciBpLGlsLGosamwsayxrbDsvLyByZXNldAp0aGlzLnZlcnRpY2VzPVtdO3RoaXMuY29sb3JzPVtdO3RoaXMuZmFjZXM9W107dGhpcy5mYWNlVmVydGV4VXZzPVtbXV07dGhpcy5tb3JwaFRhcmdldHM9W107dGhpcy5tb3JwaE5vcm1hbHM9W107dGhpcy5za2luV2VpZ2h0cz1bXTt0aGlzLnNraW5JbmRpY2VzPVtdO3RoaXMubGluZURpc3RhbmNlcz1bXTt0aGlzLmJvdW5kaW5nQm94PW51bGw7dGhpcy5ib3VuZGluZ1NwaGVyZT1udWxsOy8vIG5hbWUKdGhpcy5uYW1lPXNvdXJjZS5uYW1lOy8vIHZlcnRpY2VzCnZhciB2ZXJ0aWNlcz1zb3VyY2UudmVydGljZXM7Zm9yKGk9MCxpbD12ZXJ0aWNlcy5sZW5ndGg7aTxpbDtpKyspe3RoaXMudmVydGljZXMucHVzaCh2ZXJ0aWNlc1tpXS5jbG9uZSgpKTt9Ly8gY29sb3JzCnZhciBjb2xvcnM9c291cmNlLmNvbG9ycztmb3IoaT0wLGlsPWNvbG9ycy5sZW5ndGg7aTxpbDtpKyspe3RoaXMuY29sb3JzLnB1c2goY29sb3JzW2ldLmNsb25lKCkpO30vLyBmYWNlcwp2YXIgZmFjZXM9c291cmNlLmZhY2VzO2ZvcihpPTAsaWw9ZmFjZXMubGVuZ3RoO2k8aWw7aSsrKXt0aGlzLmZhY2VzLnB1c2goZmFjZXNbaV0uY2xvbmUoKSk7fS8vIGZhY2UgdmVydGV4IHV2cwpmb3IoaT0wLGlsPXNvdXJjZS5mYWNlVmVydGV4VXZzLmxlbmd0aDtpPGlsO2krKyl7dmFyIGZhY2VWZXJ0ZXhVdnM9c291cmNlLmZhY2VWZXJ0ZXhVdnNbaV07aWYodGhpcy5mYWNlVmVydGV4VXZzW2ldPT09dW5kZWZpbmVkKXt0aGlzLmZhY2VWZXJ0ZXhVdnNbaV09W107fWZvcihqPTAsamw9ZmFjZVZlcnRleFV2cy5sZW5ndGg7ajxqbDtqKyspe3ZhciB1dnM9ZmFjZVZlcnRleFV2c1tqXSx1dnNDb3B5PVtdO2ZvcihrPTAsa2w9dXZzLmxlbmd0aDtrPGtsO2srKyl7dmFyIHV2PXV2c1trXTt1dnNDb3B5LnB1c2godXYuY2xvbmUoKSk7fXRoaXMuZmFjZVZlcnRleFV2c1tpXS5wdXNoKHV2c0NvcHkpO319Ly8gbW9ycGggdGFyZ2V0cwp2YXIgbW9ycGhUYXJnZXRzPXNvdXJjZS5tb3JwaFRhcmdldHM7Zm9yKGk9MCxpbD1tb3JwaFRhcmdldHMubGVuZ3RoO2k8aWw7aSsrKXt2YXIgbW9ycGhUYXJnZXQ9e307bW9ycGhUYXJnZXQubmFtZT1tb3JwaFRhcmdldHNbaV0ubmFtZTsvLyB2ZXJ0aWNlcwppZihtb3JwaFRhcmdldHNbaV0udmVydGljZXMhPT11bmRlZmluZWQpe21vcnBoVGFyZ2V0LnZlcnRpY2VzPVtdO2ZvcihqPTAsamw9bW9ycGhUYXJnZXRzW2ldLnZlcnRpY2VzLmxlbmd0aDtqPGpsO2orKyl7bW9ycGhUYXJnZXQudmVydGljZXMucHVzaChtb3JwaFRhcmdldHNbaV0udmVydGljZXNbal0uY2xvbmUoKSk7fX0vLyBub3JtYWxzCmlmKG1vcnBoVGFyZ2V0c1tpXS5ub3JtYWxzIT09dW5kZWZpbmVkKXttb3JwaFRhcmdldC5ub3JtYWxzPVtdO2ZvcihqPTAsamw9bW9ycGhUYXJnZXRzW2ldLm5vcm1hbHMubGVuZ3RoO2o8amw7aisrKXttb3JwaFRhcmdldC5ub3JtYWxzLnB1c2gobW9ycGhUYXJnZXRzW2ldLm5vcm1hbHNbal0uY2xvbmUoKSk7fX10aGlzLm1vcnBoVGFyZ2V0cy5wdXNoKG1vcnBoVGFyZ2V0KTt9Ly8gbW9ycGggbm9ybWFscwp2YXIgbW9ycGhOb3JtYWxzPXNvdXJjZS5tb3JwaE5vcm1hbHM7Zm9yKGk9MCxpbD1tb3JwaE5vcm1hbHMubGVuZ3RoO2k8aWw7aSsrKXt2YXIgbW9ycGhOb3JtYWw9e307Ly8gdmVydGV4IG5vcm1hbHMKaWYobW9ycGhOb3JtYWxzW2ldLnZlcnRleE5vcm1hbHMhPT11bmRlZmluZWQpe21vcnBoTm9ybWFsLnZlcnRleE5vcm1hbHM9W107Zm9yKGo9MCxqbD1tb3JwaE5vcm1hbHNbaV0udmVydGV4Tm9ybWFscy5sZW5ndGg7ajxqbDtqKyspe3ZhciBzcmNWZXJ0ZXhOb3JtYWw9bW9ycGhOb3JtYWxzW2ldLnZlcnRleE5vcm1hbHNbal07dmFyIGRlc3RWZXJ0ZXhOb3JtYWw9e307ZGVzdFZlcnRleE5vcm1hbC5hPXNyY1ZlcnRleE5vcm1hbC5hLmNsb25lKCk7ZGVzdFZlcnRleE5vcm1hbC5iPXNyY1ZlcnRleE5vcm1hbC5iLmNsb25lKCk7ZGVzdFZlcnRleE5vcm1hbC5jPXNyY1ZlcnRleE5vcm1hbC5jLmNsb25lKCk7bW9ycGhOb3JtYWwudmVydGV4Tm9ybWFscy5wdXNoKGRlc3RWZXJ0ZXhOb3JtYWwpO319Ly8gZmFjZSBub3JtYWxzCmlmKG1vcnBoTm9ybWFsc1tpXS5mYWNlTm9ybWFscyE9PXVuZGVmaW5lZCl7bW9ycGhOb3JtYWwuZmFjZU5vcm1hbHM9W107Zm9yKGo9MCxqbD1tb3JwaE5vcm1hbHNbaV0uZmFjZU5vcm1hbHMubGVuZ3RoO2o8amw7aisrKXttb3JwaE5vcm1hbC5mYWNlTm9ybWFscy5wdXNoKG1vcnBoTm9ybWFsc1tpXS5mYWNlTm9ybWFsc1tqXS5jbG9uZSgpKTt9fXRoaXMubW9ycGhOb3JtYWxzLnB1c2gobW9ycGhOb3JtYWwpO30vLyBza2luIHdlaWdodHMKdmFyIHNraW5XZWlnaHRzPXNvdXJjZS5za2luV2VpZ2h0cztmb3IoaT0wLGlsPXNraW5XZWlnaHRzLmxlbmd0aDtpPGlsO2krKyl7dGhpcy5za2luV2VpZ2h0cy5wdXNoKHNraW5XZWlnaHRzW2ldLmNsb25lKCkpO30vLyBza2luIGluZGljZXMKdmFyIHNraW5JbmRpY2VzPXNvdXJjZS5za2luSW5kaWNlcztmb3IoaT0wLGlsPXNraW5JbmRpY2VzLmxlbmd0aDtpPGlsO2krKyl7dGhpcy5za2luSW5kaWNlcy5wdXNoKHNraW5JbmRpY2VzW2ldLmNsb25lKCkpO30vLyBsaW5lIGRpc3RhbmNlcwp2YXIgbGluZURpc3RhbmNlcz1zb3VyY2UubGluZURpc3RhbmNlcztmb3IoaT0wLGlsPWxpbmVEaXN0YW5jZXMubGVuZ3RoO2k8aWw7aSsrKXt0aGlzLmxpbmVEaXN0YW5jZXMucHVzaChsaW5lRGlzdGFuY2VzW2ldKTt9Ly8gYm91bmRpbmcgYm94CnZhciBib3VuZGluZ0JveD1zb3VyY2UuYm91bmRpbmdCb3g7aWYoYm91bmRpbmdCb3ghPT1udWxsKXt0aGlzLmJvdW5kaW5nQm94PWJvdW5kaW5nQm94LmNsb25lKCk7fS8vIGJvdW5kaW5nIHNwaGVyZQp2YXIgYm91bmRpbmdTcGhlcmU9c291cmNlLmJvdW5kaW5nU3BoZXJlO2lmKGJvdW5kaW5nU3BoZXJlIT09bnVsbCl7dGhpcy5ib3VuZGluZ1NwaGVyZT1ib3VuZGluZ1NwaGVyZS5jbG9uZSgpO30vLyB1cGRhdGUgZmxhZ3MKdGhpcy5lbGVtZW50c05lZWRVcGRhdGU9c291cmNlLmVsZW1lbnRzTmVlZFVwZGF0ZTt0aGlzLnZlcnRpY2VzTmVlZFVwZGF0ZT1zb3VyY2UudmVydGljZXNOZWVkVXBkYXRlO3RoaXMudXZzTmVlZFVwZGF0ZT1zb3VyY2UudXZzTmVlZFVwZGF0ZTt0aGlzLm5vcm1hbHNOZWVkVXBkYXRlPXNvdXJjZS5ub3JtYWxzTmVlZFVwZGF0ZTt0aGlzLmNvbG9yc05lZWRVcGRhdGU9c291cmNlLmNvbG9yc05lZWRVcGRhdGU7dGhpcy5saW5lRGlzdGFuY2VzTmVlZFVwZGF0ZT1zb3VyY2UubGluZURpc3RhbmNlc05lZWRVcGRhdGU7dGhpcy5ncm91cHNOZWVkVXBkYXRlPXNvdXJjZS5ncm91cHNOZWVkVXBkYXRlO3JldHVybiB0aGlzO30sZGlzcG9zZTpmdW5jdGlvbiBkaXNwb3NlKCl7dGhpcy5kaXNwYXRjaEV2ZW50KHt0eXBlOidkaXNwb3NlJ30pO319KTsvKioKICAgKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tLwogICAqIEBhdXRob3IgTXVnZW44NyAvIGh0dHBzOi8vZ2l0aHViLmNvbS9NdWdlbjg3CiAgICovIC8vIEJveEdlb21ldHJ5CnZhciBCb3hHZW9tZXRyeT0vKkBfX1BVUkVfXyovZnVuY3Rpb24oR2VvbWV0cnkpe2Z1bmN0aW9uIEJveEdlb21ldHJ5KHdpZHRoLGhlaWdodCxkZXB0aCx3aWR0aFNlZ21lbnRzLGhlaWdodFNlZ21lbnRzLGRlcHRoU2VnbWVudHMpe0dlb21ldHJ5LmNhbGwodGhpcyk7dGhpcy50eXBlPSdCb3hHZW9tZXRyeSc7dGhpcy5wYXJhbWV0ZXJzPXt3aWR0aDp3aWR0aCxoZWlnaHQ6aGVpZ2h0LGRlcHRoOmRlcHRoLHdpZHRoU2VnbWVudHM6d2lkdGhTZWdtZW50cyxoZWlnaHRTZWdtZW50czpoZWlnaHRTZWdtZW50cyxkZXB0aFNlZ21lbnRzOmRlcHRoU2VnbWVudHN9O3RoaXMuZnJvbUJ1ZmZlckdlb21ldHJ5KG5ldyBCb3hCdWZmZXJHZW9tZXRyeSh3aWR0aCxoZWlnaHQsZGVwdGgsd2lkdGhTZWdtZW50cyxoZWlnaHRTZWdtZW50cyxkZXB0aFNlZ21lbnRzKSk7dGhpcy5tZXJnZVZlcnRpY2VzKCk7fWlmKEdlb21ldHJ5KUJveEdlb21ldHJ5Ll9fcHJvdG9fXz1HZW9tZXRyeTtCb3hHZW9tZXRyeS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShHZW9tZXRyeSYmR2VvbWV0cnkucHJvdG90eXBlKTtCb3hHZW9tZXRyeS5wcm90b3R5cGUuY29uc3RydWN0b3I9Qm94R2VvbWV0cnk7cmV0dXJuIEJveEdlb21ldHJ5O30oR2VvbWV0cnkpOy8vIEJveEJ1ZmZlckdlb21ldHJ5CnZhciBCb3hCdWZmZXJHZW9tZXRyeT0vKkBfX1BVUkVfXyovZnVuY3Rpb24oQnVmZmVyR2VvbWV0cnkpe2Z1bmN0aW9uIEJveEJ1ZmZlckdlb21ldHJ5KHdpZHRoLGhlaWdodCxkZXB0aCx3aWR0aFNlZ21lbnRzLGhlaWdodFNlZ21lbnRzLGRlcHRoU2VnbWVudHMpe0J1ZmZlckdlb21ldHJ5LmNhbGwodGhpcyk7dGhpcy50eXBlPSdCb3hCdWZmZXJHZW9tZXRyeSc7dGhpcy5wYXJhbWV0ZXJzPXt3aWR0aDp3aWR0aCxoZWlnaHQ6aGVpZ2h0LGRlcHRoOmRlcHRoLHdpZHRoU2VnbWVudHM6d2lkdGhTZWdtZW50cyxoZWlnaHRTZWdtZW50czpoZWlnaHRTZWdtZW50cyxkZXB0aFNlZ21lbnRzOmRlcHRoU2VnbWVudHN9O3ZhciBzY29wZT10aGlzO3dpZHRoPXdpZHRofHwxO2hlaWdodD1oZWlnaHR8fDE7ZGVwdGg9ZGVwdGh8fDE7Ly8gc2VnbWVudHMKd2lkdGhTZWdtZW50cz1NYXRoLmZsb29yKHdpZHRoU2VnbWVudHMpfHwxO2hlaWdodFNlZ21lbnRzPU1hdGguZmxvb3IoaGVpZ2h0U2VnbWVudHMpfHwxO2RlcHRoU2VnbWVudHM9TWF0aC5mbG9vcihkZXB0aFNlZ21lbnRzKXx8MTsvLyBidWZmZXJzCnZhciBpbmRpY2VzPVtdO3ZhciB2ZXJ0aWNlcz1bXTt2YXIgbm9ybWFscz1bXTt2YXIgdXZzPVtdOy8vIGhlbHBlciB2YXJpYWJsZXMKdmFyIG51bWJlck9mVmVydGljZXM9MDt2YXIgZ3JvdXBTdGFydD0wOy8vIGJ1aWxkIGVhY2ggc2lkZSBvZiB0aGUgYm94IGdlb21ldHJ5CmJ1aWxkUGxhbmUoJ3onLCd5JywneCcsLTEsLTEsZGVwdGgsaGVpZ2h0LHdpZHRoLGRlcHRoU2VnbWVudHMsaGVpZ2h0U2VnbWVudHMsMCk7Ly8gcHgKYnVpbGRQbGFuZSgneicsJ3knLCd4JywxLC0xLGRlcHRoLGhlaWdodCwtd2lkdGgsZGVwdGhTZWdtZW50cyxoZWlnaHRTZWdtZW50cywxKTsvLyBueApidWlsZFBsYW5lKCd4JywneicsJ3knLDEsMSx3aWR0aCxkZXB0aCxoZWlnaHQsd2lkdGhTZWdtZW50cyxkZXB0aFNlZ21lbnRzLDIpOy8vIHB5CmJ1aWxkUGxhbmUoJ3gnLCd6JywneScsMSwtMSx3aWR0aCxkZXB0aCwtaGVpZ2h0LHdpZHRoU2VnbWVudHMsZGVwdGhTZWdtZW50cywzKTsvLyBueQpidWlsZFBsYW5lKCd4JywneScsJ3onLDEsLTEsd2lkdGgsaGVpZ2h0LGRlcHRoLHdpZHRoU2VnbWVudHMsaGVpZ2h0U2VnbWVudHMsNCk7Ly8gcHoKYnVpbGRQbGFuZSgneCcsJ3knLCd6JywtMSwtMSx3aWR0aCxoZWlnaHQsLWRlcHRoLHdpZHRoU2VnbWVudHMsaGVpZ2h0U2VnbWVudHMsNSk7Ly8gbnoKLy8gYnVpbGQgZ2VvbWV0cnkKdGhpcy5zZXRJbmRleChpbmRpY2VzKTt0aGlzLnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKHZlcnRpY2VzLDMpKTt0aGlzLnNldEF0dHJpYnV0ZSgnbm9ybWFsJyxuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZShub3JtYWxzLDMpKTt0aGlzLnNldEF0dHJpYnV0ZSgndXYnLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKHV2cywyKSk7ZnVuY3Rpb24gYnVpbGRQbGFuZSh1LHYsdyx1ZGlyLHZkaXIsd2lkdGgsaGVpZ2h0LGRlcHRoLGdyaWRYLGdyaWRZLG1hdGVyaWFsSW5kZXgpe3ZhciBzZWdtZW50V2lkdGg9d2lkdGgvZ3JpZFg7dmFyIHNlZ21lbnRIZWlnaHQ9aGVpZ2h0L2dyaWRZO3ZhciB3aWR0aEhhbGY9d2lkdGgvMjt2YXIgaGVpZ2h0SGFsZj1oZWlnaHQvMjt2YXIgZGVwdGhIYWxmPWRlcHRoLzI7dmFyIGdyaWRYMT1ncmlkWCsxO3ZhciBncmlkWTE9Z3JpZFkrMTt2YXIgdmVydGV4Q291bnRlcj0wO3ZhciBncm91cENvdW50PTA7dmFyIGl4LGl5O3ZhciB2ZWN0b3I9bmV3IFZlY3RvcjMoKTsvLyBnZW5lcmF0ZSB2ZXJ0aWNlcywgbm9ybWFscyBhbmQgdXZzCmZvcihpeT0wO2l5PGdyaWRZMTtpeSsrKXt2YXIgeT1peSpzZWdtZW50SGVpZ2h0LWhlaWdodEhhbGY7Zm9yKGl4PTA7aXg8Z3JpZFgxO2l4Kyspe3ZhciB4PWl4KnNlZ21lbnRXaWR0aC13aWR0aEhhbGY7Ly8gc2V0IHZhbHVlcyB0byBjb3JyZWN0IHZlY3RvciBjb21wb25lbnQKdmVjdG9yW3VdPXgqdWRpcjt2ZWN0b3Jbdl09eSp2ZGlyO3ZlY3Rvclt3XT1kZXB0aEhhbGY7Ly8gbm93IGFwcGx5IHZlY3RvciB0byB2ZXJ0ZXggYnVmZmVyCnZlcnRpY2VzLnB1c2godmVjdG9yLngsdmVjdG9yLnksdmVjdG9yLnopOy8vIHNldCB2YWx1ZXMgdG8gY29ycmVjdCB2ZWN0b3IgY29tcG9uZW50CnZlY3Rvclt1XT0wO3ZlY3Rvclt2XT0wO3ZlY3Rvclt3XT1kZXB0aD4wPzE6LTE7Ly8gbm93IGFwcGx5IHZlY3RvciB0byBub3JtYWwgYnVmZmVyCm5vcm1hbHMucHVzaCh2ZWN0b3IueCx2ZWN0b3IueSx2ZWN0b3Iueik7Ly8gdXZzCnV2cy5wdXNoKGl4L2dyaWRYKTt1dnMucHVzaCgxLWl5L2dyaWRZKTsvLyBjb3VudGVycwp2ZXJ0ZXhDb3VudGVyKz0xO319Ly8gaW5kaWNlcwovLyAxLiB5b3UgbmVlZCB0aHJlZSBpbmRpY2VzIHRvIGRyYXcgYSBzaW5nbGUgZmFjZQovLyAyLiBhIHNpbmdsZSBzZWdtZW50IGNvbnNpc3RzIG9mIHR3byBmYWNlcwovLyAzLiBzbyB3ZSBuZWVkIHRvIGdlbmVyYXRlIHNpeCAoMiozKSBpbmRpY2VzIHBlciBzZWdtZW50CmZvcihpeT0wO2l5PGdyaWRZO2l5Kyspe2ZvcihpeD0wO2l4PGdyaWRYO2l4Kyspe3ZhciBhPW51bWJlck9mVmVydGljZXMraXgrZ3JpZFgxKml5O3ZhciBiPW51bWJlck9mVmVydGljZXMraXgrZ3JpZFgxKihpeSsxKTt2YXIgYz1udW1iZXJPZlZlcnRpY2VzKyhpeCsxKStncmlkWDEqKGl5KzEpO3ZhciBkPW51bWJlck9mVmVydGljZXMrKGl4KzEpK2dyaWRYMSppeTsvLyBmYWNlcwppbmRpY2VzLnB1c2goYSxiLGQpO2luZGljZXMucHVzaChiLGMsZCk7Ly8gaW5jcmVhc2UgY291bnRlcgpncm91cENvdW50Kz02O319Ly8gYWRkIGEgZ3JvdXAgdG8gdGhlIGdlb21ldHJ5LiB0aGlzIHdpbGwgZW5zdXJlIG11bHRpIG1hdGVyaWFsIHN1cHBvcnQKc2NvcGUuYWRkR3JvdXAoZ3JvdXBTdGFydCxncm91cENvdW50LG1hdGVyaWFsSW5kZXgpOy8vIGNhbGN1bGF0ZSBuZXcgc3RhcnQgdmFsdWUgZm9yIGdyb3Vwcwpncm91cFN0YXJ0Kz1ncm91cENvdW50Oy8vIHVwZGF0ZSB0b3RhbCBudW1iZXIgb2YgdmVydGljZXMKbnVtYmVyT2ZWZXJ0aWNlcys9dmVydGV4Q291bnRlcjt9fWlmKEJ1ZmZlckdlb21ldHJ5KUJveEJ1ZmZlckdlb21ldHJ5Ll9fcHJvdG9fXz1CdWZmZXJHZW9tZXRyeTtCb3hCdWZmZXJHZW9tZXRyeS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShCdWZmZXJHZW9tZXRyeSYmQnVmZmVyR2VvbWV0cnkucHJvdG90eXBlKTtCb3hCdWZmZXJHZW9tZXRyeS5wcm90b3R5cGUuY29uc3RydWN0b3I9Qm94QnVmZmVyR2VvbWV0cnk7cmV0dXJuIEJveEJ1ZmZlckdlb21ldHJ5O30oQnVmZmVyR2VvbWV0cnkpOy8qKgogICAqIFVuaWZvcm0gVXRpbGl0aWVzCiAgICovZnVuY3Rpb24gY2xvbmVVbmlmb3JtcyhzcmMpe3ZhciBkc3Q9e307Zm9yKHZhciB1IGluIHNyYyl7ZHN0W3VdPXt9O2Zvcih2YXIgcCBpbiBzcmNbdV0pe3ZhciBwcm9wZXJ0eT1zcmNbdV1bcF07aWYocHJvcGVydHkmJihwcm9wZXJ0eS5pc0NvbG9yfHxwcm9wZXJ0eS5pc01hdHJpeDN8fHByb3BlcnR5LmlzTWF0cml4NHx8cHJvcGVydHkuaXNWZWN0b3IyfHxwcm9wZXJ0eS5pc1ZlY3RvcjN8fHByb3BlcnR5LmlzVmVjdG9yNHx8cHJvcGVydHkuaXNUZXh0dXJlKSl7ZHN0W3VdW3BdPXByb3BlcnR5LmNsb25lKCk7fWVsc2UgaWYoQXJyYXkuaXNBcnJheShwcm9wZXJ0eSkpe2RzdFt1XVtwXT1wcm9wZXJ0eS5zbGljZSgpO31lbHNle2RzdFt1XVtwXT1wcm9wZXJ0eTt9fX1yZXR1cm4gZHN0O31mdW5jdGlvbiBtZXJnZVVuaWZvcm1zKHVuaWZvcm1zKXt2YXIgbWVyZ2VkPXt9O2Zvcih2YXIgdT0wO3U8dW5pZm9ybXMubGVuZ3RoO3UrKyl7dmFyIHRtcD1jbG9uZVVuaWZvcm1zKHVuaWZvcm1zW3VdKTtmb3IodmFyIHAgaW4gdG1wKXttZXJnZWRbcF09dG1wW3BdO319cmV0dXJuIG1lcmdlZDt9Ly8gTGVnYWN5CnZhciBVbmlmb3Jtc1V0aWxzPXtjbG9uZTpjbG9uZVVuaWZvcm1zLG1lcmdlOm1lcmdlVW5pZm9ybXN9O3ZhciBkZWZhdWx0X3ZlcnRleD0idm9pZCBtYWluKCkge1xuXHRnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiBtb2RlbFZpZXdNYXRyaXggKiB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7XG59Ijt2YXIgZGVmYXVsdF9mcmFnbWVudD0idm9pZCBtYWluKCkge1xuXHRnbF9GcmFnQ29sb3IgPSB2ZWM0KCAxLjAsIDAuMCwgMC4wLCAxLjAgKTtcbn0iOy8qKgogICAqIEBhdXRob3IgYWx0ZXJlZHEgLyBodHRwOi8vYWx0ZXJlZHF1YWxpYS5jb20vCiAgICoKICAgKiBwYXJhbWV0ZXJzID0gewogICAqICBkZWZpbmVzOiB7ICJsYWJlbCIgOiAidmFsdWUiIH0sCiAgICogIHVuaWZvcm1zOiB7ICJwYXJhbWV0ZXIxIjogeyB2YWx1ZTogMS4wIH0sICJwYXJhbWV0ZXIyIjogeyB2YWx1ZTI6IDIgfSB9LAogICAqCiAgICogIGZyYWdtZW50U2hhZGVyOiA8c3RyaW5nPiwKICAgKiAgdmVydGV4U2hhZGVyOiA8c3RyaW5nPiwKICAgKgogICAqICB3aXJlZnJhbWU6IDxib29sZWFuPiwKICAgKiAgd2lyZWZyYW1lTGluZXdpZHRoOiA8ZmxvYXQ+LAogICAqCiAgICogIGxpZ2h0czogPGJvb2w+LAogICAqCiAgICogIHNraW5uaW5nOiA8Ym9vbD4sCiAgICogIG1vcnBoVGFyZ2V0czogPGJvb2w+LAogICAqICBtb3JwaE5vcm1hbHM6IDxib29sPgogICAqIH0KICAgKi9mdW5jdGlvbiBTaGFkZXJNYXRlcmlhbChwYXJhbWV0ZXJzKXtNYXRlcmlhbC5jYWxsKHRoaXMpO3RoaXMudHlwZT0nU2hhZGVyTWF0ZXJpYWwnO3RoaXMuZGVmaW5lcz17fTt0aGlzLnVuaWZvcm1zPXt9O3RoaXMudmVydGV4U2hhZGVyPWRlZmF1bHRfdmVydGV4O3RoaXMuZnJhZ21lbnRTaGFkZXI9ZGVmYXVsdF9mcmFnbWVudDt0aGlzLmxpbmV3aWR0aD0xO3RoaXMud2lyZWZyYW1lPWZhbHNlO3RoaXMud2lyZWZyYW1lTGluZXdpZHRoPTE7dGhpcy5mb2c9ZmFsc2U7Ly8gc2V0IHRvIHVzZSBzY2VuZSBmb2cKdGhpcy5saWdodHM9ZmFsc2U7Ly8gc2V0IHRvIHVzZSBzY2VuZSBsaWdodHMKdGhpcy5jbGlwcGluZz1mYWxzZTsvLyBzZXQgdG8gdXNlIHVzZXItZGVmaW5lZCBjbGlwcGluZyBwbGFuZXMKdGhpcy5za2lubmluZz1mYWxzZTsvLyBzZXQgdG8gdXNlIHNraW5uaW5nIGF0dHJpYnV0ZSBzdHJlYW1zCnRoaXMubW9ycGhUYXJnZXRzPWZhbHNlOy8vIHNldCB0byB1c2UgbW9ycGggdGFyZ2V0cwp0aGlzLm1vcnBoTm9ybWFscz1mYWxzZTsvLyBzZXQgdG8gdXNlIG1vcnBoIG5vcm1hbHMKdGhpcy5leHRlbnNpb25zPXtkZXJpdmF0aXZlczpmYWxzZSwvLyBzZXQgdG8gdXNlIGRlcml2YXRpdmVzCmZyYWdEZXB0aDpmYWxzZSwvLyBzZXQgdG8gdXNlIGZyYWdtZW50IGRlcHRoIHZhbHVlcwpkcmF3QnVmZmVyczpmYWxzZSwvLyBzZXQgdG8gdXNlIGRyYXcgYnVmZmVycwpzaGFkZXJUZXh0dXJlTE9EOmZhbHNlLy8gc2V0IHRvIHVzZSBzaGFkZXIgdGV4dHVyZSBMT0QKfTsvLyBXaGVuIHJlbmRlcmVkIGdlb21ldHJ5IGRvZXNuJ3QgaW5jbHVkZSB0aGVzZSBhdHRyaWJ1dGVzIGJ1dCB0aGUgbWF0ZXJpYWwgZG9lcywKLy8gdXNlIHRoZXNlIGRlZmF1bHQgdmFsdWVzIGluIFdlYkdMLiBUaGlzIGF2b2lkcyBlcnJvcnMgd2hlbiBidWZmZXIgZGF0YSBpcyBtaXNzaW5nLgp0aGlzLmRlZmF1bHRBdHRyaWJ1dGVWYWx1ZXM9eydjb2xvcic6WzEsMSwxXSwndXYnOlswLDBdLCd1djInOlswLDBdfTt0aGlzLmluZGV4MEF0dHJpYnV0ZU5hbWU9dW5kZWZpbmVkO3RoaXMudW5pZm9ybXNOZWVkVXBkYXRlPWZhbHNlO2lmKHBhcmFtZXRlcnMhPT11bmRlZmluZWQpe2lmKHBhcmFtZXRlcnMuYXR0cmlidXRlcyE9PXVuZGVmaW5lZCl7Y29uc29sZS5lcnJvcignVEhSRUUuU2hhZGVyTWF0ZXJpYWw6IGF0dHJpYnV0ZXMgc2hvdWxkIG5vdyBiZSBkZWZpbmVkIGluIFRIUkVFLkJ1ZmZlckdlb21ldHJ5IGluc3RlYWQuJyk7fXRoaXMuc2V0VmFsdWVzKHBhcmFtZXRlcnMpO319U2hhZGVyTWF0ZXJpYWwucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoTWF0ZXJpYWwucHJvdG90eXBlKTtTaGFkZXJNYXRlcmlhbC5wcm90b3R5cGUuY29uc3RydWN0b3I9U2hhZGVyTWF0ZXJpYWw7U2hhZGVyTWF0ZXJpYWwucHJvdG90eXBlLmlzU2hhZGVyTWF0ZXJpYWw9dHJ1ZTtTaGFkZXJNYXRlcmlhbC5wcm90b3R5cGUuY29weT1mdW5jdGlvbihzb3VyY2Upe01hdGVyaWFsLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyxzb3VyY2UpO3RoaXMuZnJhZ21lbnRTaGFkZXI9c291cmNlLmZyYWdtZW50U2hhZGVyO3RoaXMudmVydGV4U2hhZGVyPXNvdXJjZS52ZXJ0ZXhTaGFkZXI7dGhpcy51bmlmb3Jtcz1jbG9uZVVuaWZvcm1zKHNvdXJjZS51bmlmb3Jtcyk7dGhpcy5kZWZpbmVzPU9iamVjdC5hc3NpZ24oe30sc291cmNlLmRlZmluZXMpO3RoaXMud2lyZWZyYW1lPXNvdXJjZS53aXJlZnJhbWU7dGhpcy53aXJlZnJhbWVMaW5ld2lkdGg9c291cmNlLndpcmVmcmFtZUxpbmV3aWR0aDt0aGlzLmxpZ2h0cz1zb3VyY2UubGlnaHRzO3RoaXMuY2xpcHBpbmc9c291cmNlLmNsaXBwaW5nO3RoaXMuc2tpbm5pbmc9c291cmNlLnNraW5uaW5nO3RoaXMubW9ycGhUYXJnZXRzPXNvdXJjZS5tb3JwaFRhcmdldHM7dGhpcy5tb3JwaE5vcm1hbHM9c291cmNlLm1vcnBoTm9ybWFsczt0aGlzLmV4dGVuc2lvbnM9c291cmNlLmV4dGVuc2lvbnM7cmV0dXJuIHRoaXM7fTtTaGFkZXJNYXRlcmlhbC5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKG1ldGEpe3ZhciBkYXRhPU1hdGVyaWFsLnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzLG1ldGEpO2RhdGEudW5pZm9ybXM9e307Zm9yKHZhciBuYW1lIGluIHRoaXMudW5pZm9ybXMpe3ZhciB1bmlmb3JtPXRoaXMudW5pZm9ybXNbbmFtZV07dmFyIHZhbHVlPXVuaWZvcm0udmFsdWU7aWYodmFsdWUmJnZhbHVlLmlzVGV4dHVyZSl7ZGF0YS51bmlmb3Jtc1tuYW1lXT17dHlwZTondCcsdmFsdWU6dmFsdWUudG9KU09OKG1ldGEpLnV1aWR9O31lbHNlIGlmKHZhbHVlJiZ2YWx1ZS5pc0NvbG9yKXtkYXRhLnVuaWZvcm1zW25hbWVdPXt0eXBlOidjJyx2YWx1ZTp2YWx1ZS5nZXRIZXgoKX07fWVsc2UgaWYodmFsdWUmJnZhbHVlLmlzVmVjdG9yMil7ZGF0YS51bmlmb3Jtc1tuYW1lXT17dHlwZTondjInLHZhbHVlOnZhbHVlLnRvQXJyYXkoKX07fWVsc2UgaWYodmFsdWUmJnZhbHVlLmlzVmVjdG9yMyl7ZGF0YS51bmlmb3Jtc1tuYW1lXT17dHlwZTondjMnLHZhbHVlOnZhbHVlLnRvQXJyYXkoKX07fWVsc2UgaWYodmFsdWUmJnZhbHVlLmlzVmVjdG9yNCl7ZGF0YS51bmlmb3Jtc1tuYW1lXT17dHlwZTondjQnLHZhbHVlOnZhbHVlLnRvQXJyYXkoKX07fWVsc2UgaWYodmFsdWUmJnZhbHVlLmlzTWF0cml4Myl7ZGF0YS51bmlmb3Jtc1tuYW1lXT17dHlwZTonbTMnLHZhbHVlOnZhbHVlLnRvQXJyYXkoKX07fWVsc2UgaWYodmFsdWUmJnZhbHVlLmlzTWF0cml4NCl7ZGF0YS51bmlmb3Jtc1tuYW1lXT17dHlwZTonbTQnLHZhbHVlOnZhbHVlLnRvQXJyYXkoKX07fWVsc2V7ZGF0YS51bmlmb3Jtc1tuYW1lXT17dmFsdWU6dmFsdWV9Oy8vIG5vdGU6IHRoZSBhcnJheSB2YXJpYW50cyB2MnYsIHYzdiwgdjR2LCBtNHYgYW5kIHR2IGFyZSBub3Qgc3VwcG9ydGVkIHNvIGZhcgp9fWlmKE9iamVjdC5rZXlzKHRoaXMuZGVmaW5lcykubGVuZ3RoPjApe2RhdGEuZGVmaW5lcz10aGlzLmRlZmluZXM7fWRhdGEudmVydGV4U2hhZGVyPXRoaXMudmVydGV4U2hhZGVyO2RhdGEuZnJhZ21lbnRTaGFkZXI9dGhpcy5mcmFnbWVudFNoYWRlcjt2YXIgZXh0ZW5zaW9ucz17fTtmb3IodmFyIGtleSBpbiB0aGlzLmV4dGVuc2lvbnMpe2lmKHRoaXMuZXh0ZW5zaW9uc1trZXldPT09dHJ1ZSl7ZXh0ZW5zaW9uc1trZXldPXRydWU7fX1pZihPYmplY3Qua2V5cyhleHRlbnNpb25zKS5sZW5ndGg+MCl7ZGF0YS5leHRlbnNpb25zPWV4dGVuc2lvbnM7fXJldHVybiBkYXRhO307LyoqCiAgICogQGF1dGhvciBtcmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS8KICAgKiBAYXV0aG9yIG1pa2FlbCBlbXRpbmdlciAvIGh0dHA6Ly9nb21vLnNlLwogICAqIEBhdXRob3IgV2VzdExhbmdsZXkgLyBodHRwOi8vZ2l0aHViLmNvbS9XZXN0TGFuZ2xleQogICAqL2Z1bmN0aW9uIENhbWVyYSgpe09iamVjdDNELmNhbGwodGhpcyk7dGhpcy50eXBlPSdDYW1lcmEnO3RoaXMubWF0cml4V29ybGRJbnZlcnNlPW5ldyBNYXRyaXg0KCk7dGhpcy5wcm9qZWN0aW9uTWF0cml4PW5ldyBNYXRyaXg0KCk7dGhpcy5wcm9qZWN0aW9uTWF0cml4SW52ZXJzZT1uZXcgTWF0cml4NCgpO31DYW1lcmEucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShPYmplY3QzRC5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpDYW1lcmEsaXNDYW1lcmE6dHJ1ZSxjb3B5OmZ1bmN0aW9uIGNvcHkoc291cmNlLHJlY3Vyc2l2ZSl7T2JqZWN0M0QucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHNvdXJjZSxyZWN1cnNpdmUpO3RoaXMubWF0cml4V29ybGRJbnZlcnNlLmNvcHkoc291cmNlLm1hdHJpeFdvcmxkSW52ZXJzZSk7dGhpcy5wcm9qZWN0aW9uTWF0cml4LmNvcHkoc291cmNlLnByb2plY3Rpb25NYXRyaXgpO3RoaXMucHJvamVjdGlvbk1hdHJpeEludmVyc2UuY29weShzb3VyY2UucHJvamVjdGlvbk1hdHJpeEludmVyc2UpO3JldHVybiB0aGlzO30sZ2V0V29ybGREaXJlY3Rpb246ZnVuY3Rpb24gZ2V0V29ybGREaXJlY3Rpb24odGFyZ2V0KXtpZih0YXJnZXQ9PT11bmRlZmluZWQpe2NvbnNvbGUud2FybignVEhSRUUuQ2FtZXJhOiAuZ2V0V29ybGREaXJlY3Rpb24oKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkJyk7dGFyZ2V0PW5ldyBWZWN0b3IzKCk7fXRoaXMudXBkYXRlTWF0cml4V29ybGQodHJ1ZSk7dmFyIGU9dGhpcy5tYXRyaXhXb3JsZC5lbGVtZW50cztyZXR1cm4gdGFyZ2V0LnNldCgtZVs4XSwtZVs5XSwtZVsxMF0pLm5vcm1hbGl6ZSgpO30sdXBkYXRlTWF0cml4V29ybGQ6ZnVuY3Rpb24gdXBkYXRlTWF0cml4V29ybGQoZm9yY2Upe09iamVjdDNELnByb3RvdHlwZS51cGRhdGVNYXRyaXhXb3JsZC5jYWxsKHRoaXMsZm9yY2UpO3RoaXMubWF0cml4V29ybGRJbnZlcnNlLmdldEludmVyc2UodGhpcy5tYXRyaXhXb3JsZCk7fSxjbG9uZTpmdW5jdGlvbiBjbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmNvcHkodGhpcyk7fX0pOy8qKgogICAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb20vCiAgICogQGF1dGhvciBncmVnZ21hbiAvIGh0dHA6Ly9nYW1lcy5ncmVnZ21hbi5jb20vCiAgICogQGF1dGhvciB6ejg1IC8gaHR0cDovL3d3dy5sYWI0Z2FtZXMubmV0L3p6ODUvYmxvZwogICAqIEBhdXRob3IgdHNjaHcKICAgKi9mdW5jdGlvbiBQZXJzcGVjdGl2ZUNhbWVyYShmb3YsYXNwZWN0LG5lYXIsZmFyKXtDYW1lcmEuY2FsbCh0aGlzKTt0aGlzLnR5cGU9J1BlcnNwZWN0aXZlQ2FtZXJhJzt0aGlzLmZvdj1mb3YhPT11bmRlZmluZWQ/Zm92OjUwO3RoaXMuem9vbT0xO3RoaXMubmVhcj1uZWFyIT09dW5kZWZpbmVkP25lYXI6MC4xO3RoaXMuZmFyPWZhciE9PXVuZGVmaW5lZD9mYXI6MjAwMDt0aGlzLmZvY3VzPTEwO3RoaXMuYXNwZWN0PWFzcGVjdCE9PXVuZGVmaW5lZD9hc3BlY3Q6MTt0aGlzLnZpZXc9bnVsbDt0aGlzLmZpbG1HYXVnZT0zNTsvLyB3aWR0aCBvZiB0aGUgZmlsbSAoZGVmYXVsdCBpbiBtaWxsaW1ldGVycykKdGhpcy5maWxtT2Zmc2V0PTA7Ly8gaG9yaXpvbnRhbCBmaWxtIG9mZnNldCAoc2FtZSB1bml0IGFzIGdhdWdlKQp0aGlzLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTt9UGVyc3BlY3RpdmVDYW1lcmEucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShDYW1lcmEucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6UGVyc3BlY3RpdmVDYW1lcmEsaXNQZXJzcGVjdGl2ZUNhbWVyYTp0cnVlLGNvcHk6ZnVuY3Rpb24gY29weShzb3VyY2UscmVjdXJzaXZlKXtDYW1lcmEucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHNvdXJjZSxyZWN1cnNpdmUpO3RoaXMuZm92PXNvdXJjZS5mb3Y7dGhpcy56b29tPXNvdXJjZS56b29tO3RoaXMubmVhcj1zb3VyY2UubmVhcjt0aGlzLmZhcj1zb3VyY2UuZmFyO3RoaXMuZm9jdXM9c291cmNlLmZvY3VzO3RoaXMuYXNwZWN0PXNvdXJjZS5hc3BlY3Q7dGhpcy52aWV3PXNvdXJjZS52aWV3PT09bnVsbD9udWxsOk9iamVjdC5hc3NpZ24oe30sc291cmNlLnZpZXcpO3RoaXMuZmlsbUdhdWdlPXNvdXJjZS5maWxtR2F1Z2U7dGhpcy5maWxtT2Zmc2V0PXNvdXJjZS5maWxtT2Zmc2V0O3JldHVybiB0aGlzO30sLyoqCiAgICAgKiBTZXRzIHRoZSBGT1YgYnkgZm9jYWwgbGVuZ3RoIGluIHJlc3BlY3QgdG8gdGhlIGN1cnJlbnQgLmZpbG1HYXVnZS4KICAgICAqCiAgICAgKiBUaGUgZGVmYXVsdCBmaWxtIGdhdWdlIGlzIDM1LCBzbyB0aGF0IHRoZSBmb2NhbCBsZW5ndGggY2FuIGJlIHNwZWNpZmllZCBmb3IKICAgICAqIGEgMzVtbSAoZnVsbCBmcmFtZSkgY2FtZXJhLgogICAgICoKICAgICAqIFZhbHVlcyBmb3IgZm9jYWwgbGVuZ3RoIGFuZCBmaWxtIGdhdWdlIG11c3QgaGF2ZSB0aGUgc2FtZSB1bml0LgogICAgICovc2V0Rm9jYWxMZW5ndGg6ZnVuY3Rpb24gc2V0Rm9jYWxMZW5ndGgoZm9jYWxMZW5ndGgpey8vIHNlZSBodHRwOi8vd3d3LmJvYmF0a2lucy5jb20vcGhvdG9ncmFwaHkvdGVjaG5pY2FsL2ZpZWxkX29mX3ZpZXcuaHRtbAp2YXIgdkV4dGVudFNsb3BlPTAuNSp0aGlzLmdldEZpbG1IZWlnaHQoKS9mb2NhbExlbmd0aDt0aGlzLmZvdj1fTWF0aC5SQUQyREVHKjIqTWF0aC5hdGFuKHZFeHRlbnRTbG9wZSk7dGhpcy51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7fSwvKioKICAgICAqIENhbGN1bGF0ZXMgdGhlIGZvY2FsIGxlbmd0aCBmcm9tIHRoZSBjdXJyZW50IC5mb3YgYW5kIC5maWxtR2F1Z2UuCiAgICAgKi9nZXRGb2NhbExlbmd0aDpmdW5jdGlvbiBnZXRGb2NhbExlbmd0aCgpe3ZhciB2RXh0ZW50U2xvcGU9TWF0aC50YW4oX01hdGguREVHMlJBRCowLjUqdGhpcy5mb3YpO3JldHVybiAwLjUqdGhpcy5nZXRGaWxtSGVpZ2h0KCkvdkV4dGVudFNsb3BlO30sZ2V0RWZmZWN0aXZlRk9WOmZ1bmN0aW9uIGdldEVmZmVjdGl2ZUZPVigpe3JldHVybiBfTWF0aC5SQUQyREVHKjIqTWF0aC5hdGFuKE1hdGgudGFuKF9NYXRoLkRFRzJSQUQqMC41KnRoaXMuZm92KS90aGlzLnpvb20pO30sZ2V0RmlsbVdpZHRoOmZ1bmN0aW9uIGdldEZpbG1XaWR0aCgpey8vIGZpbG0gbm90IGNvbXBsZXRlbHkgY292ZXJlZCBpbiBwb3J0cmFpdCBmb3JtYXQgKGFzcGVjdCA8IDEpCnJldHVybiB0aGlzLmZpbG1HYXVnZSpNYXRoLm1pbih0aGlzLmFzcGVjdCwxKTt9LGdldEZpbG1IZWlnaHQ6ZnVuY3Rpb24gZ2V0RmlsbUhlaWdodCgpey8vIGZpbG0gbm90IGNvbXBsZXRlbHkgY292ZXJlZCBpbiBsYW5kc2NhcGUgZm9ybWF0IChhc3BlY3QgPiAxKQpyZXR1cm4gdGhpcy5maWxtR2F1Z2UvTWF0aC5tYXgodGhpcy5hc3BlY3QsMSk7fSwvKioKICAgICAqIFNldHMgYW4gb2Zmc2V0IGluIGEgbGFyZ2VyIGZydXN0dW0uIFRoaXMgaXMgdXNlZnVsIGZvciBtdWx0aS13aW5kb3cgb3IKICAgICAqIG11bHRpLW1vbml0b3IvbXVsdGktbWFjaGluZSBzZXR1cHMuCiAgICAgKgogICAgICogRm9yIGV4YW1wbGUsIGlmIHlvdSBoYXZlIDN4MiBtb25pdG9ycyBhbmQgZWFjaCBtb25pdG9yIGlzIDE5MjB4MTA4MCBhbmQKICAgICAqIHRoZSBtb25pdG9ycyBhcmUgaW4gZ3JpZCBsaWtlIHRoaXMKICAgICAqCiAgICAgKiAgICstLS0rLS0tKy0tLSsKICAgICAqICAgfCBBIHwgQiB8IEMgfAogICAgICogICArLS0tKy0tLSstLS0rCiAgICAgKiAgIHwgRCB8IEUgfCBGIHwKICAgICAqICAgKy0tLSstLS0rLS0tKwogICAgICoKICAgICAqIHRoZW4gZm9yIGVhY2ggbW9uaXRvciB5b3Ugd291bGQgY2FsbCBpdCBsaWtlIHRoaXMKICAgICAqCiAgICAgKiAgIHZhciB3ID0gMTkyMDsKICAgICAqICAgdmFyIGggPSAxMDgwOwogICAgICogICB2YXIgZnVsbFdpZHRoID0gdyAqIDM7CiAgICAgKiAgIHZhciBmdWxsSGVpZ2h0ID0gaCAqIDI7CiAgICAgKgogICAgICogICAtLUEtLQogICAgICogICBjYW1lcmEuc2V0Vmlld09mZnNldCggZnVsbFdpZHRoLCBmdWxsSGVpZ2h0LCB3ICogMCwgaCAqIDAsIHcsIGggKTsKICAgICAqICAgLS1CLS0KICAgICAqICAgY2FtZXJhLnNldFZpZXdPZmZzZXQoIGZ1bGxXaWR0aCwgZnVsbEhlaWdodCwgdyAqIDEsIGggKiAwLCB3LCBoICk7CiAgICAgKiAgIC0tQy0tCiAgICAgKiAgIGNhbWVyYS5zZXRWaWV3T2Zmc2V0KCBmdWxsV2lkdGgsIGZ1bGxIZWlnaHQsIHcgKiAyLCBoICogMCwgdywgaCApOwogICAgICogICAtLUQtLQogICAgICogICBjYW1lcmEuc2V0Vmlld09mZnNldCggZnVsbFdpZHRoLCBmdWxsSGVpZ2h0LCB3ICogMCwgaCAqIDEsIHcsIGggKTsKICAgICAqICAgLS1FLS0KICAgICAqICAgY2FtZXJhLnNldFZpZXdPZmZzZXQoIGZ1bGxXaWR0aCwgZnVsbEhlaWdodCwgdyAqIDEsIGggKiAxLCB3LCBoICk7CiAgICAgKiAgIC0tRi0tCiAgICAgKiAgIGNhbWVyYS5zZXRWaWV3T2Zmc2V0KCBmdWxsV2lkdGgsIGZ1bGxIZWlnaHQsIHcgKiAyLCBoICogMSwgdywgaCApOwogICAgICoKICAgICAqICAgTm90ZSB0aGVyZSBpcyBubyByZWFzb24gbW9uaXRvcnMgaGF2ZSB0byBiZSB0aGUgc2FtZSBzaXplIG9yIGluIGEgZ3JpZC4KICAgICAqL3NldFZpZXdPZmZzZXQ6ZnVuY3Rpb24gc2V0Vmlld09mZnNldChmdWxsV2lkdGgsZnVsbEhlaWdodCx4LHksd2lkdGgsaGVpZ2h0KXt0aGlzLmFzcGVjdD1mdWxsV2lkdGgvZnVsbEhlaWdodDtpZih0aGlzLnZpZXc9PT1udWxsKXt0aGlzLnZpZXc9e2VuYWJsZWQ6dHJ1ZSxmdWxsV2lkdGg6MSxmdWxsSGVpZ2h0OjEsb2Zmc2V0WDowLG9mZnNldFk6MCx3aWR0aDoxLGhlaWdodDoxfTt9dGhpcy52aWV3LmVuYWJsZWQ9dHJ1ZTt0aGlzLnZpZXcuZnVsbFdpZHRoPWZ1bGxXaWR0aDt0aGlzLnZpZXcuZnVsbEhlaWdodD1mdWxsSGVpZ2h0O3RoaXMudmlldy5vZmZzZXRYPXg7dGhpcy52aWV3Lm9mZnNldFk9eTt0aGlzLnZpZXcud2lkdGg9d2lkdGg7dGhpcy52aWV3LmhlaWdodD1oZWlnaHQ7dGhpcy51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7fSxjbGVhclZpZXdPZmZzZXQ6ZnVuY3Rpb24gY2xlYXJWaWV3T2Zmc2V0KCl7aWYodGhpcy52aWV3IT09bnVsbCl7dGhpcy52aWV3LmVuYWJsZWQ9ZmFsc2U7fXRoaXMudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO30sdXBkYXRlUHJvamVjdGlvbk1hdHJpeDpmdW5jdGlvbiB1cGRhdGVQcm9qZWN0aW9uTWF0cml4KCl7dmFyIG5lYXI9dGhpcy5uZWFyLHRvcD1uZWFyKk1hdGgudGFuKF9NYXRoLkRFRzJSQUQqMC41KnRoaXMuZm92KS90aGlzLnpvb20saGVpZ2h0PTIqdG9wLHdpZHRoPXRoaXMuYXNwZWN0KmhlaWdodCxsZWZ0PS0wLjUqd2lkdGgsdmlldz10aGlzLnZpZXc7aWYodGhpcy52aWV3IT09bnVsbCYmdGhpcy52aWV3LmVuYWJsZWQpe3ZhciBmdWxsV2lkdGg9dmlldy5mdWxsV2lkdGgsZnVsbEhlaWdodD12aWV3LmZ1bGxIZWlnaHQ7bGVmdCs9dmlldy5vZmZzZXRYKndpZHRoL2Z1bGxXaWR0aDt0b3AtPXZpZXcub2Zmc2V0WSpoZWlnaHQvZnVsbEhlaWdodDt3aWR0aCo9dmlldy53aWR0aC9mdWxsV2lkdGg7aGVpZ2h0Kj12aWV3LmhlaWdodC9mdWxsSGVpZ2h0O312YXIgc2tldz10aGlzLmZpbG1PZmZzZXQ7aWYoc2tldyE9PTApe2xlZnQrPW5lYXIqc2tldy90aGlzLmdldEZpbG1XaWR0aCgpO310aGlzLnByb2plY3Rpb25NYXRyaXgubWFrZVBlcnNwZWN0aXZlKGxlZnQsbGVmdCt3aWR0aCx0b3AsdG9wLWhlaWdodCxuZWFyLHRoaXMuZmFyKTt0aGlzLnByb2plY3Rpb25NYXRyaXhJbnZlcnNlLmdldEludmVyc2UodGhpcy5wcm9qZWN0aW9uTWF0cml4KTt9LHRvSlNPTjpmdW5jdGlvbiB0b0pTT04obWV0YSl7dmFyIGRhdGE9T2JqZWN0M0QucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMsbWV0YSk7ZGF0YS5vYmplY3QuZm92PXRoaXMuZm92O2RhdGEub2JqZWN0Lnpvb209dGhpcy56b29tO2RhdGEub2JqZWN0Lm5lYXI9dGhpcy5uZWFyO2RhdGEub2JqZWN0LmZhcj10aGlzLmZhcjtkYXRhLm9iamVjdC5mb2N1cz10aGlzLmZvY3VzO2RhdGEub2JqZWN0LmFzcGVjdD10aGlzLmFzcGVjdDtpZih0aGlzLnZpZXchPT1udWxsKXtkYXRhLm9iamVjdC52aWV3PU9iamVjdC5hc3NpZ24oe30sdGhpcy52aWV3KTt9ZGF0YS5vYmplY3QuZmlsbUdhdWdlPXRoaXMuZmlsbUdhdWdlO2RhdGEub2JqZWN0LmZpbG1PZmZzZXQ9dGhpcy5maWxtT2Zmc2V0O3JldHVybiBkYXRhO319KTsvKioKICAgKiBDYW1lcmEgZm9yIHJlbmRlcmluZyBjdWJlIG1hcHMKICAgKgktIHJlbmRlcnMgc2NlbmUgaW50byBheGlzLWFsaWduZWQgY3ViZQogICAqCiAgICogQGF1dGhvciBhbHRlcmVkcSAvIGh0dHA6Ly9hbHRlcmVkcXVhbGlhLmNvbS8KICAgKi92YXIgZm92PTkwLGFzcGVjdD0xO2Z1bmN0aW9uIEN1YmVDYW1lcmEobmVhcixmYXIsY3ViZVJlc29sdXRpb24sb3B0aW9ucyl7T2JqZWN0M0QuY2FsbCh0aGlzKTt0aGlzLnR5cGU9J0N1YmVDYW1lcmEnO3ZhciBjYW1lcmFQWD1uZXcgUGVyc3BlY3RpdmVDYW1lcmEoZm92LGFzcGVjdCxuZWFyLGZhcik7Y2FtZXJhUFgudXAuc2V0KDAsLTEsMCk7Y2FtZXJhUFgubG9va0F0KG5ldyBWZWN0b3IzKDEsMCwwKSk7dGhpcy5hZGQoY2FtZXJhUFgpO3ZhciBjYW1lcmFOWD1uZXcgUGVyc3BlY3RpdmVDYW1lcmEoZm92LGFzcGVjdCxuZWFyLGZhcik7Y2FtZXJhTlgudXAuc2V0KDAsLTEsMCk7Y2FtZXJhTlgubG9va0F0KG5ldyBWZWN0b3IzKC0xLDAsMCkpO3RoaXMuYWRkKGNhbWVyYU5YKTt2YXIgY2FtZXJhUFk9bmV3IFBlcnNwZWN0aXZlQ2FtZXJhKGZvdixhc3BlY3QsbmVhcixmYXIpO2NhbWVyYVBZLnVwLnNldCgwLDAsMSk7Y2FtZXJhUFkubG9va0F0KG5ldyBWZWN0b3IzKDAsMSwwKSk7dGhpcy5hZGQoY2FtZXJhUFkpO3ZhciBjYW1lcmFOWT1uZXcgUGVyc3BlY3RpdmVDYW1lcmEoZm92LGFzcGVjdCxuZWFyLGZhcik7Y2FtZXJhTlkudXAuc2V0KDAsMCwtMSk7Y2FtZXJhTlkubG9va0F0KG5ldyBWZWN0b3IzKDAsLTEsMCkpO3RoaXMuYWRkKGNhbWVyYU5ZKTt2YXIgY2FtZXJhUFo9bmV3IFBlcnNwZWN0aXZlQ2FtZXJhKGZvdixhc3BlY3QsbmVhcixmYXIpO2NhbWVyYVBaLnVwLnNldCgwLC0xLDApO2NhbWVyYVBaLmxvb2tBdChuZXcgVmVjdG9yMygwLDAsMSkpO3RoaXMuYWRkKGNhbWVyYVBaKTt2YXIgY2FtZXJhTlo9bmV3IFBlcnNwZWN0aXZlQ2FtZXJhKGZvdixhc3BlY3QsbmVhcixmYXIpO2NhbWVyYU5aLnVwLnNldCgwLC0xLDApO2NhbWVyYU5aLmxvb2tBdChuZXcgVmVjdG9yMygwLDAsLTEpKTt0aGlzLmFkZChjYW1lcmFOWik7b3B0aW9ucz1vcHRpb25zfHx7Zm9ybWF0OlJHQkZvcm1hdCxtYWdGaWx0ZXI6TGluZWFyRmlsdGVyLG1pbkZpbHRlcjpMaW5lYXJGaWx0ZXJ9O3RoaXMucmVuZGVyVGFyZ2V0PW5ldyBXZWJHTFJlbmRlclRhcmdldEN1YmUoY3ViZVJlc29sdXRpb24sY3ViZVJlc29sdXRpb24sb3B0aW9ucyk7dGhpcy5yZW5kZXJUYXJnZXQudGV4dHVyZS5uYW1lPSJDdWJlQ2FtZXJhIjt0aGlzLnVwZGF0ZT1mdW5jdGlvbihyZW5kZXJlcixzY2VuZSl7aWYodGhpcy5wYXJlbnQ9PT1udWxsKXt0aGlzLnVwZGF0ZU1hdHJpeFdvcmxkKCk7fXZhciBjdXJyZW50UmVuZGVyVGFyZ2V0PXJlbmRlcmVyLmdldFJlbmRlclRhcmdldCgpO3ZhciByZW5kZXJUYXJnZXQ9dGhpcy5yZW5kZXJUYXJnZXQ7dmFyIGdlbmVyYXRlTWlwbWFwcz1yZW5kZXJUYXJnZXQudGV4dHVyZS5nZW5lcmF0ZU1pcG1hcHM7cmVuZGVyVGFyZ2V0LnRleHR1cmUuZ2VuZXJhdGVNaXBtYXBzPWZhbHNlO3JlbmRlcmVyLnNldFJlbmRlclRhcmdldChyZW5kZXJUYXJnZXQsMCk7cmVuZGVyZXIucmVuZGVyKHNjZW5lLGNhbWVyYVBYKTtyZW5kZXJlci5zZXRSZW5kZXJUYXJnZXQocmVuZGVyVGFyZ2V0LDEpO3JlbmRlcmVyLnJlbmRlcihzY2VuZSxjYW1lcmFOWCk7cmVuZGVyZXIuc2V0UmVuZGVyVGFyZ2V0KHJlbmRlclRhcmdldCwyKTtyZW5kZXJlci5yZW5kZXIoc2NlbmUsY2FtZXJhUFkpO3JlbmRlcmVyLnNldFJlbmRlclRhcmdldChyZW5kZXJUYXJnZXQsMyk7cmVuZGVyZXIucmVuZGVyKHNjZW5lLGNhbWVyYU5ZKTtyZW5kZXJlci5zZXRSZW5kZXJUYXJnZXQocmVuZGVyVGFyZ2V0LDQpO3JlbmRlcmVyLnJlbmRlcihzY2VuZSxjYW1lcmFQWik7cmVuZGVyVGFyZ2V0LnRleHR1cmUuZ2VuZXJhdGVNaXBtYXBzPWdlbmVyYXRlTWlwbWFwcztyZW5kZXJlci5zZXRSZW5kZXJUYXJnZXQocmVuZGVyVGFyZ2V0LDUpO3JlbmRlcmVyLnJlbmRlcihzY2VuZSxjYW1lcmFOWik7cmVuZGVyZXIuc2V0UmVuZGVyVGFyZ2V0KGN1cnJlbnRSZW5kZXJUYXJnZXQpO307dGhpcy5jbGVhcj1mdW5jdGlvbihyZW5kZXJlcixjb2xvcixkZXB0aCxzdGVuY2lsKXt2YXIgY3VycmVudFJlbmRlclRhcmdldD1yZW5kZXJlci5nZXRSZW5kZXJUYXJnZXQoKTt2YXIgcmVuZGVyVGFyZ2V0PXRoaXMucmVuZGVyVGFyZ2V0O2Zvcih2YXIgaT0wO2k8NjtpKyspe3JlbmRlcmVyLnNldFJlbmRlclRhcmdldChyZW5kZXJUYXJnZXQsaSk7cmVuZGVyZXIuY2xlYXIoY29sb3IsZGVwdGgsc3RlbmNpbCk7fXJlbmRlcmVyLnNldFJlbmRlclRhcmdldChjdXJyZW50UmVuZGVyVGFyZ2V0KTt9O31DdWJlQ2FtZXJhLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKE9iamVjdDNELnByb3RvdHlwZSk7Q3ViZUNhbWVyYS5wcm90b3R5cGUuY29uc3RydWN0b3I9Q3ViZUNhbWVyYTsvKioKICAgKiBAYXV0aG9yIGFsdGVyZWRxIC8gaHR0cDovL2FsdGVyZWRxdWFsaWEuY29tCiAgICogQGF1dGhvciBXZXN0TGFuZ2xleSAvIGh0dHA6Ly9naXRodWIuY29tL1dlc3RMYW5nbGV5CiAgICovZnVuY3Rpb24gV2ViR0xSZW5kZXJUYXJnZXRDdWJlKHdpZHRoLGhlaWdodCxvcHRpb25zKXtXZWJHTFJlbmRlclRhcmdldC5jYWxsKHRoaXMsd2lkdGgsaGVpZ2h0LG9wdGlvbnMpO31XZWJHTFJlbmRlclRhcmdldEN1YmUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoV2ViR0xSZW5kZXJUYXJnZXQucHJvdG90eXBlKTtXZWJHTFJlbmRlclRhcmdldEN1YmUucHJvdG90eXBlLmNvbnN0cnVjdG9yPVdlYkdMUmVuZGVyVGFyZ2V0Q3ViZTtXZWJHTFJlbmRlclRhcmdldEN1YmUucHJvdG90eXBlLmlzV2ViR0xSZW5kZXJUYXJnZXRDdWJlPXRydWU7V2ViR0xSZW5kZXJUYXJnZXRDdWJlLnByb3RvdHlwZS5mcm9tRXF1aXJlY3Rhbmd1bGFyVGV4dHVyZT1mdW5jdGlvbihyZW5kZXJlcix0ZXh0dXJlKXt0aGlzLnRleHR1cmUudHlwZT10ZXh0dXJlLnR5cGU7dGhpcy50ZXh0dXJlLmZvcm1hdD10ZXh0dXJlLmZvcm1hdDt0aGlzLnRleHR1cmUuZW5jb2Rpbmc9dGV4dHVyZS5lbmNvZGluZzt2YXIgc2NlbmU9bmV3IFNjZW5lKCk7dmFyIHNoYWRlcj17dW5pZm9ybXM6e3RFcXVpcmVjdDp7dmFsdWU6bnVsbH19LHZlcnRleFNoYWRlcjpbInZhcnlpbmcgdmVjMyB2V29ybGREaXJlY3Rpb247IiwidmVjMyB0cmFuc2Zvcm1EaXJlY3Rpb24oIGluIHZlYzMgZGlyLCBpbiBtYXQ0IG1hdHJpeCApIHsiLCIJcmV0dXJuIG5vcm1hbGl6ZSggKCBtYXRyaXggKiB2ZWM0KCBkaXIsIDAuMCApICkueHl6ICk7IiwifSIsInZvaWQgbWFpbigpIHsiLCIJdldvcmxkRGlyZWN0aW9uID0gdHJhbnNmb3JtRGlyZWN0aW9uKCBwb3NpdGlvbiwgbW9kZWxNYXRyaXggKTsiLCIJI2luY2x1ZGUgPGJlZ2luX3ZlcnRleD4iLCIJI2luY2x1ZGUgPHByb2plY3RfdmVydGV4PiIsIn0iXS5qb2luKCdcbicpLGZyYWdtZW50U2hhZGVyOlsidW5pZm9ybSBzYW1wbGVyMkQgdEVxdWlyZWN0OyIsInZhcnlpbmcgdmVjMyB2V29ybGREaXJlY3Rpb247IiwiI2RlZmluZSBSRUNJUFJPQ0FMX1BJIDAuMzE4MzA5ODg2MTgiLCIjZGVmaW5lIFJFQ0lQUk9DQUxfUEkyIDAuMTU5MTU0OTQiLCJ2b2lkIG1haW4oKSB7IiwiCXZlYzMgZGlyZWN0aW9uID0gbm9ybWFsaXplKCB2V29ybGREaXJlY3Rpb24gKTsiLCIJdmVjMiBzYW1wbGVVVjsiLCIJc2FtcGxlVVYueSA9IGFzaW4oIGNsYW1wKCBkaXJlY3Rpb24ueSwgLSAxLjAsIDEuMCApICkgKiBSRUNJUFJPQ0FMX1BJICsgMC41OyIsIglzYW1wbGVVVi54ID0gYXRhbiggZGlyZWN0aW9uLnosIGRpcmVjdGlvbi54ICkgKiBSRUNJUFJPQ0FMX1BJMiArIDAuNTsiLCIJZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKCB0RXF1aXJlY3QsIHNhbXBsZVVWICk7IiwifSJdLmpvaW4oJ1xuJyl9O3ZhciBtYXRlcmlhbD1uZXcgU2hhZGVyTWF0ZXJpYWwoe3R5cGU6J0N1YmVtYXBGcm9tRXF1aXJlY3QnLHVuaWZvcm1zOmNsb25lVW5pZm9ybXMoc2hhZGVyLnVuaWZvcm1zKSx2ZXJ0ZXhTaGFkZXI6c2hhZGVyLnZlcnRleFNoYWRlcixmcmFnbWVudFNoYWRlcjpzaGFkZXIuZnJhZ21lbnRTaGFkZXIsc2lkZTpCYWNrU2lkZSxibGVuZGluZzpOb0JsZW5kaW5nfSk7bWF0ZXJpYWwudW5pZm9ybXMudEVxdWlyZWN0LnZhbHVlPXRleHR1cmU7dmFyIG1lc2g9bmV3IE1lc2gobmV3IEJveEJ1ZmZlckdlb21ldHJ5KDUsNSw1KSxtYXRlcmlhbCk7c2NlbmUuYWRkKG1lc2gpO3ZhciBjYW1lcmE9bmV3IEN1YmVDYW1lcmEoMSwxMCwxKTtjYW1lcmEucmVuZGVyVGFyZ2V0PXRoaXM7Y2FtZXJhLnJlbmRlclRhcmdldC50ZXh0dXJlLm5hbWU9J0N1YmVDYW1lcmFUZXh0dXJlJztjYW1lcmEudXBkYXRlKHJlbmRlcmVyLHNjZW5lKTttZXNoLmdlb21ldHJ5LmRpc3Bvc2UoKTttZXNoLm1hdGVyaWFsLmRpc3Bvc2UoKTtyZXR1cm4gdGhpczt9Oy8qKgogICAqIEBhdXRob3IgYWx0ZXJlZHEgLyBodHRwOi8vYWx0ZXJlZHF1YWxpYS5jb20vCiAgICovZnVuY3Rpb24gRGF0YVRleHR1cmUoZGF0YSx3aWR0aCxoZWlnaHQsZm9ybWF0LHR5cGUsbWFwcGluZyx3cmFwUyx3cmFwVCxtYWdGaWx0ZXIsbWluRmlsdGVyLGFuaXNvdHJvcHksZW5jb2Rpbmcpe1RleHR1cmUuY2FsbCh0aGlzLG51bGwsbWFwcGluZyx3cmFwUyx3cmFwVCxtYWdGaWx0ZXIsbWluRmlsdGVyLGZvcm1hdCx0eXBlLGFuaXNvdHJvcHksZW5jb2RpbmcpO3RoaXMuaW1hZ2U9e2RhdGE6ZGF0YXx8bnVsbCx3aWR0aDp3aWR0aHx8MSxoZWlnaHQ6aGVpZ2h0fHwxfTt0aGlzLm1hZ0ZpbHRlcj1tYWdGaWx0ZXIhPT11bmRlZmluZWQ/bWFnRmlsdGVyOk5lYXJlc3RGaWx0ZXI7dGhpcy5taW5GaWx0ZXI9bWluRmlsdGVyIT09dW5kZWZpbmVkP21pbkZpbHRlcjpOZWFyZXN0RmlsdGVyO3RoaXMuZ2VuZXJhdGVNaXBtYXBzPWZhbHNlO3RoaXMuZmxpcFk9ZmFsc2U7dGhpcy51bnBhY2tBbGlnbm1lbnQ9MTt0aGlzLm5lZWRzVXBkYXRlPXRydWU7fURhdGFUZXh0dXJlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFRleHR1cmUucHJvdG90eXBlKTtEYXRhVGV4dHVyZS5wcm90b3R5cGUuY29uc3RydWN0b3I9RGF0YVRleHR1cmU7RGF0YVRleHR1cmUucHJvdG90eXBlLmlzRGF0YVRleHR1cmU9dHJ1ZTsvKioKICAgKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tLwogICAqIEBhdXRob3IgYWx0ZXJlZHEgLyBodHRwOi8vYWx0ZXJlZHF1YWxpYS5jb20vCiAgICogQGF1dGhvciBiaG91c3RvbiAvIGh0dHA6Ly9jbGFyYS5pbwogICAqL3ZhciBfc3BoZXJlJDE9bmV3IFNwaGVyZSgpO3ZhciBfdmVjdG9yJDY9bmV3IFZlY3RvcjMoKTtmdW5jdGlvbiBGcnVzdHVtKHAwLHAxLHAyLHAzLHA0LHA1KXt0aGlzLnBsYW5lcz1bcDAhPT11bmRlZmluZWQ/cDA6bmV3IFBsYW5lKCkscDEhPT11bmRlZmluZWQ/cDE6bmV3IFBsYW5lKCkscDIhPT11bmRlZmluZWQ/cDI6bmV3IFBsYW5lKCkscDMhPT11bmRlZmluZWQ/cDM6bmV3IFBsYW5lKCkscDQhPT11bmRlZmluZWQ/cDQ6bmV3IFBsYW5lKCkscDUhPT11bmRlZmluZWQ/cDU6bmV3IFBsYW5lKCldO31PYmplY3QuYXNzaWduKEZydXN0dW0ucHJvdG90eXBlLHtzZXQ6ZnVuY3Rpb24gc2V0KHAwLHAxLHAyLHAzLHA0LHA1KXt2YXIgcGxhbmVzPXRoaXMucGxhbmVzO3BsYW5lc1swXS5jb3B5KHAwKTtwbGFuZXNbMV0uY29weShwMSk7cGxhbmVzWzJdLmNvcHkocDIpO3BsYW5lc1szXS5jb3B5KHAzKTtwbGFuZXNbNF0uY29weShwNCk7cGxhbmVzWzVdLmNvcHkocDUpO3JldHVybiB0aGlzO30sY2xvbmU6ZnVuY3Rpb24gY2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoKS5jb3B5KHRoaXMpO30sY29weTpmdW5jdGlvbiBjb3B5KGZydXN0dW0pe3ZhciBwbGFuZXM9dGhpcy5wbGFuZXM7Zm9yKHZhciBpPTA7aTw2O2krKyl7cGxhbmVzW2ldLmNvcHkoZnJ1c3R1bS5wbGFuZXNbaV0pO31yZXR1cm4gdGhpczt9LHNldEZyb21NYXRyaXg6ZnVuY3Rpb24gc2V0RnJvbU1hdHJpeChtKXt2YXIgcGxhbmVzPXRoaXMucGxhbmVzO3ZhciBtZT1tLmVsZW1lbnRzO3ZhciBtZTA9bWVbMF0sbWUxPW1lWzFdLG1lMj1tZVsyXSxtZTM9bWVbM107dmFyIG1lND1tZVs0XSxtZTU9bWVbNV0sbWU2PW1lWzZdLG1lNz1tZVs3XTt2YXIgbWU4PW1lWzhdLG1lOT1tZVs5XSxtZTEwPW1lWzEwXSxtZTExPW1lWzExXTt2YXIgbWUxMj1tZVsxMl0sbWUxMz1tZVsxM10sbWUxND1tZVsxNF0sbWUxNT1tZVsxNV07cGxhbmVzWzBdLnNldENvbXBvbmVudHMobWUzLW1lMCxtZTctbWU0LG1lMTEtbWU4LG1lMTUtbWUxMikubm9ybWFsaXplKCk7cGxhbmVzWzFdLnNldENvbXBvbmVudHMobWUzK21lMCxtZTcrbWU0LG1lMTErbWU4LG1lMTUrbWUxMikubm9ybWFsaXplKCk7cGxhbmVzWzJdLnNldENvbXBvbmVudHMobWUzK21lMSxtZTcrbWU1LG1lMTErbWU5LG1lMTUrbWUxMykubm9ybWFsaXplKCk7cGxhbmVzWzNdLnNldENvbXBvbmVudHMobWUzLW1lMSxtZTctbWU1LG1lMTEtbWU5LG1lMTUtbWUxMykubm9ybWFsaXplKCk7cGxhbmVzWzRdLnNldENvbXBvbmVudHMobWUzLW1lMixtZTctbWU2LG1lMTEtbWUxMCxtZTE1LW1lMTQpLm5vcm1hbGl6ZSgpO3BsYW5lc1s1XS5zZXRDb21wb25lbnRzKG1lMyttZTIsbWU3K21lNixtZTExK21lMTAsbWUxNSttZTE0KS5ub3JtYWxpemUoKTtyZXR1cm4gdGhpczt9LGludGVyc2VjdHNPYmplY3Q6ZnVuY3Rpb24gaW50ZXJzZWN0c09iamVjdChvYmplY3Qpe3ZhciBnZW9tZXRyeT1vYmplY3QuZ2VvbWV0cnk7aWYoZ2VvbWV0cnkuYm91bmRpbmdTcGhlcmU9PT1udWxsKXtnZW9tZXRyeS5jb21wdXRlQm91bmRpbmdTcGhlcmUoKTt9X3NwaGVyZSQxLmNvcHkoZ2VvbWV0cnkuYm91bmRpbmdTcGhlcmUpLmFwcGx5TWF0cml4NChvYmplY3QubWF0cml4V29ybGQpO3JldHVybiB0aGlzLmludGVyc2VjdHNTcGhlcmUoX3NwaGVyZSQxKTt9LGludGVyc2VjdHNTcHJpdGU6ZnVuY3Rpb24gaW50ZXJzZWN0c1Nwcml0ZShzcHJpdGUpe19zcGhlcmUkMS5jZW50ZXIuc2V0KDAsMCwwKTtfc3BoZXJlJDEucmFkaXVzPTAuNzA3MTA2NzgxMTg2NTQ3Njtfc3BoZXJlJDEuYXBwbHlNYXRyaXg0KHNwcml0ZS5tYXRyaXhXb3JsZCk7cmV0dXJuIHRoaXMuaW50ZXJzZWN0c1NwaGVyZShfc3BoZXJlJDEpO30saW50ZXJzZWN0c1NwaGVyZTpmdW5jdGlvbiBpbnRlcnNlY3RzU3BoZXJlKHNwaGVyZSl7dmFyIHBsYW5lcz10aGlzLnBsYW5lczt2YXIgY2VudGVyPXNwaGVyZS5jZW50ZXI7dmFyIG5lZ1JhZGl1cz0tc3BoZXJlLnJhZGl1cztmb3IodmFyIGk9MDtpPDY7aSsrKXt2YXIgZGlzdGFuY2U9cGxhbmVzW2ldLmRpc3RhbmNlVG9Qb2ludChjZW50ZXIpO2lmKGRpc3RhbmNlPG5lZ1JhZGl1cyl7cmV0dXJuIGZhbHNlO319cmV0dXJuIHRydWU7fSxpbnRlcnNlY3RzQm94OmZ1bmN0aW9uIGludGVyc2VjdHNCb3goYm94KXt2YXIgcGxhbmVzPXRoaXMucGxhbmVzO2Zvcih2YXIgaT0wO2k8NjtpKyspe3ZhciBwbGFuZT1wbGFuZXNbaV07Ly8gY29ybmVyIGF0IG1heCBkaXN0YW5jZQpfdmVjdG9yJDYueD1wbGFuZS5ub3JtYWwueD4wP2JveC5tYXgueDpib3gubWluLng7X3ZlY3RvciQ2Lnk9cGxhbmUubm9ybWFsLnk+MD9ib3gubWF4Lnk6Ym94Lm1pbi55O192ZWN0b3IkNi56PXBsYW5lLm5vcm1hbC56PjA/Ym94Lm1heC56OmJveC5taW4uejtpZihwbGFuZS5kaXN0YW5jZVRvUG9pbnQoX3ZlY3RvciQ2KTwwKXtyZXR1cm4gZmFsc2U7fX1yZXR1cm4gdHJ1ZTt9LGNvbnRhaW5zUG9pbnQ6ZnVuY3Rpb24gY29udGFpbnNQb2ludChwb2ludCl7dmFyIHBsYW5lcz10aGlzLnBsYW5lcztmb3IodmFyIGk9MDtpPDY7aSsrKXtpZihwbGFuZXNbaV0uZGlzdGFuY2VUb1BvaW50KHBvaW50KTwwKXtyZXR1cm4gZmFsc2U7fX1yZXR1cm4gdHJ1ZTt9fSk7dmFyIGFscGhhbWFwX2ZyYWdtZW50PSIjaWZkZWYgVVNFX0FMUEhBTUFQXG5cdGRpZmZ1c2VDb2xvci5hICo9IHRleHR1cmUyRCggYWxwaGFNYXAsIHZVdiApLmc7XG4jZW5kaWYiO3ZhciBhbHBoYW1hcF9wYXJzX2ZyYWdtZW50PSIjaWZkZWYgVVNFX0FMUEhBTUFQXG5cdHVuaWZvcm0gc2FtcGxlcjJEIGFscGhhTWFwO1xuI2VuZGlmIjt2YXIgYWxwaGF0ZXN0X2ZyYWdtZW50PSIjaWZkZWYgQUxQSEFURVNUXG5cdGlmICggZGlmZnVzZUNvbG9yLmEgPCBBTFBIQVRFU1QgKSBkaXNjYXJkO1xuI2VuZGlmIjt2YXIgYW9tYXBfZnJhZ21lbnQ9IiNpZmRlZiBVU0VfQU9NQVBcblx0ZmxvYXQgYW1iaWVudE9jY2x1c2lvbiA9ICggdGV4dHVyZTJEKCBhb01hcCwgdlV2MiApLnIgLSAxLjAgKSAqIGFvTWFwSW50ZW5zaXR5ICsgMS4wO1xuXHRyZWZsZWN0ZWRMaWdodC5pbmRpcmVjdERpZmZ1c2UgKj0gYW1iaWVudE9jY2x1c2lvbjtcblx0I2lmIGRlZmluZWQoIFVTRV9FTlZNQVAgKSAmJiBkZWZpbmVkKCBTVEFOREFSRCApXG5cdFx0ZmxvYXQgZG90TlYgPSBzYXR1cmF0ZSggZG90KCBnZW9tZXRyeS5ub3JtYWwsIGdlb21ldHJ5LnZpZXdEaXIgKSApO1xuXHRcdHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0U3BlY3VsYXIgKj0gY29tcHV0ZVNwZWN1bGFyT2NjbHVzaW9uKCBkb3ROViwgYW1iaWVudE9jY2x1c2lvbiwgbWF0ZXJpYWwuc3BlY3VsYXJSb3VnaG5lc3MgKTtcblx0I2VuZGlmXG4jZW5kaWYiO3ZhciBhb21hcF9wYXJzX2ZyYWdtZW50PSIjaWZkZWYgVVNFX0FPTUFQXG5cdHVuaWZvcm0gc2FtcGxlcjJEIGFvTWFwO1xuXHR1bmlmb3JtIGZsb2F0IGFvTWFwSW50ZW5zaXR5O1xuI2VuZGlmIjt2YXIgYmVnaW5fdmVydGV4PSJ2ZWMzIHRyYW5zZm9ybWVkID0gdmVjMyggcG9zaXRpb24gKTsiO3ZhciBiZWdpbm5vcm1hbF92ZXJ0ZXg9InZlYzMgb2JqZWN0Tm9ybWFsID0gdmVjMyggbm9ybWFsICk7XG4jaWZkZWYgVVNFX1RBTkdFTlRcblx0dmVjMyBvYmplY3RUYW5nZW50ID0gdmVjMyggdGFuZ2VudC54eXogKTtcbiNlbmRpZiI7dmFyIGJzZGZzPSJ2ZWMyIGludGVncmF0ZVNwZWN1bGFyQlJERiggY29uc3QgaW4gZmxvYXQgZG90TlYsIGNvbnN0IGluIGZsb2F0IHJvdWdobmVzcyApIHtcblx0Y29uc3QgdmVjNCBjMCA9IHZlYzQoIC0gMSwgLSAwLjAyNzUsIC0gMC41NzIsIDAuMDIyICk7XG5cdGNvbnN0IHZlYzQgYzEgPSB2ZWM0KCAxLCAwLjA0MjUsIDEuMDQsIC0gMC4wNCApO1xuXHR2ZWM0IHIgPSByb3VnaG5lc3MgKiBjMCArIGMxO1xuXHRmbG9hdCBhMDA0ID0gbWluKCByLnggKiByLngsIGV4cDIoIC0gOS4yOCAqIGRvdE5WICkgKSAqIHIueCArIHIueTtcblx0cmV0dXJuIHZlYzIoIC0xLjA0LCAxLjA0ICkgKiBhMDA0ICsgci56dztcbn1cbmZsb2F0IHB1bmN0dWFsTGlnaHRJbnRlbnNpdHlUb0lycmFkaWFuY2VGYWN0b3IoIGNvbnN0IGluIGZsb2F0IGxpZ2h0RGlzdGFuY2UsIGNvbnN0IGluIGZsb2F0IGN1dG9mZkRpc3RhbmNlLCBjb25zdCBpbiBmbG9hdCBkZWNheUV4cG9uZW50ICkge1xuI2lmIGRlZmluZWQgKCBQSFlTSUNBTExZX0NPUlJFQ1RfTElHSFRTIClcblx0ZmxvYXQgZGlzdGFuY2VGYWxsb2ZmID0gMS4wIC8gbWF4KCBwb3coIGxpZ2h0RGlzdGFuY2UsIGRlY2F5RXhwb25lbnQgKSwgMC4wMSApO1xuXHRpZiggY3V0b2ZmRGlzdGFuY2UgPiAwLjAgKSB7XG5cdFx0ZGlzdGFuY2VGYWxsb2ZmICo9IHBvdzIoIHNhdHVyYXRlKCAxLjAgLSBwb3c0KCBsaWdodERpc3RhbmNlIC8gY3V0b2ZmRGlzdGFuY2UgKSApICk7XG5cdH1cblx0cmV0dXJuIGRpc3RhbmNlRmFsbG9mZjtcbiNlbHNlXG5cdGlmKCBjdXRvZmZEaXN0YW5jZSA+IDAuMCAmJiBkZWNheUV4cG9uZW50ID4gMC4wICkge1xuXHRcdHJldHVybiBwb3coIHNhdHVyYXRlKCAtbGlnaHREaXN0YW5jZSAvIGN1dG9mZkRpc3RhbmNlICsgMS4wICksIGRlY2F5RXhwb25lbnQgKTtcblx0fVxuXHRyZXR1cm4gMS4wO1xuI2VuZGlmXG59XG52ZWMzIEJSREZfRGlmZnVzZV9MYW1iZXJ0KCBjb25zdCBpbiB2ZWMzIGRpZmZ1c2VDb2xvciApIHtcblx0cmV0dXJuIFJFQ0lQUk9DQUxfUEkgKiBkaWZmdXNlQ29sb3I7XG59XG52ZWMzIEZfU2NobGljayggY29uc3QgaW4gdmVjMyBzcGVjdWxhckNvbG9yLCBjb25zdCBpbiBmbG9hdCBkb3RMSCApIHtcblx0ZmxvYXQgZnJlc25lbCA9IGV4cDIoICggLTUuNTU0NzMgKiBkb3RMSCAtIDYuOTgzMTYgKSAqIGRvdExIICk7XG5cdHJldHVybiAoIDEuMCAtIHNwZWN1bGFyQ29sb3IgKSAqIGZyZXNuZWwgKyBzcGVjdWxhckNvbG9yO1xufVxudmVjMyBGX1NjaGxpY2tfUm91Z2huZXNzRGVwZW5kZW50KCBjb25zdCBpbiB2ZWMzIEYwLCBjb25zdCBpbiBmbG9hdCBkb3ROViwgY29uc3QgaW4gZmxvYXQgcm91Z2huZXNzICkge1xuXHRmbG9hdCBmcmVzbmVsID0gZXhwMiggKCAtNS41NTQ3MyAqIGRvdE5WIC0gNi45ODMxNiApICogZG90TlYgKTtcblx0dmVjMyBGciA9IG1heCggdmVjMyggMS4wIC0gcm91Z2huZXNzICksIEYwICkgLSBGMDtcblx0cmV0dXJuIEZyICogZnJlc25lbCArIEYwO1xufVxuZmxvYXQgR19HR1hfU21pdGgoIGNvbnN0IGluIGZsb2F0IGFscGhhLCBjb25zdCBpbiBmbG9hdCBkb3ROTCwgY29uc3QgaW4gZmxvYXQgZG90TlYgKSB7XG5cdGZsb2F0IGEyID0gcG93MiggYWxwaGEgKTtcblx0ZmxvYXQgZ2wgPSBkb3ROTCArIHNxcnQoIGEyICsgKCAxLjAgLSBhMiApICogcG93MiggZG90TkwgKSApO1xuXHRmbG9hdCBndiA9IGRvdE5WICsgc3FydCggYTIgKyAoIDEuMCAtIGEyICkgKiBwb3cyKCBkb3ROViApICk7XG5cdHJldHVybiAxLjAgLyAoIGdsICogZ3YgKTtcbn1cbmZsb2F0IEdfR0dYX1NtaXRoQ29ycmVsYXRlZCggY29uc3QgaW4gZmxvYXQgYWxwaGEsIGNvbnN0IGluIGZsb2F0IGRvdE5MLCBjb25zdCBpbiBmbG9hdCBkb3ROViApIHtcblx0ZmxvYXQgYTIgPSBwb3cyKCBhbHBoYSApO1xuXHRmbG9hdCBndiA9IGRvdE5MICogc3FydCggYTIgKyAoIDEuMCAtIGEyICkgKiBwb3cyKCBkb3ROViApICk7XG5cdGZsb2F0IGdsID0gZG90TlYgKiBzcXJ0KCBhMiArICggMS4wIC0gYTIgKSAqIHBvdzIoIGRvdE5MICkgKTtcblx0cmV0dXJuIDAuNSAvIG1heCggZ3YgKyBnbCwgRVBTSUxPTiApO1xufVxuZmxvYXQgRF9HR1goIGNvbnN0IGluIGZsb2F0IGFscGhhLCBjb25zdCBpbiBmbG9hdCBkb3ROSCApIHtcblx0ZmxvYXQgYTIgPSBwb3cyKCBhbHBoYSApO1xuXHRmbG9hdCBkZW5vbSA9IHBvdzIoIGRvdE5IICkgKiAoIGEyIC0gMS4wICkgKyAxLjA7XG5cdHJldHVybiBSRUNJUFJPQ0FMX1BJICogYTIgLyBwb3cyKCBkZW5vbSApO1xufVxudmVjMyBCUkRGX1NwZWN1bGFyX0dHWCggY29uc3QgaW4gSW5jaWRlbnRMaWdodCBpbmNpZGVudExpZ2h0LCBjb25zdCBpbiB2ZWMzIHZpZXdEaXIsIGNvbnN0IGluIHZlYzMgbm9ybWFsLCBjb25zdCBpbiB2ZWMzIHNwZWN1bGFyQ29sb3IsIGNvbnN0IGluIGZsb2F0IHJvdWdobmVzcyApIHtcblx0ZmxvYXQgYWxwaGEgPSBwb3cyKCByb3VnaG5lc3MgKTtcblx0dmVjMyBoYWxmRGlyID0gbm9ybWFsaXplKCBpbmNpZGVudExpZ2h0LmRpcmVjdGlvbiArIHZpZXdEaXIgKTtcblx0ZmxvYXQgZG90TkwgPSBzYXR1cmF0ZSggZG90KCBub3JtYWwsIGluY2lkZW50TGlnaHQuZGlyZWN0aW9uICkgKTtcblx0ZmxvYXQgZG90TlYgPSBzYXR1cmF0ZSggZG90KCBub3JtYWwsIHZpZXdEaXIgKSApO1xuXHRmbG9hdCBkb3ROSCA9IHNhdHVyYXRlKCBkb3QoIG5vcm1hbCwgaGFsZkRpciApICk7XG5cdGZsb2F0IGRvdExIID0gc2F0dXJhdGUoIGRvdCggaW5jaWRlbnRMaWdodC5kaXJlY3Rpb24sIGhhbGZEaXIgKSApO1xuXHR2ZWMzIEYgPSBGX1NjaGxpY2soIHNwZWN1bGFyQ29sb3IsIGRvdExIICk7XG5cdGZsb2F0IEcgPSBHX0dHWF9TbWl0aENvcnJlbGF0ZWQoIGFscGhhLCBkb3ROTCwgZG90TlYgKTtcblx0ZmxvYXQgRCA9IERfR0dYKCBhbHBoYSwgZG90TkggKTtcblx0cmV0dXJuIEYgKiAoIEcgKiBEICk7XG59XG52ZWMyIExUQ19VdiggY29uc3QgaW4gdmVjMyBOLCBjb25zdCBpbiB2ZWMzIFYsIGNvbnN0IGluIGZsb2F0IHJvdWdobmVzcyApIHtcblx0Y29uc3QgZmxvYXQgTFVUX1NJWkUgID0gNjQuMDtcblx0Y29uc3QgZmxvYXQgTFVUX1NDQUxFID0gKCBMVVRfU0laRSAtIDEuMCApIC8gTFVUX1NJWkU7XG5cdGNvbnN0IGZsb2F0IExVVF9CSUFTICA9IDAuNSAvIExVVF9TSVpFO1xuXHRmbG9hdCBkb3ROViA9IHNhdHVyYXRlKCBkb3QoIE4sIFYgKSApO1xuXHR2ZWMyIHV2ID0gdmVjMiggcm91Z2huZXNzLCBzcXJ0KCAxLjAgLSBkb3ROViApICk7XG5cdHV2ID0gdXYgKiBMVVRfU0NBTEUgKyBMVVRfQklBUztcblx0cmV0dXJuIHV2O1xufVxuZmxvYXQgTFRDX0NsaXBwZWRTcGhlcmVGb3JtRmFjdG9yKCBjb25zdCBpbiB2ZWMzIGYgKSB7XG5cdGZsb2F0IGwgPSBsZW5ndGgoIGYgKTtcblx0cmV0dXJuIG1heCggKCBsICogbCArIGYueiApIC8gKCBsICsgMS4wICksIDAuMCApO1xufVxudmVjMyBMVENfRWRnZVZlY3RvckZvcm1GYWN0b3IoIGNvbnN0IGluIHZlYzMgdjEsIGNvbnN0IGluIHZlYzMgdjIgKSB7XG5cdGZsb2F0IHggPSBkb3QoIHYxLCB2MiApO1xuXHRmbG9hdCB5ID0gYWJzKCB4ICk7XG5cdGZsb2F0IGEgPSAwLjg1NDM5ODUgKyAoIDAuNDk2NTE1NSArIDAuMDE0NTIwNiAqIHkgKSAqIHk7XG5cdGZsb2F0IGIgPSAzLjQxNzU5NDAgKyAoIDQuMTYxNjcyNCArIHkgKSAqIHk7XG5cdGZsb2F0IHYgPSBhIC8gYjtcblx0ZmxvYXQgdGhldGFfc2ludGhldGEgPSAoIHggPiAwLjAgKSA/IHYgOiAwLjUgKiBpbnZlcnNlc3FydCggbWF4KCAxLjAgLSB4ICogeCwgMWUtNyApICkgLSB2O1xuXHRyZXR1cm4gY3Jvc3MoIHYxLCB2MiApICogdGhldGFfc2ludGhldGE7XG59XG52ZWMzIExUQ19FdmFsdWF0ZSggY29uc3QgaW4gdmVjMyBOLCBjb25zdCBpbiB2ZWMzIFYsIGNvbnN0IGluIHZlYzMgUCwgY29uc3QgaW4gbWF0MyBtSW52LCBjb25zdCBpbiB2ZWMzIHJlY3RDb29yZHNbIDQgXSApIHtcblx0dmVjMyB2MSA9IHJlY3RDb29yZHNbIDEgXSAtIHJlY3RDb29yZHNbIDAgXTtcblx0dmVjMyB2MiA9IHJlY3RDb29yZHNbIDMgXSAtIHJlY3RDb29yZHNbIDAgXTtcblx0dmVjMyBsaWdodE5vcm1hbCA9IGNyb3NzKCB2MSwgdjIgKTtcblx0aWYoIGRvdCggbGlnaHROb3JtYWwsIFAgLSByZWN0Q29vcmRzWyAwIF0gKSA8IDAuMCApIHJldHVybiB2ZWMzKCAwLjAgKTtcblx0dmVjMyBUMSwgVDI7XG5cdFQxID0gbm9ybWFsaXplKCBWIC0gTiAqIGRvdCggViwgTiApICk7XG5cdFQyID0gLSBjcm9zcyggTiwgVDEgKTtcblx0bWF0MyBtYXQgPSBtSW52ICogdHJhbnNwb3NlTWF0MyggbWF0MyggVDEsIFQyLCBOICkgKTtcblx0dmVjMyBjb29yZHNbIDQgXTtcblx0Y29vcmRzWyAwIF0gPSBtYXQgKiAoIHJlY3RDb29yZHNbIDAgXSAtIFAgKTtcblx0Y29vcmRzWyAxIF0gPSBtYXQgKiAoIHJlY3RDb29yZHNbIDEgXSAtIFAgKTtcblx0Y29vcmRzWyAyIF0gPSBtYXQgKiAoIHJlY3RDb29yZHNbIDIgXSAtIFAgKTtcblx0Y29vcmRzWyAzIF0gPSBtYXQgKiAoIHJlY3RDb29yZHNbIDMgXSAtIFAgKTtcblx0Y29vcmRzWyAwIF0gPSBub3JtYWxpemUoIGNvb3Jkc1sgMCBdICk7XG5cdGNvb3Jkc1sgMSBdID0gbm9ybWFsaXplKCBjb29yZHNbIDEgXSApO1xuXHRjb29yZHNbIDIgXSA9IG5vcm1hbGl6ZSggY29vcmRzWyAyIF0gKTtcblx0Y29vcmRzWyAzIF0gPSBub3JtYWxpemUoIGNvb3Jkc1sgMyBdICk7XG5cdHZlYzMgdmVjdG9yRm9ybUZhY3RvciA9IHZlYzMoIDAuMCApO1xuXHR2ZWN0b3JGb3JtRmFjdG9yICs9IExUQ19FZGdlVmVjdG9yRm9ybUZhY3RvciggY29vcmRzWyAwIF0sIGNvb3Jkc1sgMSBdICk7XG5cdHZlY3RvckZvcm1GYWN0b3IgKz0gTFRDX0VkZ2VWZWN0b3JGb3JtRmFjdG9yKCBjb29yZHNbIDEgXSwgY29vcmRzWyAyIF0gKTtcblx0dmVjdG9yRm9ybUZhY3RvciArPSBMVENfRWRnZVZlY3RvckZvcm1GYWN0b3IoIGNvb3Jkc1sgMiBdLCBjb29yZHNbIDMgXSApO1xuXHR2ZWN0b3JGb3JtRmFjdG9yICs9IExUQ19FZGdlVmVjdG9yRm9ybUZhY3RvciggY29vcmRzWyAzIF0sIGNvb3Jkc1sgMCBdICk7XG5cdGZsb2F0IHJlc3VsdCA9IExUQ19DbGlwcGVkU3BoZXJlRm9ybUZhY3RvciggdmVjdG9yRm9ybUZhY3RvciApO1xuXHRyZXR1cm4gdmVjMyggcmVzdWx0ICk7XG59XG52ZWMzIEJSREZfU3BlY3VsYXJfR0dYX0Vudmlyb25tZW50KCBjb25zdCBpbiB2ZWMzIHZpZXdEaXIsIGNvbnN0IGluIHZlYzMgbm9ybWFsLCBjb25zdCBpbiB2ZWMzIHNwZWN1bGFyQ29sb3IsIGNvbnN0IGluIGZsb2F0IHJvdWdobmVzcyApIHtcblx0ZmxvYXQgZG90TlYgPSBzYXR1cmF0ZSggZG90KCBub3JtYWwsIHZpZXdEaXIgKSApO1xuXHR2ZWMyIGJyZGYgPSBpbnRlZ3JhdGVTcGVjdWxhckJSREYoIGRvdE5WLCByb3VnaG5lc3MgKTtcblx0cmV0dXJuIHNwZWN1bGFyQ29sb3IgKiBicmRmLnggKyBicmRmLnk7XG59XG52b2lkIEJSREZfU3BlY3VsYXJfTXVsdGlzY2F0dGVyaW5nX0Vudmlyb25tZW50KCBjb25zdCBpbiBHZW9tZXRyaWNDb250ZXh0IGdlb21ldHJ5LCBjb25zdCBpbiB2ZWMzIHNwZWN1bGFyQ29sb3IsIGNvbnN0IGluIGZsb2F0IHJvdWdobmVzcywgaW5vdXQgdmVjMyBzaW5nbGVTY2F0dGVyLCBpbm91dCB2ZWMzIG11bHRpU2NhdHRlciApIHtcblx0ZmxvYXQgZG90TlYgPSBzYXR1cmF0ZSggZG90KCBnZW9tZXRyeS5ub3JtYWwsIGdlb21ldHJ5LnZpZXdEaXIgKSApO1xuXHR2ZWMzIEYgPSBGX1NjaGxpY2tfUm91Z2huZXNzRGVwZW5kZW50KCBzcGVjdWxhckNvbG9yLCBkb3ROViwgcm91Z2huZXNzICk7XG5cdHZlYzIgYnJkZiA9IGludGVncmF0ZVNwZWN1bGFyQlJERiggZG90TlYsIHJvdWdobmVzcyApO1xuXHR2ZWMzIEZzc0VzcyA9IEYgKiBicmRmLnggKyBicmRmLnk7XG5cdGZsb2F0IEVzcyA9IGJyZGYueCArIGJyZGYueTtcblx0ZmxvYXQgRW1zID0gMS4wIC0gRXNzO1xuXHR2ZWMzIEZhdmcgPSBzcGVjdWxhckNvbG9yICsgKCAxLjAgLSBzcGVjdWxhckNvbG9yICkgKiAwLjA0NzYxOTtcdHZlYzMgRm1zID0gRnNzRXNzICogRmF2ZyAvICggMS4wIC0gRW1zICogRmF2ZyApO1xuXHRzaW5nbGVTY2F0dGVyICs9IEZzc0Vzcztcblx0bXVsdGlTY2F0dGVyICs9IEZtcyAqIEVtcztcbn1cbmZsb2F0IEdfQmxpbm5QaG9uZ19JbXBsaWNpdCggKSB7XG5cdHJldHVybiAwLjI1O1xufVxuZmxvYXQgRF9CbGlublBob25nKCBjb25zdCBpbiBmbG9hdCBzaGluaW5lc3MsIGNvbnN0IGluIGZsb2F0IGRvdE5IICkge1xuXHRyZXR1cm4gUkVDSVBST0NBTF9QSSAqICggc2hpbmluZXNzICogMC41ICsgMS4wICkgKiBwb3coIGRvdE5ILCBzaGluaW5lc3MgKTtcbn1cbnZlYzMgQlJERl9TcGVjdWxhcl9CbGlublBob25nKCBjb25zdCBpbiBJbmNpZGVudExpZ2h0IGluY2lkZW50TGlnaHQsIGNvbnN0IGluIEdlb21ldHJpY0NvbnRleHQgZ2VvbWV0cnksIGNvbnN0IGluIHZlYzMgc3BlY3VsYXJDb2xvciwgY29uc3QgaW4gZmxvYXQgc2hpbmluZXNzICkge1xuXHR2ZWMzIGhhbGZEaXIgPSBub3JtYWxpemUoIGluY2lkZW50TGlnaHQuZGlyZWN0aW9uICsgZ2VvbWV0cnkudmlld0RpciApO1xuXHRmbG9hdCBkb3ROSCA9IHNhdHVyYXRlKCBkb3QoIGdlb21ldHJ5Lm5vcm1hbCwgaGFsZkRpciApICk7XG5cdGZsb2F0IGRvdExIID0gc2F0dXJhdGUoIGRvdCggaW5jaWRlbnRMaWdodC5kaXJlY3Rpb24sIGhhbGZEaXIgKSApO1xuXHR2ZWMzIEYgPSBGX1NjaGxpY2soIHNwZWN1bGFyQ29sb3IsIGRvdExIICk7XG5cdGZsb2F0IEcgPSBHX0JsaW5uUGhvbmdfSW1wbGljaXQoICk7XG5cdGZsb2F0IEQgPSBEX0JsaW5uUGhvbmcoIHNoaW5pbmVzcywgZG90TkggKTtcblx0cmV0dXJuIEYgKiAoIEcgKiBEICk7XG59XG5mbG9hdCBHR1hSb3VnaG5lc3NUb0JsaW5uRXhwb25lbnQoIGNvbnN0IGluIGZsb2F0IGdneFJvdWdobmVzcyApIHtcblx0cmV0dXJuICggMi4wIC8gcG93MiggZ2d4Um91Z2huZXNzICsgMC4wMDAxICkgLSAyLjAgKTtcbn1cbmZsb2F0IEJsaW5uRXhwb25lbnRUb0dHWFJvdWdobmVzcyggY29uc3QgaW4gZmxvYXQgYmxpbm5FeHBvbmVudCApIHtcblx0cmV0dXJuIHNxcnQoIDIuMCAvICggYmxpbm5FeHBvbmVudCArIDIuMCApICk7XG59XG4jaWYgZGVmaW5lZCggVVNFX1NIRUVOIClcbmZsb2F0IERfQ2hhcmxpZShmbG9hdCByb3VnaG5lc3MsIGZsb2F0IE5vSCkge1xuXHRmbG9hdCBpbnZBbHBoYSAgPSAxLjAgLyByb3VnaG5lc3M7XG5cdGZsb2F0IGNvczJoID0gTm9IICogTm9IO1xuXHRmbG9hdCBzaW4yaCA9IG1heCgxLjAgLSBjb3MyaCwgMC4wMDc4MTI1KTtcdHJldHVybiAoMi4wICsgaW52QWxwaGEpICogcG93KHNpbjJoLCBpbnZBbHBoYSAqIDAuNSkgLyAoMi4wICogUEkpO1xufVxuZmxvYXQgVl9OZXViZWx0KGZsb2F0IE5vViwgZmxvYXQgTm9MKSB7XG5cdHJldHVybiBzYXR1cmF0ZSgxLjAgLyAoNC4wICogKE5vTCArIE5vViAtIE5vTCAqIE5vVikpKTtcbn1cbnZlYzMgQlJERl9TcGVjdWxhcl9TaGVlbiggY29uc3QgaW4gZmxvYXQgcm91Z2huZXNzLCBjb25zdCBpbiB2ZWMzIEwsIGNvbnN0IGluIEdlb21ldHJpY0NvbnRleHQgZ2VvbWV0cnksIHZlYzMgc3BlY3VsYXJDb2xvciApIHtcblx0dmVjMyBOID0gZ2VvbWV0cnkubm9ybWFsO1xuXHR2ZWMzIFYgPSBnZW9tZXRyeS52aWV3RGlyO1xuXHR2ZWMzIEggPSBub3JtYWxpemUoIFYgKyBMICk7XG5cdGZsb2F0IGRvdE5IID0gc2F0dXJhdGUoIGRvdCggTiwgSCApICk7XG5cdHJldHVybiBzcGVjdWxhckNvbG9yICogRF9DaGFybGllKCByb3VnaG5lc3MsIGRvdE5IICkgKiBWX05ldWJlbHQoIGRvdChOLCBWKSwgZG90KE4sIEwpICk7XG59XG4jZW5kaWYiO3ZhciBidW1wbWFwX3BhcnNfZnJhZ21lbnQ9IiNpZmRlZiBVU0VfQlVNUE1BUFxuXHR1bmlmb3JtIHNhbXBsZXIyRCBidW1wTWFwO1xuXHR1bmlmb3JtIGZsb2F0IGJ1bXBTY2FsZTtcblx0dmVjMiBkSGR4eV9md2QoKSB7XG5cdFx0dmVjMiBkU1RkeCA9IGRGZHgoIHZVdiApO1xuXHRcdHZlYzIgZFNUZHkgPSBkRmR5KCB2VXYgKTtcblx0XHRmbG9hdCBIbGwgPSBidW1wU2NhbGUgKiB0ZXh0dXJlMkQoIGJ1bXBNYXAsIHZVdiApLng7XG5cdFx0ZmxvYXQgZEJ4ID0gYnVtcFNjYWxlICogdGV4dHVyZTJEKCBidW1wTWFwLCB2VXYgKyBkU1RkeCApLnggLSBIbGw7XG5cdFx0ZmxvYXQgZEJ5ID0gYnVtcFNjYWxlICogdGV4dHVyZTJEKCBidW1wTWFwLCB2VXYgKyBkU1RkeSApLnggLSBIbGw7XG5cdFx0cmV0dXJuIHZlYzIoIGRCeCwgZEJ5ICk7XG5cdH1cblx0dmVjMyBwZXJ0dXJiTm9ybWFsQXJiKCB2ZWMzIHN1cmZfcG9zLCB2ZWMzIHN1cmZfbm9ybSwgdmVjMiBkSGR4eSApIHtcblx0XHR2ZWMzIHZTaWdtYVggPSB2ZWMzKCBkRmR4KCBzdXJmX3Bvcy54ICksIGRGZHgoIHN1cmZfcG9zLnkgKSwgZEZkeCggc3VyZl9wb3MueiApICk7XG5cdFx0dmVjMyB2U2lnbWFZID0gdmVjMyggZEZkeSggc3VyZl9wb3MueCApLCBkRmR5KCBzdXJmX3Bvcy55ICksIGRGZHkoIHN1cmZfcG9zLnogKSApO1xuXHRcdHZlYzMgdk4gPSBzdXJmX25vcm07XG5cdFx0dmVjMyBSMSA9IGNyb3NzKCB2U2lnbWFZLCB2TiApO1xuXHRcdHZlYzMgUjIgPSBjcm9zcyggdk4sIHZTaWdtYVggKTtcblx0XHRmbG9hdCBmRGV0ID0gZG90KCB2U2lnbWFYLCBSMSApO1xuXHRcdGZEZXQgKj0gKCBmbG9hdCggZ2xfRnJvbnRGYWNpbmcgKSAqIDIuMCAtIDEuMCApO1xuXHRcdHZlYzMgdkdyYWQgPSBzaWduKCBmRGV0ICkgKiAoIGRIZHh5LnggKiBSMSArIGRIZHh5LnkgKiBSMiApO1xuXHRcdHJldHVybiBub3JtYWxpemUoIGFicyggZkRldCApICogc3VyZl9ub3JtIC0gdkdyYWQgKTtcblx0fVxuI2VuZGlmIjt2YXIgY2xpcHBpbmdfcGxhbmVzX2ZyYWdtZW50PSIjaWYgTlVNX0NMSVBQSU5HX1BMQU5FUyA+IDBcblx0dmVjNCBwbGFuZTtcblx0I3ByYWdtYSB1bnJvbGxfbG9vcFxuXHRmb3IgKCBpbnQgaSA9IDA7IGkgPCBVTklPTl9DTElQUElOR19QTEFORVM7IGkgKysgKSB7XG5cdFx0cGxhbmUgPSBjbGlwcGluZ1BsYW5lc1sgaSBdO1xuXHRcdGlmICggZG90KCB2Vmlld1Bvc2l0aW9uLCBwbGFuZS54eXogKSA+IHBsYW5lLncgKSBkaXNjYXJkO1xuXHR9XG5cdCNpZiBVTklPTl9DTElQUElOR19QTEFORVMgPCBOVU1fQ0xJUFBJTkdfUExBTkVTXG5cdFx0Ym9vbCBjbGlwcGVkID0gdHJ1ZTtcblx0XHQjcHJhZ21hIHVucm9sbF9sb29wXG5cdFx0Zm9yICggaW50IGkgPSBVTklPTl9DTElQUElOR19QTEFORVM7IGkgPCBOVU1fQ0xJUFBJTkdfUExBTkVTOyBpICsrICkge1xuXHRcdFx0cGxhbmUgPSBjbGlwcGluZ1BsYW5lc1sgaSBdO1xuXHRcdFx0Y2xpcHBlZCA9ICggZG90KCB2Vmlld1Bvc2l0aW9uLCBwbGFuZS54eXogKSA+IHBsYW5lLncgKSAmJiBjbGlwcGVkO1xuXHRcdH1cblx0XHRpZiAoIGNsaXBwZWQgKSBkaXNjYXJkO1xuXHQjZW5kaWZcbiNlbmRpZiI7dmFyIGNsaXBwaW5nX3BsYW5lc19wYXJzX2ZyYWdtZW50PSIjaWYgTlVNX0NMSVBQSU5HX1BMQU5FUyA+IDBcblx0I2lmICEgZGVmaW5lZCggU1RBTkRBUkQgKSAmJiAhIGRlZmluZWQoIFBIT05HICkgJiYgISBkZWZpbmVkKCBNQVRDQVAgKVxuXHRcdHZhcnlpbmcgdmVjMyB2Vmlld1Bvc2l0aW9uO1xuXHQjZW5kaWZcblx0dW5pZm9ybSB2ZWM0IGNsaXBwaW5nUGxhbmVzWyBOVU1fQ0xJUFBJTkdfUExBTkVTIF07XG4jZW5kaWYiO3ZhciBjbGlwcGluZ19wbGFuZXNfcGFyc192ZXJ0ZXg9IiNpZiBOVU1fQ0xJUFBJTkdfUExBTkVTID4gMCAmJiAhIGRlZmluZWQoIFNUQU5EQVJEICkgJiYgISBkZWZpbmVkKCBQSE9ORyApICYmICEgZGVmaW5lZCggTUFUQ0FQIClcblx0dmFyeWluZyB2ZWMzIHZWaWV3UG9zaXRpb247XG4jZW5kaWYiO3ZhciBjbGlwcGluZ19wbGFuZXNfdmVydGV4PSIjaWYgTlVNX0NMSVBQSU5HX1BMQU5FUyA+IDAgJiYgISBkZWZpbmVkKCBTVEFOREFSRCApICYmICEgZGVmaW5lZCggUEhPTkcgKSAmJiAhIGRlZmluZWQoIE1BVENBUCApXG5cdHZWaWV3UG9zaXRpb24gPSAtIG12UG9zaXRpb24ueHl6O1xuI2VuZGlmIjt2YXIgY29sb3JfZnJhZ21lbnQ9IiNpZmRlZiBVU0VfQ09MT1Jcblx0ZGlmZnVzZUNvbG9yLnJnYiAqPSB2Q29sb3I7XG4jZW5kaWYiO3ZhciBjb2xvcl9wYXJzX2ZyYWdtZW50PSIjaWZkZWYgVVNFX0NPTE9SXG5cdHZhcnlpbmcgdmVjMyB2Q29sb3I7XG4jZW5kaWYiO3ZhciBjb2xvcl9wYXJzX3ZlcnRleD0iI2lmZGVmIFVTRV9DT0xPUlxuXHR2YXJ5aW5nIHZlYzMgdkNvbG9yO1xuI2VuZGlmIjt2YXIgY29sb3JfdmVydGV4PSIjaWZkZWYgVVNFX0NPTE9SXG5cdHZDb2xvci54eXogPSBjb2xvci54eXo7XG4jZW5kaWYiO3ZhciBjb21tb249IiNkZWZpbmUgUEkgMy4xNDE1OTI2NTM1OVxuI2RlZmluZSBQSTIgNi4yODMxODUzMDcxOFxuI2RlZmluZSBQSV9IQUxGIDEuNTcwNzk2MzI2Nzk0OVxuI2RlZmluZSBSRUNJUFJPQ0FMX1BJIDAuMzE4MzA5ODg2MThcbiNkZWZpbmUgUkVDSVBST0NBTF9QSTIgMC4xNTkxNTQ5NFxuI2RlZmluZSBMT0cyIDEuNDQyNjk1XG4jZGVmaW5lIEVQU0lMT04gMWUtNlxuI2lmbmRlZiBzYXR1cmF0ZVxuI2RlZmluZSBzYXR1cmF0ZShhKSBjbGFtcCggYSwgMC4wLCAxLjAgKVxuI2VuZGlmXG4jZGVmaW5lIHdoaXRlQ29tcGxlbWVudChhKSAoIDEuMCAtIHNhdHVyYXRlKCBhICkgKVxuZmxvYXQgcG93MiggY29uc3QgaW4gZmxvYXQgeCApIHsgcmV0dXJuIHgqeDsgfVxuZmxvYXQgcG93MyggY29uc3QgaW4gZmxvYXQgeCApIHsgcmV0dXJuIHgqeCp4OyB9XG5mbG9hdCBwb3c0KCBjb25zdCBpbiBmbG9hdCB4ICkgeyBmbG9hdCB4MiA9IHgqeDsgcmV0dXJuIHgyKngyOyB9XG5mbG9hdCBhdmVyYWdlKCBjb25zdCBpbiB2ZWMzIGNvbG9yICkgeyByZXR1cm4gZG90KCBjb2xvciwgdmVjMyggMC4zMzMzICkgKTsgfVxuaGlnaHAgZmxvYXQgcmFuZCggY29uc3QgaW4gdmVjMiB1diApIHtcblx0Y29uc3QgaGlnaHAgZmxvYXQgYSA9IDEyLjk4OTgsIGIgPSA3OC4yMzMsIGMgPSA0Mzc1OC41NDUzO1xuXHRoaWdocCBmbG9hdCBkdCA9IGRvdCggdXYueHksIHZlYzIoIGEsYiApICksIHNuID0gbW9kKCBkdCwgUEkgKTtcblx0cmV0dXJuIGZyYWN0KHNpbihzbikgKiBjKTtcbn1cbiNpZmRlZiBISUdIX1BSRUNJU0lPTlxuXHRmbG9hdCBwcmVjaXNpb25TYWZlTGVuZ3RoKCB2ZWMzIHYgKSB7IHJldHVybiBsZW5ndGgoIHYgKTsgfVxuI2Vsc2Vcblx0ZmxvYXQgbWF4MyggdmVjMyB2ICkgeyByZXR1cm4gbWF4KCBtYXgoIHYueCwgdi55ICksIHYueiApOyB9XG5cdGZsb2F0IHByZWNpc2lvblNhZmVMZW5ndGgoIHZlYzMgdiApIHtcblx0XHRmbG9hdCBtYXhDb21wb25lbnQgPSBtYXgzKCBhYnMoIHYgKSApO1xuXHRcdHJldHVybiBsZW5ndGgoIHYgLyBtYXhDb21wb25lbnQgKSAqIG1heENvbXBvbmVudDtcblx0fVxuI2VuZGlmXG5zdHJ1Y3QgSW5jaWRlbnRMaWdodCB7XG5cdHZlYzMgY29sb3I7XG5cdHZlYzMgZGlyZWN0aW9uO1xuXHRib29sIHZpc2libGU7XG59O1xuc3RydWN0IFJlZmxlY3RlZExpZ2h0IHtcblx0dmVjMyBkaXJlY3REaWZmdXNlO1xuXHR2ZWMzIGRpcmVjdFNwZWN1bGFyO1xuXHR2ZWMzIGluZGlyZWN0RGlmZnVzZTtcblx0dmVjMyBpbmRpcmVjdFNwZWN1bGFyO1xufTtcbnN0cnVjdCBHZW9tZXRyaWNDb250ZXh0IHtcblx0dmVjMyBwb3NpdGlvbjtcblx0dmVjMyBub3JtYWw7XG5cdHZlYzMgdmlld0RpcjtcbiNpZmRlZiBDTEVBUkNPQVRcblx0dmVjMyBjbGVhcmNvYXROb3JtYWw7XG4jZW5kaWZcbn07XG52ZWMzIHRyYW5zZm9ybURpcmVjdGlvbiggaW4gdmVjMyBkaXIsIGluIG1hdDQgbWF0cml4ICkge1xuXHRyZXR1cm4gbm9ybWFsaXplKCAoIG1hdHJpeCAqIHZlYzQoIGRpciwgMC4wICkgKS54eXogKTtcbn1cbnZlYzMgaW52ZXJzZVRyYW5zZm9ybURpcmVjdGlvbiggaW4gdmVjMyBkaXIsIGluIG1hdDQgbWF0cml4ICkge1xuXHRyZXR1cm4gbm9ybWFsaXplKCAoIHZlYzQoIGRpciwgMC4wICkgKiBtYXRyaXggKS54eXogKTtcbn1cbnZlYzMgcHJvamVjdE9uUGxhbmUoaW4gdmVjMyBwb2ludCwgaW4gdmVjMyBwb2ludE9uUGxhbmUsIGluIHZlYzMgcGxhbmVOb3JtYWwgKSB7XG5cdGZsb2F0IGRpc3RhbmNlID0gZG90KCBwbGFuZU5vcm1hbCwgcG9pbnQgLSBwb2ludE9uUGxhbmUgKTtcblx0cmV0dXJuIC0gZGlzdGFuY2UgKiBwbGFuZU5vcm1hbCArIHBvaW50O1xufVxuZmxvYXQgc2lkZU9mUGxhbmUoIGluIHZlYzMgcG9pbnQsIGluIHZlYzMgcG9pbnRPblBsYW5lLCBpbiB2ZWMzIHBsYW5lTm9ybWFsICkge1xuXHRyZXR1cm4gc2lnbiggZG90KCBwb2ludCAtIHBvaW50T25QbGFuZSwgcGxhbmVOb3JtYWwgKSApO1xufVxudmVjMyBsaW5lUGxhbmVJbnRlcnNlY3QoIGluIHZlYzMgcG9pbnRPbkxpbmUsIGluIHZlYzMgbGluZURpcmVjdGlvbiwgaW4gdmVjMyBwb2ludE9uUGxhbmUsIGluIHZlYzMgcGxhbmVOb3JtYWwgKSB7XG5cdHJldHVybiBsaW5lRGlyZWN0aW9uICogKCBkb3QoIHBsYW5lTm9ybWFsLCBwb2ludE9uUGxhbmUgLSBwb2ludE9uTGluZSApIC8gZG90KCBwbGFuZU5vcm1hbCwgbGluZURpcmVjdGlvbiApICkgKyBwb2ludE9uTGluZTtcbn1cbm1hdDMgdHJhbnNwb3NlTWF0MyggY29uc3QgaW4gbWF0MyBtICkge1xuXHRtYXQzIHRtcDtcblx0dG1wWyAwIF0gPSB2ZWMzKCBtWyAwIF0ueCwgbVsgMSBdLngsIG1bIDIgXS54ICk7XG5cdHRtcFsgMSBdID0gdmVjMyggbVsgMCBdLnksIG1bIDEgXS55LCBtWyAyIF0ueSApO1xuXHR0bXBbIDIgXSA9IHZlYzMoIG1bIDAgXS56LCBtWyAxIF0ueiwgbVsgMiBdLnogKTtcblx0cmV0dXJuIHRtcDtcbn1cbmZsb2F0IGxpbmVhclRvUmVsYXRpdmVMdW1pbmFuY2UoIGNvbnN0IGluIHZlYzMgY29sb3IgKSB7XG5cdHZlYzMgd2VpZ2h0cyA9IHZlYzMoIDAuMjEyNiwgMC43MTUyLCAwLjA3MjIgKTtcblx0cmV0dXJuIGRvdCggd2VpZ2h0cywgY29sb3IucmdiICk7XG59XG5ib29sIGlzUGVyc3BlY3RpdmVNYXRyaXgoIG1hdDQgbSApIHtcbiAgcmV0dXJuIG1bIDIgXVsgMyBdID09IC0gMS4wO1xufSI7dmFyIGN1YmVfdXZfcmVmbGVjdGlvbl9mcmFnbWVudD0iI2lmZGVmIEVOVk1BUF9UWVBFX0NVQkVfVVZcbiNkZWZpbmUgY3ViZVVWX21heE1pcExldmVsIDguMFxuI2RlZmluZSBjdWJlVVZfbWluTWlwTGV2ZWwgNC4wXG4jZGVmaW5lIGN1YmVVVl9tYXhUaWxlU2l6ZSAyNTYuMFxuI2RlZmluZSBjdWJlVVZfbWluVGlsZVNpemUgMTYuMFxuZmxvYXQgZ2V0RmFjZSh2ZWMzIGRpcmVjdGlvbikge1xuICAgIHZlYzMgYWJzRGlyZWN0aW9uID0gYWJzKGRpcmVjdGlvbik7XG4gICAgZmxvYXQgZmFjZSA9IC0xLjA7XG4gICAgaWYgKGFic0RpcmVjdGlvbi54ID4gYWJzRGlyZWN0aW9uLnopIHtcbiAgICAgIGlmIChhYnNEaXJlY3Rpb24ueCA+IGFic0RpcmVjdGlvbi55KVxuICAgICAgICBmYWNlID0gZGlyZWN0aW9uLnggPiAwLjAgPyAwLjAgOiAzLjA7XG4gICAgICBlbHNlXG4gICAgICAgIGZhY2UgPSBkaXJlY3Rpb24ueSA+IDAuMCA/IDEuMCA6IDQuMDtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGFic0RpcmVjdGlvbi56ID4gYWJzRGlyZWN0aW9uLnkpXG4gICAgICAgIGZhY2UgPSBkaXJlY3Rpb24ueiA+IDAuMCA/IDIuMCA6IDUuMDtcbiAgICAgIGVsc2VcbiAgICAgICAgZmFjZSA9IGRpcmVjdGlvbi55ID4gMC4wID8gMS4wIDogNC4wO1xuICAgIH1cbiAgICByZXR1cm4gZmFjZTtcbn1cbnZlYzIgZ2V0VVYodmVjMyBkaXJlY3Rpb24sIGZsb2F0IGZhY2UpIHtcbiAgICB2ZWMyIHV2O1xuICAgIGlmIChmYWNlID09IDAuMCkge1xuICAgICAgdXYgPSB2ZWMyKC1kaXJlY3Rpb24ueiwgZGlyZWN0aW9uLnkpIC8gYWJzKGRpcmVjdGlvbi54KTtcbiAgICB9IGVsc2UgaWYgKGZhY2UgPT0gMS4wKSB7XG4gICAgICB1diA9IHZlYzIoZGlyZWN0aW9uLngsIC1kaXJlY3Rpb24ueikgLyBhYnMoZGlyZWN0aW9uLnkpO1xuICAgIH0gZWxzZSBpZiAoZmFjZSA9PSAyLjApIHtcbiAgICAgIHV2ID0gZGlyZWN0aW9uLnh5IC8gYWJzKGRpcmVjdGlvbi56KTtcbiAgICB9IGVsc2UgaWYgKGZhY2UgPT0gMy4wKSB7XG4gICAgICB1diA9IHZlYzIoZGlyZWN0aW9uLnosIGRpcmVjdGlvbi55KSAvIGFicyhkaXJlY3Rpb24ueCk7XG4gICAgfSBlbHNlIGlmIChmYWNlID09IDQuMCkge1xuICAgICAgdXYgPSBkaXJlY3Rpb24ueHogLyBhYnMoZGlyZWN0aW9uLnkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB1diA9IHZlYzIoLWRpcmVjdGlvbi54LCBkaXJlY3Rpb24ueSkgLyBhYnMoZGlyZWN0aW9uLnopO1xuICAgIH1cbiAgICByZXR1cm4gMC41ICogKHV2ICsgMS4wKTtcbn1cbnZlYzMgYmlsaW5lYXJDdWJlVVYoc2FtcGxlcjJEIGVudk1hcCwgdmVjMyBkaXJlY3Rpb24sIGZsb2F0IG1pcEludCkge1xuICBmbG9hdCBmYWNlID0gZ2V0RmFjZShkaXJlY3Rpb24pO1xuICBmbG9hdCBmaWx0ZXJJbnQgPSBtYXgoY3ViZVVWX21pbk1pcExldmVsIC0gbWlwSW50LCAwLjApO1xuICBtaXBJbnQgPSBtYXgobWlwSW50LCBjdWJlVVZfbWluTWlwTGV2ZWwpO1xuICBmbG9hdCBmYWNlU2l6ZSA9IGV4cDIobWlwSW50KTtcbiAgZmxvYXQgdGV4ZWxTaXplID0gMS4wIC8gKDMuMCAqIGN1YmVVVl9tYXhUaWxlU2l6ZSk7XG4gIHZlYzIgdXYgPSBnZXRVVihkaXJlY3Rpb24sIGZhY2UpICogKGZhY2VTaXplIC0gMS4wKTtcbiAgdmVjMiBmID0gZnJhY3QodXYpO1xuICB1diArPSAwLjUgLSBmO1xuICBpZiAoZmFjZSA+IDIuMCkge1xuICAgIHV2LnkgKz0gZmFjZVNpemU7XG4gICAgZmFjZSAtPSAzLjA7XG4gIH1cbiAgdXYueCArPSBmYWNlICogZmFjZVNpemU7XG4gIGlmKG1pcEludCA8IGN1YmVVVl9tYXhNaXBMZXZlbCl7XG4gICAgdXYueSArPSAyLjAgKiBjdWJlVVZfbWF4VGlsZVNpemU7XG4gIH1cbiAgdXYueSArPSBmaWx0ZXJJbnQgKiAyLjAgKiBjdWJlVVZfbWluVGlsZVNpemU7XG4gIHV2LnggKz0gMy4wICogbWF4KDAuMCwgY3ViZVVWX21heFRpbGVTaXplIC0gMi4wICogZmFjZVNpemUpO1xuICB1diAqPSB0ZXhlbFNpemU7XG4gIHZlYzMgdGwgPSBlbnZNYXBUZXhlbFRvTGluZWFyKHRleHR1cmUyRChlbnZNYXAsIHV2KSkucmdiO1xuICB1di54ICs9IHRleGVsU2l6ZTtcbiAgdmVjMyB0ciA9IGVudk1hcFRleGVsVG9MaW5lYXIodGV4dHVyZTJEKGVudk1hcCwgdXYpKS5yZ2I7XG4gIHV2LnkgKz0gdGV4ZWxTaXplO1xuICB2ZWMzIGJyID0gZW52TWFwVGV4ZWxUb0xpbmVhcih0ZXh0dXJlMkQoZW52TWFwLCB1dikpLnJnYjtcbiAgdXYueCAtPSB0ZXhlbFNpemU7XG4gIHZlYzMgYmwgPSBlbnZNYXBUZXhlbFRvTGluZWFyKHRleHR1cmUyRChlbnZNYXAsIHV2KSkucmdiO1xuICB2ZWMzIHRtID0gbWl4KHRsLCB0ciwgZi54KTtcbiAgdmVjMyBibSA9IG1peChibCwgYnIsIGYueCk7XG4gIHJldHVybiBtaXgodG0sIGJtLCBmLnkpO1xufVxuI2RlZmluZSByMCAxLjBcbiNkZWZpbmUgdjAgMC4zMzlcbiNkZWZpbmUgbTAgLTIuMFxuI2RlZmluZSByMSAwLjhcbiNkZWZpbmUgdjEgMC4yNzZcbiNkZWZpbmUgbTEgLTEuMFxuI2RlZmluZSByNCAwLjRcbiNkZWZpbmUgdjQgMC4wNDZcbiNkZWZpbmUgbTQgMi4wXG4jZGVmaW5lIHI1IDAuMzA1XG4jZGVmaW5lIHY1IDAuMDE2XG4jZGVmaW5lIG01IDMuMFxuI2RlZmluZSByNiAwLjIxXG4jZGVmaW5lIHY2IDAuMDAzOFxuI2RlZmluZSBtNiA0LjBcbmZsb2F0IHJvdWdobmVzc1RvTWlwKGZsb2F0IHJvdWdobmVzcykge1xuICBmbG9hdCBtaXAgPSAwLjA7XG4gIGlmIChyb3VnaG5lc3MgPj0gcjEpIHtcbiAgICBtaXAgPSAocjAgLSByb3VnaG5lc3MpICogKG0xIC0gbTApIC8gKHIwIC0gcjEpICsgbTA7XG4gIH0gZWxzZSBpZiAocm91Z2huZXNzID49IHI0KSB7XG4gICAgbWlwID0gKHIxIC0gcm91Z2huZXNzKSAqIChtNCAtIG0xKSAvIChyMSAtIHI0KSArIG0xO1xuICB9IGVsc2UgaWYgKHJvdWdobmVzcyA+PSByNSkge1xuICAgIG1pcCA9IChyNCAtIHJvdWdobmVzcykgKiAobTUgLSBtNCkgLyAocjQgLSByNSkgKyBtNDtcbiAgfSBlbHNlIGlmIChyb3VnaG5lc3MgPj0gcjYpIHtcbiAgICBtaXAgPSAocjUgLSByb3VnaG5lc3MpICogKG02IC0gbTUpIC8gKHI1IC0gcjYpICsgbTU7XG4gIH0gZWxzZSB7XG4gICAgbWlwID0gLTIuMCAqIGxvZzIoMS4xNiAqIHJvdWdobmVzcyk7ICB9XG4gIHJldHVybiBtaXA7XG59XG52ZWM0IHRleHR1cmVDdWJlVVYoc2FtcGxlcjJEIGVudk1hcCwgdmVjMyBzYW1wbGVEaXIsIGZsb2F0IHJvdWdobmVzcykge1xuICBmbG9hdCBtaXAgPSBjbGFtcChyb3VnaG5lc3NUb01pcChyb3VnaG5lc3MpLCBtMCwgY3ViZVVWX21heE1pcExldmVsKTtcbiAgZmxvYXQgbWlwRiA9IGZyYWN0KG1pcCk7XG4gIGZsb2F0IG1pcEludCA9IGZsb29yKG1pcCk7XG4gIHZlYzMgY29sb3IwID0gYmlsaW5lYXJDdWJlVVYoZW52TWFwLCBzYW1wbGVEaXIsIG1pcEludCk7XG4gIGlmIChtaXBGID09IDAuMCkge1xuICAgIHJldHVybiB2ZWM0KGNvbG9yMCwgMS4wKTtcbiAgfSBlbHNlIHtcbiAgICB2ZWMzIGNvbG9yMSA9IGJpbGluZWFyQ3ViZVVWKGVudk1hcCwgc2FtcGxlRGlyLCBtaXBJbnQgKyAxLjApO1xuICAgIHJldHVybiB2ZWM0KG1peChjb2xvcjAsIGNvbG9yMSwgbWlwRiksIDEuMCk7XG4gIH1cbn1cbiNlbmRpZiI7dmFyIGRlZmF1bHRub3JtYWxfdmVydGV4PSJ2ZWMzIHRyYW5zZm9ybWVkTm9ybWFsID0gb2JqZWN0Tm9ybWFsO1xuI2lmZGVmIFVTRV9JTlNUQU5DSU5HXG5cdHRyYW5zZm9ybWVkTm9ybWFsID0gbWF0MyggaW5zdGFuY2VNYXRyaXggKSAqIHRyYW5zZm9ybWVkTm9ybWFsO1xuI2VuZGlmXG50cmFuc2Zvcm1lZE5vcm1hbCA9IG5vcm1hbE1hdHJpeCAqIHRyYW5zZm9ybWVkTm9ybWFsO1xuI2lmZGVmIEZMSVBfU0lERURcblx0dHJhbnNmb3JtZWROb3JtYWwgPSAtIHRyYW5zZm9ybWVkTm9ybWFsO1xuI2VuZGlmXG4jaWZkZWYgVVNFX1RBTkdFTlRcblx0dmVjMyB0cmFuc2Zvcm1lZFRhbmdlbnQgPSAoIG1vZGVsVmlld01hdHJpeCAqIHZlYzQoIG9iamVjdFRhbmdlbnQsIDAuMCApICkueHl6O1xuXHQjaWZkZWYgRkxJUF9TSURFRFxuXHRcdHRyYW5zZm9ybWVkVGFuZ2VudCA9IC0gdHJhbnNmb3JtZWRUYW5nZW50O1xuXHQjZW5kaWZcbiNlbmRpZiI7dmFyIGRpc3BsYWNlbWVudG1hcF9wYXJzX3ZlcnRleD0iI2lmZGVmIFVTRV9ESVNQTEFDRU1FTlRNQVBcblx0dW5pZm9ybSBzYW1wbGVyMkQgZGlzcGxhY2VtZW50TWFwO1xuXHR1bmlmb3JtIGZsb2F0IGRpc3BsYWNlbWVudFNjYWxlO1xuXHR1bmlmb3JtIGZsb2F0IGRpc3BsYWNlbWVudEJpYXM7XG4jZW5kaWYiO3ZhciBkaXNwbGFjZW1lbnRtYXBfdmVydGV4PSIjaWZkZWYgVVNFX0RJU1BMQUNFTUVOVE1BUFxuXHR0cmFuc2Zvcm1lZCArPSBub3JtYWxpemUoIG9iamVjdE5vcm1hbCApICogKCB0ZXh0dXJlMkQoIGRpc3BsYWNlbWVudE1hcCwgdlV2ICkueCAqIGRpc3BsYWNlbWVudFNjYWxlICsgZGlzcGxhY2VtZW50QmlhcyApO1xuI2VuZGlmIjt2YXIgZW1pc3NpdmVtYXBfZnJhZ21lbnQ9IiNpZmRlZiBVU0VfRU1JU1NJVkVNQVBcblx0dmVjNCBlbWlzc2l2ZUNvbG9yID0gdGV4dHVyZTJEKCBlbWlzc2l2ZU1hcCwgdlV2ICk7XG5cdGVtaXNzaXZlQ29sb3IucmdiID0gZW1pc3NpdmVNYXBUZXhlbFRvTGluZWFyKCBlbWlzc2l2ZUNvbG9yICkucmdiO1xuXHR0b3RhbEVtaXNzaXZlUmFkaWFuY2UgKj0gZW1pc3NpdmVDb2xvci5yZ2I7XG4jZW5kaWYiO3ZhciBlbWlzc2l2ZW1hcF9wYXJzX2ZyYWdtZW50PSIjaWZkZWYgVVNFX0VNSVNTSVZFTUFQXG5cdHVuaWZvcm0gc2FtcGxlcjJEIGVtaXNzaXZlTWFwO1xuI2VuZGlmIjt2YXIgZW5jb2RpbmdzX2ZyYWdtZW50PSJnbF9GcmFnQ29sb3IgPSBsaW5lYXJUb091dHB1dFRleGVsKCBnbF9GcmFnQ29sb3IgKTsiO3ZhciBlbmNvZGluZ3NfcGFyc19mcmFnbWVudD0iXG52ZWM0IExpbmVhclRvTGluZWFyKCBpbiB2ZWM0IHZhbHVlICkge1xuXHRyZXR1cm4gdmFsdWU7XG59XG52ZWM0IEdhbW1hVG9MaW5lYXIoIGluIHZlYzQgdmFsdWUsIGluIGZsb2F0IGdhbW1hRmFjdG9yICkge1xuXHRyZXR1cm4gdmVjNCggcG93KCB2YWx1ZS5yZ2IsIHZlYzMoIGdhbW1hRmFjdG9yICkgKSwgdmFsdWUuYSApO1xufVxudmVjNCBMaW5lYXJUb0dhbW1hKCBpbiB2ZWM0IHZhbHVlLCBpbiBmbG9hdCBnYW1tYUZhY3RvciApIHtcblx0cmV0dXJuIHZlYzQoIHBvdyggdmFsdWUucmdiLCB2ZWMzKCAxLjAgLyBnYW1tYUZhY3RvciApICksIHZhbHVlLmEgKTtcbn1cbnZlYzQgc1JHQlRvTGluZWFyKCBpbiB2ZWM0IHZhbHVlICkge1xuXHRyZXR1cm4gdmVjNCggbWl4KCBwb3coIHZhbHVlLnJnYiAqIDAuOTQ3ODY3Mjk4NiArIHZlYzMoIDAuMDUyMTMyNzAxNCApLCB2ZWMzKCAyLjQgKSApLCB2YWx1ZS5yZ2IgKiAwLjA3NzM5OTM4MDgsIHZlYzMoIGxlc3NUaGFuRXF1YWwoIHZhbHVlLnJnYiwgdmVjMyggMC4wNDA0NSApICkgKSApLCB2YWx1ZS5hICk7XG59XG52ZWM0IExpbmVhclRvc1JHQiggaW4gdmVjNCB2YWx1ZSApIHtcblx0cmV0dXJuIHZlYzQoIG1peCggcG93KCB2YWx1ZS5yZ2IsIHZlYzMoIDAuNDE2NjYgKSApICogMS4wNTUgLSB2ZWMzKCAwLjA1NSApLCB2YWx1ZS5yZ2IgKiAxMi45MiwgdmVjMyggbGVzc1RoYW5FcXVhbCggdmFsdWUucmdiLCB2ZWMzKCAwLjAwMzEzMDggKSApICkgKSwgdmFsdWUuYSApO1xufVxudmVjNCBSR0JFVG9MaW5lYXIoIGluIHZlYzQgdmFsdWUgKSB7XG5cdHJldHVybiB2ZWM0KCB2YWx1ZS5yZ2IgKiBleHAyKCB2YWx1ZS5hICogMjU1LjAgLSAxMjguMCApLCAxLjAgKTtcbn1cbnZlYzQgTGluZWFyVG9SR0JFKCBpbiB2ZWM0IHZhbHVlICkge1xuXHRmbG9hdCBtYXhDb21wb25lbnQgPSBtYXgoIG1heCggdmFsdWUuciwgdmFsdWUuZyApLCB2YWx1ZS5iICk7XG5cdGZsb2F0IGZFeHAgPSBjbGFtcCggY2VpbCggbG9nMiggbWF4Q29tcG9uZW50ICkgKSwgLTEyOC4wLCAxMjcuMCApO1xuXHRyZXR1cm4gdmVjNCggdmFsdWUucmdiIC8gZXhwMiggZkV4cCApLCAoIGZFeHAgKyAxMjguMCApIC8gMjU1LjAgKTtcbn1cbnZlYzQgUkdCTVRvTGluZWFyKCBpbiB2ZWM0IHZhbHVlLCBpbiBmbG9hdCBtYXhSYW5nZSApIHtcblx0cmV0dXJuIHZlYzQoIHZhbHVlLnJnYiAqIHZhbHVlLmEgKiBtYXhSYW5nZSwgMS4wICk7XG59XG52ZWM0IExpbmVhclRvUkdCTSggaW4gdmVjNCB2YWx1ZSwgaW4gZmxvYXQgbWF4UmFuZ2UgKSB7XG5cdGZsb2F0IG1heFJHQiA9IG1heCggdmFsdWUuciwgbWF4KCB2YWx1ZS5nLCB2YWx1ZS5iICkgKTtcblx0ZmxvYXQgTSA9IGNsYW1wKCBtYXhSR0IgLyBtYXhSYW5nZSwgMC4wLCAxLjAgKTtcblx0TSA9IGNlaWwoIE0gKiAyNTUuMCApIC8gMjU1LjA7XG5cdHJldHVybiB2ZWM0KCB2YWx1ZS5yZ2IgLyAoIE0gKiBtYXhSYW5nZSApLCBNICk7XG59XG52ZWM0IFJHQkRUb0xpbmVhciggaW4gdmVjNCB2YWx1ZSwgaW4gZmxvYXQgbWF4UmFuZ2UgKSB7XG5cdHJldHVybiB2ZWM0KCB2YWx1ZS5yZ2IgKiAoICggbWF4UmFuZ2UgLyAyNTUuMCApIC8gdmFsdWUuYSApLCAxLjAgKTtcbn1cbnZlYzQgTGluZWFyVG9SR0JEKCBpbiB2ZWM0IHZhbHVlLCBpbiBmbG9hdCBtYXhSYW5nZSApIHtcblx0ZmxvYXQgbWF4UkdCID0gbWF4KCB2YWx1ZS5yLCBtYXgoIHZhbHVlLmcsIHZhbHVlLmIgKSApO1xuXHRmbG9hdCBEID0gbWF4KCBtYXhSYW5nZSAvIG1heFJHQiwgMS4wICk7XG5cdEQgPSBtaW4oIGZsb29yKCBEICkgLyAyNTUuMCwgMS4wICk7XG5cdHJldHVybiB2ZWM0KCB2YWx1ZS5yZ2IgKiAoIEQgKiAoIDI1NS4wIC8gbWF4UmFuZ2UgKSApLCBEICk7XG59XG5jb25zdCBtYXQzIGNMb2dMdXZNID0gbWF0MyggMC4yMjA5LCAwLjMzOTAsIDAuNDE4NCwgMC4xMTM4LCAwLjY3ODAsIDAuNzMxOSwgMC4wMTAyLCAwLjExMzAsIDAuMjk2OSApO1xudmVjNCBMaW5lYXJUb0xvZ0x1diggaW4gdmVjNCB2YWx1ZSApICB7XG5cdHZlYzMgWHBfWV9YWVpwID0gY0xvZ0x1dk0gKiB2YWx1ZS5yZ2I7XG5cdFhwX1lfWFlacCA9IG1heCggWHBfWV9YWVpwLCB2ZWMzKCAxZS02LCAxZS02LCAxZS02ICkgKTtcblx0dmVjNCB2UmVzdWx0O1xuXHR2UmVzdWx0Lnh5ID0gWHBfWV9YWVpwLnh5IC8gWHBfWV9YWVpwLno7XG5cdGZsb2F0IExlID0gMi4wICogbG9nMihYcF9ZX1hZWnAueSkgKyAxMjcuMDtcblx0dlJlc3VsdC53ID0gZnJhY3QoIExlICk7XG5cdHZSZXN1bHQueiA9ICggTGUgLSAoIGZsb29yKCB2UmVzdWx0LncgKiAyNTUuMCApICkgLyAyNTUuMCApIC8gMjU1LjA7XG5cdHJldHVybiB2UmVzdWx0O1xufVxuY29uc3QgbWF0MyBjTG9nTHV2SW52ZXJzZU0gPSBtYXQzKCA2LjAwMTQsIC0yLjcwMDgsIC0xLjc5OTYsIC0xLjMzMjAsIDMuMTAyOSwgLTUuNzcyMSwgMC4zMDA4LCAtMS4wODgyLCA1LjYyNjggKTtcbnZlYzQgTG9nTHV2VG9MaW5lYXIoIGluIHZlYzQgdmFsdWUgKSB7XG5cdGZsb2F0IExlID0gdmFsdWUueiAqIDI1NS4wICsgdmFsdWUudztcblx0dmVjMyBYcF9ZX1hZWnA7XG5cdFhwX1lfWFlacC55ID0gZXhwMiggKCBMZSAtIDEyNy4wICkgLyAyLjAgKTtcblx0WHBfWV9YWVpwLnogPSBYcF9ZX1hZWnAueSAvIHZhbHVlLnk7XG5cdFhwX1lfWFlacC54ID0gdmFsdWUueCAqIFhwX1lfWFlacC56O1xuXHR2ZWMzIHZSR0IgPSBjTG9nTHV2SW52ZXJzZU0gKiBYcF9ZX1hZWnAucmdiO1xuXHRyZXR1cm4gdmVjNCggbWF4KCB2UkdCLCAwLjAgKSwgMS4wICk7XG59Ijt2YXIgZW52bWFwX2ZyYWdtZW50PSIjaWZkZWYgVVNFX0VOVk1BUFxuXHQjaWZkZWYgRU5WX1dPUkxEUE9TXG5cdFx0dmVjMyBjYW1lcmFUb0ZyYWc7XG5cdFx0XG5cdFx0aWYgKCBpc09ydGhvZ3JhcGhpYyApIHtcblx0XHRcdGNhbWVyYVRvRnJhZyA9IG5vcm1hbGl6ZSggdmVjMyggLSB2aWV3TWF0cml4WyAwIF1bIDIgXSwgLSB2aWV3TWF0cml4WyAxIF1bIDIgXSwgLSB2aWV3TWF0cml4WyAyIF1bIDIgXSApICk7XG5cdFx0fSAgZWxzZSB7XG5cdFx0XHRjYW1lcmFUb0ZyYWcgPSBub3JtYWxpemUoIHZXb3JsZFBvc2l0aW9uIC0gY2FtZXJhUG9zaXRpb24gKTtcblx0XHR9XG5cdFx0dmVjMyB3b3JsZE5vcm1hbCA9IGludmVyc2VUcmFuc2Zvcm1EaXJlY3Rpb24oIG5vcm1hbCwgdmlld01hdHJpeCApO1xuXHRcdCNpZmRlZiBFTlZNQVBfTU9ERV9SRUZMRUNUSU9OXG5cdFx0XHR2ZWMzIHJlZmxlY3RWZWMgPSByZWZsZWN0KCBjYW1lcmFUb0ZyYWcsIHdvcmxkTm9ybWFsICk7XG5cdFx0I2Vsc2Vcblx0XHRcdHZlYzMgcmVmbGVjdFZlYyA9IHJlZnJhY3QoIGNhbWVyYVRvRnJhZywgd29ybGROb3JtYWwsIHJlZnJhY3Rpb25SYXRpbyApO1xuXHRcdCNlbmRpZlxuXHQjZWxzZVxuXHRcdHZlYzMgcmVmbGVjdFZlYyA9IHZSZWZsZWN0O1xuXHQjZW5kaWZcblx0I2lmZGVmIEVOVk1BUF9UWVBFX0NVQkVcblx0XHR2ZWM0IGVudkNvbG9yID0gdGV4dHVyZUN1YmUoIGVudk1hcCwgdmVjMyggZmxpcEVudk1hcCAqIHJlZmxlY3RWZWMueCwgcmVmbGVjdFZlYy55eiApICk7XG5cdCNlbGlmIGRlZmluZWQoIEVOVk1BUF9UWVBFX0NVQkVfVVYgKVxuXHRcdHZlYzQgZW52Q29sb3IgPSB0ZXh0dXJlQ3ViZVVWKCBlbnZNYXAsIHZlYzMoIGZsaXBFbnZNYXAgKiByZWZsZWN0VmVjLngsIHJlZmxlY3RWZWMueXogKSwgMC4wICk7XG5cdCNlbGlmIGRlZmluZWQoIEVOVk1BUF9UWVBFX0VRVUlSRUMgKVxuXHRcdHZlYzIgc2FtcGxlVVY7XG5cdFx0cmVmbGVjdFZlYyA9IG5vcm1hbGl6ZSggcmVmbGVjdFZlYyApO1xuXHRcdHNhbXBsZVVWLnkgPSBhc2luKCBjbGFtcCggcmVmbGVjdFZlYy55LCAtIDEuMCwgMS4wICkgKSAqIFJFQ0lQUk9DQUxfUEkgKyAwLjU7XG5cdFx0c2FtcGxlVVYueCA9IGF0YW4oIHJlZmxlY3RWZWMueiwgcmVmbGVjdFZlYy54ICkgKiBSRUNJUFJPQ0FMX1BJMiArIDAuNTtcblx0XHR2ZWM0IGVudkNvbG9yID0gdGV4dHVyZTJEKCBlbnZNYXAsIHNhbXBsZVVWICk7XG5cdCNlbGlmIGRlZmluZWQoIEVOVk1BUF9UWVBFX1NQSEVSRSApXG5cdFx0cmVmbGVjdFZlYyA9IG5vcm1hbGl6ZSggcmVmbGVjdFZlYyApO1xuXHRcdHZlYzMgcmVmbGVjdFZpZXcgPSBub3JtYWxpemUoICggdmlld01hdHJpeCAqIHZlYzQoIHJlZmxlY3RWZWMsIDAuMCApICkueHl6ICsgdmVjMyggMC4wLCAwLjAsIDEuMCApICk7XG5cdFx0dmVjNCBlbnZDb2xvciA9IHRleHR1cmUyRCggZW52TWFwLCByZWZsZWN0Vmlldy54eSAqIDAuNSArIDAuNSApO1xuXHQjZWxzZVxuXHRcdHZlYzQgZW52Q29sb3IgPSB2ZWM0KCAwLjAgKTtcblx0I2VuZGlmXG5cdCNpZm5kZWYgRU5WTUFQX1RZUEVfQ1VCRV9VVlxuXHRcdGVudkNvbG9yID0gZW52TWFwVGV4ZWxUb0xpbmVhciggZW52Q29sb3IgKTtcblx0I2VuZGlmXG5cdCNpZmRlZiBFTlZNQVBfQkxFTkRJTkdfTVVMVElQTFlcblx0XHRvdXRnb2luZ0xpZ2h0ID0gbWl4KCBvdXRnb2luZ0xpZ2h0LCBvdXRnb2luZ0xpZ2h0ICogZW52Q29sb3IueHl6LCBzcGVjdWxhclN0cmVuZ3RoICogcmVmbGVjdGl2aXR5ICk7XG5cdCNlbGlmIGRlZmluZWQoIEVOVk1BUF9CTEVORElOR19NSVggKVxuXHRcdG91dGdvaW5nTGlnaHQgPSBtaXgoIG91dGdvaW5nTGlnaHQsIGVudkNvbG9yLnh5eiwgc3BlY3VsYXJTdHJlbmd0aCAqIHJlZmxlY3Rpdml0eSApO1xuXHQjZWxpZiBkZWZpbmVkKCBFTlZNQVBfQkxFTkRJTkdfQUREIClcblx0XHRvdXRnb2luZ0xpZ2h0ICs9IGVudkNvbG9yLnh5eiAqIHNwZWN1bGFyU3RyZW5ndGggKiByZWZsZWN0aXZpdHk7XG5cdCNlbmRpZlxuI2VuZGlmIjt2YXIgZW52bWFwX2NvbW1vbl9wYXJzX2ZyYWdtZW50PSIjaWZkZWYgVVNFX0VOVk1BUFxuXHR1bmlmb3JtIGZsb2F0IGVudk1hcEludGVuc2l0eTtcblx0dW5pZm9ybSBmbG9hdCBmbGlwRW52TWFwO1xuXHR1bmlmb3JtIGludCBtYXhNaXBMZXZlbDtcblx0I2lmZGVmIEVOVk1BUF9UWVBFX0NVQkVcblx0XHR1bmlmb3JtIHNhbXBsZXJDdWJlIGVudk1hcDtcblx0I2Vsc2Vcblx0XHR1bmlmb3JtIHNhbXBsZXIyRCBlbnZNYXA7XG5cdCNlbmRpZlxuXHRcbiNlbmRpZiI7dmFyIGVudm1hcF9wYXJzX2ZyYWdtZW50PSIjaWZkZWYgVVNFX0VOVk1BUFxuXHR1bmlmb3JtIGZsb2F0IHJlZmxlY3Rpdml0eTtcblx0I2lmIGRlZmluZWQoIFVTRV9CVU1QTUFQICkgfHwgZGVmaW5lZCggVVNFX05PUk1BTE1BUCApIHx8IGRlZmluZWQoIFBIT05HIClcblx0XHQjZGVmaW5lIEVOVl9XT1JMRFBPU1xuXHQjZW5kaWZcblx0I2lmZGVmIEVOVl9XT1JMRFBPU1xuXHRcdHZhcnlpbmcgdmVjMyB2V29ybGRQb3NpdGlvbjtcblx0XHR1bmlmb3JtIGZsb2F0IHJlZnJhY3Rpb25SYXRpbztcblx0I2Vsc2Vcblx0XHR2YXJ5aW5nIHZlYzMgdlJlZmxlY3Q7XG5cdCNlbmRpZlxuI2VuZGlmIjt2YXIgZW52bWFwX3BhcnNfdmVydGV4PSIjaWZkZWYgVVNFX0VOVk1BUFxuXHQjaWYgZGVmaW5lZCggVVNFX0JVTVBNQVAgKSB8fCBkZWZpbmVkKCBVU0VfTk9STUFMTUFQICkgfHxkZWZpbmVkKCBQSE9ORyApXG5cdFx0I2RlZmluZSBFTlZfV09STERQT1Ncblx0I2VuZGlmXG5cdCNpZmRlZiBFTlZfV09STERQT1Ncblx0XHRcblx0XHR2YXJ5aW5nIHZlYzMgdldvcmxkUG9zaXRpb247XG5cdCNlbHNlXG5cdFx0dmFyeWluZyB2ZWMzIHZSZWZsZWN0O1xuXHRcdHVuaWZvcm0gZmxvYXQgcmVmcmFjdGlvblJhdGlvO1xuXHQjZW5kaWZcbiNlbmRpZiI7dmFyIGVudm1hcF92ZXJ0ZXg9IiNpZmRlZiBVU0VfRU5WTUFQXG5cdCNpZmRlZiBFTlZfV09STERQT1Ncblx0XHR2V29ybGRQb3NpdGlvbiA9IHdvcmxkUG9zaXRpb24ueHl6O1xuXHQjZWxzZVxuXHRcdHZlYzMgY2FtZXJhVG9WZXJ0ZXg7XG5cdFx0aWYgKCBpc09ydGhvZ3JhcGhpYyApIHsgXG5cdFx0XHRjYW1lcmFUb1ZlcnRleCA9IG5vcm1hbGl6ZSggdmVjMyggLSB2aWV3TWF0cml4WyAwIF1bIDIgXSwgLSB2aWV3TWF0cml4WyAxIF1bIDIgXSwgLSB2aWV3TWF0cml4WyAyIF1bIDIgXSApICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNhbWVyYVRvVmVydGV4ID0gbm9ybWFsaXplKCB3b3JsZFBvc2l0aW9uLnh5eiAtIGNhbWVyYVBvc2l0aW9uICk7XG5cdFx0fVxuXHRcdHZlYzMgd29ybGROb3JtYWwgPSBpbnZlcnNlVHJhbnNmb3JtRGlyZWN0aW9uKCB0cmFuc2Zvcm1lZE5vcm1hbCwgdmlld01hdHJpeCApO1xuXHRcdCNpZmRlZiBFTlZNQVBfTU9ERV9SRUZMRUNUSU9OXG5cdFx0XHR2UmVmbGVjdCA9IHJlZmxlY3QoIGNhbWVyYVRvVmVydGV4LCB3b3JsZE5vcm1hbCApO1xuXHRcdCNlbHNlXG5cdFx0XHR2UmVmbGVjdCA9IHJlZnJhY3QoIGNhbWVyYVRvVmVydGV4LCB3b3JsZE5vcm1hbCwgcmVmcmFjdGlvblJhdGlvICk7XG5cdFx0I2VuZGlmXG5cdCNlbmRpZlxuI2VuZGlmIjt2YXIgZm9nX3ZlcnRleD0iI2lmZGVmIFVTRV9GT0dcblx0Zm9nRGVwdGggPSAtbXZQb3NpdGlvbi56O1xuI2VuZGlmIjt2YXIgZm9nX3BhcnNfdmVydGV4PSIjaWZkZWYgVVNFX0ZPR1xuXHR2YXJ5aW5nIGZsb2F0IGZvZ0RlcHRoO1xuI2VuZGlmIjt2YXIgZm9nX2ZyYWdtZW50PSIjaWZkZWYgVVNFX0ZPR1xuXHQjaWZkZWYgRk9HX0VYUDJcblx0XHRmbG9hdCBmb2dGYWN0b3IgPSAxLjAgLSBleHAoIC0gZm9nRGVuc2l0eSAqIGZvZ0RlbnNpdHkgKiBmb2dEZXB0aCAqIGZvZ0RlcHRoICk7XG5cdCNlbHNlXG5cdFx0ZmxvYXQgZm9nRmFjdG9yID0gc21vb3Roc3RlcCggZm9nTmVhciwgZm9nRmFyLCBmb2dEZXB0aCApO1xuXHQjZW5kaWZcblx0Z2xfRnJhZ0NvbG9yLnJnYiA9IG1peCggZ2xfRnJhZ0NvbG9yLnJnYiwgZm9nQ29sb3IsIGZvZ0ZhY3RvciApO1xuI2VuZGlmIjt2YXIgZm9nX3BhcnNfZnJhZ21lbnQ9IiNpZmRlZiBVU0VfRk9HXG5cdHVuaWZvcm0gdmVjMyBmb2dDb2xvcjtcblx0dmFyeWluZyBmbG9hdCBmb2dEZXB0aDtcblx0I2lmZGVmIEZPR19FWFAyXG5cdFx0dW5pZm9ybSBmbG9hdCBmb2dEZW5zaXR5O1xuXHQjZWxzZVxuXHRcdHVuaWZvcm0gZmxvYXQgZm9nTmVhcjtcblx0XHR1bmlmb3JtIGZsb2F0IGZvZ0Zhcjtcblx0I2VuZGlmXG4jZW5kaWYiO3ZhciBncmFkaWVudG1hcF9wYXJzX2ZyYWdtZW50PSIjaWZkZWYgVVNFX0dSQURJRU5UTUFQXG5cdHVuaWZvcm0gc2FtcGxlcjJEIGdyYWRpZW50TWFwO1xuI2VuZGlmXG52ZWMzIGdldEdyYWRpZW50SXJyYWRpYW5jZSggdmVjMyBub3JtYWwsIHZlYzMgbGlnaHREaXJlY3Rpb24gKSB7XG5cdGZsb2F0IGRvdE5MID0gZG90KCBub3JtYWwsIGxpZ2h0RGlyZWN0aW9uICk7XG5cdHZlYzIgY29vcmQgPSB2ZWMyKCBkb3ROTCAqIDAuNSArIDAuNSwgMC4wICk7XG5cdCNpZmRlZiBVU0VfR1JBRElFTlRNQVBcblx0XHRyZXR1cm4gdGV4dHVyZTJEKCBncmFkaWVudE1hcCwgY29vcmQgKS5yZ2I7XG5cdCNlbHNlXG5cdFx0cmV0dXJuICggY29vcmQueCA8IDAuNyApID8gdmVjMyggMC43ICkgOiB2ZWMzKCAxLjAgKTtcblx0I2VuZGlmXG59Ijt2YXIgbGlnaHRtYXBfZnJhZ21lbnQ9IiNpZmRlZiBVU0VfTElHSFRNQVBcblx0dmVjNCBsaWdodE1hcFRleGVsPSB0ZXh0dXJlMkQoIGxpZ2h0TWFwLCB2VXYyICk7XG5cdHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSArPSBQSSAqIGxpZ2h0TWFwVGV4ZWxUb0xpbmVhciggbGlnaHRNYXBUZXhlbCApLnJnYiAqIGxpZ2h0TWFwSW50ZW5zaXR5O1xuI2VuZGlmIjt2YXIgbGlnaHRtYXBfcGFyc19mcmFnbWVudD0iI2lmZGVmIFVTRV9MSUdIVE1BUFxuXHR1bmlmb3JtIHNhbXBsZXIyRCBsaWdodE1hcDtcblx0dW5pZm9ybSBmbG9hdCBsaWdodE1hcEludGVuc2l0eTtcbiNlbmRpZiI7dmFyIGxpZ2h0c19sYW1iZXJ0X3ZlcnRleD0idmVjMyBkaWZmdXNlID0gdmVjMyggMS4wICk7XG5HZW9tZXRyaWNDb250ZXh0IGdlb21ldHJ5O1xuZ2VvbWV0cnkucG9zaXRpb24gPSBtdlBvc2l0aW9uLnh5ejtcbmdlb21ldHJ5Lm5vcm1hbCA9IG5vcm1hbGl6ZSggdHJhbnNmb3JtZWROb3JtYWwgKTtcbmdlb21ldHJ5LnZpZXdEaXIgPSAoIGlzT3J0aG9ncmFwaGljICkgPyB2ZWMzKCAwLCAwLCAxICkgOiBub3JtYWxpemUoIC1tdlBvc2l0aW9uLnh5eiApO1xuR2VvbWV0cmljQ29udGV4dCBiYWNrR2VvbWV0cnk7XG5iYWNrR2VvbWV0cnkucG9zaXRpb24gPSBnZW9tZXRyeS5wb3NpdGlvbjtcbmJhY2tHZW9tZXRyeS5ub3JtYWwgPSAtZ2VvbWV0cnkubm9ybWFsO1xuYmFja0dlb21ldHJ5LnZpZXdEaXIgPSBnZW9tZXRyeS52aWV3RGlyO1xudkxpZ2h0RnJvbnQgPSB2ZWMzKCAwLjAgKTtcbnZJbmRpcmVjdEZyb250ID0gdmVjMyggMC4wICk7XG4jaWZkZWYgRE9VQkxFX1NJREVEXG5cdHZMaWdodEJhY2sgPSB2ZWMzKCAwLjAgKTtcblx0dkluZGlyZWN0QmFjayA9IHZlYzMoIDAuMCApO1xuI2VuZGlmXG5JbmNpZGVudExpZ2h0IGRpcmVjdExpZ2h0O1xuZmxvYXQgZG90Tkw7XG52ZWMzIGRpcmVjdExpZ2h0Q29sb3JfRGlmZnVzZTtcbiNpZiBOVU1fUE9JTlRfTElHSFRTID4gMFxuXHQjcHJhZ21hIHVucm9sbF9sb29wXG5cdGZvciAoIGludCBpID0gMDsgaSA8IE5VTV9QT0lOVF9MSUdIVFM7IGkgKysgKSB7XG5cdFx0Z2V0UG9pbnREaXJlY3RMaWdodElycmFkaWFuY2UoIHBvaW50TGlnaHRzWyBpIF0sIGdlb21ldHJ5LCBkaXJlY3RMaWdodCApO1xuXHRcdGRvdE5MID0gZG90KCBnZW9tZXRyeS5ub3JtYWwsIGRpcmVjdExpZ2h0LmRpcmVjdGlvbiApO1xuXHRcdGRpcmVjdExpZ2h0Q29sb3JfRGlmZnVzZSA9IFBJICogZGlyZWN0TGlnaHQuY29sb3I7XG5cdFx0dkxpZ2h0RnJvbnQgKz0gc2F0dXJhdGUoIGRvdE5MICkgKiBkaXJlY3RMaWdodENvbG9yX0RpZmZ1c2U7XG5cdFx0I2lmZGVmIERPVUJMRV9TSURFRFxuXHRcdFx0dkxpZ2h0QmFjayArPSBzYXR1cmF0ZSggLWRvdE5MICkgKiBkaXJlY3RMaWdodENvbG9yX0RpZmZ1c2U7XG5cdFx0I2VuZGlmXG5cdH1cbiNlbmRpZlxuI2lmIE5VTV9TUE9UX0xJR0hUUyA+IDBcblx0I3ByYWdtYSB1bnJvbGxfbG9vcFxuXHRmb3IgKCBpbnQgaSA9IDA7IGkgPCBOVU1fU1BPVF9MSUdIVFM7IGkgKysgKSB7XG5cdFx0Z2V0U3BvdERpcmVjdExpZ2h0SXJyYWRpYW5jZSggc3BvdExpZ2h0c1sgaSBdLCBnZW9tZXRyeSwgZGlyZWN0TGlnaHQgKTtcblx0XHRkb3ROTCA9IGRvdCggZ2VvbWV0cnkubm9ybWFsLCBkaXJlY3RMaWdodC5kaXJlY3Rpb24gKTtcblx0XHRkaXJlY3RMaWdodENvbG9yX0RpZmZ1c2UgPSBQSSAqIGRpcmVjdExpZ2h0LmNvbG9yO1xuXHRcdHZMaWdodEZyb250ICs9IHNhdHVyYXRlKCBkb3ROTCApICogZGlyZWN0TGlnaHRDb2xvcl9EaWZmdXNlO1xuXHRcdCNpZmRlZiBET1VCTEVfU0lERURcblx0XHRcdHZMaWdodEJhY2sgKz0gc2F0dXJhdGUoIC1kb3ROTCApICogZGlyZWN0TGlnaHRDb2xvcl9EaWZmdXNlO1xuXHRcdCNlbmRpZlxuXHR9XG4jZW5kaWZcbiNpZiBOVU1fRElSX0xJR0hUUyA+IDBcblx0I3ByYWdtYSB1bnJvbGxfbG9vcFxuXHRmb3IgKCBpbnQgaSA9IDA7IGkgPCBOVU1fRElSX0xJR0hUUzsgaSArKyApIHtcblx0XHRnZXREaXJlY3Rpb25hbERpcmVjdExpZ2h0SXJyYWRpYW5jZSggZGlyZWN0aW9uYWxMaWdodHNbIGkgXSwgZ2VvbWV0cnksIGRpcmVjdExpZ2h0ICk7XG5cdFx0ZG90TkwgPSBkb3QoIGdlb21ldHJ5Lm5vcm1hbCwgZGlyZWN0TGlnaHQuZGlyZWN0aW9uICk7XG5cdFx0ZGlyZWN0TGlnaHRDb2xvcl9EaWZmdXNlID0gUEkgKiBkaXJlY3RMaWdodC5jb2xvcjtcblx0XHR2TGlnaHRGcm9udCArPSBzYXR1cmF0ZSggZG90TkwgKSAqIGRpcmVjdExpZ2h0Q29sb3JfRGlmZnVzZTtcblx0XHQjaWZkZWYgRE9VQkxFX1NJREVEXG5cdFx0XHR2TGlnaHRCYWNrICs9IHNhdHVyYXRlKCAtZG90TkwgKSAqIGRpcmVjdExpZ2h0Q29sb3JfRGlmZnVzZTtcblx0XHQjZW5kaWZcblx0fVxuI2VuZGlmXG4jaWYgTlVNX0hFTUlfTElHSFRTID4gMFxuXHQjcHJhZ21hIHVucm9sbF9sb29wXG5cdGZvciAoIGludCBpID0gMDsgaSA8IE5VTV9IRU1JX0xJR0hUUzsgaSArKyApIHtcblx0XHR2SW5kaXJlY3RGcm9udCArPSBnZXRIZW1pc3BoZXJlTGlnaHRJcnJhZGlhbmNlKCBoZW1pc3BoZXJlTGlnaHRzWyBpIF0sIGdlb21ldHJ5ICk7XG5cdFx0I2lmZGVmIERPVUJMRV9TSURFRFxuXHRcdFx0dkluZGlyZWN0QmFjayArPSBnZXRIZW1pc3BoZXJlTGlnaHRJcnJhZGlhbmNlKCBoZW1pc3BoZXJlTGlnaHRzWyBpIF0sIGJhY2tHZW9tZXRyeSApO1xuXHRcdCNlbmRpZlxuXHR9XG4jZW5kaWYiO3ZhciBsaWdodHNfcGFyc19iZWdpbj0idW5pZm9ybSBib29sIHJlY2VpdmVTaGFkb3c7XG51bmlmb3JtIHZlYzMgYW1iaWVudExpZ2h0Q29sb3I7XG51bmlmb3JtIHZlYzMgbGlnaHRQcm9iZVsgOSBdO1xudmVjMyBzaEdldElycmFkaWFuY2VBdCggaW4gdmVjMyBub3JtYWwsIGluIHZlYzMgc2hDb2VmZmljaWVudHNbIDkgXSApIHtcblx0ZmxvYXQgeCA9IG5vcm1hbC54LCB5ID0gbm9ybWFsLnksIHogPSBub3JtYWwuejtcblx0dmVjMyByZXN1bHQgPSBzaENvZWZmaWNpZW50c1sgMCBdICogMC44ODYyMjc7XG5cdHJlc3VsdCArPSBzaENvZWZmaWNpZW50c1sgMSBdICogMi4wICogMC41MTE2NjQgKiB5O1xuXHRyZXN1bHQgKz0gc2hDb2VmZmljaWVudHNbIDIgXSAqIDIuMCAqIDAuNTExNjY0ICogejtcblx0cmVzdWx0ICs9IHNoQ29lZmZpY2llbnRzWyAzIF0gKiAyLjAgKiAwLjUxMTY2NCAqIHg7XG5cdHJlc3VsdCArPSBzaENvZWZmaWNpZW50c1sgNCBdICogMi4wICogMC40MjkwNDMgKiB4ICogeTtcblx0cmVzdWx0ICs9IHNoQ29lZmZpY2llbnRzWyA1IF0gKiAyLjAgKiAwLjQyOTA0MyAqIHkgKiB6O1xuXHRyZXN1bHQgKz0gc2hDb2VmZmljaWVudHNbIDYgXSAqICggMC43NDMxMjUgKiB6ICogeiAtIDAuMjQ3NzA4ICk7XG5cdHJlc3VsdCArPSBzaENvZWZmaWNpZW50c1sgNyBdICogMi4wICogMC40MjkwNDMgKiB4ICogejtcblx0cmVzdWx0ICs9IHNoQ29lZmZpY2llbnRzWyA4IF0gKiAwLjQyOTA0MyAqICggeCAqIHggLSB5ICogeSApO1xuXHRyZXR1cm4gcmVzdWx0O1xufVxudmVjMyBnZXRMaWdodFByb2JlSXJyYWRpYW5jZSggY29uc3QgaW4gdmVjMyBsaWdodFByb2JlWyA5IF0sIGNvbnN0IGluIEdlb21ldHJpY0NvbnRleHQgZ2VvbWV0cnkgKSB7XG5cdHZlYzMgd29ybGROb3JtYWwgPSBpbnZlcnNlVHJhbnNmb3JtRGlyZWN0aW9uKCBnZW9tZXRyeS5ub3JtYWwsIHZpZXdNYXRyaXggKTtcblx0dmVjMyBpcnJhZGlhbmNlID0gc2hHZXRJcnJhZGlhbmNlQXQoIHdvcmxkTm9ybWFsLCBsaWdodFByb2JlICk7XG5cdHJldHVybiBpcnJhZGlhbmNlO1xufVxudmVjMyBnZXRBbWJpZW50TGlnaHRJcnJhZGlhbmNlKCBjb25zdCBpbiB2ZWMzIGFtYmllbnRMaWdodENvbG9yICkge1xuXHR2ZWMzIGlycmFkaWFuY2UgPSBhbWJpZW50TGlnaHRDb2xvcjtcblx0I2lmbmRlZiBQSFlTSUNBTExZX0NPUlJFQ1RfTElHSFRTXG5cdFx0aXJyYWRpYW5jZSAqPSBQSTtcblx0I2VuZGlmXG5cdHJldHVybiBpcnJhZGlhbmNlO1xufVxuI2lmIE5VTV9ESVJfTElHSFRTID4gMFxuXHRzdHJ1Y3QgRGlyZWN0aW9uYWxMaWdodCB7XG5cdFx0dmVjMyBkaXJlY3Rpb247XG5cdFx0dmVjMyBjb2xvcjtcblx0XHRpbnQgc2hhZG93O1xuXHRcdGZsb2F0IHNoYWRvd0JpYXM7XG5cdFx0ZmxvYXQgc2hhZG93UmFkaXVzO1xuXHRcdHZlYzIgc2hhZG93TWFwU2l6ZTtcblx0fTtcblx0dW5pZm9ybSBEaXJlY3Rpb25hbExpZ2h0IGRpcmVjdGlvbmFsTGlnaHRzWyBOVU1fRElSX0xJR0hUUyBdO1xuXHR2b2lkIGdldERpcmVjdGlvbmFsRGlyZWN0TGlnaHRJcnJhZGlhbmNlKCBjb25zdCBpbiBEaXJlY3Rpb25hbExpZ2h0IGRpcmVjdGlvbmFsTGlnaHQsIGNvbnN0IGluIEdlb21ldHJpY0NvbnRleHQgZ2VvbWV0cnksIG91dCBJbmNpZGVudExpZ2h0IGRpcmVjdExpZ2h0ICkge1xuXHRcdGRpcmVjdExpZ2h0LmNvbG9yID0gZGlyZWN0aW9uYWxMaWdodC5jb2xvcjtcblx0XHRkaXJlY3RMaWdodC5kaXJlY3Rpb24gPSBkaXJlY3Rpb25hbExpZ2h0LmRpcmVjdGlvbjtcblx0XHRkaXJlY3RMaWdodC52aXNpYmxlID0gdHJ1ZTtcblx0fVxuI2VuZGlmXG4jaWYgTlVNX1BPSU5UX0xJR0hUUyA+IDBcblx0c3RydWN0IFBvaW50TGlnaHQge1xuXHRcdHZlYzMgcG9zaXRpb247XG5cdFx0dmVjMyBjb2xvcjtcblx0XHRmbG9hdCBkaXN0YW5jZTtcblx0XHRmbG9hdCBkZWNheTtcblx0XHRpbnQgc2hhZG93O1xuXHRcdGZsb2F0IHNoYWRvd0JpYXM7XG5cdFx0ZmxvYXQgc2hhZG93UmFkaXVzO1xuXHRcdHZlYzIgc2hhZG93TWFwU2l6ZTtcblx0XHRmbG9hdCBzaGFkb3dDYW1lcmFOZWFyO1xuXHRcdGZsb2F0IHNoYWRvd0NhbWVyYUZhcjtcblx0fTtcblx0dW5pZm9ybSBQb2ludExpZ2h0IHBvaW50TGlnaHRzWyBOVU1fUE9JTlRfTElHSFRTIF07XG5cdHZvaWQgZ2V0UG9pbnREaXJlY3RMaWdodElycmFkaWFuY2UoIGNvbnN0IGluIFBvaW50TGlnaHQgcG9pbnRMaWdodCwgY29uc3QgaW4gR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeSwgb3V0IEluY2lkZW50TGlnaHQgZGlyZWN0TGlnaHQgKSB7XG5cdFx0dmVjMyBsVmVjdG9yID0gcG9pbnRMaWdodC5wb3NpdGlvbiAtIGdlb21ldHJ5LnBvc2l0aW9uO1xuXHRcdGRpcmVjdExpZ2h0LmRpcmVjdGlvbiA9IG5vcm1hbGl6ZSggbFZlY3RvciApO1xuXHRcdGZsb2F0IGxpZ2h0RGlzdGFuY2UgPSBsZW5ndGgoIGxWZWN0b3IgKTtcblx0XHRkaXJlY3RMaWdodC5jb2xvciA9IHBvaW50TGlnaHQuY29sb3I7XG5cdFx0ZGlyZWN0TGlnaHQuY29sb3IgKj0gcHVuY3R1YWxMaWdodEludGVuc2l0eVRvSXJyYWRpYW5jZUZhY3RvciggbGlnaHREaXN0YW5jZSwgcG9pbnRMaWdodC5kaXN0YW5jZSwgcG9pbnRMaWdodC5kZWNheSApO1xuXHRcdGRpcmVjdExpZ2h0LnZpc2libGUgPSAoIGRpcmVjdExpZ2h0LmNvbG9yICE9IHZlYzMoIDAuMCApICk7XG5cdH1cbiNlbmRpZlxuI2lmIE5VTV9TUE9UX0xJR0hUUyA+IDBcblx0c3RydWN0IFNwb3RMaWdodCB7XG5cdFx0dmVjMyBwb3NpdGlvbjtcblx0XHR2ZWMzIGRpcmVjdGlvbjtcblx0XHR2ZWMzIGNvbG9yO1xuXHRcdGZsb2F0IGRpc3RhbmNlO1xuXHRcdGZsb2F0IGRlY2F5O1xuXHRcdGZsb2F0IGNvbmVDb3M7XG5cdFx0ZmxvYXQgcGVudW1icmFDb3M7XG5cdFx0aW50IHNoYWRvdztcblx0XHRmbG9hdCBzaGFkb3dCaWFzO1xuXHRcdGZsb2F0IHNoYWRvd1JhZGl1cztcblx0XHR2ZWMyIHNoYWRvd01hcFNpemU7XG5cdH07XG5cdHVuaWZvcm0gU3BvdExpZ2h0IHNwb3RMaWdodHNbIE5VTV9TUE9UX0xJR0hUUyBdO1xuXHR2b2lkIGdldFNwb3REaXJlY3RMaWdodElycmFkaWFuY2UoIGNvbnN0IGluIFNwb3RMaWdodCBzcG90TGlnaHQsIGNvbnN0IGluIEdlb21ldHJpY0NvbnRleHQgZ2VvbWV0cnksIG91dCBJbmNpZGVudExpZ2h0IGRpcmVjdExpZ2h0ICApIHtcblx0XHR2ZWMzIGxWZWN0b3IgPSBzcG90TGlnaHQucG9zaXRpb24gLSBnZW9tZXRyeS5wb3NpdGlvbjtcblx0XHRkaXJlY3RMaWdodC5kaXJlY3Rpb24gPSBub3JtYWxpemUoIGxWZWN0b3IgKTtcblx0XHRmbG9hdCBsaWdodERpc3RhbmNlID0gbGVuZ3RoKCBsVmVjdG9yICk7XG5cdFx0ZmxvYXQgYW5nbGVDb3MgPSBkb3QoIGRpcmVjdExpZ2h0LmRpcmVjdGlvbiwgc3BvdExpZ2h0LmRpcmVjdGlvbiApO1xuXHRcdGlmICggYW5nbGVDb3MgPiBzcG90TGlnaHQuY29uZUNvcyApIHtcblx0XHRcdGZsb2F0IHNwb3RFZmZlY3QgPSBzbW9vdGhzdGVwKCBzcG90TGlnaHQuY29uZUNvcywgc3BvdExpZ2h0LnBlbnVtYnJhQ29zLCBhbmdsZUNvcyApO1xuXHRcdFx0ZGlyZWN0TGlnaHQuY29sb3IgPSBzcG90TGlnaHQuY29sb3I7XG5cdFx0XHRkaXJlY3RMaWdodC5jb2xvciAqPSBzcG90RWZmZWN0ICogcHVuY3R1YWxMaWdodEludGVuc2l0eVRvSXJyYWRpYW5jZUZhY3RvciggbGlnaHREaXN0YW5jZSwgc3BvdExpZ2h0LmRpc3RhbmNlLCBzcG90TGlnaHQuZGVjYXkgKTtcblx0XHRcdGRpcmVjdExpZ2h0LnZpc2libGUgPSB0cnVlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRkaXJlY3RMaWdodC5jb2xvciA9IHZlYzMoIDAuMCApO1xuXHRcdFx0ZGlyZWN0TGlnaHQudmlzaWJsZSA9IGZhbHNlO1xuXHRcdH1cblx0fVxuI2VuZGlmXG4jaWYgTlVNX1JFQ1RfQVJFQV9MSUdIVFMgPiAwXG5cdHN0cnVjdCBSZWN0QXJlYUxpZ2h0IHtcblx0XHR2ZWMzIGNvbG9yO1xuXHRcdHZlYzMgcG9zaXRpb247XG5cdFx0dmVjMyBoYWxmV2lkdGg7XG5cdFx0dmVjMyBoYWxmSGVpZ2h0O1xuXHR9O1xuXHR1bmlmb3JtIHNhbXBsZXIyRCBsdGNfMTtcdHVuaWZvcm0gc2FtcGxlcjJEIGx0Y18yO1xuXHR1bmlmb3JtIFJlY3RBcmVhTGlnaHQgcmVjdEFyZWFMaWdodHNbIE5VTV9SRUNUX0FSRUFfTElHSFRTIF07XG4jZW5kaWZcbiNpZiBOVU1fSEVNSV9MSUdIVFMgPiAwXG5cdHN0cnVjdCBIZW1pc3BoZXJlTGlnaHQge1xuXHRcdHZlYzMgZGlyZWN0aW9uO1xuXHRcdHZlYzMgc2t5Q29sb3I7XG5cdFx0dmVjMyBncm91bmRDb2xvcjtcblx0fTtcblx0dW5pZm9ybSBIZW1pc3BoZXJlTGlnaHQgaGVtaXNwaGVyZUxpZ2h0c1sgTlVNX0hFTUlfTElHSFRTIF07XG5cdHZlYzMgZ2V0SGVtaXNwaGVyZUxpZ2h0SXJyYWRpYW5jZSggY29uc3QgaW4gSGVtaXNwaGVyZUxpZ2h0IGhlbWlMaWdodCwgY29uc3QgaW4gR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeSApIHtcblx0XHRmbG9hdCBkb3ROTCA9IGRvdCggZ2VvbWV0cnkubm9ybWFsLCBoZW1pTGlnaHQuZGlyZWN0aW9uICk7XG5cdFx0ZmxvYXQgaGVtaURpZmZ1c2VXZWlnaHQgPSAwLjUgKiBkb3ROTCArIDAuNTtcblx0XHR2ZWMzIGlycmFkaWFuY2UgPSBtaXgoIGhlbWlMaWdodC5ncm91bmRDb2xvciwgaGVtaUxpZ2h0LnNreUNvbG9yLCBoZW1pRGlmZnVzZVdlaWdodCApO1xuXHRcdCNpZm5kZWYgUEhZU0lDQUxMWV9DT1JSRUNUX0xJR0hUU1xuXHRcdFx0aXJyYWRpYW5jZSAqPSBQSTtcblx0XHQjZW5kaWZcblx0XHRyZXR1cm4gaXJyYWRpYW5jZTtcblx0fVxuI2VuZGlmIjt2YXIgZW52bWFwX3BoeXNpY2FsX3BhcnNfZnJhZ21lbnQ9IiNpZiBkZWZpbmVkKCBVU0VfRU5WTUFQIClcblx0I2lmZGVmIEVOVk1BUF9NT0RFX1JFRlJBQ1RJT05cblx0XHR1bmlmb3JtIGZsb2F0IHJlZnJhY3Rpb25SYXRpbztcblx0I2VuZGlmXG5cdHZlYzMgZ2V0TGlnaHRQcm9iZUluZGlyZWN0SXJyYWRpYW5jZSggY29uc3QgaW4gR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeSwgY29uc3QgaW4gaW50IG1heE1JUExldmVsICkge1xuXHRcdHZlYzMgd29ybGROb3JtYWwgPSBpbnZlcnNlVHJhbnNmb3JtRGlyZWN0aW9uKCBnZW9tZXRyeS5ub3JtYWwsIHZpZXdNYXRyaXggKTtcblx0XHQjaWZkZWYgRU5WTUFQX1RZUEVfQ1VCRVxuXHRcdFx0dmVjMyBxdWVyeVZlYyA9IHZlYzMoIGZsaXBFbnZNYXAgKiB3b3JsZE5vcm1hbC54LCB3b3JsZE5vcm1hbC55eiApO1xuXHRcdFx0I2lmZGVmIFRFWFRVUkVfTE9EX0VYVFxuXHRcdFx0XHR2ZWM0IGVudk1hcENvbG9yID0gdGV4dHVyZUN1YmVMb2RFWFQoIGVudk1hcCwgcXVlcnlWZWMsIGZsb2F0KCBtYXhNSVBMZXZlbCApICk7XG5cdFx0XHQjZWxzZVxuXHRcdFx0XHR2ZWM0IGVudk1hcENvbG9yID0gdGV4dHVyZUN1YmUoIGVudk1hcCwgcXVlcnlWZWMsIGZsb2F0KCBtYXhNSVBMZXZlbCApICk7XG5cdFx0XHQjZW5kaWZcblx0XHRcdGVudk1hcENvbG9yLnJnYiA9IGVudk1hcFRleGVsVG9MaW5lYXIoIGVudk1hcENvbG9yICkucmdiO1xuXHRcdCNlbGlmIGRlZmluZWQoIEVOVk1BUF9UWVBFX0NVQkVfVVYgKVxuXHRcdFx0dmVjMyBxdWVyeVZlYyA9IHZlYzMoIGZsaXBFbnZNYXAgKiB3b3JsZE5vcm1hbC54LCB3b3JsZE5vcm1hbC55eiApO1xuXHRcdFx0dmVjNCBlbnZNYXBDb2xvciA9IHRleHR1cmVDdWJlVVYoIGVudk1hcCwgcXVlcnlWZWMsIDEuMCApO1xuXHRcdCNlbHNlXG5cdFx0XHR2ZWM0IGVudk1hcENvbG9yID0gdmVjNCggMC4wICk7XG5cdFx0I2VuZGlmXG5cdFx0cmV0dXJuIFBJICogZW52TWFwQ29sb3IucmdiICogZW52TWFwSW50ZW5zaXR5O1xuXHR9XG5cdGZsb2F0IGdldFNwZWN1bGFyTUlQTGV2ZWwoIGNvbnN0IGluIGZsb2F0IHJvdWdobmVzcywgY29uc3QgaW4gaW50IG1heE1JUExldmVsICkge1xuXHRcdGZsb2F0IG1heE1JUExldmVsU2NhbGFyID0gZmxvYXQoIG1heE1JUExldmVsICk7XG5cdFx0ZmxvYXQgc2lnbWEgPSBQSSAqIHJvdWdobmVzcyAqIHJvdWdobmVzcyAvICggMS4wICsgcm91Z2huZXNzICk7XG5cdFx0ZmxvYXQgZGVzaXJlZE1JUExldmVsID0gbWF4TUlQTGV2ZWxTY2FsYXIgKyBsb2cyKCBzaWdtYSApO1xuXHRcdHJldHVybiBjbGFtcCggZGVzaXJlZE1JUExldmVsLCAwLjAsIG1heE1JUExldmVsU2NhbGFyICk7XG5cdH1cblx0dmVjMyBnZXRMaWdodFByb2JlSW5kaXJlY3RSYWRpYW5jZSggY29uc3QgaW4gdmVjMyB2aWV3RGlyLCBjb25zdCBpbiB2ZWMzIG5vcm1hbCwgY29uc3QgaW4gZmxvYXQgcm91Z2huZXNzLCBjb25zdCBpbiBpbnQgbWF4TUlQTGV2ZWwgKSB7XG5cdFx0I2lmZGVmIEVOVk1BUF9NT0RFX1JFRkxFQ1RJT05cblx0XHQgIHZlYzMgcmVmbGVjdFZlYyA9IHJlZmxlY3QoIC12aWV3RGlyLCBub3JtYWwgKTtcblx0XHQgIHJlZmxlY3RWZWMgPSBub3JtYWxpemUoIG1peCggcmVmbGVjdFZlYywgbm9ybWFsLCByb3VnaG5lc3MgKiByb3VnaG5lc3MpICk7XG5cdFx0I2Vsc2Vcblx0XHQgIHZlYzMgcmVmbGVjdFZlYyA9IHJlZnJhY3QoIC12aWV3RGlyLCBub3JtYWwsIHJlZnJhY3Rpb25SYXRpbyApO1xuXHRcdCNlbmRpZlxuXHRcdHJlZmxlY3RWZWMgPSBpbnZlcnNlVHJhbnNmb3JtRGlyZWN0aW9uKCByZWZsZWN0VmVjLCB2aWV3TWF0cml4ICk7XG5cdFx0ZmxvYXQgc3BlY3VsYXJNSVBMZXZlbCA9IGdldFNwZWN1bGFyTUlQTGV2ZWwoIHJvdWdobmVzcywgbWF4TUlQTGV2ZWwgKTtcblx0XHQjaWZkZWYgRU5WTUFQX1RZUEVfQ1VCRVxuXHRcdFx0dmVjMyBxdWVyeVJlZmxlY3RWZWMgPSB2ZWMzKCBmbGlwRW52TWFwICogcmVmbGVjdFZlYy54LCByZWZsZWN0VmVjLnl6ICk7XG5cdFx0XHQjaWZkZWYgVEVYVFVSRV9MT0RfRVhUXG5cdFx0XHRcdHZlYzQgZW52TWFwQ29sb3IgPSB0ZXh0dXJlQ3ViZUxvZEVYVCggZW52TWFwLCBxdWVyeVJlZmxlY3RWZWMsIHNwZWN1bGFyTUlQTGV2ZWwgKTtcblx0XHRcdCNlbHNlXG5cdFx0XHRcdHZlYzQgZW52TWFwQ29sb3IgPSB0ZXh0dXJlQ3ViZSggZW52TWFwLCBxdWVyeVJlZmxlY3RWZWMsIHNwZWN1bGFyTUlQTGV2ZWwgKTtcblx0XHRcdCNlbmRpZlxuXHRcdFx0ZW52TWFwQ29sb3IucmdiID0gZW52TWFwVGV4ZWxUb0xpbmVhciggZW52TWFwQ29sb3IgKS5yZ2I7XG5cdFx0I2VsaWYgZGVmaW5lZCggRU5WTUFQX1RZUEVfQ1VCRV9VViApXG5cdFx0XHR2ZWMzIHF1ZXJ5UmVmbGVjdFZlYyA9IHZlYzMoIGZsaXBFbnZNYXAgKiByZWZsZWN0VmVjLngsIHJlZmxlY3RWZWMueXogKTtcblx0XHRcdHZlYzQgZW52TWFwQ29sb3IgPSB0ZXh0dXJlQ3ViZVVWKCBlbnZNYXAsIHF1ZXJ5UmVmbGVjdFZlYywgcm91Z2huZXNzICk7XG5cdFx0I2VsaWYgZGVmaW5lZCggRU5WTUFQX1RZUEVfRVFVSVJFQyApXG5cdFx0XHR2ZWMyIHNhbXBsZVVWO1xuXHRcdFx0c2FtcGxlVVYueSA9IGFzaW4oIGNsYW1wKCByZWZsZWN0VmVjLnksIC0gMS4wLCAxLjAgKSApICogUkVDSVBST0NBTF9QSSArIDAuNTtcblx0XHRcdHNhbXBsZVVWLnggPSBhdGFuKCByZWZsZWN0VmVjLnosIHJlZmxlY3RWZWMueCApICogUkVDSVBST0NBTF9QSTIgKyAwLjU7XG5cdFx0XHQjaWZkZWYgVEVYVFVSRV9MT0RfRVhUXG5cdFx0XHRcdHZlYzQgZW52TWFwQ29sb3IgPSB0ZXh0dXJlMkRMb2RFWFQoIGVudk1hcCwgc2FtcGxlVVYsIHNwZWN1bGFyTUlQTGV2ZWwgKTtcblx0XHRcdCNlbHNlXG5cdFx0XHRcdHZlYzQgZW52TWFwQ29sb3IgPSB0ZXh0dXJlMkQoIGVudk1hcCwgc2FtcGxlVVYsIHNwZWN1bGFyTUlQTGV2ZWwgKTtcblx0XHRcdCNlbmRpZlxuXHRcdFx0ZW52TWFwQ29sb3IucmdiID0gZW52TWFwVGV4ZWxUb0xpbmVhciggZW52TWFwQ29sb3IgKS5yZ2I7XG5cdFx0I2VsaWYgZGVmaW5lZCggRU5WTUFQX1RZUEVfU1BIRVJFIClcblx0XHRcdHZlYzMgcmVmbGVjdFZpZXcgPSBub3JtYWxpemUoICggdmlld01hdHJpeCAqIHZlYzQoIHJlZmxlY3RWZWMsIDAuMCApICkueHl6ICsgdmVjMyggMC4wLDAuMCwxLjAgKSApO1xuXHRcdFx0I2lmZGVmIFRFWFRVUkVfTE9EX0VYVFxuXHRcdFx0XHR2ZWM0IGVudk1hcENvbG9yID0gdGV4dHVyZTJETG9kRVhUKCBlbnZNYXAsIHJlZmxlY3RWaWV3Lnh5ICogMC41ICsgMC41LCBzcGVjdWxhck1JUExldmVsICk7XG5cdFx0XHQjZWxzZVxuXHRcdFx0XHR2ZWM0IGVudk1hcENvbG9yID0gdGV4dHVyZTJEKCBlbnZNYXAsIHJlZmxlY3RWaWV3Lnh5ICogMC41ICsgMC41LCBzcGVjdWxhck1JUExldmVsICk7XG5cdFx0XHQjZW5kaWZcblx0XHRcdGVudk1hcENvbG9yLnJnYiA9IGVudk1hcFRleGVsVG9MaW5lYXIoIGVudk1hcENvbG9yICkucmdiO1xuXHRcdCNlbmRpZlxuXHRcdHJldHVybiBlbnZNYXBDb2xvci5yZ2IgKiBlbnZNYXBJbnRlbnNpdHk7XG5cdH1cbiNlbmRpZiI7dmFyIGxpZ2h0c190b29uX2ZyYWdtZW50PSJUb29uTWF0ZXJpYWwgbWF0ZXJpYWw7XG5tYXRlcmlhbC5kaWZmdXNlQ29sb3IgPSBkaWZmdXNlQ29sb3IucmdiO1xubWF0ZXJpYWwuc3BlY3VsYXJDb2xvciA9IHNwZWN1bGFyO1xubWF0ZXJpYWwuc3BlY3VsYXJTaGluaW5lc3MgPSBzaGluaW5lc3M7XG5tYXRlcmlhbC5zcGVjdWxhclN0cmVuZ3RoID0gc3BlY3VsYXJTdHJlbmd0aDsiO3ZhciBsaWdodHNfdG9vbl9wYXJzX2ZyYWdtZW50PSJ2YXJ5aW5nIHZlYzMgdlZpZXdQb3NpdGlvbjtcbiNpZm5kZWYgRkxBVF9TSEFERURcblx0dmFyeWluZyB2ZWMzIHZOb3JtYWw7XG4jZW5kaWZcbnN0cnVjdCBUb29uTWF0ZXJpYWwge1xuXHR2ZWMzXHRkaWZmdXNlQ29sb3I7XG5cdHZlYzNcdHNwZWN1bGFyQ29sb3I7XG5cdGZsb2F0XHRzcGVjdWxhclNoaW5pbmVzcztcblx0ZmxvYXRcdHNwZWN1bGFyU3RyZW5ndGg7XG59O1xudm9pZCBSRV9EaXJlY3RfVG9vbiggY29uc3QgaW4gSW5jaWRlbnRMaWdodCBkaXJlY3RMaWdodCwgY29uc3QgaW4gR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeSwgY29uc3QgaW4gVG9vbk1hdGVyaWFsIG1hdGVyaWFsLCBpbm91dCBSZWZsZWN0ZWRMaWdodCByZWZsZWN0ZWRMaWdodCApIHtcblx0dmVjMyBpcnJhZGlhbmNlID0gZ2V0R3JhZGllbnRJcnJhZGlhbmNlKCBnZW9tZXRyeS5ub3JtYWwsIGRpcmVjdExpZ2h0LmRpcmVjdGlvbiApICogZGlyZWN0TGlnaHQuY29sb3I7XG5cdCNpZm5kZWYgUEhZU0lDQUxMWV9DT1JSRUNUX0xJR0hUU1xuXHRcdGlycmFkaWFuY2UgKj0gUEk7XG5cdCNlbmRpZlxuXHRyZWZsZWN0ZWRMaWdodC5kaXJlY3REaWZmdXNlICs9IGlycmFkaWFuY2UgKiBCUkRGX0RpZmZ1c2VfTGFtYmVydCggbWF0ZXJpYWwuZGlmZnVzZUNvbG9yICk7XG5cdHJlZmxlY3RlZExpZ2h0LmRpcmVjdFNwZWN1bGFyICs9IGlycmFkaWFuY2UgKiBCUkRGX1NwZWN1bGFyX0JsaW5uUGhvbmcoIGRpcmVjdExpZ2h0LCBnZW9tZXRyeSwgbWF0ZXJpYWwuc3BlY3VsYXJDb2xvciwgbWF0ZXJpYWwuc3BlY3VsYXJTaGluaW5lc3MgKSAqIG1hdGVyaWFsLnNwZWN1bGFyU3RyZW5ndGg7XG59XG52b2lkIFJFX0luZGlyZWN0RGlmZnVzZV9Ub29uKCBjb25zdCBpbiB2ZWMzIGlycmFkaWFuY2UsIGNvbnN0IGluIEdlb21ldHJpY0NvbnRleHQgZ2VvbWV0cnksIGNvbnN0IGluIFRvb25NYXRlcmlhbCBtYXRlcmlhbCwgaW5vdXQgUmVmbGVjdGVkTGlnaHQgcmVmbGVjdGVkTGlnaHQgKSB7XG5cdHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSArPSBpcnJhZGlhbmNlICogQlJERl9EaWZmdXNlX0xhbWJlcnQoIG1hdGVyaWFsLmRpZmZ1c2VDb2xvciApO1xufVxuI2RlZmluZSBSRV9EaXJlY3RcdFx0XHRcdFJFX0RpcmVjdF9Ub29uXG4jZGVmaW5lIFJFX0luZGlyZWN0RGlmZnVzZVx0XHRSRV9JbmRpcmVjdERpZmZ1c2VfVG9vblxuI2RlZmluZSBNYXRlcmlhbF9MaWdodFByb2JlTE9EKCBtYXRlcmlhbCApXHQoMCkiO3ZhciBsaWdodHNfcGhvbmdfZnJhZ21lbnQ9IkJsaW5uUGhvbmdNYXRlcmlhbCBtYXRlcmlhbDtcbm1hdGVyaWFsLmRpZmZ1c2VDb2xvciA9IGRpZmZ1c2VDb2xvci5yZ2I7XG5tYXRlcmlhbC5zcGVjdWxhckNvbG9yID0gc3BlY3VsYXI7XG5tYXRlcmlhbC5zcGVjdWxhclNoaW5pbmVzcyA9IHNoaW5pbmVzcztcbm1hdGVyaWFsLnNwZWN1bGFyU3RyZW5ndGggPSBzcGVjdWxhclN0cmVuZ3RoOyI7dmFyIGxpZ2h0c19waG9uZ19wYXJzX2ZyYWdtZW50PSJ2YXJ5aW5nIHZlYzMgdlZpZXdQb3NpdGlvbjtcbiNpZm5kZWYgRkxBVF9TSEFERURcblx0dmFyeWluZyB2ZWMzIHZOb3JtYWw7XG4jZW5kaWZcbnN0cnVjdCBCbGlublBob25nTWF0ZXJpYWwge1xuXHR2ZWMzXHRkaWZmdXNlQ29sb3I7XG5cdHZlYzNcdHNwZWN1bGFyQ29sb3I7XG5cdGZsb2F0XHRzcGVjdWxhclNoaW5pbmVzcztcblx0ZmxvYXRcdHNwZWN1bGFyU3RyZW5ndGg7XG59O1xudm9pZCBSRV9EaXJlY3RfQmxpbm5QaG9uZyggY29uc3QgaW4gSW5jaWRlbnRMaWdodCBkaXJlY3RMaWdodCwgY29uc3QgaW4gR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeSwgY29uc3QgaW4gQmxpbm5QaG9uZ01hdGVyaWFsIG1hdGVyaWFsLCBpbm91dCBSZWZsZWN0ZWRMaWdodCByZWZsZWN0ZWRMaWdodCApIHtcblx0ZmxvYXQgZG90TkwgPSBzYXR1cmF0ZSggZG90KCBnZW9tZXRyeS5ub3JtYWwsIGRpcmVjdExpZ2h0LmRpcmVjdGlvbiApICk7XG5cdHZlYzMgaXJyYWRpYW5jZSA9IGRvdE5MICogZGlyZWN0TGlnaHQuY29sb3I7XG5cdCNpZm5kZWYgUEhZU0lDQUxMWV9DT1JSRUNUX0xJR0hUU1xuXHRcdGlycmFkaWFuY2UgKj0gUEk7XG5cdCNlbmRpZlxuXHRyZWZsZWN0ZWRMaWdodC5kaXJlY3REaWZmdXNlICs9IGlycmFkaWFuY2UgKiBCUkRGX0RpZmZ1c2VfTGFtYmVydCggbWF0ZXJpYWwuZGlmZnVzZUNvbG9yICk7XG5cdHJlZmxlY3RlZExpZ2h0LmRpcmVjdFNwZWN1bGFyICs9IGlycmFkaWFuY2UgKiBCUkRGX1NwZWN1bGFyX0JsaW5uUGhvbmcoIGRpcmVjdExpZ2h0LCBnZW9tZXRyeSwgbWF0ZXJpYWwuc3BlY3VsYXJDb2xvciwgbWF0ZXJpYWwuc3BlY3VsYXJTaGluaW5lc3MgKSAqIG1hdGVyaWFsLnNwZWN1bGFyU3RyZW5ndGg7XG59XG52b2lkIFJFX0luZGlyZWN0RGlmZnVzZV9CbGlublBob25nKCBjb25zdCBpbiB2ZWMzIGlycmFkaWFuY2UsIGNvbnN0IGluIEdlb21ldHJpY0NvbnRleHQgZ2VvbWV0cnksIGNvbnN0IGluIEJsaW5uUGhvbmdNYXRlcmlhbCBtYXRlcmlhbCwgaW5vdXQgUmVmbGVjdGVkTGlnaHQgcmVmbGVjdGVkTGlnaHQgKSB7XG5cdHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSArPSBpcnJhZGlhbmNlICogQlJERl9EaWZmdXNlX0xhbWJlcnQoIG1hdGVyaWFsLmRpZmZ1c2VDb2xvciApO1xufVxuI2RlZmluZSBSRV9EaXJlY3RcdFx0XHRcdFJFX0RpcmVjdF9CbGlublBob25nXG4jZGVmaW5lIFJFX0luZGlyZWN0RGlmZnVzZVx0XHRSRV9JbmRpcmVjdERpZmZ1c2VfQmxpbm5QaG9uZ1xuI2RlZmluZSBNYXRlcmlhbF9MaWdodFByb2JlTE9EKCBtYXRlcmlhbCApXHQoMCkiO3ZhciBsaWdodHNfcGh5c2ljYWxfZnJhZ21lbnQ9IlBoeXNpY2FsTWF0ZXJpYWwgbWF0ZXJpYWw7XG5tYXRlcmlhbC5kaWZmdXNlQ29sb3IgPSBkaWZmdXNlQ29sb3IucmdiICogKCAxLjAgLSBtZXRhbG5lc3NGYWN0b3IgKTtcbnZlYzMgZHh5ID0gbWF4KCBhYnMoIGRGZHgoIGdlb21ldHJ5Tm9ybWFsICkgKSwgYWJzKCBkRmR5KCBnZW9tZXRyeU5vcm1hbCApICkgKTtcbmZsb2F0IGdlb21ldHJ5Um91Z2huZXNzID0gbWF4KCBtYXgoIGR4eS54LCBkeHkueSApLCBkeHkueiApO1xubWF0ZXJpYWwuc3BlY3VsYXJSb3VnaG5lc3MgPSBtYXgoIHJvdWdobmVzc0ZhY3RvciwgMC4wNTI1ICk7bWF0ZXJpYWwuc3BlY3VsYXJSb3VnaG5lc3MgKz0gZ2VvbWV0cnlSb3VnaG5lc3M7XG5tYXRlcmlhbC5zcGVjdWxhclJvdWdobmVzcyA9IG1pbiggbWF0ZXJpYWwuc3BlY3VsYXJSb3VnaG5lc3MsIDEuMCApO1xuI2lmZGVmIFJFRkxFQ1RJVklUWVxuXHRtYXRlcmlhbC5zcGVjdWxhckNvbG9yID0gbWl4KCB2ZWMzKCBNQVhJTVVNX1NQRUNVTEFSX0NPRUZGSUNJRU5UICogcG93MiggcmVmbGVjdGl2aXR5ICkgKSwgZGlmZnVzZUNvbG9yLnJnYiwgbWV0YWxuZXNzRmFjdG9yICk7XG4jZWxzZVxuXHRtYXRlcmlhbC5zcGVjdWxhckNvbG9yID0gbWl4KCB2ZWMzKCBERUZBVUxUX1NQRUNVTEFSX0NPRUZGSUNJRU5UICksIGRpZmZ1c2VDb2xvci5yZ2IsIG1ldGFsbmVzc0ZhY3RvciApO1xuI2VuZGlmXG4jaWZkZWYgQ0xFQVJDT0FUXG5cdG1hdGVyaWFsLmNsZWFyY29hdCA9IHNhdHVyYXRlKCBjbGVhcmNvYXQgKTtcdG1hdGVyaWFsLmNsZWFyY29hdFJvdWdobmVzcyA9IG1heCggY2xlYXJjb2F0Um91Z2huZXNzLCAwLjA1MjUgKTtcblx0bWF0ZXJpYWwuY2xlYXJjb2F0Um91Z2huZXNzICs9IGdlb21ldHJ5Um91Z2huZXNzO1xuXHRtYXRlcmlhbC5jbGVhcmNvYXRSb3VnaG5lc3MgPSBtaW4oIG1hdGVyaWFsLmNsZWFyY29hdFJvdWdobmVzcywgMS4wICk7XG4jZW5kaWZcbiNpZmRlZiBVU0VfU0hFRU5cblx0bWF0ZXJpYWwuc2hlZW5Db2xvciA9IHNoZWVuO1xuI2VuZGlmIjt2YXIgbGlnaHRzX3BoeXNpY2FsX3BhcnNfZnJhZ21lbnQ9InN0cnVjdCBQaHlzaWNhbE1hdGVyaWFsIHtcblx0dmVjM1x0ZGlmZnVzZUNvbG9yO1xuXHRmbG9hdFx0c3BlY3VsYXJSb3VnaG5lc3M7XG5cdHZlYzNcdHNwZWN1bGFyQ29sb3I7XG4jaWZkZWYgQ0xFQVJDT0FUXG5cdGZsb2F0IGNsZWFyY29hdDtcblx0ZmxvYXQgY2xlYXJjb2F0Um91Z2huZXNzO1xuI2VuZGlmXG4jaWZkZWYgVVNFX1NIRUVOXG5cdHZlYzMgc2hlZW5Db2xvcjtcbiNlbmRpZlxufTtcbiNkZWZpbmUgTUFYSU1VTV9TUEVDVUxBUl9DT0VGRklDSUVOVCAwLjE2XG4jZGVmaW5lIERFRkFVTFRfU1BFQ1VMQVJfQ09FRkZJQ0lFTlQgMC4wNFxuZmxvYXQgY2xlYXJjb2F0REhSQXBwcm94KCBjb25zdCBpbiBmbG9hdCByb3VnaG5lc3MsIGNvbnN0IGluIGZsb2F0IGRvdE5MICkge1xuXHRyZXR1cm4gREVGQVVMVF9TUEVDVUxBUl9DT0VGRklDSUVOVCArICggMS4wIC0gREVGQVVMVF9TUEVDVUxBUl9DT0VGRklDSUVOVCApICogKCBwb3coIDEuMCAtIGRvdE5MLCA1LjAgKSAqIHBvdyggMS4wIC0gcm91Z2huZXNzLCAyLjAgKSApO1xufVxuI2lmIE5VTV9SRUNUX0FSRUFfTElHSFRTID4gMFxuXHR2b2lkIFJFX0RpcmVjdF9SZWN0QXJlYV9QaHlzaWNhbCggY29uc3QgaW4gUmVjdEFyZWFMaWdodCByZWN0QXJlYUxpZ2h0LCBjb25zdCBpbiBHZW9tZXRyaWNDb250ZXh0IGdlb21ldHJ5LCBjb25zdCBpbiBQaHlzaWNhbE1hdGVyaWFsIG1hdGVyaWFsLCBpbm91dCBSZWZsZWN0ZWRMaWdodCByZWZsZWN0ZWRMaWdodCApIHtcblx0XHR2ZWMzIG5vcm1hbCA9IGdlb21ldHJ5Lm5vcm1hbDtcblx0XHR2ZWMzIHZpZXdEaXIgPSBnZW9tZXRyeS52aWV3RGlyO1xuXHRcdHZlYzMgcG9zaXRpb24gPSBnZW9tZXRyeS5wb3NpdGlvbjtcblx0XHR2ZWMzIGxpZ2h0UG9zID0gcmVjdEFyZWFMaWdodC5wb3NpdGlvbjtcblx0XHR2ZWMzIGhhbGZXaWR0aCA9IHJlY3RBcmVhTGlnaHQuaGFsZldpZHRoO1xuXHRcdHZlYzMgaGFsZkhlaWdodCA9IHJlY3RBcmVhTGlnaHQuaGFsZkhlaWdodDtcblx0XHR2ZWMzIGxpZ2h0Q29sb3IgPSByZWN0QXJlYUxpZ2h0LmNvbG9yO1xuXHRcdGZsb2F0IHJvdWdobmVzcyA9IG1hdGVyaWFsLnNwZWN1bGFyUm91Z2huZXNzO1xuXHRcdHZlYzMgcmVjdENvb3Jkc1sgNCBdO1xuXHRcdHJlY3RDb29yZHNbIDAgXSA9IGxpZ2h0UG9zICsgaGFsZldpZHRoIC0gaGFsZkhlaWdodDtcdFx0cmVjdENvb3Jkc1sgMSBdID0gbGlnaHRQb3MgLSBoYWxmV2lkdGggLSBoYWxmSGVpZ2h0O1xuXHRcdHJlY3RDb29yZHNbIDIgXSA9IGxpZ2h0UG9zIC0gaGFsZldpZHRoICsgaGFsZkhlaWdodDtcblx0XHRyZWN0Q29vcmRzWyAzIF0gPSBsaWdodFBvcyArIGhhbGZXaWR0aCArIGhhbGZIZWlnaHQ7XG5cdFx0dmVjMiB1diA9IExUQ19Vdiggbm9ybWFsLCB2aWV3RGlyLCByb3VnaG5lc3MgKTtcblx0XHR2ZWM0IHQxID0gdGV4dHVyZTJEKCBsdGNfMSwgdXYgKTtcblx0XHR2ZWM0IHQyID0gdGV4dHVyZTJEKCBsdGNfMiwgdXYgKTtcblx0XHRtYXQzIG1JbnYgPSBtYXQzKFxuXHRcdFx0dmVjMyggdDEueCwgMCwgdDEueSApLFxuXHRcdFx0dmVjMyggICAgMCwgMSwgICAgMCApLFxuXHRcdFx0dmVjMyggdDEueiwgMCwgdDEudyApXG5cdFx0KTtcblx0XHR2ZWMzIGZyZXNuZWwgPSAoIG1hdGVyaWFsLnNwZWN1bGFyQ29sb3IgKiB0Mi54ICsgKCB2ZWMzKCAxLjAgKSAtIG1hdGVyaWFsLnNwZWN1bGFyQ29sb3IgKSAqIHQyLnkgKTtcblx0XHRyZWZsZWN0ZWRMaWdodC5kaXJlY3RTcGVjdWxhciArPSBsaWdodENvbG9yICogZnJlc25lbCAqIExUQ19FdmFsdWF0ZSggbm9ybWFsLCB2aWV3RGlyLCBwb3NpdGlvbiwgbUludiwgcmVjdENvb3JkcyApO1xuXHRcdHJlZmxlY3RlZExpZ2h0LmRpcmVjdERpZmZ1c2UgKz0gbGlnaHRDb2xvciAqIG1hdGVyaWFsLmRpZmZ1c2VDb2xvciAqIExUQ19FdmFsdWF0ZSggbm9ybWFsLCB2aWV3RGlyLCBwb3NpdGlvbiwgbWF0MyggMS4wICksIHJlY3RDb29yZHMgKTtcblx0fVxuI2VuZGlmXG52b2lkIFJFX0RpcmVjdF9QaHlzaWNhbCggY29uc3QgaW4gSW5jaWRlbnRMaWdodCBkaXJlY3RMaWdodCwgY29uc3QgaW4gR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeSwgY29uc3QgaW4gUGh5c2ljYWxNYXRlcmlhbCBtYXRlcmlhbCwgaW5vdXQgUmVmbGVjdGVkTGlnaHQgcmVmbGVjdGVkTGlnaHQgKSB7XG5cdGZsb2F0IGRvdE5MID0gc2F0dXJhdGUoIGRvdCggZ2VvbWV0cnkubm9ybWFsLCBkaXJlY3RMaWdodC5kaXJlY3Rpb24gKSApO1xuXHR2ZWMzIGlycmFkaWFuY2UgPSBkb3ROTCAqIGRpcmVjdExpZ2h0LmNvbG9yO1xuXHQjaWZuZGVmIFBIWVNJQ0FMTFlfQ09SUkVDVF9MSUdIVFNcblx0XHRpcnJhZGlhbmNlICo9IFBJO1xuXHQjZW5kaWZcblx0I2lmZGVmIENMRUFSQ09BVFxuXHRcdGZsb2F0IGNjRG90TkwgPSBzYXR1cmF0ZSggZG90KCBnZW9tZXRyeS5jbGVhcmNvYXROb3JtYWwsIGRpcmVjdExpZ2h0LmRpcmVjdGlvbiApICk7XG5cdFx0dmVjMyBjY0lycmFkaWFuY2UgPSBjY0RvdE5MICogZGlyZWN0TGlnaHQuY29sb3I7XG5cdFx0I2lmbmRlZiBQSFlTSUNBTExZX0NPUlJFQ1RfTElHSFRTXG5cdFx0XHRjY0lycmFkaWFuY2UgKj0gUEk7XG5cdFx0I2VuZGlmXG5cdFx0ZmxvYXQgY2xlYXJjb2F0REhSID0gbWF0ZXJpYWwuY2xlYXJjb2F0ICogY2xlYXJjb2F0REhSQXBwcm94KCBtYXRlcmlhbC5jbGVhcmNvYXRSb3VnaG5lc3MsIGNjRG90TkwgKTtcblx0XHRyZWZsZWN0ZWRMaWdodC5kaXJlY3RTcGVjdWxhciArPSBjY0lycmFkaWFuY2UgKiBtYXRlcmlhbC5jbGVhcmNvYXQgKiBCUkRGX1NwZWN1bGFyX0dHWCggZGlyZWN0TGlnaHQsIGdlb21ldHJ5LnZpZXdEaXIsIGdlb21ldHJ5LmNsZWFyY29hdE5vcm1hbCwgdmVjMyggREVGQVVMVF9TUEVDVUxBUl9DT0VGRklDSUVOVCApLCBtYXRlcmlhbC5jbGVhcmNvYXRSb3VnaG5lc3MgKTtcblx0I2Vsc2Vcblx0XHRmbG9hdCBjbGVhcmNvYXRESFIgPSAwLjA7XG5cdCNlbmRpZlxuXHQjaWZkZWYgVVNFX1NIRUVOXG5cdFx0cmVmbGVjdGVkTGlnaHQuZGlyZWN0U3BlY3VsYXIgKz0gKCAxLjAgLSBjbGVhcmNvYXRESFIgKSAqIGlycmFkaWFuY2UgKiBCUkRGX1NwZWN1bGFyX1NoZWVuKFxuXHRcdFx0bWF0ZXJpYWwuc3BlY3VsYXJSb3VnaG5lc3MsXG5cdFx0XHRkaXJlY3RMaWdodC5kaXJlY3Rpb24sXG5cdFx0XHRnZW9tZXRyeSxcblx0XHRcdG1hdGVyaWFsLnNoZWVuQ29sb3Jcblx0XHQpO1xuXHQjZWxzZVxuXHRcdHJlZmxlY3RlZExpZ2h0LmRpcmVjdFNwZWN1bGFyICs9ICggMS4wIC0gY2xlYXJjb2F0REhSICkgKiBpcnJhZGlhbmNlICogQlJERl9TcGVjdWxhcl9HR1goIGRpcmVjdExpZ2h0LCBnZW9tZXRyeS52aWV3RGlyLCBnZW9tZXRyeS5ub3JtYWwsIG1hdGVyaWFsLnNwZWN1bGFyQ29sb3IsIG1hdGVyaWFsLnNwZWN1bGFyUm91Z2huZXNzKTtcblx0I2VuZGlmXG5cdHJlZmxlY3RlZExpZ2h0LmRpcmVjdERpZmZ1c2UgKz0gKCAxLjAgLSBjbGVhcmNvYXRESFIgKSAqIGlycmFkaWFuY2UgKiBCUkRGX0RpZmZ1c2VfTGFtYmVydCggbWF0ZXJpYWwuZGlmZnVzZUNvbG9yICk7XG59XG52b2lkIFJFX0luZGlyZWN0RGlmZnVzZV9QaHlzaWNhbCggY29uc3QgaW4gdmVjMyBpcnJhZGlhbmNlLCBjb25zdCBpbiBHZW9tZXRyaWNDb250ZXh0IGdlb21ldHJ5LCBjb25zdCBpbiBQaHlzaWNhbE1hdGVyaWFsIG1hdGVyaWFsLCBpbm91dCBSZWZsZWN0ZWRMaWdodCByZWZsZWN0ZWRMaWdodCApIHtcblx0cmVmbGVjdGVkTGlnaHQuaW5kaXJlY3REaWZmdXNlICs9IGlycmFkaWFuY2UgKiBCUkRGX0RpZmZ1c2VfTGFtYmVydCggbWF0ZXJpYWwuZGlmZnVzZUNvbG9yICk7XG59XG52b2lkIFJFX0luZGlyZWN0U3BlY3VsYXJfUGh5c2ljYWwoIGNvbnN0IGluIHZlYzMgcmFkaWFuY2UsIGNvbnN0IGluIHZlYzMgaXJyYWRpYW5jZSwgY29uc3QgaW4gdmVjMyBjbGVhcmNvYXRSYWRpYW5jZSwgY29uc3QgaW4gR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeSwgY29uc3QgaW4gUGh5c2ljYWxNYXRlcmlhbCBtYXRlcmlhbCwgaW5vdXQgUmVmbGVjdGVkTGlnaHQgcmVmbGVjdGVkTGlnaHQpIHtcblx0I2lmZGVmIENMRUFSQ09BVFxuXHRcdGZsb2F0IGNjRG90TlYgPSBzYXR1cmF0ZSggZG90KCBnZW9tZXRyeS5jbGVhcmNvYXROb3JtYWwsIGdlb21ldHJ5LnZpZXdEaXIgKSApO1xuXHRcdHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0U3BlY3VsYXIgKz0gY2xlYXJjb2F0UmFkaWFuY2UgKiBtYXRlcmlhbC5jbGVhcmNvYXQgKiBCUkRGX1NwZWN1bGFyX0dHWF9FbnZpcm9ubWVudCggZ2VvbWV0cnkudmlld0RpciwgZ2VvbWV0cnkuY2xlYXJjb2F0Tm9ybWFsLCB2ZWMzKCBERUZBVUxUX1NQRUNVTEFSX0NPRUZGSUNJRU5UICksIG1hdGVyaWFsLmNsZWFyY29hdFJvdWdobmVzcyApO1xuXHRcdGZsb2F0IGNjRG90TkwgPSBjY0RvdE5WO1xuXHRcdGZsb2F0IGNsZWFyY29hdERIUiA9IG1hdGVyaWFsLmNsZWFyY29hdCAqIGNsZWFyY29hdERIUkFwcHJveCggbWF0ZXJpYWwuY2xlYXJjb2F0Um91Z2huZXNzLCBjY0RvdE5MICk7XG5cdCNlbHNlXG5cdFx0ZmxvYXQgY2xlYXJjb2F0REhSID0gMC4wO1xuXHQjZW5kaWZcblx0ZmxvYXQgY2xlYXJjb2F0SW52ID0gMS4wIC0gY2xlYXJjb2F0REhSO1xuXHR2ZWMzIHNpbmdsZVNjYXR0ZXJpbmcgPSB2ZWMzKCAwLjAgKTtcblx0dmVjMyBtdWx0aVNjYXR0ZXJpbmcgPSB2ZWMzKCAwLjAgKTtcblx0dmVjMyBjb3NpbmVXZWlnaHRlZElycmFkaWFuY2UgPSBpcnJhZGlhbmNlICogUkVDSVBST0NBTF9QSTtcblx0QlJERl9TcGVjdWxhcl9NdWx0aXNjYXR0ZXJpbmdfRW52aXJvbm1lbnQoIGdlb21ldHJ5LCBtYXRlcmlhbC5zcGVjdWxhckNvbG9yLCBtYXRlcmlhbC5zcGVjdWxhclJvdWdobmVzcywgc2luZ2xlU2NhdHRlcmluZywgbXVsdGlTY2F0dGVyaW5nICk7XG5cdHZlYzMgZGlmZnVzZSA9IG1hdGVyaWFsLmRpZmZ1c2VDb2xvciAqICggMS4wIC0gKCBzaW5nbGVTY2F0dGVyaW5nICsgbXVsdGlTY2F0dGVyaW5nICkgKTtcblx0cmVmbGVjdGVkTGlnaHQuaW5kaXJlY3RTcGVjdWxhciArPSBjbGVhcmNvYXRJbnYgKiByYWRpYW5jZSAqIHNpbmdsZVNjYXR0ZXJpbmc7XG5cdHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0U3BlY3VsYXIgKz0gbXVsdGlTY2F0dGVyaW5nICogY29zaW5lV2VpZ2h0ZWRJcnJhZGlhbmNlO1xuXHRyZWZsZWN0ZWRMaWdodC5pbmRpcmVjdERpZmZ1c2UgKz0gZGlmZnVzZSAqIGNvc2luZVdlaWdodGVkSXJyYWRpYW5jZTtcbn1cbiNkZWZpbmUgUkVfRGlyZWN0XHRcdFx0XHRSRV9EaXJlY3RfUGh5c2ljYWxcbiNkZWZpbmUgUkVfRGlyZWN0X1JlY3RBcmVhXHRcdFJFX0RpcmVjdF9SZWN0QXJlYV9QaHlzaWNhbFxuI2RlZmluZSBSRV9JbmRpcmVjdERpZmZ1c2VcdFx0UkVfSW5kaXJlY3REaWZmdXNlX1BoeXNpY2FsXG4jZGVmaW5lIFJFX0luZGlyZWN0U3BlY3VsYXJcdFx0UkVfSW5kaXJlY3RTcGVjdWxhcl9QaHlzaWNhbFxuZmxvYXQgY29tcHV0ZVNwZWN1bGFyT2NjbHVzaW9uKCBjb25zdCBpbiBmbG9hdCBkb3ROViwgY29uc3QgaW4gZmxvYXQgYW1iaWVudE9jY2x1c2lvbiwgY29uc3QgaW4gZmxvYXQgcm91Z2huZXNzICkge1xuXHRyZXR1cm4gc2F0dXJhdGUoIHBvdyggZG90TlYgKyBhbWJpZW50T2NjbHVzaW9uLCBleHAyKCAtIDE2LjAgKiByb3VnaG5lc3MgLSAxLjAgKSApIC0gMS4wICsgYW1iaWVudE9jY2x1c2lvbiApO1xufSI7dmFyIGxpZ2h0c19mcmFnbWVudF9iZWdpbj0iXG5HZW9tZXRyaWNDb250ZXh0IGdlb21ldHJ5O1xuZ2VvbWV0cnkucG9zaXRpb24gPSAtIHZWaWV3UG9zaXRpb247XG5nZW9tZXRyeS5ub3JtYWwgPSBub3JtYWw7XG5nZW9tZXRyeS52aWV3RGlyID0gKCBpc09ydGhvZ3JhcGhpYyApID8gdmVjMyggMCwgMCwgMSApIDogbm9ybWFsaXplKCB2Vmlld1Bvc2l0aW9uICk7XG4jaWZkZWYgQ0xFQVJDT0FUXG5cdGdlb21ldHJ5LmNsZWFyY29hdE5vcm1hbCA9IGNsZWFyY29hdE5vcm1hbDtcbiNlbmRpZlxuSW5jaWRlbnRMaWdodCBkaXJlY3RMaWdodDtcbiNpZiAoIE5VTV9QT0lOVF9MSUdIVFMgPiAwICkgJiYgZGVmaW5lZCggUkVfRGlyZWN0IClcblx0UG9pbnRMaWdodCBwb2ludExpZ2h0O1xuXHQjcHJhZ21hIHVucm9sbF9sb29wXG5cdGZvciAoIGludCBpID0gMDsgaSA8IE5VTV9QT0lOVF9MSUdIVFM7IGkgKysgKSB7XG5cdFx0cG9pbnRMaWdodCA9IHBvaW50TGlnaHRzWyBpIF07XG5cdFx0Z2V0UG9pbnREaXJlY3RMaWdodElycmFkaWFuY2UoIHBvaW50TGlnaHQsIGdlb21ldHJ5LCBkaXJlY3RMaWdodCApO1xuXHRcdCNpZiBkZWZpbmVkKCBVU0VfU0hBRE9XTUFQICkgJiYgKCBVTlJPTExFRF9MT09QX0lOREVYIDwgTlVNX1BPSU5UX0xJR0hUX1NIQURPV1MgKVxuXHRcdGRpcmVjdExpZ2h0LmNvbG9yICo9IGFsbCggYnZlYzMoIHBvaW50TGlnaHQuc2hhZG93LCBkaXJlY3RMaWdodC52aXNpYmxlLCByZWNlaXZlU2hhZG93ICkgKSA/IGdldFBvaW50U2hhZG93KCBwb2ludFNoYWRvd01hcFsgaSBdLCBwb2ludExpZ2h0LnNoYWRvd01hcFNpemUsIHBvaW50TGlnaHQuc2hhZG93QmlhcywgcG9pbnRMaWdodC5zaGFkb3dSYWRpdXMsIHZQb2ludFNoYWRvd0Nvb3JkWyBpIF0sIHBvaW50TGlnaHQuc2hhZG93Q2FtZXJhTmVhciwgcG9pbnRMaWdodC5zaGFkb3dDYW1lcmFGYXIgKSA6IDEuMDtcblx0XHQjZW5kaWZcblx0XHRSRV9EaXJlY3QoIGRpcmVjdExpZ2h0LCBnZW9tZXRyeSwgbWF0ZXJpYWwsIHJlZmxlY3RlZExpZ2h0ICk7XG5cdH1cbiNlbmRpZlxuI2lmICggTlVNX1NQT1RfTElHSFRTID4gMCApICYmIGRlZmluZWQoIFJFX0RpcmVjdCApXG5cdFNwb3RMaWdodCBzcG90TGlnaHQ7XG5cdCNwcmFnbWEgdW5yb2xsX2xvb3Bcblx0Zm9yICggaW50IGkgPSAwOyBpIDwgTlVNX1NQT1RfTElHSFRTOyBpICsrICkge1xuXHRcdHNwb3RMaWdodCA9IHNwb3RMaWdodHNbIGkgXTtcblx0XHRnZXRTcG90RGlyZWN0TGlnaHRJcnJhZGlhbmNlKCBzcG90TGlnaHQsIGdlb21ldHJ5LCBkaXJlY3RMaWdodCApO1xuXHRcdCNpZiBkZWZpbmVkKCBVU0VfU0hBRE9XTUFQICkgJiYgKCBVTlJPTExFRF9MT09QX0lOREVYIDwgTlVNX1NQT1RfTElHSFRfU0hBRE9XUyApXG5cdFx0ZGlyZWN0TGlnaHQuY29sb3IgKj0gYWxsKCBidmVjMyggc3BvdExpZ2h0LnNoYWRvdywgZGlyZWN0TGlnaHQudmlzaWJsZSwgcmVjZWl2ZVNoYWRvdyApICkgPyBnZXRTaGFkb3coIHNwb3RTaGFkb3dNYXBbIGkgXSwgc3BvdExpZ2h0LnNoYWRvd01hcFNpemUsIHNwb3RMaWdodC5zaGFkb3dCaWFzLCBzcG90TGlnaHQuc2hhZG93UmFkaXVzLCB2U3BvdFNoYWRvd0Nvb3JkWyBpIF0gKSA6IDEuMDtcblx0XHQjZW5kaWZcblx0XHRSRV9EaXJlY3QoIGRpcmVjdExpZ2h0LCBnZW9tZXRyeSwgbWF0ZXJpYWwsIHJlZmxlY3RlZExpZ2h0ICk7XG5cdH1cbiNlbmRpZlxuI2lmICggTlVNX0RJUl9MSUdIVFMgPiAwICkgJiYgZGVmaW5lZCggUkVfRGlyZWN0IClcblx0RGlyZWN0aW9uYWxMaWdodCBkaXJlY3Rpb25hbExpZ2h0O1xuXHQjcHJhZ21hIHVucm9sbF9sb29wXG5cdGZvciAoIGludCBpID0gMDsgaSA8IE5VTV9ESVJfTElHSFRTOyBpICsrICkge1xuXHRcdGRpcmVjdGlvbmFsTGlnaHQgPSBkaXJlY3Rpb25hbExpZ2h0c1sgaSBdO1xuXHRcdGdldERpcmVjdGlvbmFsRGlyZWN0TGlnaHRJcnJhZGlhbmNlKCBkaXJlY3Rpb25hbExpZ2h0LCBnZW9tZXRyeSwgZGlyZWN0TGlnaHQgKTtcblx0XHQjaWYgZGVmaW5lZCggVVNFX1NIQURPV01BUCApICYmICggVU5ST0xMRURfTE9PUF9JTkRFWCA8IE5VTV9ESVJfTElHSFRfU0hBRE9XUyApXG5cdFx0ZGlyZWN0TGlnaHQuY29sb3IgKj0gYWxsKCBidmVjMyggZGlyZWN0aW9uYWxMaWdodC5zaGFkb3csIGRpcmVjdExpZ2h0LnZpc2libGUsIHJlY2VpdmVTaGFkb3cgKSApID8gZ2V0U2hhZG93KCBkaXJlY3Rpb25hbFNoYWRvd01hcFsgaSBdLCBkaXJlY3Rpb25hbExpZ2h0LnNoYWRvd01hcFNpemUsIGRpcmVjdGlvbmFsTGlnaHQuc2hhZG93QmlhcywgZGlyZWN0aW9uYWxMaWdodC5zaGFkb3dSYWRpdXMsIHZEaXJlY3Rpb25hbFNoYWRvd0Nvb3JkWyBpIF0gKSA6IDEuMDtcblx0XHQjZW5kaWZcblx0XHRSRV9EaXJlY3QoIGRpcmVjdExpZ2h0LCBnZW9tZXRyeSwgbWF0ZXJpYWwsIHJlZmxlY3RlZExpZ2h0ICk7XG5cdH1cbiNlbmRpZlxuI2lmICggTlVNX1JFQ1RfQVJFQV9MSUdIVFMgPiAwICkgJiYgZGVmaW5lZCggUkVfRGlyZWN0X1JlY3RBcmVhIClcblx0UmVjdEFyZWFMaWdodCByZWN0QXJlYUxpZ2h0O1xuXHQjcHJhZ21hIHVucm9sbF9sb29wXG5cdGZvciAoIGludCBpID0gMDsgaSA8IE5VTV9SRUNUX0FSRUFfTElHSFRTOyBpICsrICkge1xuXHRcdHJlY3RBcmVhTGlnaHQgPSByZWN0QXJlYUxpZ2h0c1sgaSBdO1xuXHRcdFJFX0RpcmVjdF9SZWN0QXJlYSggcmVjdEFyZWFMaWdodCwgZ2VvbWV0cnksIG1hdGVyaWFsLCByZWZsZWN0ZWRMaWdodCApO1xuXHR9XG4jZW5kaWZcbiNpZiBkZWZpbmVkKCBSRV9JbmRpcmVjdERpZmZ1c2UgKVxuXHR2ZWMzIGlibElycmFkaWFuY2UgPSB2ZWMzKCAwLjAgKTtcblx0dmVjMyBpcnJhZGlhbmNlID0gZ2V0QW1iaWVudExpZ2h0SXJyYWRpYW5jZSggYW1iaWVudExpZ2h0Q29sb3IgKTtcblx0aXJyYWRpYW5jZSArPSBnZXRMaWdodFByb2JlSXJyYWRpYW5jZSggbGlnaHRQcm9iZSwgZ2VvbWV0cnkgKTtcblx0I2lmICggTlVNX0hFTUlfTElHSFRTID4gMCApXG5cdFx0I3ByYWdtYSB1bnJvbGxfbG9vcFxuXHRcdGZvciAoIGludCBpID0gMDsgaSA8IE5VTV9IRU1JX0xJR0hUUzsgaSArKyApIHtcblx0XHRcdGlycmFkaWFuY2UgKz0gZ2V0SGVtaXNwaGVyZUxpZ2h0SXJyYWRpYW5jZSggaGVtaXNwaGVyZUxpZ2h0c1sgaSBdLCBnZW9tZXRyeSApO1xuXHRcdH1cblx0I2VuZGlmXG4jZW5kaWZcbiNpZiBkZWZpbmVkKCBSRV9JbmRpcmVjdFNwZWN1bGFyIClcblx0dmVjMyByYWRpYW5jZSA9IHZlYzMoIDAuMCApO1xuXHR2ZWMzIGNsZWFyY29hdFJhZGlhbmNlID0gdmVjMyggMC4wICk7XG4jZW5kaWYiO3ZhciBsaWdodHNfZnJhZ21lbnRfbWFwcz0iI2lmIGRlZmluZWQoIFJFX0luZGlyZWN0RGlmZnVzZSApXG5cdCNpZmRlZiBVU0VfTElHSFRNQVBcblx0XHR2ZWM0IGxpZ2h0TWFwVGV4ZWw9IHRleHR1cmUyRCggbGlnaHRNYXAsIHZVdjIgKTtcblx0XHR2ZWMzIGxpZ2h0TWFwSXJyYWRpYW5jZSA9IGxpZ2h0TWFwVGV4ZWxUb0xpbmVhciggbGlnaHRNYXBUZXhlbCApLnJnYiAqIGxpZ2h0TWFwSW50ZW5zaXR5O1xuXHRcdCNpZm5kZWYgUEhZU0lDQUxMWV9DT1JSRUNUX0xJR0hUU1xuXHRcdFx0bGlnaHRNYXBJcnJhZGlhbmNlICo9IFBJO1xuXHRcdCNlbmRpZlxuXHRcdGlycmFkaWFuY2UgKz0gbGlnaHRNYXBJcnJhZGlhbmNlO1xuXHQjZW5kaWZcblx0I2lmIGRlZmluZWQoIFVTRV9FTlZNQVAgKSAmJiBkZWZpbmVkKCBTVEFOREFSRCApICYmIGRlZmluZWQoIEVOVk1BUF9UWVBFX0NVQkVfVVYgKVxuXHRcdGlibElycmFkaWFuY2UgKz0gZ2V0TGlnaHRQcm9iZUluZGlyZWN0SXJyYWRpYW5jZSggZ2VvbWV0cnksIG1heE1pcExldmVsICk7XG5cdCNlbmRpZlxuI2VuZGlmXG4jaWYgZGVmaW5lZCggVVNFX0VOVk1BUCApICYmIGRlZmluZWQoIFJFX0luZGlyZWN0U3BlY3VsYXIgKVxuXHRyYWRpYW5jZSArPSBnZXRMaWdodFByb2JlSW5kaXJlY3RSYWRpYW5jZSggZ2VvbWV0cnkudmlld0RpciwgZ2VvbWV0cnkubm9ybWFsLCBtYXRlcmlhbC5zcGVjdWxhclJvdWdobmVzcywgbWF4TWlwTGV2ZWwgKTtcblx0I2lmZGVmIENMRUFSQ09BVFxuXHRcdGNsZWFyY29hdFJhZGlhbmNlICs9IGdldExpZ2h0UHJvYmVJbmRpcmVjdFJhZGlhbmNlKCBnZW9tZXRyeS52aWV3RGlyLCBnZW9tZXRyeS5jbGVhcmNvYXROb3JtYWwsIG1hdGVyaWFsLmNsZWFyY29hdFJvdWdobmVzcywgbWF4TWlwTGV2ZWwgKTtcblx0I2VuZGlmXG4jZW5kaWYiO3ZhciBsaWdodHNfZnJhZ21lbnRfZW5kPSIjaWYgZGVmaW5lZCggUkVfSW5kaXJlY3REaWZmdXNlIClcblx0UkVfSW5kaXJlY3REaWZmdXNlKCBpcnJhZGlhbmNlLCBnZW9tZXRyeSwgbWF0ZXJpYWwsIHJlZmxlY3RlZExpZ2h0ICk7XG4jZW5kaWZcbiNpZiBkZWZpbmVkKCBSRV9JbmRpcmVjdFNwZWN1bGFyIClcblx0UkVfSW5kaXJlY3RTcGVjdWxhciggcmFkaWFuY2UsIGlibElycmFkaWFuY2UsIGNsZWFyY29hdFJhZGlhbmNlLCBnZW9tZXRyeSwgbWF0ZXJpYWwsIHJlZmxlY3RlZExpZ2h0ICk7XG4jZW5kaWYiO3ZhciBsb2dkZXB0aGJ1Zl9mcmFnbWVudD0iI2lmIGRlZmluZWQoIFVTRV9MT0dERVBUSEJVRiApICYmIGRlZmluZWQoIFVTRV9MT0dERVBUSEJVRl9FWFQgKVxuXHRnbF9GcmFnRGVwdGhFWFQgPSB2SXNQZXJzcGVjdGl2ZSA9PSAwLjAgPyBnbF9GcmFnQ29vcmQueiA6IGxvZzIoIHZGcmFnRGVwdGggKSAqIGxvZ0RlcHRoQnVmRkMgKiAwLjU7XG4jZW5kaWYiO3ZhciBsb2dkZXB0aGJ1Zl9wYXJzX2ZyYWdtZW50PSIjaWYgZGVmaW5lZCggVVNFX0xPR0RFUFRIQlVGICkgJiYgZGVmaW5lZCggVVNFX0xPR0RFUFRIQlVGX0VYVCApXG5cdHVuaWZvcm0gZmxvYXQgbG9nRGVwdGhCdWZGQztcblx0dmFyeWluZyBmbG9hdCB2RnJhZ0RlcHRoO1xuXHR2YXJ5aW5nIGZsb2F0IHZJc1BlcnNwZWN0aXZlO1xuI2VuZGlmIjt2YXIgbG9nZGVwdGhidWZfcGFyc192ZXJ0ZXg9IiNpZmRlZiBVU0VfTE9HREVQVEhCVUZcblx0I2lmZGVmIFVTRV9MT0dERVBUSEJVRl9FWFRcblx0XHR2YXJ5aW5nIGZsb2F0IHZGcmFnRGVwdGg7XG5cdFx0dmFyeWluZyBmbG9hdCB2SXNQZXJzcGVjdGl2ZTtcblx0I2Vsc2Vcblx0XHR1bmlmb3JtIGZsb2F0IGxvZ0RlcHRoQnVmRkM7XG5cdCNlbmRpZlxuI2VuZGlmIjt2YXIgbG9nZGVwdGhidWZfdmVydGV4PSIjaWZkZWYgVVNFX0xPR0RFUFRIQlVGXG5cdCNpZmRlZiBVU0VfTE9HREVQVEhCVUZfRVhUXG5cdFx0dkZyYWdEZXB0aCA9IDEuMCArIGdsX1Bvc2l0aW9uLnc7XG5cdFx0dklzUGVyc3BlY3RpdmUgPSBmbG9hdCggaXNQZXJzcGVjdGl2ZU1hdHJpeCggcHJvamVjdGlvbk1hdHJpeCApICk7XG5cdCNlbHNlXG5cdFx0aWYgKCBpc1BlcnNwZWN0aXZlTWF0cml4KCBwcm9qZWN0aW9uTWF0cml4ICkgKSB7XG5cdFx0XHRnbF9Qb3NpdGlvbi56ID0gbG9nMiggbWF4KCBFUFNJTE9OLCBnbF9Qb3NpdGlvbi53ICsgMS4wICkgKSAqIGxvZ0RlcHRoQnVmRkMgLSAxLjA7XG5cdFx0XHRnbF9Qb3NpdGlvbi56ICo9IGdsX1Bvc2l0aW9uLnc7XG5cdFx0fVxuXHQjZW5kaWZcbiNlbmRpZiI7dmFyIG1hcF9mcmFnbWVudD0iI2lmZGVmIFVTRV9NQVBcblx0dmVjNCB0ZXhlbENvbG9yID0gdGV4dHVyZTJEKCBtYXAsIHZVdiApO1xuXHR0ZXhlbENvbG9yID0gbWFwVGV4ZWxUb0xpbmVhciggdGV4ZWxDb2xvciApO1xuXHRkaWZmdXNlQ29sb3IgKj0gdGV4ZWxDb2xvcjtcbiNlbmRpZiI7dmFyIG1hcF9wYXJzX2ZyYWdtZW50PSIjaWZkZWYgVVNFX01BUFxuXHR1bmlmb3JtIHNhbXBsZXIyRCBtYXA7XG4jZW5kaWYiO3ZhciBtYXBfcGFydGljbGVfZnJhZ21lbnQ9IiNpZiBkZWZpbmVkKCBVU0VfTUFQICkgfHwgZGVmaW5lZCggVVNFX0FMUEhBTUFQIClcblx0dmVjMiB1diA9ICggdXZUcmFuc2Zvcm0gKiB2ZWMzKCBnbF9Qb2ludENvb3JkLngsIDEuMCAtIGdsX1BvaW50Q29vcmQueSwgMSApICkueHk7XG4jZW5kaWZcbiNpZmRlZiBVU0VfTUFQXG5cdHZlYzQgbWFwVGV4ZWwgPSB0ZXh0dXJlMkQoIG1hcCwgdXYgKTtcblx0ZGlmZnVzZUNvbG9yICo9IG1hcFRleGVsVG9MaW5lYXIoIG1hcFRleGVsICk7XG4jZW5kaWZcbiNpZmRlZiBVU0VfQUxQSEFNQVBcblx0ZGlmZnVzZUNvbG9yLmEgKj0gdGV4dHVyZTJEKCBhbHBoYU1hcCwgdXYgKS5nO1xuI2VuZGlmIjt2YXIgbWFwX3BhcnRpY2xlX3BhcnNfZnJhZ21lbnQ9IiNpZiBkZWZpbmVkKCBVU0VfTUFQICkgfHwgZGVmaW5lZCggVVNFX0FMUEhBTUFQIClcblx0dW5pZm9ybSBtYXQzIHV2VHJhbnNmb3JtO1xuI2VuZGlmXG4jaWZkZWYgVVNFX01BUFxuXHR1bmlmb3JtIHNhbXBsZXIyRCBtYXA7XG4jZW5kaWZcbiNpZmRlZiBVU0VfQUxQSEFNQVBcblx0dW5pZm9ybSBzYW1wbGVyMkQgYWxwaGFNYXA7XG4jZW5kaWYiO3ZhciBtZXRhbG5lc3NtYXBfZnJhZ21lbnQ9ImZsb2F0IG1ldGFsbmVzc0ZhY3RvciA9IG1ldGFsbmVzcztcbiNpZmRlZiBVU0VfTUVUQUxORVNTTUFQXG5cdHZlYzQgdGV4ZWxNZXRhbG5lc3MgPSB0ZXh0dXJlMkQoIG1ldGFsbmVzc01hcCwgdlV2ICk7XG5cdG1ldGFsbmVzc0ZhY3RvciAqPSB0ZXhlbE1ldGFsbmVzcy5iO1xuI2VuZGlmIjt2YXIgbWV0YWxuZXNzbWFwX3BhcnNfZnJhZ21lbnQ9IiNpZmRlZiBVU0VfTUVUQUxORVNTTUFQXG5cdHVuaWZvcm0gc2FtcGxlcjJEIG1ldGFsbmVzc01hcDtcbiNlbmRpZiI7dmFyIG1vcnBobm9ybWFsX3ZlcnRleD0iI2lmZGVmIFVTRV9NT1JQSE5PUk1BTFNcblx0b2JqZWN0Tm9ybWFsICo9IG1vcnBoVGFyZ2V0QmFzZUluZmx1ZW5jZTtcblx0b2JqZWN0Tm9ybWFsICs9IG1vcnBoTm9ybWFsMCAqIG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgMCBdO1xuXHRvYmplY3ROb3JtYWwgKz0gbW9ycGhOb3JtYWwxICogbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyAxIF07XG5cdG9iamVjdE5vcm1hbCArPSBtb3JwaE5vcm1hbDIgKiBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIDIgXTtcblx0b2JqZWN0Tm9ybWFsICs9IG1vcnBoTm9ybWFsMyAqIG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgMyBdO1xuI2VuZGlmIjt2YXIgbW9ycGh0YXJnZXRfcGFyc192ZXJ0ZXg9IiNpZmRlZiBVU0VfTU9SUEhUQVJHRVRTXG5cdHVuaWZvcm0gZmxvYXQgbW9ycGhUYXJnZXRCYXNlSW5mbHVlbmNlO1xuXHQjaWZuZGVmIFVTRV9NT1JQSE5PUk1BTFNcblx0dW5pZm9ybSBmbG9hdCBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIDggXTtcblx0I2Vsc2Vcblx0dW5pZm9ybSBmbG9hdCBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIDQgXTtcblx0I2VuZGlmXG4jZW5kaWYiO3ZhciBtb3JwaHRhcmdldF92ZXJ0ZXg9IiNpZmRlZiBVU0VfTU9SUEhUQVJHRVRTXG5cdHRyYW5zZm9ybWVkICo9IG1vcnBoVGFyZ2V0QmFzZUluZmx1ZW5jZTtcblx0dHJhbnNmb3JtZWQgKz0gbW9ycGhUYXJnZXQwICogbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyAwIF07XG5cdHRyYW5zZm9ybWVkICs9IG1vcnBoVGFyZ2V0MSAqIG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgMSBdO1xuXHR0cmFuc2Zvcm1lZCArPSBtb3JwaFRhcmdldDIgKiBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIDIgXTtcblx0dHJhbnNmb3JtZWQgKz0gbW9ycGhUYXJnZXQzICogbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyAzIF07XG5cdCNpZm5kZWYgVVNFX01PUlBITk9STUFMU1xuXHR0cmFuc2Zvcm1lZCArPSBtb3JwaFRhcmdldDQgKiBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIDQgXTtcblx0dHJhbnNmb3JtZWQgKz0gbW9ycGhUYXJnZXQ1ICogbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyA1IF07XG5cdHRyYW5zZm9ybWVkICs9IG1vcnBoVGFyZ2V0NiAqIG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgNiBdO1xuXHR0cmFuc2Zvcm1lZCArPSBtb3JwaFRhcmdldDcgKiBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIDcgXTtcblx0I2VuZGlmXG4jZW5kaWYiO3ZhciBub3JtYWxfZnJhZ21lbnRfYmVnaW49IiNpZmRlZiBGTEFUX1NIQURFRFxuXHR2ZWMzIGZkeCA9IHZlYzMoIGRGZHgoIHZWaWV3UG9zaXRpb24ueCApLCBkRmR4KCB2Vmlld1Bvc2l0aW9uLnkgKSwgZEZkeCggdlZpZXdQb3NpdGlvbi56ICkgKTtcblx0dmVjMyBmZHkgPSB2ZWMzKCBkRmR5KCB2Vmlld1Bvc2l0aW9uLnggKSwgZEZkeSggdlZpZXdQb3NpdGlvbi55ICksIGRGZHkoIHZWaWV3UG9zaXRpb24ueiApICk7XG5cdHZlYzMgbm9ybWFsID0gbm9ybWFsaXplKCBjcm9zcyggZmR4LCBmZHkgKSApO1xuI2Vsc2Vcblx0dmVjMyBub3JtYWwgPSBub3JtYWxpemUoIHZOb3JtYWwgKTtcblx0I2lmZGVmIERPVUJMRV9TSURFRFxuXHRcdG5vcm1hbCA9IG5vcm1hbCAqICggZmxvYXQoIGdsX0Zyb250RmFjaW5nICkgKiAyLjAgLSAxLjAgKTtcblx0I2VuZGlmXG5cdCNpZmRlZiBVU0VfVEFOR0VOVFxuXHRcdHZlYzMgdGFuZ2VudCA9IG5vcm1hbGl6ZSggdlRhbmdlbnQgKTtcblx0XHR2ZWMzIGJpdGFuZ2VudCA9IG5vcm1hbGl6ZSggdkJpdGFuZ2VudCApO1xuXHRcdCNpZmRlZiBET1VCTEVfU0lERURcblx0XHRcdHRhbmdlbnQgPSB0YW5nZW50ICogKCBmbG9hdCggZ2xfRnJvbnRGYWNpbmcgKSAqIDIuMCAtIDEuMCApO1xuXHRcdFx0Yml0YW5nZW50ID0gYml0YW5nZW50ICogKCBmbG9hdCggZ2xfRnJvbnRGYWNpbmcgKSAqIDIuMCAtIDEuMCApO1xuXHRcdCNlbmRpZlxuXHRcdCNpZiBkZWZpbmVkKCBUQU5HRU5UU1BBQ0VfTk9STUFMTUFQICkgfHwgZGVmaW5lZCggVVNFX0NMRUFSQ09BVF9OT1JNQUxNQVAgKVxuXHRcdFx0bWF0MyB2VEJOID0gbWF0MyggdGFuZ2VudCwgYml0YW5nZW50LCBub3JtYWwgKTtcblx0XHQjZW5kaWZcblx0I2VuZGlmXG4jZW5kaWZcbnZlYzMgZ2VvbWV0cnlOb3JtYWwgPSBub3JtYWw7Ijt2YXIgbm9ybWFsX2ZyYWdtZW50X21hcHM9IiNpZmRlZiBPQkpFQ1RTUEFDRV9OT1JNQUxNQVBcblx0bm9ybWFsID0gdGV4dHVyZTJEKCBub3JtYWxNYXAsIHZVdiApLnh5eiAqIDIuMCAtIDEuMDtcblx0I2lmZGVmIEZMSVBfU0lERURcblx0XHRub3JtYWwgPSAtIG5vcm1hbDtcblx0I2VuZGlmXG5cdCNpZmRlZiBET1VCTEVfU0lERURcblx0XHRub3JtYWwgPSBub3JtYWwgKiAoIGZsb2F0KCBnbF9Gcm9udEZhY2luZyApICogMi4wIC0gMS4wICk7XG5cdCNlbmRpZlxuXHRub3JtYWwgPSBub3JtYWxpemUoIG5vcm1hbE1hdHJpeCAqIG5vcm1hbCApO1xuI2VsaWYgZGVmaW5lZCggVEFOR0VOVFNQQUNFX05PUk1BTE1BUCApXG5cdHZlYzMgbWFwTiA9IHRleHR1cmUyRCggbm9ybWFsTWFwLCB2VXYgKS54eXogKiAyLjAgLSAxLjA7XG5cdG1hcE4ueHkgKj0gbm9ybWFsU2NhbGU7XG5cdCNpZmRlZiBVU0VfVEFOR0VOVFxuXHRcdG5vcm1hbCA9IG5vcm1hbGl6ZSggdlRCTiAqIG1hcE4gKTtcblx0I2Vsc2Vcblx0XHRub3JtYWwgPSBwZXJ0dXJiTm9ybWFsMkFyYiggLXZWaWV3UG9zaXRpb24sIG5vcm1hbCwgbWFwTiApO1xuXHQjZW5kaWZcbiNlbGlmIGRlZmluZWQoIFVTRV9CVU1QTUFQIClcblx0bm9ybWFsID0gcGVydHVyYk5vcm1hbEFyYiggLXZWaWV3UG9zaXRpb24sIG5vcm1hbCwgZEhkeHlfZndkKCkgKTtcbiNlbmRpZiI7dmFyIG5vcm1hbG1hcF9wYXJzX2ZyYWdtZW50PSIjaWZkZWYgVVNFX05PUk1BTE1BUFxuXHR1bmlmb3JtIHNhbXBsZXIyRCBub3JtYWxNYXA7XG5cdHVuaWZvcm0gdmVjMiBub3JtYWxTY2FsZTtcbiNlbmRpZlxuI2lmZGVmIE9CSkVDVFNQQUNFX05PUk1BTE1BUFxuXHR1bmlmb3JtIG1hdDMgbm9ybWFsTWF0cml4O1xuI2VuZGlmXG4jaWYgISBkZWZpbmVkICggVVNFX1RBTkdFTlQgKSAmJiAoIGRlZmluZWQgKCBUQU5HRU5UU1BBQ0VfTk9STUFMTUFQICkgfHwgZGVmaW5lZCAoIFVTRV9DTEVBUkNPQVRfTk9STUFMTUFQICkgKVxuXHR2ZWMzIHBlcnR1cmJOb3JtYWwyQXJiKCB2ZWMzIGV5ZV9wb3MsIHZlYzMgc3VyZl9ub3JtLCB2ZWMzIG1hcE4gKSB7XG5cdFx0dmVjMyBxMCA9IHZlYzMoIGRGZHgoIGV5ZV9wb3MueCApLCBkRmR4KCBleWVfcG9zLnkgKSwgZEZkeCggZXllX3Bvcy56ICkgKTtcblx0XHR2ZWMzIHExID0gdmVjMyggZEZkeSggZXllX3Bvcy54ICksIGRGZHkoIGV5ZV9wb3MueSApLCBkRmR5KCBleWVfcG9zLnogKSApO1xuXHRcdHZlYzIgc3QwID0gZEZkeCggdlV2LnN0ICk7XG5cdFx0dmVjMiBzdDEgPSBkRmR5KCB2VXYuc3QgKTtcblx0XHRmbG9hdCBzY2FsZSA9IHNpZ24oIHN0MS50ICogc3QwLnMgLSBzdDAudCAqIHN0MS5zICk7XG5cdFx0dmVjMyBTID0gbm9ybWFsaXplKCAoIHEwICogc3QxLnQgLSBxMSAqIHN0MC50ICkgKiBzY2FsZSApO1xuXHRcdHZlYzMgVCA9IG5vcm1hbGl6ZSggKCAtIHEwICogc3QxLnMgKyBxMSAqIHN0MC5zICkgKiBzY2FsZSApO1xuXHRcdHZlYzMgTiA9IG5vcm1hbGl6ZSggc3VyZl9ub3JtICk7XG5cdFx0bWF0MyB0c24gPSBtYXQzKCBTLCBULCBOICk7XG5cdFx0bWFwTi54eSAqPSAoIGZsb2F0KCBnbF9Gcm9udEZhY2luZyApICogMi4wIC0gMS4wICk7XG5cdFx0cmV0dXJuIG5vcm1hbGl6ZSggdHNuICogbWFwTiApO1xuXHR9XG4jZW5kaWYiO3ZhciBjbGVhcmNvYXRfbm9ybWFsX2ZyYWdtZW50X2JlZ2luPSIjaWZkZWYgQ0xFQVJDT0FUXG5cdHZlYzMgY2xlYXJjb2F0Tm9ybWFsID0gZ2VvbWV0cnlOb3JtYWw7XG4jZW5kaWYiO3ZhciBjbGVhcmNvYXRfbm9ybWFsX2ZyYWdtZW50X21hcHM9IiNpZmRlZiBVU0VfQ0xFQVJDT0FUX05PUk1BTE1BUFxuXHR2ZWMzIGNsZWFyY29hdE1hcE4gPSB0ZXh0dXJlMkQoIGNsZWFyY29hdE5vcm1hbE1hcCwgdlV2ICkueHl6ICogMi4wIC0gMS4wO1xuXHRjbGVhcmNvYXRNYXBOLnh5ICo9IGNsZWFyY29hdE5vcm1hbFNjYWxlO1xuXHQjaWZkZWYgVVNFX1RBTkdFTlRcblx0XHRjbGVhcmNvYXROb3JtYWwgPSBub3JtYWxpemUoIHZUQk4gKiBjbGVhcmNvYXRNYXBOICk7XG5cdCNlbHNlXG5cdFx0Y2xlYXJjb2F0Tm9ybWFsID0gcGVydHVyYk5vcm1hbDJBcmIoIC0gdlZpZXdQb3NpdGlvbiwgY2xlYXJjb2F0Tm9ybWFsLCBjbGVhcmNvYXRNYXBOICk7XG5cdCNlbmRpZlxuI2VuZGlmIjt2YXIgY2xlYXJjb2F0X25vcm1hbG1hcF9wYXJzX2ZyYWdtZW50PSIjaWZkZWYgVVNFX0NMRUFSQ09BVF9OT1JNQUxNQVBcblx0dW5pZm9ybSBzYW1wbGVyMkQgY2xlYXJjb2F0Tm9ybWFsTWFwO1xuXHR1bmlmb3JtIHZlYzIgY2xlYXJjb2F0Tm9ybWFsU2NhbGU7XG4jZW5kaWYiO3ZhciBwYWNraW5nPSJ2ZWMzIHBhY2tOb3JtYWxUb1JHQiggY29uc3QgaW4gdmVjMyBub3JtYWwgKSB7XG5cdHJldHVybiBub3JtYWxpemUoIG5vcm1hbCApICogMC41ICsgMC41O1xufVxudmVjMyB1bnBhY2tSR0JUb05vcm1hbCggY29uc3QgaW4gdmVjMyByZ2IgKSB7XG5cdHJldHVybiAyLjAgKiByZ2IueHl6IC0gMS4wO1xufVxuY29uc3QgZmxvYXQgUGFja1Vwc2NhbGUgPSAyNTYuIC8gMjU1Ljtjb25zdCBmbG9hdCBVbnBhY2tEb3duc2NhbGUgPSAyNTUuIC8gMjU2LjtcbmNvbnN0IHZlYzMgUGFja0ZhY3RvcnMgPSB2ZWMzKCAyNTYuICogMjU2LiAqIDI1Ni4sIDI1Ni4gKiAyNTYuLCAgMjU2LiApO1xuY29uc3QgdmVjNCBVbnBhY2tGYWN0b3JzID0gVW5wYWNrRG93bnNjYWxlIC8gdmVjNCggUGFja0ZhY3RvcnMsIDEuICk7XG5jb25zdCBmbG9hdCBTaGlmdFJpZ2h0OCA9IDEuIC8gMjU2LjtcbnZlYzQgcGFja0RlcHRoVG9SR0JBKCBjb25zdCBpbiBmbG9hdCB2ICkge1xuXHR2ZWM0IHIgPSB2ZWM0KCBmcmFjdCggdiAqIFBhY2tGYWN0b3JzICksIHYgKTtcblx0ci55encgLT0gci54eXogKiBTaGlmdFJpZ2h0ODtcdHJldHVybiByICogUGFja1Vwc2NhbGU7XG59XG5mbG9hdCB1bnBhY2tSR0JBVG9EZXB0aCggY29uc3QgaW4gdmVjNCB2ICkge1xuXHRyZXR1cm4gZG90KCB2LCBVbnBhY2tGYWN0b3JzICk7XG59XG52ZWM0IHBhY2sySGFsZlRvUkdCQSggdmVjMiB2ICkge1xuXHR2ZWM0IHIgPSB2ZWM0KCB2LngsIGZyYWN0KCB2LnggKiAyNTUuMCApLCB2LnksIGZyYWN0KCB2LnkgKiAyNTUuMCApKTtcblx0cmV0dXJuIHZlYzQoIHIueCAtIHIueSAvIDI1NS4wLCByLnksIHIueiAtIHIudyAvIDI1NS4wLCByLncpO1xufVxudmVjMiB1bnBhY2tSR0JBVG8ySGFsZiggdmVjNCB2ICkge1xuXHRyZXR1cm4gdmVjMiggdi54ICsgKCB2LnkgLyAyNTUuMCApLCB2LnogKyAoIHYudyAvIDI1NS4wICkgKTtcbn1cbmZsb2F0IHZpZXdaVG9PcnRob2dyYXBoaWNEZXB0aCggY29uc3QgaW4gZmxvYXQgdmlld1osIGNvbnN0IGluIGZsb2F0IG5lYXIsIGNvbnN0IGluIGZsb2F0IGZhciApIHtcblx0cmV0dXJuICggdmlld1ogKyBuZWFyICkgLyAoIG5lYXIgLSBmYXIgKTtcbn1cbmZsb2F0IG9ydGhvZ3JhcGhpY0RlcHRoVG9WaWV3WiggY29uc3QgaW4gZmxvYXQgbGluZWFyQ2xpcFosIGNvbnN0IGluIGZsb2F0IG5lYXIsIGNvbnN0IGluIGZsb2F0IGZhciApIHtcblx0cmV0dXJuIGxpbmVhckNsaXBaICogKCBuZWFyIC0gZmFyICkgLSBuZWFyO1xufVxuZmxvYXQgdmlld1pUb1BlcnNwZWN0aXZlRGVwdGgoIGNvbnN0IGluIGZsb2F0IHZpZXdaLCBjb25zdCBpbiBmbG9hdCBuZWFyLCBjb25zdCBpbiBmbG9hdCBmYXIgKSB7XG5cdHJldHVybiAoKCBuZWFyICsgdmlld1ogKSAqIGZhciApIC8gKCggZmFyIC0gbmVhciApICogdmlld1ogKTtcbn1cbmZsb2F0IHBlcnNwZWN0aXZlRGVwdGhUb1ZpZXdaKCBjb25zdCBpbiBmbG9hdCBpbnZDbGlwWiwgY29uc3QgaW4gZmxvYXQgbmVhciwgY29uc3QgaW4gZmxvYXQgZmFyICkge1xuXHRyZXR1cm4gKCBuZWFyICogZmFyICkgLyAoICggZmFyIC0gbmVhciApICogaW52Q2xpcFogLSBmYXIgKTtcbn0iO3ZhciBwcmVtdWx0aXBsaWVkX2FscGhhX2ZyYWdtZW50PSIjaWZkZWYgUFJFTVVMVElQTElFRF9BTFBIQVxuXHRnbF9GcmFnQ29sb3IucmdiICo9IGdsX0ZyYWdDb2xvci5hO1xuI2VuZGlmIjt2YXIgcHJvamVjdF92ZXJ0ZXg9InZlYzQgbXZQb3NpdGlvbiA9IHZlYzQoIHRyYW5zZm9ybWVkLCAxLjAgKTtcbiNpZmRlZiBVU0VfSU5TVEFOQ0lOR1xuXHRtdlBvc2l0aW9uID0gaW5zdGFuY2VNYXRyaXggKiBtdlBvc2l0aW9uO1xuI2VuZGlmXG5tdlBvc2l0aW9uID0gbW9kZWxWaWV3TWF0cml4ICogbXZQb3NpdGlvbjtcbmdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIG12UG9zaXRpb247Ijt2YXIgZGl0aGVyaW5nX2ZyYWdtZW50PSIjaWZkZWYgRElUSEVSSU5HXG5cdGdsX0ZyYWdDb2xvci5yZ2IgPSBkaXRoZXJpbmcoIGdsX0ZyYWdDb2xvci5yZ2IgKTtcbiNlbmRpZiI7dmFyIGRpdGhlcmluZ19wYXJzX2ZyYWdtZW50PSIjaWZkZWYgRElUSEVSSU5HXG5cdHZlYzMgZGl0aGVyaW5nKCB2ZWMzIGNvbG9yICkge1xuXHRcdGZsb2F0IGdyaWRfcG9zaXRpb24gPSByYW5kKCBnbF9GcmFnQ29vcmQueHkgKTtcblx0XHR2ZWMzIGRpdGhlcl9zaGlmdF9SR0IgPSB2ZWMzKCAwLjI1IC8gMjU1LjAsIC0wLjI1IC8gMjU1LjAsIDAuMjUgLyAyNTUuMCApO1xuXHRcdGRpdGhlcl9zaGlmdF9SR0IgPSBtaXgoIDIuMCAqIGRpdGhlcl9zaGlmdF9SR0IsIC0yLjAgKiBkaXRoZXJfc2hpZnRfUkdCLCBncmlkX3Bvc2l0aW9uICk7XG5cdFx0cmV0dXJuIGNvbG9yICsgZGl0aGVyX3NoaWZ0X1JHQjtcblx0fVxuI2VuZGlmIjt2YXIgcm91Z2huZXNzbWFwX2ZyYWdtZW50PSJmbG9hdCByb3VnaG5lc3NGYWN0b3IgPSByb3VnaG5lc3M7XG4jaWZkZWYgVVNFX1JPVUdITkVTU01BUFxuXHR2ZWM0IHRleGVsUm91Z2huZXNzID0gdGV4dHVyZTJEKCByb3VnaG5lc3NNYXAsIHZVdiApO1xuXHRyb3VnaG5lc3NGYWN0b3IgKj0gdGV4ZWxSb3VnaG5lc3MuZztcbiNlbmRpZiI7dmFyIHJvdWdobmVzc21hcF9wYXJzX2ZyYWdtZW50PSIjaWZkZWYgVVNFX1JPVUdITkVTU01BUFxuXHR1bmlmb3JtIHNhbXBsZXIyRCByb3VnaG5lc3NNYXA7XG4jZW5kaWYiO3ZhciBzaGFkb3dtYXBfcGFyc19mcmFnbWVudD0iI2lmZGVmIFVTRV9TSEFET1dNQVBcblx0I2lmIE5VTV9ESVJfTElHSFRfU0hBRE9XUyA+IDBcblx0XHR1bmlmb3JtIHNhbXBsZXIyRCBkaXJlY3Rpb25hbFNoYWRvd01hcFsgTlVNX0RJUl9MSUdIVF9TSEFET1dTIF07XG5cdFx0dmFyeWluZyB2ZWM0IHZEaXJlY3Rpb25hbFNoYWRvd0Nvb3JkWyBOVU1fRElSX0xJR0hUX1NIQURPV1MgXTtcblx0I2VuZGlmXG5cdCNpZiBOVU1fU1BPVF9MSUdIVF9TSEFET1dTID4gMFxuXHRcdHVuaWZvcm0gc2FtcGxlcjJEIHNwb3RTaGFkb3dNYXBbIE5VTV9TUE9UX0xJR0hUX1NIQURPV1MgXTtcblx0XHR2YXJ5aW5nIHZlYzQgdlNwb3RTaGFkb3dDb29yZFsgTlVNX1NQT1RfTElHSFRfU0hBRE9XUyBdO1xuXHQjZW5kaWZcblx0I2lmIE5VTV9QT0lOVF9MSUdIVF9TSEFET1dTID4gMFxuXHRcdHVuaWZvcm0gc2FtcGxlcjJEIHBvaW50U2hhZG93TWFwWyBOVU1fUE9JTlRfTElHSFRfU0hBRE9XUyBdO1xuXHRcdHZhcnlpbmcgdmVjNCB2UG9pbnRTaGFkb3dDb29yZFsgTlVNX1BPSU5UX0xJR0hUX1NIQURPV1MgXTtcblx0I2VuZGlmXG5cdGZsb2F0IHRleHR1cmUyRENvbXBhcmUoIHNhbXBsZXIyRCBkZXB0aHMsIHZlYzIgdXYsIGZsb2F0IGNvbXBhcmUgKSB7XG5cdFx0cmV0dXJuIHN0ZXAoIGNvbXBhcmUsIHVucGFja1JHQkFUb0RlcHRoKCB0ZXh0dXJlMkQoIGRlcHRocywgdXYgKSApICk7XG5cdH1cblx0dmVjMiB0ZXh0dXJlMkREaXN0cmlidXRpb24oIHNhbXBsZXIyRCBzaGFkb3csIHZlYzIgdXYgKSB7XG5cdFx0cmV0dXJuIHVucGFja1JHQkFUbzJIYWxmKCB0ZXh0dXJlMkQoIHNoYWRvdywgdXYgKSApO1xuXHR9XG5cdGZsb2F0IFZTTVNoYWRvdyAoc2FtcGxlcjJEIHNoYWRvdywgdmVjMiB1diwgZmxvYXQgY29tcGFyZSApe1xuXHRcdGZsb2F0IG9jY2x1c2lvbiA9IDEuMDtcblx0XHR2ZWMyIGRpc3RyaWJ1dGlvbiA9IHRleHR1cmUyRERpc3RyaWJ1dGlvbiggc2hhZG93LCB1diApO1xuXHRcdGZsb2F0IGhhcmRfc2hhZG93ID0gc3RlcCggY29tcGFyZSAsIGRpc3RyaWJ1dGlvbi54ICk7XG5cdFx0aWYgKGhhcmRfc2hhZG93ICE9IDEuMCApIHtcblx0XHRcdGZsb2F0IGRpc3RhbmNlID0gY29tcGFyZSAtIGRpc3RyaWJ1dGlvbi54IDtcblx0XHRcdGZsb2F0IHZhcmlhbmNlID0gbWF4KCAwLjAwMDAwLCBkaXN0cmlidXRpb24ueSAqIGRpc3RyaWJ1dGlvbi55ICk7XG5cdFx0XHRmbG9hdCBzb2Z0bmVzc19wcm9iYWJpbGl0eSA9IHZhcmlhbmNlIC8gKHZhcmlhbmNlICsgZGlzdGFuY2UgKiBkaXN0YW5jZSApO1x0XHRcdHNvZnRuZXNzX3Byb2JhYmlsaXR5ID0gY2xhbXAoICggc29mdG5lc3NfcHJvYmFiaWxpdHkgLSAwLjMgKSAvICggMC45NSAtIDAuMyApLCAwLjAsIDEuMCApO1x0XHRcdG9jY2x1c2lvbiA9IGNsYW1wKCBtYXgoIGhhcmRfc2hhZG93LCBzb2Z0bmVzc19wcm9iYWJpbGl0eSApLCAwLjAsIDEuMCApO1xuXHRcdH1cblx0XHRyZXR1cm4gb2NjbHVzaW9uO1xuXHR9XG5cdGZsb2F0IHRleHR1cmUyRFNoYWRvd0xlcnAoIHNhbXBsZXIyRCBkZXB0aHMsIHZlYzIgc2l6ZSwgdmVjMiB1diwgZmxvYXQgY29tcGFyZSApIHtcblx0XHRjb25zdCB2ZWMyIG9mZnNldCA9IHZlYzIoIDAuMCwgMS4wICk7XG5cdFx0dmVjMiB0ZXhlbFNpemUgPSB2ZWMyKCAxLjAgKSAvIHNpemU7XG5cdFx0dmVjMiBjZW50cm9pZFVWID0gKCBmbG9vciggdXYgKiBzaXplIC0gMC41ICkgKyAwLjUgKSAqIHRleGVsU2l6ZTtcblx0XHRmbG9hdCBsYiA9IHRleHR1cmUyRENvbXBhcmUoIGRlcHRocywgY2VudHJvaWRVViArIHRleGVsU2l6ZSAqIG9mZnNldC54eCwgY29tcGFyZSApO1xuXHRcdGZsb2F0IGx0ID0gdGV4dHVyZTJEQ29tcGFyZSggZGVwdGhzLCBjZW50cm9pZFVWICsgdGV4ZWxTaXplICogb2Zmc2V0Lnh5LCBjb21wYXJlICk7XG5cdFx0ZmxvYXQgcmIgPSB0ZXh0dXJlMkRDb21wYXJlKCBkZXB0aHMsIGNlbnRyb2lkVVYgKyB0ZXhlbFNpemUgKiBvZmZzZXQueXgsIGNvbXBhcmUgKTtcblx0XHRmbG9hdCBydCA9IHRleHR1cmUyRENvbXBhcmUoIGRlcHRocywgY2VudHJvaWRVViArIHRleGVsU2l6ZSAqIG9mZnNldC55eSwgY29tcGFyZSApO1xuXHRcdHZlYzIgZiA9IGZyYWN0KCB1diAqIHNpemUgKyAwLjUgKTtcblx0XHRmbG9hdCBhID0gbWl4KCBsYiwgbHQsIGYueSApO1xuXHRcdGZsb2F0IGIgPSBtaXgoIHJiLCBydCwgZi55ICk7XG5cdFx0ZmxvYXQgYyA9IG1peCggYSwgYiwgZi54ICk7XG5cdFx0cmV0dXJuIGM7XG5cdH1cblx0ZmxvYXQgZ2V0U2hhZG93KCBzYW1wbGVyMkQgc2hhZG93TWFwLCB2ZWMyIHNoYWRvd01hcFNpemUsIGZsb2F0IHNoYWRvd0JpYXMsIGZsb2F0IHNoYWRvd1JhZGl1cywgdmVjNCBzaGFkb3dDb29yZCApIHtcblx0XHRmbG9hdCBzaGFkb3cgPSAxLjA7XG5cdFx0c2hhZG93Q29vcmQueHl6IC89IHNoYWRvd0Nvb3JkLnc7XG5cdFx0c2hhZG93Q29vcmQueiArPSBzaGFkb3dCaWFzO1xuXHRcdGJ2ZWM0IGluRnJ1c3R1bVZlYyA9IGJ2ZWM0ICggc2hhZG93Q29vcmQueCA+PSAwLjAsIHNoYWRvd0Nvb3JkLnggPD0gMS4wLCBzaGFkb3dDb29yZC55ID49IDAuMCwgc2hhZG93Q29vcmQueSA8PSAxLjAgKTtcblx0XHRib29sIGluRnJ1c3R1bSA9IGFsbCggaW5GcnVzdHVtVmVjICk7XG5cdFx0YnZlYzIgZnJ1c3R1bVRlc3RWZWMgPSBidmVjMiggaW5GcnVzdHVtLCBzaGFkb3dDb29yZC56IDw9IDEuMCApO1xuXHRcdGJvb2wgZnJ1c3R1bVRlc3QgPSBhbGwoIGZydXN0dW1UZXN0VmVjICk7XG5cdFx0aWYgKCBmcnVzdHVtVGVzdCApIHtcblx0XHQjaWYgZGVmaW5lZCggU0hBRE9XTUFQX1RZUEVfUENGIClcblx0XHRcdHZlYzIgdGV4ZWxTaXplID0gdmVjMiggMS4wICkgLyBzaGFkb3dNYXBTaXplO1xuXHRcdFx0ZmxvYXQgZHgwID0gLSB0ZXhlbFNpemUueCAqIHNoYWRvd1JhZGl1cztcblx0XHRcdGZsb2F0IGR5MCA9IC0gdGV4ZWxTaXplLnkgKiBzaGFkb3dSYWRpdXM7XG5cdFx0XHRmbG9hdCBkeDEgPSArIHRleGVsU2l6ZS54ICogc2hhZG93UmFkaXVzO1xuXHRcdFx0ZmxvYXQgZHkxID0gKyB0ZXhlbFNpemUueSAqIHNoYWRvd1JhZGl1cztcblx0XHRcdGZsb2F0IGR4MiA9IGR4MCAvIDIuMDtcblx0XHRcdGZsb2F0IGR5MiA9IGR5MCAvIDIuMDtcblx0XHRcdGZsb2F0IGR4MyA9IGR4MSAvIDIuMDtcblx0XHRcdGZsb2F0IGR5MyA9IGR5MSAvIDIuMDtcblx0XHRcdHNoYWRvdyA9IChcblx0XHRcdFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIGR4MCwgZHkwICksIHNoYWRvd0Nvb3JkLnogKSArXG5cdFx0XHRcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCAwLjAsIGR5MCApLCBzaGFkb3dDb29yZC56ICkgK1xuXHRcdFx0XHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggZHgxLCBkeTAgKSwgc2hhZG93Q29vcmQueiApICtcblx0XHRcdFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIGR4MiwgZHkyICksIHNoYWRvd0Nvb3JkLnogKSArXG5cdFx0XHRcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCAwLjAsIGR5MiApLCBzaGFkb3dDb29yZC56ICkgK1xuXHRcdFx0XHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggZHgzLCBkeTIgKSwgc2hhZG93Q29vcmQueiApICtcblx0XHRcdFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIGR4MCwgMC4wICksIHNoYWRvd0Nvb3JkLnogKSArXG5cdFx0XHRcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCBkeDIsIDAuMCApLCBzaGFkb3dDb29yZC56ICkgK1xuXHRcdFx0XHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5LCBzaGFkb3dDb29yZC56ICkgK1xuXHRcdFx0XHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggZHgzLCAwLjAgKSwgc2hhZG93Q29vcmQueiApICtcblx0XHRcdFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIGR4MSwgMC4wICksIHNoYWRvd0Nvb3JkLnogKSArXG5cdFx0XHRcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCBkeDIsIGR5MyApLCBzaGFkb3dDb29yZC56ICkgK1xuXHRcdFx0XHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggMC4wLCBkeTMgKSwgc2hhZG93Q29vcmQueiApICtcblx0XHRcdFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIGR4MywgZHkzICksIHNoYWRvd0Nvb3JkLnogKSArXG5cdFx0XHRcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCBkeDAsIGR5MSApLCBzaGFkb3dDb29yZC56ICkgK1xuXHRcdFx0XHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggMC4wLCBkeTEgKSwgc2hhZG93Q29vcmQueiApICtcblx0XHRcdFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIGR4MSwgZHkxICksIHNoYWRvd0Nvb3JkLnogKVxuXHRcdFx0KSAqICggMS4wIC8gMTcuMCApO1xuXHRcdCNlbGlmIGRlZmluZWQoIFNIQURPV01BUF9UWVBFX1BDRl9TT0ZUIClcblx0XHRcdHZlYzIgdGV4ZWxTaXplID0gdmVjMiggMS4wICkgLyBzaGFkb3dNYXBTaXplO1xuXHRcdFx0ZmxvYXQgZHgwID0gLSB0ZXhlbFNpemUueCAqIHNoYWRvd1JhZGl1cztcblx0XHRcdGZsb2F0IGR5MCA9IC0gdGV4ZWxTaXplLnkgKiBzaGFkb3dSYWRpdXM7XG5cdFx0XHRmbG9hdCBkeDEgPSArIHRleGVsU2l6ZS54ICogc2hhZG93UmFkaXVzO1xuXHRcdFx0ZmxvYXQgZHkxID0gKyB0ZXhlbFNpemUueSAqIHNoYWRvd1JhZGl1cztcblx0XHRcdHNoYWRvdyA9IChcblx0XHRcdFx0dGV4dHVyZTJEU2hhZG93TGVycCggc2hhZG93TWFwLCBzaGFkb3dNYXBTaXplLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIGR4MCwgZHkwICksIHNoYWRvd0Nvb3JkLnogKSArXG5cdFx0XHRcdHRleHR1cmUyRFNoYWRvd0xlcnAoIHNoYWRvd01hcCwgc2hhZG93TWFwU2l6ZSwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCAwLjAsIGR5MCApLCBzaGFkb3dDb29yZC56ICkgK1xuXHRcdFx0XHR0ZXh0dXJlMkRTaGFkb3dMZXJwKCBzaGFkb3dNYXAsIHNoYWRvd01hcFNpemUsIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggZHgxLCBkeTAgKSwgc2hhZG93Q29vcmQueiApICtcblx0XHRcdFx0dGV4dHVyZTJEU2hhZG93TGVycCggc2hhZG93TWFwLCBzaGFkb3dNYXBTaXplLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIGR4MCwgMC4wICksIHNoYWRvd0Nvb3JkLnogKSArXG5cdFx0XHRcdHRleHR1cmUyRFNoYWRvd0xlcnAoIHNoYWRvd01hcCwgc2hhZG93TWFwU2l6ZSwgc2hhZG93Q29vcmQueHksIHNoYWRvd0Nvb3JkLnogKSArXG5cdFx0XHRcdHRleHR1cmUyRFNoYWRvd0xlcnAoIHNoYWRvd01hcCwgc2hhZG93TWFwU2l6ZSwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCBkeDEsIDAuMCApLCBzaGFkb3dDb29yZC56ICkgK1xuXHRcdFx0XHR0ZXh0dXJlMkRTaGFkb3dMZXJwKCBzaGFkb3dNYXAsIHNoYWRvd01hcFNpemUsIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggZHgwLCBkeTEgKSwgc2hhZG93Q29vcmQueiApICtcblx0XHRcdFx0dGV4dHVyZTJEU2hhZG93TGVycCggc2hhZG93TWFwLCBzaGFkb3dNYXBTaXplLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIDAuMCwgZHkxICksIHNoYWRvd0Nvb3JkLnogKSArXG5cdFx0XHRcdHRleHR1cmUyRFNoYWRvd0xlcnAoIHNoYWRvd01hcCwgc2hhZG93TWFwU2l6ZSwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCBkeDEsIGR5MSApLCBzaGFkb3dDb29yZC56IClcblx0XHRcdCkgKiAoIDEuMCAvIDkuMCApO1xuXHRcdCNlbGlmIGRlZmluZWQoIFNIQURPV01BUF9UWVBFX1ZTTSApXG5cdFx0XHRzaGFkb3cgPSBWU01TaGFkb3coIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHksIHNoYWRvd0Nvb3JkLnogKTtcblx0XHQjZWxzZVxuXHRcdFx0c2hhZG93ID0gdGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBzaGFkb3dDb29yZC54eSwgc2hhZG93Q29vcmQueiApO1xuXHRcdCNlbmRpZlxuXHRcdH1cblx0XHRyZXR1cm4gc2hhZG93O1xuXHR9XG5cdHZlYzIgY3ViZVRvVVYoIHZlYzMgdiwgZmxvYXQgdGV4ZWxTaXplWSApIHtcblx0XHR2ZWMzIGFic1YgPSBhYnMoIHYgKTtcblx0XHRmbG9hdCBzY2FsZVRvQ3ViZSA9IDEuMCAvIG1heCggYWJzVi54LCBtYXgoIGFic1YueSwgYWJzVi56ICkgKTtcblx0XHRhYnNWICo9IHNjYWxlVG9DdWJlO1xuXHRcdHYgKj0gc2NhbGVUb0N1YmUgKiAoIDEuMCAtIDIuMCAqIHRleGVsU2l6ZVkgKTtcblx0XHR2ZWMyIHBsYW5hciA9IHYueHk7XG5cdFx0ZmxvYXQgYWxtb3N0QVRleGVsID0gMS41ICogdGV4ZWxTaXplWTtcblx0XHRmbG9hdCBhbG1vc3RPbmUgPSAxLjAgLSBhbG1vc3RBVGV4ZWw7XG5cdFx0aWYgKCBhYnNWLnogPj0gYWxtb3N0T25lICkge1xuXHRcdFx0aWYgKCB2LnogPiAwLjAgKVxuXHRcdFx0XHRwbGFuYXIueCA9IDQuMCAtIHYueDtcblx0XHR9IGVsc2UgaWYgKCBhYnNWLnggPj0gYWxtb3N0T25lICkge1xuXHRcdFx0ZmxvYXQgc2lnblggPSBzaWduKCB2LnggKTtcblx0XHRcdHBsYW5hci54ID0gdi56ICogc2lnblggKyAyLjAgKiBzaWduWDtcblx0XHR9IGVsc2UgaWYgKCBhYnNWLnkgPj0gYWxtb3N0T25lICkge1xuXHRcdFx0ZmxvYXQgc2lnblkgPSBzaWduKCB2LnkgKTtcblx0XHRcdHBsYW5hci54ID0gdi54ICsgMi4wICogc2lnblkgKyAyLjA7XG5cdFx0XHRwbGFuYXIueSA9IHYueiAqIHNpZ25ZIC0gMi4wO1xuXHRcdH1cblx0XHRyZXR1cm4gdmVjMiggMC4xMjUsIDAuMjUgKSAqIHBsYW5hciArIHZlYzIoIDAuMzc1LCAwLjc1ICk7XG5cdH1cblx0ZmxvYXQgZ2V0UG9pbnRTaGFkb3coIHNhbXBsZXIyRCBzaGFkb3dNYXAsIHZlYzIgc2hhZG93TWFwU2l6ZSwgZmxvYXQgc2hhZG93QmlhcywgZmxvYXQgc2hhZG93UmFkaXVzLCB2ZWM0IHNoYWRvd0Nvb3JkLCBmbG9hdCBzaGFkb3dDYW1lcmFOZWFyLCBmbG9hdCBzaGFkb3dDYW1lcmFGYXIgKSB7XG5cdFx0dmVjMiB0ZXhlbFNpemUgPSB2ZWMyKCAxLjAgKSAvICggc2hhZG93TWFwU2l6ZSAqIHZlYzIoIDQuMCwgMi4wICkgKTtcblx0XHR2ZWMzIGxpZ2h0VG9Qb3NpdGlvbiA9IHNoYWRvd0Nvb3JkLnh5ejtcblx0XHRmbG9hdCBkcCA9ICggbGVuZ3RoKCBsaWdodFRvUG9zaXRpb24gKSAtIHNoYWRvd0NhbWVyYU5lYXIgKSAvICggc2hhZG93Q2FtZXJhRmFyIC0gc2hhZG93Q2FtZXJhTmVhciApO1x0XHRkcCArPSBzaGFkb3dCaWFzO1xuXHRcdHZlYzMgYmQzRCA9IG5vcm1hbGl6ZSggbGlnaHRUb1Bvc2l0aW9uICk7XG5cdFx0I2lmIGRlZmluZWQoIFNIQURPV01BUF9UWVBFX1BDRiApIHx8IGRlZmluZWQoIFNIQURPV01BUF9UWVBFX1BDRl9TT0ZUICkgfHwgZGVmaW5lZCggU0hBRE9XTUFQX1RZUEVfVlNNIClcblx0XHRcdHZlYzIgb2Zmc2V0ID0gdmVjMiggLSAxLCAxICkgKiBzaGFkb3dSYWRpdXMgKiB0ZXhlbFNpemUueTtcblx0XHRcdHJldHVybiAoXG5cdFx0XHRcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgY3ViZVRvVVYoIGJkM0QgKyBvZmZzZXQueHl5LCB0ZXhlbFNpemUueSApLCBkcCApICtcblx0XHRcdFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBjdWJlVG9VViggYmQzRCArIG9mZnNldC55eXksIHRleGVsU2l6ZS55ICksIGRwICkgK1xuXHRcdFx0XHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIGN1YmVUb1VWKCBiZDNEICsgb2Zmc2V0Lnh5eCwgdGV4ZWxTaXplLnkgKSwgZHAgKSArXG5cdFx0XHRcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgY3ViZVRvVVYoIGJkM0QgKyBvZmZzZXQueXl4LCB0ZXhlbFNpemUueSApLCBkcCApICtcblx0XHRcdFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBjdWJlVG9VViggYmQzRCwgdGV4ZWxTaXplLnkgKSwgZHAgKSArXG5cdFx0XHRcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgY3ViZVRvVVYoIGJkM0QgKyBvZmZzZXQueHh5LCB0ZXhlbFNpemUueSApLCBkcCApICtcblx0XHRcdFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBjdWJlVG9VViggYmQzRCArIG9mZnNldC55eHksIHRleGVsU2l6ZS55ICksIGRwICkgK1xuXHRcdFx0XHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIGN1YmVUb1VWKCBiZDNEICsgb2Zmc2V0Lnh4eCwgdGV4ZWxTaXplLnkgKSwgZHAgKSArXG5cdFx0XHRcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgY3ViZVRvVVYoIGJkM0QgKyBvZmZzZXQueXh4LCB0ZXhlbFNpemUueSApLCBkcCApXG5cdFx0XHQpICogKCAxLjAgLyA5LjAgKTtcblx0XHQjZWxzZVxuXHRcdFx0cmV0dXJuIHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgY3ViZVRvVVYoIGJkM0QsIHRleGVsU2l6ZS55ICksIGRwICk7XG5cdFx0I2VuZGlmXG5cdH1cbiNlbmRpZiI7dmFyIHNoYWRvd21hcF9wYXJzX3ZlcnRleD0iI2lmZGVmIFVTRV9TSEFET1dNQVBcblx0I2lmIE5VTV9ESVJfTElHSFRfU0hBRE9XUyA+IDBcblx0XHR1bmlmb3JtIG1hdDQgZGlyZWN0aW9uYWxTaGFkb3dNYXRyaXhbIE5VTV9ESVJfTElHSFRfU0hBRE9XUyBdO1xuXHRcdHZhcnlpbmcgdmVjNCB2RGlyZWN0aW9uYWxTaGFkb3dDb29yZFsgTlVNX0RJUl9MSUdIVF9TSEFET1dTIF07XG5cdCNlbmRpZlxuXHQjaWYgTlVNX1NQT1RfTElHSFRfU0hBRE9XUyA+IDBcblx0XHR1bmlmb3JtIG1hdDQgc3BvdFNoYWRvd01hdHJpeFsgTlVNX1NQT1RfTElHSFRfU0hBRE9XUyBdO1xuXHRcdHZhcnlpbmcgdmVjNCB2U3BvdFNoYWRvd0Nvb3JkWyBOVU1fU1BPVF9MSUdIVF9TSEFET1dTIF07XG5cdCNlbmRpZlxuXHQjaWYgTlVNX1BPSU5UX0xJR0hUX1NIQURPV1MgPiAwXG5cdFx0dW5pZm9ybSBtYXQ0IHBvaW50U2hhZG93TWF0cml4WyBOVU1fUE9JTlRfTElHSFRfU0hBRE9XUyBdO1xuXHRcdHZhcnlpbmcgdmVjNCB2UG9pbnRTaGFkb3dDb29yZFsgTlVNX1BPSU5UX0xJR0hUX1NIQURPV1MgXTtcblx0I2VuZGlmXG4jZW5kaWYiO3ZhciBzaGFkb3dtYXBfdmVydGV4PSIjaWZkZWYgVVNFX1NIQURPV01BUFxuXHQjaWYgTlVNX0RJUl9MSUdIVF9TSEFET1dTID4gMFxuXHQjcHJhZ21hIHVucm9sbF9sb29wXG5cdGZvciAoIGludCBpID0gMDsgaSA8IE5VTV9ESVJfTElHSFRfU0hBRE9XUzsgaSArKyApIHtcblx0XHR2RGlyZWN0aW9uYWxTaGFkb3dDb29yZFsgaSBdID0gZGlyZWN0aW9uYWxTaGFkb3dNYXRyaXhbIGkgXSAqIHdvcmxkUG9zaXRpb247XG5cdH1cblx0I2VuZGlmXG5cdCNpZiBOVU1fU1BPVF9MSUdIVF9TSEFET1dTID4gMFxuXHQjcHJhZ21hIHVucm9sbF9sb29wXG5cdGZvciAoIGludCBpID0gMDsgaSA8IE5VTV9TUE9UX0xJR0hUX1NIQURPV1M7IGkgKysgKSB7XG5cdFx0dlNwb3RTaGFkb3dDb29yZFsgaSBdID0gc3BvdFNoYWRvd01hdHJpeFsgaSBdICogd29ybGRQb3NpdGlvbjtcblx0fVxuXHQjZW5kaWZcblx0I2lmIE5VTV9QT0lOVF9MSUdIVF9TSEFET1dTID4gMFxuXHQjcHJhZ21hIHVucm9sbF9sb29wXG5cdGZvciAoIGludCBpID0gMDsgaSA8IE5VTV9QT0lOVF9MSUdIVF9TSEFET1dTOyBpICsrICkge1xuXHRcdHZQb2ludFNoYWRvd0Nvb3JkWyBpIF0gPSBwb2ludFNoYWRvd01hdHJpeFsgaSBdICogd29ybGRQb3NpdGlvbjtcblx0fVxuXHQjZW5kaWZcbiNlbmRpZiI7dmFyIHNoYWRvd21hc2tfcGFyc19mcmFnbWVudD0iZmxvYXQgZ2V0U2hhZG93TWFzaygpIHtcblx0ZmxvYXQgc2hhZG93ID0gMS4wO1xuXHQjaWZkZWYgVVNFX1NIQURPV01BUFxuXHQjaWYgTlVNX0RJUl9MSUdIVF9TSEFET1dTID4gMFxuXHREaXJlY3Rpb25hbExpZ2h0IGRpcmVjdGlvbmFsTGlnaHQ7XG5cdCNwcmFnbWEgdW5yb2xsX2xvb3Bcblx0Zm9yICggaW50IGkgPSAwOyBpIDwgTlVNX0RJUl9MSUdIVF9TSEFET1dTOyBpICsrICkge1xuXHRcdGRpcmVjdGlvbmFsTGlnaHQgPSBkaXJlY3Rpb25hbExpZ2h0c1sgaSBdO1xuXHRcdHNoYWRvdyAqPSBhbGwoIGJ2ZWMyKCBkaXJlY3Rpb25hbExpZ2h0LnNoYWRvdywgcmVjZWl2ZVNoYWRvdyApICkgPyBnZXRTaGFkb3coIGRpcmVjdGlvbmFsU2hhZG93TWFwWyBpIF0sIGRpcmVjdGlvbmFsTGlnaHQuc2hhZG93TWFwU2l6ZSwgZGlyZWN0aW9uYWxMaWdodC5zaGFkb3dCaWFzLCBkaXJlY3Rpb25hbExpZ2h0LnNoYWRvd1JhZGl1cywgdkRpcmVjdGlvbmFsU2hhZG93Q29vcmRbIGkgXSApIDogMS4wO1xuXHR9XG5cdCNlbmRpZlxuXHQjaWYgTlVNX1NQT1RfTElHSFRfU0hBRE9XUyA+IDBcblx0U3BvdExpZ2h0IHNwb3RMaWdodDtcblx0I3ByYWdtYSB1bnJvbGxfbG9vcFxuXHRmb3IgKCBpbnQgaSA9IDA7IGkgPCBOVU1fU1BPVF9MSUdIVF9TSEFET1dTOyBpICsrICkge1xuXHRcdHNwb3RMaWdodCA9IHNwb3RMaWdodHNbIGkgXTtcblx0XHRzaGFkb3cgKj0gYWxsKCBidmVjMiggc3BvdExpZ2h0LnNoYWRvdywgcmVjZWl2ZVNoYWRvdyApICkgPyBnZXRTaGFkb3coIHNwb3RTaGFkb3dNYXBbIGkgXSwgc3BvdExpZ2h0LnNoYWRvd01hcFNpemUsIHNwb3RMaWdodC5zaGFkb3dCaWFzLCBzcG90TGlnaHQuc2hhZG93UmFkaXVzLCB2U3BvdFNoYWRvd0Nvb3JkWyBpIF0gKSA6IDEuMDtcblx0fVxuXHQjZW5kaWZcblx0I2lmIE5VTV9QT0lOVF9MSUdIVF9TSEFET1dTID4gMFxuXHRQb2ludExpZ2h0IHBvaW50TGlnaHQ7XG5cdCNwcmFnbWEgdW5yb2xsX2xvb3Bcblx0Zm9yICggaW50IGkgPSAwOyBpIDwgTlVNX1BPSU5UX0xJR0hUX1NIQURPV1M7IGkgKysgKSB7XG5cdFx0cG9pbnRMaWdodCA9IHBvaW50TGlnaHRzWyBpIF07XG5cdFx0c2hhZG93ICo9IGFsbCggYnZlYzIoIHBvaW50TGlnaHQuc2hhZG93LCByZWNlaXZlU2hhZG93ICkgKSA/IGdldFBvaW50U2hhZG93KCBwb2ludFNoYWRvd01hcFsgaSBdLCBwb2ludExpZ2h0LnNoYWRvd01hcFNpemUsIHBvaW50TGlnaHQuc2hhZG93QmlhcywgcG9pbnRMaWdodC5zaGFkb3dSYWRpdXMsIHZQb2ludFNoYWRvd0Nvb3JkWyBpIF0sIHBvaW50TGlnaHQuc2hhZG93Q2FtZXJhTmVhciwgcG9pbnRMaWdodC5zaGFkb3dDYW1lcmFGYXIgKSA6IDEuMDtcblx0fVxuXHQjZW5kaWZcblx0I2VuZGlmXG5cdHJldHVybiBzaGFkb3c7XG59Ijt2YXIgc2tpbmJhc2VfdmVydGV4PSIjaWZkZWYgVVNFX1NLSU5OSU5HXG5cdG1hdDQgYm9uZU1hdFggPSBnZXRCb25lTWF0cml4KCBza2luSW5kZXgueCApO1xuXHRtYXQ0IGJvbmVNYXRZID0gZ2V0Qm9uZU1hdHJpeCggc2tpbkluZGV4LnkgKTtcblx0bWF0NCBib25lTWF0WiA9IGdldEJvbmVNYXRyaXgoIHNraW5JbmRleC56ICk7XG5cdG1hdDQgYm9uZU1hdFcgPSBnZXRCb25lTWF0cml4KCBza2luSW5kZXgudyApO1xuI2VuZGlmIjt2YXIgc2tpbm5pbmdfcGFyc192ZXJ0ZXg9IiNpZmRlZiBVU0VfU0tJTk5JTkdcblx0dW5pZm9ybSBtYXQ0IGJpbmRNYXRyaXg7XG5cdHVuaWZvcm0gbWF0NCBiaW5kTWF0cml4SW52ZXJzZTtcblx0I2lmZGVmIEJPTkVfVEVYVFVSRVxuXHRcdHVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEIGJvbmVUZXh0dXJlO1xuXHRcdHVuaWZvcm0gaW50IGJvbmVUZXh0dXJlU2l6ZTtcblx0XHRtYXQ0IGdldEJvbmVNYXRyaXgoIGNvbnN0IGluIGZsb2F0IGkgKSB7XG5cdFx0XHRmbG9hdCBqID0gaSAqIDQuMDtcblx0XHRcdGZsb2F0IHggPSBtb2QoIGosIGZsb2F0KCBib25lVGV4dHVyZVNpemUgKSApO1xuXHRcdFx0ZmxvYXQgeSA9IGZsb29yKCBqIC8gZmxvYXQoIGJvbmVUZXh0dXJlU2l6ZSApICk7XG5cdFx0XHRmbG9hdCBkeCA9IDEuMCAvIGZsb2F0KCBib25lVGV4dHVyZVNpemUgKTtcblx0XHRcdGZsb2F0IGR5ID0gMS4wIC8gZmxvYXQoIGJvbmVUZXh0dXJlU2l6ZSApO1xuXHRcdFx0eSA9IGR5ICogKCB5ICsgMC41ICk7XG5cdFx0XHR2ZWM0IHYxID0gdGV4dHVyZTJEKCBib25lVGV4dHVyZSwgdmVjMiggZHggKiAoIHggKyAwLjUgKSwgeSApICk7XG5cdFx0XHR2ZWM0IHYyID0gdGV4dHVyZTJEKCBib25lVGV4dHVyZSwgdmVjMiggZHggKiAoIHggKyAxLjUgKSwgeSApICk7XG5cdFx0XHR2ZWM0IHYzID0gdGV4dHVyZTJEKCBib25lVGV4dHVyZSwgdmVjMiggZHggKiAoIHggKyAyLjUgKSwgeSApICk7XG5cdFx0XHR2ZWM0IHY0ID0gdGV4dHVyZTJEKCBib25lVGV4dHVyZSwgdmVjMiggZHggKiAoIHggKyAzLjUgKSwgeSApICk7XG5cdFx0XHRtYXQ0IGJvbmUgPSBtYXQ0KCB2MSwgdjIsIHYzLCB2NCApO1xuXHRcdFx0cmV0dXJuIGJvbmU7XG5cdFx0fVxuXHQjZWxzZVxuXHRcdHVuaWZvcm0gbWF0NCBib25lTWF0cmljZXNbIE1BWF9CT05FUyBdO1xuXHRcdG1hdDQgZ2V0Qm9uZU1hdHJpeCggY29uc3QgaW4gZmxvYXQgaSApIHtcblx0XHRcdG1hdDQgYm9uZSA9IGJvbmVNYXRyaWNlc1sgaW50KGkpIF07XG5cdFx0XHRyZXR1cm4gYm9uZTtcblx0XHR9XG5cdCNlbmRpZlxuI2VuZGlmIjt2YXIgc2tpbm5pbmdfdmVydGV4PSIjaWZkZWYgVVNFX1NLSU5OSU5HXG5cdHZlYzQgc2tpblZlcnRleCA9IGJpbmRNYXRyaXggKiB2ZWM0KCB0cmFuc2Zvcm1lZCwgMS4wICk7XG5cdHZlYzQgc2tpbm5lZCA9IHZlYzQoIDAuMCApO1xuXHRza2lubmVkICs9IGJvbmVNYXRYICogc2tpblZlcnRleCAqIHNraW5XZWlnaHQueDtcblx0c2tpbm5lZCArPSBib25lTWF0WSAqIHNraW5WZXJ0ZXggKiBza2luV2VpZ2h0Lnk7XG5cdHNraW5uZWQgKz0gYm9uZU1hdFogKiBza2luVmVydGV4ICogc2tpbldlaWdodC56O1xuXHRza2lubmVkICs9IGJvbmVNYXRXICogc2tpblZlcnRleCAqIHNraW5XZWlnaHQudztcblx0dHJhbnNmb3JtZWQgPSAoIGJpbmRNYXRyaXhJbnZlcnNlICogc2tpbm5lZCApLnh5ejtcbiNlbmRpZiI7dmFyIHNraW5ub3JtYWxfdmVydGV4PSIjaWZkZWYgVVNFX1NLSU5OSU5HXG5cdG1hdDQgc2tpbk1hdHJpeCA9IG1hdDQoIDAuMCApO1xuXHRza2luTWF0cml4ICs9IHNraW5XZWlnaHQueCAqIGJvbmVNYXRYO1xuXHRza2luTWF0cml4ICs9IHNraW5XZWlnaHQueSAqIGJvbmVNYXRZO1xuXHRza2luTWF0cml4ICs9IHNraW5XZWlnaHQueiAqIGJvbmVNYXRaO1xuXHRza2luTWF0cml4ICs9IHNraW5XZWlnaHQudyAqIGJvbmVNYXRXO1xuXHRza2luTWF0cml4ICA9IGJpbmRNYXRyaXhJbnZlcnNlICogc2tpbk1hdHJpeCAqIGJpbmRNYXRyaXg7XG5cdG9iamVjdE5vcm1hbCA9IHZlYzQoIHNraW5NYXRyaXggKiB2ZWM0KCBvYmplY3ROb3JtYWwsIDAuMCApICkueHl6O1xuXHQjaWZkZWYgVVNFX1RBTkdFTlRcblx0XHRvYmplY3RUYW5nZW50ID0gdmVjNCggc2tpbk1hdHJpeCAqIHZlYzQoIG9iamVjdFRhbmdlbnQsIDAuMCApICkueHl6O1xuXHQjZW5kaWZcbiNlbmRpZiI7dmFyIHNwZWN1bGFybWFwX2ZyYWdtZW50PSJmbG9hdCBzcGVjdWxhclN0cmVuZ3RoO1xuI2lmZGVmIFVTRV9TUEVDVUxBUk1BUFxuXHR2ZWM0IHRleGVsU3BlY3VsYXIgPSB0ZXh0dXJlMkQoIHNwZWN1bGFyTWFwLCB2VXYgKTtcblx0c3BlY3VsYXJTdHJlbmd0aCA9IHRleGVsU3BlY3VsYXIucjtcbiNlbHNlXG5cdHNwZWN1bGFyU3RyZW5ndGggPSAxLjA7XG4jZW5kaWYiO3ZhciBzcGVjdWxhcm1hcF9wYXJzX2ZyYWdtZW50PSIjaWZkZWYgVVNFX1NQRUNVTEFSTUFQXG5cdHVuaWZvcm0gc2FtcGxlcjJEIHNwZWN1bGFyTWFwO1xuI2VuZGlmIjt2YXIgdG9uZW1hcHBpbmdfZnJhZ21lbnQ9IiNpZiBkZWZpbmVkKCBUT05FX01BUFBJTkcgKVxuXHRnbF9GcmFnQ29sb3IucmdiID0gdG9uZU1hcHBpbmcoIGdsX0ZyYWdDb2xvci5yZ2IgKTtcbiNlbmRpZiI7dmFyIHRvbmVtYXBwaW5nX3BhcnNfZnJhZ21lbnQ9IiNpZm5kZWYgc2F0dXJhdGVcbiNkZWZpbmUgc2F0dXJhdGUoYSkgY2xhbXAoIGEsIDAuMCwgMS4wIClcbiNlbmRpZlxudW5pZm9ybSBmbG9hdCB0b25lTWFwcGluZ0V4cG9zdXJlO1xudW5pZm9ybSBmbG9hdCB0b25lTWFwcGluZ1doaXRlUG9pbnQ7XG52ZWMzIExpbmVhclRvbmVNYXBwaW5nKCB2ZWMzIGNvbG9yICkge1xuXHRyZXR1cm4gdG9uZU1hcHBpbmdFeHBvc3VyZSAqIGNvbG9yO1xufVxudmVjMyBSZWluaGFyZFRvbmVNYXBwaW5nKCB2ZWMzIGNvbG9yICkge1xuXHRjb2xvciAqPSB0b25lTWFwcGluZ0V4cG9zdXJlO1xuXHRyZXR1cm4gc2F0dXJhdGUoIGNvbG9yIC8gKCB2ZWMzKCAxLjAgKSArIGNvbG9yICkgKTtcbn1cbiNkZWZpbmUgVW5jaGFydGVkMkhlbHBlciggeCApIG1heCggKCAoIHggKiAoIDAuMTUgKiB4ICsgMC4xMCAqIDAuNTAgKSArIDAuMjAgKiAwLjAyICkgLyAoIHggKiAoIDAuMTUgKiB4ICsgMC41MCApICsgMC4yMCAqIDAuMzAgKSApIC0gMC4wMiAvIDAuMzAsIHZlYzMoIDAuMCApIClcbnZlYzMgVW5jaGFydGVkMlRvbmVNYXBwaW5nKCB2ZWMzIGNvbG9yICkge1xuXHRjb2xvciAqPSB0b25lTWFwcGluZ0V4cG9zdXJlO1xuXHRyZXR1cm4gc2F0dXJhdGUoIFVuY2hhcnRlZDJIZWxwZXIoIGNvbG9yICkgLyBVbmNoYXJ0ZWQySGVscGVyKCB2ZWMzKCB0b25lTWFwcGluZ1doaXRlUG9pbnQgKSApICk7XG59XG52ZWMzIE9wdGltaXplZENpbmVvblRvbmVNYXBwaW5nKCB2ZWMzIGNvbG9yICkge1xuXHRjb2xvciAqPSB0b25lTWFwcGluZ0V4cG9zdXJlO1xuXHRjb2xvciA9IG1heCggdmVjMyggMC4wICksIGNvbG9yIC0gMC4wMDQgKTtcblx0cmV0dXJuIHBvdyggKCBjb2xvciAqICggNi4yICogY29sb3IgKyAwLjUgKSApIC8gKCBjb2xvciAqICggNi4yICogY29sb3IgKyAxLjcgKSArIDAuMDYgKSwgdmVjMyggMi4yICkgKTtcbn1cbnZlYzMgQUNFU0ZpbG1pY1RvbmVNYXBwaW5nKCB2ZWMzIGNvbG9yICkge1xuXHRjb2xvciAqPSB0b25lTWFwcGluZ0V4cG9zdXJlO1xuXHRyZXR1cm4gc2F0dXJhdGUoICggY29sb3IgKiAoIDIuNTEgKiBjb2xvciArIDAuMDMgKSApIC8gKCBjb2xvciAqICggMi40MyAqIGNvbG9yICsgMC41OSApICsgMC4xNCApICk7XG59Ijt2YXIgdXZfcGFyc19mcmFnbWVudD0iI2lmICggZGVmaW5lZCggVVNFX1VWICkgJiYgISBkZWZpbmVkKCBVVlNfVkVSVEVYX09OTFkgKSApXG5cdHZhcnlpbmcgdmVjMiB2VXY7XG4jZW5kaWYiO3ZhciB1dl9wYXJzX3ZlcnRleD0iI2lmZGVmIFVTRV9VVlxuXHQjaWZkZWYgVVZTX1ZFUlRFWF9PTkxZXG5cdFx0dmVjMiB2VXY7XG5cdCNlbHNlXG5cdFx0dmFyeWluZyB2ZWMyIHZVdjtcblx0I2VuZGlmXG5cdHVuaWZvcm0gbWF0MyB1dlRyYW5zZm9ybTtcbiNlbmRpZiI7dmFyIHV2X3ZlcnRleD0iI2lmZGVmIFVTRV9VVlxuXHR2VXYgPSAoIHV2VHJhbnNmb3JtICogdmVjMyggdXYsIDEgKSApLnh5O1xuI2VuZGlmIjt2YXIgdXYyX3BhcnNfZnJhZ21lbnQ9IiNpZiBkZWZpbmVkKCBVU0VfTElHSFRNQVAgKSB8fCBkZWZpbmVkKCBVU0VfQU9NQVAgKVxuXHR2YXJ5aW5nIHZlYzIgdlV2MjtcbiNlbmRpZiI7dmFyIHV2Ml9wYXJzX3ZlcnRleD0iI2lmIGRlZmluZWQoIFVTRV9MSUdIVE1BUCApIHx8IGRlZmluZWQoIFVTRV9BT01BUCApXG5cdGF0dHJpYnV0ZSB2ZWMyIHV2Mjtcblx0dmFyeWluZyB2ZWMyIHZVdjI7XG5cdHVuaWZvcm0gbWF0MyB1djJUcmFuc2Zvcm07XG4jZW5kaWYiO3ZhciB1djJfdmVydGV4PSIjaWYgZGVmaW5lZCggVVNFX0xJR0hUTUFQICkgfHwgZGVmaW5lZCggVVNFX0FPTUFQIClcblx0dlV2MiA9ICggdXYyVHJhbnNmb3JtICogdmVjMyggdXYyLCAxICkgKS54eTtcbiNlbmRpZiI7dmFyIHdvcmxkcG9zX3ZlcnRleD0iI2lmIGRlZmluZWQoIFVTRV9FTlZNQVAgKSB8fCBkZWZpbmVkKCBESVNUQU5DRSApIHx8IGRlZmluZWQgKCBVU0VfU0hBRE9XTUFQIClcblx0dmVjNCB3b3JsZFBvc2l0aW9uID0gdmVjNCggdHJhbnNmb3JtZWQsIDEuMCApO1xuXHQjaWZkZWYgVVNFX0lOU1RBTkNJTkdcblx0XHR3b3JsZFBvc2l0aW9uID0gaW5zdGFuY2VNYXRyaXggKiB3b3JsZFBvc2l0aW9uO1xuXHQjZW5kaWZcblx0d29ybGRQb3NpdGlvbiA9IG1vZGVsTWF0cml4ICogd29ybGRQb3NpdGlvbjtcbiNlbmRpZiI7dmFyIGJhY2tncm91bmRfZnJhZz0idW5pZm9ybSBzYW1wbGVyMkQgdDJEO1xudmFyeWluZyB2ZWMyIHZVdjtcbnZvaWQgbWFpbigpIHtcblx0dmVjNCB0ZXhDb2xvciA9IHRleHR1cmUyRCggdDJELCB2VXYgKTtcblx0Z2xfRnJhZ0NvbG9yID0gbWFwVGV4ZWxUb0xpbmVhciggdGV4Q29sb3IgKTtcblx0I2luY2x1ZGUgPHRvbmVtYXBwaW5nX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8ZW5jb2RpbmdzX2ZyYWdtZW50PlxufSI7dmFyIGJhY2tncm91bmRfdmVydD0idmFyeWluZyB2ZWMyIHZVdjtcbnVuaWZvcm0gbWF0MyB1dlRyYW5zZm9ybTtcbnZvaWQgbWFpbigpIHtcblx0dlV2ID0gKCB1dlRyYW5zZm9ybSAqIHZlYzMoIHV2LCAxICkgKS54eTtcblx0Z2xfUG9zaXRpb24gPSB2ZWM0KCBwb3NpdGlvbi54eSwgMS4wLCAxLjAgKTtcbn0iO3ZhciBjdWJlX2ZyYWc9IiNpbmNsdWRlIDxlbnZtYXBfY29tbW9uX3BhcnNfZnJhZ21lbnQ+XG51bmlmb3JtIGZsb2F0IG9wYWNpdHk7XG52YXJ5aW5nIHZlYzMgdldvcmxkRGlyZWN0aW9uO1xuI2luY2x1ZGUgPGN1YmVfdXZfcmVmbGVjdGlvbl9mcmFnbWVudD5cbnZvaWQgbWFpbigpIHtcblx0dmVjMyB2UmVmbGVjdCA9IHZXb3JsZERpcmVjdGlvbjtcblx0I2luY2x1ZGUgPGVudm1hcF9mcmFnbWVudD5cblx0Z2xfRnJhZ0NvbG9yID0gZW52Q29sb3I7XG5cdGdsX0ZyYWdDb2xvci5hICo9IG9wYWNpdHk7XG5cdCNpbmNsdWRlIDx0b25lbWFwcGluZ19mcmFnbWVudD5cblx0I2luY2x1ZGUgPGVuY29kaW5nc19mcmFnbWVudD5cbn0iO3ZhciBjdWJlX3ZlcnQ9InZhcnlpbmcgdmVjMyB2V29ybGREaXJlY3Rpb247XG4jaW5jbHVkZSA8Y29tbW9uPlxudm9pZCBtYWluKCkge1xuXHR2V29ybGREaXJlY3Rpb24gPSB0cmFuc2Zvcm1EaXJlY3Rpb24oIHBvc2l0aW9uLCBtb2RlbE1hdHJpeCApO1xuXHQjaW5jbHVkZSA8YmVnaW5fdmVydGV4PlxuXHQjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+XG5cdGdsX1Bvc2l0aW9uLnogPSBnbF9Qb3NpdGlvbi53O1xufSI7dmFyIGRlcHRoX2ZyYWc9IiNpZiBERVBUSF9QQUNLSU5HID09IDMyMDBcblx0dW5pZm9ybSBmbG9hdCBvcGFjaXR5O1xuI2VuZGlmXG4jaW5jbHVkZSA8Y29tbW9uPlxuI2luY2x1ZGUgPHBhY2tpbmc+XG4jaW5jbHVkZSA8dXZfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxhbHBoYW1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfZnJhZ21lbnQ+XG52b2lkIG1haW4oKSB7XG5cdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfZnJhZ21lbnQ+XG5cdHZlYzQgZGlmZnVzZUNvbG9yID0gdmVjNCggMS4wICk7XG5cdCNpZiBERVBUSF9QQUNLSU5HID09IDMyMDBcblx0XHRkaWZmdXNlQ29sb3IuYSA9IG9wYWNpdHk7XG5cdCNlbmRpZlxuXHQjaW5jbHVkZSA8bWFwX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8YWxwaGFtYXBfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxhbHBoYXRlc3RfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9mcmFnbWVudD5cblx0I2lmIERFUFRIX1BBQ0tJTkcgPT0gMzIwMFxuXHRcdGdsX0ZyYWdDb2xvciA9IHZlYzQoIHZlYzMoIDEuMCAtIGdsX0ZyYWdDb29yZC56ICksIG9wYWNpdHkgKTtcblx0I2VsaWYgREVQVEhfUEFDS0lORyA9PSAzMjAxXG5cdFx0Z2xfRnJhZ0NvbG9yID0gcGFja0RlcHRoVG9SR0JBKCBnbF9GcmFnQ29vcmQueiApO1xuXHQjZW5kaWZcbn0iO3ZhciBkZXB0aF92ZXJ0PSIjaW5jbHVkZSA8Y29tbW9uPlxuI2luY2x1ZGUgPHV2X3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGRpc3BsYWNlbWVudG1hcF9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxtb3JwaHRhcmdldF9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxza2lubmluZ19wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc192ZXJ0ZXg+XG52b2lkIG1haW4oKSB7XG5cdCNpbmNsdWRlIDx1dl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxza2luYmFzZV92ZXJ0ZXg+XG5cdCNpZmRlZiBVU0VfRElTUExBQ0VNRU5UTUFQXG5cdFx0I2luY2x1ZGUgPGJlZ2lubm9ybWFsX3ZlcnRleD5cblx0XHQjaW5jbHVkZSA8bW9ycGhub3JtYWxfdmVydGV4PlxuXHRcdCNpbmNsdWRlIDxza2lubm9ybWFsX3ZlcnRleD5cblx0I2VuZGlmXG5cdCNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxtb3JwaHRhcmdldF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxza2lubmluZ192ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxkaXNwbGFjZW1lbnRtYXBfdmVydGV4PlxuXHQjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfdmVydGV4PlxufSI7dmFyIGRpc3RhbmNlUkdCQV9mcmFnPSIjZGVmaW5lIERJU1RBTkNFXG51bmlmb3JtIHZlYzMgcmVmZXJlbmNlUG9zaXRpb247XG51bmlmb3JtIGZsb2F0IG5lYXJEaXN0YW5jZTtcbnVuaWZvcm0gZmxvYXQgZmFyRGlzdGFuY2U7XG52YXJ5aW5nIHZlYzMgdldvcmxkUG9zaXRpb247XG4jaW5jbHVkZSA8Y29tbW9uPlxuI2luY2x1ZGUgPHBhY2tpbmc+XG4jaW5jbHVkZSA8dXZfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxhbHBoYW1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX2ZyYWdtZW50Plxudm9pZCBtYWluICgpIHtcblx0I2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19mcmFnbWVudD5cblx0dmVjNCBkaWZmdXNlQ29sb3IgPSB2ZWM0KCAxLjAgKTtcblx0I2luY2x1ZGUgPG1hcF9mcmFnbWVudD5cblx0I2luY2x1ZGUgPGFscGhhbWFwX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8YWxwaGF0ZXN0X2ZyYWdtZW50PlxuXHRmbG9hdCBkaXN0ID0gbGVuZ3RoKCB2V29ybGRQb3NpdGlvbiAtIHJlZmVyZW5jZVBvc2l0aW9uICk7XG5cdGRpc3QgPSAoIGRpc3QgLSBuZWFyRGlzdGFuY2UgKSAvICggZmFyRGlzdGFuY2UgLSBuZWFyRGlzdGFuY2UgKTtcblx0ZGlzdCA9IHNhdHVyYXRlKCBkaXN0ICk7XG5cdGdsX0ZyYWdDb2xvciA9IHBhY2tEZXB0aFRvUkdCQSggZGlzdCApO1xufSI7dmFyIGRpc3RhbmNlUkdCQV92ZXJ0PSIjZGVmaW5lIERJU1RBTkNFXG52YXJ5aW5nIHZlYzMgdldvcmxkUG9zaXRpb247XG4jaW5jbHVkZSA8Y29tbW9uPlxuI2luY2x1ZGUgPHV2X3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGRpc3BsYWNlbWVudG1hcF9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxtb3JwaHRhcmdldF9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxza2lubmluZ19wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc192ZXJ0ZXg+XG52b2lkIG1haW4oKSB7XG5cdCNpbmNsdWRlIDx1dl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxza2luYmFzZV92ZXJ0ZXg+XG5cdCNpZmRlZiBVU0VfRElTUExBQ0VNRU5UTUFQXG5cdFx0I2luY2x1ZGUgPGJlZ2lubm9ybWFsX3ZlcnRleD5cblx0XHQjaW5jbHVkZSA8bW9ycGhub3JtYWxfdmVydGV4PlxuXHRcdCNpbmNsdWRlIDxza2lubm9ybWFsX3ZlcnRleD5cblx0I2VuZGlmXG5cdCNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxtb3JwaHRhcmdldF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxza2lubmluZ192ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxkaXNwbGFjZW1lbnRtYXBfdmVydGV4PlxuXHQjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDx3b3JsZHBvc192ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfdmVydGV4PlxuXHR2V29ybGRQb3NpdGlvbiA9IHdvcmxkUG9zaXRpb24ueHl6O1xufSI7dmFyIGVxdWlyZWN0X2ZyYWc9InVuaWZvcm0gc2FtcGxlcjJEIHRFcXVpcmVjdDtcbnZhcnlpbmcgdmVjMyB2V29ybGREaXJlY3Rpb247XG4jaW5jbHVkZSA8Y29tbW9uPlxudm9pZCBtYWluKCkge1xuXHR2ZWMzIGRpcmVjdGlvbiA9IG5vcm1hbGl6ZSggdldvcmxkRGlyZWN0aW9uICk7XG5cdHZlYzIgc2FtcGxlVVY7XG5cdHNhbXBsZVVWLnkgPSBhc2luKCBjbGFtcCggZGlyZWN0aW9uLnksIC0gMS4wLCAxLjAgKSApICogUkVDSVBST0NBTF9QSSArIDAuNTtcblx0c2FtcGxlVVYueCA9IGF0YW4oIGRpcmVjdGlvbi56LCBkaXJlY3Rpb24ueCApICogUkVDSVBST0NBTF9QSTIgKyAwLjU7XG5cdHZlYzQgdGV4Q29sb3IgPSB0ZXh0dXJlMkQoIHRFcXVpcmVjdCwgc2FtcGxlVVYgKTtcblx0Z2xfRnJhZ0NvbG9yID0gbWFwVGV4ZWxUb0xpbmVhciggdGV4Q29sb3IgKTtcblx0I2luY2x1ZGUgPHRvbmVtYXBwaW5nX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8ZW5jb2RpbmdzX2ZyYWdtZW50PlxufSI7dmFyIGVxdWlyZWN0X3ZlcnQ9InZhcnlpbmcgdmVjMyB2V29ybGREaXJlY3Rpb247XG4jaW5jbHVkZSA8Y29tbW9uPlxudm9pZCBtYWluKCkge1xuXHR2V29ybGREaXJlY3Rpb24gPSB0cmFuc2Zvcm1EaXJlY3Rpb24oIHBvc2l0aW9uLCBtb2RlbE1hdHJpeCApO1xuXHQjaW5jbHVkZSA8YmVnaW5fdmVydGV4PlxuXHQjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+XG59Ijt2YXIgbGluZWRhc2hlZF9mcmFnPSJ1bmlmb3JtIHZlYzMgZGlmZnVzZTtcbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcbnVuaWZvcm0gZmxvYXQgZGFzaFNpemU7XG51bmlmb3JtIGZsb2F0IHRvdGFsU2l6ZTtcbnZhcnlpbmcgZmxvYXQgdkxpbmVEaXN0YW5jZTtcbiNpbmNsdWRlIDxjb21tb24+XG4jaW5jbHVkZSA8Y29sb3JfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxmb2dfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX2ZyYWdtZW50Plxudm9pZCBtYWluKCkge1xuXHQjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX2ZyYWdtZW50PlxuXHRpZiAoIG1vZCggdkxpbmVEaXN0YW5jZSwgdG90YWxTaXplICkgPiBkYXNoU2l6ZSApIHtcblx0XHRkaXNjYXJkO1xuXHR9XG5cdHZlYzMgb3V0Z29pbmdMaWdodCA9IHZlYzMoIDAuMCApO1xuXHR2ZWM0IGRpZmZ1c2VDb2xvciA9IHZlYzQoIGRpZmZ1c2UsIG9wYWNpdHkgKTtcblx0I2luY2x1ZGUgPGxvZ2RlcHRoYnVmX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8Y29sb3JfZnJhZ21lbnQ+XG5cdG91dGdvaW5nTGlnaHQgPSBkaWZmdXNlQ29sb3IucmdiO1xuXHRnbF9GcmFnQ29sb3IgPSB2ZWM0KCBvdXRnb2luZ0xpZ2h0LCBkaWZmdXNlQ29sb3IuYSApO1xuXHQjaW5jbHVkZSA8cHJlbXVsdGlwbGllZF9hbHBoYV9mcmFnbWVudD5cblx0I2luY2x1ZGUgPHRvbmVtYXBwaW5nX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8ZW5jb2RpbmdzX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8Zm9nX2ZyYWdtZW50PlxufSI7dmFyIGxpbmVkYXNoZWRfdmVydD0idW5pZm9ybSBmbG9hdCBzY2FsZTtcbmF0dHJpYnV0ZSBmbG9hdCBsaW5lRGlzdGFuY2U7XG52YXJ5aW5nIGZsb2F0IHZMaW5lRGlzdGFuY2U7XG4jaW5jbHVkZSA8Y29tbW9uPlxuI2luY2x1ZGUgPGNvbG9yX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGZvZ19wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc192ZXJ0ZXg+XG52b2lkIG1haW4oKSB7XG5cdCNpbmNsdWRlIDxjb2xvcl92ZXJ0ZXg+XG5cdHZMaW5lRGlzdGFuY2UgPSBzY2FsZSAqIGxpbmVEaXN0YW5jZTtcblx0dmVjNCBtdlBvc2l0aW9uID0gbW9kZWxWaWV3TWF0cml4ICogdmVjNCggcG9zaXRpb24sIDEuMCApO1xuXHRnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiBtdlBvc2l0aW9uO1xuXHQjaW5jbHVkZSA8bG9nZGVwdGhidWZfdmVydGV4PlxuXHQjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3ZlcnRleD5cblx0I2luY2x1ZGUgPGZvZ192ZXJ0ZXg+XG59Ijt2YXIgbWVzaGJhc2ljX2ZyYWc9InVuaWZvcm0gdmVjMyBkaWZmdXNlO1xudW5pZm9ybSBmbG9hdCBvcGFjaXR5O1xuI2lmbmRlZiBGTEFUX1NIQURFRFxuXHR2YXJ5aW5nIHZlYzMgdk5vcm1hbDtcbiNlbmRpZlxuI2luY2x1ZGUgPGNvbW1vbj5cbiNpbmNsdWRlIDxjb2xvcl9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPHV2X3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8dXYyX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8bWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8YWxwaGFtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxhb21hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGxpZ2h0bWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8ZW52bWFwX2NvbW1vbl9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGVudm1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGN1YmVfdXZfcmVmbGVjdGlvbl9mcmFnbWVudD5cbiNpbmNsdWRlIDxmb2dfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxzcGVjdWxhcm1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfZnJhZ21lbnQ+XG52b2lkIG1haW4oKSB7XG5cdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfZnJhZ21lbnQ+XG5cdHZlYzQgZGlmZnVzZUNvbG9yID0gdmVjNCggZGlmZnVzZSwgb3BhY2l0eSApO1xuXHQjaW5jbHVkZSA8bG9nZGVwdGhidWZfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxtYXBfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxjb2xvcl9mcmFnbWVudD5cblx0I2luY2x1ZGUgPGFscGhhbWFwX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8YWxwaGF0ZXN0X2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8c3BlY3VsYXJtYXBfZnJhZ21lbnQ+XG5cdFJlZmxlY3RlZExpZ2h0IHJlZmxlY3RlZExpZ2h0ID0gUmVmbGVjdGVkTGlnaHQoIHZlYzMoIDAuMCApLCB2ZWMzKCAwLjAgKSwgdmVjMyggMC4wICksIHZlYzMoIDAuMCApICk7XG5cdCNpZmRlZiBVU0VfTElHSFRNQVBcblx0XG5cdFx0dmVjNCBsaWdodE1hcFRleGVsPSB0ZXh0dXJlMkQoIGxpZ2h0TWFwLCB2VXYyICk7XG5cdFx0cmVmbGVjdGVkTGlnaHQuaW5kaXJlY3REaWZmdXNlICs9IGxpZ2h0TWFwVGV4ZWxUb0xpbmVhciggbGlnaHRNYXBUZXhlbCApLnJnYiAqIGxpZ2h0TWFwSW50ZW5zaXR5O1xuXHQjZWxzZVxuXHRcdHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSArPSB2ZWMzKCAxLjAgKTtcblx0I2VuZGlmXG5cdCNpbmNsdWRlIDxhb21hcF9mcmFnbWVudD5cblx0cmVmbGVjdGVkTGlnaHQuaW5kaXJlY3REaWZmdXNlICo9IGRpZmZ1c2VDb2xvci5yZ2I7XG5cdHZlYzMgb3V0Z29pbmdMaWdodCA9IHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZTtcblx0I2luY2x1ZGUgPGVudm1hcF9mcmFnbWVudD5cblx0Z2xfRnJhZ0NvbG9yID0gdmVjNCggb3V0Z29pbmdMaWdodCwgZGlmZnVzZUNvbG9yLmEgKTtcblx0I2luY2x1ZGUgPHByZW11bHRpcGxpZWRfYWxwaGFfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDx0b25lbWFwcGluZ19mcmFnbWVudD5cblx0I2luY2x1ZGUgPGVuY29kaW5nc19mcmFnbWVudD5cblx0I2luY2x1ZGUgPGZvZ19mcmFnbWVudD5cbn0iO3ZhciBtZXNoYmFzaWNfdmVydD0iI2luY2x1ZGUgPGNvbW1vbj5cbiNpbmNsdWRlIDx1dl9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDx1djJfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8ZW52bWFwX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGNvbG9yX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGZvZ19wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxtb3JwaHRhcmdldF9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxza2lubmluZ19wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc192ZXJ0ZXg+XG52b2lkIG1haW4oKSB7XG5cdCNpbmNsdWRlIDx1dl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDx1djJfdmVydGV4PlxuXHQjaW5jbHVkZSA8Y29sb3JfdmVydGV4PlxuXHQjaW5jbHVkZSA8c2tpbmJhc2VfdmVydGV4PlxuXHQjaWZkZWYgVVNFX0VOVk1BUFxuXHQjaW5jbHVkZSA8YmVnaW5ub3JtYWxfdmVydGV4PlxuXHQjaW5jbHVkZSA8bW9ycGhub3JtYWxfdmVydGV4PlxuXHQjaW5jbHVkZSA8c2tpbm5vcm1hbF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxkZWZhdWx0bm9ybWFsX3ZlcnRleD5cblx0I2VuZGlmXG5cdCNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxtb3JwaHRhcmdldF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxza2lubmluZ192ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxwcm9qZWN0X3ZlcnRleD5cblx0I2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3ZlcnRleD5cblx0I2luY2x1ZGUgPHdvcmxkcG9zX3ZlcnRleD5cblx0I2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc192ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxlbnZtYXBfdmVydGV4PlxuXHQjaW5jbHVkZSA8Zm9nX3ZlcnRleD5cbn0iO3ZhciBtZXNobGFtYmVydF9mcmFnPSJ1bmlmb3JtIHZlYzMgZGlmZnVzZTtcbnVuaWZvcm0gdmVjMyBlbWlzc2l2ZTtcbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcbnZhcnlpbmcgdmVjMyB2TGlnaHRGcm9udDtcbnZhcnlpbmcgdmVjMyB2SW5kaXJlY3RGcm9udDtcbiNpZmRlZiBET1VCTEVfU0lERURcblx0dmFyeWluZyB2ZWMzIHZMaWdodEJhY2s7XG5cdHZhcnlpbmcgdmVjMyB2SW5kaXJlY3RCYWNrO1xuI2VuZGlmXG4jaW5jbHVkZSA8Y29tbW9uPlxuI2luY2x1ZGUgPHBhY2tpbmc+XG4jaW5jbHVkZSA8ZGl0aGVyaW5nX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8Y29sb3JfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDx1dl9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPHV2Ml9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPG1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGFscGhhbWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8YW9tYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxsaWdodG1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGVtaXNzaXZlbWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8ZW52bWFwX2NvbW1vbl9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGVudm1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGN1YmVfdXZfcmVmbGVjdGlvbl9mcmFnbWVudD5cbiNpbmNsdWRlIDxic2Rmcz5cbiNpbmNsdWRlIDxsaWdodHNfcGFyc19iZWdpbj5cbiNpbmNsdWRlIDxmb2dfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxzaGFkb3dtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxzaGFkb3dtYXNrX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8c3BlY3VsYXJtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX2ZyYWdtZW50Plxudm9pZCBtYWluKCkge1xuXHQjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX2ZyYWdtZW50PlxuXHR2ZWM0IGRpZmZ1c2VDb2xvciA9IHZlYzQoIGRpZmZ1c2UsIG9wYWNpdHkgKTtcblx0UmVmbGVjdGVkTGlnaHQgcmVmbGVjdGVkTGlnaHQgPSBSZWZsZWN0ZWRMaWdodCggdmVjMyggMC4wICksIHZlYzMoIDAuMCApLCB2ZWMzKCAwLjAgKSwgdmVjMyggMC4wICkgKTtcblx0dmVjMyB0b3RhbEVtaXNzaXZlUmFkaWFuY2UgPSBlbWlzc2l2ZTtcblx0I2luY2x1ZGUgPGxvZ2RlcHRoYnVmX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8bWFwX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8Y29sb3JfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxhbHBoYW1hcF9mcmFnbWVudD5cblx0I2luY2x1ZGUgPGFscGhhdGVzdF9mcmFnbWVudD5cblx0I2luY2x1ZGUgPHNwZWN1bGFybWFwX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8ZW1pc3NpdmVtYXBfZnJhZ21lbnQ+XG5cdHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSA9IGdldEFtYmllbnRMaWdodElycmFkaWFuY2UoIGFtYmllbnRMaWdodENvbG9yICk7XG5cdCNpZmRlZiBET1VCTEVfU0lERURcblx0XHRyZWZsZWN0ZWRMaWdodC5pbmRpcmVjdERpZmZ1c2UgKz0gKCBnbF9Gcm9udEZhY2luZyApID8gdkluZGlyZWN0RnJvbnQgOiB2SW5kaXJlY3RCYWNrO1xuXHQjZWxzZVxuXHRcdHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSArPSB2SW5kaXJlY3RGcm9udDtcblx0I2VuZGlmXG5cdCNpbmNsdWRlIDxsaWdodG1hcF9mcmFnbWVudD5cblx0cmVmbGVjdGVkTGlnaHQuaW5kaXJlY3REaWZmdXNlICo9IEJSREZfRGlmZnVzZV9MYW1iZXJ0KCBkaWZmdXNlQ29sb3IucmdiICk7XG5cdCNpZmRlZiBET1VCTEVfU0lERURcblx0XHRyZWZsZWN0ZWRMaWdodC5kaXJlY3REaWZmdXNlID0gKCBnbF9Gcm9udEZhY2luZyApID8gdkxpZ2h0RnJvbnQgOiB2TGlnaHRCYWNrO1xuXHQjZWxzZVxuXHRcdHJlZmxlY3RlZExpZ2h0LmRpcmVjdERpZmZ1c2UgPSB2TGlnaHRGcm9udDtcblx0I2VuZGlmXG5cdHJlZmxlY3RlZExpZ2h0LmRpcmVjdERpZmZ1c2UgKj0gQlJERl9EaWZmdXNlX0xhbWJlcnQoIGRpZmZ1c2VDb2xvci5yZ2IgKSAqIGdldFNoYWRvd01hc2soKTtcblx0I2luY2x1ZGUgPGFvbWFwX2ZyYWdtZW50PlxuXHR2ZWMzIG91dGdvaW5nTGlnaHQgPSByZWZsZWN0ZWRMaWdodC5kaXJlY3REaWZmdXNlICsgcmVmbGVjdGVkTGlnaHQuaW5kaXJlY3REaWZmdXNlICsgdG90YWxFbWlzc2l2ZVJhZGlhbmNlO1xuXHQjaW5jbHVkZSA8ZW52bWFwX2ZyYWdtZW50PlxuXHRnbF9GcmFnQ29sb3IgPSB2ZWM0KCBvdXRnb2luZ0xpZ2h0LCBkaWZmdXNlQ29sb3IuYSApO1xuXHQjaW5jbHVkZSA8dG9uZW1hcHBpbmdfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxlbmNvZGluZ3NfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxmb2dfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxwcmVtdWx0aXBsaWVkX2FscGhhX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8ZGl0aGVyaW5nX2ZyYWdtZW50PlxufSI7dmFyIG1lc2hsYW1iZXJ0X3ZlcnQ9IiNkZWZpbmUgTEFNQkVSVFxudmFyeWluZyB2ZWMzIHZMaWdodEZyb250O1xudmFyeWluZyB2ZWMzIHZJbmRpcmVjdEZyb250O1xuI2lmZGVmIERPVUJMRV9TSURFRFxuXHR2YXJ5aW5nIHZlYzMgdkxpZ2h0QmFjaztcblx0dmFyeWluZyB2ZWMzIHZJbmRpcmVjdEJhY2s7XG4jZW5kaWZcbiNpbmNsdWRlIDxjb21tb24+XG4jaW5jbHVkZSA8dXZfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8dXYyX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGVudm1hcF9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxic2Rmcz5cbiNpbmNsdWRlIDxsaWdodHNfcGFyc19iZWdpbj5cbiNpbmNsdWRlIDxjb2xvcl9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxmb2dfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8bW9ycGh0YXJnZXRfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8c2tpbm5pbmdfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8c2hhZG93bWFwX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX3ZlcnRleD5cbnZvaWQgbWFpbigpIHtcblx0I2luY2x1ZGUgPHV2X3ZlcnRleD5cblx0I2luY2x1ZGUgPHV2Ml92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxjb2xvcl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxiZWdpbm5vcm1hbF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxtb3JwaG5vcm1hbF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxza2luYmFzZV92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxza2lubm9ybWFsX3ZlcnRleD5cblx0I2luY2x1ZGUgPGRlZmF1bHRub3JtYWxfdmVydGV4PlxuXHQjaW5jbHVkZSA8YmVnaW5fdmVydGV4PlxuXHQjaW5jbHVkZSA8bW9ycGh0YXJnZXRfdmVydGV4PlxuXHQjaW5jbHVkZSA8c2tpbm5pbmdfdmVydGV4PlxuXHQjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfdmVydGV4PlxuXHQjaW5jbHVkZSA8d29ybGRwb3NfdmVydGV4PlxuXHQjaW5jbHVkZSA8ZW52bWFwX3ZlcnRleD5cblx0I2luY2x1ZGUgPGxpZ2h0c19sYW1iZXJ0X3ZlcnRleD5cblx0I2luY2x1ZGUgPHNoYWRvd21hcF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxmb2dfdmVydGV4PlxufSI7dmFyIG1lc2htYXRjYXBfZnJhZz0iI2RlZmluZSBNQVRDQVBcbnVuaWZvcm0gdmVjMyBkaWZmdXNlO1xudW5pZm9ybSBmbG9hdCBvcGFjaXR5O1xudW5pZm9ybSBzYW1wbGVyMkQgbWF0Y2FwO1xudmFyeWluZyB2ZWMzIHZWaWV3UG9zaXRpb247XG4jaWZuZGVmIEZMQVRfU0hBREVEXG5cdHZhcnlpbmcgdmVjMyB2Tm9ybWFsO1xuI2VuZGlmXG4jaW5jbHVkZSA8Y29tbW9uPlxuI2luY2x1ZGUgPHV2X3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8bWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8YWxwaGFtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxmb2dfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxidW1wbWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8bm9ybWFsbWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc19mcmFnbWVudD5cbnZvaWQgbWFpbigpIHtcblx0I2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19mcmFnbWVudD5cblx0dmVjNCBkaWZmdXNlQ29sb3IgPSB2ZWM0KCBkaWZmdXNlLCBvcGFjaXR5ICk7XG5cdCNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9mcmFnbWVudD5cblx0I2luY2x1ZGUgPG1hcF9mcmFnbWVudD5cblx0I2luY2x1ZGUgPGFscGhhbWFwX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8YWxwaGF0ZXN0X2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8bm9ybWFsX2ZyYWdtZW50X2JlZ2luPlxuXHQjaW5jbHVkZSA8bm9ybWFsX2ZyYWdtZW50X21hcHM+XG5cdHZlYzMgdmlld0RpciA9IG5vcm1hbGl6ZSggdlZpZXdQb3NpdGlvbiApO1xuXHR2ZWMzIHggPSBub3JtYWxpemUoIHZlYzMoIHZpZXdEaXIueiwgMC4wLCAtIHZpZXdEaXIueCApICk7XG5cdHZlYzMgeSA9IGNyb3NzKCB2aWV3RGlyLCB4ICk7XG5cdHZlYzIgdXYgPSB2ZWMyKCBkb3QoIHgsIG5vcm1hbCApLCBkb3QoIHksIG5vcm1hbCApICkgKiAwLjQ5NSArIDAuNTtcblx0I2lmZGVmIFVTRV9NQVRDQVBcblx0XHR2ZWM0IG1hdGNhcENvbG9yID0gdGV4dHVyZTJEKCBtYXRjYXAsIHV2ICk7XG5cdFx0bWF0Y2FwQ29sb3IgPSBtYXRjYXBUZXhlbFRvTGluZWFyKCBtYXRjYXBDb2xvciApO1xuXHQjZWxzZVxuXHRcdHZlYzQgbWF0Y2FwQ29sb3IgPSB2ZWM0KCAxLjAgKTtcblx0I2VuZGlmXG5cdHZlYzMgb3V0Z29pbmdMaWdodCA9IGRpZmZ1c2VDb2xvci5yZ2IgKiBtYXRjYXBDb2xvci5yZ2I7XG5cdGdsX0ZyYWdDb2xvciA9IHZlYzQoIG91dGdvaW5nTGlnaHQsIGRpZmZ1c2VDb2xvci5hICk7XG5cdCNpbmNsdWRlIDxwcmVtdWx0aXBsaWVkX2FscGhhX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8dG9uZW1hcHBpbmdfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxlbmNvZGluZ3NfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxmb2dfZnJhZ21lbnQ+XG59Ijt2YXIgbWVzaG1hdGNhcF92ZXJ0PSIjZGVmaW5lIE1BVENBUFxudmFyeWluZyB2ZWMzIHZWaWV3UG9zaXRpb247XG4jaWZuZGVmIEZMQVRfU0hBREVEXG5cdHZhcnlpbmcgdmVjMyB2Tm9ybWFsO1xuI2VuZGlmXG4jaW5jbHVkZSA8Y29tbW9uPlxuI2luY2x1ZGUgPHV2X3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGRpc3BsYWNlbWVudG1hcF9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxmb2dfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8bW9ycGh0YXJnZXRfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8c2tpbm5pbmdfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfdmVydGV4Plxudm9pZCBtYWluKCkge1xuXHQjaW5jbHVkZSA8dXZfdmVydGV4PlxuXHQjaW5jbHVkZSA8YmVnaW5ub3JtYWxfdmVydGV4PlxuXHQjaW5jbHVkZSA8bW9ycGhub3JtYWxfdmVydGV4PlxuXHQjaW5jbHVkZSA8c2tpbmJhc2VfdmVydGV4PlxuXHQjaW5jbHVkZSA8c2tpbm5vcm1hbF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxkZWZhdWx0bm9ybWFsX3ZlcnRleD5cblx0I2lmbmRlZiBGTEFUX1NIQURFRFxuXHRcdHZOb3JtYWwgPSBub3JtYWxpemUoIHRyYW5zZm9ybWVkTm9ybWFsICk7XG5cdCNlbmRpZlxuXHQjaW5jbHVkZSA8YmVnaW5fdmVydGV4PlxuXHQjaW5jbHVkZSA8bW9ycGh0YXJnZXRfdmVydGV4PlxuXHQjaW5jbHVkZSA8c2tpbm5pbmdfdmVydGV4PlxuXHQjaW5jbHVkZSA8ZGlzcGxhY2VtZW50bWFwX3ZlcnRleD5cblx0I2luY2x1ZGUgPHByb2plY3RfdmVydGV4PlxuXHQjaW5jbHVkZSA8bG9nZGVwdGhidWZfdmVydGV4PlxuXHQjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3ZlcnRleD5cblx0I2luY2x1ZGUgPGZvZ192ZXJ0ZXg+XG5cdHZWaWV3UG9zaXRpb24gPSAtIG12UG9zaXRpb24ueHl6O1xufSI7dmFyIG1lc2h0b29uX2ZyYWc9IiNkZWZpbmUgVE9PTlxudW5pZm9ybSB2ZWMzIGRpZmZ1c2U7XG51bmlmb3JtIHZlYzMgZW1pc3NpdmU7XG51bmlmb3JtIHZlYzMgc3BlY3VsYXI7XG51bmlmb3JtIGZsb2F0IHNoaW5pbmVzcztcbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcbiNpbmNsdWRlIDxjb21tb24+XG4jaW5jbHVkZSA8cGFja2luZz5cbiNpbmNsdWRlIDxkaXRoZXJpbmdfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxjb2xvcl9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPHV2X3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8dXYyX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8bWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8YWxwaGFtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxhb21hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGxpZ2h0bWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8ZW1pc3NpdmVtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxncmFkaWVudG1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGZvZ19wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGJzZGZzPlxuI2luY2x1ZGUgPGxpZ2h0c19wYXJzX2JlZ2luPlxuI2luY2x1ZGUgPGxpZ2h0c190b29uX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8c2hhZG93bWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8YnVtcG1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPG5vcm1hbG1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPHNwZWN1bGFybWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc19mcmFnbWVudD5cbnZvaWQgbWFpbigpIHtcblx0I2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19mcmFnbWVudD5cblx0dmVjNCBkaWZmdXNlQ29sb3IgPSB2ZWM0KCBkaWZmdXNlLCBvcGFjaXR5ICk7XG5cdFJlZmxlY3RlZExpZ2h0IHJlZmxlY3RlZExpZ2h0ID0gUmVmbGVjdGVkTGlnaHQoIHZlYzMoIDAuMCApLCB2ZWMzKCAwLjAgKSwgdmVjMyggMC4wICksIHZlYzMoIDAuMCApICk7XG5cdHZlYzMgdG90YWxFbWlzc2l2ZVJhZGlhbmNlID0gZW1pc3NpdmU7XG5cdCNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9mcmFnbWVudD5cblx0I2luY2x1ZGUgPG1hcF9mcmFnbWVudD5cblx0I2luY2x1ZGUgPGNvbG9yX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8YWxwaGFtYXBfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxhbHBoYXRlc3RfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxzcGVjdWxhcm1hcF9mcmFnbWVudD5cblx0I2luY2x1ZGUgPG5vcm1hbF9mcmFnbWVudF9iZWdpbj5cblx0I2luY2x1ZGUgPG5vcm1hbF9mcmFnbWVudF9tYXBzPlxuXHQjaW5jbHVkZSA8ZW1pc3NpdmVtYXBfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxsaWdodHNfdG9vbl9mcmFnbWVudD5cblx0I2luY2x1ZGUgPGxpZ2h0c19mcmFnbWVudF9iZWdpbj5cblx0I2luY2x1ZGUgPGxpZ2h0c19mcmFnbWVudF9tYXBzPlxuXHQjaW5jbHVkZSA8bGlnaHRzX2ZyYWdtZW50X2VuZD5cblx0I2luY2x1ZGUgPGFvbWFwX2ZyYWdtZW50PlxuXHR2ZWMzIG91dGdvaW5nTGlnaHQgPSByZWZsZWN0ZWRMaWdodC5kaXJlY3REaWZmdXNlICsgcmVmbGVjdGVkTGlnaHQuaW5kaXJlY3REaWZmdXNlICsgcmVmbGVjdGVkTGlnaHQuZGlyZWN0U3BlY3VsYXIgKyByZWZsZWN0ZWRMaWdodC5pbmRpcmVjdFNwZWN1bGFyICsgdG90YWxFbWlzc2l2ZVJhZGlhbmNlO1xuXHRnbF9GcmFnQ29sb3IgPSB2ZWM0KCBvdXRnb2luZ0xpZ2h0LCBkaWZmdXNlQ29sb3IuYSApO1xuXHQjaW5jbHVkZSA8dG9uZW1hcHBpbmdfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxlbmNvZGluZ3NfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxmb2dfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxwcmVtdWx0aXBsaWVkX2FscGhhX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8ZGl0aGVyaW5nX2ZyYWdtZW50PlxufSI7dmFyIG1lc2h0b29uX3ZlcnQ9IiNkZWZpbmUgVE9PTlxudmFyeWluZyB2ZWMzIHZWaWV3UG9zaXRpb247XG4jaWZuZGVmIEZMQVRfU0hBREVEXG5cdHZhcnlpbmcgdmVjMyB2Tm9ybWFsO1xuI2VuZGlmXG4jaW5jbHVkZSA8Y29tbW9uPlxuI2luY2x1ZGUgPHV2X3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPHV2Ml9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxkaXNwbGFjZW1lbnRtYXBfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8Y29sb3JfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8Zm9nX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPG1vcnBodGFyZ2V0X3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPHNraW5uaW5nX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPHNoYWRvd21hcF9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc192ZXJ0ZXg+XG52b2lkIG1haW4oKSB7XG5cdCNpbmNsdWRlIDx1dl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDx1djJfdmVydGV4PlxuXHQjaW5jbHVkZSA8Y29sb3JfdmVydGV4PlxuXHQjaW5jbHVkZSA8YmVnaW5ub3JtYWxfdmVydGV4PlxuXHQjaW5jbHVkZSA8bW9ycGhub3JtYWxfdmVydGV4PlxuXHQjaW5jbHVkZSA8c2tpbmJhc2VfdmVydGV4PlxuXHQjaW5jbHVkZSA8c2tpbm5vcm1hbF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxkZWZhdWx0bm9ybWFsX3ZlcnRleD5cbiNpZm5kZWYgRkxBVF9TSEFERURcblx0dk5vcm1hbCA9IG5vcm1hbGl6ZSggdHJhbnNmb3JtZWROb3JtYWwgKTtcbiNlbmRpZlxuXHQjaW5jbHVkZSA8YmVnaW5fdmVydGV4PlxuXHQjaW5jbHVkZSA8bW9ycGh0YXJnZXRfdmVydGV4PlxuXHQjaW5jbHVkZSA8c2tpbm5pbmdfdmVydGV4PlxuXHQjaW5jbHVkZSA8ZGlzcGxhY2VtZW50bWFwX3ZlcnRleD5cblx0I2luY2x1ZGUgPHByb2plY3RfdmVydGV4PlxuXHQjaW5jbHVkZSA8bG9nZGVwdGhidWZfdmVydGV4PlxuXHQjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3ZlcnRleD5cblx0dlZpZXdQb3NpdGlvbiA9IC0gbXZQb3NpdGlvbi54eXo7XG5cdCNpbmNsdWRlIDx3b3JsZHBvc192ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxzaGFkb3dtYXBfdmVydGV4PlxuXHQjaW5jbHVkZSA8Zm9nX3ZlcnRleD5cbn0iO3ZhciBtZXNocGhvbmdfZnJhZz0iI2RlZmluZSBQSE9OR1xudW5pZm9ybSB2ZWMzIGRpZmZ1c2U7XG51bmlmb3JtIHZlYzMgZW1pc3NpdmU7XG51bmlmb3JtIHZlYzMgc3BlY3VsYXI7XG51bmlmb3JtIGZsb2F0IHNoaW5pbmVzcztcbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcbiNpbmNsdWRlIDxjb21tb24+XG4jaW5jbHVkZSA8cGFja2luZz5cbiNpbmNsdWRlIDxkaXRoZXJpbmdfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxjb2xvcl9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPHV2X3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8dXYyX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8bWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8YWxwaGFtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxhb21hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGxpZ2h0bWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8ZW1pc3NpdmVtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxlbnZtYXBfY29tbW9uX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8ZW52bWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8Y3ViZV91dl9yZWZsZWN0aW9uX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGZvZ19wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGJzZGZzPlxuI2luY2x1ZGUgPGxpZ2h0c19wYXJzX2JlZ2luPlxuI2luY2x1ZGUgPGxpZ2h0c19waG9uZ19wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPHNoYWRvd21hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGJ1bXBtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxub3JtYWxtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxzcGVjdWxhcm1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfZnJhZ21lbnQ+XG52b2lkIG1haW4oKSB7XG5cdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfZnJhZ21lbnQ+XG5cdHZlYzQgZGlmZnVzZUNvbG9yID0gdmVjNCggZGlmZnVzZSwgb3BhY2l0eSApO1xuXHRSZWZsZWN0ZWRMaWdodCByZWZsZWN0ZWRMaWdodCA9IFJlZmxlY3RlZExpZ2h0KCB2ZWMzKCAwLjAgKSwgdmVjMyggMC4wICksIHZlYzMoIDAuMCApLCB2ZWMzKCAwLjAgKSApO1xuXHR2ZWMzIHRvdGFsRW1pc3NpdmVSYWRpYW5jZSA9IGVtaXNzaXZlO1xuXHQjaW5jbHVkZSA8bG9nZGVwdGhidWZfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxtYXBfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxjb2xvcl9mcmFnbWVudD5cblx0I2luY2x1ZGUgPGFscGhhbWFwX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8YWxwaGF0ZXN0X2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8c3BlY3VsYXJtYXBfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxub3JtYWxfZnJhZ21lbnRfYmVnaW4+XG5cdCNpbmNsdWRlIDxub3JtYWxfZnJhZ21lbnRfbWFwcz5cblx0I2luY2x1ZGUgPGVtaXNzaXZlbWFwX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8bGlnaHRzX3Bob25nX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8bGlnaHRzX2ZyYWdtZW50X2JlZ2luPlxuXHQjaW5jbHVkZSA8bGlnaHRzX2ZyYWdtZW50X21hcHM+XG5cdCNpbmNsdWRlIDxsaWdodHNfZnJhZ21lbnRfZW5kPlxuXHQjaW5jbHVkZSA8YW9tYXBfZnJhZ21lbnQ+XG5cdHZlYzMgb3V0Z29pbmdMaWdodCA9IHJlZmxlY3RlZExpZ2h0LmRpcmVjdERpZmZ1c2UgKyByZWZsZWN0ZWRMaWdodC5pbmRpcmVjdERpZmZ1c2UgKyByZWZsZWN0ZWRMaWdodC5kaXJlY3RTcGVjdWxhciArIHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0U3BlY3VsYXIgKyB0b3RhbEVtaXNzaXZlUmFkaWFuY2U7XG5cdCNpbmNsdWRlIDxlbnZtYXBfZnJhZ21lbnQ+XG5cdGdsX0ZyYWdDb2xvciA9IHZlYzQoIG91dGdvaW5nTGlnaHQsIGRpZmZ1c2VDb2xvci5hICk7XG5cdCNpbmNsdWRlIDx0b25lbWFwcGluZ19mcmFnbWVudD5cblx0I2luY2x1ZGUgPGVuY29kaW5nc19mcmFnbWVudD5cblx0I2luY2x1ZGUgPGZvZ19mcmFnbWVudD5cblx0I2luY2x1ZGUgPHByZW11bHRpcGxpZWRfYWxwaGFfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxkaXRoZXJpbmdfZnJhZ21lbnQ+XG59Ijt2YXIgbWVzaHBob25nX3ZlcnQ9IiNkZWZpbmUgUEhPTkdcbnZhcnlpbmcgdmVjMyB2Vmlld1Bvc2l0aW9uO1xuI2lmbmRlZiBGTEFUX1NIQURFRFxuXHR2YXJ5aW5nIHZlYzMgdk5vcm1hbDtcbiNlbmRpZlxuI2luY2x1ZGUgPGNvbW1vbj5cbiNpbmNsdWRlIDx1dl9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDx1djJfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8ZGlzcGxhY2VtZW50bWFwX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGVudm1hcF9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxjb2xvcl9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxmb2dfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8bW9ycGh0YXJnZXRfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8c2tpbm5pbmdfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8c2hhZG93bWFwX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX3ZlcnRleD5cbnZvaWQgbWFpbigpIHtcblx0I2luY2x1ZGUgPHV2X3ZlcnRleD5cblx0I2luY2x1ZGUgPHV2Ml92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxjb2xvcl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxiZWdpbm5vcm1hbF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxtb3JwaG5vcm1hbF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxza2luYmFzZV92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxza2lubm9ybWFsX3ZlcnRleD5cblx0I2luY2x1ZGUgPGRlZmF1bHRub3JtYWxfdmVydGV4PlxuI2lmbmRlZiBGTEFUX1NIQURFRFxuXHR2Tm9ybWFsID0gbm9ybWFsaXplKCB0cmFuc2Zvcm1lZE5vcm1hbCApO1xuI2VuZGlmXG5cdCNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxtb3JwaHRhcmdldF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxza2lubmluZ192ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxkaXNwbGFjZW1lbnRtYXBfdmVydGV4PlxuXHQjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfdmVydGV4PlxuXHR2Vmlld1Bvc2l0aW9uID0gLSBtdlBvc2l0aW9uLnh5ejtcblx0I2luY2x1ZGUgPHdvcmxkcG9zX3ZlcnRleD5cblx0I2luY2x1ZGUgPGVudm1hcF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxzaGFkb3dtYXBfdmVydGV4PlxuXHQjaW5jbHVkZSA8Zm9nX3ZlcnRleD5cbn0iO3ZhciBtZXNocGh5c2ljYWxfZnJhZz0iI2RlZmluZSBTVEFOREFSRFxuI2lmZGVmIFBIWVNJQ0FMXG5cdCNkZWZpbmUgUkVGTEVDVElWSVRZXG5cdCNkZWZpbmUgQ0xFQVJDT0FUXG5cdCNkZWZpbmUgVFJBTlNQQVJFTkNZXG4jZW5kaWZcbnVuaWZvcm0gdmVjMyBkaWZmdXNlO1xudW5pZm9ybSB2ZWMzIGVtaXNzaXZlO1xudW5pZm9ybSBmbG9hdCByb3VnaG5lc3M7XG51bmlmb3JtIGZsb2F0IG1ldGFsbmVzcztcbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcbiNpZmRlZiBUUkFOU1BBUkVOQ1lcblx0dW5pZm9ybSBmbG9hdCB0cmFuc3BhcmVuY3k7XG4jZW5kaWZcbiNpZmRlZiBSRUZMRUNUSVZJVFlcblx0dW5pZm9ybSBmbG9hdCByZWZsZWN0aXZpdHk7XG4jZW5kaWZcbiNpZmRlZiBDTEVBUkNPQVRcblx0dW5pZm9ybSBmbG9hdCBjbGVhcmNvYXQ7XG5cdHVuaWZvcm0gZmxvYXQgY2xlYXJjb2F0Um91Z2huZXNzO1xuI2VuZGlmXG4jaWZkZWYgVVNFX1NIRUVOXG5cdHVuaWZvcm0gdmVjMyBzaGVlbjtcbiNlbmRpZlxudmFyeWluZyB2ZWMzIHZWaWV3UG9zaXRpb247XG4jaWZuZGVmIEZMQVRfU0hBREVEXG5cdHZhcnlpbmcgdmVjMyB2Tm9ybWFsO1xuXHQjaWZkZWYgVVNFX1RBTkdFTlRcblx0XHR2YXJ5aW5nIHZlYzMgdlRhbmdlbnQ7XG5cdFx0dmFyeWluZyB2ZWMzIHZCaXRhbmdlbnQ7XG5cdCNlbmRpZlxuI2VuZGlmXG4jaW5jbHVkZSA8Y29tbW9uPlxuI2luY2x1ZGUgPHBhY2tpbmc+XG4jaW5jbHVkZSA8ZGl0aGVyaW5nX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8Y29sb3JfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDx1dl9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPHV2Ml9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPG1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGFscGhhbWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8YW9tYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxsaWdodG1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGVtaXNzaXZlbWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8YnNkZnM+XG4jaW5jbHVkZSA8Y3ViZV91dl9yZWZsZWN0aW9uX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGVudm1hcF9jb21tb25fcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxlbnZtYXBfcGh5c2ljYWxfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxmb2dfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxsaWdodHNfcGFyc19iZWdpbj5cbiNpbmNsdWRlIDxsaWdodHNfcGh5c2ljYWxfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxzaGFkb3dtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxidW1wbWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8bm9ybWFsbWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8Y2xlYXJjb2F0X25vcm1hbG1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPHJvdWdobmVzc21hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPG1ldGFsbmVzc21hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfZnJhZ21lbnQ+XG52b2lkIG1haW4oKSB7XG5cdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfZnJhZ21lbnQ+XG5cdHZlYzQgZGlmZnVzZUNvbG9yID0gdmVjNCggZGlmZnVzZSwgb3BhY2l0eSApO1xuXHRSZWZsZWN0ZWRMaWdodCByZWZsZWN0ZWRMaWdodCA9IFJlZmxlY3RlZExpZ2h0KCB2ZWMzKCAwLjAgKSwgdmVjMyggMC4wICksIHZlYzMoIDAuMCApLCB2ZWMzKCAwLjAgKSApO1xuXHR2ZWMzIHRvdGFsRW1pc3NpdmVSYWRpYW5jZSA9IGVtaXNzaXZlO1xuXHQjaW5jbHVkZSA8bG9nZGVwdGhidWZfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxtYXBfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxjb2xvcl9mcmFnbWVudD5cblx0I2luY2x1ZGUgPGFscGhhbWFwX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8YWxwaGF0ZXN0X2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8cm91Z2huZXNzbWFwX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8bWV0YWxuZXNzbWFwX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8bm9ybWFsX2ZyYWdtZW50X2JlZ2luPlxuXHQjaW5jbHVkZSA8bm9ybWFsX2ZyYWdtZW50X21hcHM+XG5cdCNpbmNsdWRlIDxjbGVhcmNvYXRfbm9ybWFsX2ZyYWdtZW50X2JlZ2luPlxuXHQjaW5jbHVkZSA8Y2xlYXJjb2F0X25vcm1hbF9mcmFnbWVudF9tYXBzPlxuXHQjaW5jbHVkZSA8ZW1pc3NpdmVtYXBfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxsaWdodHNfcGh5c2ljYWxfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxsaWdodHNfZnJhZ21lbnRfYmVnaW4+XG5cdCNpbmNsdWRlIDxsaWdodHNfZnJhZ21lbnRfbWFwcz5cblx0I2luY2x1ZGUgPGxpZ2h0c19mcmFnbWVudF9lbmQ+XG5cdCNpbmNsdWRlIDxhb21hcF9mcmFnbWVudD5cblx0dmVjMyBvdXRnb2luZ0xpZ2h0ID0gcmVmbGVjdGVkTGlnaHQuZGlyZWN0RGlmZnVzZSArIHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSArIHJlZmxlY3RlZExpZ2h0LmRpcmVjdFNwZWN1bGFyICsgcmVmbGVjdGVkTGlnaHQuaW5kaXJlY3RTcGVjdWxhciArIHRvdGFsRW1pc3NpdmVSYWRpYW5jZTtcblx0I2lmZGVmIFRSQU5TUEFSRU5DWVxuXHRcdGRpZmZ1c2VDb2xvci5hICo9IHNhdHVyYXRlKCAxLiAtIHRyYW5zcGFyZW5jeSArIGxpbmVhclRvUmVsYXRpdmVMdW1pbmFuY2UoIHJlZmxlY3RlZExpZ2h0LmRpcmVjdFNwZWN1bGFyICsgcmVmbGVjdGVkTGlnaHQuaW5kaXJlY3RTcGVjdWxhciApICk7XG5cdCNlbmRpZlxuXHRnbF9GcmFnQ29sb3IgPSB2ZWM0KCBvdXRnb2luZ0xpZ2h0LCBkaWZmdXNlQ29sb3IuYSApO1xuXHQjaW5jbHVkZSA8dG9uZW1hcHBpbmdfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxlbmNvZGluZ3NfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxmb2dfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxwcmVtdWx0aXBsaWVkX2FscGhhX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8ZGl0aGVyaW5nX2ZyYWdtZW50PlxufSI7dmFyIG1lc2hwaHlzaWNhbF92ZXJ0PSIjZGVmaW5lIFNUQU5EQVJEXG52YXJ5aW5nIHZlYzMgdlZpZXdQb3NpdGlvbjtcbiNpZm5kZWYgRkxBVF9TSEFERURcblx0dmFyeWluZyB2ZWMzIHZOb3JtYWw7XG5cdCNpZmRlZiBVU0VfVEFOR0VOVFxuXHRcdHZhcnlpbmcgdmVjMyB2VGFuZ2VudDtcblx0XHR2YXJ5aW5nIHZlYzMgdkJpdGFuZ2VudDtcblx0I2VuZGlmXG4jZW5kaWZcbiNpbmNsdWRlIDxjb21tb24+XG4jaW5jbHVkZSA8dXZfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8dXYyX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGRpc3BsYWNlbWVudG1hcF9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxjb2xvcl9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxmb2dfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8bW9ycGh0YXJnZXRfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8c2tpbm5pbmdfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8c2hhZG93bWFwX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX3ZlcnRleD5cbnZvaWQgbWFpbigpIHtcblx0I2luY2x1ZGUgPHV2X3ZlcnRleD5cblx0I2luY2x1ZGUgPHV2Ml92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxjb2xvcl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxiZWdpbm5vcm1hbF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxtb3JwaG5vcm1hbF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxza2luYmFzZV92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxza2lubm9ybWFsX3ZlcnRleD5cblx0I2luY2x1ZGUgPGRlZmF1bHRub3JtYWxfdmVydGV4PlxuI2lmbmRlZiBGTEFUX1NIQURFRFxuXHR2Tm9ybWFsID0gbm9ybWFsaXplKCB0cmFuc2Zvcm1lZE5vcm1hbCApO1xuXHQjaWZkZWYgVVNFX1RBTkdFTlRcblx0XHR2VGFuZ2VudCA9IG5vcm1hbGl6ZSggdHJhbnNmb3JtZWRUYW5nZW50ICk7XG5cdFx0dkJpdGFuZ2VudCA9IG5vcm1hbGl6ZSggY3Jvc3MoIHZOb3JtYWwsIHZUYW5nZW50ICkgKiB0YW5nZW50LncgKTtcblx0I2VuZGlmXG4jZW5kaWZcblx0I2luY2x1ZGUgPGJlZ2luX3ZlcnRleD5cblx0I2luY2x1ZGUgPG1vcnBodGFyZ2V0X3ZlcnRleD5cblx0I2luY2x1ZGUgPHNraW5uaW5nX3ZlcnRleD5cblx0I2luY2x1ZGUgPGRpc3BsYWNlbWVudG1hcF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxwcm9qZWN0X3ZlcnRleD5cblx0I2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3ZlcnRleD5cblx0I2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc192ZXJ0ZXg+XG5cdHZWaWV3UG9zaXRpb24gPSAtIG12UG9zaXRpb24ueHl6O1xuXHQjaW5jbHVkZSA8d29ybGRwb3NfdmVydGV4PlxuXHQjaW5jbHVkZSA8c2hhZG93bWFwX3ZlcnRleD5cblx0I2luY2x1ZGUgPGZvZ192ZXJ0ZXg+XG59Ijt2YXIgbm9ybWFsX2ZyYWc9IiNkZWZpbmUgTk9STUFMXG51bmlmb3JtIGZsb2F0IG9wYWNpdHk7XG4jaWYgZGVmaW5lZCggRkxBVF9TSEFERUQgKSB8fCBkZWZpbmVkKCBVU0VfQlVNUE1BUCApIHx8IGRlZmluZWQoIFRBTkdFTlRTUEFDRV9OT1JNQUxNQVAgKVxuXHR2YXJ5aW5nIHZlYzMgdlZpZXdQb3NpdGlvbjtcbiNlbmRpZlxuI2lmbmRlZiBGTEFUX1NIQURFRFxuXHR2YXJ5aW5nIHZlYzMgdk5vcm1hbDtcblx0I2lmZGVmIFVTRV9UQU5HRU5UXG5cdFx0dmFyeWluZyB2ZWMzIHZUYW5nZW50O1xuXHRcdHZhcnlpbmcgdmVjMyB2Qml0YW5nZW50O1xuXHQjZW5kaWZcbiNlbmRpZlxuI2luY2x1ZGUgPHBhY2tpbmc+XG4jaW5jbHVkZSA8dXZfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxidW1wbWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8bm9ybWFsbWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc19mcmFnbWVudD5cbnZvaWQgbWFpbigpIHtcblx0I2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19mcmFnbWVudD5cblx0I2luY2x1ZGUgPGxvZ2RlcHRoYnVmX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8bm9ybWFsX2ZyYWdtZW50X2JlZ2luPlxuXHQjaW5jbHVkZSA8bm9ybWFsX2ZyYWdtZW50X21hcHM+XG5cdGdsX0ZyYWdDb2xvciA9IHZlYzQoIHBhY2tOb3JtYWxUb1JHQiggbm9ybWFsICksIG9wYWNpdHkgKTtcbn0iO3ZhciBub3JtYWxfdmVydD0iI2RlZmluZSBOT1JNQUxcbiNpZiBkZWZpbmVkKCBGTEFUX1NIQURFRCApIHx8IGRlZmluZWQoIFVTRV9CVU1QTUFQICkgfHwgZGVmaW5lZCggVEFOR0VOVFNQQUNFX05PUk1BTE1BUCApXG5cdHZhcnlpbmcgdmVjMyB2Vmlld1Bvc2l0aW9uO1xuI2VuZGlmXG4jaWZuZGVmIEZMQVRfU0hBREVEXG5cdHZhcnlpbmcgdmVjMyB2Tm9ybWFsO1xuXHQjaWZkZWYgVVNFX1RBTkdFTlRcblx0XHR2YXJ5aW5nIHZlYzMgdlRhbmdlbnQ7XG5cdFx0dmFyeWluZyB2ZWMzIHZCaXRhbmdlbnQ7XG5cdCNlbmRpZlxuI2VuZGlmXG4jaW5jbHVkZSA8Y29tbW9uPlxuI2luY2x1ZGUgPHV2X3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGRpc3BsYWNlbWVudG1hcF9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxtb3JwaHRhcmdldF9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxza2lubmluZ19wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc192ZXJ0ZXg+XG52b2lkIG1haW4oKSB7XG5cdCNpbmNsdWRlIDx1dl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxiZWdpbm5vcm1hbF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxtb3JwaG5vcm1hbF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxza2luYmFzZV92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxza2lubm9ybWFsX3ZlcnRleD5cblx0I2luY2x1ZGUgPGRlZmF1bHRub3JtYWxfdmVydGV4PlxuI2lmbmRlZiBGTEFUX1NIQURFRFxuXHR2Tm9ybWFsID0gbm9ybWFsaXplKCB0cmFuc2Zvcm1lZE5vcm1hbCApO1xuXHQjaWZkZWYgVVNFX1RBTkdFTlRcblx0XHR2VGFuZ2VudCA9IG5vcm1hbGl6ZSggdHJhbnNmb3JtZWRUYW5nZW50ICk7XG5cdFx0dkJpdGFuZ2VudCA9IG5vcm1hbGl6ZSggY3Jvc3MoIHZOb3JtYWwsIHZUYW5nZW50ICkgKiB0YW5nZW50LncgKTtcblx0I2VuZGlmXG4jZW5kaWZcblx0I2luY2x1ZGUgPGJlZ2luX3ZlcnRleD5cblx0I2luY2x1ZGUgPG1vcnBodGFyZ2V0X3ZlcnRleD5cblx0I2luY2x1ZGUgPHNraW5uaW5nX3ZlcnRleD5cblx0I2luY2x1ZGUgPGRpc3BsYWNlbWVudG1hcF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxwcm9qZWN0X3ZlcnRleD5cblx0I2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3ZlcnRleD5cblx0I2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc192ZXJ0ZXg+XG4jaWYgZGVmaW5lZCggRkxBVF9TSEFERUQgKSB8fCBkZWZpbmVkKCBVU0VfQlVNUE1BUCApIHx8IGRlZmluZWQoIFRBTkdFTlRTUEFDRV9OT1JNQUxNQVAgKVxuXHR2Vmlld1Bvc2l0aW9uID0gLSBtdlBvc2l0aW9uLnh5ejtcbiNlbmRpZlxufSI7dmFyIHBvaW50c19mcmFnPSJ1bmlmb3JtIHZlYzMgZGlmZnVzZTtcbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcbiNpbmNsdWRlIDxjb21tb24+XG4jaW5jbHVkZSA8Y29sb3JfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxtYXBfcGFydGljbGVfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxmb2dfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX2ZyYWdtZW50Plxudm9pZCBtYWluKCkge1xuXHQjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX2ZyYWdtZW50PlxuXHR2ZWMzIG91dGdvaW5nTGlnaHQgPSB2ZWMzKCAwLjAgKTtcblx0dmVjNCBkaWZmdXNlQ29sb3IgPSB2ZWM0KCBkaWZmdXNlLCBvcGFjaXR5ICk7XG5cdCNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9mcmFnbWVudD5cblx0I2luY2x1ZGUgPG1hcF9wYXJ0aWNsZV9mcmFnbWVudD5cblx0I2luY2x1ZGUgPGNvbG9yX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8YWxwaGF0ZXN0X2ZyYWdtZW50PlxuXHRvdXRnb2luZ0xpZ2h0ID0gZGlmZnVzZUNvbG9yLnJnYjtcblx0Z2xfRnJhZ0NvbG9yID0gdmVjNCggb3V0Z29pbmdMaWdodCwgZGlmZnVzZUNvbG9yLmEgKTtcblx0I2luY2x1ZGUgPHByZW11bHRpcGxpZWRfYWxwaGFfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDx0b25lbWFwcGluZ19mcmFnbWVudD5cblx0I2luY2x1ZGUgPGVuY29kaW5nc19mcmFnbWVudD5cblx0I2luY2x1ZGUgPGZvZ19mcmFnbWVudD5cbn0iO3ZhciBwb2ludHNfdmVydD0idW5pZm9ybSBmbG9hdCBzaXplO1xudW5pZm9ybSBmbG9hdCBzY2FsZTtcbiNpbmNsdWRlIDxjb21tb24+XG4jaW5jbHVkZSA8Y29sb3JfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8Zm9nX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPG1vcnBodGFyZ2V0X3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX3ZlcnRleD5cbnZvaWQgbWFpbigpIHtcblx0I2luY2x1ZGUgPGNvbG9yX3ZlcnRleD5cblx0I2luY2x1ZGUgPGJlZ2luX3ZlcnRleD5cblx0I2luY2x1ZGUgPG1vcnBodGFyZ2V0X3ZlcnRleD5cblx0I2luY2x1ZGUgPHByb2plY3RfdmVydGV4PlxuXHRnbF9Qb2ludFNpemUgPSBzaXplO1xuXHQjaWZkZWYgVVNFX1NJWkVBVFRFTlVBVElPTlxuXHRcdGJvb2wgaXNQZXJzcGVjdGl2ZSA9IGlzUGVyc3BlY3RpdmVNYXRyaXgoIHByb2plY3Rpb25NYXRyaXggKTtcblx0XHRpZiAoIGlzUGVyc3BlY3RpdmUgKSBnbF9Qb2ludFNpemUgKj0gKCBzY2FsZSAvIC0gbXZQb3NpdGlvbi56ICk7XG5cdCNlbmRpZlxuXHQjaW5jbHVkZSA8bG9nZGVwdGhidWZfdmVydGV4PlxuXHQjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3ZlcnRleD5cblx0I2luY2x1ZGUgPHdvcmxkcG9zX3ZlcnRleD5cblx0I2luY2x1ZGUgPGZvZ192ZXJ0ZXg+XG59Ijt2YXIgc2hhZG93X2ZyYWc9InVuaWZvcm0gdmVjMyBjb2xvcjtcbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcbiNpbmNsdWRlIDxjb21tb24+XG4jaW5jbHVkZSA8cGFja2luZz5cbiNpbmNsdWRlIDxmb2dfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxic2Rmcz5cbiNpbmNsdWRlIDxsaWdodHNfcGFyc19iZWdpbj5cbiNpbmNsdWRlIDxzaGFkb3dtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxzaGFkb3dtYXNrX3BhcnNfZnJhZ21lbnQ+XG52b2lkIG1haW4oKSB7XG5cdGdsX0ZyYWdDb2xvciA9IHZlYzQoIGNvbG9yLCBvcGFjaXR5ICogKCAxLjAgLSBnZXRTaGFkb3dNYXNrKCkgKSApO1xuXHQjaW5jbHVkZSA8Zm9nX2ZyYWdtZW50PlxufSI7dmFyIHNoYWRvd192ZXJ0PSIjaW5jbHVkZSA8Zm9nX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPHNoYWRvd21hcF9wYXJzX3ZlcnRleD5cbnZvaWQgbWFpbigpIHtcblx0I2luY2x1ZGUgPGJlZ2luX3ZlcnRleD5cblx0I2luY2x1ZGUgPHByb2plY3RfdmVydGV4PlxuXHQjaW5jbHVkZSA8d29ybGRwb3NfdmVydGV4PlxuXHQjaW5jbHVkZSA8c2hhZG93bWFwX3ZlcnRleD5cblx0I2luY2x1ZGUgPGZvZ192ZXJ0ZXg+XG59Ijt2YXIgc3ByaXRlX2ZyYWc9InVuaWZvcm0gdmVjMyBkaWZmdXNlO1xudW5pZm9ybSBmbG9hdCBvcGFjaXR5O1xuI2luY2x1ZGUgPGNvbW1vbj5cbiNpbmNsdWRlIDx1dl9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPG1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGFscGhhbWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8Zm9nX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc19mcmFnbWVudD5cbnZvaWQgbWFpbigpIHtcblx0I2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19mcmFnbWVudD5cblx0dmVjMyBvdXRnb2luZ0xpZ2h0ID0gdmVjMyggMC4wICk7XG5cdHZlYzQgZGlmZnVzZUNvbG9yID0gdmVjNCggZGlmZnVzZSwgb3BhY2l0eSApO1xuXHQjaW5jbHVkZSA8bG9nZGVwdGhidWZfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxtYXBfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxhbHBoYW1hcF9mcmFnbWVudD5cblx0I2luY2x1ZGUgPGFscGhhdGVzdF9mcmFnbWVudD5cblx0b3V0Z29pbmdMaWdodCA9IGRpZmZ1c2VDb2xvci5yZ2I7XG5cdGdsX0ZyYWdDb2xvciA9IHZlYzQoIG91dGdvaW5nTGlnaHQsIGRpZmZ1c2VDb2xvci5hICk7XG5cdCNpbmNsdWRlIDx0b25lbWFwcGluZ19mcmFnbWVudD5cblx0I2luY2x1ZGUgPGVuY29kaW5nc19mcmFnbWVudD5cblx0I2luY2x1ZGUgPGZvZ19mcmFnbWVudD5cbn0iO3ZhciBzcHJpdGVfdmVydD0idW5pZm9ybSBmbG9hdCByb3RhdGlvbjtcbnVuaWZvcm0gdmVjMiBjZW50ZXI7XG4jaW5jbHVkZSA8Y29tbW9uPlxuI2luY2x1ZGUgPHV2X3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGZvZ19wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc192ZXJ0ZXg+XG52b2lkIG1haW4oKSB7XG5cdCNpbmNsdWRlIDx1dl92ZXJ0ZXg+XG5cdHZlYzQgbXZQb3NpdGlvbiA9IG1vZGVsVmlld01hdHJpeCAqIHZlYzQoIDAuMCwgMC4wLCAwLjAsIDEuMCApO1xuXHR2ZWMyIHNjYWxlO1xuXHRzY2FsZS54ID0gbGVuZ3RoKCB2ZWMzKCBtb2RlbE1hdHJpeFsgMCBdLngsIG1vZGVsTWF0cml4WyAwIF0ueSwgbW9kZWxNYXRyaXhbIDAgXS56ICkgKTtcblx0c2NhbGUueSA9IGxlbmd0aCggdmVjMyggbW9kZWxNYXRyaXhbIDEgXS54LCBtb2RlbE1hdHJpeFsgMSBdLnksIG1vZGVsTWF0cml4WyAxIF0ueiApICk7XG5cdCNpZm5kZWYgVVNFX1NJWkVBVFRFTlVBVElPTlxuXHRcdGJvb2wgaXNQZXJzcGVjdGl2ZSA9IGlzUGVyc3BlY3RpdmVNYXRyaXgoIHByb2plY3Rpb25NYXRyaXggKTtcblx0XHRpZiAoIGlzUGVyc3BlY3RpdmUgKSBzY2FsZSAqPSAtIG12UG9zaXRpb24uejtcblx0I2VuZGlmXG5cdHZlYzIgYWxpZ25lZFBvc2l0aW9uID0gKCBwb3NpdGlvbi54eSAtICggY2VudGVyIC0gdmVjMiggMC41ICkgKSApICogc2NhbGU7XG5cdHZlYzIgcm90YXRlZFBvc2l0aW9uO1xuXHRyb3RhdGVkUG9zaXRpb24ueCA9IGNvcyggcm90YXRpb24gKSAqIGFsaWduZWRQb3NpdGlvbi54IC0gc2luKCByb3RhdGlvbiApICogYWxpZ25lZFBvc2l0aW9uLnk7XG5cdHJvdGF0ZWRQb3NpdGlvbi55ID0gc2luKCByb3RhdGlvbiApICogYWxpZ25lZFBvc2l0aW9uLnggKyBjb3MoIHJvdGF0aW9uICkgKiBhbGlnbmVkUG9zaXRpb24ueTtcblx0bXZQb3NpdGlvbi54eSArPSByb3RhdGVkUG9zaXRpb247XG5cdGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIG12UG9zaXRpb247XG5cdCNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfdmVydGV4PlxuXHQjaW5jbHVkZSA8Zm9nX3ZlcnRleD5cbn0iO3ZhciBTaGFkZXJDaHVuaz17YWxwaGFtYXBfZnJhZ21lbnQ6YWxwaGFtYXBfZnJhZ21lbnQsYWxwaGFtYXBfcGFyc19mcmFnbWVudDphbHBoYW1hcF9wYXJzX2ZyYWdtZW50LGFscGhhdGVzdF9mcmFnbWVudDphbHBoYXRlc3RfZnJhZ21lbnQsYW9tYXBfZnJhZ21lbnQ6YW9tYXBfZnJhZ21lbnQsYW9tYXBfcGFyc19mcmFnbWVudDphb21hcF9wYXJzX2ZyYWdtZW50LGJlZ2luX3ZlcnRleDpiZWdpbl92ZXJ0ZXgsYmVnaW5ub3JtYWxfdmVydGV4OmJlZ2lubm9ybWFsX3ZlcnRleCxic2Rmczpic2RmcyxidW1wbWFwX3BhcnNfZnJhZ21lbnQ6YnVtcG1hcF9wYXJzX2ZyYWdtZW50LGNsaXBwaW5nX3BsYW5lc19mcmFnbWVudDpjbGlwcGluZ19wbGFuZXNfZnJhZ21lbnQsY2xpcHBpbmdfcGxhbmVzX3BhcnNfZnJhZ21lbnQ6Y2xpcHBpbmdfcGxhbmVzX3BhcnNfZnJhZ21lbnQsY2xpcHBpbmdfcGxhbmVzX3BhcnNfdmVydGV4OmNsaXBwaW5nX3BsYW5lc19wYXJzX3ZlcnRleCxjbGlwcGluZ19wbGFuZXNfdmVydGV4OmNsaXBwaW5nX3BsYW5lc192ZXJ0ZXgsY29sb3JfZnJhZ21lbnQ6Y29sb3JfZnJhZ21lbnQsY29sb3JfcGFyc19mcmFnbWVudDpjb2xvcl9wYXJzX2ZyYWdtZW50LGNvbG9yX3BhcnNfdmVydGV4OmNvbG9yX3BhcnNfdmVydGV4LGNvbG9yX3ZlcnRleDpjb2xvcl92ZXJ0ZXgsY29tbW9uOmNvbW1vbixjdWJlX3V2X3JlZmxlY3Rpb25fZnJhZ21lbnQ6Y3ViZV91dl9yZWZsZWN0aW9uX2ZyYWdtZW50LGRlZmF1bHRub3JtYWxfdmVydGV4OmRlZmF1bHRub3JtYWxfdmVydGV4LGRpc3BsYWNlbWVudG1hcF9wYXJzX3ZlcnRleDpkaXNwbGFjZW1lbnRtYXBfcGFyc192ZXJ0ZXgsZGlzcGxhY2VtZW50bWFwX3ZlcnRleDpkaXNwbGFjZW1lbnRtYXBfdmVydGV4LGVtaXNzaXZlbWFwX2ZyYWdtZW50OmVtaXNzaXZlbWFwX2ZyYWdtZW50LGVtaXNzaXZlbWFwX3BhcnNfZnJhZ21lbnQ6ZW1pc3NpdmVtYXBfcGFyc19mcmFnbWVudCxlbmNvZGluZ3NfZnJhZ21lbnQ6ZW5jb2RpbmdzX2ZyYWdtZW50LGVuY29kaW5nc19wYXJzX2ZyYWdtZW50OmVuY29kaW5nc19wYXJzX2ZyYWdtZW50LGVudm1hcF9mcmFnbWVudDplbnZtYXBfZnJhZ21lbnQsZW52bWFwX2NvbW1vbl9wYXJzX2ZyYWdtZW50OmVudm1hcF9jb21tb25fcGFyc19mcmFnbWVudCxlbnZtYXBfcGFyc19mcmFnbWVudDplbnZtYXBfcGFyc19mcmFnbWVudCxlbnZtYXBfcGFyc192ZXJ0ZXg6ZW52bWFwX3BhcnNfdmVydGV4LGVudm1hcF9waHlzaWNhbF9wYXJzX2ZyYWdtZW50OmVudm1hcF9waHlzaWNhbF9wYXJzX2ZyYWdtZW50LGVudm1hcF92ZXJ0ZXg6ZW52bWFwX3ZlcnRleCxmb2dfdmVydGV4OmZvZ192ZXJ0ZXgsZm9nX3BhcnNfdmVydGV4OmZvZ19wYXJzX3ZlcnRleCxmb2dfZnJhZ21lbnQ6Zm9nX2ZyYWdtZW50LGZvZ19wYXJzX2ZyYWdtZW50OmZvZ19wYXJzX2ZyYWdtZW50LGdyYWRpZW50bWFwX3BhcnNfZnJhZ21lbnQ6Z3JhZGllbnRtYXBfcGFyc19mcmFnbWVudCxsaWdodG1hcF9mcmFnbWVudDpsaWdodG1hcF9mcmFnbWVudCxsaWdodG1hcF9wYXJzX2ZyYWdtZW50OmxpZ2h0bWFwX3BhcnNfZnJhZ21lbnQsbGlnaHRzX2xhbWJlcnRfdmVydGV4OmxpZ2h0c19sYW1iZXJ0X3ZlcnRleCxsaWdodHNfcGFyc19iZWdpbjpsaWdodHNfcGFyc19iZWdpbixsaWdodHNfdG9vbl9mcmFnbWVudDpsaWdodHNfdG9vbl9mcmFnbWVudCxsaWdodHNfdG9vbl9wYXJzX2ZyYWdtZW50OmxpZ2h0c190b29uX3BhcnNfZnJhZ21lbnQsbGlnaHRzX3Bob25nX2ZyYWdtZW50OmxpZ2h0c19waG9uZ19mcmFnbWVudCxsaWdodHNfcGhvbmdfcGFyc19mcmFnbWVudDpsaWdodHNfcGhvbmdfcGFyc19mcmFnbWVudCxsaWdodHNfcGh5c2ljYWxfZnJhZ21lbnQ6bGlnaHRzX3BoeXNpY2FsX2ZyYWdtZW50LGxpZ2h0c19waHlzaWNhbF9wYXJzX2ZyYWdtZW50OmxpZ2h0c19waHlzaWNhbF9wYXJzX2ZyYWdtZW50LGxpZ2h0c19mcmFnbWVudF9iZWdpbjpsaWdodHNfZnJhZ21lbnRfYmVnaW4sbGlnaHRzX2ZyYWdtZW50X21hcHM6bGlnaHRzX2ZyYWdtZW50X21hcHMsbGlnaHRzX2ZyYWdtZW50X2VuZDpsaWdodHNfZnJhZ21lbnRfZW5kLGxvZ2RlcHRoYnVmX2ZyYWdtZW50OmxvZ2RlcHRoYnVmX2ZyYWdtZW50LGxvZ2RlcHRoYnVmX3BhcnNfZnJhZ21lbnQ6bG9nZGVwdGhidWZfcGFyc19mcmFnbWVudCxsb2dkZXB0aGJ1Zl9wYXJzX3ZlcnRleDpsb2dkZXB0aGJ1Zl9wYXJzX3ZlcnRleCxsb2dkZXB0aGJ1Zl92ZXJ0ZXg6bG9nZGVwdGhidWZfdmVydGV4LG1hcF9mcmFnbWVudDptYXBfZnJhZ21lbnQsbWFwX3BhcnNfZnJhZ21lbnQ6bWFwX3BhcnNfZnJhZ21lbnQsbWFwX3BhcnRpY2xlX2ZyYWdtZW50Om1hcF9wYXJ0aWNsZV9mcmFnbWVudCxtYXBfcGFydGljbGVfcGFyc19mcmFnbWVudDptYXBfcGFydGljbGVfcGFyc19mcmFnbWVudCxtZXRhbG5lc3NtYXBfZnJhZ21lbnQ6bWV0YWxuZXNzbWFwX2ZyYWdtZW50LG1ldGFsbmVzc21hcF9wYXJzX2ZyYWdtZW50Om1ldGFsbmVzc21hcF9wYXJzX2ZyYWdtZW50LG1vcnBobm9ybWFsX3ZlcnRleDptb3JwaG5vcm1hbF92ZXJ0ZXgsbW9ycGh0YXJnZXRfcGFyc192ZXJ0ZXg6bW9ycGh0YXJnZXRfcGFyc192ZXJ0ZXgsbW9ycGh0YXJnZXRfdmVydGV4Om1vcnBodGFyZ2V0X3ZlcnRleCxub3JtYWxfZnJhZ21lbnRfYmVnaW46bm9ybWFsX2ZyYWdtZW50X2JlZ2luLG5vcm1hbF9mcmFnbWVudF9tYXBzOm5vcm1hbF9mcmFnbWVudF9tYXBzLG5vcm1hbG1hcF9wYXJzX2ZyYWdtZW50Om5vcm1hbG1hcF9wYXJzX2ZyYWdtZW50LGNsZWFyY29hdF9ub3JtYWxfZnJhZ21lbnRfYmVnaW46Y2xlYXJjb2F0X25vcm1hbF9mcmFnbWVudF9iZWdpbixjbGVhcmNvYXRfbm9ybWFsX2ZyYWdtZW50X21hcHM6Y2xlYXJjb2F0X25vcm1hbF9mcmFnbWVudF9tYXBzLGNsZWFyY29hdF9ub3JtYWxtYXBfcGFyc19mcmFnbWVudDpjbGVhcmNvYXRfbm9ybWFsbWFwX3BhcnNfZnJhZ21lbnQscGFja2luZzpwYWNraW5nLHByZW11bHRpcGxpZWRfYWxwaGFfZnJhZ21lbnQ6cHJlbXVsdGlwbGllZF9hbHBoYV9mcmFnbWVudCxwcm9qZWN0X3ZlcnRleDpwcm9qZWN0X3ZlcnRleCxkaXRoZXJpbmdfZnJhZ21lbnQ6ZGl0aGVyaW5nX2ZyYWdtZW50LGRpdGhlcmluZ19wYXJzX2ZyYWdtZW50OmRpdGhlcmluZ19wYXJzX2ZyYWdtZW50LHJvdWdobmVzc21hcF9mcmFnbWVudDpyb3VnaG5lc3NtYXBfZnJhZ21lbnQscm91Z2huZXNzbWFwX3BhcnNfZnJhZ21lbnQ6cm91Z2huZXNzbWFwX3BhcnNfZnJhZ21lbnQsc2hhZG93bWFwX3BhcnNfZnJhZ21lbnQ6c2hhZG93bWFwX3BhcnNfZnJhZ21lbnQsc2hhZG93bWFwX3BhcnNfdmVydGV4OnNoYWRvd21hcF9wYXJzX3ZlcnRleCxzaGFkb3dtYXBfdmVydGV4OnNoYWRvd21hcF92ZXJ0ZXgsc2hhZG93bWFza19wYXJzX2ZyYWdtZW50OnNoYWRvd21hc2tfcGFyc19mcmFnbWVudCxza2luYmFzZV92ZXJ0ZXg6c2tpbmJhc2VfdmVydGV4LHNraW5uaW5nX3BhcnNfdmVydGV4OnNraW5uaW5nX3BhcnNfdmVydGV4LHNraW5uaW5nX3ZlcnRleDpza2lubmluZ192ZXJ0ZXgsc2tpbm5vcm1hbF92ZXJ0ZXg6c2tpbm5vcm1hbF92ZXJ0ZXgsc3BlY3VsYXJtYXBfZnJhZ21lbnQ6c3BlY3VsYXJtYXBfZnJhZ21lbnQsc3BlY3VsYXJtYXBfcGFyc19mcmFnbWVudDpzcGVjdWxhcm1hcF9wYXJzX2ZyYWdtZW50LHRvbmVtYXBwaW5nX2ZyYWdtZW50OnRvbmVtYXBwaW5nX2ZyYWdtZW50LHRvbmVtYXBwaW5nX3BhcnNfZnJhZ21lbnQ6dG9uZW1hcHBpbmdfcGFyc19mcmFnbWVudCx1dl9wYXJzX2ZyYWdtZW50OnV2X3BhcnNfZnJhZ21lbnQsdXZfcGFyc192ZXJ0ZXg6dXZfcGFyc192ZXJ0ZXgsdXZfdmVydGV4OnV2X3ZlcnRleCx1djJfcGFyc19mcmFnbWVudDp1djJfcGFyc19mcmFnbWVudCx1djJfcGFyc192ZXJ0ZXg6dXYyX3BhcnNfdmVydGV4LHV2Ml92ZXJ0ZXg6dXYyX3ZlcnRleCx3b3JsZHBvc192ZXJ0ZXg6d29ybGRwb3NfdmVydGV4LGJhY2tncm91bmRfZnJhZzpiYWNrZ3JvdW5kX2ZyYWcsYmFja2dyb3VuZF92ZXJ0OmJhY2tncm91bmRfdmVydCxjdWJlX2ZyYWc6Y3ViZV9mcmFnLGN1YmVfdmVydDpjdWJlX3ZlcnQsZGVwdGhfZnJhZzpkZXB0aF9mcmFnLGRlcHRoX3ZlcnQ6ZGVwdGhfdmVydCxkaXN0YW5jZVJHQkFfZnJhZzpkaXN0YW5jZVJHQkFfZnJhZyxkaXN0YW5jZVJHQkFfdmVydDpkaXN0YW5jZVJHQkFfdmVydCxlcXVpcmVjdF9mcmFnOmVxdWlyZWN0X2ZyYWcsZXF1aXJlY3RfdmVydDplcXVpcmVjdF92ZXJ0LGxpbmVkYXNoZWRfZnJhZzpsaW5lZGFzaGVkX2ZyYWcsbGluZWRhc2hlZF92ZXJ0OmxpbmVkYXNoZWRfdmVydCxtZXNoYmFzaWNfZnJhZzptZXNoYmFzaWNfZnJhZyxtZXNoYmFzaWNfdmVydDptZXNoYmFzaWNfdmVydCxtZXNobGFtYmVydF9mcmFnOm1lc2hsYW1iZXJ0X2ZyYWcsbWVzaGxhbWJlcnRfdmVydDptZXNobGFtYmVydF92ZXJ0LG1lc2htYXRjYXBfZnJhZzptZXNobWF0Y2FwX2ZyYWcsbWVzaG1hdGNhcF92ZXJ0Om1lc2htYXRjYXBfdmVydCxtZXNodG9vbl9mcmFnOm1lc2h0b29uX2ZyYWcsbWVzaHRvb25fdmVydDptZXNodG9vbl92ZXJ0LG1lc2hwaG9uZ19mcmFnOm1lc2hwaG9uZ19mcmFnLG1lc2hwaG9uZ192ZXJ0Om1lc2hwaG9uZ192ZXJ0LG1lc2hwaHlzaWNhbF9mcmFnOm1lc2hwaHlzaWNhbF9mcmFnLG1lc2hwaHlzaWNhbF92ZXJ0Om1lc2hwaHlzaWNhbF92ZXJ0LG5vcm1hbF9mcmFnOm5vcm1hbF9mcmFnLG5vcm1hbF92ZXJ0Om5vcm1hbF92ZXJ0LHBvaW50c19mcmFnOnBvaW50c19mcmFnLHBvaW50c192ZXJ0OnBvaW50c192ZXJ0LHNoYWRvd19mcmFnOnNoYWRvd19mcmFnLHNoYWRvd192ZXJ0OnNoYWRvd192ZXJ0LHNwcml0ZV9mcmFnOnNwcml0ZV9mcmFnLHNwcml0ZV92ZXJ0OnNwcml0ZV92ZXJ0fTsvKioKICAgKiBVbmlmb3JtcyBsaWJyYXJ5IGZvciBzaGFyZWQgd2ViZ2wgc2hhZGVycwogICAqL3ZhciBVbmlmb3Jtc0xpYj17Y29tbW9uOntkaWZmdXNlOnt2YWx1ZTpuZXcgQ29sb3IoMHhlZWVlZWUpfSxvcGFjaXR5Ont2YWx1ZToxLjB9LG1hcDp7dmFsdWU6bnVsbH0sdXZUcmFuc2Zvcm06e3ZhbHVlOm5ldyBNYXRyaXgzKCl9LHV2MlRyYW5zZm9ybTp7dmFsdWU6bmV3IE1hdHJpeDMoKX0sYWxwaGFNYXA6e3ZhbHVlOm51bGx9fSxzcGVjdWxhcm1hcDp7c3BlY3VsYXJNYXA6e3ZhbHVlOm51bGx9fSxlbnZtYXA6e2Vudk1hcDp7dmFsdWU6bnVsbH0sZmxpcEVudk1hcDp7dmFsdWU6LTF9LHJlZmxlY3Rpdml0eTp7dmFsdWU6MS4wfSxyZWZyYWN0aW9uUmF0aW86e3ZhbHVlOjAuOTh9LG1heE1pcExldmVsOnt2YWx1ZTowfX0sYW9tYXA6e2FvTWFwOnt2YWx1ZTpudWxsfSxhb01hcEludGVuc2l0eTp7dmFsdWU6MX19LGxpZ2h0bWFwOntsaWdodE1hcDp7dmFsdWU6bnVsbH0sbGlnaHRNYXBJbnRlbnNpdHk6e3ZhbHVlOjF9fSxlbWlzc2l2ZW1hcDp7ZW1pc3NpdmVNYXA6e3ZhbHVlOm51bGx9fSxidW1wbWFwOntidW1wTWFwOnt2YWx1ZTpudWxsfSxidW1wU2NhbGU6e3ZhbHVlOjF9fSxub3JtYWxtYXA6e25vcm1hbE1hcDp7dmFsdWU6bnVsbH0sbm9ybWFsU2NhbGU6e3ZhbHVlOm5ldyBWZWN0b3IyKDEsMSl9fSxkaXNwbGFjZW1lbnRtYXA6e2Rpc3BsYWNlbWVudE1hcDp7dmFsdWU6bnVsbH0sZGlzcGxhY2VtZW50U2NhbGU6e3ZhbHVlOjF9LGRpc3BsYWNlbWVudEJpYXM6e3ZhbHVlOjB9fSxyb3VnaG5lc3NtYXA6e3JvdWdobmVzc01hcDp7dmFsdWU6bnVsbH19LG1ldGFsbmVzc21hcDp7bWV0YWxuZXNzTWFwOnt2YWx1ZTpudWxsfX0sZ3JhZGllbnRtYXA6e2dyYWRpZW50TWFwOnt2YWx1ZTpudWxsfX0sZm9nOntmb2dEZW5zaXR5Ont2YWx1ZTowLjAwMDI1fSxmb2dOZWFyOnt2YWx1ZToxfSxmb2dGYXI6e3ZhbHVlOjIwMDB9LGZvZ0NvbG9yOnt2YWx1ZTpuZXcgQ29sb3IoMHhmZmZmZmYpfX0sbGlnaHRzOnthbWJpZW50TGlnaHRDb2xvcjp7dmFsdWU6W119LGxpZ2h0UHJvYmU6e3ZhbHVlOltdfSxkaXJlY3Rpb25hbExpZ2h0czp7dmFsdWU6W10scHJvcGVydGllczp7ZGlyZWN0aW9uOnt9LGNvbG9yOnt9LHNoYWRvdzp7fSxzaGFkb3dCaWFzOnt9LHNoYWRvd1JhZGl1czp7fSxzaGFkb3dNYXBTaXplOnt9fX0sZGlyZWN0aW9uYWxTaGFkb3dNYXA6e3ZhbHVlOltdfSxkaXJlY3Rpb25hbFNoYWRvd01hdHJpeDp7dmFsdWU6W119LHNwb3RMaWdodHM6e3ZhbHVlOltdLHByb3BlcnRpZXM6e2NvbG9yOnt9LHBvc2l0aW9uOnt9LGRpcmVjdGlvbjp7fSxkaXN0YW5jZTp7fSxjb25lQ29zOnt9LHBlbnVtYnJhQ29zOnt9LGRlY2F5Ont9LHNoYWRvdzp7fSxzaGFkb3dCaWFzOnt9LHNoYWRvd1JhZGl1czp7fSxzaGFkb3dNYXBTaXplOnt9fX0sc3BvdFNoYWRvd01hcDp7dmFsdWU6W119LHNwb3RTaGFkb3dNYXRyaXg6e3ZhbHVlOltdfSxwb2ludExpZ2h0czp7dmFsdWU6W10scHJvcGVydGllczp7Y29sb3I6e30scG9zaXRpb246e30sZGVjYXk6e30sZGlzdGFuY2U6e30sc2hhZG93Ont9LHNoYWRvd0JpYXM6e30sc2hhZG93UmFkaXVzOnt9LHNoYWRvd01hcFNpemU6e30sc2hhZG93Q2FtZXJhTmVhcjp7fSxzaGFkb3dDYW1lcmFGYXI6e319fSxwb2ludFNoYWRvd01hcDp7dmFsdWU6W119LHBvaW50U2hhZG93TWF0cml4Ont2YWx1ZTpbXX0saGVtaXNwaGVyZUxpZ2h0czp7dmFsdWU6W10scHJvcGVydGllczp7ZGlyZWN0aW9uOnt9LHNreUNvbG9yOnt9LGdyb3VuZENvbG9yOnt9fX0sLy8gVE9ETyAoYWJlbG5hdGlvbik6IFJlY3RBcmVhTGlnaHQgQlJERiBkYXRhIG5lZWRzIHRvIGJlIG1vdmVkIGZyb20gZXhhbXBsZSB0byBtYWluIHNyYwpyZWN0QXJlYUxpZ2h0czp7dmFsdWU6W10scHJvcGVydGllczp7Y29sb3I6e30scG9zaXRpb246e30sd2lkdGg6e30saGVpZ2h0Ont9fX19LHBvaW50czp7ZGlmZnVzZTp7dmFsdWU6bmV3IENvbG9yKDB4ZWVlZWVlKX0sb3BhY2l0eTp7dmFsdWU6MS4wfSxzaXplOnt2YWx1ZToxLjB9LHNjYWxlOnt2YWx1ZToxLjB9LG1hcDp7dmFsdWU6bnVsbH0sYWxwaGFNYXA6e3ZhbHVlOm51bGx9LHV2VHJhbnNmb3JtOnt2YWx1ZTpuZXcgTWF0cml4MygpfX0sc3ByaXRlOntkaWZmdXNlOnt2YWx1ZTpuZXcgQ29sb3IoMHhlZWVlZWUpfSxvcGFjaXR5Ont2YWx1ZToxLjB9LGNlbnRlcjp7dmFsdWU6bmV3IFZlY3RvcjIoMC41LDAuNSl9LHJvdGF0aW9uOnt2YWx1ZTowLjB9LG1hcDp7dmFsdWU6bnVsbH0sYWxwaGFNYXA6e3ZhbHVlOm51bGx9LHV2VHJhbnNmb3JtOnt2YWx1ZTpuZXcgTWF0cml4MygpfX19Oy8qKgogICAqIEBhdXRob3IgYWx0ZXJlZHEgLyBodHRwOi8vYWx0ZXJlZHF1YWxpYS5jb20vCiAgICogQGF1dGhvciBtcmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS8KICAgKiBAYXV0aG9yIG1pa2FlbCBlbXRpbmdlciAvIGh0dHA6Ly9nb21vLnNlLwogICAqL3ZhciBTaGFkZXJMaWI9e2Jhc2ljOnt1bmlmb3JtczptZXJnZVVuaWZvcm1zKFtVbmlmb3Jtc0xpYi5jb21tb24sVW5pZm9ybXNMaWIuc3BlY3VsYXJtYXAsVW5pZm9ybXNMaWIuZW52bWFwLFVuaWZvcm1zTGliLmFvbWFwLFVuaWZvcm1zTGliLmxpZ2h0bWFwLFVuaWZvcm1zTGliLmZvZ10pLHZlcnRleFNoYWRlcjpTaGFkZXJDaHVuay5tZXNoYmFzaWNfdmVydCxmcmFnbWVudFNoYWRlcjpTaGFkZXJDaHVuay5tZXNoYmFzaWNfZnJhZ30sbGFtYmVydDp7dW5pZm9ybXM6bWVyZ2VVbmlmb3JtcyhbVW5pZm9ybXNMaWIuY29tbW9uLFVuaWZvcm1zTGliLnNwZWN1bGFybWFwLFVuaWZvcm1zTGliLmVudm1hcCxVbmlmb3Jtc0xpYi5hb21hcCxVbmlmb3Jtc0xpYi5saWdodG1hcCxVbmlmb3Jtc0xpYi5lbWlzc2l2ZW1hcCxVbmlmb3Jtc0xpYi5mb2csVW5pZm9ybXNMaWIubGlnaHRzLHtlbWlzc2l2ZTp7dmFsdWU6bmV3IENvbG9yKDB4MDAwMDAwKX19XSksdmVydGV4U2hhZGVyOlNoYWRlckNodW5rLm1lc2hsYW1iZXJ0X3ZlcnQsZnJhZ21lbnRTaGFkZXI6U2hhZGVyQ2h1bmsubWVzaGxhbWJlcnRfZnJhZ30scGhvbmc6e3VuaWZvcm1zOm1lcmdlVW5pZm9ybXMoW1VuaWZvcm1zTGliLmNvbW1vbixVbmlmb3Jtc0xpYi5zcGVjdWxhcm1hcCxVbmlmb3Jtc0xpYi5lbnZtYXAsVW5pZm9ybXNMaWIuYW9tYXAsVW5pZm9ybXNMaWIubGlnaHRtYXAsVW5pZm9ybXNMaWIuZW1pc3NpdmVtYXAsVW5pZm9ybXNMaWIuYnVtcG1hcCxVbmlmb3Jtc0xpYi5ub3JtYWxtYXAsVW5pZm9ybXNMaWIuZGlzcGxhY2VtZW50bWFwLFVuaWZvcm1zTGliLmZvZyxVbmlmb3Jtc0xpYi5saWdodHMse2VtaXNzaXZlOnt2YWx1ZTpuZXcgQ29sb3IoMHgwMDAwMDApfSxzcGVjdWxhcjp7dmFsdWU6bmV3IENvbG9yKDB4MTExMTExKX0sc2hpbmluZXNzOnt2YWx1ZTozMH19XSksdmVydGV4U2hhZGVyOlNoYWRlckNodW5rLm1lc2hwaG9uZ192ZXJ0LGZyYWdtZW50U2hhZGVyOlNoYWRlckNodW5rLm1lc2hwaG9uZ19mcmFnfSxzdGFuZGFyZDp7dW5pZm9ybXM6bWVyZ2VVbmlmb3JtcyhbVW5pZm9ybXNMaWIuY29tbW9uLFVuaWZvcm1zTGliLmVudm1hcCxVbmlmb3Jtc0xpYi5hb21hcCxVbmlmb3Jtc0xpYi5saWdodG1hcCxVbmlmb3Jtc0xpYi5lbWlzc2l2ZW1hcCxVbmlmb3Jtc0xpYi5idW1wbWFwLFVuaWZvcm1zTGliLm5vcm1hbG1hcCxVbmlmb3Jtc0xpYi5kaXNwbGFjZW1lbnRtYXAsVW5pZm9ybXNMaWIucm91Z2huZXNzbWFwLFVuaWZvcm1zTGliLm1ldGFsbmVzc21hcCxVbmlmb3Jtc0xpYi5mb2csVW5pZm9ybXNMaWIubGlnaHRzLHtlbWlzc2l2ZTp7dmFsdWU6bmV3IENvbG9yKDB4MDAwMDAwKX0scm91Z2huZXNzOnt2YWx1ZTowLjV9LG1ldGFsbmVzczp7dmFsdWU6MC41fSxlbnZNYXBJbnRlbnNpdHk6e3ZhbHVlOjF9Ly8gdGVtcG9yYXJ5Cn1dKSx2ZXJ0ZXhTaGFkZXI6U2hhZGVyQ2h1bmsubWVzaHBoeXNpY2FsX3ZlcnQsZnJhZ21lbnRTaGFkZXI6U2hhZGVyQ2h1bmsubWVzaHBoeXNpY2FsX2ZyYWd9LHRvb246e3VuaWZvcm1zOm1lcmdlVW5pZm9ybXMoW1VuaWZvcm1zTGliLmNvbW1vbixVbmlmb3Jtc0xpYi5zcGVjdWxhcm1hcCxVbmlmb3Jtc0xpYi5hb21hcCxVbmlmb3Jtc0xpYi5saWdodG1hcCxVbmlmb3Jtc0xpYi5lbWlzc2l2ZW1hcCxVbmlmb3Jtc0xpYi5idW1wbWFwLFVuaWZvcm1zTGliLm5vcm1hbG1hcCxVbmlmb3Jtc0xpYi5kaXNwbGFjZW1lbnRtYXAsVW5pZm9ybXNMaWIuZ3JhZGllbnRtYXAsVW5pZm9ybXNMaWIuZm9nLFVuaWZvcm1zTGliLmxpZ2h0cyx7ZW1pc3NpdmU6e3ZhbHVlOm5ldyBDb2xvcigweDAwMDAwMCl9LHNwZWN1bGFyOnt2YWx1ZTpuZXcgQ29sb3IoMHgxMTExMTEpfSxzaGluaW5lc3M6e3ZhbHVlOjMwfX1dKSx2ZXJ0ZXhTaGFkZXI6U2hhZGVyQ2h1bmsubWVzaHRvb25fdmVydCxmcmFnbWVudFNoYWRlcjpTaGFkZXJDaHVuay5tZXNodG9vbl9mcmFnfSxtYXRjYXA6e3VuaWZvcm1zOm1lcmdlVW5pZm9ybXMoW1VuaWZvcm1zTGliLmNvbW1vbixVbmlmb3Jtc0xpYi5idW1wbWFwLFVuaWZvcm1zTGliLm5vcm1hbG1hcCxVbmlmb3Jtc0xpYi5kaXNwbGFjZW1lbnRtYXAsVW5pZm9ybXNMaWIuZm9nLHttYXRjYXA6e3ZhbHVlOm51bGx9fV0pLHZlcnRleFNoYWRlcjpTaGFkZXJDaHVuay5tZXNobWF0Y2FwX3ZlcnQsZnJhZ21lbnRTaGFkZXI6U2hhZGVyQ2h1bmsubWVzaG1hdGNhcF9mcmFnfSxwb2ludHM6e3VuaWZvcm1zOm1lcmdlVW5pZm9ybXMoW1VuaWZvcm1zTGliLnBvaW50cyxVbmlmb3Jtc0xpYi5mb2ddKSx2ZXJ0ZXhTaGFkZXI6U2hhZGVyQ2h1bmsucG9pbnRzX3ZlcnQsZnJhZ21lbnRTaGFkZXI6U2hhZGVyQ2h1bmsucG9pbnRzX2ZyYWd9LGRhc2hlZDp7dW5pZm9ybXM6bWVyZ2VVbmlmb3JtcyhbVW5pZm9ybXNMaWIuY29tbW9uLFVuaWZvcm1zTGliLmZvZyx7c2NhbGU6e3ZhbHVlOjF9LGRhc2hTaXplOnt2YWx1ZToxfSx0b3RhbFNpemU6e3ZhbHVlOjJ9fV0pLHZlcnRleFNoYWRlcjpTaGFkZXJDaHVuay5saW5lZGFzaGVkX3ZlcnQsZnJhZ21lbnRTaGFkZXI6U2hhZGVyQ2h1bmsubGluZWRhc2hlZF9mcmFnfSxkZXB0aDp7dW5pZm9ybXM6bWVyZ2VVbmlmb3JtcyhbVW5pZm9ybXNMaWIuY29tbW9uLFVuaWZvcm1zTGliLmRpc3BsYWNlbWVudG1hcF0pLHZlcnRleFNoYWRlcjpTaGFkZXJDaHVuay5kZXB0aF92ZXJ0LGZyYWdtZW50U2hhZGVyOlNoYWRlckNodW5rLmRlcHRoX2ZyYWd9LG5vcm1hbDp7dW5pZm9ybXM6bWVyZ2VVbmlmb3JtcyhbVW5pZm9ybXNMaWIuY29tbW9uLFVuaWZvcm1zTGliLmJ1bXBtYXAsVW5pZm9ybXNMaWIubm9ybWFsbWFwLFVuaWZvcm1zTGliLmRpc3BsYWNlbWVudG1hcCx7b3BhY2l0eTp7dmFsdWU6MS4wfX1dKSx2ZXJ0ZXhTaGFkZXI6U2hhZGVyQ2h1bmsubm9ybWFsX3ZlcnQsZnJhZ21lbnRTaGFkZXI6U2hhZGVyQ2h1bmsubm9ybWFsX2ZyYWd9LHNwcml0ZTp7dW5pZm9ybXM6bWVyZ2VVbmlmb3JtcyhbVW5pZm9ybXNMaWIuc3ByaXRlLFVuaWZvcm1zTGliLmZvZ10pLHZlcnRleFNoYWRlcjpTaGFkZXJDaHVuay5zcHJpdGVfdmVydCxmcmFnbWVudFNoYWRlcjpTaGFkZXJDaHVuay5zcHJpdGVfZnJhZ30sYmFja2dyb3VuZDp7dW5pZm9ybXM6e3V2VHJhbnNmb3JtOnt2YWx1ZTpuZXcgTWF0cml4MygpfSx0MkQ6e3ZhbHVlOm51bGx9fSx2ZXJ0ZXhTaGFkZXI6U2hhZGVyQ2h1bmsuYmFja2dyb3VuZF92ZXJ0LGZyYWdtZW50U2hhZGVyOlNoYWRlckNodW5rLmJhY2tncm91bmRfZnJhZ30sLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLy8JQ3ViZSBtYXAgc2hhZGVyCiAgICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL2N1YmU6e3VuaWZvcm1zOm1lcmdlVW5pZm9ybXMoW1VuaWZvcm1zTGliLmVudm1hcCx7b3BhY2l0eTp7dmFsdWU6MS4wfX1dKSx2ZXJ0ZXhTaGFkZXI6U2hhZGVyQ2h1bmsuY3ViZV92ZXJ0LGZyYWdtZW50U2hhZGVyOlNoYWRlckNodW5rLmN1YmVfZnJhZ30sZXF1aXJlY3Q6e3VuaWZvcm1zOnt0RXF1aXJlY3Q6e3ZhbHVlOm51bGx9fSx2ZXJ0ZXhTaGFkZXI6U2hhZGVyQ2h1bmsuZXF1aXJlY3RfdmVydCxmcmFnbWVudFNoYWRlcjpTaGFkZXJDaHVuay5lcXVpcmVjdF9mcmFnfSxkaXN0YW5jZVJHQkE6e3VuaWZvcm1zOm1lcmdlVW5pZm9ybXMoW1VuaWZvcm1zTGliLmNvbW1vbixVbmlmb3Jtc0xpYi5kaXNwbGFjZW1lbnRtYXAse3JlZmVyZW5jZVBvc2l0aW9uOnt2YWx1ZTpuZXcgVmVjdG9yMygpfSxuZWFyRGlzdGFuY2U6e3ZhbHVlOjF9LGZhckRpc3RhbmNlOnt2YWx1ZToxMDAwfX1dKSx2ZXJ0ZXhTaGFkZXI6U2hhZGVyQ2h1bmsuZGlzdGFuY2VSR0JBX3ZlcnQsZnJhZ21lbnRTaGFkZXI6U2hhZGVyQ2h1bmsuZGlzdGFuY2VSR0JBX2ZyYWd9LHNoYWRvdzp7dW5pZm9ybXM6bWVyZ2VVbmlmb3JtcyhbVW5pZm9ybXNMaWIubGlnaHRzLFVuaWZvcm1zTGliLmZvZyx7Y29sb3I6e3ZhbHVlOm5ldyBDb2xvcigweDAwMDAwKX0sb3BhY2l0eTp7dmFsdWU6MS4wfX1dKSx2ZXJ0ZXhTaGFkZXI6U2hhZGVyQ2h1bmsuc2hhZG93X3ZlcnQsZnJhZ21lbnRTaGFkZXI6U2hhZGVyQ2h1bmsuc2hhZG93X2ZyYWd9fTtTaGFkZXJMaWIucGh5c2ljYWw9e3VuaWZvcm1zOm1lcmdlVW5pZm9ybXMoW1NoYWRlckxpYi5zdGFuZGFyZC51bmlmb3Jtcyx7dHJhbnNwYXJlbmN5Ont2YWx1ZTowfSxjbGVhcmNvYXQ6e3ZhbHVlOjB9LGNsZWFyY29hdFJvdWdobmVzczp7dmFsdWU6MH0sc2hlZW46e3ZhbHVlOm5ldyBDb2xvcigweDAwMDAwMCl9LGNsZWFyY29hdE5vcm1hbFNjYWxlOnt2YWx1ZTpuZXcgVmVjdG9yMigxLDEpfSxjbGVhcmNvYXROb3JtYWxNYXA6e3ZhbHVlOm51bGx9fV0pLHZlcnRleFNoYWRlcjpTaGFkZXJDaHVuay5tZXNocGh5c2ljYWxfdmVydCxmcmFnbWVudFNoYWRlcjpTaGFkZXJDaHVuay5tZXNocGh5c2ljYWxfZnJhZ307LyoqCiAgICogQGF1dGhvciBtcmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS8KICAgKi9mdW5jdGlvbiBXZWJHTEFuaW1hdGlvbigpe3ZhciBjb250ZXh0PW51bGw7dmFyIGlzQW5pbWF0aW5nPWZhbHNlO3ZhciBhbmltYXRpb25Mb29wPW51bGw7ZnVuY3Rpb24gb25BbmltYXRpb25GcmFtZSh0aW1lLGZyYW1lKXtpZihpc0FuaW1hdGluZz09PWZhbHNlKXtyZXR1cm47fWFuaW1hdGlvbkxvb3AodGltZSxmcmFtZSk7Y29udGV4dC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUob25BbmltYXRpb25GcmFtZSk7fXJldHVybntzdGFydDpmdW5jdGlvbiBzdGFydCgpe2lmKGlzQW5pbWF0aW5nPT09dHJ1ZSl7cmV0dXJuO31pZihhbmltYXRpb25Mb29wPT09bnVsbCl7cmV0dXJuO31jb250ZXh0LnJlcXVlc3RBbmltYXRpb25GcmFtZShvbkFuaW1hdGlvbkZyYW1lKTtpc0FuaW1hdGluZz10cnVlO30sc3RvcDpmdW5jdGlvbiBzdG9wKCl7aXNBbmltYXRpbmc9ZmFsc2U7fSxzZXRBbmltYXRpb25Mb29wOmZ1bmN0aW9uIHNldEFuaW1hdGlvbkxvb3AoY2FsbGJhY2spe2FuaW1hdGlvbkxvb3A9Y2FsbGJhY2s7fSxzZXRDb250ZXh0OmZ1bmN0aW9uIHNldENvbnRleHQodmFsdWUpe2NvbnRleHQ9dmFsdWU7fX07fS8qKgogICAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb20vCiAgICovZnVuY3Rpb24gV2ViR0xBdHRyaWJ1dGVzKGdsKXt2YXIgYnVmZmVycz1uZXcgV2Vha01hcCgpO2Z1bmN0aW9uIGNyZWF0ZUJ1ZmZlcihhdHRyaWJ1dGUsYnVmZmVyVHlwZSl7dmFyIGFycmF5PWF0dHJpYnV0ZS5hcnJheTt2YXIgdXNhZ2U9YXR0cmlidXRlLnVzYWdlO3ZhciBidWZmZXI9Z2wuY3JlYXRlQnVmZmVyKCk7Z2wuYmluZEJ1ZmZlcihidWZmZXJUeXBlLGJ1ZmZlcik7Z2wuYnVmZmVyRGF0YShidWZmZXJUeXBlLGFycmF5LHVzYWdlKTthdHRyaWJ1dGUub25VcGxvYWRDYWxsYmFjaygpO3ZhciB0eXBlPTUxMjY7aWYoYXJyYXkgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkpe3R5cGU9NTEyNjt9ZWxzZSBpZihhcnJheSBpbnN0YW5jZW9mIEZsb2F0NjRBcnJheSl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTEF0dHJpYnV0ZXM6IFVuc3VwcG9ydGVkIGRhdGEgYnVmZmVyIGZvcm1hdDogRmxvYXQ2NEFycmF5LicpO31lbHNlIGlmKGFycmF5IGluc3RhbmNlb2YgVWludDE2QXJyYXkpe3R5cGU9NTEyMzt9ZWxzZSBpZihhcnJheSBpbnN0YW5jZW9mIEludDE2QXJyYXkpe3R5cGU9NTEyMjt9ZWxzZSBpZihhcnJheSBpbnN0YW5jZW9mIFVpbnQzMkFycmF5KXt0eXBlPTUxMjU7fWVsc2UgaWYoYXJyYXkgaW5zdGFuY2VvZiBJbnQzMkFycmF5KXt0eXBlPTUxMjQ7fWVsc2UgaWYoYXJyYXkgaW5zdGFuY2VvZiBJbnQ4QXJyYXkpe3R5cGU9NTEyMDt9ZWxzZSBpZihhcnJheSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpe3R5cGU9NTEyMTt9cmV0dXJue2J1ZmZlcjpidWZmZXIsdHlwZTp0eXBlLGJ5dGVzUGVyRWxlbWVudDphcnJheS5CWVRFU19QRVJfRUxFTUVOVCx2ZXJzaW9uOmF0dHJpYnV0ZS52ZXJzaW9ufTt9ZnVuY3Rpb24gdXBkYXRlQnVmZmVyKGJ1ZmZlcixhdHRyaWJ1dGUsYnVmZmVyVHlwZSl7dmFyIGFycmF5PWF0dHJpYnV0ZS5hcnJheTt2YXIgdXBkYXRlUmFuZ2U9YXR0cmlidXRlLnVwZGF0ZVJhbmdlO2dsLmJpbmRCdWZmZXIoYnVmZmVyVHlwZSxidWZmZXIpO2lmKHVwZGF0ZVJhbmdlLmNvdW50PT09LTEpey8vIE5vdCB1c2luZyB1cGRhdGUgcmFuZ2VzCmdsLmJ1ZmZlclN1YkRhdGEoYnVmZmVyVHlwZSwwLGFycmF5KTt9ZWxzZXtnbC5idWZmZXJTdWJEYXRhKGJ1ZmZlclR5cGUsdXBkYXRlUmFuZ2Uub2Zmc2V0KmFycmF5LkJZVEVTX1BFUl9FTEVNRU5ULGFycmF5LnN1YmFycmF5KHVwZGF0ZVJhbmdlLm9mZnNldCx1cGRhdGVSYW5nZS5vZmZzZXQrdXBkYXRlUmFuZ2UuY291bnQpKTt1cGRhdGVSYW5nZS5jb3VudD0tMTsvLyByZXNldCByYW5nZQp9fS8vCmZ1bmN0aW9uIGdldChhdHRyaWJ1dGUpe2lmKGF0dHJpYnV0ZS5pc0ludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlKXthdHRyaWJ1dGU9YXR0cmlidXRlLmRhdGE7fXJldHVybiBidWZmZXJzLmdldChhdHRyaWJ1dGUpO31mdW5jdGlvbiByZW1vdmUoYXR0cmlidXRlKXtpZihhdHRyaWJ1dGUuaXNJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZSl7YXR0cmlidXRlPWF0dHJpYnV0ZS5kYXRhO312YXIgZGF0YT1idWZmZXJzLmdldChhdHRyaWJ1dGUpO2lmKGRhdGEpe2dsLmRlbGV0ZUJ1ZmZlcihkYXRhLmJ1ZmZlcik7YnVmZmVycy5kZWxldGUoYXR0cmlidXRlKTt9fWZ1bmN0aW9uIHVwZGF0ZShhdHRyaWJ1dGUsYnVmZmVyVHlwZSl7aWYoYXR0cmlidXRlLmlzSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUpe2F0dHJpYnV0ZT1hdHRyaWJ1dGUuZGF0YTt9dmFyIGRhdGE9YnVmZmVycy5nZXQoYXR0cmlidXRlKTtpZihkYXRhPT09dW5kZWZpbmVkKXtidWZmZXJzLnNldChhdHRyaWJ1dGUsY3JlYXRlQnVmZmVyKGF0dHJpYnV0ZSxidWZmZXJUeXBlKSk7fWVsc2UgaWYoZGF0YS52ZXJzaW9uPGF0dHJpYnV0ZS52ZXJzaW9uKXt1cGRhdGVCdWZmZXIoZGF0YS5idWZmZXIsYXR0cmlidXRlLGJ1ZmZlclR5cGUpO2RhdGEudmVyc2lvbj1hdHRyaWJ1dGUudmVyc2lvbjt9fXJldHVybntnZXQ6Z2V0LHJlbW92ZTpyZW1vdmUsdXBkYXRlOnVwZGF0ZX07fS8qKgogICAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb20vCiAgICogQGF1dGhvciBNdWdlbjg3IC8gaHR0cHM6Ly9naXRodWIuY29tL011Z2VuODcKICAgKi8gLy8gUGxhbmVHZW9tZXRyeQpmdW5jdGlvbiBQbGFuZUdlb21ldHJ5KHdpZHRoLGhlaWdodCx3aWR0aFNlZ21lbnRzLGhlaWdodFNlZ21lbnRzKXtHZW9tZXRyeS5jYWxsKHRoaXMpO3RoaXMudHlwZT0nUGxhbmVHZW9tZXRyeSc7dGhpcy5wYXJhbWV0ZXJzPXt3aWR0aDp3aWR0aCxoZWlnaHQ6aGVpZ2h0LHdpZHRoU2VnbWVudHM6d2lkdGhTZWdtZW50cyxoZWlnaHRTZWdtZW50czpoZWlnaHRTZWdtZW50c307dGhpcy5mcm9tQnVmZmVyR2VvbWV0cnkobmV3IFBsYW5lQnVmZmVyR2VvbWV0cnkod2lkdGgsaGVpZ2h0LHdpZHRoU2VnbWVudHMsaGVpZ2h0U2VnbWVudHMpKTt0aGlzLm1lcmdlVmVydGljZXMoKTt9UGxhbmVHZW9tZXRyeS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShHZW9tZXRyeS5wcm90b3R5cGUpO1BsYW5lR2VvbWV0cnkucHJvdG90eXBlLmNvbnN0cnVjdG9yPVBsYW5lR2VvbWV0cnk7Ly8gUGxhbmVCdWZmZXJHZW9tZXRyeQpmdW5jdGlvbiBQbGFuZUJ1ZmZlckdlb21ldHJ5KHdpZHRoLGhlaWdodCx3aWR0aFNlZ21lbnRzLGhlaWdodFNlZ21lbnRzKXtCdWZmZXJHZW9tZXRyeS5jYWxsKHRoaXMpO3RoaXMudHlwZT0nUGxhbmVCdWZmZXJHZW9tZXRyeSc7dGhpcy5wYXJhbWV0ZXJzPXt3aWR0aDp3aWR0aCxoZWlnaHQ6aGVpZ2h0LHdpZHRoU2VnbWVudHM6d2lkdGhTZWdtZW50cyxoZWlnaHRTZWdtZW50czpoZWlnaHRTZWdtZW50c307d2lkdGg9d2lkdGh8fDE7aGVpZ2h0PWhlaWdodHx8MTt2YXIgd2lkdGhfaGFsZj13aWR0aC8yO3ZhciBoZWlnaHRfaGFsZj1oZWlnaHQvMjt2YXIgZ3JpZFg9TWF0aC5mbG9vcih3aWR0aFNlZ21lbnRzKXx8MTt2YXIgZ3JpZFk9TWF0aC5mbG9vcihoZWlnaHRTZWdtZW50cyl8fDE7dmFyIGdyaWRYMT1ncmlkWCsxO3ZhciBncmlkWTE9Z3JpZFkrMTt2YXIgc2VnbWVudF93aWR0aD13aWR0aC9ncmlkWDt2YXIgc2VnbWVudF9oZWlnaHQ9aGVpZ2h0L2dyaWRZO3ZhciBpeCxpeTsvLyBidWZmZXJzCnZhciBpbmRpY2VzPVtdO3ZhciB2ZXJ0aWNlcz1bXTt2YXIgbm9ybWFscz1bXTt2YXIgdXZzPVtdOy8vIGdlbmVyYXRlIHZlcnRpY2VzLCBub3JtYWxzIGFuZCB1dnMKZm9yKGl5PTA7aXk8Z3JpZFkxO2l5Kyspe3ZhciB5PWl5KnNlZ21lbnRfaGVpZ2h0LWhlaWdodF9oYWxmO2ZvcihpeD0wO2l4PGdyaWRYMTtpeCsrKXt2YXIgeD1peCpzZWdtZW50X3dpZHRoLXdpZHRoX2hhbGY7dmVydGljZXMucHVzaCh4LC15LDApO25vcm1hbHMucHVzaCgwLDAsMSk7dXZzLnB1c2goaXgvZ3JpZFgpO3V2cy5wdXNoKDEtaXkvZ3JpZFkpO319Ly8gaW5kaWNlcwpmb3IoaXk9MDtpeTxncmlkWTtpeSsrKXtmb3IoaXg9MDtpeDxncmlkWDtpeCsrKXt2YXIgYT1peCtncmlkWDEqaXk7dmFyIGI9aXgrZ3JpZFgxKihpeSsxKTt2YXIgYz1peCsxK2dyaWRYMSooaXkrMSk7dmFyIGQ9aXgrMStncmlkWDEqaXk7Ly8gZmFjZXMKaW5kaWNlcy5wdXNoKGEsYixkKTtpbmRpY2VzLnB1c2goYixjLGQpO319Ly8gYnVpbGQgZ2VvbWV0cnkKdGhpcy5zZXRJbmRleChpbmRpY2VzKTt0aGlzLnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKHZlcnRpY2VzLDMpKTt0aGlzLnNldEF0dHJpYnV0ZSgnbm9ybWFsJyxuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZShub3JtYWxzLDMpKTt0aGlzLnNldEF0dHJpYnV0ZSgndXYnLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKHV2cywyKSk7fVBsYW5lQnVmZmVyR2VvbWV0cnkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoQnVmZmVyR2VvbWV0cnkucHJvdG90eXBlKTtQbGFuZUJ1ZmZlckdlb21ldHJ5LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1QbGFuZUJ1ZmZlckdlb21ldHJ5Oy8qKgogICAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb20vCiAgICovZnVuY3Rpb24gV2ViR0xCYWNrZ3JvdW5kKHJlbmRlcmVyLHN0YXRlLG9iamVjdHMscHJlbXVsdGlwbGllZEFscGhhKXt2YXIgY2xlYXJDb2xvcj1uZXcgQ29sb3IoMHgwMDAwMDApO3ZhciBjbGVhckFscGhhPTA7dmFyIHBsYW5lTWVzaDt2YXIgYm94TWVzaDsvLyBTdG9yZSB0aGUgY3VycmVudCBiYWNrZ3JvdW5kIHRleHR1cmUgYW5kIGl0cyBgdmVyc2lvbmAKLy8gc28gd2UgY2FuIHJlY29tcGlsZSB0aGUgbWF0ZXJpYWwgYWNjb3JkaW5nbHkuCnZhciBjdXJyZW50QmFja2dyb3VuZD1udWxsO3ZhciBjdXJyZW50QmFja2dyb3VuZFZlcnNpb249MDtmdW5jdGlvbiByZW5kZXIocmVuZGVyTGlzdCxzY2VuZSxjYW1lcmEsZm9yY2VDbGVhcil7dmFyIGJhY2tncm91bmQ9c2NlbmUuYmFja2dyb3VuZDsvLyBJZ25vcmUgYmFja2dyb3VuZCBpbiBBUgovLyBUT0RPOiBSZWNvbnNpZGVyIHRoaXMuCnZhciB4cj1yZW5kZXJlci54cjt2YXIgc2Vzc2lvbj14ci5nZXRTZXNzaW9uJiZ4ci5nZXRTZXNzaW9uKCk7aWYoc2Vzc2lvbiYmc2Vzc2lvbi5lbnZpcm9ubWVudEJsZW5kTW9kZT09PSdhZGRpdGl2ZScpe2JhY2tncm91bmQ9bnVsbDt9aWYoYmFja2dyb3VuZD09PW51bGwpe3NldENsZWFyKGNsZWFyQ29sb3IsY2xlYXJBbHBoYSk7Y3VycmVudEJhY2tncm91bmQ9bnVsbDtjdXJyZW50QmFja2dyb3VuZFZlcnNpb249MDt9ZWxzZSBpZihiYWNrZ3JvdW5kJiZiYWNrZ3JvdW5kLmlzQ29sb3Ipe3NldENsZWFyKGJhY2tncm91bmQsMSk7Zm9yY2VDbGVhcj10cnVlO2N1cnJlbnRCYWNrZ3JvdW5kPW51bGw7Y3VycmVudEJhY2tncm91bmRWZXJzaW9uPTA7fWlmKHJlbmRlcmVyLmF1dG9DbGVhcnx8Zm9yY2VDbGVhcil7cmVuZGVyZXIuY2xlYXIocmVuZGVyZXIuYXV0b0NsZWFyQ29sb3IscmVuZGVyZXIuYXV0b0NsZWFyRGVwdGgscmVuZGVyZXIuYXV0b0NsZWFyU3RlbmNpbCk7fWlmKGJhY2tncm91bmQmJihiYWNrZ3JvdW5kLmlzQ3ViZVRleHR1cmV8fGJhY2tncm91bmQuaXNXZWJHTFJlbmRlclRhcmdldEN1YmV8fGJhY2tncm91bmQubWFwcGluZz09PUN1YmVVVlJlZmxlY3Rpb25NYXBwaW5nKSl7aWYoYm94TWVzaD09PXVuZGVmaW5lZCl7Ym94TWVzaD1uZXcgTWVzaChuZXcgQm94QnVmZmVyR2VvbWV0cnkoMSwxLDEpLG5ldyBTaGFkZXJNYXRlcmlhbCh7dHlwZTonQmFja2dyb3VuZEN1YmVNYXRlcmlhbCcsdW5pZm9ybXM6Y2xvbmVVbmlmb3JtcyhTaGFkZXJMaWIuY3ViZS51bmlmb3JtcyksdmVydGV4U2hhZGVyOlNoYWRlckxpYi5jdWJlLnZlcnRleFNoYWRlcixmcmFnbWVudFNoYWRlcjpTaGFkZXJMaWIuY3ViZS5mcmFnbWVudFNoYWRlcixzaWRlOkJhY2tTaWRlLGRlcHRoVGVzdDpmYWxzZSxkZXB0aFdyaXRlOmZhbHNlLGZvZzpmYWxzZX0pKTtib3hNZXNoLmdlb21ldHJ5LmRlbGV0ZUF0dHJpYnV0ZSgnbm9ybWFsJyk7Ym94TWVzaC5nZW9tZXRyeS5kZWxldGVBdHRyaWJ1dGUoJ3V2Jyk7Ym94TWVzaC5vbkJlZm9yZVJlbmRlcj1mdW5jdGlvbihyZW5kZXJlcixzY2VuZSxjYW1lcmEpe3RoaXMubWF0cml4V29ybGQuY29weVBvc2l0aW9uKGNhbWVyYS5tYXRyaXhXb3JsZCk7fTsvLyBlbmFibGUgY29kZSBpbmplY3Rpb24gZm9yIG5vbi1idWlsdC1pbiBtYXRlcmlhbApPYmplY3QuZGVmaW5lUHJvcGVydHkoYm94TWVzaC5tYXRlcmlhbCwnZW52TWFwJyx7Z2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLnVuaWZvcm1zLmVudk1hcC52YWx1ZTt9fSk7b2JqZWN0cy51cGRhdGUoYm94TWVzaCk7fXZhciB0ZXh0dXJlPWJhY2tncm91bmQuaXNXZWJHTFJlbmRlclRhcmdldEN1YmU/YmFja2dyb3VuZC50ZXh0dXJlOmJhY2tncm91bmQ7Ym94TWVzaC5tYXRlcmlhbC51bmlmb3Jtcy5lbnZNYXAudmFsdWU9dGV4dHVyZTtib3hNZXNoLm1hdGVyaWFsLnVuaWZvcm1zLmZsaXBFbnZNYXAudmFsdWU9dGV4dHVyZS5pc0N1YmVUZXh0dXJlPy0xOjE7aWYoY3VycmVudEJhY2tncm91bmQhPT1iYWNrZ3JvdW5kfHxjdXJyZW50QmFja2dyb3VuZFZlcnNpb24hPT10ZXh0dXJlLnZlcnNpb24pe2JveE1lc2gubWF0ZXJpYWwubmVlZHNVcGRhdGU9dHJ1ZTtjdXJyZW50QmFja2dyb3VuZD1iYWNrZ3JvdW5kO2N1cnJlbnRCYWNrZ3JvdW5kVmVyc2lvbj10ZXh0dXJlLnZlcnNpb247fS8vIHB1c2ggdG8gdGhlIHByZS1zb3J0ZWQgb3BhcXVlIHJlbmRlciBsaXN0CnJlbmRlckxpc3QudW5zaGlmdChib3hNZXNoLGJveE1lc2guZ2VvbWV0cnksYm94TWVzaC5tYXRlcmlhbCwwLDAsbnVsbCk7fWVsc2UgaWYoYmFja2dyb3VuZCYmYmFja2dyb3VuZC5pc1RleHR1cmUpe2lmKHBsYW5lTWVzaD09PXVuZGVmaW5lZCl7cGxhbmVNZXNoPW5ldyBNZXNoKG5ldyBQbGFuZUJ1ZmZlckdlb21ldHJ5KDIsMiksbmV3IFNoYWRlck1hdGVyaWFsKHt0eXBlOidCYWNrZ3JvdW5kTWF0ZXJpYWwnLHVuaWZvcm1zOmNsb25lVW5pZm9ybXMoU2hhZGVyTGliLmJhY2tncm91bmQudW5pZm9ybXMpLHZlcnRleFNoYWRlcjpTaGFkZXJMaWIuYmFja2dyb3VuZC52ZXJ0ZXhTaGFkZXIsZnJhZ21lbnRTaGFkZXI6U2hhZGVyTGliLmJhY2tncm91bmQuZnJhZ21lbnRTaGFkZXIsc2lkZTpGcm9udFNpZGUsZGVwdGhUZXN0OmZhbHNlLGRlcHRoV3JpdGU6ZmFsc2UsZm9nOmZhbHNlfSkpO3BsYW5lTWVzaC5nZW9tZXRyeS5kZWxldGVBdHRyaWJ1dGUoJ25vcm1hbCcpOy8vIGVuYWJsZSBjb2RlIGluamVjdGlvbiBmb3Igbm9uLWJ1aWx0LWluIG1hdGVyaWFsCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShwbGFuZU1lc2gubWF0ZXJpYWwsJ21hcCcse2dldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy51bmlmb3Jtcy50MkQudmFsdWU7fX0pO29iamVjdHMudXBkYXRlKHBsYW5lTWVzaCk7fXBsYW5lTWVzaC5tYXRlcmlhbC51bmlmb3Jtcy50MkQudmFsdWU9YmFja2dyb3VuZDtpZihiYWNrZ3JvdW5kLm1hdHJpeEF1dG9VcGRhdGU9PT10cnVlKXtiYWNrZ3JvdW5kLnVwZGF0ZU1hdHJpeCgpO31wbGFuZU1lc2gubWF0ZXJpYWwudW5pZm9ybXMudXZUcmFuc2Zvcm0udmFsdWUuY29weShiYWNrZ3JvdW5kLm1hdHJpeCk7aWYoY3VycmVudEJhY2tncm91bmQhPT1iYWNrZ3JvdW5kfHxjdXJyZW50QmFja2dyb3VuZFZlcnNpb24hPT1iYWNrZ3JvdW5kLnZlcnNpb24pe3BsYW5lTWVzaC5tYXRlcmlhbC5uZWVkc1VwZGF0ZT10cnVlO2N1cnJlbnRCYWNrZ3JvdW5kPWJhY2tncm91bmQ7Y3VycmVudEJhY2tncm91bmRWZXJzaW9uPWJhY2tncm91bmQudmVyc2lvbjt9Ly8gcHVzaCB0byB0aGUgcHJlLXNvcnRlZCBvcGFxdWUgcmVuZGVyIGxpc3QKcmVuZGVyTGlzdC51bnNoaWZ0KHBsYW5lTWVzaCxwbGFuZU1lc2guZ2VvbWV0cnkscGxhbmVNZXNoLm1hdGVyaWFsLDAsMCxudWxsKTt9fWZ1bmN0aW9uIHNldENsZWFyKGNvbG9yLGFscGhhKXtzdGF0ZS5idWZmZXJzLmNvbG9yLnNldENsZWFyKGNvbG9yLnIsY29sb3IuZyxjb2xvci5iLGFscGhhLHByZW11bHRpcGxpZWRBbHBoYSk7fXJldHVybntnZXRDbGVhckNvbG9yOmZ1bmN0aW9uIGdldENsZWFyQ29sb3IoKXtyZXR1cm4gY2xlYXJDb2xvcjt9LHNldENsZWFyQ29sb3I6ZnVuY3Rpb24gc2V0Q2xlYXJDb2xvcihjb2xvcixhbHBoYSl7Y2xlYXJDb2xvci5zZXQoY29sb3IpO2NsZWFyQWxwaGE9YWxwaGEhPT11bmRlZmluZWQ/YWxwaGE6MTtzZXRDbGVhcihjbGVhckNvbG9yLGNsZWFyQWxwaGEpO30sZ2V0Q2xlYXJBbHBoYTpmdW5jdGlvbiBnZXRDbGVhckFscGhhKCl7cmV0dXJuIGNsZWFyQWxwaGE7fSxzZXRDbGVhckFscGhhOmZ1bmN0aW9uIHNldENsZWFyQWxwaGEoYWxwaGEpe2NsZWFyQWxwaGE9YWxwaGE7c2V0Q2xlYXIoY2xlYXJDb2xvcixjbGVhckFscGhhKTt9LHJlbmRlcjpyZW5kZXJ9O30vKioKICAgKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tLwogICAqL2Z1bmN0aW9uIFdlYkdMQnVmZmVyUmVuZGVyZXIoZ2wsZXh0ZW5zaW9ucyxpbmZvLGNhcGFiaWxpdGllcyl7dmFyIGlzV2ViR0wyPWNhcGFiaWxpdGllcy5pc1dlYkdMMjt2YXIgbW9kZTtmdW5jdGlvbiBzZXRNb2RlKHZhbHVlKXttb2RlPXZhbHVlO31mdW5jdGlvbiByZW5kZXIoc3RhcnQsY291bnQpe2dsLmRyYXdBcnJheXMobW9kZSxzdGFydCxjb3VudCk7aW5mby51cGRhdGUoY291bnQsbW9kZSk7fWZ1bmN0aW9uIHJlbmRlckluc3RhbmNlcyhnZW9tZXRyeSxzdGFydCxjb3VudCxwcmltY291bnQpe2lmKHByaW1jb3VudD09PTApe3JldHVybjt9dmFyIGV4dGVuc2lvbixtZXRob2ROYW1lO2lmKGlzV2ViR0wyKXtleHRlbnNpb249Z2w7bWV0aG9kTmFtZT0nZHJhd0FycmF5c0luc3RhbmNlZCc7fWVsc2V7ZXh0ZW5zaW9uPWV4dGVuc2lvbnMuZ2V0KCdBTkdMRV9pbnN0YW5jZWRfYXJyYXlzJyk7bWV0aG9kTmFtZT0nZHJhd0FycmF5c0luc3RhbmNlZEFOR0xFJztpZihleHRlbnNpb249PT1udWxsKXtjb25zb2xlLmVycm9yKCdUSFJFRS5XZWJHTEJ1ZmZlclJlbmRlcmVyOiB1c2luZyBUSFJFRS5JbnN0YW5jZWRCdWZmZXJHZW9tZXRyeSBidXQgaGFyZHdhcmUgZG9lcyBub3Qgc3VwcG9ydCBleHRlbnNpb24gQU5HTEVfaW5zdGFuY2VkX2FycmF5cy4nKTtyZXR1cm47fX1leHRlbnNpb25bbWV0aG9kTmFtZV0obW9kZSxzdGFydCxjb3VudCxwcmltY291bnQpO2luZm8udXBkYXRlKGNvdW50LG1vZGUscHJpbWNvdW50KTt9Ly8KdGhpcy5zZXRNb2RlPXNldE1vZGU7dGhpcy5yZW5kZXI9cmVuZGVyO3RoaXMucmVuZGVySW5zdGFuY2VzPXJlbmRlckluc3RhbmNlczt9LyoqCiAgICogQGF1dGhvciBtcmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS8KICAgKi9mdW5jdGlvbiBXZWJHTENhcGFiaWxpdGllcyhnbCxleHRlbnNpb25zLHBhcmFtZXRlcnMpe3ZhciBtYXhBbmlzb3Ryb3B5O2Z1bmN0aW9uIGdldE1heEFuaXNvdHJvcHkoKXtpZihtYXhBbmlzb3Ryb3B5IT09dW5kZWZpbmVkKXtyZXR1cm4gbWF4QW5pc290cm9weTt9dmFyIGV4dGVuc2lvbj1leHRlbnNpb25zLmdldCgnRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljJyk7aWYoZXh0ZW5zaW9uIT09bnVsbCl7bWF4QW5pc290cm9weT1nbC5nZXRQYXJhbWV0ZXIoZXh0ZW5zaW9uLk1BWF9URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCk7fWVsc2V7bWF4QW5pc290cm9weT0wO31yZXR1cm4gbWF4QW5pc290cm9weTt9ZnVuY3Rpb24gZ2V0TWF4UHJlY2lzaW9uKHByZWNpc2lvbil7aWYocHJlY2lzaW9uPT09J2hpZ2hwJyl7aWYoZ2wuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KDM1NjMzLDM2MzM4KS5wcmVjaXNpb24+MCYmZ2wuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KDM1NjMyLDM2MzM4KS5wcmVjaXNpb24+MCl7cmV0dXJuJ2hpZ2hwJzt9cHJlY2lzaW9uPSdtZWRpdW1wJzt9aWYocHJlY2lzaW9uPT09J21lZGl1bXAnKXtpZihnbC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQoMzU2MzMsMzYzMzcpLnByZWNpc2lvbj4wJiZnbC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQoMzU2MzIsMzYzMzcpLnByZWNpc2lvbj4wKXtyZXR1cm4nbWVkaXVtcCc7fX1yZXR1cm4nbG93cCc7fS8qIGVzbGludC1kaXNhYmxlIG5vLXVuZGVmICovdmFyIGlzV2ViR0wyPXR5cGVvZiBXZWJHTDJSZW5kZXJpbmdDb250ZXh0IT09J3VuZGVmaW5lZCcmJmdsIGluc3RhbmNlb2YgV2ViR0wyUmVuZGVyaW5nQ29udGV4dHx8dHlwZW9mIFdlYkdMMkNvbXB1dGVSZW5kZXJpbmdDb250ZXh0IT09J3VuZGVmaW5lZCcmJmdsIGluc3RhbmNlb2YgV2ViR0wyQ29tcHV0ZVJlbmRlcmluZ0NvbnRleHQ7LyogZXNsaW50LWVuYWJsZSBuby11bmRlZiAqL3ZhciBwcmVjaXNpb249cGFyYW1ldGVycy5wcmVjaXNpb24hPT11bmRlZmluZWQ/cGFyYW1ldGVycy5wcmVjaXNpb246J2hpZ2hwJzt2YXIgbWF4UHJlY2lzaW9uPWdldE1heFByZWNpc2lvbihwcmVjaXNpb24pO2lmKG1heFByZWNpc2lvbiE9PXByZWNpc2lvbil7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlcmVyOicscHJlY2lzaW9uLCdub3Qgc3VwcG9ydGVkLCB1c2luZycsbWF4UHJlY2lzaW9uLCdpbnN0ZWFkLicpO3ByZWNpc2lvbj1tYXhQcmVjaXNpb247fXZhciBsb2dhcml0aG1pY0RlcHRoQnVmZmVyPXBhcmFtZXRlcnMubG9nYXJpdGhtaWNEZXB0aEJ1ZmZlcj09PXRydWU7dmFyIG1heFRleHR1cmVzPWdsLmdldFBhcmFtZXRlcigzNDkzMCk7dmFyIG1heFZlcnRleFRleHR1cmVzPWdsLmdldFBhcmFtZXRlcigzNTY2MCk7dmFyIG1heFRleHR1cmVTaXplPWdsLmdldFBhcmFtZXRlcigzMzc5KTt2YXIgbWF4Q3ViZW1hcFNpemU9Z2wuZ2V0UGFyYW1ldGVyKDM0MDc2KTt2YXIgbWF4QXR0cmlidXRlcz1nbC5nZXRQYXJhbWV0ZXIoMzQ5MjEpO3ZhciBtYXhWZXJ0ZXhVbmlmb3Jtcz1nbC5nZXRQYXJhbWV0ZXIoMzYzNDcpO3ZhciBtYXhWYXJ5aW5ncz1nbC5nZXRQYXJhbWV0ZXIoMzYzNDgpO3ZhciBtYXhGcmFnbWVudFVuaWZvcm1zPWdsLmdldFBhcmFtZXRlcigzNjM0OSk7dmFyIHZlcnRleFRleHR1cmVzPW1heFZlcnRleFRleHR1cmVzPjA7dmFyIGZsb2F0RnJhZ21lbnRUZXh0dXJlcz1pc1dlYkdMMnx8ISFleHRlbnNpb25zLmdldCgnT0VTX3RleHR1cmVfZmxvYXQnKTt2YXIgZmxvYXRWZXJ0ZXhUZXh0dXJlcz12ZXJ0ZXhUZXh0dXJlcyYmZmxvYXRGcmFnbWVudFRleHR1cmVzO3ZhciBtYXhTYW1wbGVzPWlzV2ViR0wyP2dsLmdldFBhcmFtZXRlcigzNjE4Myk6MDtyZXR1cm57aXNXZWJHTDI6aXNXZWJHTDIsZ2V0TWF4QW5pc290cm9weTpnZXRNYXhBbmlzb3Ryb3B5LGdldE1heFByZWNpc2lvbjpnZXRNYXhQcmVjaXNpb24scHJlY2lzaW9uOnByZWNpc2lvbixsb2dhcml0aG1pY0RlcHRoQnVmZmVyOmxvZ2FyaXRobWljRGVwdGhCdWZmZXIsbWF4VGV4dHVyZXM6bWF4VGV4dHVyZXMsbWF4VmVydGV4VGV4dHVyZXM6bWF4VmVydGV4VGV4dHVyZXMsbWF4VGV4dHVyZVNpemU6bWF4VGV4dHVyZVNpemUsbWF4Q3ViZW1hcFNpemU6bWF4Q3ViZW1hcFNpemUsbWF4QXR0cmlidXRlczptYXhBdHRyaWJ1dGVzLG1heFZlcnRleFVuaWZvcm1zOm1heFZlcnRleFVuaWZvcm1zLG1heFZhcnlpbmdzOm1heFZhcnlpbmdzLG1heEZyYWdtZW50VW5pZm9ybXM6bWF4RnJhZ21lbnRVbmlmb3Jtcyx2ZXJ0ZXhUZXh0dXJlczp2ZXJ0ZXhUZXh0dXJlcyxmbG9hdEZyYWdtZW50VGV4dHVyZXM6ZmxvYXRGcmFnbWVudFRleHR1cmVzLGZsb2F0VmVydGV4VGV4dHVyZXM6ZmxvYXRWZXJ0ZXhUZXh0dXJlcyxtYXhTYW1wbGVzOm1heFNhbXBsZXN9O30vKioKICAgKiBAYXV0aG9yIHRzY2h3CiAgICovZnVuY3Rpb24gV2ViR0xDbGlwcGluZygpe3ZhciBzY29wZT10aGlzLGdsb2JhbFN0YXRlPW51bGwsbnVtR2xvYmFsUGxhbmVzPTAsbG9jYWxDbGlwcGluZ0VuYWJsZWQ9ZmFsc2UscmVuZGVyaW5nU2hhZG93cz1mYWxzZSxwbGFuZT1uZXcgUGxhbmUoKSx2aWV3Tm9ybWFsTWF0cml4PW5ldyBNYXRyaXgzKCksdW5pZm9ybT17dmFsdWU6bnVsbCxuZWVkc1VwZGF0ZTpmYWxzZX07dGhpcy51bmlmb3JtPXVuaWZvcm07dGhpcy5udW1QbGFuZXM9MDt0aGlzLm51bUludGVyc2VjdGlvbj0wO3RoaXMuaW5pdD1mdW5jdGlvbihwbGFuZXMsZW5hYmxlTG9jYWxDbGlwcGluZyxjYW1lcmEpe3ZhciBlbmFibGVkPXBsYW5lcy5sZW5ndGghPT0wfHxlbmFibGVMb2NhbENsaXBwaW5nfHwvLyBlbmFibGUgc3RhdGUgb2YgcHJldmlvdXMgZnJhbWUgLSB0aGUgY2xpcHBpbmcgY29kZSBoYXMgdG8KLy8gcnVuIGFub3RoZXIgZnJhbWUgaW4gb3JkZXIgdG8gcmVzZXQgdGhlIHN0YXRlOgpudW1HbG9iYWxQbGFuZXMhPT0wfHxsb2NhbENsaXBwaW5nRW5hYmxlZDtsb2NhbENsaXBwaW5nRW5hYmxlZD1lbmFibGVMb2NhbENsaXBwaW5nO2dsb2JhbFN0YXRlPXByb2plY3RQbGFuZXMocGxhbmVzLGNhbWVyYSwwKTtudW1HbG9iYWxQbGFuZXM9cGxhbmVzLmxlbmd0aDtyZXR1cm4gZW5hYmxlZDt9O3RoaXMuYmVnaW5TaGFkb3dzPWZ1bmN0aW9uKCl7cmVuZGVyaW5nU2hhZG93cz10cnVlO3Byb2plY3RQbGFuZXMobnVsbCk7fTt0aGlzLmVuZFNoYWRvd3M9ZnVuY3Rpb24oKXtyZW5kZXJpbmdTaGFkb3dzPWZhbHNlO3Jlc2V0R2xvYmFsU3RhdGUoKTt9O3RoaXMuc2V0U3RhdGU9ZnVuY3Rpb24ocGxhbmVzLGNsaXBJbnRlcnNlY3Rpb24sY2xpcFNoYWRvd3MsY2FtZXJhLGNhY2hlLGZyb21DYWNoZSl7aWYoIWxvY2FsQ2xpcHBpbmdFbmFibGVkfHxwbGFuZXM9PT1udWxsfHxwbGFuZXMubGVuZ3RoPT09MHx8cmVuZGVyaW5nU2hhZG93cyYmIWNsaXBTaGFkb3dzKXsvLyB0aGVyZSdzIG5vIGxvY2FsIGNsaXBwaW5nCmlmKHJlbmRlcmluZ1NoYWRvd3Mpey8vIHRoZXJlJ3Mgbm8gZ2xvYmFsIGNsaXBwaW5nCnByb2plY3RQbGFuZXMobnVsbCk7fWVsc2V7cmVzZXRHbG9iYWxTdGF0ZSgpO319ZWxzZXt2YXIgbkdsb2JhbD1yZW5kZXJpbmdTaGFkb3dzPzA6bnVtR2xvYmFsUGxhbmVzLGxHbG9iYWw9bkdsb2JhbCo0LGRzdEFycmF5PWNhY2hlLmNsaXBwaW5nU3RhdGV8fG51bGw7dW5pZm9ybS52YWx1ZT1kc3RBcnJheTsvLyBlbnN1cmUgdW5pcXVlIHN0YXRlCmRzdEFycmF5PXByb2plY3RQbGFuZXMocGxhbmVzLGNhbWVyYSxsR2xvYmFsLGZyb21DYWNoZSk7Zm9yKHZhciBpPTA7aSE9PWxHbG9iYWw7KytpKXtkc3RBcnJheVtpXT1nbG9iYWxTdGF0ZVtpXTt9Y2FjaGUuY2xpcHBpbmdTdGF0ZT1kc3RBcnJheTt0aGlzLm51bUludGVyc2VjdGlvbj1jbGlwSW50ZXJzZWN0aW9uP3RoaXMubnVtUGxhbmVzOjA7dGhpcy5udW1QbGFuZXMrPW5HbG9iYWw7fX07ZnVuY3Rpb24gcmVzZXRHbG9iYWxTdGF0ZSgpe2lmKHVuaWZvcm0udmFsdWUhPT1nbG9iYWxTdGF0ZSl7dW5pZm9ybS52YWx1ZT1nbG9iYWxTdGF0ZTt1bmlmb3JtLm5lZWRzVXBkYXRlPW51bUdsb2JhbFBsYW5lcz4wO31zY29wZS5udW1QbGFuZXM9bnVtR2xvYmFsUGxhbmVzO3Njb3BlLm51bUludGVyc2VjdGlvbj0wO31mdW5jdGlvbiBwcm9qZWN0UGxhbmVzKHBsYW5lcyxjYW1lcmEsZHN0T2Zmc2V0LHNraXBUcmFuc2Zvcm0pe3ZhciBuUGxhbmVzPXBsYW5lcyE9PW51bGw/cGxhbmVzLmxlbmd0aDowLGRzdEFycmF5PW51bGw7aWYoblBsYW5lcyE9PTApe2RzdEFycmF5PXVuaWZvcm0udmFsdWU7aWYoc2tpcFRyYW5zZm9ybSE9PXRydWV8fGRzdEFycmF5PT09bnVsbCl7dmFyIGZsYXRTaXplPWRzdE9mZnNldCtuUGxhbmVzKjQsdmlld01hdHJpeD1jYW1lcmEubWF0cml4V29ybGRJbnZlcnNlO3ZpZXdOb3JtYWxNYXRyaXguZ2V0Tm9ybWFsTWF0cml4KHZpZXdNYXRyaXgpO2lmKGRzdEFycmF5PT09bnVsbHx8ZHN0QXJyYXkubGVuZ3RoPGZsYXRTaXplKXtkc3RBcnJheT1uZXcgRmxvYXQzMkFycmF5KGZsYXRTaXplKTt9Zm9yKHZhciBpPTAsaTQ9ZHN0T2Zmc2V0O2khPT1uUGxhbmVzOysraSxpNCs9NCl7cGxhbmUuY29weShwbGFuZXNbaV0pLmFwcGx5TWF0cml4NCh2aWV3TWF0cml4LHZpZXdOb3JtYWxNYXRyaXgpO3BsYW5lLm5vcm1hbC50b0FycmF5KGRzdEFycmF5LGk0KTtkc3RBcnJheVtpNCszXT1wbGFuZS5jb25zdGFudDt9fXVuaWZvcm0udmFsdWU9ZHN0QXJyYXk7dW5pZm9ybS5uZWVkc1VwZGF0ZT10cnVlO31zY29wZS5udW1QbGFuZXM9blBsYW5lcztyZXR1cm4gZHN0QXJyYXk7fX0vKioKICAgKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tLwogICAqL2Z1bmN0aW9uIFdlYkdMRXh0ZW5zaW9ucyhnbCl7dmFyIGV4dGVuc2lvbnM9e307cmV0dXJue2dldDpmdW5jdGlvbiBnZXQobmFtZSl7aWYoZXh0ZW5zaW9uc1tuYW1lXSE9PXVuZGVmaW5lZCl7cmV0dXJuIGV4dGVuc2lvbnNbbmFtZV07fXZhciBleHRlbnNpb247c3dpdGNoKG5hbWUpe2Nhc2UnV0VCR0xfZGVwdGhfdGV4dHVyZSc6ZXh0ZW5zaW9uPWdsLmdldEV4dGVuc2lvbignV0VCR0xfZGVwdGhfdGV4dHVyZScpfHxnbC5nZXRFeHRlbnNpb24oJ01PWl9XRUJHTF9kZXB0aF90ZXh0dXJlJyl8fGdsLmdldEV4dGVuc2lvbignV0VCS0lUX1dFQkdMX2RlcHRoX3RleHR1cmUnKTticmVhaztjYXNlJ0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYyc6ZXh0ZW5zaW9uPWdsLmdldEV4dGVuc2lvbignRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljJyl8fGdsLmdldEV4dGVuc2lvbignTU9aX0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYycpfHxnbC5nZXRFeHRlbnNpb24oJ1dFQktJVF9FWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMnKTticmVhaztjYXNlJ1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjJzpleHRlbnNpb249Z2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0YycpfHxnbC5nZXRFeHRlbnNpb24oJ01PWl9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0YycpfHxnbC5nZXRFeHRlbnNpb24oJ1dFQktJVF9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0YycpO2JyZWFrO2Nhc2UnV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3B2cnRjJzpleHRlbnNpb249Z2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfcHZydGMnKXx8Z2wuZ2V0RXh0ZW5zaW9uKCdXRUJLSVRfV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3B2cnRjJyk7YnJlYWs7ZGVmYXVsdDpleHRlbnNpb249Z2wuZ2V0RXh0ZW5zaW9uKG5hbWUpO31pZihleHRlbnNpb249PT1udWxsKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyZXI6ICcrbmFtZSsnIGV4dGVuc2lvbiBub3Qgc3VwcG9ydGVkLicpO31leHRlbnNpb25zW25hbWVdPWV4dGVuc2lvbjtyZXR1cm4gZXh0ZW5zaW9uO319O30vKioKICAgKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tLwogICAqL2Z1bmN0aW9uIFdlYkdMR2VvbWV0cmllcyhnbCxhdHRyaWJ1dGVzLGluZm8pe3ZhciBnZW9tZXRyaWVzPW5ldyBXZWFrTWFwKCk7dmFyIHdpcmVmcmFtZUF0dHJpYnV0ZXM9bmV3IFdlYWtNYXAoKTtmdW5jdGlvbiBvbkdlb21ldHJ5RGlzcG9zZShldmVudCl7dmFyIGdlb21ldHJ5PWV2ZW50LnRhcmdldDt2YXIgYnVmZmVyZ2VvbWV0cnk9Z2VvbWV0cmllcy5nZXQoZ2VvbWV0cnkpO2lmKGJ1ZmZlcmdlb21ldHJ5LmluZGV4IT09bnVsbCl7YXR0cmlidXRlcy5yZW1vdmUoYnVmZmVyZ2VvbWV0cnkuaW5kZXgpO31mb3IodmFyIG5hbWUgaW4gYnVmZmVyZ2VvbWV0cnkuYXR0cmlidXRlcyl7YXR0cmlidXRlcy5yZW1vdmUoYnVmZmVyZ2VvbWV0cnkuYXR0cmlidXRlc1tuYW1lXSk7fWdlb21ldHJ5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Rpc3Bvc2UnLG9uR2VvbWV0cnlEaXNwb3NlKTtnZW9tZXRyaWVzLmRlbGV0ZShnZW9tZXRyeSk7dmFyIGF0dHJpYnV0ZT13aXJlZnJhbWVBdHRyaWJ1dGVzLmdldChidWZmZXJnZW9tZXRyeSk7aWYoYXR0cmlidXRlKXthdHRyaWJ1dGVzLnJlbW92ZShhdHRyaWJ1dGUpO3dpcmVmcmFtZUF0dHJpYnV0ZXMuZGVsZXRlKGJ1ZmZlcmdlb21ldHJ5KTt9Ly8KaW5mby5tZW1vcnkuZ2VvbWV0cmllcy0tO31mdW5jdGlvbiBnZXQob2JqZWN0LGdlb21ldHJ5KXt2YXIgYnVmZmVyZ2VvbWV0cnk9Z2VvbWV0cmllcy5nZXQoZ2VvbWV0cnkpO2lmKGJ1ZmZlcmdlb21ldHJ5KXtyZXR1cm4gYnVmZmVyZ2VvbWV0cnk7fWdlb21ldHJ5LmFkZEV2ZW50TGlzdGVuZXIoJ2Rpc3Bvc2UnLG9uR2VvbWV0cnlEaXNwb3NlKTtpZihnZW9tZXRyeS5pc0J1ZmZlckdlb21ldHJ5KXtidWZmZXJnZW9tZXRyeT1nZW9tZXRyeTt9ZWxzZSBpZihnZW9tZXRyeS5pc0dlb21ldHJ5KXtpZihnZW9tZXRyeS5fYnVmZmVyR2VvbWV0cnk9PT11bmRlZmluZWQpe2dlb21ldHJ5Ll9idWZmZXJHZW9tZXRyeT1uZXcgQnVmZmVyR2VvbWV0cnkoKS5zZXRGcm9tT2JqZWN0KG9iamVjdCk7fWJ1ZmZlcmdlb21ldHJ5PWdlb21ldHJ5Ll9idWZmZXJHZW9tZXRyeTt9Z2VvbWV0cmllcy5zZXQoZ2VvbWV0cnksYnVmZmVyZ2VvbWV0cnkpO2luZm8ubWVtb3J5Lmdlb21ldHJpZXMrKztyZXR1cm4gYnVmZmVyZ2VvbWV0cnk7fWZ1bmN0aW9uIHVwZGF0ZShnZW9tZXRyeSl7dmFyIGluZGV4PWdlb21ldHJ5LmluZGV4O3ZhciBnZW9tZXRyeUF0dHJpYnV0ZXM9Z2VvbWV0cnkuYXR0cmlidXRlcztpZihpbmRleCE9PW51bGwpe2F0dHJpYnV0ZXMudXBkYXRlKGluZGV4LDM0OTYzKTt9Zm9yKHZhciBuYW1lIGluIGdlb21ldHJ5QXR0cmlidXRlcyl7YXR0cmlidXRlcy51cGRhdGUoZ2VvbWV0cnlBdHRyaWJ1dGVzW25hbWVdLDM0OTYyKTt9Ly8gbW9ycGggdGFyZ2V0cwp2YXIgbW9ycGhBdHRyaWJ1dGVzPWdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlcztmb3IodmFyIG5hbWUgaW4gbW9ycGhBdHRyaWJ1dGVzKXt2YXIgYXJyYXk9bW9ycGhBdHRyaWJ1dGVzW25hbWVdO2Zvcih2YXIgaT0wLGw9YXJyYXkubGVuZ3RoO2k8bDtpKyspe2F0dHJpYnV0ZXMudXBkYXRlKGFycmF5W2ldLDM0OTYyKTt9fX1mdW5jdGlvbiB1cGRhdGVXaXJlZnJhbWVBdHRyaWJ1dGUoZ2VvbWV0cnkpe3ZhciBpbmRpY2VzPVtdO3ZhciBnZW9tZXRyeUluZGV4PWdlb21ldHJ5LmluZGV4O3ZhciBnZW9tZXRyeVBvc2l0aW9uPWdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb247dmFyIHZlcnNpb249MDtpZihnZW9tZXRyeUluZGV4IT09bnVsbCl7dmFyIGFycmF5PWdlb21ldHJ5SW5kZXguYXJyYXk7dmVyc2lvbj1nZW9tZXRyeUluZGV4LnZlcnNpb247Zm9yKHZhciBpPTAsbD1hcnJheS5sZW5ndGg7aTxsO2krPTMpe3ZhciBhPWFycmF5W2krMF07dmFyIGI9YXJyYXlbaSsxXTt2YXIgYz1hcnJheVtpKzJdO2luZGljZXMucHVzaChhLGIsYixjLGMsYSk7fX1lbHNle3ZhciBhcnJheT1nZW9tZXRyeVBvc2l0aW9uLmFycmF5O3ZlcnNpb249Z2VvbWV0cnlQb3NpdGlvbi52ZXJzaW9uO2Zvcih2YXIgaT0wLGw9YXJyYXkubGVuZ3RoLzMtMTtpPGw7aSs9Myl7dmFyIGE9aSswO3ZhciBiPWkrMTt2YXIgYz1pKzI7aW5kaWNlcy5wdXNoKGEsYixiLGMsYyxhKTt9fXZhciBhdHRyaWJ1dGU9bmV3KGFycmF5TWF4KGluZGljZXMpPjY1NTM1P1VpbnQzMkJ1ZmZlckF0dHJpYnV0ZTpVaW50MTZCdWZmZXJBdHRyaWJ1dGUpKGluZGljZXMsMSk7YXR0cmlidXRlLnZlcnNpb249dmVyc2lvbjthdHRyaWJ1dGVzLnVwZGF0ZShhdHRyaWJ1dGUsMzQ5NjMpOy8vCnZhciBwcmV2aW91c0F0dHJpYnV0ZT13aXJlZnJhbWVBdHRyaWJ1dGVzLmdldChnZW9tZXRyeSk7aWYocHJldmlvdXNBdHRyaWJ1dGUpe2F0dHJpYnV0ZXMucmVtb3ZlKHByZXZpb3VzQXR0cmlidXRlKTt9Ly8Kd2lyZWZyYW1lQXR0cmlidXRlcy5zZXQoZ2VvbWV0cnksYXR0cmlidXRlKTt9ZnVuY3Rpb24gZ2V0V2lyZWZyYW1lQXR0cmlidXRlKGdlb21ldHJ5KXt2YXIgY3VycmVudEF0dHJpYnV0ZT13aXJlZnJhbWVBdHRyaWJ1dGVzLmdldChnZW9tZXRyeSk7aWYoY3VycmVudEF0dHJpYnV0ZSl7dmFyIGdlb21ldHJ5SW5kZXg9Z2VvbWV0cnkuaW5kZXg7aWYoZ2VvbWV0cnlJbmRleCE9PW51bGwpey8vIGlmIHRoZSBhdHRyaWJ1dGUgaXMgb2Jzb2xldGUsIGNyZWF0ZSBhIG5ldyBvbmUKaWYoY3VycmVudEF0dHJpYnV0ZS52ZXJzaW9uPGdlb21ldHJ5SW5kZXgudmVyc2lvbil7dXBkYXRlV2lyZWZyYW1lQXR0cmlidXRlKGdlb21ldHJ5KTt9fX1lbHNle3VwZGF0ZVdpcmVmcmFtZUF0dHJpYnV0ZShnZW9tZXRyeSk7fXJldHVybiB3aXJlZnJhbWVBdHRyaWJ1dGVzLmdldChnZW9tZXRyeSk7fXJldHVybntnZXQ6Z2V0LHVwZGF0ZTp1cGRhdGUsZ2V0V2lyZWZyYW1lQXR0cmlidXRlOmdldFdpcmVmcmFtZUF0dHJpYnV0ZX07fS8qKgogICAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb20vCiAgICovZnVuY3Rpb24gV2ViR0xJbmRleGVkQnVmZmVyUmVuZGVyZXIoZ2wsZXh0ZW5zaW9ucyxpbmZvLGNhcGFiaWxpdGllcyl7dmFyIGlzV2ViR0wyPWNhcGFiaWxpdGllcy5pc1dlYkdMMjt2YXIgbW9kZTtmdW5jdGlvbiBzZXRNb2RlKHZhbHVlKXttb2RlPXZhbHVlO312YXIgdHlwZSxieXRlc1BlckVsZW1lbnQ7ZnVuY3Rpb24gc2V0SW5kZXgodmFsdWUpe3R5cGU9dmFsdWUudHlwZTtieXRlc1BlckVsZW1lbnQ9dmFsdWUuYnl0ZXNQZXJFbGVtZW50O31mdW5jdGlvbiByZW5kZXIoc3RhcnQsY291bnQpe2dsLmRyYXdFbGVtZW50cyhtb2RlLGNvdW50LHR5cGUsc3RhcnQqYnl0ZXNQZXJFbGVtZW50KTtpbmZvLnVwZGF0ZShjb3VudCxtb2RlKTt9ZnVuY3Rpb24gcmVuZGVySW5zdGFuY2VzKGdlb21ldHJ5LHN0YXJ0LGNvdW50LHByaW1jb3VudCl7aWYocHJpbWNvdW50PT09MCl7cmV0dXJuO312YXIgZXh0ZW5zaW9uLG1ldGhvZE5hbWU7aWYoaXNXZWJHTDIpe2V4dGVuc2lvbj1nbDttZXRob2ROYW1lPSdkcmF3RWxlbWVudHNJbnN0YW5jZWQnO31lbHNle2V4dGVuc2lvbj1leHRlbnNpb25zLmdldCgnQU5HTEVfaW5zdGFuY2VkX2FycmF5cycpO21ldGhvZE5hbWU9J2RyYXdFbGVtZW50c0luc3RhbmNlZEFOR0xFJztpZihleHRlbnNpb249PT1udWxsKXtjb25zb2xlLmVycm9yKCdUSFJFRS5XZWJHTEluZGV4ZWRCdWZmZXJSZW5kZXJlcjogdXNpbmcgVEhSRUUuSW5zdGFuY2VkQnVmZmVyR2VvbWV0cnkgYnV0IGhhcmR3YXJlIGRvZXMgbm90IHN1cHBvcnQgZXh0ZW5zaW9uIEFOR0xFX2luc3RhbmNlZF9hcnJheXMuJyk7cmV0dXJuO319ZXh0ZW5zaW9uW21ldGhvZE5hbWVdKG1vZGUsY291bnQsdHlwZSxzdGFydCpieXRlc1BlckVsZW1lbnQscHJpbWNvdW50KTtpbmZvLnVwZGF0ZShjb3VudCxtb2RlLHByaW1jb3VudCk7fS8vCnRoaXMuc2V0TW9kZT1zZXRNb2RlO3RoaXMuc2V0SW5kZXg9c2V0SW5kZXg7dGhpcy5yZW5kZXI9cmVuZGVyO3RoaXMucmVuZGVySW5zdGFuY2VzPXJlbmRlckluc3RhbmNlczt9LyoqCiAgICogQGF1dGhvciBNdWdlbjg3IC8gaHR0cHM6Ly9naXRodWIuY29tL011Z2VuODcKICAgKi9mdW5jdGlvbiBXZWJHTEluZm8oZ2wpe3ZhciBtZW1vcnk9e2dlb21ldHJpZXM6MCx0ZXh0dXJlczowfTt2YXIgcmVuZGVyPXtmcmFtZTowLGNhbGxzOjAsdHJpYW5nbGVzOjAscG9pbnRzOjAsbGluZXM6MH07ZnVuY3Rpb24gdXBkYXRlKGNvdW50LG1vZGUsaW5zdGFuY2VDb3VudCl7aW5zdGFuY2VDb3VudD1pbnN0YW5jZUNvdW50fHwxO3JlbmRlci5jYWxscysrO3N3aXRjaChtb2RlKXtjYXNlIDQ6cmVuZGVyLnRyaWFuZ2xlcys9aW5zdGFuY2VDb3VudCooY291bnQvMyk7YnJlYWs7Y2FzZSAxOnJlbmRlci5saW5lcys9aW5zdGFuY2VDb3VudCooY291bnQvMik7YnJlYWs7Y2FzZSAzOnJlbmRlci5saW5lcys9aW5zdGFuY2VDb3VudCooY291bnQtMSk7YnJlYWs7Y2FzZSAyOnJlbmRlci5saW5lcys9aW5zdGFuY2VDb3VudCpjb3VudDticmVhaztjYXNlIDA6cmVuZGVyLnBvaW50cys9aW5zdGFuY2VDb3VudCpjb3VudDticmVhaztkZWZhdWx0OmNvbnNvbGUuZXJyb3IoJ1RIUkVFLldlYkdMSW5mbzogVW5rbm93biBkcmF3IG1vZGU6Jyxtb2RlKTticmVhazt9fWZ1bmN0aW9uIHJlc2V0KCl7cmVuZGVyLmZyYW1lKys7cmVuZGVyLmNhbGxzPTA7cmVuZGVyLnRyaWFuZ2xlcz0wO3JlbmRlci5wb2ludHM9MDtyZW5kZXIubGluZXM9MDt9cmV0dXJue21lbW9yeTptZW1vcnkscmVuZGVyOnJlbmRlcixwcm9ncmFtczpudWxsLGF1dG9SZXNldDp0cnVlLHJlc2V0OnJlc2V0LHVwZGF0ZTp1cGRhdGV9O30vKioKICAgKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tLwogICAqL2Z1bmN0aW9uIGFic051bWVyaWNhbFNvcnQoYSxiKXtyZXR1cm4gTWF0aC5hYnMoYlsxXSktTWF0aC5hYnMoYVsxXSk7fWZ1bmN0aW9uIFdlYkdMTW9ycGh0YXJnZXRzKGdsKXt2YXIgaW5mbHVlbmNlc0xpc3Q9e307dmFyIG1vcnBoSW5mbHVlbmNlcz1uZXcgRmxvYXQzMkFycmF5KDgpO2Z1bmN0aW9uIHVwZGF0ZShvYmplY3QsZ2VvbWV0cnksbWF0ZXJpYWwscHJvZ3JhbSl7dmFyIG9iamVjdEluZmx1ZW5jZXM9b2JqZWN0Lm1vcnBoVGFyZ2V0SW5mbHVlbmNlczsvLyBXaGVuIG9iamVjdCBkb2Vzbid0IGhhdmUgbW9ycGggdGFyZ2V0IGluZmx1ZW5jZXMgZGVmaW5lZCwgd2UgdHJlYXQgaXQgYXMgYSAwLWxlbmd0aCBhcnJheQovLyBUaGlzIGlzIGltcG9ydGFudCB0byBtYWtlIHN1cmUgd2Ugc2V0IHVwIG1vcnBoVGFyZ2V0QmFzZUluZmx1ZW5jZSAvIG1vcnBoVGFyZ2V0SW5mbHVlbmNlcwp2YXIgbGVuZ3RoPW9iamVjdEluZmx1ZW5jZXM9PT11bmRlZmluZWQ/MDpvYmplY3RJbmZsdWVuY2VzLmxlbmd0aDt2YXIgaW5mbHVlbmNlcz1pbmZsdWVuY2VzTGlzdFtnZW9tZXRyeS5pZF07aWYoaW5mbHVlbmNlcz09PXVuZGVmaW5lZCl7Ly8gaW5pdGlhbGlzZSBsaXN0CmluZmx1ZW5jZXM9W107Zm9yKHZhciBpPTA7aTxsZW5ndGg7aSsrKXtpbmZsdWVuY2VzW2ldPVtpLDBdO31pbmZsdWVuY2VzTGlzdFtnZW9tZXRyeS5pZF09aW5mbHVlbmNlczt9dmFyIG1vcnBoVGFyZ2V0cz1tYXRlcmlhbC5tb3JwaFRhcmdldHMmJmdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlcy5wb3NpdGlvbjt2YXIgbW9ycGhOb3JtYWxzPW1hdGVyaWFsLm1vcnBoTm9ybWFscyYmZ2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzLm5vcm1hbDsvLyBSZW1vdmUgY3VycmVudCBtb3JwaEF0dHJpYnV0ZXMKZm9yKHZhciBpPTA7aTxsZW5ndGg7aSsrKXt2YXIgaW5mbHVlbmNlPWluZmx1ZW5jZXNbaV07aWYoaW5mbHVlbmNlWzFdIT09MCl7aWYobW9ycGhUYXJnZXRzKXtnZW9tZXRyeS5kZWxldGVBdHRyaWJ1dGUoJ21vcnBoVGFyZ2V0JytpKTt9aWYobW9ycGhOb3JtYWxzKXtnZW9tZXRyeS5kZWxldGVBdHRyaWJ1dGUoJ21vcnBoTm9ybWFsJytpKTt9fX0vLyBDb2xsZWN0IGluZmx1ZW5jZXMKZm9yKHZhciBpPTA7aTxsZW5ndGg7aSsrKXt2YXIgaW5mbHVlbmNlPWluZmx1ZW5jZXNbaV07aW5mbHVlbmNlWzBdPWk7aW5mbHVlbmNlWzFdPW9iamVjdEluZmx1ZW5jZXNbaV07fWluZmx1ZW5jZXMuc29ydChhYnNOdW1lcmljYWxTb3J0KTsvLyBBZGQgbW9ycGhBdHRyaWJ1dGVzCnZhciBtb3JwaEluZmx1ZW5jZXNTdW09MDtmb3IodmFyIGk9MDtpPDg7aSsrKXt2YXIgaW5mbHVlbmNlPWluZmx1ZW5jZXNbaV07aWYoaW5mbHVlbmNlKXt2YXIgaW5kZXg9aW5mbHVlbmNlWzBdO3ZhciB2YWx1ZT1pbmZsdWVuY2VbMV07aWYodmFsdWUpe2lmKG1vcnBoVGFyZ2V0cyl7Z2VvbWV0cnkuc2V0QXR0cmlidXRlKCdtb3JwaFRhcmdldCcraSxtb3JwaFRhcmdldHNbaW5kZXhdKTt9aWYobW9ycGhOb3JtYWxzKXtnZW9tZXRyeS5zZXRBdHRyaWJ1dGUoJ21vcnBoTm9ybWFsJytpLG1vcnBoTm9ybWFsc1tpbmRleF0pO31tb3JwaEluZmx1ZW5jZXNbaV09dmFsdWU7bW9ycGhJbmZsdWVuY2VzU3VtKz12YWx1ZTtjb250aW51ZTt9fW1vcnBoSW5mbHVlbmNlc1tpXT0wO30vLyBHTFNMIHNoYWRlciB1c2VzIGZvcm11bGEgYmFzZWluZmx1ZW5jZSAqIGJhc2UgKyBzdW0odGFyZ2V0ICogaW5mbHVlbmNlKQovLyBUaGlzIGFsbG93cyB1cyB0byBzd2l0Y2ggYmV0d2VlbiBhYnNvbHV0ZSBtb3JwaHMgYW5kIHJlbGF0aXZlIG1vcnBocyB3aXRob3V0IGNoYW5naW5nIHNoYWRlciBjb2RlCi8vIFdoZW4gYmFzZWluZmx1ZW5jZSA9IDEgLSBzdW0oaW5mbHVlbmNlKSwgdGhlIGFib3ZlIGlzIGVxdWl2YWxlbnQgdG8gc3VtKCh0YXJnZXQgLSBiYXNlKSAqIGluZmx1ZW5jZSkKdmFyIG1vcnBoQmFzZUluZmx1ZW5jZT1nZW9tZXRyeS5tb3JwaFRhcmdldHNSZWxhdGl2ZT8xOjEtbW9ycGhJbmZsdWVuY2VzU3VtO3Byb2dyYW0uZ2V0VW5pZm9ybXMoKS5zZXRWYWx1ZShnbCwnbW9ycGhUYXJnZXRCYXNlSW5mbHVlbmNlJyxtb3JwaEJhc2VJbmZsdWVuY2UpO3Byb2dyYW0uZ2V0VW5pZm9ybXMoKS5zZXRWYWx1ZShnbCwnbW9ycGhUYXJnZXRJbmZsdWVuY2VzJyxtb3JwaEluZmx1ZW5jZXMpO31yZXR1cm57dXBkYXRlOnVwZGF0ZX07fS8qKgogICAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb20vCiAgICovZnVuY3Rpb24gV2ViR0xPYmplY3RzKGdsLGdlb21ldHJpZXMsYXR0cmlidXRlcyxpbmZvKXt2YXIgdXBkYXRlTGlzdD17fTtmdW5jdGlvbiB1cGRhdGUob2JqZWN0KXt2YXIgZnJhbWU9aW5mby5yZW5kZXIuZnJhbWU7dmFyIGdlb21ldHJ5PW9iamVjdC5nZW9tZXRyeTt2YXIgYnVmZmVyZ2VvbWV0cnk9Z2VvbWV0cmllcy5nZXQob2JqZWN0LGdlb21ldHJ5KTsvLyBVcGRhdGUgb25jZSBwZXIgZnJhbWUKaWYodXBkYXRlTGlzdFtidWZmZXJnZW9tZXRyeS5pZF0hPT1mcmFtZSl7aWYoZ2VvbWV0cnkuaXNHZW9tZXRyeSl7YnVmZmVyZ2VvbWV0cnkudXBkYXRlRnJvbU9iamVjdChvYmplY3QpO31nZW9tZXRyaWVzLnVwZGF0ZShidWZmZXJnZW9tZXRyeSk7dXBkYXRlTGlzdFtidWZmZXJnZW9tZXRyeS5pZF09ZnJhbWU7fWlmKG9iamVjdC5pc0luc3RhbmNlZE1lc2gpe2F0dHJpYnV0ZXMudXBkYXRlKG9iamVjdC5pbnN0YW5jZU1hdHJpeCwzNDk2Mik7fXJldHVybiBidWZmZXJnZW9tZXRyeTt9ZnVuY3Rpb24gZGlzcG9zZSgpe3VwZGF0ZUxpc3Q9e307fXJldHVybnt1cGRhdGU6dXBkYXRlLGRpc3Bvc2U6ZGlzcG9zZX07fS8qKgogICAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb20vCiAgICovZnVuY3Rpb24gQ3ViZVRleHR1cmUoaW1hZ2VzLG1hcHBpbmcsd3JhcFMsd3JhcFQsbWFnRmlsdGVyLG1pbkZpbHRlcixmb3JtYXQsdHlwZSxhbmlzb3Ryb3B5LGVuY29kaW5nKXtpbWFnZXM9aW1hZ2VzIT09dW5kZWZpbmVkP2ltYWdlczpbXTttYXBwaW5nPW1hcHBpbmchPT11bmRlZmluZWQ/bWFwcGluZzpDdWJlUmVmbGVjdGlvbk1hcHBpbmc7Zm9ybWF0PWZvcm1hdCE9PXVuZGVmaW5lZD9mb3JtYXQ6UkdCRm9ybWF0O1RleHR1cmUuY2FsbCh0aGlzLGltYWdlcyxtYXBwaW5nLHdyYXBTLHdyYXBULG1hZ0ZpbHRlcixtaW5GaWx0ZXIsZm9ybWF0LHR5cGUsYW5pc290cm9weSxlbmNvZGluZyk7dGhpcy5mbGlwWT1mYWxzZTt9Q3ViZVRleHR1cmUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoVGV4dHVyZS5wcm90b3R5cGUpO0N1YmVUZXh0dXJlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1DdWJlVGV4dHVyZTtDdWJlVGV4dHVyZS5wcm90b3R5cGUuaXNDdWJlVGV4dHVyZT10cnVlO09iamVjdC5kZWZpbmVQcm9wZXJ0eShDdWJlVGV4dHVyZS5wcm90b3R5cGUsJ2ltYWdlcycse2dldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5pbWFnZTt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe3RoaXMuaW1hZ2U9dmFsdWU7fX0pOy8qKgogICAqIEBhdXRob3IgVGFrYWhpcm8gaHR0cHM6Ly9naXRodWIuY29tL3Rha2FoaXJveAogICAqL2Z1bmN0aW9uIERhdGFUZXh0dXJlMkRBcnJheShkYXRhLHdpZHRoLGhlaWdodCxkZXB0aCl7VGV4dHVyZS5jYWxsKHRoaXMsbnVsbCk7dGhpcy5pbWFnZT17ZGF0YTpkYXRhfHxudWxsLHdpZHRoOndpZHRofHwxLGhlaWdodDpoZWlnaHR8fDEsZGVwdGg6ZGVwdGh8fDF9O3RoaXMubWFnRmlsdGVyPU5lYXJlc3RGaWx0ZXI7dGhpcy5taW5GaWx0ZXI9TmVhcmVzdEZpbHRlcjt0aGlzLndyYXBSPUNsYW1wVG9FZGdlV3JhcHBpbmc7dGhpcy5nZW5lcmF0ZU1pcG1hcHM9ZmFsc2U7dGhpcy5mbGlwWT1mYWxzZTt0aGlzLm5lZWRzVXBkYXRlPXRydWU7fURhdGFUZXh0dXJlMkRBcnJheS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShUZXh0dXJlLnByb3RvdHlwZSk7RGF0YVRleHR1cmUyREFycmF5LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1EYXRhVGV4dHVyZTJEQXJyYXk7RGF0YVRleHR1cmUyREFycmF5LnByb3RvdHlwZS5pc0RhdGFUZXh0dXJlMkRBcnJheT10cnVlOy8qKgogICAqIEBhdXRob3IgQXJ0dXIgVHJ6ZXNpb2sKICAgKi9mdW5jdGlvbiBEYXRhVGV4dHVyZTNEKGRhdGEsd2lkdGgsaGVpZ2h0LGRlcHRoKXsvLyBXZSdyZSBnb2luZyB0byBhZGQgLnNldFhYWCgpIG1ldGhvZHMgZm9yIHNldHRpbmcgcHJvcGVydGllcyBsYXRlci4KLy8gVXNlcnMgY2FuIHN0aWxsIHNldCBpbiBEYXRhVGV4dHVyZTNEIGRpcmVjdGx5LgovLwovLwl2YXIgdGV4dHVyZSA9IG5ldyBUSFJFRS5EYXRhVGV4dHVyZTNEKCBkYXRhLCB3aWR0aCwgaGVpZ2h0LCBkZXB0aCApOwovLyAJdGV4dHVyZS5hbmlzb3Ryb3B5ID0gMTY7Ci8vCi8vIFNlZSAjMTQ4MzkKVGV4dHVyZS5jYWxsKHRoaXMsbnVsbCk7dGhpcy5pbWFnZT17ZGF0YTpkYXRhfHxudWxsLHdpZHRoOndpZHRofHwxLGhlaWdodDpoZWlnaHR8fDEsZGVwdGg6ZGVwdGh8fDF9O3RoaXMubWFnRmlsdGVyPU5lYXJlc3RGaWx0ZXI7dGhpcy5taW5GaWx0ZXI9TmVhcmVzdEZpbHRlcjt0aGlzLndyYXBSPUNsYW1wVG9FZGdlV3JhcHBpbmc7dGhpcy5nZW5lcmF0ZU1pcG1hcHM9ZmFsc2U7dGhpcy5mbGlwWT1mYWxzZTt0aGlzLm5lZWRzVXBkYXRlPXRydWU7fURhdGFUZXh0dXJlM0QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoVGV4dHVyZS5wcm90b3R5cGUpO0RhdGFUZXh0dXJlM0QucHJvdG90eXBlLmNvbnN0cnVjdG9yPURhdGFUZXh0dXJlM0Q7RGF0YVRleHR1cmUzRC5wcm90b3R5cGUuaXNEYXRhVGV4dHVyZTNEPXRydWU7LyoqCiAgICogQGF1dGhvciB0c2NodwogICAqIEBhdXRob3IgTXVnZW44NyAvIGh0dHBzOi8vZ2l0aHViLmNvbS9NdWdlbjg3CiAgICogQGF1dGhvciBtcmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS8KICAgKgogICAqIFVuaWZvcm1zIG9mIGEgcHJvZ3JhbS4KICAgKiBUaG9zZSBmb3JtIGEgdHJlZSBzdHJ1Y3R1cmUgd2l0aCBhIHNwZWNpYWwgdG9wLWxldmVsIGNvbnRhaW5lciBmb3IgdGhlIHJvb3QsCiAgICogd2hpY2ggeW91IGdldCBieSBjYWxsaW5nICduZXcgV2ViR0xVbmlmb3JtcyggZ2wsIHByb2dyYW0gKScuCiAgICoKICAgKgogICAqIFByb3BlcnRpZXMgb2YgaW5uZXIgbm9kZXMgaW5jbHVkaW5nIHRoZSB0b3AtbGV2ZWwgY29udGFpbmVyOgogICAqCiAgICogLnNlcSAtIGFycmF5IG9mIG5lc3RlZCB1bmlmb3JtcwogICAqIC5tYXAgLSBuZXN0ZWQgdW5pZm9ybXMgYnkgbmFtZQogICAqCiAgICoKICAgKiBNZXRob2RzIG9mIGFsbCBub2RlcyBleGNlcHQgdGhlIHRvcC1sZXZlbCBjb250YWluZXI6CiAgICoKICAgKiAuc2V0VmFsdWUoIGdsLCB2YWx1ZSwgW3RleHR1cmVzXSApCiAgICoKICAgKiAJCXVwbG9hZHMgYSB1bmlmb3JtIHZhbHVlKHMpCiAgICogIAl0aGUgJ3RleHR1cmVzJyBwYXJhbWV0ZXIgaXMgbmVlZGVkIGZvciBzYW1wbGVyIHVuaWZvcm1zCiAgICoKICAgKgogICAqIFN0YXRpYyBtZXRob2RzIG9mIHRoZSB0b3AtbGV2ZWwgY29udGFpbmVyICh0ZXh0dXJlcyBmYWN0b3JpemF0aW9ucyk6CiAgICoKICAgKiAudXBsb2FkKCBnbCwgc2VxLCB2YWx1ZXMsIHRleHR1cmVzICkKICAgKgogICAqIAkJc2V0cyB1bmlmb3JtcyBpbiAnc2VxJyB0byAndmFsdWVzW2lkXS52YWx1ZScKICAgKgogICAqIC5zZXFXaXRoVmFsdWUoIHNlcSwgdmFsdWVzICkgOiBmaWx0ZXJlZFNlcQogICAqCiAgICogCQlmaWx0ZXJzICdzZXEnIGVudHJpZXMgd2l0aCBjb3JyZXNwb25kaW5nIGVudHJ5IGluIHZhbHVlcwogICAqCiAgICoKICAgKiBNZXRob2RzIG9mIHRoZSB0b3AtbGV2ZWwgY29udGFpbmVyICh0ZXh0dXJlcyBmYWN0b3JpemF0aW9ucyk6CiAgICoKICAgKiAuc2V0VmFsdWUoIGdsLCBuYW1lLCB2YWx1ZSwgdGV4dHVyZXMgKQogICAqCiAgICogCQlzZXRzIHVuaWZvcm0gd2l0aCAgbmFtZSAnbmFtZScgdG8gJ3ZhbHVlJwogICAqCiAgICogLnNldE9wdGlvbmFsKCBnbCwgb2JqLCBwcm9wICkKICAgKgogICAqIAkJbGlrZSAuc2V0IGZvciBhbiBvcHRpb25hbCBwcm9wZXJ0eSBvZiB0aGUgb2JqZWN0CiAgICoKICAgKi92YXIgZW1wdHlUZXh0dXJlPW5ldyBUZXh0dXJlKCk7dmFyIGVtcHR5VGV4dHVyZTJkQXJyYXk9bmV3IERhdGFUZXh0dXJlMkRBcnJheSgpO3ZhciBlbXB0eVRleHR1cmUzZD1uZXcgRGF0YVRleHR1cmUzRCgpO3ZhciBlbXB0eUN1YmVUZXh0dXJlPW5ldyBDdWJlVGV4dHVyZSgpOy8vIC0tLSBVdGlsaXRpZXMgLS0tCi8vIEFycmF5IENhY2hlcyAocHJvdmlkZSB0eXBlZCBhcnJheXMgZm9yIHRlbXBvcmFyeSBieSBzaXplKQp2YXIgYXJyYXlDYWNoZUYzMj1bXTt2YXIgYXJyYXlDYWNoZUkzMj1bXTsvLyBGbG9hdDMyQXJyYXkgY2FjaGVzIHVzZWQgZm9yIHVwbG9hZGluZyBNYXRyaXggdW5pZm9ybXMKdmFyIG1hdDRhcnJheT1uZXcgRmxvYXQzMkFycmF5KDE2KTt2YXIgbWF0M2FycmF5PW5ldyBGbG9hdDMyQXJyYXkoOSk7dmFyIG1hdDJhcnJheT1uZXcgRmxvYXQzMkFycmF5KDQpOy8vIEZsYXR0ZW5pbmcgZm9yIGFycmF5cyBvZiB2ZWN0b3JzIGFuZCBtYXRyaWNlcwpmdW5jdGlvbiBmbGF0dGVuKGFycmF5LG5CbG9ja3MsYmxvY2tTaXplKXt2YXIgZmlyc3RFbGVtPWFycmF5WzBdO2lmKGZpcnN0RWxlbTw9MHx8Zmlyc3RFbGVtPjApe3JldHVybiBhcnJheTt9Ly8gdW5vcHRpbWl6ZWQ6ICEgaXNOYU4oIGZpcnN0RWxlbSApCi8vIHNlZSBodHRwOi8vamFja3NvbmR1bnN0YW4uY29tL2FydGljbGVzLzk4Mwp2YXIgbj1uQmxvY2tzKmJsb2NrU2l6ZSxyPWFycmF5Q2FjaGVGMzJbbl07aWYocj09PXVuZGVmaW5lZCl7cj1uZXcgRmxvYXQzMkFycmF5KG4pO2FycmF5Q2FjaGVGMzJbbl09cjt9aWYobkJsb2NrcyE9PTApe2ZpcnN0RWxlbS50b0FycmF5KHIsMCk7Zm9yKHZhciBpPTEsb2Zmc2V0PTA7aSE9PW5CbG9ja3M7KytpKXtvZmZzZXQrPWJsb2NrU2l6ZTthcnJheVtpXS50b0FycmF5KHIsb2Zmc2V0KTt9fXJldHVybiByO31mdW5jdGlvbiBhcnJheXNFcXVhbChhLGIpe2lmKGEubGVuZ3RoIT09Yi5sZW5ndGgpe3JldHVybiBmYWxzZTt9Zm9yKHZhciBpPTAsbD1hLmxlbmd0aDtpPGw7aSsrKXtpZihhW2ldIT09YltpXSl7cmV0dXJuIGZhbHNlO319cmV0dXJuIHRydWU7fWZ1bmN0aW9uIGNvcHlBcnJheShhLGIpe2Zvcih2YXIgaT0wLGw9Yi5sZW5ndGg7aTxsO2krKyl7YVtpXT1iW2ldO319Ly8gVGV4dHVyZSB1bml0IGFsbG9jYXRpb24KZnVuY3Rpb24gYWxsb2NUZXhVbml0cyh0ZXh0dXJlcyxuKXt2YXIgcj1hcnJheUNhY2hlSTMyW25dO2lmKHI9PT11bmRlZmluZWQpe3I9bmV3IEludDMyQXJyYXkobik7YXJyYXlDYWNoZUkzMltuXT1yO31mb3IodmFyIGk9MDtpIT09bjsrK2kpe3JbaV09dGV4dHVyZXMuYWxsb2NhdGVUZXh0dXJlVW5pdCgpO31yZXR1cm4gcjt9Ly8gLS0tIFNldHRlcnMgLS0tCi8vIE5vdGU6IERlZmluaW5nIHRoZXNlIG1ldGhvZHMgZXh0ZXJuYWxseSwgYmVjYXVzZSB0aGV5IGNvbWUgaW4gYSBidW5jaAovLyBhbmQgdGhpcyB3YXkgdGhlaXIgbmFtZXMgbWluaWZ5LgovLyBTaW5nbGUgc2NhbGFyCmZ1bmN0aW9uIHNldFZhbHVlVjFmKGdsLHYpe3ZhciBjYWNoZT10aGlzLmNhY2hlO2lmKGNhY2hlWzBdPT09dil7cmV0dXJuO31nbC51bmlmb3JtMWYodGhpcy5hZGRyLHYpO2NhY2hlWzBdPXY7fS8vIFNpbmdsZSBmbG9hdCB2ZWN0b3IgKGZyb20gZmxhdCBhcnJheSBvciBUSFJFRS5WZWN0b3JOKQpmdW5jdGlvbiBzZXRWYWx1ZVYyZihnbCx2KXt2YXIgY2FjaGU9dGhpcy5jYWNoZTtpZih2LnghPT11bmRlZmluZWQpe2lmKGNhY2hlWzBdIT09di54fHxjYWNoZVsxXSE9PXYueSl7Z2wudW5pZm9ybTJmKHRoaXMuYWRkcix2Lngsdi55KTtjYWNoZVswXT12Lng7Y2FjaGVbMV09di55O319ZWxzZXtpZihhcnJheXNFcXVhbChjYWNoZSx2KSl7cmV0dXJuO31nbC51bmlmb3JtMmZ2KHRoaXMuYWRkcix2KTtjb3B5QXJyYXkoY2FjaGUsdik7fX1mdW5jdGlvbiBzZXRWYWx1ZVYzZihnbCx2KXt2YXIgY2FjaGU9dGhpcy5jYWNoZTtpZih2LnghPT11bmRlZmluZWQpe2lmKGNhY2hlWzBdIT09di54fHxjYWNoZVsxXSE9PXYueXx8Y2FjaGVbMl0hPT12Lnope2dsLnVuaWZvcm0zZih0aGlzLmFkZHIsdi54LHYueSx2LnopO2NhY2hlWzBdPXYueDtjYWNoZVsxXT12Lnk7Y2FjaGVbMl09di56O319ZWxzZSBpZih2LnIhPT11bmRlZmluZWQpe2lmKGNhY2hlWzBdIT09di5yfHxjYWNoZVsxXSE9PXYuZ3x8Y2FjaGVbMl0hPT12LmIpe2dsLnVuaWZvcm0zZih0aGlzLmFkZHIsdi5yLHYuZyx2LmIpO2NhY2hlWzBdPXYucjtjYWNoZVsxXT12Lmc7Y2FjaGVbMl09di5iO319ZWxzZXtpZihhcnJheXNFcXVhbChjYWNoZSx2KSl7cmV0dXJuO31nbC51bmlmb3JtM2Z2KHRoaXMuYWRkcix2KTtjb3B5QXJyYXkoY2FjaGUsdik7fX1mdW5jdGlvbiBzZXRWYWx1ZVY0ZihnbCx2KXt2YXIgY2FjaGU9dGhpcy5jYWNoZTtpZih2LnghPT11bmRlZmluZWQpe2lmKGNhY2hlWzBdIT09di54fHxjYWNoZVsxXSE9PXYueXx8Y2FjaGVbMl0hPT12Lnp8fGNhY2hlWzNdIT09di53KXtnbC51bmlmb3JtNGYodGhpcy5hZGRyLHYueCx2Lnksdi56LHYudyk7Y2FjaGVbMF09di54O2NhY2hlWzFdPXYueTtjYWNoZVsyXT12Lno7Y2FjaGVbM109di53O319ZWxzZXtpZihhcnJheXNFcXVhbChjYWNoZSx2KSl7cmV0dXJuO31nbC51bmlmb3JtNGZ2KHRoaXMuYWRkcix2KTtjb3B5QXJyYXkoY2FjaGUsdik7fX0vLyBTaW5nbGUgbWF0cml4IChmcm9tIGZsYXQgYXJyYXkgb3IgTWF0cml4TikKZnVuY3Rpb24gc2V0VmFsdWVNMihnbCx2KXt2YXIgY2FjaGU9dGhpcy5jYWNoZTt2YXIgZWxlbWVudHM9di5lbGVtZW50cztpZihlbGVtZW50cz09PXVuZGVmaW5lZCl7aWYoYXJyYXlzRXF1YWwoY2FjaGUsdikpe3JldHVybjt9Z2wudW5pZm9ybU1hdHJpeDJmdih0aGlzLmFkZHIsZmFsc2Usdik7Y29weUFycmF5KGNhY2hlLHYpO31lbHNle2lmKGFycmF5c0VxdWFsKGNhY2hlLGVsZW1lbnRzKSl7cmV0dXJuO31tYXQyYXJyYXkuc2V0KGVsZW1lbnRzKTtnbC51bmlmb3JtTWF0cml4MmZ2KHRoaXMuYWRkcixmYWxzZSxtYXQyYXJyYXkpO2NvcHlBcnJheShjYWNoZSxlbGVtZW50cyk7fX1mdW5jdGlvbiBzZXRWYWx1ZU0zKGdsLHYpe3ZhciBjYWNoZT10aGlzLmNhY2hlO3ZhciBlbGVtZW50cz12LmVsZW1lbnRzO2lmKGVsZW1lbnRzPT09dW5kZWZpbmVkKXtpZihhcnJheXNFcXVhbChjYWNoZSx2KSl7cmV0dXJuO31nbC51bmlmb3JtTWF0cml4M2Z2KHRoaXMuYWRkcixmYWxzZSx2KTtjb3B5QXJyYXkoY2FjaGUsdik7fWVsc2V7aWYoYXJyYXlzRXF1YWwoY2FjaGUsZWxlbWVudHMpKXtyZXR1cm47fW1hdDNhcnJheS5zZXQoZWxlbWVudHMpO2dsLnVuaWZvcm1NYXRyaXgzZnYodGhpcy5hZGRyLGZhbHNlLG1hdDNhcnJheSk7Y29weUFycmF5KGNhY2hlLGVsZW1lbnRzKTt9fWZ1bmN0aW9uIHNldFZhbHVlTTQoZ2wsdil7dmFyIGNhY2hlPXRoaXMuY2FjaGU7dmFyIGVsZW1lbnRzPXYuZWxlbWVudHM7aWYoZWxlbWVudHM9PT11bmRlZmluZWQpe2lmKGFycmF5c0VxdWFsKGNhY2hlLHYpKXtyZXR1cm47fWdsLnVuaWZvcm1NYXRyaXg0ZnYodGhpcy5hZGRyLGZhbHNlLHYpO2NvcHlBcnJheShjYWNoZSx2KTt9ZWxzZXtpZihhcnJheXNFcXVhbChjYWNoZSxlbGVtZW50cykpe3JldHVybjt9bWF0NGFycmF5LnNldChlbGVtZW50cyk7Z2wudW5pZm9ybU1hdHJpeDRmdih0aGlzLmFkZHIsZmFsc2UsbWF0NGFycmF5KTtjb3B5QXJyYXkoY2FjaGUsZWxlbWVudHMpO319Ly8gU2luZ2xlIHRleHR1cmUgKDJEIC8gQ3ViZSkKZnVuY3Rpb24gc2V0VmFsdWVUMShnbCx2LHRleHR1cmVzKXt2YXIgY2FjaGU9dGhpcy5jYWNoZTt2YXIgdW5pdD10ZXh0dXJlcy5hbGxvY2F0ZVRleHR1cmVVbml0KCk7aWYoY2FjaGVbMF0hPT11bml0KXtnbC51bmlmb3JtMWkodGhpcy5hZGRyLHVuaXQpO2NhY2hlWzBdPXVuaXQ7fXRleHR1cmVzLnNhZmVTZXRUZXh0dXJlMkQodnx8ZW1wdHlUZXh0dXJlLHVuaXQpO31mdW5jdGlvbiBzZXRWYWx1ZVQyREFycmF5MShnbCx2LHRleHR1cmVzKXt2YXIgY2FjaGU9dGhpcy5jYWNoZTt2YXIgdW5pdD10ZXh0dXJlcy5hbGxvY2F0ZVRleHR1cmVVbml0KCk7aWYoY2FjaGVbMF0hPT11bml0KXtnbC51bmlmb3JtMWkodGhpcy5hZGRyLHVuaXQpO2NhY2hlWzBdPXVuaXQ7fXRleHR1cmVzLnNldFRleHR1cmUyREFycmF5KHZ8fGVtcHR5VGV4dHVyZTJkQXJyYXksdW5pdCk7fWZ1bmN0aW9uIHNldFZhbHVlVDNEMShnbCx2LHRleHR1cmVzKXt2YXIgY2FjaGU9dGhpcy5jYWNoZTt2YXIgdW5pdD10ZXh0dXJlcy5hbGxvY2F0ZVRleHR1cmVVbml0KCk7aWYoY2FjaGVbMF0hPT11bml0KXtnbC51bmlmb3JtMWkodGhpcy5hZGRyLHVuaXQpO2NhY2hlWzBdPXVuaXQ7fXRleHR1cmVzLnNldFRleHR1cmUzRCh2fHxlbXB0eVRleHR1cmUzZCx1bml0KTt9ZnVuY3Rpb24gc2V0VmFsdWVUNihnbCx2LHRleHR1cmVzKXt2YXIgY2FjaGU9dGhpcy5jYWNoZTt2YXIgdW5pdD10ZXh0dXJlcy5hbGxvY2F0ZVRleHR1cmVVbml0KCk7aWYoY2FjaGVbMF0hPT11bml0KXtnbC51bmlmb3JtMWkodGhpcy5hZGRyLHVuaXQpO2NhY2hlWzBdPXVuaXQ7fXRleHR1cmVzLnNhZmVTZXRUZXh0dXJlQ3ViZSh2fHxlbXB0eUN1YmVUZXh0dXJlLHVuaXQpO30vLyBJbnRlZ2VyIC8gQm9vbGVhbiB2ZWN0b3JzIG9yIGFycmF5cyB0aGVyZW9mIChhbHdheXMgZmxhdCBhcnJheXMpCmZ1bmN0aW9uIHNldFZhbHVlVjFpKGdsLHYpe3ZhciBjYWNoZT10aGlzLmNhY2hlO2lmKGNhY2hlWzBdPT09dil7cmV0dXJuO31nbC51bmlmb3JtMWkodGhpcy5hZGRyLHYpO2NhY2hlWzBdPXY7fWZ1bmN0aW9uIHNldFZhbHVlVjJpKGdsLHYpe3ZhciBjYWNoZT10aGlzLmNhY2hlO2lmKGFycmF5c0VxdWFsKGNhY2hlLHYpKXtyZXR1cm47fWdsLnVuaWZvcm0yaXYodGhpcy5hZGRyLHYpO2NvcHlBcnJheShjYWNoZSx2KTt9ZnVuY3Rpb24gc2V0VmFsdWVWM2koZ2wsdil7dmFyIGNhY2hlPXRoaXMuY2FjaGU7aWYoYXJyYXlzRXF1YWwoY2FjaGUsdikpe3JldHVybjt9Z2wudW5pZm9ybTNpdih0aGlzLmFkZHIsdik7Y29weUFycmF5KGNhY2hlLHYpO31mdW5jdGlvbiBzZXRWYWx1ZVY0aShnbCx2KXt2YXIgY2FjaGU9dGhpcy5jYWNoZTtpZihhcnJheXNFcXVhbChjYWNoZSx2KSl7cmV0dXJuO31nbC51bmlmb3JtNGl2KHRoaXMuYWRkcix2KTtjb3B5QXJyYXkoY2FjaGUsdik7fS8vIEhlbHBlciB0byBwaWNrIHRoZSByaWdodCBzZXR0ZXIgZm9yIHRoZSBzaW5ndWxhciBjYXNlCmZ1bmN0aW9uIGdldFNpbmd1bGFyU2V0dGVyKHR5cGUpe3N3aXRjaCh0eXBlKXtjYXNlIDB4MTQwNjpyZXR1cm4gc2V0VmFsdWVWMWY7Ly8gRkxPQVQKY2FzZSAweDhiNTA6cmV0dXJuIHNldFZhbHVlVjJmOy8vIF9WRUMyCmNhc2UgMHg4YjUxOnJldHVybiBzZXRWYWx1ZVYzZjsvLyBfVkVDMwpjYXNlIDB4OGI1MjpyZXR1cm4gc2V0VmFsdWVWNGY7Ly8gX1ZFQzQKY2FzZSAweDhiNWE6cmV0dXJuIHNldFZhbHVlTTI7Ly8gX01BVDIKY2FzZSAweDhiNWI6cmV0dXJuIHNldFZhbHVlTTM7Ly8gX01BVDMKY2FzZSAweDhiNWM6cmV0dXJuIHNldFZhbHVlTTQ7Ly8gX01BVDQKY2FzZSAweDhiNWU6Y2FzZSAweDhkNjY6cmV0dXJuIHNldFZhbHVlVDE7Ly8gU0FNUExFUl8yRCwgU0FNUExFUl9FWFRFUk5BTF9PRVMKY2FzZSAweDhiNWY6cmV0dXJuIHNldFZhbHVlVDNEMTsvLyBTQU1QTEVSXzNECmNhc2UgMHg4YjYwOnJldHVybiBzZXRWYWx1ZVQ2Oy8vIFNBTVBMRVJfQ1VCRQpjYXNlIDB4OERDMTpyZXR1cm4gc2V0VmFsdWVUMkRBcnJheTE7Ly8gU0FNUExFUl8yRF9BUlJBWQpjYXNlIDB4MTQwNDpjYXNlIDB4OGI1NjpyZXR1cm4gc2V0VmFsdWVWMWk7Ly8gSU5ULCBCT09MCmNhc2UgMHg4YjUzOmNhc2UgMHg4YjU3OnJldHVybiBzZXRWYWx1ZVYyaTsvLyBfVkVDMgpjYXNlIDB4OGI1NDpjYXNlIDB4OGI1ODpyZXR1cm4gc2V0VmFsdWVWM2k7Ly8gX1ZFQzMKY2FzZSAweDhiNTU6Y2FzZSAweDhiNTk6cmV0dXJuIHNldFZhbHVlVjRpOy8vIF9WRUM0Cn19Ly8gQXJyYXkgb2Ygc2NhbGFycwpmdW5jdGlvbiBzZXRWYWx1ZVYxZkFycmF5KGdsLHYpe2dsLnVuaWZvcm0xZnYodGhpcy5hZGRyLHYpO30vLyBJbnRlZ2VyIC8gQm9vbGVhbiB2ZWN0b3JzIG9yIGFycmF5cyB0aGVyZW9mIChhbHdheXMgZmxhdCBhcnJheXMpCmZ1bmN0aW9uIHNldFZhbHVlVjFpQXJyYXkoZ2wsdil7Z2wudW5pZm9ybTFpdih0aGlzLmFkZHIsdik7fWZ1bmN0aW9uIHNldFZhbHVlVjJpQXJyYXkoZ2wsdil7Z2wudW5pZm9ybTJpdih0aGlzLmFkZHIsdik7fWZ1bmN0aW9uIHNldFZhbHVlVjNpQXJyYXkoZ2wsdil7Z2wudW5pZm9ybTNpdih0aGlzLmFkZHIsdik7fWZ1bmN0aW9uIHNldFZhbHVlVjRpQXJyYXkoZ2wsdil7Z2wudW5pZm9ybTRpdih0aGlzLmFkZHIsdik7fS8vIEFycmF5IG9mIHZlY3RvcnMgKGZsYXQgb3IgZnJvbSBUSFJFRSBjbGFzc2VzKQpmdW5jdGlvbiBzZXRWYWx1ZVYyZkFycmF5KGdsLHYpe3ZhciBkYXRhPWZsYXR0ZW4odix0aGlzLnNpemUsMik7Z2wudW5pZm9ybTJmdih0aGlzLmFkZHIsZGF0YSk7fWZ1bmN0aW9uIHNldFZhbHVlVjNmQXJyYXkoZ2wsdil7dmFyIGRhdGE9ZmxhdHRlbih2LHRoaXMuc2l6ZSwzKTtnbC51bmlmb3JtM2Z2KHRoaXMuYWRkcixkYXRhKTt9ZnVuY3Rpb24gc2V0VmFsdWVWNGZBcnJheShnbCx2KXt2YXIgZGF0YT1mbGF0dGVuKHYsdGhpcy5zaXplLDQpO2dsLnVuaWZvcm00ZnYodGhpcy5hZGRyLGRhdGEpO30vLyBBcnJheSBvZiBtYXRyaWNlcyAoZmxhdCBvciBmcm9tIFRIUkVFIGNsYXNlcykKZnVuY3Rpb24gc2V0VmFsdWVNMkFycmF5KGdsLHYpe3ZhciBkYXRhPWZsYXR0ZW4odix0aGlzLnNpemUsNCk7Z2wudW5pZm9ybU1hdHJpeDJmdih0aGlzLmFkZHIsZmFsc2UsZGF0YSk7fWZ1bmN0aW9uIHNldFZhbHVlTTNBcnJheShnbCx2KXt2YXIgZGF0YT1mbGF0dGVuKHYsdGhpcy5zaXplLDkpO2dsLnVuaWZvcm1NYXRyaXgzZnYodGhpcy5hZGRyLGZhbHNlLGRhdGEpO31mdW5jdGlvbiBzZXRWYWx1ZU00QXJyYXkoZ2wsdil7dmFyIGRhdGE9ZmxhdHRlbih2LHRoaXMuc2l6ZSwxNik7Z2wudW5pZm9ybU1hdHJpeDRmdih0aGlzLmFkZHIsZmFsc2UsZGF0YSk7fS8vIEFycmF5IG9mIHRleHR1cmVzICgyRCAvIEN1YmUpCmZ1bmN0aW9uIHNldFZhbHVlVDFBcnJheShnbCx2LHRleHR1cmVzKXt2YXIgbj12Lmxlbmd0aDt2YXIgdW5pdHM9YWxsb2NUZXhVbml0cyh0ZXh0dXJlcyxuKTtnbC51bmlmb3JtMWl2KHRoaXMuYWRkcix1bml0cyk7Zm9yKHZhciBpPTA7aSE9PW47KytpKXt0ZXh0dXJlcy5zYWZlU2V0VGV4dHVyZTJEKHZbaV18fGVtcHR5VGV4dHVyZSx1bml0c1tpXSk7fX1mdW5jdGlvbiBzZXRWYWx1ZVQ2QXJyYXkoZ2wsdix0ZXh0dXJlcyl7dmFyIG49di5sZW5ndGg7dmFyIHVuaXRzPWFsbG9jVGV4VW5pdHModGV4dHVyZXMsbik7Z2wudW5pZm9ybTFpdih0aGlzLmFkZHIsdW5pdHMpO2Zvcih2YXIgaT0wO2khPT1uOysraSl7dGV4dHVyZXMuc2FmZVNldFRleHR1cmVDdWJlKHZbaV18fGVtcHR5Q3ViZVRleHR1cmUsdW5pdHNbaV0pO319Ly8gSGVscGVyIHRvIHBpY2sgdGhlIHJpZ2h0IHNldHRlciBmb3IgYSBwdXJlIChib3R0b20tbGV2ZWwpIGFycmF5CmZ1bmN0aW9uIGdldFB1cmVBcnJheVNldHRlcih0eXBlKXtzd2l0Y2godHlwZSl7Y2FzZSAweDE0MDY6cmV0dXJuIHNldFZhbHVlVjFmQXJyYXk7Ly8gRkxPQVQKY2FzZSAweDhiNTA6cmV0dXJuIHNldFZhbHVlVjJmQXJyYXk7Ly8gX1ZFQzIKY2FzZSAweDhiNTE6cmV0dXJuIHNldFZhbHVlVjNmQXJyYXk7Ly8gX1ZFQzMKY2FzZSAweDhiNTI6cmV0dXJuIHNldFZhbHVlVjRmQXJyYXk7Ly8gX1ZFQzQKY2FzZSAweDhiNWE6cmV0dXJuIHNldFZhbHVlTTJBcnJheTsvLyBfTUFUMgpjYXNlIDB4OGI1YjpyZXR1cm4gc2V0VmFsdWVNM0FycmF5Oy8vIF9NQVQzCmNhc2UgMHg4YjVjOnJldHVybiBzZXRWYWx1ZU00QXJyYXk7Ly8gX01BVDQKY2FzZSAweDhiNWU6Ly8gU0FNUExFUl8yRApjYXNlIDB4OGQ2NjovLyBTQU1QTEVSX0VYVEVSTkFMX09FUwpjYXNlIDB4OGRjYTovLyBJTlRfU0FNUExFUl8yRApjYXNlIDB4OGRkMjovLyBVTlNJR05FRF9JTlRfU0FNUExFUl8yRApyZXR1cm4gc2V0VmFsdWVUMUFycmF5O2Nhc2UgMHg4YjYwOi8vIFNBTVBMRVJfQ1VCRQpjYXNlIDB4OGRjYzovLyBJTlRfU0FNUExFUl9DVUJFCmNhc2UgMHg4ZGQ0Oi8vIFVOU0lHTkVEX1NBTVBMRVJfQ1VCRQpyZXR1cm4gc2V0VmFsdWVUNkFycmF5O2Nhc2UgMHgxNDA0OmNhc2UgMHg4YjU2OnJldHVybiBzZXRWYWx1ZVYxaUFycmF5Oy8vIElOVCwgQk9PTApjYXNlIDB4OGI1MzpjYXNlIDB4OGI1NzpyZXR1cm4gc2V0VmFsdWVWMmlBcnJheTsvLyBfVkVDMgpjYXNlIDB4OGI1NDpjYXNlIDB4OGI1ODpyZXR1cm4gc2V0VmFsdWVWM2lBcnJheTsvLyBfVkVDMwpjYXNlIDB4OGI1NTpjYXNlIDB4OGI1OTpyZXR1cm4gc2V0VmFsdWVWNGlBcnJheTsvLyBfVkVDNAp9fS8vIC0tLSBVbmlmb3JtIENsYXNzZXMgLS0tCmZ1bmN0aW9uIFNpbmdsZVVuaWZvcm0oaWQsYWN0aXZlSW5mbyxhZGRyKXt0aGlzLmlkPWlkO3RoaXMuYWRkcj1hZGRyO3RoaXMuY2FjaGU9W107dGhpcy5zZXRWYWx1ZT1nZXRTaW5ndWxhclNldHRlcihhY3RpdmVJbmZvLnR5cGUpOy8vIHRoaXMucGF0aCA9IGFjdGl2ZUluZm8ubmFtZTsgLy8gREVCVUcKfWZ1bmN0aW9uIFB1cmVBcnJheVVuaWZvcm0oaWQsYWN0aXZlSW5mbyxhZGRyKXt0aGlzLmlkPWlkO3RoaXMuYWRkcj1hZGRyO3RoaXMuY2FjaGU9W107dGhpcy5zaXplPWFjdGl2ZUluZm8uc2l6ZTt0aGlzLnNldFZhbHVlPWdldFB1cmVBcnJheVNldHRlcihhY3RpdmVJbmZvLnR5cGUpOy8vIHRoaXMucGF0aCA9IGFjdGl2ZUluZm8ubmFtZTsgLy8gREVCVUcKfVB1cmVBcnJheVVuaWZvcm0ucHJvdG90eXBlLnVwZGF0ZUNhY2hlPWZ1bmN0aW9uKGRhdGEpe3ZhciBjYWNoZT10aGlzLmNhY2hlO2lmKGRhdGEgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkmJmNhY2hlLmxlbmd0aCE9PWRhdGEubGVuZ3RoKXt0aGlzLmNhY2hlPW5ldyBGbG9hdDMyQXJyYXkoZGF0YS5sZW5ndGgpO31jb3B5QXJyYXkoY2FjaGUsZGF0YSk7fTtmdW5jdGlvbiBTdHJ1Y3R1cmVkVW5pZm9ybShpZCl7dGhpcy5pZD1pZDt0aGlzLnNlcT1bXTt0aGlzLm1hcD17fTt9U3RydWN0dXJlZFVuaWZvcm0ucHJvdG90eXBlLnNldFZhbHVlPWZ1bmN0aW9uKGdsLHZhbHVlLHRleHR1cmVzKXt2YXIgc2VxPXRoaXMuc2VxO2Zvcih2YXIgaT0wLG49c2VxLmxlbmd0aDtpIT09bjsrK2kpe3ZhciB1PXNlcVtpXTt1LnNldFZhbHVlKGdsLHZhbHVlW3UuaWRdLHRleHR1cmVzKTt9fTsvLyAtLS0gVG9wLWxldmVsIC0tLQovLyBQYXJzZXIgLSBidWlsZHMgdXAgdGhlIHByb3BlcnR5IHRyZWUgZnJvbSB0aGUgcGF0aCBzdHJpbmdzCnZhciBSZVBhdGhQYXJ0PS8oW1x3XGRfXSspKFxdKT8oXFt8XC4pPy9nOy8vIGV4dHJhY3RzCi8vIAktIHRoZSBpZGVudGlmaWVyIChtZW1iZXIgbmFtZSBvciBhcnJheSBpbmRleCkKLy8gIC0gZm9sbG93ZWQgYnkgYW4gb3B0aW9uYWwgcmlnaHQgYnJhY2tldCAoZm91bmQgd2hlbiBhcnJheSBpbmRleCkKLy8gIC0gZm9sbG93ZWQgYnkgYW4gb3B0aW9uYWwgbGVmdCBicmFja2V0IG9yIGRvdCAodHlwZSBvZiBzdWJzY3JpcHQpCi8vCi8vIE5vdGU6IFRoZXNlIHBvcnRpb25zIGNhbiBiZSByZWFkIGluIGEgbm9uLW92ZXJsYXBwaW5nIGZhc2hpb24gYW5kCi8vIGFsbG93IHN0cmFpZ2h0Zm9yd2FyZCBwYXJzaW5nIG9mIHRoZSBoaWVyYXJjaHkgdGhhdCBXZWJHTCBlbmNvZGVzCi8vIGluIHRoZSB1bmlmb3JtIG5hbWVzLgpmdW5jdGlvbiBhZGRVbmlmb3JtKGNvbnRhaW5lcix1bmlmb3JtT2JqZWN0KXtjb250YWluZXIuc2VxLnB1c2godW5pZm9ybU9iamVjdCk7Y29udGFpbmVyLm1hcFt1bmlmb3JtT2JqZWN0LmlkXT11bmlmb3JtT2JqZWN0O31mdW5jdGlvbiBwYXJzZVVuaWZvcm0oYWN0aXZlSW5mbyxhZGRyLGNvbnRhaW5lcil7dmFyIHBhdGg9YWN0aXZlSW5mby5uYW1lLHBhdGhMZW5ndGg9cGF0aC5sZW5ndGg7Ly8gcmVzZXQgUmVnRXhwIG9iamVjdCwgYmVjYXVzZSBvZiB0aGUgZWFybHkgZXhpdCBvZiBhIHByZXZpb3VzIHJ1bgpSZVBhdGhQYXJ0Lmxhc3RJbmRleD0wO3doaWxlKHRydWUpe3ZhciBtYXRjaD1SZVBhdGhQYXJ0LmV4ZWMocGF0aCksbWF0Y2hFbmQ9UmVQYXRoUGFydC5sYXN0SW5kZXgsaWQ9bWF0Y2hbMV0saWRJc0luZGV4PW1hdGNoWzJdPT09J10nLHN1YnNjcmlwdD1tYXRjaFszXTtpZihpZElzSW5kZXgpe2lkPWlkfDA7fS8vIGNvbnZlcnQgdG8gaW50ZWdlcgppZihzdWJzY3JpcHQ9PT11bmRlZmluZWR8fHN1YnNjcmlwdD09PSdbJyYmbWF0Y2hFbmQrMj09PXBhdGhMZW5ndGgpey8vIGJhcmUgbmFtZSBvciAicHVyZSIgYm90dG9tLWxldmVsIGFycmF5ICJbMF0iIHN1ZmZpeAphZGRVbmlmb3JtKGNvbnRhaW5lcixzdWJzY3JpcHQ9PT11bmRlZmluZWQ/bmV3IFNpbmdsZVVuaWZvcm0oaWQsYWN0aXZlSW5mbyxhZGRyKTpuZXcgUHVyZUFycmF5VW5pZm9ybShpZCxhY3RpdmVJbmZvLGFkZHIpKTticmVhazt9ZWxzZXsvLyBzdGVwIGludG8gaW5uZXIgbm9kZSAvIGNyZWF0ZSBpdCBpbiBjYXNlIGl0IGRvZXNuJ3QgZXhpc3QKdmFyIG1hcD1jb250YWluZXIubWFwLG5leHQ9bWFwW2lkXTtpZihuZXh0PT09dW5kZWZpbmVkKXtuZXh0PW5ldyBTdHJ1Y3R1cmVkVW5pZm9ybShpZCk7YWRkVW5pZm9ybShjb250YWluZXIsbmV4dCk7fWNvbnRhaW5lcj1uZXh0O319fS8vIFJvb3QgQ29udGFpbmVyCmZ1bmN0aW9uIFdlYkdMVW5pZm9ybXMoZ2wscHJvZ3JhbSl7dGhpcy5zZXE9W107dGhpcy5tYXA9e307dmFyIG49Z2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLDM1NzE4KTtmb3IodmFyIGk9MDtpPG47KytpKXt2YXIgaW5mbz1nbC5nZXRBY3RpdmVVbmlmb3JtKHByb2dyYW0saSksYWRkcj1nbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSxpbmZvLm5hbWUpO3BhcnNlVW5pZm9ybShpbmZvLGFkZHIsdGhpcyk7fX1XZWJHTFVuaWZvcm1zLnByb3RvdHlwZS5zZXRWYWx1ZT1mdW5jdGlvbihnbCxuYW1lLHZhbHVlLHRleHR1cmVzKXt2YXIgdT10aGlzLm1hcFtuYW1lXTtpZih1IT09dW5kZWZpbmVkKXt1LnNldFZhbHVlKGdsLHZhbHVlLHRleHR1cmVzKTt9fTtXZWJHTFVuaWZvcm1zLnByb3RvdHlwZS5zZXRPcHRpb25hbD1mdW5jdGlvbihnbCxvYmplY3QsbmFtZSl7dmFyIHY9b2JqZWN0W25hbWVdO2lmKHYhPT11bmRlZmluZWQpe3RoaXMuc2V0VmFsdWUoZ2wsbmFtZSx2KTt9fTsvLyBTdGF0aWMgaW50ZXJmYWNlCldlYkdMVW5pZm9ybXMudXBsb2FkPWZ1bmN0aW9uKGdsLHNlcSx2YWx1ZXMsdGV4dHVyZXMpe2Zvcih2YXIgaT0wLG49c2VxLmxlbmd0aDtpIT09bjsrK2kpe3ZhciB1PXNlcVtpXSx2PXZhbHVlc1t1LmlkXTtpZih2Lm5lZWRzVXBkYXRlIT09ZmFsc2Upey8vIG5vdGU6IGFsd2F5cyB1cGRhdGluZyB3aGVuIC5uZWVkc1VwZGF0ZSBpcyB1bmRlZmluZWQKdS5zZXRWYWx1ZShnbCx2LnZhbHVlLHRleHR1cmVzKTt9fX07V2ViR0xVbmlmb3Jtcy5zZXFXaXRoVmFsdWU9ZnVuY3Rpb24oc2VxLHZhbHVlcyl7dmFyIHI9W107Zm9yKHZhciBpPTAsbj1zZXEubGVuZ3RoO2khPT1uOysraSl7dmFyIHU9c2VxW2ldO2lmKHUuaWQgaW4gdmFsdWVzKXtyLnB1c2godSk7fX1yZXR1cm4gcjt9Oy8qKgogICAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb20vCiAgICovZnVuY3Rpb24gV2ViR0xTaGFkZXIoZ2wsdHlwZSxzdHJpbmcpe3ZhciBzaGFkZXI9Z2wuY3JlYXRlU2hhZGVyKHR5cGUpO2dsLnNoYWRlclNvdXJjZShzaGFkZXIsc3RyaW5nKTtnbC5jb21waWxlU2hhZGVyKHNoYWRlcik7cmV0dXJuIHNoYWRlcjt9LyoqCiAgICogQGF1dGhvciBtcmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS8KICAgKi92YXIgcHJvZ3JhbUlkQ291bnQ9MDtmdW5jdGlvbiBhZGRMaW5lTnVtYmVycyhzdHJpbmcpe3ZhciBsaW5lcz1zdHJpbmcuc3BsaXQoJ1xuJyk7Zm9yKHZhciBpPTA7aTxsaW5lcy5sZW5ndGg7aSsrKXtsaW5lc1tpXT1pKzErJzogJytsaW5lc1tpXTt9cmV0dXJuIGxpbmVzLmpvaW4oJ1xuJyk7fWZ1bmN0aW9uIGdldEVuY29kaW5nQ29tcG9uZW50cyhlbmNvZGluZyl7c3dpdGNoKGVuY29kaW5nKXtjYXNlIExpbmVhckVuY29kaW5nOnJldHVyblsnTGluZWFyJywnKCB2YWx1ZSApJ107Y2FzZSBzUkdCRW5jb2Rpbmc6cmV0dXJuWydzUkdCJywnKCB2YWx1ZSApJ107Y2FzZSBSR0JFRW5jb2Rpbmc6cmV0dXJuWydSR0JFJywnKCB2YWx1ZSApJ107Y2FzZSBSR0JNN0VuY29kaW5nOnJldHVyblsnUkdCTScsJyggdmFsdWUsIDcuMCApJ107Y2FzZSBSR0JNMTZFbmNvZGluZzpyZXR1cm5bJ1JHQk0nLCcoIHZhbHVlLCAxNi4wICknXTtjYXNlIFJHQkRFbmNvZGluZzpyZXR1cm5bJ1JHQkQnLCcoIHZhbHVlLCAyNTYuMCApJ107Y2FzZSBHYW1tYUVuY29kaW5nOnJldHVyblsnR2FtbWEnLCcoIHZhbHVlLCBmbG9hdCggR0FNTUFfRkFDVE9SICkgKSddO2Nhc2UgTG9nTHV2RW5jb2Rpbmc6cmV0dXJuWydMb2dMdXYnLCcoIHZhbHVlICknXTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcigndW5zdXBwb3J0ZWQgZW5jb2Rpbmc6ICcrZW5jb2RpbmcpO319ZnVuY3Rpb24gZ2V0U2hhZGVyRXJyb3JzKGdsLHNoYWRlcix0eXBlKXt2YXIgc3RhdHVzPWdsLmdldFNoYWRlclBhcmFtZXRlcihzaGFkZXIsMzU3MTMpO3ZhciBsb2c9Z2wuZ2V0U2hhZGVySW5mb0xvZyhzaGFkZXIpLnRyaW0oKTtpZihzdGF0dXMmJmxvZz09PScnKXtyZXR1cm4nJzt9Ly8gLS1lbmFibGUtcHJpdmlsZWdlZC13ZWJnbC1leHRlbnNpb24KLy8gY29uc29sZS5sb2coICcqKicgKyB0eXBlICsgJyoqJywgZ2wuZ2V0RXh0ZW5zaW9uKCAnV0VCR0xfZGVidWdfc2hhZGVycycgKS5nZXRUcmFuc2xhdGVkU2hhZGVyU291cmNlKCBzaGFkZXIgKSApOwp2YXIgc291cmNlPWdsLmdldFNoYWRlclNvdXJjZShzaGFkZXIpO3JldHVybidUSFJFRS5XZWJHTFNoYWRlcjogZ2wuZ2V0U2hhZGVySW5mb0xvZygpICcrdHlwZSsnXG4nK2xvZythZGRMaW5lTnVtYmVycyhzb3VyY2UpO31mdW5jdGlvbiBnZXRUZXhlbERlY29kaW5nRnVuY3Rpb24oZnVuY3Rpb25OYW1lLGVuY29kaW5nKXt2YXIgY29tcG9uZW50cz1nZXRFbmNvZGluZ0NvbXBvbmVudHMoZW5jb2RpbmcpO3JldHVybid2ZWM0ICcrZnVuY3Rpb25OYW1lKycoIHZlYzQgdmFsdWUgKSB7IHJldHVybiAnK2NvbXBvbmVudHNbMF0rJ1RvTGluZWFyJytjb21wb25lbnRzWzFdKyc7IH0nO31mdW5jdGlvbiBnZXRUZXhlbEVuY29kaW5nRnVuY3Rpb24oZnVuY3Rpb25OYW1lLGVuY29kaW5nKXt2YXIgY29tcG9uZW50cz1nZXRFbmNvZGluZ0NvbXBvbmVudHMoZW5jb2RpbmcpO3JldHVybid2ZWM0ICcrZnVuY3Rpb25OYW1lKycoIHZlYzQgdmFsdWUgKSB7IHJldHVybiBMaW5lYXJUbycrY29tcG9uZW50c1swXStjb21wb25lbnRzWzFdKyc7IH0nO31mdW5jdGlvbiBnZXRUb25lTWFwcGluZ0Z1bmN0aW9uKGZ1bmN0aW9uTmFtZSx0b25lTWFwcGluZyl7dmFyIHRvbmVNYXBwaW5nTmFtZTtzd2l0Y2godG9uZU1hcHBpbmcpe2Nhc2UgTGluZWFyVG9uZU1hcHBpbmc6dG9uZU1hcHBpbmdOYW1lPSdMaW5lYXInO2JyZWFrO2Nhc2UgUmVpbmhhcmRUb25lTWFwcGluZzp0b25lTWFwcGluZ05hbWU9J1JlaW5oYXJkJzticmVhaztjYXNlIFVuY2hhcnRlZDJUb25lTWFwcGluZzp0b25lTWFwcGluZ05hbWU9J1VuY2hhcnRlZDInO2JyZWFrO2Nhc2UgQ2luZW9uVG9uZU1hcHBpbmc6dG9uZU1hcHBpbmdOYW1lPSdPcHRpbWl6ZWRDaW5lb24nO2JyZWFrO2Nhc2UgQUNFU0ZpbG1pY1RvbmVNYXBwaW5nOnRvbmVNYXBwaW5nTmFtZT0nQUNFU0ZpbG1pYyc7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoJ3Vuc3VwcG9ydGVkIHRvbmVNYXBwaW5nOiAnK3RvbmVNYXBwaW5nKTt9cmV0dXJuJ3ZlYzMgJytmdW5jdGlvbk5hbWUrJyggdmVjMyBjb2xvciApIHsgcmV0dXJuICcrdG9uZU1hcHBpbmdOYW1lKydUb25lTWFwcGluZyggY29sb3IgKTsgfSc7fWZ1bmN0aW9uIGdlbmVyYXRlRXh0ZW5zaW9ucyhleHRlbnNpb25zLHBhcmFtZXRlcnMscmVuZGVyZXJFeHRlbnNpb25zKXtleHRlbnNpb25zPWV4dGVuc2lvbnN8fHt9O3ZhciBjaHVua3M9W2V4dGVuc2lvbnMuZGVyaXZhdGl2ZXN8fHBhcmFtZXRlcnMuZW52TWFwQ3ViZVVWfHxwYXJhbWV0ZXJzLmJ1bXBNYXB8fHBhcmFtZXRlcnMudGFuZ2VudFNwYWNlTm9ybWFsTWFwfHxwYXJhbWV0ZXJzLmNsZWFyY29hdE5vcm1hbE1hcHx8cGFyYW1ldGVycy5mbGF0U2hhZGluZ3x8cGFyYW1ldGVycy5zaGFkZXJJRD09PSdwaHlzaWNhbCc/JyNleHRlbnNpb24gR0xfT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzIDogZW5hYmxlJzonJywoZXh0ZW5zaW9ucy5mcmFnRGVwdGh8fHBhcmFtZXRlcnMubG9nYXJpdGhtaWNEZXB0aEJ1ZmZlcikmJnJlbmRlcmVyRXh0ZW5zaW9ucy5nZXQoJ0VYVF9mcmFnX2RlcHRoJyk/JyNleHRlbnNpb24gR0xfRVhUX2ZyYWdfZGVwdGggOiBlbmFibGUnOicnLGV4dGVuc2lvbnMuZHJhd0J1ZmZlcnMmJnJlbmRlcmVyRXh0ZW5zaW9ucy5nZXQoJ1dFQkdMX2RyYXdfYnVmZmVycycpPycjZXh0ZW5zaW9uIEdMX0VYVF9kcmF3X2J1ZmZlcnMgOiByZXF1aXJlJzonJywoZXh0ZW5zaW9ucy5zaGFkZXJUZXh0dXJlTE9EfHxwYXJhbWV0ZXJzLmVudk1hcCkmJnJlbmRlcmVyRXh0ZW5zaW9ucy5nZXQoJ0VYVF9zaGFkZXJfdGV4dHVyZV9sb2QnKT8nI2V4dGVuc2lvbiBHTF9FWFRfc2hhZGVyX3RleHR1cmVfbG9kIDogZW5hYmxlJzonJ107cmV0dXJuIGNodW5rcy5maWx0ZXIoZmlsdGVyRW1wdHlMaW5lKS5qb2luKCdcbicpO31mdW5jdGlvbiBnZW5lcmF0ZURlZmluZXMoZGVmaW5lcyl7dmFyIGNodW5rcz1bXTtmb3IodmFyIG5hbWUgaW4gZGVmaW5lcyl7dmFyIHZhbHVlPWRlZmluZXNbbmFtZV07aWYodmFsdWU9PT1mYWxzZSl7Y29udGludWU7fWNodW5rcy5wdXNoKCcjZGVmaW5lICcrbmFtZSsnICcrdmFsdWUpO31yZXR1cm4gY2h1bmtzLmpvaW4oJ1xuJyk7fWZ1bmN0aW9uIGZldGNoQXR0cmlidXRlTG9jYXRpb25zKGdsLHByb2dyYW0pe3ZhciBhdHRyaWJ1dGVzPXt9O3ZhciBuPWdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwzNTcyMSk7Zm9yKHZhciBpPTA7aTxuO2krKyl7dmFyIGluZm89Z2wuZ2V0QWN0aXZlQXR0cmliKHByb2dyYW0saSk7dmFyIG5hbWU9aW5mby5uYW1lOy8vIGNvbnNvbGUubG9nKCAnVEhSRUUuV2ViR0xQcm9ncmFtOiBBQ1RJVkUgVkVSVEVYIEFUVFJJQlVURTonLCBuYW1lLCBpICk7CmF0dHJpYnV0ZXNbbmFtZV09Z2wuZ2V0QXR0cmliTG9jYXRpb24ocHJvZ3JhbSxuYW1lKTt9cmV0dXJuIGF0dHJpYnV0ZXM7fWZ1bmN0aW9uIGZpbHRlckVtcHR5TGluZShzdHJpbmcpe3JldHVybiBzdHJpbmchPT0nJzt9ZnVuY3Rpb24gcmVwbGFjZUxpZ2h0TnVtcyhzdHJpbmcscGFyYW1ldGVycyl7cmV0dXJuIHN0cmluZy5yZXBsYWNlKC9OVU1fRElSX0xJR0hUUy9nLHBhcmFtZXRlcnMubnVtRGlyTGlnaHRzKS5yZXBsYWNlKC9OVU1fU1BPVF9MSUdIVFMvZyxwYXJhbWV0ZXJzLm51bVNwb3RMaWdodHMpLnJlcGxhY2UoL05VTV9SRUNUX0FSRUFfTElHSFRTL2cscGFyYW1ldGVycy5udW1SZWN0QXJlYUxpZ2h0cykucmVwbGFjZSgvTlVNX1BPSU5UX0xJR0hUUy9nLHBhcmFtZXRlcnMubnVtUG9pbnRMaWdodHMpLnJlcGxhY2UoL05VTV9IRU1JX0xJR0hUUy9nLHBhcmFtZXRlcnMubnVtSGVtaUxpZ2h0cykucmVwbGFjZSgvTlVNX0RJUl9MSUdIVF9TSEFET1dTL2cscGFyYW1ldGVycy5udW1EaXJMaWdodFNoYWRvd3MpLnJlcGxhY2UoL05VTV9TUE9UX0xJR0hUX1NIQURPV1MvZyxwYXJhbWV0ZXJzLm51bVNwb3RMaWdodFNoYWRvd3MpLnJlcGxhY2UoL05VTV9QT0lOVF9MSUdIVF9TSEFET1dTL2cscGFyYW1ldGVycy5udW1Qb2ludExpZ2h0U2hhZG93cyk7fWZ1bmN0aW9uIHJlcGxhY2VDbGlwcGluZ1BsYW5lTnVtcyhzdHJpbmcscGFyYW1ldGVycyl7cmV0dXJuIHN0cmluZy5yZXBsYWNlKC9OVU1fQ0xJUFBJTkdfUExBTkVTL2cscGFyYW1ldGVycy5udW1DbGlwcGluZ1BsYW5lcykucmVwbGFjZSgvVU5JT05fQ0xJUFBJTkdfUExBTkVTL2cscGFyYW1ldGVycy5udW1DbGlwcGluZ1BsYW5lcy1wYXJhbWV0ZXJzLm51bUNsaXBJbnRlcnNlY3Rpb24pO30vLyBSZXNvbHZlIEluY2x1ZGVzCnZhciBpbmNsdWRlUGF0dGVybj0vXlsgXHRdKiNpbmNsdWRlICs8KFtcd1xkLi9dKyk+L2dtO2Z1bmN0aW9uIHJlc29sdmVJbmNsdWRlcyhzdHJpbmcpe3JldHVybiBzdHJpbmcucmVwbGFjZShpbmNsdWRlUGF0dGVybixpbmNsdWRlUmVwbGFjZXIpO31mdW5jdGlvbiBpbmNsdWRlUmVwbGFjZXIobWF0Y2gsaW5jbHVkZSl7dmFyIHN0cmluZz1TaGFkZXJDaHVua1tpbmNsdWRlXTtpZihzdHJpbmc9PT11bmRlZmluZWQpe3Rocm93IG5ldyBFcnJvcignQ2FuIG5vdCByZXNvbHZlICNpbmNsdWRlIDwnK2luY2x1ZGUrJz4nKTt9cmV0dXJuIHJlc29sdmVJbmNsdWRlcyhzdHJpbmcpO30vLyBVbnJvbGwgTG9vcHMKdmFyIGxvb3BQYXR0ZXJuPS8jcHJhZ21hIHVucm9sbF9sb29wW1xzXSs/Zm9yIFwoIGludCBpIFw9IChcZCspXDsgaSA8IChcZCspXDsgaSBcK1wrIFwpIFx7KFtcc1xTXSs/KSg/PVx9KVx9L2c7ZnVuY3Rpb24gdW5yb2xsTG9vcHMoc3RyaW5nKXtyZXR1cm4gc3RyaW5nLnJlcGxhY2UobG9vcFBhdHRlcm4sbG9vcFJlcGxhY2VyKTt9ZnVuY3Rpb24gbG9vcFJlcGxhY2VyKG1hdGNoLHN0YXJ0LGVuZCxzbmlwcGV0KXt2YXIgc3RyaW5nPScnO2Zvcih2YXIgaT1wYXJzZUludChzdGFydCk7aTxwYXJzZUludChlbmQpO2krKyl7c3RyaW5nKz1zbmlwcGV0LnJlcGxhY2UoL1xbIGkgXF0vZywnWyAnK2krJyBdJykucmVwbGFjZSgvVU5ST0xMRURfTE9PUF9JTkRFWC9nLGkpO31yZXR1cm4gc3RyaW5nO30vLwpmdW5jdGlvbiBnZW5lcmF0ZVByZWNpc2lvbihwYXJhbWV0ZXJzKXt2YXIgcHJlY2lzaW9uc3RyaW5nPSJwcmVjaXNpb24gIitwYXJhbWV0ZXJzLnByZWNpc2lvbisiIGZsb2F0O1xucHJlY2lzaW9uICIrcGFyYW1ldGVycy5wcmVjaXNpb24rIiBpbnQ7IjtpZihwYXJhbWV0ZXJzLnByZWNpc2lvbj09PSJoaWdocCIpe3ByZWNpc2lvbnN0cmluZys9IlxuI2RlZmluZSBISUdIX1BSRUNJU0lPTiI7fWVsc2UgaWYocGFyYW1ldGVycy5wcmVjaXNpb249PT0ibWVkaXVtcCIpe3ByZWNpc2lvbnN0cmluZys9IlxuI2RlZmluZSBNRURJVU1fUFJFQ0lTSU9OIjt9ZWxzZSBpZihwYXJhbWV0ZXJzLnByZWNpc2lvbj09PSJsb3dwIil7cHJlY2lzaW9uc3RyaW5nKz0iXG4jZGVmaW5lIExPV19QUkVDSVNJT04iO31yZXR1cm4gcHJlY2lzaW9uc3RyaW5nO31mdW5jdGlvbiBnZW5lcmF0ZVNoYWRvd01hcFR5cGVEZWZpbmUocGFyYW1ldGVycyl7dmFyIHNoYWRvd01hcFR5cGVEZWZpbmU9J1NIQURPV01BUF9UWVBFX0JBU0lDJztpZihwYXJhbWV0ZXJzLnNoYWRvd01hcFR5cGU9PT1QQ0ZTaGFkb3dNYXApe3NoYWRvd01hcFR5cGVEZWZpbmU9J1NIQURPV01BUF9UWVBFX1BDRic7fWVsc2UgaWYocGFyYW1ldGVycy5zaGFkb3dNYXBUeXBlPT09UENGU29mdFNoYWRvd01hcCl7c2hhZG93TWFwVHlwZURlZmluZT0nU0hBRE9XTUFQX1RZUEVfUENGX1NPRlQnO31lbHNlIGlmKHBhcmFtZXRlcnMuc2hhZG93TWFwVHlwZT09PVZTTVNoYWRvd01hcCl7c2hhZG93TWFwVHlwZURlZmluZT0nU0hBRE9XTUFQX1RZUEVfVlNNJzt9cmV0dXJuIHNoYWRvd01hcFR5cGVEZWZpbmU7fWZ1bmN0aW9uIGdlbmVyYXRlRW52TWFwVHlwZURlZmluZShwYXJhbWV0ZXJzKXt2YXIgZW52TWFwVHlwZURlZmluZT0nRU5WTUFQX1RZUEVfQ1VCRSc7aWYocGFyYW1ldGVycy5lbnZNYXApe3N3aXRjaChwYXJhbWV0ZXJzLmVudk1hcE1vZGUpe2Nhc2UgQ3ViZVJlZmxlY3Rpb25NYXBwaW5nOmNhc2UgQ3ViZVJlZnJhY3Rpb25NYXBwaW5nOmVudk1hcFR5cGVEZWZpbmU9J0VOVk1BUF9UWVBFX0NVQkUnO2JyZWFrO2Nhc2UgQ3ViZVVWUmVmbGVjdGlvbk1hcHBpbmc6Y2FzZSBDdWJlVVZSZWZyYWN0aW9uTWFwcGluZzplbnZNYXBUeXBlRGVmaW5lPSdFTlZNQVBfVFlQRV9DVUJFX1VWJzticmVhaztjYXNlIEVxdWlyZWN0YW5ndWxhclJlZmxlY3Rpb25NYXBwaW5nOmNhc2UgRXF1aXJlY3Rhbmd1bGFyUmVmcmFjdGlvbk1hcHBpbmc6ZW52TWFwVHlwZURlZmluZT0nRU5WTUFQX1RZUEVfRVFVSVJFQyc7YnJlYWs7Y2FzZSBTcGhlcmljYWxSZWZsZWN0aW9uTWFwcGluZzplbnZNYXBUeXBlRGVmaW5lPSdFTlZNQVBfVFlQRV9TUEhFUkUnO2JyZWFrO319cmV0dXJuIGVudk1hcFR5cGVEZWZpbmU7fWZ1bmN0aW9uIGdlbmVyYXRlRW52TWFwTW9kZURlZmluZShwYXJhbWV0ZXJzKXt2YXIgZW52TWFwTW9kZURlZmluZT0nRU5WTUFQX01PREVfUkVGTEVDVElPTic7aWYocGFyYW1ldGVycy5lbnZNYXApe3N3aXRjaChwYXJhbWV0ZXJzLmVudk1hcE1vZGUpe2Nhc2UgQ3ViZVJlZnJhY3Rpb25NYXBwaW5nOmNhc2UgRXF1aXJlY3Rhbmd1bGFyUmVmcmFjdGlvbk1hcHBpbmc6ZW52TWFwTW9kZURlZmluZT0nRU5WTUFQX01PREVfUkVGUkFDVElPTic7YnJlYWs7fX1yZXR1cm4gZW52TWFwTW9kZURlZmluZTt9ZnVuY3Rpb24gZ2VuZXJhdGVFbnZNYXBCbGVuZGluZ0RlZmluZShwYXJhbWV0ZXJzKXt2YXIgZW52TWFwQmxlbmRpbmdEZWZpbmU9J0VOVk1BUF9CTEVORElOR19OT05FJztpZihwYXJhbWV0ZXJzLmVudk1hcCl7c3dpdGNoKHBhcmFtZXRlcnMuY29tYmluZSl7Y2FzZSBNdWx0aXBseU9wZXJhdGlvbjplbnZNYXBCbGVuZGluZ0RlZmluZT0nRU5WTUFQX0JMRU5ESU5HX01VTFRJUExZJzticmVhaztjYXNlIE1peE9wZXJhdGlvbjplbnZNYXBCbGVuZGluZ0RlZmluZT0nRU5WTUFQX0JMRU5ESU5HX01JWCc7YnJlYWs7Y2FzZSBBZGRPcGVyYXRpb246ZW52TWFwQmxlbmRpbmdEZWZpbmU9J0VOVk1BUF9CTEVORElOR19BREQnO2JyZWFrO319cmV0dXJuIGVudk1hcEJsZW5kaW5nRGVmaW5lO31mdW5jdGlvbiBXZWJHTFByb2dyYW0ocmVuZGVyZXIsZXh0ZW5zaW9ucyxjYWNoZUtleSxtYXRlcmlhbCxzaGFkZXIscGFyYW1ldGVycyl7dmFyIGdsPXJlbmRlcmVyLmdldENvbnRleHQoKTt2YXIgZGVmaW5lcz1tYXRlcmlhbC5kZWZpbmVzO3ZhciB2ZXJ0ZXhTaGFkZXI9c2hhZGVyLnZlcnRleFNoYWRlcjt2YXIgZnJhZ21lbnRTaGFkZXI9c2hhZGVyLmZyYWdtZW50U2hhZGVyO3ZhciBzaGFkb3dNYXBUeXBlRGVmaW5lPWdlbmVyYXRlU2hhZG93TWFwVHlwZURlZmluZShwYXJhbWV0ZXJzKTt2YXIgZW52TWFwVHlwZURlZmluZT1nZW5lcmF0ZUVudk1hcFR5cGVEZWZpbmUocGFyYW1ldGVycyk7dmFyIGVudk1hcE1vZGVEZWZpbmU9Z2VuZXJhdGVFbnZNYXBNb2RlRGVmaW5lKHBhcmFtZXRlcnMpO3ZhciBlbnZNYXBCbGVuZGluZ0RlZmluZT1nZW5lcmF0ZUVudk1hcEJsZW5kaW5nRGVmaW5lKHBhcmFtZXRlcnMpO3ZhciBnYW1tYUZhY3RvckRlZmluZT1yZW5kZXJlci5nYW1tYUZhY3Rvcj4wP3JlbmRlcmVyLmdhbW1hRmFjdG9yOjEuMDt2YXIgY3VzdG9tRXh0ZW5zaW9ucz1wYXJhbWV0ZXJzLmlzV2ViR0wyPycnOmdlbmVyYXRlRXh0ZW5zaW9ucyhtYXRlcmlhbC5leHRlbnNpb25zLHBhcmFtZXRlcnMsZXh0ZW5zaW9ucyk7dmFyIGN1c3RvbURlZmluZXM9Z2VuZXJhdGVEZWZpbmVzKGRlZmluZXMpO3ZhciBwcm9ncmFtPWdsLmNyZWF0ZVByb2dyYW0oKTt2YXIgcHJlZml4VmVydGV4LHByZWZpeEZyYWdtZW50O3ZhciBudW1NdWx0aXZpZXdWaWV3cz1wYXJhbWV0ZXJzLm51bU11bHRpdmlld1ZpZXdzO2lmKG1hdGVyaWFsLmlzUmF3U2hhZGVyTWF0ZXJpYWwpe3ByZWZpeFZlcnRleD1bY3VzdG9tRGVmaW5lc10uZmlsdGVyKGZpbHRlckVtcHR5TGluZSkuam9pbignXG4nKTtpZihwcmVmaXhWZXJ0ZXgubGVuZ3RoPjApe3ByZWZpeFZlcnRleCs9J1xuJzt9cHJlZml4RnJhZ21lbnQ9W2N1c3RvbUV4dGVuc2lvbnMsY3VzdG9tRGVmaW5lc10uZmlsdGVyKGZpbHRlckVtcHR5TGluZSkuam9pbignXG4nKTtpZihwcmVmaXhGcmFnbWVudC5sZW5ndGg+MCl7cHJlZml4RnJhZ21lbnQrPSdcbic7fX1lbHNle3ByZWZpeFZlcnRleD1bZ2VuZXJhdGVQcmVjaXNpb24ocGFyYW1ldGVycyksJyNkZWZpbmUgU0hBREVSX05BTUUgJytzaGFkZXIubmFtZSxjdXN0b21EZWZpbmVzLHBhcmFtZXRlcnMuaW5zdGFuY2luZz8nI2RlZmluZSBVU0VfSU5TVEFOQ0lORyc6JycscGFyYW1ldGVycy5zdXBwb3J0c1ZlcnRleFRleHR1cmVzPycjZGVmaW5lIFZFUlRFWF9URVhUVVJFUyc6JycsJyNkZWZpbmUgR0FNTUFfRkFDVE9SICcrZ2FtbWFGYWN0b3JEZWZpbmUsJyNkZWZpbmUgTUFYX0JPTkVTICcrcGFyYW1ldGVycy5tYXhCb25lcyxwYXJhbWV0ZXJzLnVzZUZvZyYmcGFyYW1ldGVycy5mb2c/JyNkZWZpbmUgVVNFX0ZPRyc6JycscGFyYW1ldGVycy51c2VGb2cmJnBhcmFtZXRlcnMuZm9nRXhwMj8nI2RlZmluZSBGT0dfRVhQMic6JycscGFyYW1ldGVycy5tYXA/JyNkZWZpbmUgVVNFX01BUCc6JycscGFyYW1ldGVycy5lbnZNYXA/JyNkZWZpbmUgVVNFX0VOVk1BUCc6JycscGFyYW1ldGVycy5lbnZNYXA/JyNkZWZpbmUgJytlbnZNYXBNb2RlRGVmaW5lOicnLHBhcmFtZXRlcnMubGlnaHRNYXA/JyNkZWZpbmUgVVNFX0xJR0hUTUFQJzonJyxwYXJhbWV0ZXJzLmFvTWFwPycjZGVmaW5lIFVTRV9BT01BUCc6JycscGFyYW1ldGVycy5lbWlzc2l2ZU1hcD8nI2RlZmluZSBVU0VfRU1JU1NJVkVNQVAnOicnLHBhcmFtZXRlcnMuYnVtcE1hcD8nI2RlZmluZSBVU0VfQlVNUE1BUCc6JycscGFyYW1ldGVycy5ub3JtYWxNYXA/JyNkZWZpbmUgVVNFX05PUk1BTE1BUCc6JycscGFyYW1ldGVycy5ub3JtYWxNYXAmJnBhcmFtZXRlcnMub2JqZWN0U3BhY2VOb3JtYWxNYXA/JyNkZWZpbmUgT0JKRUNUU1BBQ0VfTk9STUFMTUFQJzonJyxwYXJhbWV0ZXJzLm5vcm1hbE1hcCYmcGFyYW1ldGVycy50YW5nZW50U3BhY2VOb3JtYWxNYXA/JyNkZWZpbmUgVEFOR0VOVFNQQUNFX05PUk1BTE1BUCc6JycscGFyYW1ldGVycy5jbGVhcmNvYXROb3JtYWxNYXA/JyNkZWZpbmUgVVNFX0NMRUFSQ09BVF9OT1JNQUxNQVAnOicnLHBhcmFtZXRlcnMuZGlzcGxhY2VtZW50TWFwJiZwYXJhbWV0ZXJzLnN1cHBvcnRzVmVydGV4VGV4dHVyZXM/JyNkZWZpbmUgVVNFX0RJU1BMQUNFTUVOVE1BUCc6JycscGFyYW1ldGVycy5zcGVjdWxhck1hcD8nI2RlZmluZSBVU0VfU1BFQ1VMQVJNQVAnOicnLHBhcmFtZXRlcnMucm91Z2huZXNzTWFwPycjZGVmaW5lIFVTRV9ST1VHSE5FU1NNQVAnOicnLHBhcmFtZXRlcnMubWV0YWxuZXNzTWFwPycjZGVmaW5lIFVTRV9NRVRBTE5FU1NNQVAnOicnLHBhcmFtZXRlcnMuYWxwaGFNYXA/JyNkZWZpbmUgVVNFX0FMUEhBTUFQJzonJyxwYXJhbWV0ZXJzLnZlcnRleFRhbmdlbnRzPycjZGVmaW5lIFVTRV9UQU5HRU5UJzonJyxwYXJhbWV0ZXJzLnZlcnRleENvbG9ycz8nI2RlZmluZSBVU0VfQ09MT1InOicnLHBhcmFtZXRlcnMudmVydGV4VXZzPycjZGVmaW5lIFVTRV9VVic6JycscGFyYW1ldGVycy51dnNWZXJ0ZXhPbmx5PycjZGVmaW5lIFVWU19WRVJURVhfT05MWSc6JycscGFyYW1ldGVycy5mbGF0U2hhZGluZz8nI2RlZmluZSBGTEFUX1NIQURFRCc6JycscGFyYW1ldGVycy5za2lubmluZz8nI2RlZmluZSBVU0VfU0tJTk5JTkcnOicnLHBhcmFtZXRlcnMudXNlVmVydGV4VGV4dHVyZT8nI2RlZmluZSBCT05FX1RFWFRVUkUnOicnLHBhcmFtZXRlcnMubW9ycGhUYXJnZXRzPycjZGVmaW5lIFVTRV9NT1JQSFRBUkdFVFMnOicnLHBhcmFtZXRlcnMubW9ycGhOb3JtYWxzJiZwYXJhbWV0ZXJzLmZsYXRTaGFkaW5nPT09ZmFsc2U/JyNkZWZpbmUgVVNFX01PUlBITk9STUFMUyc6JycscGFyYW1ldGVycy5kb3VibGVTaWRlZD8nI2RlZmluZSBET1VCTEVfU0lERUQnOicnLHBhcmFtZXRlcnMuZmxpcFNpZGVkPycjZGVmaW5lIEZMSVBfU0lERUQnOicnLHBhcmFtZXRlcnMuc2hhZG93TWFwRW5hYmxlZD8nI2RlZmluZSBVU0VfU0hBRE9XTUFQJzonJyxwYXJhbWV0ZXJzLnNoYWRvd01hcEVuYWJsZWQ/JyNkZWZpbmUgJytzaGFkb3dNYXBUeXBlRGVmaW5lOicnLHBhcmFtZXRlcnMuc2l6ZUF0dGVudWF0aW9uPycjZGVmaW5lIFVTRV9TSVpFQVRURU5VQVRJT04nOicnLHBhcmFtZXRlcnMubG9nYXJpdGhtaWNEZXB0aEJ1ZmZlcj8nI2RlZmluZSBVU0VfTE9HREVQVEhCVUYnOicnLHBhcmFtZXRlcnMubG9nYXJpdGhtaWNEZXB0aEJ1ZmZlciYmKHBhcmFtZXRlcnMuaXNXZWJHTDJ8fGV4dGVuc2lvbnMuZ2V0KCdFWFRfZnJhZ19kZXB0aCcpKT8nI2RlZmluZSBVU0VfTE9HREVQVEhCVUZfRVhUJzonJywndW5pZm9ybSBtYXQ0IG1vZGVsTWF0cml4OycsJ3VuaWZvcm0gbWF0NCBtb2RlbFZpZXdNYXRyaXg7JywndW5pZm9ybSBtYXQ0IHByb2plY3Rpb25NYXRyaXg7JywndW5pZm9ybSBtYXQ0IHZpZXdNYXRyaXg7JywndW5pZm9ybSBtYXQzIG5vcm1hbE1hdHJpeDsnLCd1bmlmb3JtIHZlYzMgY2FtZXJhUG9zaXRpb247JywndW5pZm9ybSBib29sIGlzT3J0aG9ncmFwaGljOycsJyNpZmRlZiBVU0VfSU5TVEFOQ0lORycsJyBhdHRyaWJ1dGUgbWF0NCBpbnN0YW5jZU1hdHJpeDsnLCcjZW5kaWYnLCdhdHRyaWJ1dGUgdmVjMyBwb3NpdGlvbjsnLCdhdHRyaWJ1dGUgdmVjMyBub3JtYWw7JywnYXR0cmlidXRlIHZlYzIgdXY7JywnI2lmZGVmIFVTRV9UQU5HRU5UJywnCWF0dHJpYnV0ZSB2ZWM0IHRhbmdlbnQ7JywnI2VuZGlmJywnI2lmZGVmIFVTRV9DT0xPUicsJwlhdHRyaWJ1dGUgdmVjMyBjb2xvcjsnLCcjZW5kaWYnLCcjaWZkZWYgVVNFX01PUlBIVEFSR0VUUycsJwlhdHRyaWJ1dGUgdmVjMyBtb3JwaFRhcmdldDA7JywnCWF0dHJpYnV0ZSB2ZWMzIG1vcnBoVGFyZ2V0MTsnLCcJYXR0cmlidXRlIHZlYzMgbW9ycGhUYXJnZXQyOycsJwlhdHRyaWJ1dGUgdmVjMyBtb3JwaFRhcmdldDM7JywnCSNpZmRlZiBVU0VfTU9SUEhOT1JNQUxTJywnCQlhdHRyaWJ1dGUgdmVjMyBtb3JwaE5vcm1hbDA7JywnCQlhdHRyaWJ1dGUgdmVjMyBtb3JwaE5vcm1hbDE7JywnCQlhdHRyaWJ1dGUgdmVjMyBtb3JwaE5vcm1hbDI7JywnCQlhdHRyaWJ1dGUgdmVjMyBtb3JwaE5vcm1hbDM7JywnCSNlbHNlJywnCQlhdHRyaWJ1dGUgdmVjMyBtb3JwaFRhcmdldDQ7JywnCQlhdHRyaWJ1dGUgdmVjMyBtb3JwaFRhcmdldDU7JywnCQlhdHRyaWJ1dGUgdmVjMyBtb3JwaFRhcmdldDY7JywnCQlhdHRyaWJ1dGUgdmVjMyBtb3JwaFRhcmdldDc7JywnCSNlbmRpZicsJyNlbmRpZicsJyNpZmRlZiBVU0VfU0tJTk5JTkcnLCcJYXR0cmlidXRlIHZlYzQgc2tpbkluZGV4OycsJwlhdHRyaWJ1dGUgdmVjNCBza2luV2VpZ2h0OycsJyNlbmRpZicsJ1xuJ10uZmlsdGVyKGZpbHRlckVtcHR5TGluZSkuam9pbignXG4nKTtwcmVmaXhGcmFnbWVudD1bY3VzdG9tRXh0ZW5zaW9ucyxnZW5lcmF0ZVByZWNpc2lvbihwYXJhbWV0ZXJzKSwnI2RlZmluZSBTSEFERVJfTkFNRSAnK3NoYWRlci5uYW1lLGN1c3RvbURlZmluZXMscGFyYW1ldGVycy5hbHBoYVRlc3Q/JyNkZWZpbmUgQUxQSEFURVNUICcrcGFyYW1ldGVycy5hbHBoYVRlc3QrKHBhcmFtZXRlcnMuYWxwaGFUZXN0JTE/Jyc6Jy4wJyk6JycsLy8gYWRkICcuMCcgaWYgaW50ZWdlcgonI2RlZmluZSBHQU1NQV9GQUNUT1IgJytnYW1tYUZhY3RvckRlZmluZSxwYXJhbWV0ZXJzLnVzZUZvZyYmcGFyYW1ldGVycy5mb2c/JyNkZWZpbmUgVVNFX0ZPRyc6JycscGFyYW1ldGVycy51c2VGb2cmJnBhcmFtZXRlcnMuZm9nRXhwMj8nI2RlZmluZSBGT0dfRVhQMic6JycscGFyYW1ldGVycy5tYXA/JyNkZWZpbmUgVVNFX01BUCc6JycscGFyYW1ldGVycy5tYXRjYXA/JyNkZWZpbmUgVVNFX01BVENBUCc6JycscGFyYW1ldGVycy5lbnZNYXA/JyNkZWZpbmUgVVNFX0VOVk1BUCc6JycscGFyYW1ldGVycy5lbnZNYXA/JyNkZWZpbmUgJytlbnZNYXBUeXBlRGVmaW5lOicnLHBhcmFtZXRlcnMuZW52TWFwPycjZGVmaW5lICcrZW52TWFwTW9kZURlZmluZTonJyxwYXJhbWV0ZXJzLmVudk1hcD8nI2RlZmluZSAnK2Vudk1hcEJsZW5kaW5nRGVmaW5lOicnLHBhcmFtZXRlcnMubGlnaHRNYXA/JyNkZWZpbmUgVVNFX0xJR0hUTUFQJzonJyxwYXJhbWV0ZXJzLmFvTWFwPycjZGVmaW5lIFVTRV9BT01BUCc6JycscGFyYW1ldGVycy5lbWlzc2l2ZU1hcD8nI2RlZmluZSBVU0VfRU1JU1NJVkVNQVAnOicnLHBhcmFtZXRlcnMuYnVtcE1hcD8nI2RlZmluZSBVU0VfQlVNUE1BUCc6JycscGFyYW1ldGVycy5ub3JtYWxNYXA/JyNkZWZpbmUgVVNFX05PUk1BTE1BUCc6JycscGFyYW1ldGVycy5ub3JtYWxNYXAmJnBhcmFtZXRlcnMub2JqZWN0U3BhY2VOb3JtYWxNYXA/JyNkZWZpbmUgT0JKRUNUU1BBQ0VfTk9STUFMTUFQJzonJyxwYXJhbWV0ZXJzLm5vcm1hbE1hcCYmcGFyYW1ldGVycy50YW5nZW50U3BhY2VOb3JtYWxNYXA/JyNkZWZpbmUgVEFOR0VOVFNQQUNFX05PUk1BTE1BUCc6JycscGFyYW1ldGVycy5jbGVhcmNvYXROb3JtYWxNYXA/JyNkZWZpbmUgVVNFX0NMRUFSQ09BVF9OT1JNQUxNQVAnOicnLHBhcmFtZXRlcnMuc3BlY3VsYXJNYXA/JyNkZWZpbmUgVVNFX1NQRUNVTEFSTUFQJzonJyxwYXJhbWV0ZXJzLnJvdWdobmVzc01hcD8nI2RlZmluZSBVU0VfUk9VR0hORVNTTUFQJzonJyxwYXJhbWV0ZXJzLm1ldGFsbmVzc01hcD8nI2RlZmluZSBVU0VfTUVUQUxORVNTTUFQJzonJyxwYXJhbWV0ZXJzLmFscGhhTWFwPycjZGVmaW5lIFVTRV9BTFBIQU1BUCc6JycscGFyYW1ldGVycy5zaGVlbj8nI2RlZmluZSBVU0VfU0hFRU4nOicnLHBhcmFtZXRlcnMudmVydGV4VGFuZ2VudHM/JyNkZWZpbmUgVVNFX1RBTkdFTlQnOicnLHBhcmFtZXRlcnMudmVydGV4Q29sb3JzPycjZGVmaW5lIFVTRV9DT0xPUic6JycscGFyYW1ldGVycy52ZXJ0ZXhVdnM/JyNkZWZpbmUgVVNFX1VWJzonJyxwYXJhbWV0ZXJzLnV2c1ZlcnRleE9ubHk/JyNkZWZpbmUgVVZTX1ZFUlRFWF9PTkxZJzonJyxwYXJhbWV0ZXJzLmdyYWRpZW50TWFwPycjZGVmaW5lIFVTRV9HUkFESUVOVE1BUCc6JycscGFyYW1ldGVycy5mbGF0U2hhZGluZz8nI2RlZmluZSBGTEFUX1NIQURFRCc6JycscGFyYW1ldGVycy5kb3VibGVTaWRlZD8nI2RlZmluZSBET1VCTEVfU0lERUQnOicnLHBhcmFtZXRlcnMuZmxpcFNpZGVkPycjZGVmaW5lIEZMSVBfU0lERUQnOicnLHBhcmFtZXRlcnMuc2hhZG93TWFwRW5hYmxlZD8nI2RlZmluZSBVU0VfU0hBRE9XTUFQJzonJyxwYXJhbWV0ZXJzLnNoYWRvd01hcEVuYWJsZWQ/JyNkZWZpbmUgJytzaGFkb3dNYXBUeXBlRGVmaW5lOicnLHBhcmFtZXRlcnMucHJlbXVsdGlwbGllZEFscGhhPycjZGVmaW5lIFBSRU1VTFRJUExJRURfQUxQSEEnOicnLHBhcmFtZXRlcnMucGh5c2ljYWxseUNvcnJlY3RMaWdodHM/JyNkZWZpbmUgUEhZU0lDQUxMWV9DT1JSRUNUX0xJR0hUUyc6JycscGFyYW1ldGVycy5sb2dhcml0aG1pY0RlcHRoQnVmZmVyPycjZGVmaW5lIFVTRV9MT0dERVBUSEJVRic6JycscGFyYW1ldGVycy5sb2dhcml0aG1pY0RlcHRoQnVmZmVyJiYocGFyYW1ldGVycy5pc1dlYkdMMnx8ZXh0ZW5zaW9ucy5nZXQoJ0VYVF9mcmFnX2RlcHRoJykpPycjZGVmaW5lIFVTRV9MT0dERVBUSEJVRl9FWFQnOicnLCgobWF0ZXJpYWwuZXh0ZW5zaW9ucz9tYXRlcmlhbC5leHRlbnNpb25zLnNoYWRlclRleHR1cmVMT0Q6ZmFsc2UpfHxwYXJhbWV0ZXJzLmVudk1hcCkmJihwYXJhbWV0ZXJzLmlzV2ViR0wyfHxleHRlbnNpb25zLmdldCgnRVhUX3NoYWRlcl90ZXh0dXJlX2xvZCcpKT8nI2RlZmluZSBURVhUVVJFX0xPRF9FWFQnOicnLCd1bmlmb3JtIG1hdDQgdmlld01hdHJpeDsnLCd1bmlmb3JtIHZlYzMgY2FtZXJhUG9zaXRpb247JywndW5pZm9ybSBib29sIGlzT3J0aG9ncmFwaGljOycscGFyYW1ldGVycy50b25lTWFwcGluZyE9PU5vVG9uZU1hcHBpbmc/JyNkZWZpbmUgVE9ORV9NQVBQSU5HJzonJyxwYXJhbWV0ZXJzLnRvbmVNYXBwaW5nIT09Tm9Ub25lTWFwcGluZz9TaGFkZXJDaHVua1sndG9uZW1hcHBpbmdfcGFyc19mcmFnbWVudCddOicnLC8vIHRoaXMgY29kZSBpcyByZXF1aXJlZCBoZXJlIGJlY2F1c2UgaXQgaXMgdXNlZCBieSB0aGUgdG9uZU1hcHBpbmcoKSBmdW5jdGlvbiBkZWZpbmVkIGJlbG93CnBhcmFtZXRlcnMudG9uZU1hcHBpbmchPT1Ob1RvbmVNYXBwaW5nP2dldFRvbmVNYXBwaW5nRnVuY3Rpb24oJ3RvbmVNYXBwaW5nJyxwYXJhbWV0ZXJzLnRvbmVNYXBwaW5nKTonJyxwYXJhbWV0ZXJzLmRpdGhlcmluZz8nI2RlZmluZSBESVRIRVJJTkcnOicnLHBhcmFtZXRlcnMub3V0cHV0RW5jb2Rpbmd8fHBhcmFtZXRlcnMubWFwRW5jb2Rpbmd8fHBhcmFtZXRlcnMubWF0Y2FwRW5jb2Rpbmd8fHBhcmFtZXRlcnMuZW52TWFwRW5jb2Rpbmd8fHBhcmFtZXRlcnMuZW1pc3NpdmVNYXBFbmNvZGluZ3x8cGFyYW1ldGVycy5saWdodE1hcEVuY29kaW5nP1NoYWRlckNodW5rWydlbmNvZGluZ3NfcGFyc19mcmFnbWVudCddOicnLC8vIHRoaXMgY29kZSBpcyByZXF1aXJlZCBoZXJlIGJlY2F1c2UgaXQgaXMgdXNlZCBieSB0aGUgdmFyaW91cyBlbmNvZGluZy9kZWNvZGluZyBmdW5jdGlvbiBkZWZpbmVkIGJlbG93CnBhcmFtZXRlcnMubWFwRW5jb2Rpbmc/Z2V0VGV4ZWxEZWNvZGluZ0Z1bmN0aW9uKCdtYXBUZXhlbFRvTGluZWFyJyxwYXJhbWV0ZXJzLm1hcEVuY29kaW5nKTonJyxwYXJhbWV0ZXJzLm1hdGNhcEVuY29kaW5nP2dldFRleGVsRGVjb2RpbmdGdW5jdGlvbignbWF0Y2FwVGV4ZWxUb0xpbmVhcicscGFyYW1ldGVycy5tYXRjYXBFbmNvZGluZyk6JycscGFyYW1ldGVycy5lbnZNYXBFbmNvZGluZz9nZXRUZXhlbERlY29kaW5nRnVuY3Rpb24oJ2Vudk1hcFRleGVsVG9MaW5lYXInLHBhcmFtZXRlcnMuZW52TWFwRW5jb2RpbmcpOicnLHBhcmFtZXRlcnMuZW1pc3NpdmVNYXBFbmNvZGluZz9nZXRUZXhlbERlY29kaW5nRnVuY3Rpb24oJ2VtaXNzaXZlTWFwVGV4ZWxUb0xpbmVhcicscGFyYW1ldGVycy5lbWlzc2l2ZU1hcEVuY29kaW5nKTonJyxwYXJhbWV0ZXJzLmxpZ2h0TWFwRW5jb2Rpbmc/Z2V0VGV4ZWxEZWNvZGluZ0Z1bmN0aW9uKCdsaWdodE1hcFRleGVsVG9MaW5lYXInLHBhcmFtZXRlcnMubGlnaHRNYXBFbmNvZGluZyk6JycscGFyYW1ldGVycy5vdXRwdXRFbmNvZGluZz9nZXRUZXhlbEVuY29kaW5nRnVuY3Rpb24oJ2xpbmVhclRvT3V0cHV0VGV4ZWwnLHBhcmFtZXRlcnMub3V0cHV0RW5jb2RpbmcpOicnLHBhcmFtZXRlcnMuZGVwdGhQYWNraW5nPycjZGVmaW5lIERFUFRIX1BBQ0tJTkcgJyttYXRlcmlhbC5kZXB0aFBhY2tpbmc6JycsJ1xuJ10uZmlsdGVyKGZpbHRlckVtcHR5TGluZSkuam9pbignXG4nKTt9dmVydGV4U2hhZGVyPXJlc29sdmVJbmNsdWRlcyh2ZXJ0ZXhTaGFkZXIpO3ZlcnRleFNoYWRlcj1yZXBsYWNlTGlnaHROdW1zKHZlcnRleFNoYWRlcixwYXJhbWV0ZXJzKTt2ZXJ0ZXhTaGFkZXI9cmVwbGFjZUNsaXBwaW5nUGxhbmVOdW1zKHZlcnRleFNoYWRlcixwYXJhbWV0ZXJzKTtmcmFnbWVudFNoYWRlcj1yZXNvbHZlSW5jbHVkZXMoZnJhZ21lbnRTaGFkZXIpO2ZyYWdtZW50U2hhZGVyPXJlcGxhY2VMaWdodE51bXMoZnJhZ21lbnRTaGFkZXIscGFyYW1ldGVycyk7ZnJhZ21lbnRTaGFkZXI9cmVwbGFjZUNsaXBwaW5nUGxhbmVOdW1zKGZyYWdtZW50U2hhZGVyLHBhcmFtZXRlcnMpO3ZlcnRleFNoYWRlcj11bnJvbGxMb29wcyh2ZXJ0ZXhTaGFkZXIpO2ZyYWdtZW50U2hhZGVyPXVucm9sbExvb3BzKGZyYWdtZW50U2hhZGVyKTtpZihwYXJhbWV0ZXJzLmlzV2ViR0wyJiYhbWF0ZXJpYWwuaXNSYXdTaGFkZXJNYXRlcmlhbCl7dmFyIGlzR0xTTDNTaGFkZXJNYXRlcmlhbD1mYWxzZTt2YXIgdmVyc2lvblJlZ2V4PS9eXHMqI3ZlcnNpb25ccyszMDBccytlc1xzKlxuLztpZihtYXRlcmlhbC5pc1NoYWRlck1hdGVyaWFsJiZ2ZXJ0ZXhTaGFkZXIubWF0Y2godmVyc2lvblJlZ2V4KSE9PW51bGwmJmZyYWdtZW50U2hhZGVyLm1hdGNoKHZlcnNpb25SZWdleCkhPT1udWxsKXtpc0dMU0wzU2hhZGVyTWF0ZXJpYWw9dHJ1ZTt2ZXJ0ZXhTaGFkZXI9dmVydGV4U2hhZGVyLnJlcGxhY2UodmVyc2lvblJlZ2V4LCcnKTtmcmFnbWVudFNoYWRlcj1mcmFnbWVudFNoYWRlci5yZXBsYWNlKHZlcnNpb25SZWdleCwnJyk7fS8vIEdMU0wgMy4wIGNvbnZlcnNpb24KcHJlZml4VmVydGV4PVsnI3ZlcnNpb24gMzAwIGVzXG4nLCcjZGVmaW5lIGF0dHJpYnV0ZSBpbicsJyNkZWZpbmUgdmFyeWluZyBvdXQnLCcjZGVmaW5lIHRleHR1cmUyRCB0ZXh0dXJlJ10uam9pbignXG4nKSsnXG4nK3ByZWZpeFZlcnRleDtwcmVmaXhGcmFnbWVudD1bJyN2ZXJzaW9uIDMwMCBlc1xuJywnI2RlZmluZSB2YXJ5aW5nIGluJyxpc0dMU0wzU2hhZGVyTWF0ZXJpYWw/Jyc6J291dCBoaWdocCB2ZWM0IHBjX2ZyYWdDb2xvcjsnLGlzR0xTTDNTaGFkZXJNYXRlcmlhbD8nJzonI2RlZmluZSBnbF9GcmFnQ29sb3IgcGNfZnJhZ0NvbG9yJywnI2RlZmluZSBnbF9GcmFnRGVwdGhFWFQgZ2xfRnJhZ0RlcHRoJywnI2RlZmluZSB0ZXh0dXJlMkQgdGV4dHVyZScsJyNkZWZpbmUgdGV4dHVyZUN1YmUgdGV4dHVyZScsJyNkZWZpbmUgdGV4dHVyZTJEUHJvaiB0ZXh0dXJlUHJvaicsJyNkZWZpbmUgdGV4dHVyZTJETG9kRVhUIHRleHR1cmVMb2QnLCcjZGVmaW5lIHRleHR1cmUyRFByb2pMb2RFWFQgdGV4dHVyZVByb2pMb2QnLCcjZGVmaW5lIHRleHR1cmVDdWJlTG9kRVhUIHRleHR1cmVMb2QnLCcjZGVmaW5lIHRleHR1cmUyREdyYWRFWFQgdGV4dHVyZUdyYWQnLCcjZGVmaW5lIHRleHR1cmUyRFByb2pHcmFkRVhUIHRleHR1cmVQcm9qR3JhZCcsJyNkZWZpbmUgdGV4dHVyZUN1YmVHcmFkRVhUIHRleHR1cmVHcmFkJ10uam9pbignXG4nKSsnXG4nK3ByZWZpeEZyYWdtZW50Oy8vIE11bHRpdmlldwppZihudW1NdWx0aXZpZXdWaWV3cz4wKXtwcmVmaXhWZXJ0ZXg9cHJlZml4VmVydGV4LnJlcGxhY2UoJyN2ZXJzaW9uIDMwMCBlc1xuJyxbJyN2ZXJzaW9uIDMwMCBlc1xuJywnI2V4dGVuc2lvbiBHTF9PVlJfbXVsdGl2aWV3MiA6IHJlcXVpcmUnLCdsYXlvdXQobnVtX3ZpZXdzID0gJytudW1NdWx0aXZpZXdWaWV3cysnKSBpbjsnLCcjZGVmaW5lIFZJRVdfSUQgZ2xfVmlld0lEX09WUiddLmpvaW4oJ1xuJykpO3ByZWZpeFZlcnRleD1wcmVmaXhWZXJ0ZXgucmVwbGFjZShbJ3VuaWZvcm0gbWF0NCBtb2RlbFZpZXdNYXRyaXg7JywndW5pZm9ybSBtYXQ0IHByb2plY3Rpb25NYXRyaXg7JywndW5pZm9ybSBtYXQ0IHZpZXdNYXRyaXg7JywndW5pZm9ybSBtYXQzIG5vcm1hbE1hdHJpeDsnXS5qb2luKCdcbicpLFsndW5pZm9ybSBtYXQ0IG1vZGVsVmlld01hdHJpY2VzWycrbnVtTXVsdGl2aWV3Vmlld3MrJ107JywndW5pZm9ybSBtYXQ0IHByb2plY3Rpb25NYXRyaWNlc1snK251bU11bHRpdmlld1ZpZXdzKyddOycsJ3VuaWZvcm0gbWF0NCB2aWV3TWF0cmljZXNbJytudW1NdWx0aXZpZXdWaWV3cysnXTsnLCd1bmlmb3JtIG1hdDMgbm9ybWFsTWF0cmljZXNbJytudW1NdWx0aXZpZXdWaWV3cysnXTsnLCcjZGVmaW5lIG1vZGVsVmlld01hdHJpeCBtb2RlbFZpZXdNYXRyaWNlc1tWSUVXX0lEXScsJyNkZWZpbmUgcHJvamVjdGlvbk1hdHJpeCBwcm9qZWN0aW9uTWF0cmljZXNbVklFV19JRF0nLCcjZGVmaW5lIHZpZXdNYXRyaXggdmlld01hdHJpY2VzW1ZJRVdfSURdJywnI2RlZmluZSBub3JtYWxNYXRyaXggbm9ybWFsTWF0cmljZXNbVklFV19JRF0nXS5qb2luKCdcbicpKTtwcmVmaXhGcmFnbWVudD1wcmVmaXhGcmFnbWVudC5yZXBsYWNlKCcjdmVyc2lvbiAzMDAgZXNcbicsWycjdmVyc2lvbiAzMDAgZXNcbicsJyNleHRlbnNpb24gR0xfT1ZSX211bHRpdmlldzIgOiByZXF1aXJlJywnI2RlZmluZSBWSUVXX0lEIGdsX1ZpZXdJRF9PVlInXS5qb2luKCdcbicpKTtwcmVmaXhGcmFnbWVudD1wcmVmaXhGcmFnbWVudC5yZXBsYWNlKCd1bmlmb3JtIG1hdDQgdmlld01hdHJpeDsnLFsndW5pZm9ybSBtYXQ0IHZpZXdNYXRyaWNlc1snK251bU11bHRpdmlld1ZpZXdzKyddOycsJyNkZWZpbmUgdmlld01hdHJpeCB2aWV3TWF0cmljZXNbVklFV19JRF0nXS5qb2luKCdcbicpKTt9fXZhciB2ZXJ0ZXhHbHNsPXByZWZpeFZlcnRleCt2ZXJ0ZXhTaGFkZXI7dmFyIGZyYWdtZW50R2xzbD1wcmVmaXhGcmFnbWVudCtmcmFnbWVudFNoYWRlcjsvLyBjb25zb2xlLmxvZyggJypWRVJURVgqJywgdmVydGV4R2xzbCApOwovLyBjb25zb2xlLmxvZyggJypGUkFHTUVOVConLCBmcmFnbWVudEdsc2wgKTsKdmFyIGdsVmVydGV4U2hhZGVyPVdlYkdMU2hhZGVyKGdsLDM1NjMzLHZlcnRleEdsc2wpO3ZhciBnbEZyYWdtZW50U2hhZGVyPVdlYkdMU2hhZGVyKGdsLDM1NjMyLGZyYWdtZW50R2xzbCk7Z2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sZ2xWZXJ0ZXhTaGFkZXIpO2dsLmF0dGFjaFNoYWRlcihwcm9ncmFtLGdsRnJhZ21lbnRTaGFkZXIpOy8vIEZvcmNlIGEgcGFydGljdWxhciBhdHRyaWJ1dGUgdG8gaW5kZXggMC4KaWYobWF0ZXJpYWwuaW5kZXgwQXR0cmlidXRlTmFtZSE9PXVuZGVmaW5lZCl7Z2wuYmluZEF0dHJpYkxvY2F0aW9uKHByb2dyYW0sMCxtYXRlcmlhbC5pbmRleDBBdHRyaWJ1dGVOYW1lKTt9ZWxzZSBpZihwYXJhbWV0ZXJzLm1vcnBoVGFyZ2V0cz09PXRydWUpey8vIHByb2dyYW1zIHdpdGggbW9ycGhUYXJnZXRzIGRpc3BsYWNlIHBvc2l0aW9uIG91dCBvZiBhdHRyaWJ1dGUgMApnbC5iaW5kQXR0cmliTG9jYXRpb24ocHJvZ3JhbSwwLCdwb3NpdGlvbicpO31nbC5saW5rUHJvZ3JhbShwcm9ncmFtKTsvLyBjaGVjayBmb3IgbGluayBlcnJvcnMKaWYocmVuZGVyZXIuZGVidWcuY2hlY2tTaGFkZXJFcnJvcnMpe3ZhciBwcm9ncmFtTG9nPWdsLmdldFByb2dyYW1JbmZvTG9nKHByb2dyYW0pLnRyaW0oKTt2YXIgdmVydGV4TG9nPWdsLmdldFNoYWRlckluZm9Mb2coZ2xWZXJ0ZXhTaGFkZXIpLnRyaW0oKTt2YXIgZnJhZ21lbnRMb2c9Z2wuZ2V0U2hhZGVySW5mb0xvZyhnbEZyYWdtZW50U2hhZGVyKS50cmltKCk7dmFyIHJ1bm5hYmxlPXRydWU7dmFyIGhhdmVEaWFnbm9zdGljcz10cnVlO2lmKGdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwzNTcxNCk9PT1mYWxzZSl7cnVubmFibGU9ZmFsc2U7dmFyIHZlcnRleEVycm9ycz1nZXRTaGFkZXJFcnJvcnMoZ2wsZ2xWZXJ0ZXhTaGFkZXIsJ3ZlcnRleCcpO3ZhciBmcmFnbWVudEVycm9ycz1nZXRTaGFkZXJFcnJvcnMoZ2wsZ2xGcmFnbWVudFNoYWRlciwnZnJhZ21lbnQnKTtjb25zb2xlLmVycm9yKCdUSFJFRS5XZWJHTFByb2dyYW06IHNoYWRlciBlcnJvcjogJyxnbC5nZXRFcnJvcigpLCczNTcxNScsZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLDM1NzE1KSwnZ2wuZ2V0UHJvZ3JhbUluZm9Mb2cnLHByb2dyYW1Mb2csdmVydGV4RXJyb3JzLGZyYWdtZW50RXJyb3JzKTt9ZWxzZSBpZihwcm9ncmFtTG9nIT09Jycpe2NvbnNvbGUud2FybignVEhSRUUuV2ViR0xQcm9ncmFtOiBnbC5nZXRQcm9ncmFtSW5mb0xvZygpJyxwcm9ncmFtTG9nKTt9ZWxzZSBpZih2ZXJ0ZXhMb2c9PT0nJ3x8ZnJhZ21lbnRMb2c9PT0nJyl7aGF2ZURpYWdub3N0aWNzPWZhbHNlO31pZihoYXZlRGlhZ25vc3RpY3Mpe3RoaXMuZGlhZ25vc3RpY3M9e3J1bm5hYmxlOnJ1bm5hYmxlLG1hdGVyaWFsOm1hdGVyaWFsLHByb2dyYW1Mb2c6cHJvZ3JhbUxvZyx2ZXJ0ZXhTaGFkZXI6e2xvZzp2ZXJ0ZXhMb2cscHJlZml4OnByZWZpeFZlcnRleH0sZnJhZ21lbnRTaGFkZXI6e2xvZzpmcmFnbWVudExvZyxwcmVmaXg6cHJlZml4RnJhZ21lbnR9fTt9fS8vIGNsZWFuIHVwCmdsLmRlbGV0ZVNoYWRlcihnbFZlcnRleFNoYWRlcik7Z2wuZGVsZXRlU2hhZGVyKGdsRnJhZ21lbnRTaGFkZXIpOy8vIHNldCB1cCBjYWNoaW5nIGZvciB1bmlmb3JtIGxvY2F0aW9ucwp2YXIgY2FjaGVkVW5pZm9ybXM7dGhpcy5nZXRVbmlmb3Jtcz1mdW5jdGlvbigpe2lmKGNhY2hlZFVuaWZvcm1zPT09dW5kZWZpbmVkKXtjYWNoZWRVbmlmb3Jtcz1uZXcgV2ViR0xVbmlmb3JtcyhnbCxwcm9ncmFtKTt9cmV0dXJuIGNhY2hlZFVuaWZvcm1zO307Ly8gc2V0IHVwIGNhY2hpbmcgZm9yIGF0dHJpYnV0ZSBsb2NhdGlvbnMKdmFyIGNhY2hlZEF0dHJpYnV0ZXM7dGhpcy5nZXRBdHRyaWJ1dGVzPWZ1bmN0aW9uKCl7aWYoY2FjaGVkQXR0cmlidXRlcz09PXVuZGVmaW5lZCl7Y2FjaGVkQXR0cmlidXRlcz1mZXRjaEF0dHJpYnV0ZUxvY2F0aW9ucyhnbCxwcm9ncmFtKTt9cmV0dXJuIGNhY2hlZEF0dHJpYnV0ZXM7fTsvLyBmcmVlIHJlc291cmNlCnRoaXMuZGVzdHJveT1mdW5jdGlvbigpe2dsLmRlbGV0ZVByb2dyYW0ocHJvZ3JhbSk7dGhpcy5wcm9ncmFtPXVuZGVmaW5lZDt9Oy8vCnRoaXMubmFtZT1zaGFkZXIubmFtZTt0aGlzLmlkPXByb2dyYW1JZENvdW50Kys7dGhpcy5jYWNoZUtleT1jYWNoZUtleTt0aGlzLnVzZWRUaW1lcz0xO3RoaXMucHJvZ3JhbT1wcm9ncmFtO3RoaXMudmVydGV4U2hhZGVyPWdsVmVydGV4U2hhZGVyO3RoaXMuZnJhZ21lbnRTaGFkZXI9Z2xGcmFnbWVudFNoYWRlcjt0aGlzLm51bU11bHRpdmlld1ZpZXdzPW51bU11bHRpdmlld1ZpZXdzO3JldHVybiB0aGlzO30vKioKICAgKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tLwogICAqL2Z1bmN0aW9uIFdlYkdMUHJvZ3JhbXMocmVuZGVyZXIsZXh0ZW5zaW9ucyxjYXBhYmlsaXRpZXMpe3ZhciBwcm9ncmFtcz1bXTt2YXIgaXNXZWJHTDI9Y2FwYWJpbGl0aWVzLmlzV2ViR0wyO3ZhciBsb2dhcml0aG1pY0RlcHRoQnVmZmVyPWNhcGFiaWxpdGllcy5sb2dhcml0aG1pY0RlcHRoQnVmZmVyO3ZhciBmbG9hdFZlcnRleFRleHR1cmVzPWNhcGFiaWxpdGllcy5mbG9hdFZlcnRleFRleHR1cmVzO3ZhciBwcmVjaXNpb249Y2FwYWJpbGl0aWVzLnByZWNpc2lvbjt2YXIgbWF4VmVydGV4VW5pZm9ybXM9Y2FwYWJpbGl0aWVzLm1heFZlcnRleFVuaWZvcm1zO3ZhciB2ZXJ0ZXhUZXh0dXJlcz1jYXBhYmlsaXRpZXMudmVydGV4VGV4dHVyZXM7dmFyIHNoYWRlcklEcz17TWVzaERlcHRoTWF0ZXJpYWw6J2RlcHRoJyxNZXNoRGlzdGFuY2VNYXRlcmlhbDonZGlzdGFuY2VSR0JBJyxNZXNoTm9ybWFsTWF0ZXJpYWw6J25vcm1hbCcsTWVzaEJhc2ljTWF0ZXJpYWw6J2Jhc2ljJyxNZXNoTGFtYmVydE1hdGVyaWFsOidsYW1iZXJ0JyxNZXNoUGhvbmdNYXRlcmlhbDoncGhvbmcnLE1lc2hUb29uTWF0ZXJpYWw6J3Rvb24nLE1lc2hTdGFuZGFyZE1hdGVyaWFsOidwaHlzaWNhbCcsTWVzaFBoeXNpY2FsTWF0ZXJpYWw6J3BoeXNpY2FsJyxNZXNoTWF0Y2FwTWF0ZXJpYWw6J21hdGNhcCcsTGluZUJhc2ljTWF0ZXJpYWw6J2Jhc2ljJyxMaW5lRGFzaGVkTWF0ZXJpYWw6J2Rhc2hlZCcsUG9pbnRzTWF0ZXJpYWw6J3BvaW50cycsU2hhZG93TWF0ZXJpYWw6J3NoYWRvdycsU3ByaXRlTWF0ZXJpYWw6J3Nwcml0ZSd9O3ZhciBwYXJhbWV0ZXJOYW1lcz1bInByZWNpc2lvbiIsImlzV2ViR0wyIiwic3VwcG9ydHNWZXJ0ZXhUZXh0dXJlcyIsIm91dHB1dEVuY29kaW5nIiwiaW5zdGFuY2luZyIsIm51bU11bHRpdmlld1ZpZXdzIiwibWFwIiwibWFwRW5jb2RpbmciLCJtYXRjYXAiLCJtYXRjYXBFbmNvZGluZyIsImVudk1hcCIsImVudk1hcE1vZGUiLCJlbnZNYXBFbmNvZGluZyIsImVudk1hcEN1YmVVViIsImxpZ2h0TWFwIiwibGlnaHRNYXBFbmNvZGluZyIsImFvTWFwIiwiZW1pc3NpdmVNYXAiLCJlbWlzc2l2ZU1hcEVuY29kaW5nIiwiYnVtcE1hcCIsIm5vcm1hbE1hcCIsIm9iamVjdFNwYWNlTm9ybWFsTWFwIiwidGFuZ2VudFNwYWNlTm9ybWFsTWFwIiwiY2xlYXJjb2F0Tm9ybWFsTWFwIiwiZGlzcGxhY2VtZW50TWFwIiwic3BlY3VsYXJNYXAiLCJyb3VnaG5lc3NNYXAiLCJtZXRhbG5lc3NNYXAiLCJncmFkaWVudE1hcCIsImFscGhhTWFwIiwiY29tYmluZSIsInZlcnRleENvbG9ycyIsInZlcnRleFRhbmdlbnRzIiwidmVydGV4VXZzIiwidXZzVmVydGV4T25seSIsImZvZyIsInVzZUZvZyIsImZvZ0V4cDIiLCJmbGF0U2hhZGluZyIsInNpemVBdHRlbnVhdGlvbiIsImxvZ2FyaXRobWljRGVwdGhCdWZmZXIiLCJza2lubmluZyIsIm1heEJvbmVzIiwidXNlVmVydGV4VGV4dHVyZSIsIm1vcnBoVGFyZ2V0cyIsIm1vcnBoTm9ybWFscyIsIm1heE1vcnBoVGFyZ2V0cyIsIm1heE1vcnBoTm9ybWFscyIsInByZW11bHRpcGxpZWRBbHBoYSIsIm51bURpckxpZ2h0cyIsIm51bVBvaW50TGlnaHRzIiwibnVtU3BvdExpZ2h0cyIsIm51bUhlbWlMaWdodHMiLCJudW1SZWN0QXJlYUxpZ2h0cyIsIm51bURpckxpZ2h0U2hhZG93cyIsIm51bVBvaW50TGlnaHRTaGFkb3dzIiwibnVtU3BvdExpZ2h0U2hhZG93cyIsInNoYWRvd01hcEVuYWJsZWQiLCJzaGFkb3dNYXBUeXBlIiwidG9uZU1hcHBpbmciLCdwaHlzaWNhbGx5Q29ycmVjdExpZ2h0cycsImFscGhhVGVzdCIsImRvdWJsZVNpZGVkIiwiZmxpcFNpZGVkIiwibnVtQ2xpcHBpbmdQbGFuZXMiLCJudW1DbGlwSW50ZXJzZWN0aW9uIiwiZGVwdGhQYWNraW5nIiwiZGl0aGVyaW5nIiwic2hlZW4iXTtmdW5jdGlvbiBhbGxvY2F0ZUJvbmVzKG9iamVjdCl7dmFyIHNrZWxldG9uPW9iamVjdC5za2VsZXRvbjt2YXIgYm9uZXM9c2tlbGV0b24uYm9uZXM7aWYoZmxvYXRWZXJ0ZXhUZXh0dXJlcyl7cmV0dXJuIDEwMjQ7fWVsc2V7Ly8gZGVmYXVsdCBmb3Igd2hlbiBvYmplY3QgaXMgbm90IHNwZWNpZmllZAovLyAoIGZvciBleGFtcGxlIHdoZW4gcHJlYnVpbGRpbmcgc2hhZGVyIHRvIGJlIHVzZWQgd2l0aCBtdWx0aXBsZSBvYmplY3RzICkKLy8KLy8gIC0gbGVhdmUgc29tZSBleHRyYSBzcGFjZSBmb3Igb3RoZXIgdW5pZm9ybXMKLy8gIC0gbGltaXQgaGVyZSBpcyBBTkdMRSdzIDI1NCBtYXggdW5pZm9ybSB2ZWN0b3JzCi8vICAgICh1cCB0byA1NCBzaG91bGQgYmUgc2FmZSkKdmFyIG5WZXJ0ZXhVbmlmb3Jtcz1tYXhWZXJ0ZXhVbmlmb3Jtczt2YXIgblZlcnRleE1hdHJpY2VzPU1hdGguZmxvb3IoKG5WZXJ0ZXhVbmlmb3Jtcy0yMCkvNCk7dmFyIG1heEJvbmVzPU1hdGgubWluKG5WZXJ0ZXhNYXRyaWNlcyxib25lcy5sZW5ndGgpO2lmKG1heEJvbmVzPGJvbmVzLmxlbmd0aCl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlcmVyOiBTa2VsZXRvbiBoYXMgJytib25lcy5sZW5ndGgrJyBib25lcy4gVGhpcyBHUFUgc3VwcG9ydHMgJyttYXhCb25lcysnLicpO3JldHVybiAwO31yZXR1cm4gbWF4Qm9uZXM7fX1mdW5jdGlvbiBnZXRUZXh0dXJlRW5jb2RpbmdGcm9tTWFwKG1hcCl7dmFyIGVuY29kaW5nO2lmKCFtYXApe2VuY29kaW5nPUxpbmVhckVuY29kaW5nO31lbHNlIGlmKG1hcC5pc1RleHR1cmUpe2VuY29kaW5nPW1hcC5lbmNvZGluZzt9ZWxzZSBpZihtYXAuaXNXZWJHTFJlbmRlclRhcmdldCl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFByb2dyYW1zLmdldFRleHR1cmVFbmNvZGluZ0Zyb21NYXA6IGRvbid0IHVzZSByZW5kZXIgdGFyZ2V0cyBhcyB0ZXh0dXJlcy4gVXNlIHRoZWlyIC50ZXh0dXJlIHByb3BlcnR5IGluc3RlYWQuIik7ZW5jb2Rpbmc9bWFwLnRleHR1cmUuZW5jb2Rpbmc7fXJldHVybiBlbmNvZGluZzt9dGhpcy5nZXRQYXJhbWV0ZXJzPWZ1bmN0aW9uKG1hdGVyaWFsLGxpZ2h0cyxzaGFkb3dzLHNjZW5lLG5DbGlwUGxhbmVzLG5DbGlwSW50ZXJzZWN0aW9uLG9iamVjdCl7dmFyIGZvZz1zY2VuZS5mb2c7dmFyIGVudmlyb25tZW50PW1hdGVyaWFsLmlzTWVzaFN0YW5kYXJkTWF0ZXJpYWw/c2NlbmUuZW52aXJvbm1lbnQ6bnVsbDt2YXIgZW52TWFwPW1hdGVyaWFsLmVudk1hcHx8ZW52aXJvbm1lbnQ7dmFyIHNoYWRlcklEPXNoYWRlcklEc1ttYXRlcmlhbC50eXBlXTsvLyBoZXVyaXN0aWNzIHRvIGNyZWF0ZSBzaGFkZXIgcGFyYW1ldGVycyBhY2NvcmRpbmcgdG8gbGlnaHRzIGluIHRoZSBzY2VuZQovLyAobm90IHRvIGJsb3cgb3ZlciBtYXhMaWdodHMgYnVkZ2V0KQp2YXIgbWF4Qm9uZXM9b2JqZWN0LmlzU2tpbm5lZE1lc2g/YWxsb2NhdGVCb25lcyhvYmplY3QpOjA7aWYobWF0ZXJpYWwucHJlY2lzaW9uIT09bnVsbCl7cHJlY2lzaW9uPWNhcGFiaWxpdGllcy5nZXRNYXhQcmVjaXNpb24obWF0ZXJpYWwucHJlY2lzaW9uKTtpZihwcmVjaXNpb24hPT1tYXRlcmlhbC5wcmVjaXNpb24pe2NvbnNvbGUud2FybignVEhSRUUuV2ViR0xQcm9ncmFtLmdldFBhcmFtZXRlcnM6JyxtYXRlcmlhbC5wcmVjaXNpb24sJ25vdCBzdXBwb3J0ZWQsIHVzaW5nJyxwcmVjaXNpb24sJ2luc3RlYWQuJyk7fX12YXIgY3VycmVudFJlbmRlclRhcmdldD1yZW5kZXJlci5nZXRSZW5kZXJUYXJnZXQoKTt2YXIgbnVtTXVsdGl2aWV3Vmlld3M9Y3VycmVudFJlbmRlclRhcmdldCYmY3VycmVudFJlbmRlclRhcmdldC5pc1dlYkdMTXVsdGl2aWV3UmVuZGVyVGFyZ2V0P2N1cnJlbnRSZW5kZXJUYXJnZXQubnVtVmlld3M6MDt2YXIgcGFyYW1ldGVycz17aXNXZWJHTDI6aXNXZWJHTDIsc2hhZGVySUQ6c2hhZGVySUQscHJlY2lzaW9uOnByZWNpc2lvbixpbnN0YW5jaW5nOm9iamVjdC5pc0luc3RhbmNlZE1lc2g9PT10cnVlLHN1cHBvcnRzVmVydGV4VGV4dHVyZXM6dmVydGV4VGV4dHVyZXMsbnVtTXVsdGl2aWV3Vmlld3M6bnVtTXVsdGl2aWV3Vmlld3Msb3V0cHV0RW5jb2Rpbmc6Y3VycmVudFJlbmRlclRhcmdldCE9PW51bGw/Z2V0VGV4dHVyZUVuY29kaW5nRnJvbU1hcChjdXJyZW50UmVuZGVyVGFyZ2V0LnRleHR1cmUpOnJlbmRlcmVyLm91dHB1dEVuY29kaW5nLG1hcDohIW1hdGVyaWFsLm1hcCxtYXBFbmNvZGluZzpnZXRUZXh0dXJlRW5jb2RpbmdGcm9tTWFwKG1hdGVyaWFsLm1hcCksbWF0Y2FwOiEhbWF0ZXJpYWwubWF0Y2FwLG1hdGNhcEVuY29kaW5nOmdldFRleHR1cmVFbmNvZGluZ0Zyb21NYXAobWF0ZXJpYWwubWF0Y2FwKSxlbnZNYXA6ISFlbnZNYXAsZW52TWFwTW9kZTplbnZNYXAmJmVudk1hcC5tYXBwaW5nLGVudk1hcEVuY29kaW5nOmdldFRleHR1cmVFbmNvZGluZ0Zyb21NYXAoZW52TWFwKSxlbnZNYXBDdWJlVVY6ISFlbnZNYXAmJihlbnZNYXAubWFwcGluZz09PUN1YmVVVlJlZmxlY3Rpb25NYXBwaW5nfHxlbnZNYXAubWFwcGluZz09PUN1YmVVVlJlZnJhY3Rpb25NYXBwaW5nKSxsaWdodE1hcDohIW1hdGVyaWFsLmxpZ2h0TWFwLGxpZ2h0TWFwRW5jb2Rpbmc6Z2V0VGV4dHVyZUVuY29kaW5nRnJvbU1hcChtYXRlcmlhbC5saWdodE1hcCksYW9NYXA6ISFtYXRlcmlhbC5hb01hcCxlbWlzc2l2ZU1hcDohIW1hdGVyaWFsLmVtaXNzaXZlTWFwLGVtaXNzaXZlTWFwRW5jb2Rpbmc6Z2V0VGV4dHVyZUVuY29kaW5nRnJvbU1hcChtYXRlcmlhbC5lbWlzc2l2ZU1hcCksYnVtcE1hcDohIW1hdGVyaWFsLmJ1bXBNYXAsbm9ybWFsTWFwOiEhbWF0ZXJpYWwubm9ybWFsTWFwLG9iamVjdFNwYWNlTm9ybWFsTWFwOm1hdGVyaWFsLm5vcm1hbE1hcFR5cGU9PT1PYmplY3RTcGFjZU5vcm1hbE1hcCx0YW5nZW50U3BhY2VOb3JtYWxNYXA6bWF0ZXJpYWwubm9ybWFsTWFwVHlwZT09PVRhbmdlbnRTcGFjZU5vcm1hbE1hcCxjbGVhcmNvYXROb3JtYWxNYXA6ISFtYXRlcmlhbC5jbGVhcmNvYXROb3JtYWxNYXAsZGlzcGxhY2VtZW50TWFwOiEhbWF0ZXJpYWwuZGlzcGxhY2VtZW50TWFwLHJvdWdobmVzc01hcDohIW1hdGVyaWFsLnJvdWdobmVzc01hcCxtZXRhbG5lc3NNYXA6ISFtYXRlcmlhbC5tZXRhbG5lc3NNYXAsc3BlY3VsYXJNYXA6ISFtYXRlcmlhbC5zcGVjdWxhck1hcCxhbHBoYU1hcDohIW1hdGVyaWFsLmFscGhhTWFwLGdyYWRpZW50TWFwOiEhbWF0ZXJpYWwuZ3JhZGllbnRNYXAsc2hlZW46ISFtYXRlcmlhbC5zaGVlbixjb21iaW5lOm1hdGVyaWFsLmNvbWJpbmUsdmVydGV4VGFuZ2VudHM6bWF0ZXJpYWwubm9ybWFsTWFwJiZtYXRlcmlhbC52ZXJ0ZXhUYW5nZW50cyx2ZXJ0ZXhDb2xvcnM6bWF0ZXJpYWwudmVydGV4Q29sb3JzLHZlcnRleFV2czohIW1hdGVyaWFsLm1hcHx8ISFtYXRlcmlhbC5idW1wTWFwfHwhIW1hdGVyaWFsLm5vcm1hbE1hcHx8ISFtYXRlcmlhbC5zcGVjdWxhck1hcHx8ISFtYXRlcmlhbC5hbHBoYU1hcHx8ISFtYXRlcmlhbC5lbWlzc2l2ZU1hcHx8ISFtYXRlcmlhbC5yb3VnaG5lc3NNYXB8fCEhbWF0ZXJpYWwubWV0YWxuZXNzTWFwfHwhIW1hdGVyaWFsLmNsZWFyY29hdE5vcm1hbE1hcHx8ISFtYXRlcmlhbC5kaXNwbGFjZW1lbnRNYXAsdXZzVmVydGV4T25seTohKCEhbWF0ZXJpYWwubWFwfHwhIW1hdGVyaWFsLmJ1bXBNYXB8fCEhbWF0ZXJpYWwubm9ybWFsTWFwfHwhIW1hdGVyaWFsLnNwZWN1bGFyTWFwfHwhIW1hdGVyaWFsLmFscGhhTWFwfHwhIW1hdGVyaWFsLmVtaXNzaXZlTWFwfHwhIW1hdGVyaWFsLnJvdWdobmVzc01hcHx8ISFtYXRlcmlhbC5tZXRhbG5lc3NNYXB8fCEhbWF0ZXJpYWwuY2xlYXJjb2F0Tm9ybWFsTWFwKSYmISFtYXRlcmlhbC5kaXNwbGFjZW1lbnRNYXAsZm9nOiEhZm9nLHVzZUZvZzptYXRlcmlhbC5mb2csZm9nRXhwMjpmb2cmJmZvZy5pc0ZvZ0V4cDIsZmxhdFNoYWRpbmc6bWF0ZXJpYWwuZmxhdFNoYWRpbmcsc2l6ZUF0dGVudWF0aW9uOm1hdGVyaWFsLnNpemVBdHRlbnVhdGlvbixsb2dhcml0aG1pY0RlcHRoQnVmZmVyOmxvZ2FyaXRobWljRGVwdGhCdWZmZXIsc2tpbm5pbmc6bWF0ZXJpYWwuc2tpbm5pbmcmJm1heEJvbmVzPjAsbWF4Qm9uZXM6bWF4Qm9uZXMsdXNlVmVydGV4VGV4dHVyZTpmbG9hdFZlcnRleFRleHR1cmVzLG1vcnBoVGFyZ2V0czptYXRlcmlhbC5tb3JwaFRhcmdldHMsbW9ycGhOb3JtYWxzOm1hdGVyaWFsLm1vcnBoTm9ybWFscyxtYXhNb3JwaFRhcmdldHM6cmVuZGVyZXIubWF4TW9ycGhUYXJnZXRzLG1heE1vcnBoTm9ybWFsczpyZW5kZXJlci5tYXhNb3JwaE5vcm1hbHMsbnVtRGlyTGlnaHRzOmxpZ2h0cy5kaXJlY3Rpb25hbC5sZW5ndGgsbnVtUG9pbnRMaWdodHM6bGlnaHRzLnBvaW50Lmxlbmd0aCxudW1TcG90TGlnaHRzOmxpZ2h0cy5zcG90Lmxlbmd0aCxudW1SZWN0QXJlYUxpZ2h0czpsaWdodHMucmVjdEFyZWEubGVuZ3RoLG51bUhlbWlMaWdodHM6bGlnaHRzLmhlbWkubGVuZ3RoLG51bURpckxpZ2h0U2hhZG93czpsaWdodHMuZGlyZWN0aW9uYWxTaGFkb3dNYXAubGVuZ3RoLG51bVBvaW50TGlnaHRTaGFkb3dzOmxpZ2h0cy5wb2ludFNoYWRvd01hcC5sZW5ndGgsbnVtU3BvdExpZ2h0U2hhZG93czpsaWdodHMuc3BvdFNoYWRvd01hcC5sZW5ndGgsbnVtQ2xpcHBpbmdQbGFuZXM6bkNsaXBQbGFuZXMsbnVtQ2xpcEludGVyc2VjdGlvbjpuQ2xpcEludGVyc2VjdGlvbixkaXRoZXJpbmc6bWF0ZXJpYWwuZGl0aGVyaW5nLHNoYWRvd01hcEVuYWJsZWQ6cmVuZGVyZXIuc2hhZG93TWFwLmVuYWJsZWQmJnNoYWRvd3MubGVuZ3RoPjAsc2hhZG93TWFwVHlwZTpyZW5kZXJlci5zaGFkb3dNYXAudHlwZSx0b25lTWFwcGluZzptYXRlcmlhbC50b25lTWFwcGVkP3JlbmRlcmVyLnRvbmVNYXBwaW5nOk5vVG9uZU1hcHBpbmcscGh5c2ljYWxseUNvcnJlY3RMaWdodHM6cmVuZGVyZXIucGh5c2ljYWxseUNvcnJlY3RMaWdodHMscHJlbXVsdGlwbGllZEFscGhhOm1hdGVyaWFsLnByZW11bHRpcGxpZWRBbHBoYSxhbHBoYVRlc3Q6bWF0ZXJpYWwuYWxwaGFUZXN0LGRvdWJsZVNpZGVkOm1hdGVyaWFsLnNpZGU9PT1Eb3VibGVTaWRlLGZsaXBTaWRlZDptYXRlcmlhbC5zaWRlPT09QmFja1NpZGUsZGVwdGhQYWNraW5nOm1hdGVyaWFsLmRlcHRoUGFja2luZyE9PXVuZGVmaW5lZD9tYXRlcmlhbC5kZXB0aFBhY2tpbmc6ZmFsc2V9O3JldHVybiBwYXJhbWV0ZXJzO307dGhpcy5nZXRQcm9ncmFtQ2FjaGVLZXk9ZnVuY3Rpb24obWF0ZXJpYWwscGFyYW1ldGVycyl7dmFyIGFycmF5PVtdO2lmKHBhcmFtZXRlcnMuc2hhZGVySUQpe2FycmF5LnB1c2gocGFyYW1ldGVycy5zaGFkZXJJRCk7fWVsc2V7YXJyYXkucHVzaChtYXRlcmlhbC5mcmFnbWVudFNoYWRlcik7YXJyYXkucHVzaChtYXRlcmlhbC52ZXJ0ZXhTaGFkZXIpO31pZihtYXRlcmlhbC5kZWZpbmVzIT09dW5kZWZpbmVkKXtmb3IodmFyIG5hbWUgaW4gbWF0ZXJpYWwuZGVmaW5lcyl7YXJyYXkucHVzaChuYW1lKTthcnJheS5wdXNoKG1hdGVyaWFsLmRlZmluZXNbbmFtZV0pO319aWYobWF0ZXJpYWwuaXNSYXdTaGFkZXJNYXRlcmlhbD09PXVuZGVmaW5lZCl7Zm9yKHZhciBpPTA7aTxwYXJhbWV0ZXJOYW1lcy5sZW5ndGg7aSsrKXthcnJheS5wdXNoKHBhcmFtZXRlcnNbcGFyYW1ldGVyTmFtZXNbaV1dKTt9YXJyYXkucHVzaChyZW5kZXJlci5vdXRwdXRFbmNvZGluZyk7YXJyYXkucHVzaChyZW5kZXJlci5nYW1tYUZhY3Rvcik7fWFycmF5LnB1c2gobWF0ZXJpYWwub25CZWZvcmVDb21waWxlLnRvU3RyaW5nKCkpO3JldHVybiBhcnJheS5qb2luKCk7fTt0aGlzLmFjcXVpcmVQcm9ncmFtPWZ1bmN0aW9uKG1hdGVyaWFsLHNoYWRlcixwYXJhbWV0ZXJzLGNhY2hlS2V5KXt2YXIgcHJvZ3JhbTsvLyBDaGVjayBpZiBjb2RlIGhhcyBiZWVuIGFscmVhZHkgY29tcGlsZWQKZm9yKHZhciBwPTAscGw9cHJvZ3JhbXMubGVuZ3RoO3A8cGw7cCsrKXt2YXIgcHJlZXhpc3RpbmdQcm9ncmFtPXByb2dyYW1zW3BdO2lmKHByZWV4aXN0aW5nUHJvZ3JhbS5jYWNoZUtleT09PWNhY2hlS2V5KXtwcm9ncmFtPXByZWV4aXN0aW5nUHJvZ3JhbTsrK3Byb2dyYW0udXNlZFRpbWVzO2JyZWFrO319aWYocHJvZ3JhbT09PXVuZGVmaW5lZCl7cHJvZ3JhbT1uZXcgV2ViR0xQcm9ncmFtKHJlbmRlcmVyLGV4dGVuc2lvbnMsY2FjaGVLZXksbWF0ZXJpYWwsc2hhZGVyLHBhcmFtZXRlcnMpO3Byb2dyYW1zLnB1c2gocHJvZ3JhbSk7fXJldHVybiBwcm9ncmFtO307dGhpcy5yZWxlYXNlUHJvZ3JhbT1mdW5jdGlvbihwcm9ncmFtKXtpZigtLXByb2dyYW0udXNlZFRpbWVzPT09MCl7Ly8gUmVtb3ZlIGZyb20gdW5vcmRlcmVkIHNldAp2YXIgaT1wcm9ncmFtcy5pbmRleE9mKHByb2dyYW0pO3Byb2dyYW1zW2ldPXByb2dyYW1zW3Byb2dyYW1zLmxlbmd0aC0xXTtwcm9ncmFtcy5wb3AoKTsvLyBGcmVlIFdlYkdMIHJlc291cmNlcwpwcm9ncmFtLmRlc3Ryb3koKTt9fTsvLyBFeHBvc2VkIGZvciByZXNvdXJjZSBtb25pdG9yaW5nICYgZXJyb3IgZmVlZGJhY2sgdmlhIHJlbmRlcmVyLmluZm86CnRoaXMucHJvZ3JhbXM9cHJvZ3JhbXM7fS8qKgogICAqIEBhdXRob3IgZm9yZGFjaW91cyAvIGZvcmRhY2lvdXMuZ2l0aHViLmlvCiAgICovZnVuY3Rpb24gV2ViR0xQcm9wZXJ0aWVzKCl7dmFyIHByb3BlcnRpZXM9bmV3IFdlYWtNYXAoKTtmdW5jdGlvbiBnZXQob2JqZWN0KXt2YXIgbWFwPXByb3BlcnRpZXMuZ2V0KG9iamVjdCk7aWYobWFwPT09dW5kZWZpbmVkKXttYXA9e307cHJvcGVydGllcy5zZXQob2JqZWN0LG1hcCk7fXJldHVybiBtYXA7fWZ1bmN0aW9uIHJlbW92ZShvYmplY3Qpe3Byb3BlcnRpZXMuZGVsZXRlKG9iamVjdCk7fWZ1bmN0aW9uIHVwZGF0ZShvYmplY3Qsa2V5LHZhbHVlKXtwcm9wZXJ0aWVzLmdldChvYmplY3QpW2tleV09dmFsdWU7fWZ1bmN0aW9uIGRpc3Bvc2UoKXtwcm9wZXJ0aWVzPW5ldyBXZWFrTWFwKCk7fXJldHVybntnZXQ6Z2V0LHJlbW92ZTpyZW1vdmUsdXBkYXRlOnVwZGF0ZSxkaXNwb3NlOmRpc3Bvc2V9O30vKioKICAgKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tLwogICAqL2Z1bmN0aW9uIHBhaW50ZXJTb3J0U3RhYmxlKGEsYil7aWYoYS5ncm91cE9yZGVyIT09Yi5ncm91cE9yZGVyKXtyZXR1cm4gYS5ncm91cE9yZGVyLWIuZ3JvdXBPcmRlcjt9ZWxzZSBpZihhLnJlbmRlck9yZGVyIT09Yi5yZW5kZXJPcmRlcil7cmV0dXJuIGEucmVuZGVyT3JkZXItYi5yZW5kZXJPcmRlcjt9ZWxzZSBpZihhLnByb2dyYW0hPT1iLnByb2dyYW0pe3JldHVybiBhLnByb2dyYW0uaWQtYi5wcm9ncmFtLmlkO31lbHNlIGlmKGEubWF0ZXJpYWwuaWQhPT1iLm1hdGVyaWFsLmlkKXtyZXR1cm4gYS5tYXRlcmlhbC5pZC1iLm1hdGVyaWFsLmlkO31lbHNlIGlmKGEueiE9PWIueil7cmV0dXJuIGEuei1iLno7fWVsc2V7cmV0dXJuIGEuaWQtYi5pZDt9fWZ1bmN0aW9uIHJldmVyc2VQYWludGVyU29ydFN0YWJsZShhLGIpe2lmKGEuZ3JvdXBPcmRlciE9PWIuZ3JvdXBPcmRlcil7cmV0dXJuIGEuZ3JvdXBPcmRlci1iLmdyb3VwT3JkZXI7fWVsc2UgaWYoYS5yZW5kZXJPcmRlciE9PWIucmVuZGVyT3JkZXIpe3JldHVybiBhLnJlbmRlck9yZGVyLWIucmVuZGVyT3JkZXI7fWVsc2UgaWYoYS56IT09Yi56KXtyZXR1cm4gYi56LWEuejt9ZWxzZXtyZXR1cm4gYS5pZC1iLmlkO319ZnVuY3Rpb24gV2ViR0xSZW5kZXJMaXN0KCl7dmFyIHJlbmRlckl0ZW1zPVtdO3ZhciByZW5kZXJJdGVtc0luZGV4PTA7dmFyIG9wYXF1ZT1bXTt2YXIgdHJhbnNwYXJlbnQ9W107dmFyIGRlZmF1bHRQcm9ncmFtPXtpZDotMX07ZnVuY3Rpb24gaW5pdCgpe3JlbmRlckl0ZW1zSW5kZXg9MDtvcGFxdWUubGVuZ3RoPTA7dHJhbnNwYXJlbnQubGVuZ3RoPTA7fWZ1bmN0aW9uIGdldE5leHRSZW5kZXJJdGVtKG9iamVjdCxnZW9tZXRyeSxtYXRlcmlhbCxncm91cE9yZGVyLHosZ3JvdXApe3ZhciByZW5kZXJJdGVtPXJlbmRlckl0ZW1zW3JlbmRlckl0ZW1zSW5kZXhdO2lmKHJlbmRlckl0ZW09PT11bmRlZmluZWQpe3JlbmRlckl0ZW09e2lkOm9iamVjdC5pZCxvYmplY3Q6b2JqZWN0LGdlb21ldHJ5Omdlb21ldHJ5LG1hdGVyaWFsOm1hdGVyaWFsLHByb2dyYW06bWF0ZXJpYWwucHJvZ3JhbXx8ZGVmYXVsdFByb2dyYW0sZ3JvdXBPcmRlcjpncm91cE9yZGVyLHJlbmRlck9yZGVyOm9iamVjdC5yZW5kZXJPcmRlcix6OnosZ3JvdXA6Z3JvdXB9O3JlbmRlckl0ZW1zW3JlbmRlckl0ZW1zSW5kZXhdPXJlbmRlckl0ZW07fWVsc2V7cmVuZGVySXRlbS5pZD1vYmplY3QuaWQ7cmVuZGVySXRlbS5vYmplY3Q9b2JqZWN0O3JlbmRlckl0ZW0uZ2VvbWV0cnk9Z2VvbWV0cnk7cmVuZGVySXRlbS5tYXRlcmlhbD1tYXRlcmlhbDtyZW5kZXJJdGVtLnByb2dyYW09bWF0ZXJpYWwucHJvZ3JhbXx8ZGVmYXVsdFByb2dyYW07cmVuZGVySXRlbS5ncm91cE9yZGVyPWdyb3VwT3JkZXI7cmVuZGVySXRlbS5yZW5kZXJPcmRlcj1vYmplY3QucmVuZGVyT3JkZXI7cmVuZGVySXRlbS56PXo7cmVuZGVySXRlbS5ncm91cD1ncm91cDt9cmVuZGVySXRlbXNJbmRleCsrO3JldHVybiByZW5kZXJJdGVtO31mdW5jdGlvbiBwdXNoKG9iamVjdCxnZW9tZXRyeSxtYXRlcmlhbCxncm91cE9yZGVyLHosZ3JvdXApe3ZhciByZW5kZXJJdGVtPWdldE5leHRSZW5kZXJJdGVtKG9iamVjdCxnZW9tZXRyeSxtYXRlcmlhbCxncm91cE9yZGVyLHosZ3JvdXApOyhtYXRlcmlhbC50cmFuc3BhcmVudD09PXRydWU/dHJhbnNwYXJlbnQ6b3BhcXVlKS5wdXNoKHJlbmRlckl0ZW0pO31mdW5jdGlvbiB1bnNoaWZ0KG9iamVjdCxnZW9tZXRyeSxtYXRlcmlhbCxncm91cE9yZGVyLHosZ3JvdXApe3ZhciByZW5kZXJJdGVtPWdldE5leHRSZW5kZXJJdGVtKG9iamVjdCxnZW9tZXRyeSxtYXRlcmlhbCxncm91cE9yZGVyLHosZ3JvdXApOyhtYXRlcmlhbC50cmFuc3BhcmVudD09PXRydWU/dHJhbnNwYXJlbnQ6b3BhcXVlKS51bnNoaWZ0KHJlbmRlckl0ZW0pO31mdW5jdGlvbiBzb3J0KGN1c3RvbU9wYXF1ZVNvcnQsY3VzdG9tVHJhbnNwYXJlbnRTb3J0KXtpZihvcGFxdWUubGVuZ3RoPjEpe29wYXF1ZS5zb3J0KGN1c3RvbU9wYXF1ZVNvcnR8fHBhaW50ZXJTb3J0U3RhYmxlKTt9aWYodHJhbnNwYXJlbnQubGVuZ3RoPjEpe3RyYW5zcGFyZW50LnNvcnQoY3VzdG9tVHJhbnNwYXJlbnRTb3J0fHxyZXZlcnNlUGFpbnRlclNvcnRTdGFibGUpO319cmV0dXJue29wYXF1ZTpvcGFxdWUsdHJhbnNwYXJlbnQ6dHJhbnNwYXJlbnQsaW5pdDppbml0LHB1c2g6cHVzaCx1bnNoaWZ0OnVuc2hpZnQsc29ydDpzb3J0fTt9ZnVuY3Rpb24gV2ViR0xSZW5kZXJMaXN0cygpe3ZhciBsaXN0cz1uZXcgV2Vha01hcCgpO2Z1bmN0aW9uIG9uU2NlbmVEaXNwb3NlKGV2ZW50KXt2YXIgc2NlbmU9ZXZlbnQudGFyZ2V0O3NjZW5lLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Rpc3Bvc2UnLG9uU2NlbmVEaXNwb3NlKTtsaXN0cy5kZWxldGUoc2NlbmUpO31mdW5jdGlvbiBnZXQoc2NlbmUsY2FtZXJhKXt2YXIgY2FtZXJhcz1saXN0cy5nZXQoc2NlbmUpO3ZhciBsaXN0O2lmKGNhbWVyYXM9PT11bmRlZmluZWQpe2xpc3Q9bmV3IFdlYkdMUmVuZGVyTGlzdCgpO2xpc3RzLnNldChzY2VuZSxuZXcgV2Vha01hcCgpKTtsaXN0cy5nZXQoc2NlbmUpLnNldChjYW1lcmEsbGlzdCk7c2NlbmUuYWRkRXZlbnRMaXN0ZW5lcignZGlzcG9zZScsb25TY2VuZURpc3Bvc2UpO31lbHNle2xpc3Q9Y2FtZXJhcy5nZXQoY2FtZXJhKTtpZihsaXN0PT09dW5kZWZpbmVkKXtsaXN0PW5ldyBXZWJHTFJlbmRlckxpc3QoKTtjYW1lcmFzLnNldChjYW1lcmEsbGlzdCk7fX1yZXR1cm4gbGlzdDt9ZnVuY3Rpb24gZGlzcG9zZSgpe2xpc3RzPW5ldyBXZWFrTWFwKCk7fXJldHVybntnZXQ6Z2V0LGRpc3Bvc2U6ZGlzcG9zZX07fS8qKgogICAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb20vCiAgICovZnVuY3Rpb24gVW5pZm9ybXNDYWNoZSgpe3ZhciBsaWdodHM9e307cmV0dXJue2dldDpmdW5jdGlvbiBnZXQobGlnaHQpe2lmKGxpZ2h0c1tsaWdodC5pZF0hPT11bmRlZmluZWQpe3JldHVybiBsaWdodHNbbGlnaHQuaWRdO312YXIgdW5pZm9ybXM7c3dpdGNoKGxpZ2h0LnR5cGUpe2Nhc2UnRGlyZWN0aW9uYWxMaWdodCc6dW5pZm9ybXM9e2RpcmVjdGlvbjpuZXcgVmVjdG9yMygpLGNvbG9yOm5ldyBDb2xvcigpLHNoYWRvdzpmYWxzZSxzaGFkb3dCaWFzOjAsc2hhZG93UmFkaXVzOjEsc2hhZG93TWFwU2l6ZTpuZXcgVmVjdG9yMigpfTticmVhaztjYXNlJ1Nwb3RMaWdodCc6dW5pZm9ybXM9e3Bvc2l0aW9uOm5ldyBWZWN0b3IzKCksZGlyZWN0aW9uOm5ldyBWZWN0b3IzKCksY29sb3I6bmV3IENvbG9yKCksZGlzdGFuY2U6MCxjb25lQ29zOjAscGVudW1icmFDb3M6MCxkZWNheTowLHNoYWRvdzpmYWxzZSxzaGFkb3dCaWFzOjAsc2hhZG93UmFkaXVzOjEsc2hhZG93TWFwU2l6ZTpuZXcgVmVjdG9yMigpfTticmVhaztjYXNlJ1BvaW50TGlnaHQnOnVuaWZvcm1zPXtwb3NpdGlvbjpuZXcgVmVjdG9yMygpLGNvbG9yOm5ldyBDb2xvcigpLGRpc3RhbmNlOjAsZGVjYXk6MCxzaGFkb3c6ZmFsc2Usc2hhZG93QmlhczowLHNoYWRvd1JhZGl1czoxLHNoYWRvd01hcFNpemU6bmV3IFZlY3RvcjIoKSxzaGFkb3dDYW1lcmFOZWFyOjEsc2hhZG93Q2FtZXJhRmFyOjEwMDB9O2JyZWFrO2Nhc2UnSGVtaXNwaGVyZUxpZ2h0Jzp1bmlmb3Jtcz17ZGlyZWN0aW9uOm5ldyBWZWN0b3IzKCksc2t5Q29sb3I6bmV3IENvbG9yKCksZ3JvdW5kQ29sb3I6bmV3IENvbG9yKCl9O2JyZWFrO2Nhc2UnUmVjdEFyZWFMaWdodCc6dW5pZm9ybXM9e2NvbG9yOm5ldyBDb2xvcigpLHBvc2l0aW9uOm5ldyBWZWN0b3IzKCksaGFsZldpZHRoOm5ldyBWZWN0b3IzKCksaGFsZkhlaWdodDpuZXcgVmVjdG9yMygpLy8gVE9ETyAoYWJlbG5hdGlvbik6IHNldCBSZWN0QXJlYUxpZ2h0IHNoYWRvdyB1bmlmb3Jtcwp9O2JyZWFrO31saWdodHNbbGlnaHQuaWRdPXVuaWZvcm1zO3JldHVybiB1bmlmb3Jtczt9fTt9dmFyIG5leHRWZXJzaW9uPTA7ZnVuY3Rpb24gc2hhZG93Q2FzdGluZ0xpZ2h0c0ZpcnN0KGxpZ2h0QSxsaWdodEIpe3JldHVybihsaWdodEIuY2FzdFNoYWRvdz8xOjApLShsaWdodEEuY2FzdFNoYWRvdz8xOjApO31mdW5jdGlvbiBXZWJHTExpZ2h0cygpe3ZhciBjYWNoZT1uZXcgVW5pZm9ybXNDYWNoZSgpO3ZhciBzdGF0ZT17dmVyc2lvbjowLGhhc2g6e2RpcmVjdGlvbmFsTGVuZ3RoOi0xLHBvaW50TGVuZ3RoOi0xLHNwb3RMZW5ndGg6LTEscmVjdEFyZWFMZW5ndGg6LTEsaGVtaUxlbmd0aDotMSxudW1EaXJlY3Rpb25hbFNoYWRvd3M6LTEsbnVtUG9pbnRTaGFkb3dzOi0xLG51bVNwb3RTaGFkb3dzOi0xfSxhbWJpZW50OlswLDAsMF0scHJvYmU6W10sZGlyZWN0aW9uYWw6W10sZGlyZWN0aW9uYWxTaGFkb3dNYXA6W10sZGlyZWN0aW9uYWxTaGFkb3dNYXRyaXg6W10sc3BvdDpbXSxzcG90U2hhZG93TWFwOltdLHNwb3RTaGFkb3dNYXRyaXg6W10scmVjdEFyZWE6W10scG9pbnQ6W10scG9pbnRTaGFkb3dNYXA6W10scG9pbnRTaGFkb3dNYXRyaXg6W10saGVtaTpbXSxudW1EaXJlY3Rpb25hbFNoYWRvd3M6LTEsbnVtUG9pbnRTaGFkb3dzOi0xLG51bVNwb3RTaGFkb3dzOi0xfTtmb3IodmFyIGk9MDtpPDk7aSsrKXtzdGF0ZS5wcm9iZS5wdXNoKG5ldyBWZWN0b3IzKCkpO312YXIgdmVjdG9yMz1uZXcgVmVjdG9yMygpO3ZhciBtYXRyaXg0PW5ldyBNYXRyaXg0KCk7dmFyIG1hdHJpeDQyPW5ldyBNYXRyaXg0KCk7ZnVuY3Rpb24gc2V0dXAobGlnaHRzLHNoYWRvd3MsY2FtZXJhKXt2YXIgcj0wLGc9MCxiPTA7Zm9yKHZhciBpPTA7aTw5O2krKyl7c3RhdGUucHJvYmVbaV0uc2V0KDAsMCwwKTt9dmFyIGRpcmVjdGlvbmFsTGVuZ3RoPTA7dmFyIHBvaW50TGVuZ3RoPTA7dmFyIHNwb3RMZW5ndGg9MDt2YXIgcmVjdEFyZWFMZW5ndGg9MDt2YXIgaGVtaUxlbmd0aD0wO3ZhciBudW1EaXJlY3Rpb25hbFNoYWRvd3M9MDt2YXIgbnVtUG9pbnRTaGFkb3dzPTA7dmFyIG51bVNwb3RTaGFkb3dzPTA7dmFyIHZpZXdNYXRyaXg9Y2FtZXJhLm1hdHJpeFdvcmxkSW52ZXJzZTtsaWdodHMuc29ydChzaGFkb3dDYXN0aW5nTGlnaHRzRmlyc3QpO2Zvcih2YXIgaT0wLGw9bGlnaHRzLmxlbmd0aDtpPGw7aSsrKXt2YXIgbGlnaHQ9bGlnaHRzW2ldO3ZhciBjb2xvcj1saWdodC5jb2xvcjt2YXIgaW50ZW5zaXR5PWxpZ2h0LmludGVuc2l0eTt2YXIgZGlzdGFuY2U9bGlnaHQuZGlzdGFuY2U7dmFyIHNoYWRvd01hcD1saWdodC5zaGFkb3cmJmxpZ2h0LnNoYWRvdy5tYXA/bGlnaHQuc2hhZG93Lm1hcC50ZXh0dXJlOm51bGw7aWYobGlnaHQuaXNBbWJpZW50TGlnaHQpe3IrPWNvbG9yLnIqaW50ZW5zaXR5O2crPWNvbG9yLmcqaW50ZW5zaXR5O2IrPWNvbG9yLmIqaW50ZW5zaXR5O31lbHNlIGlmKGxpZ2h0LmlzTGlnaHRQcm9iZSl7Zm9yKHZhciBqPTA7ajw5O2orKyl7c3RhdGUucHJvYmVbal0uYWRkU2NhbGVkVmVjdG9yKGxpZ2h0LnNoLmNvZWZmaWNpZW50c1tqXSxpbnRlbnNpdHkpO319ZWxzZSBpZihsaWdodC5pc0RpcmVjdGlvbmFsTGlnaHQpe3ZhciB1bmlmb3Jtcz1jYWNoZS5nZXQobGlnaHQpO3VuaWZvcm1zLmNvbG9yLmNvcHkobGlnaHQuY29sb3IpLm11bHRpcGx5U2NhbGFyKGxpZ2h0LmludGVuc2l0eSk7dW5pZm9ybXMuZGlyZWN0aW9uLnNldEZyb21NYXRyaXhQb3NpdGlvbihsaWdodC5tYXRyaXhXb3JsZCk7dmVjdG9yMy5zZXRGcm9tTWF0cml4UG9zaXRpb24obGlnaHQudGFyZ2V0Lm1hdHJpeFdvcmxkKTt1bmlmb3Jtcy5kaXJlY3Rpb24uc3ViKHZlY3RvcjMpO3VuaWZvcm1zLmRpcmVjdGlvbi50cmFuc2Zvcm1EaXJlY3Rpb24odmlld01hdHJpeCk7dW5pZm9ybXMuc2hhZG93PWxpZ2h0LmNhc3RTaGFkb3c7aWYobGlnaHQuY2FzdFNoYWRvdyl7dmFyIHNoYWRvdz1saWdodC5zaGFkb3c7dW5pZm9ybXMuc2hhZG93Qmlhcz1zaGFkb3cuYmlhczt1bmlmb3Jtcy5zaGFkb3dSYWRpdXM9c2hhZG93LnJhZGl1czt1bmlmb3Jtcy5zaGFkb3dNYXBTaXplPXNoYWRvdy5tYXBTaXplO3N0YXRlLmRpcmVjdGlvbmFsU2hhZG93TWFwW2RpcmVjdGlvbmFsTGVuZ3RoXT1zaGFkb3dNYXA7c3RhdGUuZGlyZWN0aW9uYWxTaGFkb3dNYXRyaXhbZGlyZWN0aW9uYWxMZW5ndGhdPWxpZ2h0LnNoYWRvdy5tYXRyaXg7bnVtRGlyZWN0aW9uYWxTaGFkb3dzKys7fXN0YXRlLmRpcmVjdGlvbmFsW2RpcmVjdGlvbmFsTGVuZ3RoXT11bmlmb3JtcztkaXJlY3Rpb25hbExlbmd0aCsrO31lbHNlIGlmKGxpZ2h0LmlzU3BvdExpZ2h0KXt2YXIgdW5pZm9ybXM9Y2FjaGUuZ2V0KGxpZ2h0KTt1bmlmb3Jtcy5wb3NpdGlvbi5zZXRGcm9tTWF0cml4UG9zaXRpb24obGlnaHQubWF0cml4V29ybGQpO3VuaWZvcm1zLnBvc2l0aW9uLmFwcGx5TWF0cml4NCh2aWV3TWF0cml4KTt1bmlmb3Jtcy5jb2xvci5jb3B5KGNvbG9yKS5tdWx0aXBseVNjYWxhcihpbnRlbnNpdHkpO3VuaWZvcm1zLmRpc3RhbmNlPWRpc3RhbmNlO3VuaWZvcm1zLmRpcmVjdGlvbi5zZXRGcm9tTWF0cml4UG9zaXRpb24obGlnaHQubWF0cml4V29ybGQpO3ZlY3RvcjMuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKGxpZ2h0LnRhcmdldC5tYXRyaXhXb3JsZCk7dW5pZm9ybXMuZGlyZWN0aW9uLnN1Yih2ZWN0b3IzKTt1bmlmb3Jtcy5kaXJlY3Rpb24udHJhbnNmb3JtRGlyZWN0aW9uKHZpZXdNYXRyaXgpO3VuaWZvcm1zLmNvbmVDb3M9TWF0aC5jb3MobGlnaHQuYW5nbGUpO3VuaWZvcm1zLnBlbnVtYnJhQ29zPU1hdGguY29zKGxpZ2h0LmFuZ2xlKigxLWxpZ2h0LnBlbnVtYnJhKSk7dW5pZm9ybXMuZGVjYXk9bGlnaHQuZGVjYXk7dW5pZm9ybXMuc2hhZG93PWxpZ2h0LmNhc3RTaGFkb3c7aWYobGlnaHQuY2FzdFNoYWRvdyl7dmFyIHNoYWRvdz1saWdodC5zaGFkb3c7dW5pZm9ybXMuc2hhZG93Qmlhcz1zaGFkb3cuYmlhczt1bmlmb3Jtcy5zaGFkb3dSYWRpdXM9c2hhZG93LnJhZGl1czt1bmlmb3Jtcy5zaGFkb3dNYXBTaXplPXNoYWRvdy5tYXBTaXplO3N0YXRlLnNwb3RTaGFkb3dNYXBbc3BvdExlbmd0aF09c2hhZG93TWFwO3N0YXRlLnNwb3RTaGFkb3dNYXRyaXhbc3BvdExlbmd0aF09bGlnaHQuc2hhZG93Lm1hdHJpeDtudW1TcG90U2hhZG93cysrO31zdGF0ZS5zcG90W3Nwb3RMZW5ndGhdPXVuaWZvcm1zO3Nwb3RMZW5ndGgrKzt9ZWxzZSBpZihsaWdodC5pc1JlY3RBcmVhTGlnaHQpe3ZhciB1bmlmb3Jtcz1jYWNoZS5nZXQobGlnaHQpOy8vIChhKSBpbnRlbnNpdHkgaXMgdGhlIHRvdGFsIHZpc2libGUgbGlnaHQgZW1pdHRlZAovL3VuaWZvcm1zLmNvbG9yLmNvcHkoIGNvbG9yICkubXVsdGlwbHlTY2FsYXIoIGludGVuc2l0eSAvICggbGlnaHQud2lkdGggKiBsaWdodC5oZWlnaHQgKiBNYXRoLlBJICkgKTsKLy8gKGIpIGludGVuc2l0eSBpcyB0aGUgYnJpZ2h0bmVzcyBvZiB0aGUgbGlnaHQKdW5pZm9ybXMuY29sb3IuY29weShjb2xvcikubXVsdGlwbHlTY2FsYXIoaW50ZW5zaXR5KTt1bmlmb3Jtcy5wb3NpdGlvbi5zZXRGcm9tTWF0cml4UG9zaXRpb24obGlnaHQubWF0cml4V29ybGQpO3VuaWZvcm1zLnBvc2l0aW9uLmFwcGx5TWF0cml4NCh2aWV3TWF0cml4KTsvLyBleHRyYWN0IGxvY2FsIHJvdGF0aW9uIG9mIGxpZ2h0IHRvIGRlcml2ZSB3aWR0aC9oZWlnaHQgaGFsZiB2ZWN0b3JzCm1hdHJpeDQyLmlkZW50aXR5KCk7bWF0cml4NC5jb3B5KGxpZ2h0Lm1hdHJpeFdvcmxkKTttYXRyaXg0LnByZW11bHRpcGx5KHZpZXdNYXRyaXgpO21hdHJpeDQyLmV4dHJhY3RSb3RhdGlvbihtYXRyaXg0KTt1bmlmb3Jtcy5oYWxmV2lkdGguc2V0KGxpZ2h0LndpZHRoKjAuNSwwLjAsMC4wKTt1bmlmb3Jtcy5oYWxmSGVpZ2h0LnNldCgwLjAsbGlnaHQuaGVpZ2h0KjAuNSwwLjApO3VuaWZvcm1zLmhhbGZXaWR0aC5hcHBseU1hdHJpeDQobWF0cml4NDIpO3VuaWZvcm1zLmhhbGZIZWlnaHQuYXBwbHlNYXRyaXg0KG1hdHJpeDQyKTsvLyBUT0RPIChhYmVsbmF0aW9uKTogUmVjdEFyZWFMaWdodCBkaXN0YW5jZT8KLy8gdW5pZm9ybXMuZGlzdGFuY2UgPSBkaXN0YW5jZTsKc3RhdGUucmVjdEFyZWFbcmVjdEFyZWFMZW5ndGhdPXVuaWZvcm1zO3JlY3RBcmVhTGVuZ3RoKys7fWVsc2UgaWYobGlnaHQuaXNQb2ludExpZ2h0KXt2YXIgdW5pZm9ybXM9Y2FjaGUuZ2V0KGxpZ2h0KTt1bmlmb3Jtcy5wb3NpdGlvbi5zZXRGcm9tTWF0cml4UG9zaXRpb24obGlnaHQubWF0cml4V29ybGQpO3VuaWZvcm1zLnBvc2l0aW9uLmFwcGx5TWF0cml4NCh2aWV3TWF0cml4KTt1bmlmb3Jtcy5jb2xvci5jb3B5KGxpZ2h0LmNvbG9yKS5tdWx0aXBseVNjYWxhcihsaWdodC5pbnRlbnNpdHkpO3VuaWZvcm1zLmRpc3RhbmNlPWxpZ2h0LmRpc3RhbmNlO3VuaWZvcm1zLmRlY2F5PWxpZ2h0LmRlY2F5O3VuaWZvcm1zLnNoYWRvdz1saWdodC5jYXN0U2hhZG93O2lmKGxpZ2h0LmNhc3RTaGFkb3cpe3ZhciBzaGFkb3c9bGlnaHQuc2hhZG93O3VuaWZvcm1zLnNoYWRvd0JpYXM9c2hhZG93LmJpYXM7dW5pZm9ybXMuc2hhZG93UmFkaXVzPXNoYWRvdy5yYWRpdXM7dW5pZm9ybXMuc2hhZG93TWFwU2l6ZT1zaGFkb3cubWFwU2l6ZTt1bmlmb3Jtcy5zaGFkb3dDYW1lcmFOZWFyPXNoYWRvdy5jYW1lcmEubmVhcjt1bmlmb3Jtcy5zaGFkb3dDYW1lcmFGYXI9c2hhZG93LmNhbWVyYS5mYXI7c3RhdGUucG9pbnRTaGFkb3dNYXBbcG9pbnRMZW5ndGhdPXNoYWRvd01hcDtzdGF0ZS5wb2ludFNoYWRvd01hdHJpeFtwb2ludExlbmd0aF09bGlnaHQuc2hhZG93Lm1hdHJpeDtudW1Qb2ludFNoYWRvd3MrKzt9c3RhdGUucG9pbnRbcG9pbnRMZW5ndGhdPXVuaWZvcm1zO3BvaW50TGVuZ3RoKys7fWVsc2UgaWYobGlnaHQuaXNIZW1pc3BoZXJlTGlnaHQpe3ZhciB1bmlmb3Jtcz1jYWNoZS5nZXQobGlnaHQpO3VuaWZvcm1zLmRpcmVjdGlvbi5zZXRGcm9tTWF0cml4UG9zaXRpb24obGlnaHQubWF0cml4V29ybGQpO3VuaWZvcm1zLmRpcmVjdGlvbi50cmFuc2Zvcm1EaXJlY3Rpb24odmlld01hdHJpeCk7dW5pZm9ybXMuZGlyZWN0aW9uLm5vcm1hbGl6ZSgpO3VuaWZvcm1zLnNreUNvbG9yLmNvcHkobGlnaHQuY29sb3IpLm11bHRpcGx5U2NhbGFyKGludGVuc2l0eSk7dW5pZm9ybXMuZ3JvdW5kQ29sb3IuY29weShsaWdodC5ncm91bmRDb2xvcikubXVsdGlwbHlTY2FsYXIoaW50ZW5zaXR5KTtzdGF0ZS5oZW1pW2hlbWlMZW5ndGhdPXVuaWZvcm1zO2hlbWlMZW5ndGgrKzt9fXN0YXRlLmFtYmllbnRbMF09cjtzdGF0ZS5hbWJpZW50WzFdPWc7c3RhdGUuYW1iaWVudFsyXT1iO3ZhciBoYXNoPXN0YXRlLmhhc2g7aWYoaGFzaC5kaXJlY3Rpb25hbExlbmd0aCE9PWRpcmVjdGlvbmFsTGVuZ3RofHxoYXNoLnBvaW50TGVuZ3RoIT09cG9pbnRMZW5ndGh8fGhhc2guc3BvdExlbmd0aCE9PXNwb3RMZW5ndGh8fGhhc2gucmVjdEFyZWFMZW5ndGghPT1yZWN0QXJlYUxlbmd0aHx8aGFzaC5oZW1pTGVuZ3RoIT09aGVtaUxlbmd0aHx8aGFzaC5udW1EaXJlY3Rpb25hbFNoYWRvd3MhPT1udW1EaXJlY3Rpb25hbFNoYWRvd3N8fGhhc2gubnVtUG9pbnRTaGFkb3dzIT09bnVtUG9pbnRTaGFkb3dzfHxoYXNoLm51bVNwb3RTaGFkb3dzIT09bnVtU3BvdFNoYWRvd3Mpe3N0YXRlLmRpcmVjdGlvbmFsLmxlbmd0aD1kaXJlY3Rpb25hbExlbmd0aDtzdGF0ZS5zcG90Lmxlbmd0aD1zcG90TGVuZ3RoO3N0YXRlLnJlY3RBcmVhLmxlbmd0aD1yZWN0QXJlYUxlbmd0aDtzdGF0ZS5wb2ludC5sZW5ndGg9cG9pbnRMZW5ndGg7c3RhdGUuaGVtaS5sZW5ndGg9aGVtaUxlbmd0aDtzdGF0ZS5kaXJlY3Rpb25hbFNoYWRvd01hcC5sZW5ndGg9bnVtRGlyZWN0aW9uYWxTaGFkb3dzO3N0YXRlLnBvaW50U2hhZG93TWFwLmxlbmd0aD1udW1Qb2ludFNoYWRvd3M7c3RhdGUuc3BvdFNoYWRvd01hcC5sZW5ndGg9bnVtU3BvdFNoYWRvd3M7c3RhdGUuZGlyZWN0aW9uYWxTaGFkb3dNYXRyaXgubGVuZ3RoPW51bURpcmVjdGlvbmFsU2hhZG93cztzdGF0ZS5wb2ludFNoYWRvd01hdHJpeC5sZW5ndGg9bnVtUG9pbnRTaGFkb3dzO3N0YXRlLnNwb3RTaGFkb3dNYXRyaXgubGVuZ3RoPW51bVNwb3RTaGFkb3dzO2hhc2guZGlyZWN0aW9uYWxMZW5ndGg9ZGlyZWN0aW9uYWxMZW5ndGg7aGFzaC5wb2ludExlbmd0aD1wb2ludExlbmd0aDtoYXNoLnNwb3RMZW5ndGg9c3BvdExlbmd0aDtoYXNoLnJlY3RBcmVhTGVuZ3RoPXJlY3RBcmVhTGVuZ3RoO2hhc2guaGVtaUxlbmd0aD1oZW1pTGVuZ3RoO2hhc2gubnVtRGlyZWN0aW9uYWxTaGFkb3dzPW51bURpcmVjdGlvbmFsU2hhZG93cztoYXNoLm51bVBvaW50U2hhZG93cz1udW1Qb2ludFNoYWRvd3M7aGFzaC5udW1TcG90U2hhZG93cz1udW1TcG90U2hhZG93cztzdGF0ZS52ZXJzaW9uPW5leHRWZXJzaW9uKys7fX1yZXR1cm57c2V0dXA6c2V0dXAsc3RhdGU6c3RhdGV9O30vKioKICAgKiBAYXV0aG9yIE11Z2VuODcgLyBodHRwczovL2dpdGh1Yi5jb20vTXVnZW44NwogICAqL2Z1bmN0aW9uIFdlYkdMUmVuZGVyU3RhdGUoKXt2YXIgbGlnaHRzPW5ldyBXZWJHTExpZ2h0cygpO3ZhciBsaWdodHNBcnJheT1bXTt2YXIgc2hhZG93c0FycmF5PVtdO2Z1bmN0aW9uIGluaXQoKXtsaWdodHNBcnJheS5sZW5ndGg9MDtzaGFkb3dzQXJyYXkubGVuZ3RoPTA7fWZ1bmN0aW9uIHB1c2hMaWdodChsaWdodCl7bGlnaHRzQXJyYXkucHVzaChsaWdodCk7fWZ1bmN0aW9uIHB1c2hTaGFkb3coc2hhZG93TGlnaHQpe3NoYWRvd3NBcnJheS5wdXNoKHNoYWRvd0xpZ2h0KTt9ZnVuY3Rpb24gc2V0dXBMaWdodHMoY2FtZXJhKXtsaWdodHMuc2V0dXAobGlnaHRzQXJyYXksc2hhZG93c0FycmF5LGNhbWVyYSk7fXZhciBzdGF0ZT17bGlnaHRzQXJyYXk6bGlnaHRzQXJyYXksc2hhZG93c0FycmF5OnNoYWRvd3NBcnJheSxsaWdodHM6bGlnaHRzfTtyZXR1cm57aW5pdDppbml0LHN0YXRlOnN0YXRlLHNldHVwTGlnaHRzOnNldHVwTGlnaHRzLHB1c2hMaWdodDpwdXNoTGlnaHQscHVzaFNoYWRvdzpwdXNoU2hhZG93fTt9ZnVuY3Rpb24gV2ViR0xSZW5kZXJTdGF0ZXMoKXt2YXIgcmVuZGVyU3RhdGVzPW5ldyBXZWFrTWFwKCk7ZnVuY3Rpb24gb25TY2VuZURpc3Bvc2UoZXZlbnQpe3ZhciBzY2VuZT1ldmVudC50YXJnZXQ7c2NlbmUucmVtb3ZlRXZlbnRMaXN0ZW5lcignZGlzcG9zZScsb25TY2VuZURpc3Bvc2UpO3JlbmRlclN0YXRlcy5kZWxldGUoc2NlbmUpO31mdW5jdGlvbiBnZXQoc2NlbmUsY2FtZXJhKXt2YXIgcmVuZGVyU3RhdGU7aWYocmVuZGVyU3RhdGVzLmhhcyhzY2VuZSk9PT1mYWxzZSl7cmVuZGVyU3RhdGU9bmV3IFdlYkdMUmVuZGVyU3RhdGUoKTtyZW5kZXJTdGF0ZXMuc2V0KHNjZW5lLG5ldyBXZWFrTWFwKCkpO3JlbmRlclN0YXRlcy5nZXQoc2NlbmUpLnNldChjYW1lcmEscmVuZGVyU3RhdGUpO3NjZW5lLmFkZEV2ZW50TGlzdGVuZXIoJ2Rpc3Bvc2UnLG9uU2NlbmVEaXNwb3NlKTt9ZWxzZXtpZihyZW5kZXJTdGF0ZXMuZ2V0KHNjZW5lKS5oYXMoY2FtZXJhKT09PWZhbHNlKXtyZW5kZXJTdGF0ZT1uZXcgV2ViR0xSZW5kZXJTdGF0ZSgpO3JlbmRlclN0YXRlcy5nZXQoc2NlbmUpLnNldChjYW1lcmEscmVuZGVyU3RhdGUpO31lbHNle3JlbmRlclN0YXRlPXJlbmRlclN0YXRlcy5nZXQoc2NlbmUpLmdldChjYW1lcmEpO319cmV0dXJuIHJlbmRlclN0YXRlO31mdW5jdGlvbiBkaXNwb3NlKCl7cmVuZGVyU3RhdGVzPW5ldyBXZWFrTWFwKCk7fXJldHVybntnZXQ6Z2V0LGRpc3Bvc2U6ZGlzcG9zZX07fS8qKgogICAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb20vCiAgICogQGF1dGhvciBhbHRlcmVkcSAvIGh0dHA6Ly9hbHRlcmVkcXVhbGlhLmNvbS8KICAgKiBAYXV0aG9yIGJob3VzdG9uIC8gaHR0cHM6Ly9jbGFyYS5pbwogICAqIEBhdXRob3IgV2VzdExhbmdsZXkgLyBodHRwOi8vZ2l0aHViLmNvbS9XZXN0TGFuZ2xleQogICAqCiAgICogcGFyYW1ldGVycyA9IHsKICAgKgogICAqICBvcGFjaXR5OiA8ZmxvYXQ+LAogICAqCiAgICogIG1hcDogbmV3IFRIUkVFLlRleHR1cmUoIDxJbWFnZT4gKSwKICAgKgogICAqICBhbHBoYU1hcDogbmV3IFRIUkVFLlRleHR1cmUoIDxJbWFnZT4gKSwKICAgKgogICAqICBkaXNwbGFjZW1lbnRNYXA6IG5ldyBUSFJFRS5UZXh0dXJlKCA8SW1hZ2U+ICksCiAgICogIGRpc3BsYWNlbWVudFNjYWxlOiA8ZmxvYXQ+LAogICAqICBkaXNwbGFjZW1lbnRCaWFzOiA8ZmxvYXQ+LAogICAqCiAgICogIHdpcmVmcmFtZTogPGJvb2xlYW4+LAogICAqICB3aXJlZnJhbWVMaW5ld2lkdGg6IDxmbG9hdD4KICAgKiB9CiAgICovZnVuY3Rpb24gTWVzaERlcHRoTWF0ZXJpYWwocGFyYW1ldGVycyl7TWF0ZXJpYWwuY2FsbCh0aGlzKTt0aGlzLnR5cGU9J01lc2hEZXB0aE1hdGVyaWFsJzt0aGlzLmRlcHRoUGFja2luZz1CYXNpY0RlcHRoUGFja2luZzt0aGlzLnNraW5uaW5nPWZhbHNlO3RoaXMubW9ycGhUYXJnZXRzPWZhbHNlO3RoaXMubWFwPW51bGw7dGhpcy5hbHBoYU1hcD1udWxsO3RoaXMuZGlzcGxhY2VtZW50TWFwPW51bGw7dGhpcy5kaXNwbGFjZW1lbnRTY2FsZT0xO3RoaXMuZGlzcGxhY2VtZW50Qmlhcz0wO3RoaXMud2lyZWZyYW1lPWZhbHNlO3RoaXMud2lyZWZyYW1lTGluZXdpZHRoPTE7dGhpcy5mb2c9ZmFsc2U7dGhpcy5zZXRWYWx1ZXMocGFyYW1ldGVycyk7fU1lc2hEZXB0aE1hdGVyaWFsLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKE1hdGVyaWFsLnByb3RvdHlwZSk7TWVzaERlcHRoTWF0ZXJpYWwucHJvdG90eXBlLmNvbnN0cnVjdG9yPU1lc2hEZXB0aE1hdGVyaWFsO01lc2hEZXB0aE1hdGVyaWFsLnByb3RvdHlwZS5pc01lc2hEZXB0aE1hdGVyaWFsPXRydWU7TWVzaERlcHRoTWF0ZXJpYWwucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oc291cmNlKXtNYXRlcmlhbC5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsc291cmNlKTt0aGlzLmRlcHRoUGFja2luZz1zb3VyY2UuZGVwdGhQYWNraW5nO3RoaXMuc2tpbm5pbmc9c291cmNlLnNraW5uaW5nO3RoaXMubW9ycGhUYXJnZXRzPXNvdXJjZS5tb3JwaFRhcmdldHM7dGhpcy5tYXA9c291cmNlLm1hcDt0aGlzLmFscGhhTWFwPXNvdXJjZS5hbHBoYU1hcDt0aGlzLmRpc3BsYWNlbWVudE1hcD1zb3VyY2UuZGlzcGxhY2VtZW50TWFwO3RoaXMuZGlzcGxhY2VtZW50U2NhbGU9c291cmNlLmRpc3BsYWNlbWVudFNjYWxlO3RoaXMuZGlzcGxhY2VtZW50Qmlhcz1zb3VyY2UuZGlzcGxhY2VtZW50Qmlhczt0aGlzLndpcmVmcmFtZT1zb3VyY2Uud2lyZWZyYW1lO3RoaXMud2lyZWZyYW1lTGluZXdpZHRoPXNvdXJjZS53aXJlZnJhbWVMaW5ld2lkdGg7cmV0dXJuIHRoaXM7fTsvKioKICAgKiBAYXV0aG9yIFdlc3RMYW5nbGV5IC8gaHR0cDovL2dpdGh1Yi5jb20vV2VzdExhbmdsZXkKICAgKgogICAqIHBhcmFtZXRlcnMgPSB7CiAgICoKICAgKiAgcmVmZXJlbmNlUG9zaXRpb246IDxmbG9hdD4sCiAgICogIG5lYXJEaXN0YW5jZTogPGZsb2F0PiwKICAgKiAgZmFyRGlzdGFuY2U6IDxmbG9hdD4sCiAgICoKICAgKiAgc2tpbm5pbmc6IDxib29sPiwKICAgKiAgbW9ycGhUYXJnZXRzOiA8Ym9vbD4sCiAgICoKICAgKiAgbWFwOiBuZXcgVEhSRUUuVGV4dHVyZSggPEltYWdlPiApLAogICAqCiAgICogIGFscGhhTWFwOiBuZXcgVEhSRUUuVGV4dHVyZSggPEltYWdlPiApLAogICAqCiAgICogIGRpc3BsYWNlbWVudE1hcDogbmV3IFRIUkVFLlRleHR1cmUoIDxJbWFnZT4gKSwKICAgKiAgZGlzcGxhY2VtZW50U2NhbGU6IDxmbG9hdD4sCiAgICogIGRpc3BsYWNlbWVudEJpYXM6IDxmbG9hdD4KICAgKgogICAqIH0KICAgKi9mdW5jdGlvbiBNZXNoRGlzdGFuY2VNYXRlcmlhbChwYXJhbWV0ZXJzKXtNYXRlcmlhbC5jYWxsKHRoaXMpO3RoaXMudHlwZT0nTWVzaERpc3RhbmNlTWF0ZXJpYWwnO3RoaXMucmVmZXJlbmNlUG9zaXRpb249bmV3IFZlY3RvcjMoKTt0aGlzLm5lYXJEaXN0YW5jZT0xO3RoaXMuZmFyRGlzdGFuY2U9MTAwMDt0aGlzLnNraW5uaW5nPWZhbHNlO3RoaXMubW9ycGhUYXJnZXRzPWZhbHNlO3RoaXMubWFwPW51bGw7dGhpcy5hbHBoYU1hcD1udWxsO3RoaXMuZGlzcGxhY2VtZW50TWFwPW51bGw7dGhpcy5kaXNwbGFjZW1lbnRTY2FsZT0xO3RoaXMuZGlzcGxhY2VtZW50Qmlhcz0wO3RoaXMuZm9nPWZhbHNlO3RoaXMuc2V0VmFsdWVzKHBhcmFtZXRlcnMpO31NZXNoRGlzdGFuY2VNYXRlcmlhbC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShNYXRlcmlhbC5wcm90b3R5cGUpO01lc2hEaXN0YW5jZU1hdGVyaWFsLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1NZXNoRGlzdGFuY2VNYXRlcmlhbDtNZXNoRGlzdGFuY2VNYXRlcmlhbC5wcm90b3R5cGUuaXNNZXNoRGlzdGFuY2VNYXRlcmlhbD10cnVlO01lc2hEaXN0YW5jZU1hdGVyaWFsLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKHNvdXJjZSl7TWF0ZXJpYWwucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHNvdXJjZSk7dGhpcy5yZWZlcmVuY2VQb3NpdGlvbi5jb3B5KHNvdXJjZS5yZWZlcmVuY2VQb3NpdGlvbik7dGhpcy5uZWFyRGlzdGFuY2U9c291cmNlLm5lYXJEaXN0YW5jZTt0aGlzLmZhckRpc3RhbmNlPXNvdXJjZS5mYXJEaXN0YW5jZTt0aGlzLnNraW5uaW5nPXNvdXJjZS5za2lubmluZzt0aGlzLm1vcnBoVGFyZ2V0cz1zb3VyY2UubW9ycGhUYXJnZXRzO3RoaXMubWFwPXNvdXJjZS5tYXA7dGhpcy5hbHBoYU1hcD1zb3VyY2UuYWxwaGFNYXA7dGhpcy5kaXNwbGFjZW1lbnRNYXA9c291cmNlLmRpc3BsYWNlbWVudE1hcDt0aGlzLmRpc3BsYWNlbWVudFNjYWxlPXNvdXJjZS5kaXNwbGFjZW1lbnRTY2FsZTt0aGlzLmRpc3BsYWNlbWVudEJpYXM9c291cmNlLmRpc3BsYWNlbWVudEJpYXM7cmV0dXJuIHRoaXM7fTt2YXIgdnNtX2ZyYWc9InVuaWZvcm0gc2FtcGxlcjJEIHNoYWRvd19wYXNzO1xudW5pZm9ybSB2ZWMyIHJlc29sdXRpb247XG51bmlmb3JtIGZsb2F0IHJhZGl1cztcbiNpbmNsdWRlIDxwYWNraW5nPlxudm9pZCBtYWluKCkge1xuICBmbG9hdCBtZWFuID0gMC4wO1xuICBmbG9hdCBzcXVhcmVkX21lYW4gPSAwLjA7XG5cdGZsb2F0IGRlcHRoID0gdW5wYWNrUkdCQVRvRGVwdGgoIHRleHR1cmUyRCggc2hhZG93X3Bhc3MsICggZ2xfRnJhZ0Nvb3JkLnh5ICApIC8gcmVzb2x1dGlvbiApICk7XG4gIGZvciAoIGZsb2F0IGkgPSAtMS4wOyBpIDwgMS4wIDsgaSArPSBTQU1QTEVfUkFURSkge1xuICAgICNpZmRlZiBIT1JJWk9OQUxfUEFTU1xuICAgICAgdmVjMiBkaXN0cmlidXRpb24gPSB1bnBhY2tSR0JBVG8ySGFsZiggdGV4dHVyZTJEKCBzaGFkb3dfcGFzcywgKCBnbF9GcmFnQ29vcmQueHkgKyB2ZWMyKCBpLCAwLjAgKSAqIHJhZGl1cyApIC8gcmVzb2x1dGlvbiApICk7XG4gICAgICBtZWFuICs9IGRpc3RyaWJ1dGlvbi54O1xuICAgICAgc3F1YXJlZF9tZWFuICs9IGRpc3RyaWJ1dGlvbi55ICogZGlzdHJpYnV0aW9uLnkgKyBkaXN0cmlidXRpb24ueCAqIGRpc3RyaWJ1dGlvbi54O1xuICAgICNlbHNlXG4gICAgICBmbG9hdCBkZXB0aCA9IHVucGFja1JHQkFUb0RlcHRoKCB0ZXh0dXJlMkQoIHNoYWRvd19wYXNzLCAoIGdsX0ZyYWdDb29yZC54eSArIHZlYzIoIDAuMCwgIGkgKSAgKiByYWRpdXMgKSAvIHJlc29sdXRpb24gKSApO1xuICAgICAgbWVhbiArPSBkZXB0aDtcbiAgICAgIHNxdWFyZWRfbWVhbiArPSBkZXB0aCAqIGRlcHRoO1xuICAgICNlbmRpZlxuICB9XG4gIG1lYW4gPSBtZWFuICogSEFMRl9TQU1QTEVfUkFURTtcbiAgc3F1YXJlZF9tZWFuID0gc3F1YXJlZF9tZWFuICogSEFMRl9TQU1QTEVfUkFURTtcbiAgZmxvYXQgc3RkX2RldiA9IHNxcnQoIHNxdWFyZWRfbWVhbiAtIG1lYW4gKiBtZWFuICk7XG4gIGdsX0ZyYWdDb2xvciA9IHBhY2sySGFsZlRvUkdCQSggdmVjMiggbWVhbiwgc3RkX2RldiApICk7XG59Ijt2YXIgdnNtX3ZlcnQ9InZvaWQgbWFpbigpIHtcblx0Z2xfUG9zaXRpb24gPSB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7XG59IjsvKioKICAgKiBAYXV0aG9yIGFsdGVyZWRxIC8gaHR0cDovL2FsdGVyZWRxdWFsaWEuY29tLwogICAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb20vCiAgICovZnVuY3Rpb24gV2ViR0xTaGFkb3dNYXAoX3JlbmRlcmVyLF9vYmplY3RzLG1heFRleHR1cmVTaXplKXt2YXIgX2ZydXN0dW09bmV3IEZydXN0dW0oKSxfc2hhZG93TWFwU2l6ZT1uZXcgVmVjdG9yMigpLF92aWV3cG9ydFNpemU9bmV3IFZlY3RvcjIoKSxfdmlld3BvcnQ9bmV3IFZlY3RvcjQoKSxfZGVwdGhNYXRlcmlhbHM9W10sX2Rpc3RhbmNlTWF0ZXJpYWxzPVtdLF9tYXRlcmlhbENhY2hlPXt9O3ZhciBzaGFkb3dTaWRlPXswOkJhY2tTaWRlLDE6RnJvbnRTaWRlLDI6RG91YmxlU2lkZX07dmFyIHNoYWRvd01hdGVyaWFsVmVydGljYWw9bmV3IFNoYWRlck1hdGVyaWFsKHtkZWZpbmVzOntTQU1QTEVfUkFURToyLjAvOC4wLEhBTEZfU0FNUExFX1JBVEU6MS4wLzguMH0sdW5pZm9ybXM6e3NoYWRvd19wYXNzOnt2YWx1ZTpudWxsfSxyZXNvbHV0aW9uOnt2YWx1ZTpuZXcgVmVjdG9yMigpfSxyYWRpdXM6e3ZhbHVlOjQuMH19LHZlcnRleFNoYWRlcjp2c21fdmVydCxmcmFnbWVudFNoYWRlcjp2c21fZnJhZ30pO3ZhciBzaGFkb3dNYXRlcmlhbEhvcml6b25hbD1zaGFkb3dNYXRlcmlhbFZlcnRpY2FsLmNsb25lKCk7c2hhZG93TWF0ZXJpYWxIb3Jpem9uYWwuZGVmaW5lcy5IT1JJWk9OQUxfUEFTUz0xO3ZhciBmdWxsU2NyZWVuVHJpPW5ldyBCdWZmZXJHZW9tZXRyeSgpO2Z1bGxTY3JlZW5Ucmkuc2V0QXR0cmlidXRlKCJwb3NpdGlvbiIsbmV3IEJ1ZmZlckF0dHJpYnV0ZShuZXcgRmxvYXQzMkFycmF5KFstMSwtMSwwLjUsMywtMSwwLjUsLTEsMywwLjVdKSwzKSk7dmFyIGZ1bGxTY3JlZW5NZXNoPW5ldyBNZXNoKGZ1bGxTY3JlZW5Ucmksc2hhZG93TWF0ZXJpYWxWZXJ0aWNhbCk7dmFyIHNjb3BlPXRoaXM7dGhpcy5lbmFibGVkPWZhbHNlO3RoaXMuYXV0b1VwZGF0ZT10cnVlO3RoaXMubmVlZHNVcGRhdGU9ZmFsc2U7dGhpcy50eXBlPVBDRlNoYWRvd01hcDt0aGlzLnJlbmRlcj1mdW5jdGlvbihsaWdodHMsc2NlbmUsY2FtZXJhKXtpZihzY29wZS5lbmFibGVkPT09ZmFsc2Upe3JldHVybjt9aWYoc2NvcGUuYXV0b1VwZGF0ZT09PWZhbHNlJiZzY29wZS5uZWVkc1VwZGF0ZT09PWZhbHNlKXtyZXR1cm47fWlmKGxpZ2h0cy5sZW5ndGg9PT0wKXtyZXR1cm47fXZhciBjdXJyZW50UmVuZGVyVGFyZ2V0PV9yZW5kZXJlci5nZXRSZW5kZXJUYXJnZXQoKTt2YXIgYWN0aXZlQ3ViZUZhY2U9X3JlbmRlcmVyLmdldEFjdGl2ZUN1YmVGYWNlKCk7dmFyIGFjdGl2ZU1pcG1hcExldmVsPV9yZW5kZXJlci5nZXRBY3RpdmVNaXBtYXBMZXZlbCgpO3ZhciBfc3RhdGU9X3JlbmRlcmVyLnN0YXRlOy8vIFNldCBHTCBzdGF0ZSBmb3IgZGVwdGggbWFwLgpfc3RhdGUuc2V0QmxlbmRpbmcoTm9CbGVuZGluZyk7X3N0YXRlLmJ1ZmZlcnMuY29sb3Iuc2V0Q2xlYXIoMSwxLDEsMSk7X3N0YXRlLmJ1ZmZlcnMuZGVwdGguc2V0VGVzdCh0cnVlKTtfc3RhdGUuc2V0U2Npc3NvclRlc3QoZmFsc2UpOy8vIHJlbmRlciBkZXB0aCBtYXAKZm9yKHZhciBpPTAsaWw9bGlnaHRzLmxlbmd0aDtpPGlsO2krKyl7dmFyIGxpZ2h0PWxpZ2h0c1tpXTt2YXIgc2hhZG93PWxpZ2h0LnNoYWRvdztpZihzaGFkb3c9PT11bmRlZmluZWQpe2NvbnNvbGUud2FybignVEhSRUUuV2ViR0xTaGFkb3dNYXA6JyxsaWdodCwnaGFzIG5vIHNoYWRvdy4nKTtjb250aW51ZTt9X3NoYWRvd01hcFNpemUuY29weShzaGFkb3cubWFwU2l6ZSk7dmFyIHNoYWRvd0ZyYW1lRXh0ZW50cz1zaGFkb3cuZ2V0RnJhbWVFeHRlbnRzKCk7X3NoYWRvd01hcFNpemUubXVsdGlwbHkoc2hhZG93RnJhbWVFeHRlbnRzKTtfdmlld3BvcnRTaXplLmNvcHkoc2hhZG93Lm1hcFNpemUpO2lmKF9zaGFkb3dNYXBTaXplLng+bWF4VGV4dHVyZVNpemV8fF9zaGFkb3dNYXBTaXplLnk+bWF4VGV4dHVyZVNpemUpe2NvbnNvbGUud2FybignVEhSRUUuV2ViR0xTaGFkb3dNYXA6JyxsaWdodCwnaGFzIHNoYWRvdyBleGNlZWRpbmcgbWF4IHRleHR1cmUgc2l6ZSwgcmVkdWNpbmcnKTtpZihfc2hhZG93TWFwU2l6ZS54Pm1heFRleHR1cmVTaXplKXtfdmlld3BvcnRTaXplLng9TWF0aC5mbG9vcihtYXhUZXh0dXJlU2l6ZS9zaGFkb3dGcmFtZUV4dGVudHMueCk7X3NoYWRvd01hcFNpemUueD1fdmlld3BvcnRTaXplLngqc2hhZG93RnJhbWVFeHRlbnRzLng7c2hhZG93Lm1hcFNpemUueD1fdmlld3BvcnRTaXplLng7fWlmKF9zaGFkb3dNYXBTaXplLnk+bWF4VGV4dHVyZVNpemUpe192aWV3cG9ydFNpemUueT1NYXRoLmZsb29yKG1heFRleHR1cmVTaXplL3NoYWRvd0ZyYW1lRXh0ZW50cy55KTtfc2hhZG93TWFwU2l6ZS55PV92aWV3cG9ydFNpemUueSpzaGFkb3dGcmFtZUV4dGVudHMueTtzaGFkb3cubWFwU2l6ZS55PV92aWV3cG9ydFNpemUueTt9fWlmKHNoYWRvdy5tYXA9PT1udWxsJiYhc2hhZG93LmlzUG9pbnRMaWdodFNoYWRvdyYmdGhpcy50eXBlPT09VlNNU2hhZG93TWFwKXt2YXIgcGFycz17bWluRmlsdGVyOkxpbmVhckZpbHRlcixtYWdGaWx0ZXI6TGluZWFyRmlsdGVyLGZvcm1hdDpSR0JBRm9ybWF0fTtzaGFkb3cubWFwPW5ldyBXZWJHTFJlbmRlclRhcmdldChfc2hhZG93TWFwU2l6ZS54LF9zaGFkb3dNYXBTaXplLnkscGFycyk7c2hhZG93Lm1hcC50ZXh0dXJlLm5hbWU9bGlnaHQubmFtZSsiLnNoYWRvd01hcCI7c2hhZG93Lm1hcFBhc3M9bmV3IFdlYkdMUmVuZGVyVGFyZ2V0KF9zaGFkb3dNYXBTaXplLngsX3NoYWRvd01hcFNpemUueSxwYXJzKTtzaGFkb3cuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTt9aWYoc2hhZG93Lm1hcD09PW51bGwpe3ZhciBwYXJzPXttaW5GaWx0ZXI6TmVhcmVzdEZpbHRlcixtYWdGaWx0ZXI6TmVhcmVzdEZpbHRlcixmb3JtYXQ6UkdCQUZvcm1hdH07c2hhZG93Lm1hcD1uZXcgV2ViR0xSZW5kZXJUYXJnZXQoX3NoYWRvd01hcFNpemUueCxfc2hhZG93TWFwU2l6ZS55LHBhcnMpO3NoYWRvdy5tYXAudGV4dHVyZS5uYW1lPWxpZ2h0Lm5hbWUrIi5zaGFkb3dNYXAiO3NoYWRvdy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO31fcmVuZGVyZXIuc2V0UmVuZGVyVGFyZ2V0KHNoYWRvdy5tYXApO19yZW5kZXJlci5jbGVhcigpO3ZhciB2aWV3cG9ydENvdW50PXNoYWRvdy5nZXRWaWV3cG9ydENvdW50KCk7Zm9yKHZhciB2cD0wO3ZwPHZpZXdwb3J0Q291bnQ7dnArKyl7dmFyIHZpZXdwb3J0PXNoYWRvdy5nZXRWaWV3cG9ydCh2cCk7X3ZpZXdwb3J0LnNldChfdmlld3BvcnRTaXplLngqdmlld3BvcnQueCxfdmlld3BvcnRTaXplLnkqdmlld3BvcnQueSxfdmlld3BvcnRTaXplLngqdmlld3BvcnQueixfdmlld3BvcnRTaXplLnkqdmlld3BvcnQudyk7X3N0YXRlLnZpZXdwb3J0KF92aWV3cG9ydCk7c2hhZG93LnVwZGF0ZU1hdHJpY2VzKGxpZ2h0LHZwKTtfZnJ1c3R1bT1zaGFkb3cuZ2V0RnJ1c3R1bSgpO3JlbmRlck9iamVjdChzY2VuZSxjYW1lcmEsc2hhZG93LmNhbWVyYSxsaWdodCx0aGlzLnR5cGUpO30vLyBkbyBibHVyIHBhc3MgZm9yIFZTTQppZighc2hhZG93LmlzUG9pbnRMaWdodFNoYWRvdyYmdGhpcy50eXBlPT09VlNNU2hhZG93TWFwKXtWU01QYXNzKHNoYWRvdyxjYW1lcmEpO319c2NvcGUubmVlZHNVcGRhdGU9ZmFsc2U7X3JlbmRlcmVyLnNldFJlbmRlclRhcmdldChjdXJyZW50UmVuZGVyVGFyZ2V0LGFjdGl2ZUN1YmVGYWNlLGFjdGl2ZU1pcG1hcExldmVsKTt9O2Z1bmN0aW9uIFZTTVBhc3Moc2hhZG93LGNhbWVyYSl7dmFyIGdlb21ldHJ5PV9vYmplY3RzLnVwZGF0ZShmdWxsU2NyZWVuTWVzaCk7Ly8gdmVydGljYWwgcGFzcwpzaGFkb3dNYXRlcmlhbFZlcnRpY2FsLnVuaWZvcm1zLnNoYWRvd19wYXNzLnZhbHVlPXNoYWRvdy5tYXAudGV4dHVyZTtzaGFkb3dNYXRlcmlhbFZlcnRpY2FsLnVuaWZvcm1zLnJlc29sdXRpb24udmFsdWU9c2hhZG93Lm1hcFNpemU7c2hhZG93TWF0ZXJpYWxWZXJ0aWNhbC51bmlmb3Jtcy5yYWRpdXMudmFsdWU9c2hhZG93LnJhZGl1cztfcmVuZGVyZXIuc2V0UmVuZGVyVGFyZ2V0KHNoYWRvdy5tYXBQYXNzKTtfcmVuZGVyZXIuY2xlYXIoKTtfcmVuZGVyZXIucmVuZGVyQnVmZmVyRGlyZWN0KGNhbWVyYSxudWxsLGdlb21ldHJ5LHNoYWRvd01hdGVyaWFsVmVydGljYWwsZnVsbFNjcmVlbk1lc2gsbnVsbCk7Ly8gaG9yaXpvbmFsIHBhc3MKc2hhZG93TWF0ZXJpYWxIb3Jpem9uYWwudW5pZm9ybXMuc2hhZG93X3Bhc3MudmFsdWU9c2hhZG93Lm1hcFBhc3MudGV4dHVyZTtzaGFkb3dNYXRlcmlhbEhvcml6b25hbC51bmlmb3Jtcy5yZXNvbHV0aW9uLnZhbHVlPXNoYWRvdy5tYXBTaXplO3NoYWRvd01hdGVyaWFsSG9yaXpvbmFsLnVuaWZvcm1zLnJhZGl1cy52YWx1ZT1zaGFkb3cucmFkaXVzO19yZW5kZXJlci5zZXRSZW5kZXJUYXJnZXQoc2hhZG93Lm1hcCk7X3JlbmRlcmVyLmNsZWFyKCk7X3JlbmRlcmVyLnJlbmRlckJ1ZmZlckRpcmVjdChjYW1lcmEsbnVsbCxnZW9tZXRyeSxzaGFkb3dNYXRlcmlhbEhvcml6b25hbCxmdWxsU2NyZWVuTWVzaCxudWxsKTt9ZnVuY3Rpb24gZ2V0RGVwdGhNYXRlcmlhbFZhcmlhbnQodXNlTW9ycGhpbmcsdXNlU2tpbm5pbmcsdXNlSW5zdGFuY2luZyl7dmFyIGluZGV4PXVzZU1vcnBoaW5nPDwwfHVzZVNraW5uaW5nPDwxfHVzZUluc3RhbmNpbmc8PDI7dmFyIG1hdGVyaWFsPV9kZXB0aE1hdGVyaWFsc1tpbmRleF07aWYobWF0ZXJpYWw9PT11bmRlZmluZWQpe21hdGVyaWFsPW5ldyBNZXNoRGVwdGhNYXRlcmlhbCh7ZGVwdGhQYWNraW5nOlJHQkFEZXB0aFBhY2tpbmcsbW9ycGhUYXJnZXRzOnVzZU1vcnBoaW5nLHNraW5uaW5nOnVzZVNraW5uaW5nfSk7X2RlcHRoTWF0ZXJpYWxzW2luZGV4XT1tYXRlcmlhbDt9cmV0dXJuIG1hdGVyaWFsO31mdW5jdGlvbiBnZXREaXN0YW5jZU1hdGVyaWFsVmFyaWFudCh1c2VNb3JwaGluZyx1c2VTa2lubmluZyx1c2VJbnN0YW5jaW5nKXt2YXIgaW5kZXg9dXNlTW9ycGhpbmc8PDB8dXNlU2tpbm5pbmc8PDF8dXNlSW5zdGFuY2luZzw8Mjt2YXIgbWF0ZXJpYWw9X2Rpc3RhbmNlTWF0ZXJpYWxzW2luZGV4XTtpZihtYXRlcmlhbD09PXVuZGVmaW5lZCl7bWF0ZXJpYWw9bmV3IE1lc2hEaXN0YW5jZU1hdGVyaWFsKHttb3JwaFRhcmdldHM6dXNlTW9ycGhpbmcsc2tpbm5pbmc6dXNlU2tpbm5pbmd9KTtfZGlzdGFuY2VNYXRlcmlhbHNbaW5kZXhdPW1hdGVyaWFsO31yZXR1cm4gbWF0ZXJpYWw7fWZ1bmN0aW9uIGdldERlcHRoTWF0ZXJpYWwob2JqZWN0LG1hdGVyaWFsLGxpZ2h0LHNoYWRvd0NhbWVyYU5lYXIsc2hhZG93Q2FtZXJhRmFyLHR5cGUpe3ZhciBnZW9tZXRyeT1vYmplY3QuZ2VvbWV0cnk7dmFyIHJlc3VsdD1udWxsO3ZhciBnZXRNYXRlcmlhbFZhcmlhbnQ9Z2V0RGVwdGhNYXRlcmlhbFZhcmlhbnQ7dmFyIGN1c3RvbU1hdGVyaWFsPW9iamVjdC5jdXN0b21EZXB0aE1hdGVyaWFsO2lmKGxpZ2h0LmlzUG9pbnRMaWdodD09PXRydWUpe2dldE1hdGVyaWFsVmFyaWFudD1nZXREaXN0YW5jZU1hdGVyaWFsVmFyaWFudDtjdXN0b21NYXRlcmlhbD1vYmplY3QuY3VzdG9tRGlzdGFuY2VNYXRlcmlhbDt9aWYoY3VzdG9tTWF0ZXJpYWw9PT11bmRlZmluZWQpe3ZhciB1c2VNb3JwaGluZz1mYWxzZTtpZihtYXRlcmlhbC5tb3JwaFRhcmdldHM9PT10cnVlKXtpZihnZW9tZXRyeS5pc0J1ZmZlckdlb21ldHJ5PT09dHJ1ZSl7dXNlTW9ycGhpbmc9Z2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzJiZnZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXMucG9zaXRpb24mJmdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlcy5wb3NpdGlvbi5sZW5ndGg+MDt9ZWxzZSBpZihnZW9tZXRyeS5pc0dlb21ldHJ5PT09dHJ1ZSl7dXNlTW9ycGhpbmc9Z2VvbWV0cnkubW9ycGhUYXJnZXRzJiZnZW9tZXRyeS5tb3JwaFRhcmdldHMubGVuZ3RoPjA7fX12YXIgdXNlU2tpbm5pbmc9ZmFsc2U7aWYob2JqZWN0LmlzU2tpbm5lZE1lc2g9PT10cnVlKXtpZihtYXRlcmlhbC5za2lubmluZz09PXRydWUpe3VzZVNraW5uaW5nPXRydWU7fWVsc2V7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFNoYWRvd01hcDogVEhSRUUuU2tpbm5lZE1lc2ggd2l0aCBtYXRlcmlhbC5za2lubmluZyBzZXQgdG8gZmFsc2U6JyxvYmplY3QpO319dmFyIHVzZUluc3RhbmNpbmc9b2JqZWN0LmlzSW5zdGFuY2VkTWVzaD09PXRydWU7cmVzdWx0PWdldE1hdGVyaWFsVmFyaWFudCh1c2VNb3JwaGluZyx1c2VTa2lubmluZyx1c2VJbnN0YW5jaW5nKTt9ZWxzZXtyZXN1bHQ9Y3VzdG9tTWF0ZXJpYWw7fWlmKF9yZW5kZXJlci5sb2NhbENsaXBwaW5nRW5hYmxlZCYmbWF0ZXJpYWwuY2xpcFNoYWRvd3M9PT10cnVlJiZtYXRlcmlhbC5jbGlwcGluZ1BsYW5lcy5sZW5ndGghPT0wKXsvLyBpbiB0aGlzIGNhc2Ugd2UgbmVlZCBhIHVuaXF1ZSBtYXRlcmlhbCBpbnN0YW5jZSByZWZsZWN0aW5nIHRoZQovLyBhcHByb3ByaWF0ZSBzdGF0ZQp2YXIga2V5QT1yZXN1bHQudXVpZCxrZXlCPW1hdGVyaWFsLnV1aWQ7dmFyIG1hdGVyaWFsc0ZvclZhcmlhbnQ9X21hdGVyaWFsQ2FjaGVba2V5QV07aWYobWF0ZXJpYWxzRm9yVmFyaWFudD09PXVuZGVmaW5lZCl7bWF0ZXJpYWxzRm9yVmFyaWFudD17fTtfbWF0ZXJpYWxDYWNoZVtrZXlBXT1tYXRlcmlhbHNGb3JWYXJpYW50O312YXIgY2FjaGVkTWF0ZXJpYWw9bWF0ZXJpYWxzRm9yVmFyaWFudFtrZXlCXTtpZihjYWNoZWRNYXRlcmlhbD09PXVuZGVmaW5lZCl7Y2FjaGVkTWF0ZXJpYWw9cmVzdWx0LmNsb25lKCk7bWF0ZXJpYWxzRm9yVmFyaWFudFtrZXlCXT1jYWNoZWRNYXRlcmlhbDt9cmVzdWx0PWNhY2hlZE1hdGVyaWFsO31yZXN1bHQudmlzaWJsZT1tYXRlcmlhbC52aXNpYmxlO3Jlc3VsdC53aXJlZnJhbWU9bWF0ZXJpYWwud2lyZWZyYW1lO2lmKHR5cGU9PT1WU01TaGFkb3dNYXApe3Jlc3VsdC5zaWRlPW1hdGVyaWFsLnNoYWRvd1NpZGUhPT1udWxsP21hdGVyaWFsLnNoYWRvd1NpZGU6bWF0ZXJpYWwuc2lkZTt9ZWxzZXtyZXN1bHQuc2lkZT1tYXRlcmlhbC5zaGFkb3dTaWRlIT09bnVsbD9tYXRlcmlhbC5zaGFkb3dTaWRlOnNoYWRvd1NpZGVbbWF0ZXJpYWwuc2lkZV07fXJlc3VsdC5jbGlwU2hhZG93cz1tYXRlcmlhbC5jbGlwU2hhZG93cztyZXN1bHQuY2xpcHBpbmdQbGFuZXM9bWF0ZXJpYWwuY2xpcHBpbmdQbGFuZXM7cmVzdWx0LmNsaXBJbnRlcnNlY3Rpb249bWF0ZXJpYWwuY2xpcEludGVyc2VjdGlvbjtyZXN1bHQud2lyZWZyYW1lTGluZXdpZHRoPW1hdGVyaWFsLndpcmVmcmFtZUxpbmV3aWR0aDtyZXN1bHQubGluZXdpZHRoPW1hdGVyaWFsLmxpbmV3aWR0aDtpZihsaWdodC5pc1BvaW50TGlnaHQ9PT10cnVlJiZyZXN1bHQuaXNNZXNoRGlzdGFuY2VNYXRlcmlhbD09PXRydWUpe3Jlc3VsdC5yZWZlcmVuY2VQb3NpdGlvbi5zZXRGcm9tTWF0cml4UG9zaXRpb24obGlnaHQubWF0cml4V29ybGQpO3Jlc3VsdC5uZWFyRGlzdGFuY2U9c2hhZG93Q2FtZXJhTmVhcjtyZXN1bHQuZmFyRGlzdGFuY2U9c2hhZG93Q2FtZXJhRmFyO31yZXR1cm4gcmVzdWx0O31mdW5jdGlvbiByZW5kZXJPYmplY3Qob2JqZWN0LGNhbWVyYSxzaGFkb3dDYW1lcmEsbGlnaHQsdHlwZSl7aWYob2JqZWN0LnZpc2libGU9PT1mYWxzZSl7cmV0dXJuO312YXIgdmlzaWJsZT1vYmplY3QubGF5ZXJzLnRlc3QoY2FtZXJhLmxheWVycyk7aWYodmlzaWJsZSYmKG9iamVjdC5pc01lc2h8fG9iamVjdC5pc0xpbmV8fG9iamVjdC5pc1BvaW50cykpe2lmKChvYmplY3QuY2FzdFNoYWRvd3x8b2JqZWN0LnJlY2VpdmVTaGFkb3cmJnR5cGU9PT1WU01TaGFkb3dNYXApJiYoIW9iamVjdC5mcnVzdHVtQ3VsbGVkfHxfZnJ1c3R1bS5pbnRlcnNlY3RzT2JqZWN0KG9iamVjdCkpKXtvYmplY3QubW9kZWxWaWV3TWF0cml4Lm11bHRpcGx5TWF0cmljZXMoc2hhZG93Q2FtZXJhLm1hdHJpeFdvcmxkSW52ZXJzZSxvYmplY3QubWF0cml4V29ybGQpO3ZhciBnZW9tZXRyeT1fb2JqZWN0cy51cGRhdGUob2JqZWN0KTt2YXIgbWF0ZXJpYWw9b2JqZWN0Lm1hdGVyaWFsO2lmKEFycmF5LmlzQXJyYXkobWF0ZXJpYWwpKXt2YXIgZ3JvdXBzPWdlb21ldHJ5Lmdyb3Vwcztmb3IodmFyIGs9MCxrbD1ncm91cHMubGVuZ3RoO2s8a2w7aysrKXt2YXIgZ3JvdXA9Z3JvdXBzW2tdO3ZhciBncm91cE1hdGVyaWFsPW1hdGVyaWFsW2dyb3VwLm1hdGVyaWFsSW5kZXhdO2lmKGdyb3VwTWF0ZXJpYWwmJmdyb3VwTWF0ZXJpYWwudmlzaWJsZSl7dmFyIGRlcHRoTWF0ZXJpYWw9Z2V0RGVwdGhNYXRlcmlhbChvYmplY3QsZ3JvdXBNYXRlcmlhbCxsaWdodCxzaGFkb3dDYW1lcmEubmVhcixzaGFkb3dDYW1lcmEuZmFyLHR5cGUpO19yZW5kZXJlci5yZW5kZXJCdWZmZXJEaXJlY3Qoc2hhZG93Q2FtZXJhLG51bGwsZ2VvbWV0cnksZGVwdGhNYXRlcmlhbCxvYmplY3QsZ3JvdXApO319fWVsc2UgaWYobWF0ZXJpYWwudmlzaWJsZSl7dmFyIGRlcHRoTWF0ZXJpYWw9Z2V0RGVwdGhNYXRlcmlhbChvYmplY3QsbWF0ZXJpYWwsbGlnaHQsc2hhZG93Q2FtZXJhLm5lYXIsc2hhZG93Q2FtZXJhLmZhcix0eXBlKTtfcmVuZGVyZXIucmVuZGVyQnVmZmVyRGlyZWN0KHNoYWRvd0NhbWVyYSxudWxsLGdlb21ldHJ5LGRlcHRoTWF0ZXJpYWwsb2JqZWN0LG51bGwpO319fXZhciBjaGlsZHJlbj1vYmplY3QuY2hpbGRyZW47Zm9yKHZhciBpPTAsbD1jaGlsZHJlbi5sZW5ndGg7aTxsO2krKyl7cmVuZGVyT2JqZWN0KGNoaWxkcmVuW2ldLGNhbWVyYSxzaGFkb3dDYW1lcmEsbGlnaHQsdHlwZSk7fX19LyoqCiAgICogQGF1dGhvciBtcmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS8KICAgKi9mdW5jdGlvbiBXZWJHTFN0YXRlKGdsLGV4dGVuc2lvbnMsY2FwYWJpbGl0aWVzKXt2YXIgaXNXZWJHTDI9Y2FwYWJpbGl0aWVzLmlzV2ViR0wyO2Z1bmN0aW9uIENvbG9yQnVmZmVyKCl7dmFyIGxvY2tlZD1mYWxzZTt2YXIgY29sb3I9bmV3IFZlY3RvcjQoKTt2YXIgY3VycmVudENvbG9yTWFzaz1udWxsO3ZhciBjdXJyZW50Q29sb3JDbGVhcj1uZXcgVmVjdG9yNCgwLDAsMCwwKTtyZXR1cm57c2V0TWFzazpmdW5jdGlvbiBzZXRNYXNrKGNvbG9yTWFzayl7aWYoY3VycmVudENvbG9yTWFzayE9PWNvbG9yTWFzayYmIWxvY2tlZCl7Z2wuY29sb3JNYXNrKGNvbG9yTWFzayxjb2xvck1hc2ssY29sb3JNYXNrLGNvbG9yTWFzayk7Y3VycmVudENvbG9yTWFzaz1jb2xvck1hc2s7fX0sc2V0TG9ja2VkOmZ1bmN0aW9uIHNldExvY2tlZChsb2NrKXtsb2NrZWQ9bG9jazt9LHNldENsZWFyOmZ1bmN0aW9uIHNldENsZWFyKHIsZyxiLGEscHJlbXVsdGlwbGllZEFscGhhKXtpZihwcmVtdWx0aXBsaWVkQWxwaGE9PT10cnVlKXtyKj1hO2cqPWE7Yio9YTt9Y29sb3Iuc2V0KHIsZyxiLGEpO2lmKGN1cnJlbnRDb2xvckNsZWFyLmVxdWFscyhjb2xvcik9PT1mYWxzZSl7Z2wuY2xlYXJDb2xvcihyLGcsYixhKTtjdXJyZW50Q29sb3JDbGVhci5jb3B5KGNvbG9yKTt9fSxyZXNldDpmdW5jdGlvbiByZXNldCgpe2xvY2tlZD1mYWxzZTtjdXJyZW50Q29sb3JNYXNrPW51bGw7Y3VycmVudENvbG9yQ2xlYXIuc2V0KC0xLDAsMCwwKTsvLyBzZXQgdG8gaW52YWxpZCBzdGF0ZQp9fTt9ZnVuY3Rpb24gRGVwdGhCdWZmZXIoKXt2YXIgbG9ja2VkPWZhbHNlO3ZhciBjdXJyZW50RGVwdGhNYXNrPW51bGw7dmFyIGN1cnJlbnREZXB0aEZ1bmM9bnVsbDt2YXIgY3VycmVudERlcHRoQ2xlYXI9bnVsbDtyZXR1cm57c2V0VGVzdDpmdW5jdGlvbiBzZXRUZXN0KGRlcHRoVGVzdCl7aWYoZGVwdGhUZXN0KXtlbmFibGUoMjkyOSk7fWVsc2V7ZGlzYWJsZSgyOTI5KTt9fSxzZXRNYXNrOmZ1bmN0aW9uIHNldE1hc2soZGVwdGhNYXNrKXtpZihjdXJyZW50RGVwdGhNYXNrIT09ZGVwdGhNYXNrJiYhbG9ja2VkKXtnbC5kZXB0aE1hc2soZGVwdGhNYXNrKTtjdXJyZW50RGVwdGhNYXNrPWRlcHRoTWFzazt9fSxzZXRGdW5jOmZ1bmN0aW9uIHNldEZ1bmMoZGVwdGhGdW5jKXtpZihjdXJyZW50RGVwdGhGdW5jIT09ZGVwdGhGdW5jKXtpZihkZXB0aEZ1bmMpe3N3aXRjaChkZXB0aEZ1bmMpe2Nhc2UgTmV2ZXJEZXB0aDpnbC5kZXB0aEZ1bmMoNTEyKTticmVhaztjYXNlIEFsd2F5c0RlcHRoOmdsLmRlcHRoRnVuYyg1MTkpO2JyZWFrO2Nhc2UgTGVzc0RlcHRoOmdsLmRlcHRoRnVuYyg1MTMpO2JyZWFrO2Nhc2UgTGVzc0VxdWFsRGVwdGg6Z2wuZGVwdGhGdW5jKDUxNSk7YnJlYWs7Y2FzZSBFcXVhbERlcHRoOmdsLmRlcHRoRnVuYyg1MTQpO2JyZWFrO2Nhc2UgR3JlYXRlckVxdWFsRGVwdGg6Z2wuZGVwdGhGdW5jKDUxOCk7YnJlYWs7Y2FzZSBHcmVhdGVyRGVwdGg6Z2wuZGVwdGhGdW5jKDUxNik7YnJlYWs7Y2FzZSBOb3RFcXVhbERlcHRoOmdsLmRlcHRoRnVuYyg1MTcpO2JyZWFrO2RlZmF1bHQ6Z2wuZGVwdGhGdW5jKDUxNSk7fX1lbHNle2dsLmRlcHRoRnVuYyg1MTUpO31jdXJyZW50RGVwdGhGdW5jPWRlcHRoRnVuYzt9fSxzZXRMb2NrZWQ6ZnVuY3Rpb24gc2V0TG9ja2VkKGxvY2spe2xvY2tlZD1sb2NrO30sc2V0Q2xlYXI6ZnVuY3Rpb24gc2V0Q2xlYXIoZGVwdGgpe2lmKGN1cnJlbnREZXB0aENsZWFyIT09ZGVwdGgpe2dsLmNsZWFyRGVwdGgoZGVwdGgpO2N1cnJlbnREZXB0aENsZWFyPWRlcHRoO319LHJlc2V0OmZ1bmN0aW9uIHJlc2V0KCl7bG9ja2VkPWZhbHNlO2N1cnJlbnREZXB0aE1hc2s9bnVsbDtjdXJyZW50RGVwdGhGdW5jPW51bGw7Y3VycmVudERlcHRoQ2xlYXI9bnVsbDt9fTt9ZnVuY3Rpb24gU3RlbmNpbEJ1ZmZlcigpe3ZhciBsb2NrZWQ9ZmFsc2U7dmFyIGN1cnJlbnRTdGVuY2lsTWFzaz1udWxsO3ZhciBjdXJyZW50U3RlbmNpbEZ1bmM9bnVsbDt2YXIgY3VycmVudFN0ZW5jaWxSZWY9bnVsbDt2YXIgY3VycmVudFN0ZW5jaWxGdW5jTWFzaz1udWxsO3ZhciBjdXJyZW50U3RlbmNpbEZhaWw9bnVsbDt2YXIgY3VycmVudFN0ZW5jaWxaRmFpbD1udWxsO3ZhciBjdXJyZW50U3RlbmNpbFpQYXNzPW51bGw7dmFyIGN1cnJlbnRTdGVuY2lsQ2xlYXI9bnVsbDtyZXR1cm57c2V0VGVzdDpmdW5jdGlvbiBzZXRUZXN0KHN0ZW5jaWxUZXN0KXtpZighbG9ja2VkKXtpZihzdGVuY2lsVGVzdCl7ZW5hYmxlKDI5NjApO31lbHNle2Rpc2FibGUoMjk2MCk7fX19LHNldE1hc2s6ZnVuY3Rpb24gc2V0TWFzayhzdGVuY2lsTWFzayl7aWYoY3VycmVudFN0ZW5jaWxNYXNrIT09c3RlbmNpbE1hc2smJiFsb2NrZWQpe2dsLnN0ZW5jaWxNYXNrKHN0ZW5jaWxNYXNrKTtjdXJyZW50U3RlbmNpbE1hc2s9c3RlbmNpbE1hc2s7fX0sc2V0RnVuYzpmdW5jdGlvbiBzZXRGdW5jKHN0ZW5jaWxGdW5jLHN0ZW5jaWxSZWYsc3RlbmNpbE1hc2spe2lmKGN1cnJlbnRTdGVuY2lsRnVuYyE9PXN0ZW5jaWxGdW5jfHxjdXJyZW50U3RlbmNpbFJlZiE9PXN0ZW5jaWxSZWZ8fGN1cnJlbnRTdGVuY2lsRnVuY01hc2shPT1zdGVuY2lsTWFzayl7Z2wuc3RlbmNpbEZ1bmMoc3RlbmNpbEZ1bmMsc3RlbmNpbFJlZixzdGVuY2lsTWFzayk7Y3VycmVudFN0ZW5jaWxGdW5jPXN0ZW5jaWxGdW5jO2N1cnJlbnRTdGVuY2lsUmVmPXN0ZW5jaWxSZWY7Y3VycmVudFN0ZW5jaWxGdW5jTWFzaz1zdGVuY2lsTWFzazt9fSxzZXRPcDpmdW5jdGlvbiBzZXRPcChzdGVuY2lsRmFpbCxzdGVuY2lsWkZhaWwsc3RlbmNpbFpQYXNzKXtpZihjdXJyZW50U3RlbmNpbEZhaWwhPT1zdGVuY2lsRmFpbHx8Y3VycmVudFN0ZW5jaWxaRmFpbCE9PXN0ZW5jaWxaRmFpbHx8Y3VycmVudFN0ZW5jaWxaUGFzcyE9PXN0ZW5jaWxaUGFzcyl7Z2wuc3RlbmNpbE9wKHN0ZW5jaWxGYWlsLHN0ZW5jaWxaRmFpbCxzdGVuY2lsWlBhc3MpO2N1cnJlbnRTdGVuY2lsRmFpbD1zdGVuY2lsRmFpbDtjdXJyZW50U3RlbmNpbFpGYWlsPXN0ZW5jaWxaRmFpbDtjdXJyZW50U3RlbmNpbFpQYXNzPXN0ZW5jaWxaUGFzczt9fSxzZXRMb2NrZWQ6ZnVuY3Rpb24gc2V0TG9ja2VkKGxvY2spe2xvY2tlZD1sb2NrO30sc2V0Q2xlYXI6ZnVuY3Rpb24gc2V0Q2xlYXIoc3RlbmNpbCl7aWYoY3VycmVudFN0ZW5jaWxDbGVhciE9PXN0ZW5jaWwpe2dsLmNsZWFyU3RlbmNpbChzdGVuY2lsKTtjdXJyZW50U3RlbmNpbENsZWFyPXN0ZW5jaWw7fX0scmVzZXQ6ZnVuY3Rpb24gcmVzZXQoKXtsb2NrZWQ9ZmFsc2U7Y3VycmVudFN0ZW5jaWxNYXNrPW51bGw7Y3VycmVudFN0ZW5jaWxGdW5jPW51bGw7Y3VycmVudFN0ZW5jaWxSZWY9bnVsbDtjdXJyZW50U3RlbmNpbEZ1bmNNYXNrPW51bGw7Y3VycmVudFN0ZW5jaWxGYWlsPW51bGw7Y3VycmVudFN0ZW5jaWxaRmFpbD1udWxsO2N1cnJlbnRTdGVuY2lsWlBhc3M9bnVsbDtjdXJyZW50U3RlbmNpbENsZWFyPW51bGw7fX07fS8vCnZhciBjb2xvckJ1ZmZlcj1uZXcgQ29sb3JCdWZmZXIoKTt2YXIgZGVwdGhCdWZmZXI9bmV3IERlcHRoQnVmZmVyKCk7dmFyIHN0ZW5jaWxCdWZmZXI9bmV3IFN0ZW5jaWxCdWZmZXIoKTt2YXIgbWF4VmVydGV4QXR0cmlidXRlcz1nbC5nZXRQYXJhbWV0ZXIoMzQ5MjEpO3ZhciBuZXdBdHRyaWJ1dGVzPW5ldyBVaW50OEFycmF5KG1heFZlcnRleEF0dHJpYnV0ZXMpO3ZhciBlbmFibGVkQXR0cmlidXRlcz1uZXcgVWludDhBcnJheShtYXhWZXJ0ZXhBdHRyaWJ1dGVzKTt2YXIgYXR0cmlidXRlRGl2aXNvcnM9bmV3IFVpbnQ4QXJyYXkobWF4VmVydGV4QXR0cmlidXRlcyk7dmFyIGVuYWJsZWRDYXBhYmlsaXRpZXM9e307dmFyIGN1cnJlbnRQcm9ncmFtPW51bGw7dmFyIGN1cnJlbnRCbGVuZGluZ0VuYWJsZWQ9bnVsbDt2YXIgY3VycmVudEJsZW5kaW5nPW51bGw7dmFyIGN1cnJlbnRCbGVuZEVxdWF0aW9uPW51bGw7dmFyIGN1cnJlbnRCbGVuZFNyYz1udWxsO3ZhciBjdXJyZW50QmxlbmREc3Q9bnVsbDt2YXIgY3VycmVudEJsZW5kRXF1YXRpb25BbHBoYT1udWxsO3ZhciBjdXJyZW50QmxlbmRTcmNBbHBoYT1udWxsO3ZhciBjdXJyZW50QmxlbmREc3RBbHBoYT1udWxsO3ZhciBjdXJyZW50UHJlbXVsdGlwbGVkQWxwaGE9ZmFsc2U7dmFyIGN1cnJlbnRGbGlwU2lkZWQ9bnVsbDt2YXIgY3VycmVudEN1bGxGYWNlPW51bGw7dmFyIGN1cnJlbnRMaW5lV2lkdGg9bnVsbDt2YXIgY3VycmVudFBvbHlnb25PZmZzZXRGYWN0b3I9bnVsbDt2YXIgY3VycmVudFBvbHlnb25PZmZzZXRVbml0cz1udWxsO3ZhciBtYXhUZXh0dXJlcz1nbC5nZXRQYXJhbWV0ZXIoMzU2NjEpO3ZhciBsaW5lV2lkdGhBdmFpbGFibGU9ZmFsc2U7dmFyIHZlcnNpb249MDt2YXIgZ2xWZXJzaW9uPWdsLmdldFBhcmFtZXRlcig3OTM4KTtpZihnbFZlcnNpb24uaW5kZXhPZignV2ViR0wnKSE9PS0xKXt2ZXJzaW9uPXBhcnNlRmxvYXQoL15XZWJHTFwgKFswLTldKS8uZXhlYyhnbFZlcnNpb24pWzFdKTtsaW5lV2lkdGhBdmFpbGFibGU9dmVyc2lvbj49MS4wO31lbHNlIGlmKGdsVmVyc2lvbi5pbmRleE9mKCdPcGVuR0wgRVMnKSE9PS0xKXt2ZXJzaW9uPXBhcnNlRmxvYXQoL15PcGVuR0xcIEVTXCAoWzAtOV0pLy5leGVjKGdsVmVyc2lvbilbMV0pO2xpbmVXaWR0aEF2YWlsYWJsZT12ZXJzaW9uPj0yLjA7fXZhciBjdXJyZW50VGV4dHVyZVNsb3Q9bnVsbDt2YXIgY3VycmVudEJvdW5kVGV4dHVyZXM9e307dmFyIGN1cnJlbnRTY2lzc29yPW5ldyBWZWN0b3I0KCk7dmFyIGN1cnJlbnRWaWV3cG9ydD1uZXcgVmVjdG9yNCgpO2Z1bmN0aW9uIGNyZWF0ZVRleHR1cmUodHlwZSx0YXJnZXQsY291bnQpe3ZhciBkYXRhPW5ldyBVaW50OEFycmF5KDQpOy8vIDQgaXMgcmVxdWlyZWQgdG8gbWF0Y2ggZGVmYXVsdCB1bnBhY2sgYWxpZ25tZW50IG9mIDQuCnZhciB0ZXh0dXJlPWdsLmNyZWF0ZVRleHR1cmUoKTtnbC5iaW5kVGV4dHVyZSh0eXBlLHRleHR1cmUpO2dsLnRleFBhcmFtZXRlcmkodHlwZSwxMDI0MSw5NzI4KTtnbC50ZXhQYXJhbWV0ZXJpKHR5cGUsMTAyNDAsOTcyOCk7Zm9yKHZhciBpPTA7aTxjb3VudDtpKyspe2dsLnRleEltYWdlMkQodGFyZ2V0K2ksMCw2NDA4LDEsMSwwLDY0MDgsNTEyMSxkYXRhKTt9cmV0dXJuIHRleHR1cmU7fXZhciBlbXB0eVRleHR1cmVzPXt9O2VtcHR5VGV4dHVyZXNbMzU1M109Y3JlYXRlVGV4dHVyZSgzNTUzLDM1NTMsMSk7ZW1wdHlUZXh0dXJlc1szNDA2N109Y3JlYXRlVGV4dHVyZSgzNDA2NywzNDA2OSw2KTsvLyBpbml0CmNvbG9yQnVmZmVyLnNldENsZWFyKDAsMCwwLDEpO2RlcHRoQnVmZmVyLnNldENsZWFyKDEpO3N0ZW5jaWxCdWZmZXIuc2V0Q2xlYXIoMCk7ZW5hYmxlKDI5MjkpO2RlcHRoQnVmZmVyLnNldEZ1bmMoTGVzc0VxdWFsRGVwdGgpO3NldEZsaXBTaWRlZChmYWxzZSk7c2V0Q3VsbEZhY2UoQ3VsbEZhY2VCYWNrKTtlbmFibGUoMjg4NCk7c2V0QmxlbmRpbmcoTm9CbGVuZGluZyk7Ly8KZnVuY3Rpb24gaW5pdEF0dHJpYnV0ZXMoKXtmb3IodmFyIGk9MCxsPW5ld0F0dHJpYnV0ZXMubGVuZ3RoO2k8bDtpKyspe25ld0F0dHJpYnV0ZXNbaV09MDt9fWZ1bmN0aW9uIGVuYWJsZUF0dHJpYnV0ZShhdHRyaWJ1dGUpe2VuYWJsZUF0dHJpYnV0ZUFuZERpdmlzb3IoYXR0cmlidXRlLDApO31mdW5jdGlvbiBlbmFibGVBdHRyaWJ1dGVBbmREaXZpc29yKGF0dHJpYnV0ZSxtZXNoUGVyQXR0cmlidXRlKXtuZXdBdHRyaWJ1dGVzW2F0dHJpYnV0ZV09MTtpZihlbmFibGVkQXR0cmlidXRlc1thdHRyaWJ1dGVdPT09MCl7Z2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoYXR0cmlidXRlKTtlbmFibGVkQXR0cmlidXRlc1thdHRyaWJ1dGVdPTE7fWlmKGF0dHJpYnV0ZURpdmlzb3JzW2F0dHJpYnV0ZV0hPT1tZXNoUGVyQXR0cmlidXRlKXt2YXIgZXh0ZW5zaW9uPWlzV2ViR0wyP2dsOmV4dGVuc2lvbnMuZ2V0KCdBTkdMRV9pbnN0YW5jZWRfYXJyYXlzJyk7ZXh0ZW5zaW9uW2lzV2ViR0wyPyd2ZXJ0ZXhBdHRyaWJEaXZpc29yJzondmVydGV4QXR0cmliRGl2aXNvckFOR0xFJ10oYXR0cmlidXRlLG1lc2hQZXJBdHRyaWJ1dGUpO2F0dHJpYnV0ZURpdmlzb3JzW2F0dHJpYnV0ZV09bWVzaFBlckF0dHJpYnV0ZTt9fWZ1bmN0aW9uIGRpc2FibGVVbnVzZWRBdHRyaWJ1dGVzKCl7Zm9yKHZhciBpPTAsbD1lbmFibGVkQXR0cmlidXRlcy5sZW5ndGg7aSE9PWw7KytpKXtpZihlbmFibGVkQXR0cmlidXRlc1tpXSE9PW5ld0F0dHJpYnV0ZXNbaV0pe2dsLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheShpKTtlbmFibGVkQXR0cmlidXRlc1tpXT0wO319fWZ1bmN0aW9uIGVuYWJsZShpZCl7aWYoZW5hYmxlZENhcGFiaWxpdGllc1tpZF0hPT10cnVlKXtnbC5lbmFibGUoaWQpO2VuYWJsZWRDYXBhYmlsaXRpZXNbaWRdPXRydWU7fX1mdW5jdGlvbiBkaXNhYmxlKGlkKXtpZihlbmFibGVkQ2FwYWJpbGl0aWVzW2lkXSE9PWZhbHNlKXtnbC5kaXNhYmxlKGlkKTtlbmFibGVkQ2FwYWJpbGl0aWVzW2lkXT1mYWxzZTt9fWZ1bmN0aW9uIHVzZVByb2dyYW0ocHJvZ3JhbSl7aWYoY3VycmVudFByb2dyYW0hPT1wcm9ncmFtKXtnbC51c2VQcm9ncmFtKHByb2dyYW0pO2N1cnJlbnRQcm9ncmFtPXByb2dyYW07cmV0dXJuIHRydWU7fXJldHVybiBmYWxzZTt9dmFyIGVxdWF0aW9uVG9HTD17fTtlcXVhdGlvblRvR0xbQWRkRXF1YXRpb25dPTMyNzc0O2VxdWF0aW9uVG9HTFtTdWJ0cmFjdEVxdWF0aW9uXT0zMjc3ODtlcXVhdGlvblRvR0xbUmV2ZXJzZVN1YnRyYWN0RXF1YXRpb25dPTMyNzc5O2lmKGlzV2ViR0wyKXtlcXVhdGlvblRvR0xbTWluRXF1YXRpb25dPTMyNzc1O2VxdWF0aW9uVG9HTFtNYXhFcXVhdGlvbl09MzI3NzY7fWVsc2V7dmFyIGV4dGVuc2lvbj1leHRlbnNpb25zLmdldCgnRVhUX2JsZW5kX21pbm1heCcpO2lmKGV4dGVuc2lvbiE9PW51bGwpe2VxdWF0aW9uVG9HTFtNaW5FcXVhdGlvbl09ZXh0ZW5zaW9uLk1JTl9FWFQ7ZXF1YXRpb25Ub0dMW01heEVxdWF0aW9uXT1leHRlbnNpb24uTUFYX0VYVDt9fXZhciBmYWN0b3JUb0dMPXt9O2ZhY3RvclRvR0xbWmVyb0ZhY3Rvcl09MDtmYWN0b3JUb0dMW09uZUZhY3Rvcl09MTtmYWN0b3JUb0dMW1NyY0NvbG9yRmFjdG9yXT03Njg7ZmFjdG9yVG9HTFtTcmNBbHBoYUZhY3Rvcl09NzcwO2ZhY3RvclRvR0xbU3JjQWxwaGFTYXR1cmF0ZUZhY3Rvcl09Nzc2O2ZhY3RvclRvR0xbRHN0Q29sb3JGYWN0b3JdPTc3NDtmYWN0b3JUb0dMW0RzdEFscGhhRmFjdG9yXT03NzI7ZmFjdG9yVG9HTFtPbmVNaW51c1NyY0NvbG9yRmFjdG9yXT03Njk7ZmFjdG9yVG9HTFtPbmVNaW51c1NyY0FscGhhRmFjdG9yXT03NzE7ZmFjdG9yVG9HTFtPbmVNaW51c0RzdENvbG9yRmFjdG9yXT03NzU7ZmFjdG9yVG9HTFtPbmVNaW51c0RzdEFscGhhRmFjdG9yXT03NzM7ZnVuY3Rpb24gc2V0QmxlbmRpbmcoYmxlbmRpbmcsYmxlbmRFcXVhdGlvbixibGVuZFNyYyxibGVuZERzdCxibGVuZEVxdWF0aW9uQWxwaGEsYmxlbmRTcmNBbHBoYSxibGVuZERzdEFscGhhLHByZW11bHRpcGxpZWRBbHBoYSl7aWYoYmxlbmRpbmc9PT1Ob0JsZW5kaW5nKXtpZihjdXJyZW50QmxlbmRpbmdFbmFibGVkKXtkaXNhYmxlKDMwNDIpO2N1cnJlbnRCbGVuZGluZ0VuYWJsZWQ9ZmFsc2U7fXJldHVybjt9aWYoIWN1cnJlbnRCbGVuZGluZ0VuYWJsZWQpe2VuYWJsZSgzMDQyKTtjdXJyZW50QmxlbmRpbmdFbmFibGVkPXRydWU7fWlmKGJsZW5kaW5nIT09Q3VzdG9tQmxlbmRpbmcpe2lmKGJsZW5kaW5nIT09Y3VycmVudEJsZW5kaW5nfHxwcmVtdWx0aXBsaWVkQWxwaGEhPT1jdXJyZW50UHJlbXVsdGlwbGVkQWxwaGEpe2lmKGN1cnJlbnRCbGVuZEVxdWF0aW9uIT09QWRkRXF1YXRpb258fGN1cnJlbnRCbGVuZEVxdWF0aW9uQWxwaGEhPT1BZGRFcXVhdGlvbil7Z2wuYmxlbmRFcXVhdGlvbigzMjc3NCk7Y3VycmVudEJsZW5kRXF1YXRpb249QWRkRXF1YXRpb247Y3VycmVudEJsZW5kRXF1YXRpb25BbHBoYT1BZGRFcXVhdGlvbjt9aWYocHJlbXVsdGlwbGllZEFscGhhKXtzd2l0Y2goYmxlbmRpbmcpe2Nhc2UgTm9ybWFsQmxlbmRpbmc6Z2wuYmxlbmRGdW5jU2VwYXJhdGUoMSw3NzEsMSw3NzEpO2JyZWFrO2Nhc2UgQWRkaXRpdmVCbGVuZGluZzpnbC5ibGVuZEZ1bmMoMSwxKTticmVhaztjYXNlIFN1YnRyYWN0aXZlQmxlbmRpbmc6Z2wuYmxlbmRGdW5jU2VwYXJhdGUoMCwwLDc2OSw3NzEpO2JyZWFrO2Nhc2UgTXVsdGlwbHlCbGVuZGluZzpnbC5ibGVuZEZ1bmNTZXBhcmF0ZSgwLDc2OCwwLDc3MCk7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLmVycm9yKCdUSFJFRS5XZWJHTFN0YXRlOiBJbnZhbGlkIGJsZW5kaW5nOiAnLGJsZW5kaW5nKTticmVhazt9fWVsc2V7c3dpdGNoKGJsZW5kaW5nKXtjYXNlIE5vcm1hbEJsZW5kaW5nOmdsLmJsZW5kRnVuY1NlcGFyYXRlKDc3MCw3NzEsMSw3NzEpO2JyZWFrO2Nhc2UgQWRkaXRpdmVCbGVuZGluZzpnbC5ibGVuZEZ1bmMoNzcwLDEpO2JyZWFrO2Nhc2UgU3VidHJhY3RpdmVCbGVuZGluZzpnbC5ibGVuZEZ1bmMoMCw3NjkpO2JyZWFrO2Nhc2UgTXVsdGlwbHlCbGVuZGluZzpnbC5ibGVuZEZ1bmMoMCw3NjgpO2JyZWFrO2RlZmF1bHQ6Y29uc29sZS5lcnJvcignVEhSRUUuV2ViR0xTdGF0ZTogSW52YWxpZCBibGVuZGluZzogJyxibGVuZGluZyk7YnJlYWs7fX1jdXJyZW50QmxlbmRTcmM9bnVsbDtjdXJyZW50QmxlbmREc3Q9bnVsbDtjdXJyZW50QmxlbmRTcmNBbHBoYT1udWxsO2N1cnJlbnRCbGVuZERzdEFscGhhPW51bGw7Y3VycmVudEJsZW5kaW5nPWJsZW5kaW5nO2N1cnJlbnRQcmVtdWx0aXBsZWRBbHBoYT1wcmVtdWx0aXBsaWVkQWxwaGE7fXJldHVybjt9Ly8gY3VzdG9tIGJsZW5kaW5nCmJsZW5kRXF1YXRpb25BbHBoYT1ibGVuZEVxdWF0aW9uQWxwaGF8fGJsZW5kRXF1YXRpb247YmxlbmRTcmNBbHBoYT1ibGVuZFNyY0FscGhhfHxibGVuZFNyYztibGVuZERzdEFscGhhPWJsZW5kRHN0QWxwaGF8fGJsZW5kRHN0O2lmKGJsZW5kRXF1YXRpb24hPT1jdXJyZW50QmxlbmRFcXVhdGlvbnx8YmxlbmRFcXVhdGlvbkFscGhhIT09Y3VycmVudEJsZW5kRXF1YXRpb25BbHBoYSl7Z2wuYmxlbmRFcXVhdGlvblNlcGFyYXRlKGVxdWF0aW9uVG9HTFtibGVuZEVxdWF0aW9uXSxlcXVhdGlvblRvR0xbYmxlbmRFcXVhdGlvbkFscGhhXSk7Y3VycmVudEJsZW5kRXF1YXRpb249YmxlbmRFcXVhdGlvbjtjdXJyZW50QmxlbmRFcXVhdGlvbkFscGhhPWJsZW5kRXF1YXRpb25BbHBoYTt9aWYoYmxlbmRTcmMhPT1jdXJyZW50QmxlbmRTcmN8fGJsZW5kRHN0IT09Y3VycmVudEJsZW5kRHN0fHxibGVuZFNyY0FscGhhIT09Y3VycmVudEJsZW5kU3JjQWxwaGF8fGJsZW5kRHN0QWxwaGEhPT1jdXJyZW50QmxlbmREc3RBbHBoYSl7Z2wuYmxlbmRGdW5jU2VwYXJhdGUoZmFjdG9yVG9HTFtibGVuZFNyY10sZmFjdG9yVG9HTFtibGVuZERzdF0sZmFjdG9yVG9HTFtibGVuZFNyY0FscGhhXSxmYWN0b3JUb0dMW2JsZW5kRHN0QWxwaGFdKTtjdXJyZW50QmxlbmRTcmM9YmxlbmRTcmM7Y3VycmVudEJsZW5kRHN0PWJsZW5kRHN0O2N1cnJlbnRCbGVuZFNyY0FscGhhPWJsZW5kU3JjQWxwaGE7Y3VycmVudEJsZW5kRHN0QWxwaGE9YmxlbmREc3RBbHBoYTt9Y3VycmVudEJsZW5kaW5nPWJsZW5kaW5nO2N1cnJlbnRQcmVtdWx0aXBsZWRBbHBoYT1udWxsO31mdW5jdGlvbiBzZXRNYXRlcmlhbChtYXRlcmlhbCxmcm9udEZhY2VDVyl7bWF0ZXJpYWwuc2lkZT09PURvdWJsZVNpZGU/ZGlzYWJsZSgyODg0KTplbmFibGUoMjg4NCk7dmFyIGZsaXBTaWRlZD1tYXRlcmlhbC5zaWRlPT09QmFja1NpZGU7aWYoZnJvbnRGYWNlQ1cpe2ZsaXBTaWRlZD0hZmxpcFNpZGVkO31zZXRGbGlwU2lkZWQoZmxpcFNpZGVkKTttYXRlcmlhbC5ibGVuZGluZz09PU5vcm1hbEJsZW5kaW5nJiZtYXRlcmlhbC50cmFuc3BhcmVudD09PWZhbHNlP3NldEJsZW5kaW5nKE5vQmxlbmRpbmcpOnNldEJsZW5kaW5nKG1hdGVyaWFsLmJsZW5kaW5nLG1hdGVyaWFsLmJsZW5kRXF1YXRpb24sbWF0ZXJpYWwuYmxlbmRTcmMsbWF0ZXJpYWwuYmxlbmREc3QsbWF0ZXJpYWwuYmxlbmRFcXVhdGlvbkFscGhhLG1hdGVyaWFsLmJsZW5kU3JjQWxwaGEsbWF0ZXJpYWwuYmxlbmREc3RBbHBoYSxtYXRlcmlhbC5wcmVtdWx0aXBsaWVkQWxwaGEpO2RlcHRoQnVmZmVyLnNldEZ1bmMobWF0ZXJpYWwuZGVwdGhGdW5jKTtkZXB0aEJ1ZmZlci5zZXRUZXN0KG1hdGVyaWFsLmRlcHRoVGVzdCk7ZGVwdGhCdWZmZXIuc2V0TWFzayhtYXRlcmlhbC5kZXB0aFdyaXRlKTtjb2xvckJ1ZmZlci5zZXRNYXNrKG1hdGVyaWFsLmNvbG9yV3JpdGUpO3ZhciBzdGVuY2lsV3JpdGU9bWF0ZXJpYWwuc3RlbmNpbFdyaXRlO3N0ZW5jaWxCdWZmZXIuc2V0VGVzdChzdGVuY2lsV3JpdGUpO2lmKHN0ZW5jaWxXcml0ZSl7c3RlbmNpbEJ1ZmZlci5zZXRNYXNrKG1hdGVyaWFsLnN0ZW5jaWxXcml0ZU1hc2spO3N0ZW5jaWxCdWZmZXIuc2V0RnVuYyhtYXRlcmlhbC5zdGVuY2lsRnVuYyxtYXRlcmlhbC5zdGVuY2lsUmVmLG1hdGVyaWFsLnN0ZW5jaWxGdW5jTWFzayk7c3RlbmNpbEJ1ZmZlci5zZXRPcChtYXRlcmlhbC5zdGVuY2lsRmFpbCxtYXRlcmlhbC5zdGVuY2lsWkZhaWwsbWF0ZXJpYWwuc3RlbmNpbFpQYXNzKTt9c2V0UG9seWdvbk9mZnNldChtYXRlcmlhbC5wb2x5Z29uT2Zmc2V0LG1hdGVyaWFsLnBvbHlnb25PZmZzZXRGYWN0b3IsbWF0ZXJpYWwucG9seWdvbk9mZnNldFVuaXRzKTt9Ly8KZnVuY3Rpb24gc2V0RmxpcFNpZGVkKGZsaXBTaWRlZCl7aWYoY3VycmVudEZsaXBTaWRlZCE9PWZsaXBTaWRlZCl7aWYoZmxpcFNpZGVkKXtnbC5mcm9udEZhY2UoMjMwNCk7fWVsc2V7Z2wuZnJvbnRGYWNlKDIzMDUpO31jdXJyZW50RmxpcFNpZGVkPWZsaXBTaWRlZDt9fWZ1bmN0aW9uIHNldEN1bGxGYWNlKGN1bGxGYWNlKXtpZihjdWxsRmFjZSE9PUN1bGxGYWNlTm9uZSl7ZW5hYmxlKDI4ODQpO2lmKGN1bGxGYWNlIT09Y3VycmVudEN1bGxGYWNlKXtpZihjdWxsRmFjZT09PUN1bGxGYWNlQmFjayl7Z2wuY3VsbEZhY2UoMTAyOSk7fWVsc2UgaWYoY3VsbEZhY2U9PT1DdWxsRmFjZUZyb250KXtnbC5jdWxsRmFjZSgxMDI4KTt9ZWxzZXtnbC5jdWxsRmFjZSgxMDMyKTt9fX1lbHNle2Rpc2FibGUoMjg4NCk7fWN1cnJlbnRDdWxsRmFjZT1jdWxsRmFjZTt9ZnVuY3Rpb24gc2V0TGluZVdpZHRoKHdpZHRoKXtpZih3aWR0aCE9PWN1cnJlbnRMaW5lV2lkdGgpe2lmKGxpbmVXaWR0aEF2YWlsYWJsZSl7Z2wubGluZVdpZHRoKHdpZHRoKTt9Y3VycmVudExpbmVXaWR0aD13aWR0aDt9fWZ1bmN0aW9uIHNldFBvbHlnb25PZmZzZXQocG9seWdvbk9mZnNldCxmYWN0b3IsdW5pdHMpe2lmKHBvbHlnb25PZmZzZXQpe2VuYWJsZSgzMjgyMyk7aWYoY3VycmVudFBvbHlnb25PZmZzZXRGYWN0b3IhPT1mYWN0b3J8fGN1cnJlbnRQb2x5Z29uT2Zmc2V0VW5pdHMhPT11bml0cyl7Z2wucG9seWdvbk9mZnNldChmYWN0b3IsdW5pdHMpO2N1cnJlbnRQb2x5Z29uT2Zmc2V0RmFjdG9yPWZhY3RvcjtjdXJyZW50UG9seWdvbk9mZnNldFVuaXRzPXVuaXRzO319ZWxzZXtkaXNhYmxlKDMyODIzKTt9fWZ1bmN0aW9uIHNldFNjaXNzb3JUZXN0KHNjaXNzb3JUZXN0KXtpZihzY2lzc29yVGVzdCl7ZW5hYmxlKDMwODkpO31lbHNle2Rpc2FibGUoMzA4OSk7fX0vLyB0ZXh0dXJlCmZ1bmN0aW9uIGFjdGl2ZVRleHR1cmUod2ViZ2xTbG90KXtpZih3ZWJnbFNsb3Q9PT11bmRlZmluZWQpe3dlYmdsU2xvdD0zMzk4NCttYXhUZXh0dXJlcy0xO31pZihjdXJyZW50VGV4dHVyZVNsb3QhPT13ZWJnbFNsb3Qpe2dsLmFjdGl2ZVRleHR1cmUod2ViZ2xTbG90KTtjdXJyZW50VGV4dHVyZVNsb3Q9d2ViZ2xTbG90O319ZnVuY3Rpb24gYmluZFRleHR1cmUod2ViZ2xUeXBlLHdlYmdsVGV4dHVyZSl7aWYoY3VycmVudFRleHR1cmVTbG90PT09bnVsbCl7YWN0aXZlVGV4dHVyZSgpO312YXIgYm91bmRUZXh0dXJlPWN1cnJlbnRCb3VuZFRleHR1cmVzW2N1cnJlbnRUZXh0dXJlU2xvdF07aWYoYm91bmRUZXh0dXJlPT09dW5kZWZpbmVkKXtib3VuZFRleHR1cmU9e3R5cGU6dW5kZWZpbmVkLHRleHR1cmU6dW5kZWZpbmVkfTtjdXJyZW50Qm91bmRUZXh0dXJlc1tjdXJyZW50VGV4dHVyZVNsb3RdPWJvdW5kVGV4dHVyZTt9aWYoYm91bmRUZXh0dXJlLnR5cGUhPT13ZWJnbFR5cGV8fGJvdW5kVGV4dHVyZS50ZXh0dXJlIT09d2ViZ2xUZXh0dXJlKXtnbC5iaW5kVGV4dHVyZSh3ZWJnbFR5cGUsd2ViZ2xUZXh0dXJlfHxlbXB0eVRleHR1cmVzW3dlYmdsVHlwZV0pO2JvdW5kVGV4dHVyZS50eXBlPXdlYmdsVHlwZTtib3VuZFRleHR1cmUudGV4dHVyZT13ZWJnbFRleHR1cmU7fX1mdW5jdGlvbiB1bmJpbmRUZXh0dXJlKCl7dmFyIGJvdW5kVGV4dHVyZT1jdXJyZW50Qm91bmRUZXh0dXJlc1tjdXJyZW50VGV4dHVyZVNsb3RdO2lmKGJvdW5kVGV4dHVyZSE9PXVuZGVmaW5lZCYmYm91bmRUZXh0dXJlLnR5cGUhPT11bmRlZmluZWQpe2dsLmJpbmRUZXh0dXJlKGJvdW5kVGV4dHVyZS50eXBlLG51bGwpO2JvdW5kVGV4dHVyZS50eXBlPXVuZGVmaW5lZDtib3VuZFRleHR1cmUudGV4dHVyZT11bmRlZmluZWQ7fX1mdW5jdGlvbiBjb21wcmVzc2VkVGV4SW1hZ2UyRCgpe3RyeXtnbC5jb21wcmVzc2VkVGV4SW1hZ2UyRC5hcHBseShnbCxhcmd1bWVudHMpO31jYXRjaChlcnJvcil7Y29uc29sZS5lcnJvcignVEhSRUUuV2ViR0xTdGF0ZTonLGVycm9yKTt9fWZ1bmN0aW9uIHRleEltYWdlMkQoKXt0cnl7Z2wudGV4SW1hZ2UyRC5hcHBseShnbCxhcmd1bWVudHMpO31jYXRjaChlcnJvcil7Y29uc29sZS5lcnJvcignVEhSRUUuV2ViR0xTdGF0ZTonLGVycm9yKTt9fWZ1bmN0aW9uIHRleEltYWdlM0QoKXt0cnl7Z2wudGV4SW1hZ2UzRC5hcHBseShnbCxhcmd1bWVudHMpO31jYXRjaChlcnJvcil7Y29uc29sZS5lcnJvcignVEhSRUUuV2ViR0xTdGF0ZTonLGVycm9yKTt9fS8vCmZ1bmN0aW9uIHNjaXNzb3Ioc2Npc3Nvcil7aWYoY3VycmVudFNjaXNzb3IuZXF1YWxzKHNjaXNzb3IpPT09ZmFsc2Upe2dsLnNjaXNzb3Ioc2Npc3Nvci54LHNjaXNzb3IueSxzY2lzc29yLnosc2Npc3Nvci53KTtjdXJyZW50U2Npc3Nvci5jb3B5KHNjaXNzb3IpO319ZnVuY3Rpb24gdmlld3BvcnQodmlld3BvcnQpe2lmKGN1cnJlbnRWaWV3cG9ydC5lcXVhbHModmlld3BvcnQpPT09ZmFsc2Upe2dsLnZpZXdwb3J0KHZpZXdwb3J0Lngsdmlld3BvcnQueSx2aWV3cG9ydC56LHZpZXdwb3J0LncpO2N1cnJlbnRWaWV3cG9ydC5jb3B5KHZpZXdwb3J0KTt9fS8vCmZ1bmN0aW9uIHJlc2V0KCl7Zm9yKHZhciBpPTA7aTxlbmFibGVkQXR0cmlidXRlcy5sZW5ndGg7aSsrKXtpZihlbmFibGVkQXR0cmlidXRlc1tpXT09PTEpe2dsLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheShpKTtlbmFibGVkQXR0cmlidXRlc1tpXT0wO319ZW5hYmxlZENhcGFiaWxpdGllcz17fTtjdXJyZW50VGV4dHVyZVNsb3Q9bnVsbDtjdXJyZW50Qm91bmRUZXh0dXJlcz17fTtjdXJyZW50UHJvZ3JhbT1udWxsO2N1cnJlbnRCbGVuZGluZz1udWxsO2N1cnJlbnRGbGlwU2lkZWQ9bnVsbDtjdXJyZW50Q3VsbEZhY2U9bnVsbDtjb2xvckJ1ZmZlci5yZXNldCgpO2RlcHRoQnVmZmVyLnJlc2V0KCk7c3RlbmNpbEJ1ZmZlci5yZXNldCgpO31yZXR1cm57YnVmZmVyczp7Y29sb3I6Y29sb3JCdWZmZXIsZGVwdGg6ZGVwdGhCdWZmZXIsc3RlbmNpbDpzdGVuY2lsQnVmZmVyfSxpbml0QXR0cmlidXRlczppbml0QXR0cmlidXRlcyxlbmFibGVBdHRyaWJ1dGU6ZW5hYmxlQXR0cmlidXRlLGVuYWJsZUF0dHJpYnV0ZUFuZERpdmlzb3I6ZW5hYmxlQXR0cmlidXRlQW5kRGl2aXNvcixkaXNhYmxlVW51c2VkQXR0cmlidXRlczpkaXNhYmxlVW51c2VkQXR0cmlidXRlcyxlbmFibGU6ZW5hYmxlLGRpc2FibGU6ZGlzYWJsZSx1c2VQcm9ncmFtOnVzZVByb2dyYW0sc2V0QmxlbmRpbmc6c2V0QmxlbmRpbmcsc2V0TWF0ZXJpYWw6c2V0TWF0ZXJpYWwsc2V0RmxpcFNpZGVkOnNldEZsaXBTaWRlZCxzZXRDdWxsRmFjZTpzZXRDdWxsRmFjZSxzZXRMaW5lV2lkdGg6c2V0TGluZVdpZHRoLHNldFBvbHlnb25PZmZzZXQ6c2V0UG9seWdvbk9mZnNldCxzZXRTY2lzc29yVGVzdDpzZXRTY2lzc29yVGVzdCxhY3RpdmVUZXh0dXJlOmFjdGl2ZVRleHR1cmUsYmluZFRleHR1cmU6YmluZFRleHR1cmUsdW5iaW5kVGV4dHVyZTp1bmJpbmRUZXh0dXJlLGNvbXByZXNzZWRUZXhJbWFnZTJEOmNvbXByZXNzZWRUZXhJbWFnZTJELHRleEltYWdlMkQ6dGV4SW1hZ2UyRCx0ZXhJbWFnZTNEOnRleEltYWdlM0Qsc2Npc3NvcjpzY2lzc29yLHZpZXdwb3J0OnZpZXdwb3J0LHJlc2V0OnJlc2V0fTt9LyoqCiAgICogQGF1dGhvciBtcmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS8KICAgKi9mdW5jdGlvbiBXZWJHTFRleHR1cmVzKF9nbCxleHRlbnNpb25zLHN0YXRlLHByb3BlcnRpZXMsY2FwYWJpbGl0aWVzLHV0aWxzLGluZm8pe3ZhciBpc1dlYkdMMj1jYXBhYmlsaXRpZXMuaXNXZWJHTDI7dmFyIG1heFRleHR1cmVzPWNhcGFiaWxpdGllcy5tYXhUZXh0dXJlczt2YXIgbWF4Q3ViZW1hcFNpemU9Y2FwYWJpbGl0aWVzLm1heEN1YmVtYXBTaXplO3ZhciBtYXhUZXh0dXJlU2l6ZT1jYXBhYmlsaXRpZXMubWF4VGV4dHVyZVNpemU7dmFyIG1heFNhbXBsZXM9Y2FwYWJpbGl0aWVzLm1heFNhbXBsZXM7dmFyIF92aWRlb1RleHR1cmVzPW5ldyBXZWFrTWFwKCk7dmFyIF9jYW52YXM7Ly8gY29yZG92YSBpT1MgKGFzIG9mIDUuMCkgc3RpbGwgdXNlcyBVSVdlYlZpZXcsIHdoaWNoIHByb3ZpZGVzIE9mZnNjcmVlbkNhbnZhcywKLy8gYWxzbyBPZmZzY3JlZW5DYW52YXMuZ2V0Q29udGV4dCgid2ViZ2wiKSwgYnV0IG5vdCBPZmZzY3JlZW5DYW52YXMuZ2V0Q29udGV4dCgiMmQiKSEKLy8gU29tZSBpbXBsZW1lbnRhdGlvbnMgbWF5IG9ubHkgaW1wbGVtZW50IE9mZnNjcmVlbkNhbnZhcyBwYXJ0aWFsbHkgKGUuZy4gbGFja2luZyAyZCkuCnZhciB1c2VPZmZzY3JlZW5DYW52YXM9ZmFsc2U7dHJ5e3VzZU9mZnNjcmVlbkNhbnZhcz10eXBlb2YgT2Zmc2NyZWVuQ2FudmFzIT09J3VuZGVmaW5lZCcmJm5ldyBPZmZzY3JlZW5DYW52YXMoMSwxKS5nZXRDb250ZXh0KCIyZCIpIT09bnVsbDt9Y2F0Y2goZXJyKXsvLyBJZ25vcmUgYW55IGVycm9ycwp9ZnVuY3Rpb24gY3JlYXRlQ2FudmFzKHdpZHRoLGhlaWdodCl7Ly8gVXNlIE9mZnNjcmVlbkNhbnZhcyB3aGVuIGF2YWlsYWJsZS4gU3BlY2lhbGx5IG5lZWRlZCBpbiB3ZWIgd29ya2VycwpyZXR1cm4gdXNlT2Zmc2NyZWVuQ2FudmFzP25ldyBPZmZzY3JlZW5DYW52YXMod2lkdGgsaGVpZ2h0KTpkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwnLCdjYW52YXMnKTt9ZnVuY3Rpb24gcmVzaXplSW1hZ2UoaW1hZ2UsbmVlZHNQb3dlck9mVHdvLG5lZWRzTmV3Q2FudmFzLG1heFNpemUpe3ZhciBzY2FsZT0xOy8vIGhhbmRsZSBjYXNlIGlmIHRleHR1cmUgZXhjZWVkcyBtYXggc2l6ZQppZihpbWFnZS53aWR0aD5tYXhTaXplfHxpbWFnZS5oZWlnaHQ+bWF4U2l6ZSl7c2NhbGU9bWF4U2l6ZS9NYXRoLm1heChpbWFnZS53aWR0aCxpbWFnZS5oZWlnaHQpO30vLyBvbmx5IHBlcmZvcm0gcmVzaXplIGlmIG5lY2Vzc2FyeQppZihzY2FsZTwxfHxuZWVkc1Bvd2VyT2ZUd289PT10cnVlKXsvLyBvbmx5IHBlcmZvcm0gcmVzaXplIGZvciBjZXJ0YWluIGltYWdlIHR5cGVzCmlmKHR5cGVvZiBIVE1MSW1hZ2VFbGVtZW50IT09J3VuZGVmaW5lZCcmJmltYWdlIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudHx8dHlwZW9mIEhUTUxDYW52YXNFbGVtZW50IT09J3VuZGVmaW5lZCcmJmltYWdlIGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnR8fHR5cGVvZiBJbWFnZUJpdG1hcCE9PSd1bmRlZmluZWQnJiZpbWFnZSBpbnN0YW5jZW9mIEltYWdlQml0bWFwKXt2YXIgZmxvb3I9bmVlZHNQb3dlck9mVHdvP19NYXRoLmZsb29yUG93ZXJPZlR3bzpNYXRoLmZsb29yO3ZhciB3aWR0aD1mbG9vcihzY2FsZSppbWFnZS53aWR0aCk7dmFyIGhlaWdodD1mbG9vcihzY2FsZSppbWFnZS5oZWlnaHQpO2lmKF9jYW52YXM9PT11bmRlZmluZWQpe19jYW52YXM9Y3JlYXRlQ2FudmFzKHdpZHRoLGhlaWdodCk7fS8vIGN1YmUgdGV4dHVyZXMgY2FuJ3QgcmV1c2UgdGhlIHNhbWUgY2FudmFzCnZhciBjYW52YXM9bmVlZHNOZXdDYW52YXM/Y3JlYXRlQ2FudmFzKHdpZHRoLGhlaWdodCk6X2NhbnZhcztjYW52YXMud2lkdGg9d2lkdGg7Y2FudmFzLmhlaWdodD1oZWlnaHQ7dmFyIGNvbnRleHQ9Y2FudmFzLmdldENvbnRleHQoJzJkJyk7Y29udGV4dC5kcmF3SW1hZ2UoaW1hZ2UsMCwwLHdpZHRoLGhlaWdodCk7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlcmVyOiBUZXh0dXJlIGhhcyBiZWVuIHJlc2l6ZWQgZnJvbSAoJytpbWFnZS53aWR0aCsneCcraW1hZ2UuaGVpZ2h0KycpIHRvICgnK3dpZHRoKyd4JytoZWlnaHQrJykuJyk7cmV0dXJuIGNhbnZhczt9ZWxzZXtpZignZGF0YSdpbiBpbWFnZSl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlcmVyOiBJbWFnZSBpbiBEYXRhVGV4dHVyZSBpcyB0b28gYmlnICgnK2ltYWdlLndpZHRoKyd4JytpbWFnZS5oZWlnaHQrJykuJyk7fXJldHVybiBpbWFnZTt9fXJldHVybiBpbWFnZTt9ZnVuY3Rpb24gaXNQb3dlck9mVHdvKGltYWdlKXtyZXR1cm4gX01hdGguaXNQb3dlck9mVHdvKGltYWdlLndpZHRoKSYmX01hdGguaXNQb3dlck9mVHdvKGltYWdlLmhlaWdodCk7fWZ1bmN0aW9uIHRleHR1cmVOZWVkc1Bvd2VyT2ZUd28odGV4dHVyZSl7aWYoaXNXZWJHTDIpe3JldHVybiBmYWxzZTt9cmV0dXJuIHRleHR1cmUud3JhcFMhPT1DbGFtcFRvRWRnZVdyYXBwaW5nfHx0ZXh0dXJlLndyYXBUIT09Q2xhbXBUb0VkZ2VXcmFwcGluZ3x8dGV4dHVyZS5taW5GaWx0ZXIhPT1OZWFyZXN0RmlsdGVyJiZ0ZXh0dXJlLm1pbkZpbHRlciE9PUxpbmVhckZpbHRlcjt9ZnVuY3Rpb24gdGV4dHVyZU5lZWRzR2VuZXJhdGVNaXBtYXBzKHRleHR1cmUsc3VwcG9ydHNNaXBzKXtyZXR1cm4gdGV4dHVyZS5nZW5lcmF0ZU1pcG1hcHMmJnN1cHBvcnRzTWlwcyYmdGV4dHVyZS5taW5GaWx0ZXIhPT1OZWFyZXN0RmlsdGVyJiZ0ZXh0dXJlLm1pbkZpbHRlciE9PUxpbmVhckZpbHRlcjt9ZnVuY3Rpb24gZ2VuZXJhdGVNaXBtYXAodGFyZ2V0LHRleHR1cmUsd2lkdGgsaGVpZ2h0KXtfZ2wuZ2VuZXJhdGVNaXBtYXAodGFyZ2V0KTt2YXIgdGV4dHVyZVByb3BlcnRpZXM9cHJvcGVydGllcy5nZXQodGV4dHVyZSk7Ly8gTm90ZTogTWF0aC5sb2coIHggKSAqIE1hdGguTE9HMkUgdXNlZCBpbnN0ZWFkIG9mIE1hdGgubG9nMiggeCApIHdoaWNoIGlzIG5vdCBzdXBwb3J0ZWQgYnkgSUUxMQp0ZXh0dXJlUHJvcGVydGllcy5fX21heE1pcExldmVsPU1hdGgubG9nKE1hdGgubWF4KHdpZHRoLGhlaWdodCkpKk1hdGguTE9HMkU7fWZ1bmN0aW9uIGdldEludGVybmFsRm9ybWF0KGludGVybmFsRm9ybWF0TmFtZSxnbEZvcm1hdCxnbFR5cGUpe2lmKGlzV2ViR0wyPT09ZmFsc2Upe3JldHVybiBnbEZvcm1hdDt9aWYoaW50ZXJuYWxGb3JtYXROYW1lIT09bnVsbCl7aWYoX2dsW2ludGVybmFsRm9ybWF0TmFtZV0hPT11bmRlZmluZWQpe3JldHVybiBfZ2xbaW50ZXJuYWxGb3JtYXROYW1lXTt9Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlcmVyOiBBdHRlbXB0IHRvIHVzZSBub24tZXhpc3RpbmcgV2ViR0wgaW50ZXJuYWwgZm9ybWF0IFwnJytpbnRlcm5hbEZvcm1hdE5hbWUrJ1wnJyk7fXZhciBpbnRlcm5hbEZvcm1hdD1nbEZvcm1hdDtpZihnbEZvcm1hdD09PTY0MDMpe2lmKGdsVHlwZT09PTUxMjYpe2ludGVybmFsRm9ybWF0PTMzMzI2O31pZihnbFR5cGU9PT01MTMxKXtpbnRlcm5hbEZvcm1hdD0zMzMyNTt9aWYoZ2xUeXBlPT09NTEyMSl7aW50ZXJuYWxGb3JtYXQ9MzMzMjE7fX1pZihnbEZvcm1hdD09PTY0MDcpe2lmKGdsVHlwZT09PTUxMjYpe2ludGVybmFsRm9ybWF0PTM0ODM3O31pZihnbFR5cGU9PT01MTMxKXtpbnRlcm5hbEZvcm1hdD0zNDg0Mzt9aWYoZ2xUeXBlPT09NTEyMSl7aW50ZXJuYWxGb3JtYXQ9MzI4NDk7fX1pZihnbEZvcm1hdD09PTY0MDgpe2lmKGdsVHlwZT09PTUxMjYpe2ludGVybmFsRm9ybWF0PTM0ODM2O31pZihnbFR5cGU9PT01MTMxKXtpbnRlcm5hbEZvcm1hdD0zNDg0Mjt9aWYoZ2xUeXBlPT09NTEyMSl7aW50ZXJuYWxGb3JtYXQ9MzI4NTY7fX1pZihpbnRlcm5hbEZvcm1hdD09PTMzMzI1fHxpbnRlcm5hbEZvcm1hdD09PTMzMzI2fHxpbnRlcm5hbEZvcm1hdD09PTM0ODQyfHxpbnRlcm5hbEZvcm1hdD09PTM0ODM2KXtleHRlbnNpb25zLmdldCgnRVhUX2NvbG9yX2J1ZmZlcl9mbG9hdCcpO31lbHNlIGlmKGludGVybmFsRm9ybWF0PT09MzQ4NDN8fGludGVybmFsRm9ybWF0PT09MzQ4Mzcpe2NvbnNvbGUud2FybignVEhSRUUuV2ViR0xSZW5kZXJlcjogRmxvYXRpbmcgcG9pbnQgdGV4dHVyZXMgd2l0aCBSR0IgZm9ybWF0IG5vdCBzdXBwb3J0ZWQuIFBsZWFzZSB1c2UgUkdCQSBpbnN0ZWFkLicpO31yZXR1cm4gaW50ZXJuYWxGb3JtYXQ7fS8vIEZhbGxiYWNrIGZpbHRlcnMgZm9yIG5vbi1wb3dlci1vZi0yIHRleHR1cmVzCmZ1bmN0aW9uIGZpbHRlckZhbGxiYWNrKGYpe2lmKGY9PT1OZWFyZXN0RmlsdGVyfHxmPT09TmVhcmVzdE1pcG1hcE5lYXJlc3RGaWx0ZXJ8fGY9PT1OZWFyZXN0TWlwbWFwTGluZWFyRmlsdGVyKXtyZXR1cm4gOTcyODt9cmV0dXJuIDk3Mjk7fS8vCmZ1bmN0aW9uIG9uVGV4dHVyZURpc3Bvc2UoZXZlbnQpe3ZhciB0ZXh0dXJlPWV2ZW50LnRhcmdldDt0ZXh0dXJlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Rpc3Bvc2UnLG9uVGV4dHVyZURpc3Bvc2UpO2RlYWxsb2NhdGVUZXh0dXJlKHRleHR1cmUpO2lmKHRleHR1cmUuaXNWaWRlb1RleHR1cmUpe192aWRlb1RleHR1cmVzLmRlbGV0ZSh0ZXh0dXJlKTt9aW5mby5tZW1vcnkudGV4dHVyZXMtLTt9ZnVuY3Rpb24gb25SZW5kZXJUYXJnZXREaXNwb3NlKGV2ZW50KXt2YXIgcmVuZGVyVGFyZ2V0PWV2ZW50LnRhcmdldDtyZW5kZXJUYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZGlzcG9zZScsb25SZW5kZXJUYXJnZXREaXNwb3NlKTtkZWFsbG9jYXRlUmVuZGVyVGFyZ2V0KHJlbmRlclRhcmdldCk7aW5mby5tZW1vcnkudGV4dHVyZXMtLTt9Ly8KZnVuY3Rpb24gZGVhbGxvY2F0ZVRleHR1cmUodGV4dHVyZSl7dmFyIHRleHR1cmVQcm9wZXJ0aWVzPXByb3BlcnRpZXMuZ2V0KHRleHR1cmUpO2lmKHRleHR1cmVQcm9wZXJ0aWVzLl9fd2ViZ2xJbml0PT09dW5kZWZpbmVkKXtyZXR1cm47fV9nbC5kZWxldGVUZXh0dXJlKHRleHR1cmVQcm9wZXJ0aWVzLl9fd2ViZ2xUZXh0dXJlKTtwcm9wZXJ0aWVzLnJlbW92ZSh0ZXh0dXJlKTt9ZnVuY3Rpb24gZGVhbGxvY2F0ZVJlbmRlclRhcmdldChyZW5kZXJUYXJnZXQpe3ZhciByZW5kZXJUYXJnZXRQcm9wZXJ0aWVzPXByb3BlcnRpZXMuZ2V0KHJlbmRlclRhcmdldCk7dmFyIHRleHR1cmVQcm9wZXJ0aWVzPXByb3BlcnRpZXMuZ2V0KHJlbmRlclRhcmdldC50ZXh0dXJlKTtpZighcmVuZGVyVGFyZ2V0KXtyZXR1cm47fWlmKHRleHR1cmVQcm9wZXJ0aWVzLl9fd2ViZ2xUZXh0dXJlIT09dW5kZWZpbmVkKXtfZ2wuZGVsZXRlVGV4dHVyZSh0ZXh0dXJlUHJvcGVydGllcy5fX3dlYmdsVGV4dHVyZSk7fWlmKHJlbmRlclRhcmdldC5kZXB0aFRleHR1cmUpe3JlbmRlclRhcmdldC5kZXB0aFRleHR1cmUuZGlzcG9zZSgpO31pZihyZW5kZXJUYXJnZXQuaXNXZWJHTFJlbmRlclRhcmdldEN1YmUpe2Zvcih2YXIgaT0wO2k8NjtpKyspe19nbC5kZWxldGVGcmFtZWJ1ZmZlcihyZW5kZXJUYXJnZXRQcm9wZXJ0aWVzLl9fd2ViZ2xGcmFtZWJ1ZmZlcltpXSk7aWYocmVuZGVyVGFyZ2V0UHJvcGVydGllcy5fX3dlYmdsRGVwdGhidWZmZXIpe19nbC5kZWxldGVSZW5kZXJidWZmZXIocmVuZGVyVGFyZ2V0UHJvcGVydGllcy5fX3dlYmdsRGVwdGhidWZmZXJbaV0pO319fWVsc2V7X2dsLmRlbGV0ZUZyYW1lYnVmZmVyKHJlbmRlclRhcmdldFByb3BlcnRpZXMuX193ZWJnbEZyYW1lYnVmZmVyKTtpZihyZW5kZXJUYXJnZXRQcm9wZXJ0aWVzLl9fd2ViZ2xEZXB0aGJ1ZmZlcil7X2dsLmRlbGV0ZVJlbmRlcmJ1ZmZlcihyZW5kZXJUYXJnZXRQcm9wZXJ0aWVzLl9fd2ViZ2xEZXB0aGJ1ZmZlcik7fX1pZihyZW5kZXJUYXJnZXQuaXNXZWJHTE11bHRpdmlld1JlbmRlclRhcmdldCl7X2dsLmRlbGV0ZVRleHR1cmUocmVuZGVyVGFyZ2V0UHJvcGVydGllcy5fX3dlYmdsQ29sb3JUZXh0dXJlKTtfZ2wuZGVsZXRlVGV4dHVyZShyZW5kZXJUYXJnZXRQcm9wZXJ0aWVzLl9fd2ViZ2xEZXB0aFN0ZW5jaWxUZXh0dXJlKTtpbmZvLm1lbW9yeS50ZXh0dXJlcy09Mjtmb3IodmFyIGk9MCxpbD1yZW5kZXJUYXJnZXRQcm9wZXJ0aWVzLl9fd2ViZ2xWaWV3RnJhbWVidWZmZXJzLmxlbmd0aDtpPGlsO2krKyl7X2dsLmRlbGV0ZUZyYW1lYnVmZmVyKHJlbmRlclRhcmdldFByb3BlcnRpZXMuX193ZWJnbFZpZXdGcmFtZWJ1ZmZlcnNbaV0pO319cHJvcGVydGllcy5yZW1vdmUocmVuZGVyVGFyZ2V0LnRleHR1cmUpO3Byb3BlcnRpZXMucmVtb3ZlKHJlbmRlclRhcmdldCk7fS8vCnZhciB0ZXh0dXJlVW5pdHM9MDtmdW5jdGlvbiByZXNldFRleHR1cmVVbml0cygpe3RleHR1cmVVbml0cz0wO31mdW5jdGlvbiBhbGxvY2F0ZVRleHR1cmVVbml0KCl7dmFyIHRleHR1cmVVbml0PXRleHR1cmVVbml0cztpZih0ZXh0dXJlVW5pdD49bWF4VGV4dHVyZXMpe2NvbnNvbGUud2FybignVEhSRUUuV2ViR0xUZXh0dXJlczogVHJ5aW5nIHRvIHVzZSAnK3RleHR1cmVVbml0KycgdGV4dHVyZSB1bml0cyB3aGlsZSB0aGlzIEdQVSBzdXBwb3J0cyBvbmx5ICcrbWF4VGV4dHVyZXMpO310ZXh0dXJlVW5pdHMrPTE7cmV0dXJuIHRleHR1cmVVbml0O30vLwpmdW5jdGlvbiBzZXRUZXh0dXJlMkQodGV4dHVyZSxzbG90KXt2YXIgdGV4dHVyZVByb3BlcnRpZXM9cHJvcGVydGllcy5nZXQodGV4dHVyZSk7aWYodGV4dHVyZS5pc1ZpZGVvVGV4dHVyZSl7dXBkYXRlVmlkZW9UZXh0dXJlKHRleHR1cmUpO31pZih0ZXh0dXJlLnZlcnNpb24+MCYmdGV4dHVyZVByb3BlcnRpZXMuX192ZXJzaW9uIT09dGV4dHVyZS52ZXJzaW9uKXt2YXIgaW1hZ2U9dGV4dHVyZS5pbWFnZTtpZihpbWFnZT09PXVuZGVmaW5lZCl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlcmVyOiBUZXh0dXJlIG1hcmtlZCBmb3IgdXBkYXRlIGJ1dCBpbWFnZSBpcyB1bmRlZmluZWQnKTt9ZWxzZSBpZihpbWFnZS5jb21wbGV0ZT09PWZhbHNlKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyZXI6IFRleHR1cmUgbWFya2VkIGZvciB1cGRhdGUgYnV0IGltYWdlIGlzIGluY29tcGxldGUnKTt9ZWxzZXt1cGxvYWRUZXh0dXJlKHRleHR1cmVQcm9wZXJ0aWVzLHRleHR1cmUsc2xvdCk7cmV0dXJuO319c3RhdGUuYWN0aXZlVGV4dHVyZSgzMzk4NCtzbG90KTtzdGF0ZS5iaW5kVGV4dHVyZSgzNTUzLHRleHR1cmVQcm9wZXJ0aWVzLl9fd2ViZ2xUZXh0dXJlKTt9ZnVuY3Rpb24gc2V0VGV4dHVyZTJEQXJyYXkodGV4dHVyZSxzbG90KXt2YXIgdGV4dHVyZVByb3BlcnRpZXM9cHJvcGVydGllcy5nZXQodGV4dHVyZSk7aWYodGV4dHVyZS52ZXJzaW9uPjAmJnRleHR1cmVQcm9wZXJ0aWVzLl9fdmVyc2lvbiE9PXRleHR1cmUudmVyc2lvbil7dXBsb2FkVGV4dHVyZSh0ZXh0dXJlUHJvcGVydGllcyx0ZXh0dXJlLHNsb3QpO3JldHVybjt9c3RhdGUuYWN0aXZlVGV4dHVyZSgzMzk4NCtzbG90KTtzdGF0ZS5iaW5kVGV4dHVyZSgzNTg2Nix0ZXh0dXJlUHJvcGVydGllcy5fX3dlYmdsVGV4dHVyZSk7fWZ1bmN0aW9uIHNldFRleHR1cmUzRCh0ZXh0dXJlLHNsb3Qpe3ZhciB0ZXh0dXJlUHJvcGVydGllcz1wcm9wZXJ0aWVzLmdldCh0ZXh0dXJlKTtpZih0ZXh0dXJlLnZlcnNpb24+MCYmdGV4dHVyZVByb3BlcnRpZXMuX192ZXJzaW9uIT09dGV4dHVyZS52ZXJzaW9uKXt1cGxvYWRUZXh0dXJlKHRleHR1cmVQcm9wZXJ0aWVzLHRleHR1cmUsc2xvdCk7cmV0dXJuO31zdGF0ZS5hY3RpdmVUZXh0dXJlKDMzOTg0K3Nsb3QpO3N0YXRlLmJpbmRUZXh0dXJlKDMyODc5LHRleHR1cmVQcm9wZXJ0aWVzLl9fd2ViZ2xUZXh0dXJlKTt9ZnVuY3Rpb24gc2V0VGV4dHVyZUN1YmUodGV4dHVyZSxzbG90KXtpZih0ZXh0dXJlLmltYWdlLmxlbmd0aCE9PTYpe3JldHVybjt9dmFyIHRleHR1cmVQcm9wZXJ0aWVzPXByb3BlcnRpZXMuZ2V0KHRleHR1cmUpO2lmKHRleHR1cmUudmVyc2lvbj4wJiZ0ZXh0dXJlUHJvcGVydGllcy5fX3ZlcnNpb24hPT10ZXh0dXJlLnZlcnNpb24pe2luaXRUZXh0dXJlKHRleHR1cmVQcm9wZXJ0aWVzLHRleHR1cmUpO3N0YXRlLmFjdGl2ZVRleHR1cmUoMzM5ODQrc2xvdCk7c3RhdGUuYmluZFRleHR1cmUoMzQwNjcsdGV4dHVyZVByb3BlcnRpZXMuX193ZWJnbFRleHR1cmUpO19nbC5waXhlbFN0b3JlaSgzNzQ0MCx0ZXh0dXJlLmZsaXBZKTt2YXIgaXNDb21wcmVzc2VkPXRleHR1cmUmJnRleHR1cmUuaXNDb21wcmVzc2VkVGV4dHVyZTt2YXIgaXNEYXRhVGV4dHVyZT10ZXh0dXJlLmltYWdlWzBdJiZ0ZXh0dXJlLmltYWdlWzBdLmlzRGF0YVRleHR1cmU7dmFyIGN1YmVJbWFnZT1bXTtmb3IodmFyIGk9MDtpPDY7aSsrKXtpZighaXNDb21wcmVzc2VkJiYhaXNEYXRhVGV4dHVyZSl7Y3ViZUltYWdlW2ldPXJlc2l6ZUltYWdlKHRleHR1cmUuaW1hZ2VbaV0sZmFsc2UsdHJ1ZSxtYXhDdWJlbWFwU2l6ZSk7fWVsc2V7Y3ViZUltYWdlW2ldPWlzRGF0YVRleHR1cmU/dGV4dHVyZS5pbWFnZVtpXS5pbWFnZTp0ZXh0dXJlLmltYWdlW2ldO319dmFyIGltYWdlPWN1YmVJbWFnZVswXSxzdXBwb3J0c01pcHM9aXNQb3dlck9mVHdvKGltYWdlKXx8aXNXZWJHTDIsZ2xGb3JtYXQ9dXRpbHMuY29udmVydCh0ZXh0dXJlLmZvcm1hdCksZ2xUeXBlPXV0aWxzLmNvbnZlcnQodGV4dHVyZS50eXBlKSxnbEludGVybmFsRm9ybWF0PWdldEludGVybmFsRm9ybWF0KHRleHR1cmUuaW50ZXJuYWxGb3JtYXQsZ2xGb3JtYXQsZ2xUeXBlKTtzZXRUZXh0dXJlUGFyYW1ldGVycygzNDA2Nyx0ZXh0dXJlLHN1cHBvcnRzTWlwcyk7dmFyIG1pcG1hcHM7aWYoaXNDb21wcmVzc2VkKXtmb3IodmFyIGk9MDtpPDY7aSsrKXttaXBtYXBzPWN1YmVJbWFnZVtpXS5taXBtYXBzO2Zvcih2YXIgaj0wO2o8bWlwbWFwcy5sZW5ndGg7aisrKXt2YXIgbWlwbWFwPW1pcG1hcHNbal07aWYodGV4dHVyZS5mb3JtYXQhPT1SR0JBRm9ybWF0JiZ0ZXh0dXJlLmZvcm1hdCE9PVJHQkZvcm1hdCl7aWYoZ2xGb3JtYXQhPT1udWxsKXtzdGF0ZS5jb21wcmVzc2VkVGV4SW1hZ2UyRCgzNDA2OStpLGosZ2xJbnRlcm5hbEZvcm1hdCxtaXBtYXAud2lkdGgsbWlwbWFwLmhlaWdodCwwLG1pcG1hcC5kYXRhKTt9ZWxzZXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyZXI6IEF0dGVtcHQgdG8gbG9hZCB1bnN1cHBvcnRlZCBjb21wcmVzc2VkIHRleHR1cmUgZm9ybWF0IGluIC5zZXRUZXh0dXJlQ3ViZSgpJyk7fX1lbHNle3N0YXRlLnRleEltYWdlMkQoMzQwNjkraSxqLGdsSW50ZXJuYWxGb3JtYXQsbWlwbWFwLndpZHRoLG1pcG1hcC5oZWlnaHQsMCxnbEZvcm1hdCxnbFR5cGUsbWlwbWFwLmRhdGEpO319fXRleHR1cmVQcm9wZXJ0aWVzLl9fbWF4TWlwTGV2ZWw9bWlwbWFwcy5sZW5ndGgtMTt9ZWxzZXttaXBtYXBzPXRleHR1cmUubWlwbWFwcztmb3IodmFyIGk9MDtpPDY7aSsrKXtpZihpc0RhdGFUZXh0dXJlKXtzdGF0ZS50ZXhJbWFnZTJEKDM0MDY5K2ksMCxnbEludGVybmFsRm9ybWF0LGN1YmVJbWFnZVtpXS53aWR0aCxjdWJlSW1hZ2VbaV0uaGVpZ2h0LDAsZ2xGb3JtYXQsZ2xUeXBlLGN1YmVJbWFnZVtpXS5kYXRhKTtmb3IodmFyIGo9MDtqPG1pcG1hcHMubGVuZ3RoO2orKyl7dmFyIG1pcG1hcD1taXBtYXBzW2pdO3ZhciBtaXBtYXBJbWFnZT1taXBtYXAuaW1hZ2VbaV0uaW1hZ2U7c3RhdGUudGV4SW1hZ2UyRCgzNDA2OStpLGorMSxnbEludGVybmFsRm9ybWF0LG1pcG1hcEltYWdlLndpZHRoLG1pcG1hcEltYWdlLmhlaWdodCwwLGdsRm9ybWF0LGdsVHlwZSxtaXBtYXBJbWFnZS5kYXRhKTt9fWVsc2V7c3RhdGUudGV4SW1hZ2UyRCgzNDA2OStpLDAsZ2xJbnRlcm5hbEZvcm1hdCxnbEZvcm1hdCxnbFR5cGUsY3ViZUltYWdlW2ldKTtmb3IodmFyIGo9MDtqPG1pcG1hcHMubGVuZ3RoO2orKyl7dmFyIG1pcG1hcD1taXBtYXBzW2pdO3N0YXRlLnRleEltYWdlMkQoMzQwNjkraSxqKzEsZ2xJbnRlcm5hbEZvcm1hdCxnbEZvcm1hdCxnbFR5cGUsbWlwbWFwLmltYWdlW2ldKTt9fX10ZXh0dXJlUHJvcGVydGllcy5fX21heE1pcExldmVsPW1pcG1hcHMubGVuZ3RoO31pZih0ZXh0dXJlTmVlZHNHZW5lcmF0ZU1pcG1hcHModGV4dHVyZSxzdXBwb3J0c01pcHMpKXsvLyBXZSBhc3N1bWUgaW1hZ2VzIGZvciBjdWJlIG1hcCBoYXZlIHRoZSBzYW1lIHNpemUuCmdlbmVyYXRlTWlwbWFwKDM0MDY3LHRleHR1cmUsaW1hZ2Uud2lkdGgsaW1hZ2UuaGVpZ2h0KTt9dGV4dHVyZVByb3BlcnRpZXMuX192ZXJzaW9uPXRleHR1cmUudmVyc2lvbjtpZih0ZXh0dXJlLm9uVXBkYXRlKXt0ZXh0dXJlLm9uVXBkYXRlKHRleHR1cmUpO319ZWxzZXtzdGF0ZS5hY3RpdmVUZXh0dXJlKDMzOTg0K3Nsb3QpO3N0YXRlLmJpbmRUZXh0dXJlKDM0MDY3LHRleHR1cmVQcm9wZXJ0aWVzLl9fd2ViZ2xUZXh0dXJlKTt9fWZ1bmN0aW9uIHNldFRleHR1cmVDdWJlRHluYW1pYyh0ZXh0dXJlLHNsb3Qpe3N0YXRlLmFjdGl2ZVRleHR1cmUoMzM5ODQrc2xvdCk7c3RhdGUuYmluZFRleHR1cmUoMzQwNjcscHJvcGVydGllcy5nZXQodGV4dHVyZSkuX193ZWJnbFRleHR1cmUpO312YXIgd3JhcHBpbmdUb0dMPXt9O3dyYXBwaW5nVG9HTFtSZXBlYXRXcmFwcGluZ109MTA0OTc7d3JhcHBpbmdUb0dMW0NsYW1wVG9FZGdlV3JhcHBpbmddPTMzMDcxO3dyYXBwaW5nVG9HTFtNaXJyb3JlZFJlcGVhdFdyYXBwaW5nXT0zMzY0ODt2YXIgZmlsdGVyVG9HTD17fTtmaWx0ZXJUb0dMW05lYXJlc3RGaWx0ZXJdPTk3Mjg7ZmlsdGVyVG9HTFtOZWFyZXN0TWlwbWFwTmVhcmVzdEZpbHRlcl09OTk4NDtmaWx0ZXJUb0dMW05lYXJlc3RNaXBtYXBMaW5lYXJGaWx0ZXJdPTk5ODY7ZmlsdGVyVG9HTFtMaW5lYXJGaWx0ZXJdPTk3Mjk7ZmlsdGVyVG9HTFtMaW5lYXJNaXBtYXBOZWFyZXN0RmlsdGVyXT05OTg1O2ZpbHRlclRvR0xbTGluZWFyTWlwbWFwTGluZWFyRmlsdGVyXT05OTg3O2Z1bmN0aW9uIHNldFRleHR1cmVQYXJhbWV0ZXJzKHRleHR1cmVUeXBlLHRleHR1cmUsc3VwcG9ydHNNaXBzKXtpZihzdXBwb3J0c01pcHMpe19nbC50ZXhQYXJhbWV0ZXJpKHRleHR1cmVUeXBlLDEwMjQyLHdyYXBwaW5nVG9HTFt0ZXh0dXJlLndyYXBTXSk7X2dsLnRleFBhcmFtZXRlcmkodGV4dHVyZVR5cGUsMTAyNDMsd3JhcHBpbmdUb0dMW3RleHR1cmUud3JhcFRdKTtpZih0ZXh0dXJlVHlwZT09PTMyODc5fHx0ZXh0dXJlVHlwZT09PTM1ODY2KXtfZ2wudGV4UGFyYW1ldGVyaSh0ZXh0dXJlVHlwZSwzMjg4Mix3cmFwcGluZ1RvR0xbdGV4dHVyZS53cmFwUl0pO31fZ2wudGV4UGFyYW1ldGVyaSh0ZXh0dXJlVHlwZSwxMDI0MCxmaWx0ZXJUb0dMW3RleHR1cmUubWFnRmlsdGVyXSk7X2dsLnRleFBhcmFtZXRlcmkodGV4dHVyZVR5cGUsMTAyNDEsZmlsdGVyVG9HTFt0ZXh0dXJlLm1pbkZpbHRlcl0pO31lbHNle19nbC50ZXhQYXJhbWV0ZXJpKHRleHR1cmVUeXBlLDEwMjQyLDMzMDcxKTtfZ2wudGV4UGFyYW1ldGVyaSh0ZXh0dXJlVHlwZSwxMDI0MywzMzA3MSk7aWYodGV4dHVyZVR5cGU9PT0zMjg3OXx8dGV4dHVyZVR5cGU9PT0zNTg2Nil7X2dsLnRleFBhcmFtZXRlcmkodGV4dHVyZVR5cGUsMzI4ODIsMzMwNzEpO31pZih0ZXh0dXJlLndyYXBTIT09Q2xhbXBUb0VkZ2VXcmFwcGluZ3x8dGV4dHVyZS53cmFwVCE9PUNsYW1wVG9FZGdlV3JhcHBpbmcpe2NvbnNvbGUud2FybignVEhSRUUuV2ViR0xSZW5kZXJlcjogVGV4dHVyZSBpcyBub3QgcG93ZXIgb2YgdHdvLiBUZXh0dXJlLndyYXBTIGFuZCBUZXh0dXJlLndyYXBUIHNob3VsZCBiZSBzZXQgdG8gVEhSRUUuQ2xhbXBUb0VkZ2VXcmFwcGluZy4nKTt9X2dsLnRleFBhcmFtZXRlcmkodGV4dHVyZVR5cGUsMTAyNDAsZmlsdGVyRmFsbGJhY2sodGV4dHVyZS5tYWdGaWx0ZXIpKTtfZ2wudGV4UGFyYW1ldGVyaSh0ZXh0dXJlVHlwZSwxMDI0MSxmaWx0ZXJGYWxsYmFjayh0ZXh0dXJlLm1pbkZpbHRlcikpO2lmKHRleHR1cmUubWluRmlsdGVyIT09TmVhcmVzdEZpbHRlciYmdGV4dHVyZS5taW5GaWx0ZXIhPT1MaW5lYXJGaWx0ZXIpe2NvbnNvbGUud2FybignVEhSRUUuV2ViR0xSZW5kZXJlcjogVGV4dHVyZSBpcyBub3QgcG93ZXIgb2YgdHdvLiBUZXh0dXJlLm1pbkZpbHRlciBzaG91bGQgYmUgc2V0IHRvIFRIUkVFLk5lYXJlc3RGaWx0ZXIgb3IgVEhSRUUuTGluZWFyRmlsdGVyLicpO319dmFyIGV4dGVuc2lvbj1leHRlbnNpb25zLmdldCgnRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljJyk7aWYoZXh0ZW5zaW9uKXtpZih0ZXh0dXJlLnR5cGU9PT1GbG9hdFR5cGUmJmV4dGVuc2lvbnMuZ2V0KCdPRVNfdGV4dHVyZV9mbG9hdF9saW5lYXInKT09PW51bGwpe3JldHVybjt9aWYodGV4dHVyZS50eXBlPT09SGFsZkZsb2F0VHlwZSYmKGlzV2ViR0wyfHxleHRlbnNpb25zLmdldCgnT0VTX3RleHR1cmVfaGFsZl9mbG9hdF9saW5lYXInKSk9PT1udWxsKXtyZXR1cm47fWlmKHRleHR1cmUuYW5pc290cm9weT4xfHxwcm9wZXJ0aWVzLmdldCh0ZXh0dXJlKS5fX2N1cnJlbnRBbmlzb3Ryb3B5KXtfZ2wudGV4UGFyYW1ldGVyZih0ZXh0dXJlVHlwZSxleHRlbnNpb24uVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQsTWF0aC5taW4odGV4dHVyZS5hbmlzb3Ryb3B5LGNhcGFiaWxpdGllcy5nZXRNYXhBbmlzb3Ryb3B5KCkpKTtwcm9wZXJ0aWVzLmdldCh0ZXh0dXJlKS5fX2N1cnJlbnRBbmlzb3Ryb3B5PXRleHR1cmUuYW5pc290cm9weTt9fX1mdW5jdGlvbiBpbml0VGV4dHVyZSh0ZXh0dXJlUHJvcGVydGllcyx0ZXh0dXJlKXtpZih0ZXh0dXJlUHJvcGVydGllcy5fX3dlYmdsSW5pdD09PXVuZGVmaW5lZCl7dGV4dHVyZVByb3BlcnRpZXMuX193ZWJnbEluaXQ9dHJ1ZTt0ZXh0dXJlLmFkZEV2ZW50TGlzdGVuZXIoJ2Rpc3Bvc2UnLG9uVGV4dHVyZURpc3Bvc2UpO3RleHR1cmVQcm9wZXJ0aWVzLl9fd2ViZ2xUZXh0dXJlPV9nbC5jcmVhdGVUZXh0dXJlKCk7aW5mby5tZW1vcnkudGV4dHVyZXMrKzt9fWZ1bmN0aW9uIHVwbG9hZFRleHR1cmUodGV4dHVyZVByb3BlcnRpZXMsdGV4dHVyZSxzbG90KXt2YXIgdGV4dHVyZVR5cGU9MzU1MztpZih0ZXh0dXJlLmlzRGF0YVRleHR1cmUyREFycmF5KXt0ZXh0dXJlVHlwZT0zNTg2Njt9aWYodGV4dHVyZS5pc0RhdGFUZXh0dXJlM0Qpe3RleHR1cmVUeXBlPTMyODc5O31pbml0VGV4dHVyZSh0ZXh0dXJlUHJvcGVydGllcyx0ZXh0dXJlKTtzdGF0ZS5hY3RpdmVUZXh0dXJlKDMzOTg0K3Nsb3QpO3N0YXRlLmJpbmRUZXh0dXJlKHRleHR1cmVUeXBlLHRleHR1cmVQcm9wZXJ0aWVzLl9fd2ViZ2xUZXh0dXJlKTtfZ2wucGl4ZWxTdG9yZWkoMzc0NDAsdGV4dHVyZS5mbGlwWSk7X2dsLnBpeGVsU3RvcmVpKDM3NDQxLHRleHR1cmUucHJlbXVsdGlwbHlBbHBoYSk7X2dsLnBpeGVsU3RvcmVpKDMzMTcsdGV4dHVyZS51bnBhY2tBbGlnbm1lbnQpO3ZhciBuZWVkc1Bvd2VyT2ZUd289dGV4dHVyZU5lZWRzUG93ZXJPZlR3byh0ZXh0dXJlKSYmaXNQb3dlck9mVHdvKHRleHR1cmUuaW1hZ2UpPT09ZmFsc2U7dmFyIGltYWdlPXJlc2l6ZUltYWdlKHRleHR1cmUuaW1hZ2UsbmVlZHNQb3dlck9mVHdvLGZhbHNlLG1heFRleHR1cmVTaXplKTt2YXIgc3VwcG9ydHNNaXBzPWlzUG93ZXJPZlR3byhpbWFnZSl8fGlzV2ViR0wyLGdsRm9ybWF0PXV0aWxzLmNvbnZlcnQodGV4dHVyZS5mb3JtYXQpLGdsVHlwZT11dGlscy5jb252ZXJ0KHRleHR1cmUudHlwZSksZ2xJbnRlcm5hbEZvcm1hdD1nZXRJbnRlcm5hbEZvcm1hdCh0ZXh0dXJlLmludGVybmFsRm9ybWF0LGdsRm9ybWF0LGdsVHlwZSk7c2V0VGV4dHVyZVBhcmFtZXRlcnModGV4dHVyZVR5cGUsdGV4dHVyZSxzdXBwb3J0c01pcHMpO3ZhciBtaXBtYXAsbWlwbWFwcz10ZXh0dXJlLm1pcG1hcHM7aWYodGV4dHVyZS5pc0RlcHRoVGV4dHVyZSl7Ly8gcG9wdWxhdGUgZGVwdGggdGV4dHVyZSB3aXRoIGR1bW15IGRhdGEKZ2xJbnRlcm5hbEZvcm1hdD02NDAyO2lmKHRleHR1cmUudHlwZT09PUZsb2F0VHlwZSl7aWYoaXNXZWJHTDI9PT1mYWxzZSl7dGhyb3cgbmV3IEVycm9yKCdGbG9hdCBEZXB0aCBUZXh0dXJlIG9ubHkgc3VwcG9ydGVkIGluIFdlYkdMMi4wJyk7fWdsSW50ZXJuYWxGb3JtYXQ9MzYwMTI7fWVsc2UgaWYoaXNXZWJHTDIpey8vIFdlYkdMIDIuMCByZXF1aXJlcyBzaWduZWQgaW50ZXJuYWxmb3JtYXQgZm9yIGdsVGV4SW1hZ2UyRApnbEludGVybmFsRm9ybWF0PTMzMTg5O31pZih0ZXh0dXJlLmZvcm1hdD09PURlcHRoRm9ybWF0JiZnbEludGVybmFsRm9ybWF0PT09NjQwMil7Ly8gVGhlIGVycm9yIElOVkFMSURfT1BFUkFUSU9OIGlzIGdlbmVyYXRlZCBieSB0ZXhJbWFnZTJEIGlmIGZvcm1hdCBhbmQgaW50ZXJuYWxmb3JtYXQgYXJlCi8vIERFUFRIX0NPTVBPTkVOVCBhbmQgdHlwZSBpcyBub3QgVU5TSUdORURfU0hPUlQgb3IgVU5TSUdORURfSU5UCi8vIChodHRwczovL3d3dy5raHJvbm9zLm9yZy9yZWdpc3RyeS93ZWJnbC9leHRlbnNpb25zL1dFQkdMX2RlcHRoX3RleHR1cmUvKQppZih0ZXh0dXJlLnR5cGUhPT1VbnNpZ25lZFNob3J0VHlwZSYmdGV4dHVyZS50eXBlIT09VW5zaWduZWRJbnRUeXBlKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyZXI6IFVzZSBVbnNpZ25lZFNob3J0VHlwZSBvciBVbnNpZ25lZEludFR5cGUgZm9yIERlcHRoRm9ybWF0IERlcHRoVGV4dHVyZS4nKTt0ZXh0dXJlLnR5cGU9VW5zaWduZWRTaG9ydFR5cGU7Z2xUeXBlPXV0aWxzLmNvbnZlcnQodGV4dHVyZS50eXBlKTt9fS8vIERlcHRoIHN0ZW5jaWwgdGV4dHVyZXMgbmVlZCB0aGUgREVQVEhfU1RFTkNJTCBpbnRlcm5hbCBmb3JtYXQKLy8gKGh0dHBzOi8vd3d3Lmtocm9ub3Mub3JnL3JlZ2lzdHJ5L3dlYmdsL2V4dGVuc2lvbnMvV0VCR0xfZGVwdGhfdGV4dHVyZS8pCmlmKHRleHR1cmUuZm9ybWF0PT09RGVwdGhTdGVuY2lsRm9ybWF0KXtnbEludGVybmFsRm9ybWF0PTM0MDQxOy8vIFRoZSBlcnJvciBJTlZBTElEX09QRVJBVElPTiBpcyBnZW5lcmF0ZWQgYnkgdGV4SW1hZ2UyRCBpZiBmb3JtYXQgYW5kIGludGVybmFsZm9ybWF0IGFyZQovLyBERVBUSF9TVEVOQ0lMIGFuZCB0eXBlIGlzIG5vdCBVTlNJR05FRF9JTlRfMjRfOF9XRUJHTC4KLy8gKGh0dHBzOi8vd3d3Lmtocm9ub3Mub3JnL3JlZ2lzdHJ5L3dlYmdsL2V4dGVuc2lvbnMvV0VCR0xfZGVwdGhfdGV4dHVyZS8pCmlmKHRleHR1cmUudHlwZSE9PVVuc2lnbmVkSW50MjQ4VHlwZSl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlcmVyOiBVc2UgVW5zaWduZWRJbnQyNDhUeXBlIGZvciBEZXB0aFN0ZW5jaWxGb3JtYXQgRGVwdGhUZXh0dXJlLicpO3RleHR1cmUudHlwZT1VbnNpZ25lZEludDI0OFR5cGU7Z2xUeXBlPXV0aWxzLmNvbnZlcnQodGV4dHVyZS50eXBlKTt9fXN0YXRlLnRleEltYWdlMkQoMzU1MywwLGdsSW50ZXJuYWxGb3JtYXQsaW1hZ2Uud2lkdGgsaW1hZ2UuaGVpZ2h0LDAsZ2xGb3JtYXQsZ2xUeXBlLG51bGwpO31lbHNlIGlmKHRleHR1cmUuaXNEYXRhVGV4dHVyZSl7Ly8gdXNlIG1hbnVhbGx5IGNyZWF0ZWQgbWlwbWFwcyBpZiBhdmFpbGFibGUKLy8gaWYgdGhlcmUgYXJlIG5vIG1hbnVhbCBtaXBtYXBzCi8vIHNldCAwIGxldmVsIG1pcG1hcCBhbmQgdGhlbiB1c2UgR0wgdG8gZ2VuZXJhdGUgb3RoZXIgbWlwbWFwIGxldmVscwppZihtaXBtYXBzLmxlbmd0aD4wJiZzdXBwb3J0c01pcHMpe2Zvcih2YXIgaT0wLGlsPW1pcG1hcHMubGVuZ3RoO2k8aWw7aSsrKXttaXBtYXA9bWlwbWFwc1tpXTtzdGF0ZS50ZXhJbWFnZTJEKDM1NTMsaSxnbEludGVybmFsRm9ybWF0LG1pcG1hcC53aWR0aCxtaXBtYXAuaGVpZ2h0LDAsZ2xGb3JtYXQsZ2xUeXBlLG1pcG1hcC5kYXRhKTt9dGV4dHVyZS5nZW5lcmF0ZU1pcG1hcHM9ZmFsc2U7dGV4dHVyZVByb3BlcnRpZXMuX19tYXhNaXBMZXZlbD1taXBtYXBzLmxlbmd0aC0xO31lbHNle3N0YXRlLnRleEltYWdlMkQoMzU1MywwLGdsSW50ZXJuYWxGb3JtYXQsaW1hZ2Uud2lkdGgsaW1hZ2UuaGVpZ2h0LDAsZ2xGb3JtYXQsZ2xUeXBlLGltYWdlLmRhdGEpO3RleHR1cmVQcm9wZXJ0aWVzLl9fbWF4TWlwTGV2ZWw9MDt9fWVsc2UgaWYodGV4dHVyZS5pc0NvbXByZXNzZWRUZXh0dXJlKXtmb3IodmFyIGk9MCxpbD1taXBtYXBzLmxlbmd0aDtpPGlsO2krKyl7bWlwbWFwPW1pcG1hcHNbaV07aWYodGV4dHVyZS5mb3JtYXQhPT1SR0JBRm9ybWF0JiZ0ZXh0dXJlLmZvcm1hdCE9PVJHQkZvcm1hdCl7aWYoZ2xGb3JtYXQhPT1udWxsKXtzdGF0ZS5jb21wcmVzc2VkVGV4SW1hZ2UyRCgzNTUzLGksZ2xJbnRlcm5hbEZvcm1hdCxtaXBtYXAud2lkdGgsbWlwbWFwLmhlaWdodCwwLG1pcG1hcC5kYXRhKTt9ZWxzZXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyZXI6IEF0dGVtcHQgdG8gbG9hZCB1bnN1cHBvcnRlZCBjb21wcmVzc2VkIHRleHR1cmUgZm9ybWF0IGluIC51cGxvYWRUZXh0dXJlKCknKTt9fWVsc2V7c3RhdGUudGV4SW1hZ2UyRCgzNTUzLGksZ2xJbnRlcm5hbEZvcm1hdCxtaXBtYXAud2lkdGgsbWlwbWFwLmhlaWdodCwwLGdsRm9ybWF0LGdsVHlwZSxtaXBtYXAuZGF0YSk7fX10ZXh0dXJlUHJvcGVydGllcy5fX21heE1pcExldmVsPW1pcG1hcHMubGVuZ3RoLTE7fWVsc2UgaWYodGV4dHVyZS5pc0RhdGFUZXh0dXJlMkRBcnJheSl7c3RhdGUudGV4SW1hZ2UzRCgzNTg2NiwwLGdsSW50ZXJuYWxGb3JtYXQsaW1hZ2Uud2lkdGgsaW1hZ2UuaGVpZ2h0LGltYWdlLmRlcHRoLDAsZ2xGb3JtYXQsZ2xUeXBlLGltYWdlLmRhdGEpO3RleHR1cmVQcm9wZXJ0aWVzLl9fbWF4TWlwTGV2ZWw9MDt9ZWxzZSBpZih0ZXh0dXJlLmlzRGF0YVRleHR1cmUzRCl7c3RhdGUudGV4SW1hZ2UzRCgzMjg3OSwwLGdsSW50ZXJuYWxGb3JtYXQsaW1hZ2Uud2lkdGgsaW1hZ2UuaGVpZ2h0LGltYWdlLmRlcHRoLDAsZ2xGb3JtYXQsZ2xUeXBlLGltYWdlLmRhdGEpO3RleHR1cmVQcm9wZXJ0aWVzLl9fbWF4TWlwTGV2ZWw9MDt9ZWxzZXsvLyByZWd1bGFyIFRleHR1cmUgKGltYWdlLCB2aWRlbywgY2FudmFzKQovLyB1c2UgbWFudWFsbHkgY3JlYXRlZCBtaXBtYXBzIGlmIGF2YWlsYWJsZQovLyBpZiB0aGVyZSBhcmUgbm8gbWFudWFsIG1pcG1hcHMKLy8gc2V0IDAgbGV2ZWwgbWlwbWFwIGFuZCB0aGVuIHVzZSBHTCB0byBnZW5lcmF0ZSBvdGhlciBtaXBtYXAgbGV2ZWxzCmlmKG1pcG1hcHMubGVuZ3RoPjAmJnN1cHBvcnRzTWlwcyl7Zm9yKHZhciBpPTAsaWw9bWlwbWFwcy5sZW5ndGg7aTxpbDtpKyspe21pcG1hcD1taXBtYXBzW2ldO3N0YXRlLnRleEltYWdlMkQoMzU1MyxpLGdsSW50ZXJuYWxGb3JtYXQsZ2xGb3JtYXQsZ2xUeXBlLG1pcG1hcCk7fXRleHR1cmUuZ2VuZXJhdGVNaXBtYXBzPWZhbHNlO3RleHR1cmVQcm9wZXJ0aWVzLl9fbWF4TWlwTGV2ZWw9bWlwbWFwcy5sZW5ndGgtMTt9ZWxzZXtzdGF0ZS50ZXhJbWFnZTJEKDM1NTMsMCxnbEludGVybmFsRm9ybWF0LGdsRm9ybWF0LGdsVHlwZSxpbWFnZSk7dGV4dHVyZVByb3BlcnRpZXMuX19tYXhNaXBMZXZlbD0wO319aWYodGV4dHVyZU5lZWRzR2VuZXJhdGVNaXBtYXBzKHRleHR1cmUsc3VwcG9ydHNNaXBzKSl7Z2VuZXJhdGVNaXBtYXAodGV4dHVyZVR5cGUsdGV4dHVyZSxpbWFnZS53aWR0aCxpbWFnZS5oZWlnaHQpO310ZXh0dXJlUHJvcGVydGllcy5fX3ZlcnNpb249dGV4dHVyZS52ZXJzaW9uO2lmKHRleHR1cmUub25VcGRhdGUpe3RleHR1cmUub25VcGRhdGUodGV4dHVyZSk7fX0vLyBSZW5kZXIgdGFyZ2V0cwovLyBTZXR1cCBzdG9yYWdlIGZvciB0YXJnZXQgdGV4dHVyZSBhbmQgYmluZCBpdCB0byBjb3JyZWN0IGZyYW1lYnVmZmVyCmZ1bmN0aW9uIHNldHVwRnJhbWVCdWZmZXJUZXh0dXJlKGZyYW1lYnVmZmVyLHJlbmRlclRhcmdldCxhdHRhY2htZW50LHRleHR1cmVUYXJnZXQpe3ZhciBnbEZvcm1hdD11dGlscy5jb252ZXJ0KHJlbmRlclRhcmdldC50ZXh0dXJlLmZvcm1hdCk7dmFyIGdsVHlwZT11dGlscy5jb252ZXJ0KHJlbmRlclRhcmdldC50ZXh0dXJlLnR5cGUpO3ZhciBnbEludGVybmFsRm9ybWF0PWdldEludGVybmFsRm9ybWF0KHJlbmRlclRhcmdldC50ZXh0dXJlLmludGVybmFsRm9ybWF0LGdsRm9ybWF0LGdsVHlwZSk7c3RhdGUudGV4SW1hZ2UyRCh0ZXh0dXJlVGFyZ2V0LDAsZ2xJbnRlcm5hbEZvcm1hdCxyZW5kZXJUYXJnZXQud2lkdGgscmVuZGVyVGFyZ2V0LmhlaWdodCwwLGdsRm9ybWF0LGdsVHlwZSxudWxsKTtfZ2wuYmluZEZyYW1lYnVmZmVyKDM2MTYwLGZyYW1lYnVmZmVyKTtfZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoMzYxNjAsYXR0YWNobWVudCx0ZXh0dXJlVGFyZ2V0LHByb3BlcnRpZXMuZ2V0KHJlbmRlclRhcmdldC50ZXh0dXJlKS5fX3dlYmdsVGV4dHVyZSwwKTtfZ2wuYmluZEZyYW1lYnVmZmVyKDM2MTYwLG51bGwpO30vLyBTZXR1cCBzdG9yYWdlIGZvciBpbnRlcm5hbCBkZXB0aC9zdGVuY2lsIGJ1ZmZlcnMgYW5kIGJpbmQgdG8gY29ycmVjdCBmcmFtZWJ1ZmZlcgpmdW5jdGlvbiBzZXR1cFJlbmRlckJ1ZmZlclN0b3JhZ2UocmVuZGVyYnVmZmVyLHJlbmRlclRhcmdldCxpc011bHRpc2FtcGxlKXtfZ2wuYmluZFJlbmRlcmJ1ZmZlcigzNjE2MSxyZW5kZXJidWZmZXIpO2lmKHJlbmRlclRhcmdldC5kZXB0aEJ1ZmZlciYmIXJlbmRlclRhcmdldC5zdGVuY2lsQnVmZmVyKXtpZihpc011bHRpc2FtcGxlKXt2YXIgc2FtcGxlcz1nZXRSZW5kZXJUYXJnZXRTYW1wbGVzKHJlbmRlclRhcmdldCk7X2dsLnJlbmRlcmJ1ZmZlclN0b3JhZ2VNdWx0aXNhbXBsZSgzNjE2MSxzYW1wbGVzLDMzMTg5LHJlbmRlclRhcmdldC53aWR0aCxyZW5kZXJUYXJnZXQuaGVpZ2h0KTt9ZWxzZXtfZ2wucmVuZGVyYnVmZmVyU3RvcmFnZSgzNjE2MSwzMzE4OSxyZW5kZXJUYXJnZXQud2lkdGgscmVuZGVyVGFyZ2V0LmhlaWdodCk7fV9nbC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcigzNjE2MCwzNjA5NiwzNjE2MSxyZW5kZXJidWZmZXIpO31lbHNlIGlmKHJlbmRlclRhcmdldC5kZXB0aEJ1ZmZlciYmcmVuZGVyVGFyZ2V0LnN0ZW5jaWxCdWZmZXIpe2lmKGlzTXVsdGlzYW1wbGUpe3ZhciBzYW1wbGVzPWdldFJlbmRlclRhcmdldFNhbXBsZXMocmVuZGVyVGFyZ2V0KTtfZ2wucmVuZGVyYnVmZmVyU3RvcmFnZU11bHRpc2FtcGxlKDM2MTYxLHNhbXBsZXMsMzUwNTYscmVuZGVyVGFyZ2V0LndpZHRoLHJlbmRlclRhcmdldC5oZWlnaHQpO31lbHNle19nbC5yZW5kZXJidWZmZXJTdG9yYWdlKDM2MTYxLDM0MDQxLHJlbmRlclRhcmdldC53aWR0aCxyZW5kZXJUYXJnZXQuaGVpZ2h0KTt9X2dsLmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKDM2MTYwLDMzMzA2LDM2MTYxLHJlbmRlcmJ1ZmZlcik7fWVsc2V7dmFyIGdsRm9ybWF0PXV0aWxzLmNvbnZlcnQocmVuZGVyVGFyZ2V0LnRleHR1cmUuZm9ybWF0KTt2YXIgZ2xUeXBlPXV0aWxzLmNvbnZlcnQocmVuZGVyVGFyZ2V0LnRleHR1cmUudHlwZSk7dmFyIGdsSW50ZXJuYWxGb3JtYXQ9Z2V0SW50ZXJuYWxGb3JtYXQocmVuZGVyVGFyZ2V0LnRleHR1cmUuaW50ZXJuYWxGb3JtYXQsZ2xGb3JtYXQsZ2xUeXBlKTtpZihpc011bHRpc2FtcGxlKXt2YXIgc2FtcGxlcz1nZXRSZW5kZXJUYXJnZXRTYW1wbGVzKHJlbmRlclRhcmdldCk7X2dsLnJlbmRlcmJ1ZmZlclN0b3JhZ2VNdWx0aXNhbXBsZSgzNjE2MSxzYW1wbGVzLGdsSW50ZXJuYWxGb3JtYXQscmVuZGVyVGFyZ2V0LndpZHRoLHJlbmRlclRhcmdldC5oZWlnaHQpO31lbHNle19nbC5yZW5kZXJidWZmZXJTdG9yYWdlKDM2MTYxLGdsSW50ZXJuYWxGb3JtYXQscmVuZGVyVGFyZ2V0LndpZHRoLHJlbmRlclRhcmdldC5oZWlnaHQpO319X2dsLmJpbmRSZW5kZXJidWZmZXIoMzYxNjEsbnVsbCk7fS8vIFNldHVwIHJlc291cmNlcyBmb3IgYSBEZXB0aCBUZXh0dXJlIGZvciBhIEZCTyAobmVlZHMgYW4gZXh0ZW5zaW9uKQpmdW5jdGlvbiBzZXR1cERlcHRoVGV4dHVyZShmcmFtZWJ1ZmZlcixyZW5kZXJUYXJnZXQpe3ZhciBpc0N1YmU9cmVuZGVyVGFyZ2V0JiZyZW5kZXJUYXJnZXQuaXNXZWJHTFJlbmRlclRhcmdldEN1YmU7aWYoaXNDdWJlKXt0aHJvdyBuZXcgRXJyb3IoJ0RlcHRoIFRleHR1cmUgd2l0aCBjdWJlIHJlbmRlciB0YXJnZXRzIGlzIG5vdCBzdXBwb3J0ZWQnKTt9X2dsLmJpbmRGcmFtZWJ1ZmZlcigzNjE2MCxmcmFtZWJ1ZmZlcik7aWYoIShyZW5kZXJUYXJnZXQuZGVwdGhUZXh0dXJlJiZyZW5kZXJUYXJnZXQuZGVwdGhUZXh0dXJlLmlzRGVwdGhUZXh0dXJlKSl7dGhyb3cgbmV3IEVycm9yKCdyZW5kZXJUYXJnZXQuZGVwdGhUZXh0dXJlIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgVEhSRUUuRGVwdGhUZXh0dXJlJyk7fS8vIHVwbG9hZCBhbiBlbXB0eSBkZXB0aCB0ZXh0dXJlIHdpdGggZnJhbWVidWZmZXIgc2l6ZQppZighcHJvcGVydGllcy5nZXQocmVuZGVyVGFyZ2V0LmRlcHRoVGV4dHVyZSkuX193ZWJnbFRleHR1cmV8fHJlbmRlclRhcmdldC5kZXB0aFRleHR1cmUuaW1hZ2Uud2lkdGghPT1yZW5kZXJUYXJnZXQud2lkdGh8fHJlbmRlclRhcmdldC5kZXB0aFRleHR1cmUuaW1hZ2UuaGVpZ2h0IT09cmVuZGVyVGFyZ2V0LmhlaWdodCl7cmVuZGVyVGFyZ2V0LmRlcHRoVGV4dHVyZS5pbWFnZS53aWR0aD1yZW5kZXJUYXJnZXQud2lkdGg7cmVuZGVyVGFyZ2V0LmRlcHRoVGV4dHVyZS5pbWFnZS5oZWlnaHQ9cmVuZGVyVGFyZ2V0LmhlaWdodDtyZW5kZXJUYXJnZXQuZGVwdGhUZXh0dXJlLm5lZWRzVXBkYXRlPXRydWU7fXNldFRleHR1cmUyRChyZW5kZXJUYXJnZXQuZGVwdGhUZXh0dXJlLDApO3ZhciB3ZWJnbERlcHRoVGV4dHVyZT1wcm9wZXJ0aWVzLmdldChyZW5kZXJUYXJnZXQuZGVwdGhUZXh0dXJlKS5fX3dlYmdsVGV4dHVyZTtpZihyZW5kZXJUYXJnZXQuZGVwdGhUZXh0dXJlLmZvcm1hdD09PURlcHRoRm9ybWF0KXtfZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoMzYxNjAsMzYwOTYsMzU1Myx3ZWJnbERlcHRoVGV4dHVyZSwwKTt9ZWxzZSBpZihyZW5kZXJUYXJnZXQuZGVwdGhUZXh0dXJlLmZvcm1hdD09PURlcHRoU3RlbmNpbEZvcm1hdCl7X2dsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKDM2MTYwLDMzMzA2LDM1NTMsd2ViZ2xEZXB0aFRleHR1cmUsMCk7fWVsc2V7dGhyb3cgbmV3IEVycm9yKCdVbmtub3duIGRlcHRoVGV4dHVyZSBmb3JtYXQnKTt9fS8vIFNldHVwIEdMIHJlc291cmNlcyBmb3IgYSBub24tdGV4dHVyZSBkZXB0aCBidWZmZXIKZnVuY3Rpb24gc2V0dXBEZXB0aFJlbmRlcmJ1ZmZlcihyZW5kZXJUYXJnZXQpe3ZhciByZW5kZXJUYXJnZXRQcm9wZXJ0aWVzPXByb3BlcnRpZXMuZ2V0KHJlbmRlclRhcmdldCk7dmFyIGlzQ3ViZT1yZW5kZXJUYXJnZXQuaXNXZWJHTFJlbmRlclRhcmdldEN1YmU9PT10cnVlO2lmKHJlbmRlclRhcmdldC5kZXB0aFRleHR1cmUpe2lmKGlzQ3ViZSl7dGhyb3cgbmV3IEVycm9yKCd0YXJnZXQuZGVwdGhUZXh0dXJlIG5vdCBzdXBwb3J0ZWQgaW4gQ3ViZSByZW5kZXIgdGFyZ2V0cycpO31zZXR1cERlcHRoVGV4dHVyZShyZW5kZXJUYXJnZXRQcm9wZXJ0aWVzLl9fd2ViZ2xGcmFtZWJ1ZmZlcixyZW5kZXJUYXJnZXQpO31lbHNle2lmKGlzQ3ViZSl7cmVuZGVyVGFyZ2V0UHJvcGVydGllcy5fX3dlYmdsRGVwdGhidWZmZXI9W107Zm9yKHZhciBpPTA7aTw2O2krKyl7X2dsLmJpbmRGcmFtZWJ1ZmZlcigzNjE2MCxyZW5kZXJUYXJnZXRQcm9wZXJ0aWVzLl9fd2ViZ2xGcmFtZWJ1ZmZlcltpXSk7cmVuZGVyVGFyZ2V0UHJvcGVydGllcy5fX3dlYmdsRGVwdGhidWZmZXJbaV09X2dsLmNyZWF0ZVJlbmRlcmJ1ZmZlcigpO3NldHVwUmVuZGVyQnVmZmVyU3RvcmFnZShyZW5kZXJUYXJnZXRQcm9wZXJ0aWVzLl9fd2ViZ2xEZXB0aGJ1ZmZlcltpXSxyZW5kZXJUYXJnZXQpO319ZWxzZXtfZ2wuYmluZEZyYW1lYnVmZmVyKDM2MTYwLHJlbmRlclRhcmdldFByb3BlcnRpZXMuX193ZWJnbEZyYW1lYnVmZmVyKTtyZW5kZXJUYXJnZXRQcm9wZXJ0aWVzLl9fd2ViZ2xEZXB0aGJ1ZmZlcj1fZ2wuY3JlYXRlUmVuZGVyYnVmZmVyKCk7c2V0dXBSZW5kZXJCdWZmZXJTdG9yYWdlKHJlbmRlclRhcmdldFByb3BlcnRpZXMuX193ZWJnbERlcHRoYnVmZmVyLHJlbmRlclRhcmdldCk7fX1fZ2wuYmluZEZyYW1lYnVmZmVyKDM2MTYwLG51bGwpO30vLyBTZXQgdXAgR0wgcmVzb3VyY2VzIGZvciB0aGUgcmVuZGVyIHRhcmdldApmdW5jdGlvbiBzZXR1cFJlbmRlclRhcmdldChyZW5kZXJUYXJnZXQpe3ZhciByZW5kZXJUYXJnZXRQcm9wZXJ0aWVzPXByb3BlcnRpZXMuZ2V0KHJlbmRlclRhcmdldCk7dmFyIHRleHR1cmVQcm9wZXJ0aWVzPXByb3BlcnRpZXMuZ2V0KHJlbmRlclRhcmdldC50ZXh0dXJlKTtyZW5kZXJUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignZGlzcG9zZScsb25SZW5kZXJUYXJnZXREaXNwb3NlKTt0ZXh0dXJlUHJvcGVydGllcy5fX3dlYmdsVGV4dHVyZT1fZ2wuY3JlYXRlVGV4dHVyZSgpO2luZm8ubWVtb3J5LnRleHR1cmVzKys7dmFyIGlzQ3ViZT1yZW5kZXJUYXJnZXQuaXNXZWJHTFJlbmRlclRhcmdldEN1YmU9PT10cnVlO3ZhciBpc011bHRpc2FtcGxlPXJlbmRlclRhcmdldC5pc1dlYkdMTXVsdGlzYW1wbGVSZW5kZXJUYXJnZXQ9PT10cnVlO3ZhciBpc011bHRpdmlldz1yZW5kZXJUYXJnZXQuaXNXZWJHTE11bHRpdmlld1JlbmRlclRhcmdldD09PXRydWU7dmFyIHN1cHBvcnRzTWlwcz1pc1Bvd2VyT2ZUd28ocmVuZGVyVGFyZ2V0KXx8aXNXZWJHTDI7Ly8gU2V0dXAgZnJhbWVidWZmZXIKaWYoaXNDdWJlKXtyZW5kZXJUYXJnZXRQcm9wZXJ0aWVzLl9fd2ViZ2xGcmFtZWJ1ZmZlcj1bXTtmb3IodmFyIGk9MDtpPDY7aSsrKXtyZW5kZXJUYXJnZXRQcm9wZXJ0aWVzLl9fd2ViZ2xGcmFtZWJ1ZmZlcltpXT1fZ2wuY3JlYXRlRnJhbWVidWZmZXIoKTt9fWVsc2V7cmVuZGVyVGFyZ2V0UHJvcGVydGllcy5fX3dlYmdsRnJhbWVidWZmZXI9X2dsLmNyZWF0ZUZyYW1lYnVmZmVyKCk7aWYoaXNNdWx0aXNhbXBsZSl7aWYoaXNXZWJHTDIpe3JlbmRlclRhcmdldFByb3BlcnRpZXMuX193ZWJnbE11bHRpc2FtcGxlZEZyYW1lYnVmZmVyPV9nbC5jcmVhdGVGcmFtZWJ1ZmZlcigpO3JlbmRlclRhcmdldFByb3BlcnRpZXMuX193ZWJnbENvbG9yUmVuZGVyYnVmZmVyPV9nbC5jcmVhdGVSZW5kZXJidWZmZXIoKTtfZ2wuYmluZFJlbmRlcmJ1ZmZlcigzNjE2MSxyZW5kZXJUYXJnZXRQcm9wZXJ0aWVzLl9fd2ViZ2xDb2xvclJlbmRlcmJ1ZmZlcik7dmFyIGdsRm9ybWF0PXV0aWxzLmNvbnZlcnQocmVuZGVyVGFyZ2V0LnRleHR1cmUuZm9ybWF0KTt2YXIgZ2xUeXBlPXV0aWxzLmNvbnZlcnQocmVuZGVyVGFyZ2V0LnRleHR1cmUudHlwZSk7dmFyIGdsSW50ZXJuYWxGb3JtYXQ9Z2V0SW50ZXJuYWxGb3JtYXQocmVuZGVyVGFyZ2V0LnRleHR1cmUuaW50ZXJuYWxGb3JtYXQsZ2xGb3JtYXQsZ2xUeXBlKTt2YXIgc2FtcGxlcz1nZXRSZW5kZXJUYXJnZXRTYW1wbGVzKHJlbmRlclRhcmdldCk7X2dsLnJlbmRlcmJ1ZmZlclN0b3JhZ2VNdWx0aXNhbXBsZSgzNjE2MSxzYW1wbGVzLGdsSW50ZXJuYWxGb3JtYXQscmVuZGVyVGFyZ2V0LndpZHRoLHJlbmRlclRhcmdldC5oZWlnaHQpO19nbC5iaW5kRnJhbWVidWZmZXIoMzYxNjAscmVuZGVyVGFyZ2V0UHJvcGVydGllcy5fX3dlYmdsTXVsdGlzYW1wbGVkRnJhbWVidWZmZXIpO19nbC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcigzNjE2MCwzNjA2NCwzNjE2MSxyZW5kZXJUYXJnZXRQcm9wZXJ0aWVzLl9fd2ViZ2xDb2xvclJlbmRlcmJ1ZmZlcik7X2dsLmJpbmRSZW5kZXJidWZmZXIoMzYxNjEsbnVsbCk7aWYocmVuZGVyVGFyZ2V0LmRlcHRoQnVmZmVyKXtyZW5kZXJUYXJnZXRQcm9wZXJ0aWVzLl9fd2ViZ2xEZXB0aFJlbmRlcmJ1ZmZlcj1fZ2wuY3JlYXRlUmVuZGVyYnVmZmVyKCk7c2V0dXBSZW5kZXJCdWZmZXJTdG9yYWdlKHJlbmRlclRhcmdldFByb3BlcnRpZXMuX193ZWJnbERlcHRoUmVuZGVyYnVmZmVyLHJlbmRlclRhcmdldCx0cnVlKTt9X2dsLmJpbmRGcmFtZWJ1ZmZlcigzNjE2MCxudWxsKTt9ZWxzZXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyZXI6IFdlYkdMTXVsdGlzYW1wbGVSZW5kZXJUYXJnZXQgY2FuIG9ubHkgYmUgdXNlZCB3aXRoIFdlYkdMMi4nKTt9fWVsc2UgaWYoaXNNdWx0aXZpZXcpe3ZhciB3aWR0aD1yZW5kZXJUYXJnZXQud2lkdGg7dmFyIGhlaWdodD1yZW5kZXJUYXJnZXQuaGVpZ2h0O3ZhciBudW1WaWV3cz1yZW5kZXJUYXJnZXQubnVtVmlld3M7X2dsLmJpbmRGcmFtZWJ1ZmZlcigzNjE2MCxyZW5kZXJUYXJnZXRQcm9wZXJ0aWVzLl9fd2ViZ2xGcmFtZWJ1ZmZlcik7dmFyIGV4dD1leHRlbnNpb25zLmdldCgnT1ZSX211bHRpdmlldzInKTtpbmZvLm1lbW9yeS50ZXh0dXJlcys9Mjt2YXIgY29sb3JUZXh0dXJlPV9nbC5jcmVhdGVUZXh0dXJlKCk7X2dsLmJpbmRUZXh0dXJlKDM1ODY2LGNvbG9yVGV4dHVyZSk7X2dsLnRleFBhcmFtZXRlcmkoMzU4NjYsMTAyNDAsOTcyOCk7X2dsLnRleFBhcmFtZXRlcmkoMzU4NjYsMTAyNDEsOTcyOCk7X2dsLnRleEltYWdlM0QoMzU4NjYsMCwzMjg1Nix3aWR0aCxoZWlnaHQsbnVtVmlld3MsMCw2NDA4LDUxMjEsbnVsbCk7ZXh0LmZyYW1lYnVmZmVyVGV4dHVyZU11bHRpdmlld09WUigzNjE2MCwzNjA2NCxjb2xvclRleHR1cmUsMCwwLG51bVZpZXdzKTt2YXIgZGVwdGhTdGVuY2lsVGV4dHVyZT1fZ2wuY3JlYXRlVGV4dHVyZSgpO19nbC5iaW5kVGV4dHVyZSgzNTg2NixkZXB0aFN0ZW5jaWxUZXh0dXJlKTtfZ2wudGV4UGFyYW1ldGVyaSgzNTg2NiwxMDI0MCw5NzI4KTtfZ2wudGV4UGFyYW1ldGVyaSgzNTg2NiwxMDI0MSw5NzI4KTtfZ2wudGV4SW1hZ2UzRCgzNTg2NiwwLDM1MDU2LHdpZHRoLGhlaWdodCxudW1WaWV3cywwLDM0MDQxLDM0MDQyLG51bGwpO2V4dC5mcmFtZWJ1ZmZlclRleHR1cmVNdWx0aXZpZXdPVlIoMzYxNjAsMzMzMDYsZGVwdGhTdGVuY2lsVGV4dHVyZSwwLDAsbnVtVmlld3MpO3ZhciB2aWV3RnJhbWVidWZmZXJzPW5ldyBBcnJheShudW1WaWV3cyk7Zm9yKHZhciBpPTA7aTxudW1WaWV3czsrK2kpe3ZpZXdGcmFtZWJ1ZmZlcnNbaV09X2dsLmNyZWF0ZUZyYW1lYnVmZmVyKCk7X2dsLmJpbmRGcmFtZWJ1ZmZlcigzNjE2MCx2aWV3RnJhbWVidWZmZXJzW2ldKTtfZ2wuZnJhbWVidWZmZXJUZXh0dXJlTGF5ZXIoMzYxNjAsMzYwNjQsY29sb3JUZXh0dXJlLDAsaSk7fXJlbmRlclRhcmdldFByb3BlcnRpZXMuX193ZWJnbENvbG9yVGV4dHVyZT1jb2xvclRleHR1cmU7cmVuZGVyVGFyZ2V0UHJvcGVydGllcy5fX3dlYmdsRGVwdGhTdGVuY2lsVGV4dHVyZT1kZXB0aFN0ZW5jaWxUZXh0dXJlO3JlbmRlclRhcmdldFByb3BlcnRpZXMuX193ZWJnbFZpZXdGcmFtZWJ1ZmZlcnM9dmlld0ZyYW1lYnVmZmVycztfZ2wuYmluZEZyYW1lYnVmZmVyKDM2MTYwLG51bGwpO19nbC5iaW5kVGV4dHVyZSgzNTg2NixudWxsKTt9fS8vIFNldHVwIGNvbG9yIGJ1ZmZlcgppZihpc0N1YmUpe3N0YXRlLmJpbmRUZXh0dXJlKDM0MDY3LHRleHR1cmVQcm9wZXJ0aWVzLl9fd2ViZ2xUZXh0dXJlKTtzZXRUZXh0dXJlUGFyYW1ldGVycygzNDA2NyxyZW5kZXJUYXJnZXQudGV4dHVyZSxzdXBwb3J0c01pcHMpO2Zvcih2YXIgaT0wO2k8NjtpKyspe3NldHVwRnJhbWVCdWZmZXJUZXh0dXJlKHJlbmRlclRhcmdldFByb3BlcnRpZXMuX193ZWJnbEZyYW1lYnVmZmVyW2ldLHJlbmRlclRhcmdldCwzNjA2NCwzNDA2OStpKTt9aWYodGV4dHVyZU5lZWRzR2VuZXJhdGVNaXBtYXBzKHJlbmRlclRhcmdldC50ZXh0dXJlLHN1cHBvcnRzTWlwcykpe2dlbmVyYXRlTWlwbWFwKDM0MDY3LHJlbmRlclRhcmdldC50ZXh0dXJlLHJlbmRlclRhcmdldC53aWR0aCxyZW5kZXJUYXJnZXQuaGVpZ2h0KTt9c3RhdGUuYmluZFRleHR1cmUoMzQwNjcsbnVsbCk7fWVsc2UgaWYoIWlzTXVsdGl2aWV3KXtzdGF0ZS5iaW5kVGV4dHVyZSgzNTUzLHRleHR1cmVQcm9wZXJ0aWVzLl9fd2ViZ2xUZXh0dXJlKTtzZXRUZXh0dXJlUGFyYW1ldGVycygzNTUzLHJlbmRlclRhcmdldC50ZXh0dXJlLHN1cHBvcnRzTWlwcyk7c2V0dXBGcmFtZUJ1ZmZlclRleHR1cmUocmVuZGVyVGFyZ2V0UHJvcGVydGllcy5fX3dlYmdsRnJhbWVidWZmZXIscmVuZGVyVGFyZ2V0LDM2MDY0LDM1NTMpO2lmKHRleHR1cmVOZWVkc0dlbmVyYXRlTWlwbWFwcyhyZW5kZXJUYXJnZXQudGV4dHVyZSxzdXBwb3J0c01pcHMpKXtnZW5lcmF0ZU1pcG1hcCgzNTUzLHJlbmRlclRhcmdldC50ZXh0dXJlLHJlbmRlclRhcmdldC53aWR0aCxyZW5kZXJUYXJnZXQuaGVpZ2h0KTt9c3RhdGUuYmluZFRleHR1cmUoMzU1MyxudWxsKTt9Ly8gU2V0dXAgZGVwdGggYW5kIHN0ZW5jaWwgYnVmZmVycwppZihyZW5kZXJUYXJnZXQuZGVwdGhCdWZmZXIpe3NldHVwRGVwdGhSZW5kZXJidWZmZXIocmVuZGVyVGFyZ2V0KTt9fWZ1bmN0aW9uIHVwZGF0ZVJlbmRlclRhcmdldE1pcG1hcChyZW5kZXJUYXJnZXQpe3ZhciB0ZXh0dXJlPXJlbmRlclRhcmdldC50ZXh0dXJlO3ZhciBzdXBwb3J0c01pcHM9aXNQb3dlck9mVHdvKHJlbmRlclRhcmdldCl8fGlzV2ViR0wyO2lmKHRleHR1cmVOZWVkc0dlbmVyYXRlTWlwbWFwcyh0ZXh0dXJlLHN1cHBvcnRzTWlwcykpe3ZhciB0YXJnZXQ9cmVuZGVyVGFyZ2V0LmlzV2ViR0xSZW5kZXJUYXJnZXRDdWJlPzM0MDY3OjM1NTM7dmFyIHdlYmdsVGV4dHVyZT1wcm9wZXJ0aWVzLmdldCh0ZXh0dXJlKS5fX3dlYmdsVGV4dHVyZTtzdGF0ZS5iaW5kVGV4dHVyZSh0YXJnZXQsd2ViZ2xUZXh0dXJlKTtnZW5lcmF0ZU1pcG1hcCh0YXJnZXQsdGV4dHVyZSxyZW5kZXJUYXJnZXQud2lkdGgscmVuZGVyVGFyZ2V0LmhlaWdodCk7c3RhdGUuYmluZFRleHR1cmUodGFyZ2V0LG51bGwpO319ZnVuY3Rpb24gdXBkYXRlTXVsdGlzYW1wbGVSZW5kZXJUYXJnZXQocmVuZGVyVGFyZ2V0KXtpZihyZW5kZXJUYXJnZXQuaXNXZWJHTE11bHRpc2FtcGxlUmVuZGVyVGFyZ2V0KXtpZihpc1dlYkdMMil7dmFyIHJlbmRlclRhcmdldFByb3BlcnRpZXM9cHJvcGVydGllcy5nZXQocmVuZGVyVGFyZ2V0KTtfZ2wuYmluZEZyYW1lYnVmZmVyKDM2MDA4LHJlbmRlclRhcmdldFByb3BlcnRpZXMuX193ZWJnbE11bHRpc2FtcGxlZEZyYW1lYnVmZmVyKTtfZ2wuYmluZEZyYW1lYnVmZmVyKDM2MDA5LHJlbmRlclRhcmdldFByb3BlcnRpZXMuX193ZWJnbEZyYW1lYnVmZmVyKTt2YXIgd2lkdGg9cmVuZGVyVGFyZ2V0LndpZHRoO3ZhciBoZWlnaHQ9cmVuZGVyVGFyZ2V0LmhlaWdodDt2YXIgbWFzaz0xNjM4NDtpZihyZW5kZXJUYXJnZXQuZGVwdGhCdWZmZXIpe21hc2t8PTI1Njt9aWYocmVuZGVyVGFyZ2V0LnN0ZW5jaWxCdWZmZXIpe21hc2t8PTEwMjQ7fV9nbC5ibGl0RnJhbWVidWZmZXIoMCwwLHdpZHRoLGhlaWdodCwwLDAsd2lkdGgsaGVpZ2h0LG1hc2ssOTcyOCk7fWVsc2V7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlcmVyOiBXZWJHTE11bHRpc2FtcGxlUmVuZGVyVGFyZ2V0IGNhbiBvbmx5IGJlIHVzZWQgd2l0aCBXZWJHTDIuJyk7fX19ZnVuY3Rpb24gZ2V0UmVuZGVyVGFyZ2V0U2FtcGxlcyhyZW5kZXJUYXJnZXQpe3JldHVybiBpc1dlYkdMMiYmcmVuZGVyVGFyZ2V0LmlzV2ViR0xNdWx0aXNhbXBsZVJlbmRlclRhcmdldD9NYXRoLm1pbihtYXhTYW1wbGVzLHJlbmRlclRhcmdldC5zYW1wbGVzKTowO31mdW5jdGlvbiB1cGRhdGVWaWRlb1RleHR1cmUodGV4dHVyZSl7dmFyIGZyYW1lPWluZm8ucmVuZGVyLmZyYW1lOy8vIENoZWNrIHRoZSBsYXN0IGZyYW1lIHdlIHVwZGF0ZWQgdGhlIFZpZGVvVGV4dHVyZQppZihfdmlkZW9UZXh0dXJlcy5nZXQodGV4dHVyZSkhPT1mcmFtZSl7X3ZpZGVvVGV4dHVyZXMuc2V0KHRleHR1cmUsZnJhbWUpO3RleHR1cmUudXBkYXRlKCk7fX0vLyBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eQp2YXIgd2FybmVkVGV4dHVyZTJEPWZhbHNlO3ZhciB3YXJuZWRUZXh0dXJlQ3ViZT1mYWxzZTtmdW5jdGlvbiBzYWZlU2V0VGV4dHVyZTJEKHRleHR1cmUsc2xvdCl7aWYodGV4dHVyZSYmdGV4dHVyZS5pc1dlYkdMUmVuZGVyVGFyZ2V0KXtpZih3YXJuZWRUZXh0dXJlMkQ9PT1mYWxzZSl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFRleHR1cmVzLnNhZmVTZXRUZXh0dXJlMkQ6IGRvbid0IHVzZSByZW5kZXIgdGFyZ2V0cyBhcyB0ZXh0dXJlcy4gVXNlIHRoZWlyIC50ZXh0dXJlIHByb3BlcnR5IGluc3RlYWQuIik7d2FybmVkVGV4dHVyZTJEPXRydWU7fXRleHR1cmU9dGV4dHVyZS50ZXh0dXJlO31zZXRUZXh0dXJlMkQodGV4dHVyZSxzbG90KTt9ZnVuY3Rpb24gc2FmZVNldFRleHR1cmVDdWJlKHRleHR1cmUsc2xvdCl7aWYodGV4dHVyZSYmdGV4dHVyZS5pc1dlYkdMUmVuZGVyVGFyZ2V0Q3ViZSl7aWYod2FybmVkVGV4dHVyZUN1YmU9PT1mYWxzZSl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFRleHR1cmVzLnNhZmVTZXRUZXh0dXJlQ3ViZTogZG9uJ3QgdXNlIGN1YmUgcmVuZGVyIHRhcmdldHMgYXMgdGV4dHVyZXMuIFVzZSB0aGVpciAudGV4dHVyZSBwcm9wZXJ0eSBpbnN0ZWFkLiIpO3dhcm5lZFRleHR1cmVDdWJlPXRydWU7fXRleHR1cmU9dGV4dHVyZS50ZXh0dXJlO30vLyBjdXJyZW50bHkgcmVseWluZyBvbiB0aGUgZmFjdCB0aGF0IFdlYkdMUmVuZGVyVGFyZ2V0Q3ViZS50ZXh0dXJlIGlzIGEgVGV4dHVyZSBhbmQgTk9UIGEgQ3ViZVRleHR1cmUKLy8gVE9ETzogdW5pZnkgdGhlc2UgY29kZSBwYXRocwppZih0ZXh0dXJlJiZ0ZXh0dXJlLmlzQ3ViZVRleHR1cmV8fEFycmF5LmlzQXJyYXkodGV4dHVyZS5pbWFnZSkmJnRleHR1cmUuaW1hZ2UubGVuZ3RoPT09Nil7Ly8gQ29tcHJlc3NlZFRleHR1cmUgY2FuIGhhdmUgQXJyYXkgaW4gaW1hZ2UgOi8KLy8gdGhpcyBmdW5jdGlvbiBhbG9uZSBzaG91bGQgdGFrZSBjYXJlIG9mIGN1YmUgdGV4dHVyZXMKc2V0VGV4dHVyZUN1YmUodGV4dHVyZSxzbG90KTt9ZWxzZXsvLyBhc3N1bWVkOiB0ZXh0dXJlIHByb3BlcnR5IG9mIFRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0Q3ViZQpzZXRUZXh0dXJlQ3ViZUR5bmFtaWModGV4dHVyZSxzbG90KTt9fS8vCnRoaXMuYWxsb2NhdGVUZXh0dXJlVW5pdD1hbGxvY2F0ZVRleHR1cmVVbml0O3RoaXMucmVzZXRUZXh0dXJlVW5pdHM9cmVzZXRUZXh0dXJlVW5pdHM7dGhpcy5zZXRUZXh0dXJlMkQ9c2V0VGV4dHVyZTJEO3RoaXMuc2V0VGV4dHVyZTJEQXJyYXk9c2V0VGV4dHVyZTJEQXJyYXk7dGhpcy5zZXRUZXh0dXJlM0Q9c2V0VGV4dHVyZTNEO3RoaXMuc2V0VGV4dHVyZUN1YmU9c2V0VGV4dHVyZUN1YmU7dGhpcy5zZXRUZXh0dXJlQ3ViZUR5bmFtaWM9c2V0VGV4dHVyZUN1YmVEeW5hbWljO3RoaXMuc2V0dXBSZW5kZXJUYXJnZXQ9c2V0dXBSZW5kZXJUYXJnZXQ7dGhpcy51cGRhdGVSZW5kZXJUYXJnZXRNaXBtYXA9dXBkYXRlUmVuZGVyVGFyZ2V0TWlwbWFwO3RoaXMudXBkYXRlTXVsdGlzYW1wbGVSZW5kZXJUYXJnZXQ9dXBkYXRlTXVsdGlzYW1wbGVSZW5kZXJUYXJnZXQ7dGhpcy5zYWZlU2V0VGV4dHVyZTJEPXNhZmVTZXRUZXh0dXJlMkQ7dGhpcy5zYWZlU2V0VGV4dHVyZUN1YmU9c2FmZVNldFRleHR1cmVDdWJlO30vKioKICAgKiBAYXV0aG9yIHRoZXNwaXRlIC8gaHR0cDovL3d3dy50d2l0dGVyLmNvbS90aGVzcGl0ZQogICAqL2Z1bmN0aW9uIFdlYkdMVXRpbHMoZ2wsZXh0ZW5zaW9ucyxjYXBhYmlsaXRpZXMpe3ZhciBpc1dlYkdMMj1jYXBhYmlsaXRpZXMuaXNXZWJHTDI7ZnVuY3Rpb24gY29udmVydChwKXt2YXIgZXh0ZW5zaW9uO2lmKHA9PT1VbnNpZ25lZEJ5dGVUeXBlKXtyZXR1cm4gNTEyMTt9aWYocD09PVVuc2lnbmVkU2hvcnQ0NDQ0VHlwZSl7cmV0dXJuIDMyODE5O31pZihwPT09VW5zaWduZWRTaG9ydDU1NTFUeXBlKXtyZXR1cm4gMzI4MjA7fWlmKHA9PT1VbnNpZ25lZFNob3J0NTY1VHlwZSl7cmV0dXJuIDMzNjM1O31pZihwPT09Qnl0ZVR5cGUpe3JldHVybiA1MTIwO31pZihwPT09U2hvcnRUeXBlKXtyZXR1cm4gNTEyMjt9aWYocD09PVVuc2lnbmVkU2hvcnRUeXBlKXtyZXR1cm4gNTEyMzt9aWYocD09PUludFR5cGUpe3JldHVybiA1MTI0O31pZihwPT09VW5zaWduZWRJbnRUeXBlKXtyZXR1cm4gNTEyNTt9aWYocD09PUZsb2F0VHlwZSl7cmV0dXJuIDUxMjY7fWlmKHA9PT1IYWxmRmxvYXRUeXBlKXtpZihpc1dlYkdMMil7cmV0dXJuIDUxMzE7fWV4dGVuc2lvbj1leHRlbnNpb25zLmdldCgnT0VTX3RleHR1cmVfaGFsZl9mbG9hdCcpO2lmKGV4dGVuc2lvbiE9PW51bGwpe3JldHVybiBleHRlbnNpb24uSEFMRl9GTE9BVF9PRVM7fWVsc2V7cmV0dXJuIG51bGw7fX1pZihwPT09QWxwaGFGb3JtYXQpe3JldHVybiA2NDA2O31pZihwPT09UkdCRm9ybWF0KXtyZXR1cm4gNjQwNzt9aWYocD09PVJHQkFGb3JtYXQpe3JldHVybiA2NDA4O31pZihwPT09THVtaW5hbmNlRm9ybWF0KXtyZXR1cm4gNjQwOTt9aWYocD09PUx1bWluYW5jZUFscGhhRm9ybWF0KXtyZXR1cm4gNjQxMDt9aWYocD09PURlcHRoRm9ybWF0KXtyZXR1cm4gNjQwMjt9aWYocD09PURlcHRoU3RlbmNpbEZvcm1hdCl7cmV0dXJuIDM0MDQxO31pZihwPT09UmVkRm9ybWF0KXtyZXR1cm4gNjQwMzt9Ly8gV2ViR0wyIGZvcm1hdHMuCmlmKHA9PT1SZWRJbnRlZ2VyRm9ybWF0KXtyZXR1cm4gMzYyNDQ7fWlmKHA9PT1SR0Zvcm1hdCl7cmV0dXJuIDMzMzE5O31pZihwPT09UkdJbnRlZ2VyRm9ybWF0KXtyZXR1cm4gMzMzMjA7fWlmKHA9PT1SR0JJbnRlZ2VyRm9ybWF0KXtyZXR1cm4gMzYyNDg7fWlmKHA9PT1SR0JBSW50ZWdlckZvcm1hdCl7cmV0dXJuIDM2MjQ5O31pZihwPT09UkdCX1MzVENfRFhUMV9Gb3JtYXR8fHA9PT1SR0JBX1MzVENfRFhUMV9Gb3JtYXR8fHA9PT1SR0JBX1MzVENfRFhUM19Gb3JtYXR8fHA9PT1SR0JBX1MzVENfRFhUNV9Gb3JtYXQpe2V4dGVuc2lvbj1leHRlbnNpb25zLmdldCgnV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGMnKTtpZihleHRlbnNpb24hPT1udWxsKXtpZihwPT09UkdCX1MzVENfRFhUMV9Gb3JtYXQpe3JldHVybiBleHRlbnNpb24uQ09NUFJFU1NFRF9SR0JfUzNUQ19EWFQxX0VYVDt9aWYocD09PVJHQkFfUzNUQ19EWFQxX0Zvcm1hdCl7cmV0dXJuIGV4dGVuc2lvbi5DT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQxX0VYVDt9aWYocD09PVJHQkFfUzNUQ19EWFQzX0Zvcm1hdCl7cmV0dXJuIGV4dGVuc2lvbi5DT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQzX0VYVDt9aWYocD09PVJHQkFfUzNUQ19EWFQ1X0Zvcm1hdCl7cmV0dXJuIGV4dGVuc2lvbi5DT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQ1X0VYVDt9fWVsc2V7cmV0dXJuIG51bGw7fX1pZihwPT09UkdCX1BWUlRDXzRCUFBWMV9Gb3JtYXR8fHA9PT1SR0JfUFZSVENfMkJQUFYxX0Zvcm1hdHx8cD09PVJHQkFfUFZSVENfNEJQUFYxX0Zvcm1hdHx8cD09PVJHQkFfUFZSVENfMkJQUFYxX0Zvcm1hdCl7ZXh0ZW5zaW9uPWV4dGVuc2lvbnMuZ2V0KCdXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfcHZydGMnKTtpZihleHRlbnNpb24hPT1udWxsKXtpZihwPT09UkdCX1BWUlRDXzRCUFBWMV9Gb3JtYXQpe3JldHVybiBleHRlbnNpb24uQ09NUFJFU1NFRF9SR0JfUFZSVENfNEJQUFYxX0lNRzt9aWYocD09PVJHQl9QVlJUQ18yQlBQVjFfRm9ybWF0KXtyZXR1cm4gZXh0ZW5zaW9uLkNPTVBSRVNTRURfUkdCX1BWUlRDXzJCUFBWMV9JTUc7fWlmKHA9PT1SR0JBX1BWUlRDXzRCUFBWMV9Gb3JtYXQpe3JldHVybiBleHRlbnNpb24uQ09NUFJFU1NFRF9SR0JBX1BWUlRDXzRCUFBWMV9JTUc7fWlmKHA9PT1SR0JBX1BWUlRDXzJCUFBWMV9Gb3JtYXQpe3JldHVybiBleHRlbnNpb24uQ09NUFJFU1NFRF9SR0JBX1BWUlRDXzJCUFBWMV9JTUc7fX1lbHNle3JldHVybiBudWxsO319aWYocD09PVJHQl9FVEMxX0Zvcm1hdCl7ZXh0ZW5zaW9uPWV4dGVuc2lvbnMuZ2V0KCdXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXRjMScpO2lmKGV4dGVuc2lvbiE9PW51bGwpe3JldHVybiBleHRlbnNpb24uQ09NUFJFU1NFRF9SR0JfRVRDMV9XRUJHTDt9ZWxzZXtyZXR1cm4gbnVsbDt9fWlmKHA9PT1SR0JBX0FTVENfNHg0X0Zvcm1hdHx8cD09PVJHQkFfQVNUQ181eDRfRm9ybWF0fHxwPT09UkdCQV9BU1RDXzV4NV9Gb3JtYXR8fHA9PT1SR0JBX0FTVENfNng1X0Zvcm1hdHx8cD09PVJHQkFfQVNUQ182eDZfRm9ybWF0fHxwPT09UkdCQV9BU1RDXzh4NV9Gb3JtYXR8fHA9PT1SR0JBX0FTVENfOHg2X0Zvcm1hdHx8cD09PVJHQkFfQVNUQ184eDhfRm9ybWF0fHxwPT09UkdCQV9BU1RDXzEweDVfRm9ybWF0fHxwPT09UkdCQV9BU1RDXzEweDZfRm9ybWF0fHxwPT09UkdCQV9BU1RDXzEweDhfRm9ybWF0fHxwPT09UkdCQV9BU1RDXzEweDEwX0Zvcm1hdHx8cD09PVJHQkFfQVNUQ18xMngxMF9Gb3JtYXR8fHA9PT1SR0JBX0FTVENfMTJ4MTJfRm9ybWF0KXtleHRlbnNpb249ZXh0ZW5zaW9ucy5nZXQoJ1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9hc3RjJyk7aWYoZXh0ZW5zaW9uIT09bnVsbCl7Ly8gVE9ETyBDb21wbGV0ZT8KcmV0dXJuIHA7fWVsc2V7cmV0dXJuIG51bGw7fX1pZihwPT09VW5zaWduZWRJbnQyNDhUeXBlKXtpZihpc1dlYkdMMil7cmV0dXJuIDM0MDQyO31leHRlbnNpb249ZXh0ZW5zaW9ucy5nZXQoJ1dFQkdMX2RlcHRoX3RleHR1cmUnKTtpZihleHRlbnNpb24hPT1udWxsKXtyZXR1cm4gZXh0ZW5zaW9uLlVOU0lHTkVEX0lOVF8yNF84X1dFQkdMO31lbHNle3JldHVybiBudWxsO319fXJldHVybntjb252ZXJ0OmNvbnZlcnR9O30vKioKICAgKiBAYXV0aG9yIGZlcm5hbmRvanNnIC8gaHR0cDovL2Zlcm5hbmRvanNnLmNvbQogICAqIEBhdXRob3IgVGFrYWhpcm8gaHR0cHM6Ly9naXRodWIuY29tL3Rha2FoaXJveAogICAqL2Z1bmN0aW9uIFdlYkdMTXVsdGl2aWV3UmVuZGVyVGFyZ2V0KHdpZHRoLGhlaWdodCxudW1WaWV3cyxvcHRpb25zKXtXZWJHTFJlbmRlclRhcmdldC5jYWxsKHRoaXMsd2lkdGgsaGVpZ2h0LG9wdGlvbnMpO3RoaXMuZGVwdGhCdWZmZXI9ZmFsc2U7dGhpcy5zdGVuY2lsQnVmZmVyPWZhbHNlO3RoaXMubnVtVmlld3M9bnVtVmlld3M7fVdlYkdMTXVsdGl2aWV3UmVuZGVyVGFyZ2V0LnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoV2ViR0xSZW5kZXJUYXJnZXQucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6V2ViR0xNdWx0aXZpZXdSZW5kZXJUYXJnZXQsaXNXZWJHTE11bHRpdmlld1JlbmRlclRhcmdldDp0cnVlLGNvcHk6ZnVuY3Rpb24gY29weShzb3VyY2Upe1dlYkdMUmVuZGVyVGFyZ2V0LnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyxzb3VyY2UpO3RoaXMubnVtVmlld3M9c291cmNlLm51bVZpZXdzO3JldHVybiB0aGlzO30sc2V0TnVtVmlld3M6ZnVuY3Rpb24gc2V0TnVtVmlld3MobnVtVmlld3Mpe2lmKHRoaXMubnVtVmlld3MhPT1udW1WaWV3cyl7dGhpcy5udW1WaWV3cz1udW1WaWV3czt0aGlzLmRpc3Bvc2UoKTt9cmV0dXJuIHRoaXM7fX0pOy8qKgogICAqIEBhdXRob3IgZmVybmFuZG9qc2cgLyBodHRwOi8vZmVybmFuZG9qc2cuY29tCiAgICogQGF1dGhvciBUYWthaGlybyBodHRwczovL2dpdGh1Yi5jb20vdGFrYWhpcm94CiAgICovZnVuY3Rpb24gV2ViR0xNdWx0aXZpZXcocmVuZGVyZXIsZ2wpe3ZhciBERUZBVUxUX05VTVZJRVdTPTI7dmFyIGV4dGVuc2lvbnM9cmVuZGVyZXIuZXh0ZW5zaW9uczt2YXIgcHJvcGVydGllcz1yZW5kZXJlci5wcm9wZXJ0aWVzO3ZhciByZW5kZXJUYXJnZXQsY3VycmVudFJlbmRlclRhcmdldDt2YXIgbWF0MyxtYXQ0LGNhbWVyYUFycmF5LHJlbmRlclNpemU7dmFyIGF2YWlsYWJsZTt2YXIgbWF4TnVtVmlld3M9MDsvLwpmdW5jdGlvbiBpc0F2YWlsYWJsZSgpe2lmKGF2YWlsYWJsZT09PXVuZGVmaW5lZCl7dmFyIGV4dGVuc2lvbj1leHRlbnNpb25zLmdldCgnT1ZSX211bHRpdmlldzInKTthdmFpbGFibGU9ZXh0ZW5zaW9uIT09bnVsbCYmZ2wuZ2V0Q29udGV4dEF0dHJpYnV0ZXMoKS5hbnRpYWxpYXM9PT1mYWxzZTtpZihhdmFpbGFibGUpe21heE51bVZpZXdzPWdsLmdldFBhcmFtZXRlcihleHRlbnNpb24uTUFYX1ZJRVdTX09WUik7cmVuZGVyVGFyZ2V0PW5ldyBXZWJHTE11bHRpdmlld1JlbmRlclRhcmdldCgwLDAsREVGQVVMVF9OVU1WSUVXUyk7cmVuZGVyU2l6ZT1uZXcgVmVjdG9yMigpO21hdDQ9W107bWF0Mz1bXTtjYW1lcmFBcnJheT1bXTtmb3IodmFyIGk9MDtpPG1heE51bVZpZXdzO2krKyl7bWF0NFtpXT1uZXcgTWF0cml4NCgpO21hdDNbaV09bmV3IE1hdHJpeDMoKTt9fX1yZXR1cm4gYXZhaWxhYmxlO31mdW5jdGlvbiBnZXRDYW1lcmFBcnJheShjYW1lcmEpe2lmKGNhbWVyYS5pc0FycmF5Q2FtZXJhKXtyZXR1cm4gY2FtZXJhLmNhbWVyYXM7fWNhbWVyYUFycmF5WzBdPWNhbWVyYTtyZXR1cm4gY2FtZXJhQXJyYXk7fWZ1bmN0aW9uIHVwZGF0ZUNhbWVyYVByb2plY3Rpb25NYXRyaWNlc1VuaWZvcm0oY2FtZXJhLHVuaWZvcm1zKXt2YXIgY2FtZXJhcz1nZXRDYW1lcmFBcnJheShjYW1lcmEpO2Zvcih2YXIgaT0wO2k8Y2FtZXJhcy5sZW5ndGg7aSsrKXttYXQ0W2ldLmNvcHkoY2FtZXJhc1tpXS5wcm9qZWN0aW9uTWF0cml4KTt9dW5pZm9ybXMuc2V0VmFsdWUoZ2wsJ3Byb2plY3Rpb25NYXRyaWNlcycsbWF0NCk7fWZ1bmN0aW9uIHVwZGF0ZUNhbWVyYVZpZXdNYXRyaWNlc1VuaWZvcm0oY2FtZXJhLHVuaWZvcm1zKXt2YXIgY2FtZXJhcz1nZXRDYW1lcmFBcnJheShjYW1lcmEpO2Zvcih2YXIgaT0wO2k8Y2FtZXJhcy5sZW5ndGg7aSsrKXttYXQ0W2ldLmNvcHkoY2FtZXJhc1tpXS5tYXRyaXhXb3JsZEludmVyc2UpO311bmlmb3Jtcy5zZXRWYWx1ZShnbCwndmlld01hdHJpY2VzJyxtYXQ0KTt9ZnVuY3Rpb24gdXBkYXRlT2JqZWN0TWF0cmljZXNVbmlmb3JtcyhvYmplY3QsY2FtZXJhLHVuaWZvcm1zKXt2YXIgY2FtZXJhcz1nZXRDYW1lcmFBcnJheShjYW1lcmEpO2Zvcih2YXIgaT0wO2k8Y2FtZXJhcy5sZW5ndGg7aSsrKXttYXQ0W2ldLm11bHRpcGx5TWF0cmljZXMoY2FtZXJhc1tpXS5tYXRyaXhXb3JsZEludmVyc2Usb2JqZWN0Lm1hdHJpeFdvcmxkKTttYXQzW2ldLmdldE5vcm1hbE1hdHJpeChtYXQ0W2ldKTt9dW5pZm9ybXMuc2V0VmFsdWUoZ2wsJ21vZGVsVmlld01hdHJpY2VzJyxtYXQ0KTt1bmlmb3Jtcy5zZXRWYWx1ZShnbCwnbm9ybWFsTWF0cmljZXMnLG1hdDMpO31mdW5jdGlvbiBpc011bHRpdmlld0NvbXBhdGlibGUoY2FtZXJhKXtpZihjYW1lcmEuaXNBcnJheUNhbWVyYT09PXVuZGVmaW5lZCl7cmV0dXJuIHRydWU7fXZhciBjYW1lcmFzPWNhbWVyYS5jYW1lcmFzO2lmKGNhbWVyYXMubGVuZ3RoPm1heE51bVZpZXdzKXtyZXR1cm4gZmFsc2U7fWZvcih2YXIgaT0xLGlsPWNhbWVyYXMubGVuZ3RoO2k8aWw7aSsrKXtpZihjYW1lcmFzWzBdLnZpZXdwb3J0LnohPT1jYW1lcmFzW2ldLnZpZXdwb3J0Lnp8fGNhbWVyYXNbMF0udmlld3BvcnQudyE9PWNhbWVyYXNbaV0udmlld3BvcnQudyl7cmV0dXJuIGZhbHNlO319cmV0dXJuIHRydWU7fWZ1bmN0aW9uIHJlc2l6ZVJlbmRlclRhcmdldChjYW1lcmEpe2lmKGN1cnJlbnRSZW5kZXJUYXJnZXQpe3JlbmRlclNpemUuc2V0KGN1cnJlbnRSZW5kZXJUYXJnZXQud2lkdGgsY3VycmVudFJlbmRlclRhcmdldC5oZWlnaHQpO31lbHNle3JlbmRlcmVyLmdldERyYXdpbmdCdWZmZXJTaXplKHJlbmRlclNpemUpO31pZihjYW1lcmEuaXNBcnJheUNhbWVyYSl7dmFyIHZpZXdwb3J0PWNhbWVyYS5jYW1lcmFzWzBdLnZpZXdwb3J0O3JlbmRlclRhcmdldC5zZXRTaXplKHZpZXdwb3J0Lnosdmlld3BvcnQudyk7cmVuZGVyVGFyZ2V0LnNldE51bVZpZXdzKGNhbWVyYS5jYW1lcmFzLmxlbmd0aCk7fWVsc2V7cmVuZGVyVGFyZ2V0LnNldFNpemUocmVuZGVyU2l6ZS54LHJlbmRlclNpemUueSk7cmVuZGVyVGFyZ2V0LnNldE51bVZpZXdzKERFRkFVTFRfTlVNVklFV1MpO319ZnVuY3Rpb24gYXR0YWNoQ2FtZXJhKGNhbWVyYSl7aWYoaXNNdWx0aXZpZXdDb21wYXRpYmxlKGNhbWVyYSk9PT1mYWxzZSl7cmV0dXJuO31jdXJyZW50UmVuZGVyVGFyZ2V0PXJlbmRlcmVyLmdldFJlbmRlclRhcmdldCgpO3Jlc2l6ZVJlbmRlclRhcmdldChjYW1lcmEpO3JlbmRlcmVyLnNldFJlbmRlclRhcmdldChyZW5kZXJUYXJnZXQpO31mdW5jdGlvbiBkZXRhY2hDYW1lcmEoY2FtZXJhKXtpZihyZW5kZXJUYXJnZXQhPT1yZW5kZXJlci5nZXRSZW5kZXJUYXJnZXQoKSl7cmV0dXJuO31yZW5kZXJlci5zZXRSZW5kZXJUYXJnZXQoY3VycmVudFJlbmRlclRhcmdldCk7Zmx1c2goY2FtZXJhKTt9ZnVuY3Rpb24gZmx1c2goY2FtZXJhKXt2YXIgc3JjUmVuZGVyVGFyZ2V0PXJlbmRlclRhcmdldDt2YXIgbnVtVmlld3M9c3JjUmVuZGVyVGFyZ2V0Lm51bVZpZXdzO3ZhciBzcmNGcmFtZWJ1ZmZlcnM9cHJvcGVydGllcy5nZXQoc3JjUmVuZGVyVGFyZ2V0KS5fX3dlYmdsVmlld0ZyYW1lYnVmZmVyczt2YXIgdmlld1dpZHRoPXNyY1JlbmRlclRhcmdldC53aWR0aDt2YXIgdmlld0hlaWdodD1zcmNSZW5kZXJUYXJnZXQuaGVpZ2h0O2lmKGNhbWVyYS5pc0FycmF5Q2FtZXJhKXtmb3IodmFyIGk9MDtpPG51bVZpZXdzO2krKyl7dmFyIHZpZXdwb3J0PWNhbWVyYS5jYW1lcmFzW2ldLnZpZXdwb3J0O3ZhciB4MT12aWV3cG9ydC54O3ZhciB5MT12aWV3cG9ydC55O3ZhciB4Mj14MSt2aWV3cG9ydC56O3ZhciB5Mj15MSt2aWV3cG9ydC53O2dsLmJpbmRGcmFtZWJ1ZmZlcigzNjAwOCxzcmNGcmFtZWJ1ZmZlcnNbaV0pO2dsLmJsaXRGcmFtZWJ1ZmZlcigwLDAsdmlld1dpZHRoLHZpZXdIZWlnaHQseDEseTEseDIseTIsMTYzODQsOTcyOCk7fX1lbHNle2dsLmJpbmRGcmFtZWJ1ZmZlcigzNjAwOCxzcmNGcmFtZWJ1ZmZlcnNbMF0pO2dsLmJsaXRGcmFtZWJ1ZmZlcigwLDAsdmlld1dpZHRoLHZpZXdIZWlnaHQsMCwwLHJlbmRlclNpemUueCxyZW5kZXJTaXplLnksMTYzODQsOTcyOCk7fX10aGlzLmlzQXZhaWxhYmxlPWlzQXZhaWxhYmxlO3RoaXMuYXR0YWNoQ2FtZXJhPWF0dGFjaENhbWVyYTt0aGlzLmRldGFjaENhbWVyYT1kZXRhY2hDYW1lcmE7dGhpcy51cGRhdGVDYW1lcmFQcm9qZWN0aW9uTWF0cmljZXNVbmlmb3JtPXVwZGF0ZUNhbWVyYVByb2plY3Rpb25NYXRyaWNlc1VuaWZvcm07dGhpcy51cGRhdGVDYW1lcmFWaWV3TWF0cmljZXNVbmlmb3JtPXVwZGF0ZUNhbWVyYVZpZXdNYXRyaWNlc1VuaWZvcm07dGhpcy51cGRhdGVPYmplY3RNYXRyaWNlc1VuaWZvcm1zPXVwZGF0ZU9iamVjdE1hdHJpY2VzVW5pZm9ybXM7fS8qKgogICAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb20vCiAgICovZnVuY3Rpb24gQXJyYXlDYW1lcmEoYXJyYXkpe1BlcnNwZWN0aXZlQ2FtZXJhLmNhbGwodGhpcyk7dGhpcy5jYW1lcmFzPWFycmF5fHxbXTt9QXJyYXlDYW1lcmEucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShQZXJzcGVjdGl2ZUNhbWVyYS5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpBcnJheUNhbWVyYSxpc0FycmF5Q2FtZXJhOnRydWV9KTsvKioKICAgKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tLwogICAqL2Z1bmN0aW9uIEdyb3VwKCl7T2JqZWN0M0QuY2FsbCh0aGlzKTt0aGlzLnR5cGU9J0dyb3VwJzt9R3JvdXAucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShPYmplY3QzRC5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpHcm91cCxpc0dyb3VwOnRydWV9KTsvKioKICAgKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tLwogICAqL2Z1bmN0aW9uIFdlYlhSTWFuYWdlcihyZW5kZXJlcixnbCl7dmFyIHNjb3BlPXRoaXM7dmFyIHNlc3Npb249bnVsbDsvLyB2YXIgZnJhbWVidWZmZXJTY2FsZUZhY3RvciA9IDEuMDsKdmFyIHJlZmVyZW5jZVNwYWNlPW51bGw7dmFyIHJlZmVyZW5jZVNwYWNlVHlwZT0nbG9jYWwtZmxvb3InO3ZhciBwb3NlPW51bGw7dmFyIGNvbnRyb2xsZXJzPVtdO3ZhciBpbnB1dFNvdXJjZXNNYXA9bmV3IE1hcCgpOy8vCnZhciBjYW1lcmFMPW5ldyBQZXJzcGVjdGl2ZUNhbWVyYSgpO2NhbWVyYUwubGF5ZXJzLmVuYWJsZSgxKTtjYW1lcmFMLnZpZXdwb3J0PW5ldyBWZWN0b3I0KCk7dmFyIGNhbWVyYVI9bmV3IFBlcnNwZWN0aXZlQ2FtZXJhKCk7Y2FtZXJhUi5sYXllcnMuZW5hYmxlKDIpO2NhbWVyYVIudmlld3BvcnQ9bmV3IFZlY3RvcjQoKTt2YXIgY2FtZXJhVlI9bmV3IEFycmF5Q2FtZXJhKFtjYW1lcmFMLGNhbWVyYVJdKTtjYW1lcmFWUi5sYXllcnMuZW5hYmxlKDEpO2NhbWVyYVZSLmxheWVycy5lbmFibGUoMik7Ly8KdGhpcy5lbmFibGVkPWZhbHNlO3RoaXMuaXNQcmVzZW50aW5nPWZhbHNlO3RoaXMuZ2V0Q29udHJvbGxlcj1mdW5jdGlvbihpZCl7dmFyIGNvbnRyb2xsZXI9Y29udHJvbGxlcnNbaWRdO2lmKGNvbnRyb2xsZXI9PT11bmRlZmluZWQpe2NvbnRyb2xsZXI9bmV3IEdyb3VwKCk7Y29udHJvbGxlci5tYXRyaXhBdXRvVXBkYXRlPWZhbHNlO2NvbnRyb2xsZXIudmlzaWJsZT1mYWxzZTtjb250cm9sbGVyc1tpZF09Y29udHJvbGxlcjt9cmV0dXJuIGNvbnRyb2xsZXI7fTsvLwpmdW5jdGlvbiBvblNlc3Npb25FdmVudChldmVudCl7dmFyIGNvbnRyb2xsZXI9aW5wdXRTb3VyY2VzTWFwLmdldChldmVudC5pbnB1dFNvdXJjZSk7aWYoY29udHJvbGxlcil7Y29udHJvbGxlci5kaXNwYXRjaEV2ZW50KHt0eXBlOmV2ZW50LnR5cGV9KTt9fWZ1bmN0aW9uIG9uU2Vzc2lvbkVuZCgpe2lucHV0U291cmNlc01hcC5mb3JFYWNoKGZ1bmN0aW9uKGNvbnRyb2xsZXIsaW5wdXRTb3VyY2Upe2NvbnRyb2xsZXIuZGlzcGF0Y2hFdmVudCh7dHlwZTonZGlzY29ubmVjdGVkJyxkYXRhOmlucHV0U291cmNlfSk7Y29udHJvbGxlci52aXNpYmxlPWZhbHNlO30pO2lucHV0U291cmNlc01hcC5jbGVhcigpOy8vCnJlbmRlcmVyLnNldEZyYW1lYnVmZmVyKG51bGwpO3JlbmRlcmVyLnNldFJlbmRlclRhcmdldChyZW5kZXJlci5nZXRSZW5kZXJUYXJnZXQoKSk7Ly8gSGFjayAjMTU4MzAKYW5pbWF0aW9uLnN0b3AoKTtzY29wZS5kaXNwYXRjaEV2ZW50KHt0eXBlOidzZXNzaW9uZW5kJ30pO3Njb3BlLmlzUHJlc2VudGluZz1mYWxzZTt9ZnVuY3Rpb24gb25SZXF1ZXN0UmVmZXJlbmNlU3BhY2UodmFsdWUpe3JlZmVyZW5jZVNwYWNlPXZhbHVlO2FuaW1hdGlvbi5zZXRDb250ZXh0KHNlc3Npb24pO2FuaW1hdGlvbi5zdGFydCgpO3Njb3BlLmRpc3BhdGNoRXZlbnQoe3R5cGU6J3Nlc3Npb25zdGFydCd9KTtzY29wZS5pc1ByZXNlbnRpbmc9dHJ1ZTt9dGhpcy5zZXRGcmFtZWJ1ZmZlclNjYWxlRmFjdG9yPWZ1bmN0aW9uLyogdmFsdWUgKi8oKXsvLyBmcmFtZWJ1ZmZlclNjYWxlRmFjdG9yID0gdmFsdWU7Cn07dGhpcy5zZXRSZWZlcmVuY2VTcGFjZVR5cGU9ZnVuY3Rpb24odmFsdWUpe3JlZmVyZW5jZVNwYWNlVHlwZT12YWx1ZTt9O3RoaXMuZ2V0UmVmZXJlbmNlU3BhY2U9ZnVuY3Rpb24oKXtyZXR1cm4gcmVmZXJlbmNlU3BhY2U7fTt0aGlzLmdldFNlc3Npb249ZnVuY3Rpb24oKXtyZXR1cm4gc2Vzc2lvbjt9O3RoaXMuc2V0U2Vzc2lvbj1mdW5jdGlvbih2YWx1ZSl7c2Vzc2lvbj12YWx1ZTtpZihzZXNzaW9uIT09bnVsbCl7c2Vzc2lvbi5hZGRFdmVudExpc3RlbmVyKCdzZWxlY3QnLG9uU2Vzc2lvbkV2ZW50KTtzZXNzaW9uLmFkZEV2ZW50TGlzdGVuZXIoJ3NlbGVjdHN0YXJ0JyxvblNlc3Npb25FdmVudCk7c2Vzc2lvbi5hZGRFdmVudExpc3RlbmVyKCdzZWxlY3RlbmQnLG9uU2Vzc2lvbkV2ZW50KTtzZXNzaW9uLmFkZEV2ZW50TGlzdGVuZXIoJ3NxdWVlemUnLG9uU2Vzc2lvbkV2ZW50KTtzZXNzaW9uLmFkZEV2ZW50TGlzdGVuZXIoJ3NxdWVlemVzdGFydCcsb25TZXNzaW9uRXZlbnQpO3Nlc3Npb24uYWRkRXZlbnRMaXN0ZW5lcignc3F1ZWV6ZWVuZCcsb25TZXNzaW9uRXZlbnQpO3Nlc3Npb24uYWRkRXZlbnRMaXN0ZW5lcignZW5kJyxvblNlc3Npb25FbmQpO3ZhciBhdHRyaWJ1dGVzPWdsLmdldENvbnRleHRBdHRyaWJ1dGVzKCk7dmFyIGxheWVySW5pdD17YW50aWFsaWFzOmF0dHJpYnV0ZXMuYW50aWFsaWFzLGFscGhhOmF0dHJpYnV0ZXMuYWxwaGEsZGVwdGg6YXR0cmlidXRlcy5kZXB0aCxzdGVuY2lsOmF0dHJpYnV0ZXMuc3RlbmNpbH07Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmCnZhciBiYXNlTGF5ZXI9bmV3IFhSV2ViR0xMYXllcihzZXNzaW9uLGdsLGxheWVySW5pdCk7c2Vzc2lvbi51cGRhdGVSZW5kZXJTdGF0ZSh7YmFzZUxheWVyOmJhc2VMYXllcn0pO3Nlc3Npb24ucmVxdWVzdFJlZmVyZW5jZVNwYWNlKHJlZmVyZW5jZVNwYWNlVHlwZSkudGhlbihvblJlcXVlc3RSZWZlcmVuY2VTcGFjZSk7Ly8Kc2Vzc2lvbi5hZGRFdmVudExpc3RlbmVyKCdpbnB1dHNvdXJjZXNjaGFuZ2UnLHVwZGF0ZUlucHV0U291cmNlcyk7fX07ZnVuY3Rpb24gdXBkYXRlSW5wdXRTb3VyY2VzKGV2ZW50KXt2YXIgaW5wdXRTb3VyY2VzPXNlc3Npb24uaW5wdXRTb3VyY2VzOy8vIEFzc2lnbiBpbnB1dFNvdXJjZXMgdG8gYXZhaWxhYmxlIGNvbnRyb2xsZXJzCmZvcih2YXIgaT0wO2k8Y29udHJvbGxlcnMubGVuZ3RoO2krKyl7aW5wdXRTb3VyY2VzTWFwLnNldChpbnB1dFNvdXJjZXNbaV0sY29udHJvbGxlcnNbaV0pO30vLyBOb3RpZnkgZGlzY29ubmVjdGVkCmZvcih2YXIgaT0wO2k8ZXZlbnQucmVtb3ZlZC5sZW5ndGg7aSsrKXt2YXIgaW5wdXRTb3VyY2U9ZXZlbnQucmVtb3ZlZFtpXTt2YXIgY29udHJvbGxlcj1pbnB1dFNvdXJjZXNNYXAuZ2V0KGlucHV0U291cmNlKTtpZihjb250cm9sbGVyKXtjb250cm9sbGVyLmRpc3BhdGNoRXZlbnQoe3R5cGU6J2Rpc2Nvbm5lY3RlZCcsZGF0YTppbnB1dFNvdXJjZX0pO2lucHV0U291cmNlc01hcC5kZWxldGUoaW5wdXRTb3VyY2UpO319Ly8gTm90aWZ5IGNvbm5lY3RlZApmb3IodmFyIGk9MDtpPGV2ZW50LmFkZGVkLmxlbmd0aDtpKyspe3ZhciBpbnB1dFNvdXJjZT1ldmVudC5hZGRlZFtpXTt2YXIgY29udHJvbGxlcj1pbnB1dFNvdXJjZXNNYXAuZ2V0KGlucHV0U291cmNlKTtpZihjb250cm9sbGVyKXtjb250cm9sbGVyLmRpc3BhdGNoRXZlbnQoe3R5cGU6J2Nvbm5lY3RlZCcsZGF0YTppbnB1dFNvdXJjZX0pO319fS8vCnZhciBjYW1lcmFMUG9zPW5ldyBWZWN0b3IzKCk7dmFyIGNhbWVyYVJQb3M9bmV3IFZlY3RvcjMoKTsvKioKICAgICAqIEBhdXRob3IganNhbnRlbGwgLyBodHRwczovL3d3dy5qc2FudGVsbC5jb20vCiAgICAgKgogICAgICogQXNzdW1lcyAyIGNhbWVyYXMgdGhhdCBhcmUgcGFyYWxsZWwgYW5kIHNoYXJlIGFuIFgtYXhpcywgYW5kIHRoYXQKICAgICAqIHRoZSBjYW1lcmFzJyBwcm9qZWN0aW9uIGFuZCB3b3JsZCBtYXRyaWNlcyBoYXZlIGFscmVhZHkgYmVlbiBzZXQuCiAgICAgKiBBbmQgdGhhdCBuZWFyIGFuZCBmYXIgcGxhbmVzIGFyZSBpZGVudGljYWwgZm9yIGJvdGggY2FtZXJhcy4KICAgICAqIFZpc3VhbGl6YXRpb24gb2YgdGhpcyB0ZWNobmlxdWU6IGh0dHBzOi8vY29tcHV0ZXJncmFwaGljcy5zdGFja2V4Y2hhbmdlLmNvbS9hLzQ3NjUKICAgICAqL2Z1bmN0aW9uIHNldFByb2plY3Rpb25Gcm9tVW5pb24oY2FtZXJhLGNhbWVyYUwsY2FtZXJhUil7Y2FtZXJhTFBvcy5zZXRGcm9tTWF0cml4UG9zaXRpb24oY2FtZXJhTC5tYXRyaXhXb3JsZCk7Y2FtZXJhUlBvcy5zZXRGcm9tTWF0cml4UG9zaXRpb24oY2FtZXJhUi5tYXRyaXhXb3JsZCk7dmFyIGlwZD1jYW1lcmFMUG9zLmRpc3RhbmNlVG8oY2FtZXJhUlBvcyk7dmFyIHByb2pMPWNhbWVyYUwucHJvamVjdGlvbk1hdHJpeC5lbGVtZW50czt2YXIgcHJvalI9Y2FtZXJhUi5wcm9qZWN0aW9uTWF0cml4LmVsZW1lbnRzOy8vIFZSIHN5c3RlbXMgd2lsbCBoYXZlIGlkZW50aWNhbCBmYXIgYW5kIG5lYXIgcGxhbmVzLCBhbmQKLy8gbW9zdCBsaWtlbHkgaWRlbnRpY2FsIHRvcCBhbmQgYm90dG9tIGZydXN0dW0gZXh0ZW50cy4KLy8gVXNlIHRoZSBsZWZ0IGNhbWVyYSBmb3IgdGhlc2UgdmFsdWVzLgp2YXIgbmVhcj1wcm9qTFsxNF0vKHByb2pMWzEwXS0xKTt2YXIgZmFyPXByb2pMWzE0XS8ocHJvakxbMTBdKzEpO3ZhciB0b3BGb3Y9KHByb2pMWzldKzEpL3Byb2pMWzVdO3ZhciBib3R0b21Gb3Y9KHByb2pMWzldLTEpL3Byb2pMWzVdO3ZhciBsZWZ0Rm92PShwcm9qTFs4XS0xKS9wcm9qTFswXTt2YXIgcmlnaHRGb3Y9KHByb2pSWzhdKzEpL3Byb2pSWzBdO3ZhciBsZWZ0PW5lYXIqbGVmdEZvdjt2YXIgcmlnaHQ9bmVhcipyaWdodEZvdjsvLyBDYWxjdWxhdGUgdGhlIG5ldyBjYW1lcmEncyBwb3NpdGlvbiBvZmZzZXQgZnJvbSB0aGUKLy8gbGVmdCBjYW1lcmEuIHhPZmZzZXQgc2hvdWxkIGJlIHJvdWdobHkgaGFsZiBgaXBkYC4KdmFyIHpPZmZzZXQ9aXBkLygtbGVmdEZvdityaWdodEZvdik7dmFyIHhPZmZzZXQ9ek9mZnNldCotbGVmdEZvdjsvLyBUT0RPOiBCZXR0ZXIgd2F5IHRvIGFwcGx5IHRoaXMgb2Zmc2V0PwpjYW1lcmFMLm1hdHJpeFdvcmxkLmRlY29tcG9zZShjYW1lcmEucG9zaXRpb24sY2FtZXJhLnF1YXRlcm5pb24sY2FtZXJhLnNjYWxlKTtjYW1lcmEudHJhbnNsYXRlWCh4T2Zmc2V0KTtjYW1lcmEudHJhbnNsYXRlWih6T2Zmc2V0KTtjYW1lcmEubWF0cml4V29ybGQuY29tcG9zZShjYW1lcmEucG9zaXRpb24sY2FtZXJhLnF1YXRlcm5pb24sY2FtZXJhLnNjYWxlKTtjYW1lcmEubWF0cml4V29ybGRJbnZlcnNlLmdldEludmVyc2UoY2FtZXJhLm1hdHJpeFdvcmxkKTsvLyBGaW5kIHRoZSB1bmlvbiBvZiB0aGUgZnJ1c3R1bSB2YWx1ZXMgb2YgdGhlIGNhbWVyYXMgYW5kIHNjYWxlCi8vIHRoZSB2YWx1ZXMgc28gdGhhdCB0aGUgbmVhciBwbGFuZSdzIHBvc2l0aW9uIGRvZXMgbm90IGNoYW5nZSBpbiB3b3JsZCBzcGFjZSwKLy8gYWx0aG91Z2ggbXVzdCBub3cgYmUgcmVsYXRpdmUgdG8gdGhlIG5ldyB1bmlvbiBjYW1lcmEuCnZhciBuZWFyMj1uZWFyK3pPZmZzZXQ7dmFyIGZhcjI9ZmFyK3pPZmZzZXQ7dmFyIGxlZnQyPWxlZnQteE9mZnNldDt2YXIgcmlnaHQyPXJpZ2h0KyhpcGQteE9mZnNldCk7dmFyIHRvcDI9dG9wRm92KmZhci9mYXIyKm5lYXIyO3ZhciBib3R0b20yPWJvdHRvbUZvdipmYXIvZmFyMipuZWFyMjtjYW1lcmEucHJvamVjdGlvbk1hdHJpeC5tYWtlUGVyc3BlY3RpdmUobGVmdDIscmlnaHQyLHRvcDIsYm90dG9tMixuZWFyMixmYXIyKTt9ZnVuY3Rpb24gdXBkYXRlQ2FtZXJhKGNhbWVyYSxwYXJlbnQpe2lmKHBhcmVudD09PW51bGwpe2NhbWVyYS5tYXRyaXhXb3JsZC5jb3B5KGNhbWVyYS5tYXRyaXgpO31lbHNle2NhbWVyYS5tYXRyaXhXb3JsZC5tdWx0aXBseU1hdHJpY2VzKHBhcmVudC5tYXRyaXhXb3JsZCxjYW1lcmEubWF0cml4KTt9Y2FtZXJhLm1hdHJpeFdvcmxkSW52ZXJzZS5nZXRJbnZlcnNlKGNhbWVyYS5tYXRyaXhXb3JsZCk7fXRoaXMuZ2V0Q2FtZXJhPWZ1bmN0aW9uKGNhbWVyYSl7dmFyIHBhcmVudD1jYW1lcmEucGFyZW50O3ZhciBjYW1lcmFzPWNhbWVyYVZSLmNhbWVyYXM7dXBkYXRlQ2FtZXJhKGNhbWVyYVZSLHBhcmVudCk7Zm9yKHZhciBpPTA7aTxjYW1lcmFzLmxlbmd0aDtpKyspe3VwZGF0ZUNhbWVyYShjYW1lcmFzW2ldLHBhcmVudCk7fS8vIHVwZGF0ZSBjYW1lcmEgYW5kIGl0cyBjaGlsZHJlbgpjYW1lcmEubWF0cml4V29ybGQuY29weShjYW1lcmFWUi5tYXRyaXhXb3JsZCk7dmFyIGNoaWxkcmVuPWNhbWVyYS5jaGlsZHJlbjtmb3IodmFyIGk9MCxsPWNoaWxkcmVuLmxlbmd0aDtpPGw7aSsrKXtjaGlsZHJlbltpXS51cGRhdGVNYXRyaXhXb3JsZCh0cnVlKTt9c2V0UHJvamVjdGlvbkZyb21VbmlvbihjYW1lcmFWUixjYW1lcmFMLGNhbWVyYVIpO3JldHVybiBjYW1lcmFWUjt9Oy8vIEFuaW1hdGlvbiBMb29wCnZhciBvbkFuaW1hdGlvbkZyYW1lQ2FsbGJhY2s9bnVsbDtmdW5jdGlvbiBvbkFuaW1hdGlvbkZyYW1lKHRpbWUsZnJhbWUpe3Bvc2U9ZnJhbWUuZ2V0Vmlld2VyUG9zZShyZWZlcmVuY2VTcGFjZSk7aWYocG9zZSE9PW51bGwpe3ZhciB2aWV3cz1wb3NlLnZpZXdzO3ZhciBiYXNlTGF5ZXI9c2Vzc2lvbi5yZW5kZXJTdGF0ZS5iYXNlTGF5ZXI7cmVuZGVyZXIuc2V0RnJhbWVidWZmZXIoYmFzZUxheWVyLmZyYW1lYnVmZmVyKTtmb3IodmFyIGk9MDtpPHZpZXdzLmxlbmd0aDtpKyspe3ZhciB2aWV3PXZpZXdzW2ldO3ZhciB2aWV3cG9ydD1iYXNlTGF5ZXIuZ2V0Vmlld3BvcnQodmlldyk7dmFyIHZpZXdNYXRyaXg9dmlldy50cmFuc2Zvcm0uaW52ZXJzZS5tYXRyaXg7dmFyIGNhbWVyYT1jYW1lcmFWUi5jYW1lcmFzW2ldO2NhbWVyYS5tYXRyaXguZnJvbUFycmF5KHZpZXdNYXRyaXgpLmdldEludmVyc2UoY2FtZXJhLm1hdHJpeCk7Y2FtZXJhLnByb2plY3Rpb25NYXRyaXguZnJvbUFycmF5KHZpZXcucHJvamVjdGlvbk1hdHJpeCk7Y2FtZXJhLnZpZXdwb3J0LnNldCh2aWV3cG9ydC54LHZpZXdwb3J0Lnksdmlld3BvcnQud2lkdGgsdmlld3BvcnQuaGVpZ2h0KTtpZihpPT09MCl7Y2FtZXJhVlIubWF0cml4LmNvcHkoY2FtZXJhLm1hdHJpeCk7fX19Ly8KdmFyIGlucHV0U291cmNlcz1zZXNzaW9uLmlucHV0U291cmNlcztmb3IodmFyIGk9MDtpPGNvbnRyb2xsZXJzLmxlbmd0aDtpKyspe3ZhciBjb250cm9sbGVyPWNvbnRyb2xsZXJzW2ldO3ZhciBpbnB1dFNvdXJjZT1pbnB1dFNvdXJjZXNbaV07aWYoaW5wdXRTb3VyY2Upe3ZhciBpbnB1dFBvc2U9ZnJhbWUuZ2V0UG9zZShpbnB1dFNvdXJjZS50YXJnZXRSYXlTcGFjZSxyZWZlcmVuY2VTcGFjZSk7aWYoaW5wdXRQb3NlIT09bnVsbCl7Y29udHJvbGxlci5tYXRyaXguZnJvbUFycmF5KGlucHV0UG9zZS50cmFuc2Zvcm0ubWF0cml4KTtjb250cm9sbGVyLm1hdHJpeC5kZWNvbXBvc2UoY29udHJvbGxlci5wb3NpdGlvbixjb250cm9sbGVyLnJvdGF0aW9uLGNvbnRyb2xsZXIuc2NhbGUpO2NvbnRyb2xsZXIudmlzaWJsZT10cnVlO2NvbnRpbnVlO319Y29udHJvbGxlci52aXNpYmxlPWZhbHNlO31pZihvbkFuaW1hdGlvbkZyYW1lQ2FsbGJhY2spe29uQW5pbWF0aW9uRnJhbWVDYWxsYmFjayh0aW1lLGZyYW1lKTt9fXZhciBhbmltYXRpb249bmV3IFdlYkdMQW5pbWF0aW9uKCk7YW5pbWF0aW9uLnNldEFuaW1hdGlvbkxvb3Aob25BbmltYXRpb25GcmFtZSk7dGhpcy5zZXRBbmltYXRpb25Mb29wPWZ1bmN0aW9uKGNhbGxiYWNrKXtvbkFuaW1hdGlvbkZyYW1lQ2FsbGJhY2s9Y2FsbGJhY2s7fTt0aGlzLmRpc3Bvc2U9ZnVuY3Rpb24oKXt9O31PYmplY3QuYXNzaWduKFdlYlhSTWFuYWdlci5wcm90b3R5cGUsRXZlbnREaXNwYXRjaGVyLnByb3RvdHlwZSk7LyoqCiAgICogQGF1dGhvciBzdXBlcmVnZ2JlcnQgLyBodHRwOi8vd3d3LnBhdWxicnVudC5jby51ay8KICAgKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tLwogICAqIEBhdXRob3IgYWx0ZXJlZHEgLyBodHRwOi8vYWx0ZXJlZHF1YWxpYS5jb20vCiAgICogQGF1dGhvciBzemltZWsgLyBodHRwczovL2dpdGh1Yi5jb20vc3ppbWVrLwogICAqIEBhdXRob3IgdHNjaHcKICAgKi9mdW5jdGlvbiBXZWJHTFJlbmRlcmVyKHBhcmFtZXRlcnMpe3BhcmFtZXRlcnM9cGFyYW1ldGVyc3x8e307dmFyIF9jYW52YXM9cGFyYW1ldGVycy5jYW52YXMhPT11bmRlZmluZWQ/cGFyYW1ldGVycy5jYW52YXM6ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sJywnY2FudmFzJyksX2NvbnRleHQ9cGFyYW1ldGVycy5jb250ZXh0IT09dW5kZWZpbmVkP3BhcmFtZXRlcnMuY29udGV4dDpudWxsLF9hbHBoYT1wYXJhbWV0ZXJzLmFscGhhIT09dW5kZWZpbmVkP3BhcmFtZXRlcnMuYWxwaGE6ZmFsc2UsX2RlcHRoPXBhcmFtZXRlcnMuZGVwdGghPT11bmRlZmluZWQ/cGFyYW1ldGVycy5kZXB0aDp0cnVlLF9zdGVuY2lsPXBhcmFtZXRlcnMuc3RlbmNpbCE9PXVuZGVmaW5lZD9wYXJhbWV0ZXJzLnN0ZW5jaWw6dHJ1ZSxfYW50aWFsaWFzPXBhcmFtZXRlcnMuYW50aWFsaWFzIT09dW5kZWZpbmVkP3BhcmFtZXRlcnMuYW50aWFsaWFzOmZhbHNlLF9wcmVtdWx0aXBsaWVkQWxwaGE9cGFyYW1ldGVycy5wcmVtdWx0aXBsaWVkQWxwaGEhPT11bmRlZmluZWQ/cGFyYW1ldGVycy5wcmVtdWx0aXBsaWVkQWxwaGE6dHJ1ZSxfcHJlc2VydmVEcmF3aW5nQnVmZmVyPXBhcmFtZXRlcnMucHJlc2VydmVEcmF3aW5nQnVmZmVyIT09dW5kZWZpbmVkP3BhcmFtZXRlcnMucHJlc2VydmVEcmF3aW5nQnVmZmVyOmZhbHNlLF9wb3dlclByZWZlcmVuY2U9cGFyYW1ldGVycy5wb3dlclByZWZlcmVuY2UhPT11bmRlZmluZWQ/cGFyYW1ldGVycy5wb3dlclByZWZlcmVuY2U6J2RlZmF1bHQnLF9mYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0PXBhcmFtZXRlcnMuZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCE9PXVuZGVmaW5lZD9wYXJhbWV0ZXJzLmZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ6ZmFsc2U7dmFyIGN1cnJlbnRSZW5kZXJMaXN0PW51bGw7dmFyIGN1cnJlbnRSZW5kZXJTdGF0ZT1udWxsOy8vIHB1YmxpYyBwcm9wZXJ0aWVzCnRoaXMuZG9tRWxlbWVudD1fY2FudmFzOy8vIERlYnVnIGNvbmZpZ3VyYXRpb24gY29udGFpbmVyCnRoaXMuZGVidWc9ey8qKgogICAgICAgKiBFbmFibGVzIGVycm9yIGNoZWNraW5nIGFuZCByZXBvcnRpbmcgd2hlbiBzaGFkZXIgcHJvZ3JhbXMgYXJlIGJlaW5nIGNvbXBpbGVkCiAgICAgICAqIEB0eXBlIHtib29sZWFufQogICAgICAgKi9jaGVja1NoYWRlckVycm9yczp0cnVlfTsvLyBjbGVhcmluZwp0aGlzLmF1dG9DbGVhcj10cnVlO3RoaXMuYXV0b0NsZWFyQ29sb3I9dHJ1ZTt0aGlzLmF1dG9DbGVhckRlcHRoPXRydWU7dGhpcy5hdXRvQ2xlYXJTdGVuY2lsPXRydWU7Ly8gc2NlbmUgZ3JhcGgKdGhpcy5zb3J0T2JqZWN0cz10cnVlOy8vIHVzZXItZGVmaW5lZCBjbGlwcGluZwp0aGlzLmNsaXBwaW5nUGxhbmVzPVtdO3RoaXMubG9jYWxDbGlwcGluZ0VuYWJsZWQ9ZmFsc2U7Ly8gcGh5c2ljYWxseSBiYXNlZCBzaGFkaW5nCnRoaXMuZ2FtbWFGYWN0b3I9Mi4wOy8vIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eQp0aGlzLm91dHB1dEVuY29kaW5nPUxpbmVhckVuY29kaW5nOy8vIHBoeXNpY2FsIGxpZ2h0cwp0aGlzLnBoeXNpY2FsbHlDb3JyZWN0TGlnaHRzPWZhbHNlOy8vIHRvbmUgbWFwcGluZwp0aGlzLnRvbmVNYXBwaW5nPUxpbmVhclRvbmVNYXBwaW5nO3RoaXMudG9uZU1hcHBpbmdFeHBvc3VyZT0xLjA7dGhpcy50b25lTWFwcGluZ1doaXRlUG9pbnQ9MS4wOy8vIG1vcnBocwp0aGlzLm1heE1vcnBoVGFyZ2V0cz04O3RoaXMubWF4TW9ycGhOb3JtYWxzPTQ7Ly8gaW50ZXJuYWwgcHJvcGVydGllcwp2YXIgX3RoaXM9dGhpcyxfaXNDb250ZXh0TG9zdD1mYWxzZSwvLyBpbnRlcm5hbCBzdGF0ZSBjYWNoZQpfZnJhbWVidWZmZXI9bnVsbCxfY3VycmVudEFjdGl2ZUN1YmVGYWNlPTAsX2N1cnJlbnRBY3RpdmVNaXBtYXBMZXZlbD0wLF9jdXJyZW50UmVuZGVyVGFyZ2V0PW51bGwsX2N1cnJlbnRGcmFtZWJ1ZmZlcj1udWxsLF9jdXJyZW50TWF0ZXJpYWxJZD0tMSwvLyBnZW9tZXRyeSBhbmQgcHJvZ3JhbSBjYWNoaW5nCl9jdXJyZW50R2VvbWV0cnlQcm9ncmFtPXtnZW9tZXRyeTpudWxsLHByb2dyYW06bnVsbCx3aXJlZnJhbWU6ZmFsc2V9LF9jdXJyZW50Q2FtZXJhPW51bGwsX2N1cnJlbnRBcnJheUNhbWVyYT1udWxsLF9jdXJyZW50Vmlld3BvcnQ9bmV3IFZlY3RvcjQoKSxfY3VycmVudFNjaXNzb3I9bmV3IFZlY3RvcjQoKSxfY3VycmVudFNjaXNzb3JUZXN0PW51bGwsLy8KX3dpZHRoPV9jYW52YXMud2lkdGgsX2hlaWdodD1fY2FudmFzLmhlaWdodCxfcGl4ZWxSYXRpbz0xLF9vcGFxdWVTb3J0PW51bGwsX3RyYW5zcGFyZW50U29ydD1udWxsLF92aWV3cG9ydD1uZXcgVmVjdG9yNCgwLDAsX3dpZHRoLF9oZWlnaHQpLF9zY2lzc29yPW5ldyBWZWN0b3I0KDAsMCxfd2lkdGgsX2hlaWdodCksX3NjaXNzb3JUZXN0PWZhbHNlLC8vIGZydXN0dW0KX2ZydXN0dW09bmV3IEZydXN0dW0oKSwvLyBjbGlwcGluZwpfY2xpcHBpbmc9bmV3IFdlYkdMQ2xpcHBpbmcoKSxfY2xpcHBpbmdFbmFibGVkPWZhbHNlLF9sb2NhbENsaXBwaW5nRW5hYmxlZD1mYWxzZSwvLyBjYW1lcmEgbWF0cmljZXMgY2FjaGUKX3Byb2pTY3JlZW5NYXRyaXg9bmV3IE1hdHJpeDQoKSxfdmVjdG9yMz1uZXcgVmVjdG9yMygpO2Z1bmN0aW9uIGdldFRhcmdldFBpeGVsUmF0aW8oKXtyZXR1cm4gX2N1cnJlbnRSZW5kZXJUYXJnZXQ9PT1udWxsP19waXhlbFJhdGlvOjE7fS8vIGluaXRpYWxpemUKdmFyIF9nbDt0cnl7dmFyIGNvbnRleHRBdHRyaWJ1dGVzPXthbHBoYTpfYWxwaGEsZGVwdGg6X2RlcHRoLHN0ZW5jaWw6X3N0ZW5jaWwsYW50aWFsaWFzOl9hbnRpYWxpYXMscHJlbXVsdGlwbGllZEFscGhhOl9wcmVtdWx0aXBsaWVkQWxwaGEscHJlc2VydmVEcmF3aW5nQnVmZmVyOl9wcmVzZXJ2ZURyYXdpbmdCdWZmZXIscG93ZXJQcmVmZXJlbmNlOl9wb3dlclByZWZlcmVuY2UsZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdDpfZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCx4ckNvbXBhdGlibGU6dHJ1ZX07Ly8gZXZlbnQgbGlzdGVuZXJzIG11c3QgYmUgcmVnaXN0ZXJlZCBiZWZvcmUgV2ViR0wgY29udGV4dCBpcyBjcmVhdGVkLCBzZWUgIzEyNzUzCl9jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignd2ViZ2xjb250ZXh0bG9zdCcsb25Db250ZXh0TG9zdCxmYWxzZSk7X2NhbnZhcy5hZGRFdmVudExpc3RlbmVyKCd3ZWJnbGNvbnRleHRyZXN0b3JlZCcsb25Db250ZXh0UmVzdG9yZSxmYWxzZSk7X2dsPV9jb250ZXh0fHxfY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJyxjb250ZXh0QXR0cmlidXRlcyl8fF9jYW52YXMuZ2V0Q29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJyxjb250ZXh0QXR0cmlidXRlcyk7aWYoX2dsPT09bnVsbCl7aWYoX2NhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbCcpIT09bnVsbCl7dGhyb3cgbmV3IEVycm9yKCdFcnJvciBjcmVhdGluZyBXZWJHTCBjb250ZXh0IHdpdGggeW91ciBzZWxlY3RlZCBhdHRyaWJ1dGVzLicpO31lbHNle3Rocm93IG5ldyBFcnJvcignRXJyb3IgY3JlYXRpbmcgV2ViR0wgY29udGV4dC4nKTt9fS8vIFNvbWUgZXhwZXJpbWVudGFsLXdlYmdsIGltcGxlbWVudGF0aW9ucyBkbyBub3QgaGF2ZSBnZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQKaWYoX2dsLmdldFNoYWRlclByZWNpc2lvbkZvcm1hdD09PXVuZGVmaW5lZCl7X2dsLmdldFNoYWRlclByZWNpc2lvbkZvcm1hdD1mdW5jdGlvbigpe3JldHVybnsncmFuZ2VNaW4nOjEsJ3JhbmdlTWF4JzoxLCdwcmVjaXNpb24nOjF9O307fX1jYXRjaChlcnJvcil7Y29uc29sZS5lcnJvcignVEhSRUUuV2ViR0xSZW5kZXJlcjogJytlcnJvci5tZXNzYWdlKTt0aHJvdyBlcnJvcjt9dmFyIGV4dGVuc2lvbnMsY2FwYWJpbGl0aWVzLHN0YXRlLGluZm87dmFyIHByb3BlcnRpZXMsdGV4dHVyZXMsYXR0cmlidXRlcyxnZW9tZXRyaWVzLG9iamVjdHM7dmFyIHByb2dyYW1DYWNoZSxyZW5kZXJMaXN0cyxyZW5kZXJTdGF0ZXM7dmFyIGJhY2tncm91bmQsbW9ycGh0YXJnZXRzLGJ1ZmZlclJlbmRlcmVyLGluZGV4ZWRCdWZmZXJSZW5kZXJlcjt2YXIgdXRpbHM7ZnVuY3Rpb24gaW5pdEdMQ29udGV4dCgpe2V4dGVuc2lvbnM9bmV3IFdlYkdMRXh0ZW5zaW9ucyhfZ2wpO2NhcGFiaWxpdGllcz1uZXcgV2ViR0xDYXBhYmlsaXRpZXMoX2dsLGV4dGVuc2lvbnMscGFyYW1ldGVycyk7aWYoY2FwYWJpbGl0aWVzLmlzV2ViR0wyPT09ZmFsc2Upe2V4dGVuc2lvbnMuZ2V0KCdXRUJHTF9kZXB0aF90ZXh0dXJlJyk7ZXh0ZW5zaW9ucy5nZXQoJ09FU190ZXh0dXJlX2Zsb2F0Jyk7ZXh0ZW5zaW9ucy5nZXQoJ09FU190ZXh0dXJlX2hhbGZfZmxvYXQnKTtleHRlbnNpb25zLmdldCgnT0VTX3RleHR1cmVfaGFsZl9mbG9hdF9saW5lYXInKTtleHRlbnNpb25zLmdldCgnT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzJyk7ZXh0ZW5zaW9ucy5nZXQoJ09FU19lbGVtZW50X2luZGV4X3VpbnQnKTtleHRlbnNpb25zLmdldCgnQU5HTEVfaW5zdGFuY2VkX2FycmF5cycpO31leHRlbnNpb25zLmdldCgnT0VTX3RleHR1cmVfZmxvYXRfbGluZWFyJyk7dXRpbHM9bmV3IFdlYkdMVXRpbHMoX2dsLGV4dGVuc2lvbnMsY2FwYWJpbGl0aWVzKTtzdGF0ZT1uZXcgV2ViR0xTdGF0ZShfZ2wsZXh0ZW5zaW9ucyxjYXBhYmlsaXRpZXMpO3N0YXRlLnNjaXNzb3IoX2N1cnJlbnRTY2lzc29yLmNvcHkoX3NjaXNzb3IpLm11bHRpcGx5U2NhbGFyKF9waXhlbFJhdGlvKS5mbG9vcigpKTtzdGF0ZS52aWV3cG9ydChfY3VycmVudFZpZXdwb3J0LmNvcHkoX3ZpZXdwb3J0KS5tdWx0aXBseVNjYWxhcihfcGl4ZWxSYXRpbykuZmxvb3IoKSk7aW5mbz1uZXcgV2ViR0xJbmZvKF9nbCk7cHJvcGVydGllcz1uZXcgV2ViR0xQcm9wZXJ0aWVzKCk7dGV4dHVyZXM9bmV3IFdlYkdMVGV4dHVyZXMoX2dsLGV4dGVuc2lvbnMsc3RhdGUscHJvcGVydGllcyxjYXBhYmlsaXRpZXMsdXRpbHMsaW5mbyk7YXR0cmlidXRlcz1uZXcgV2ViR0xBdHRyaWJ1dGVzKF9nbCk7Z2VvbWV0cmllcz1uZXcgV2ViR0xHZW9tZXRyaWVzKF9nbCxhdHRyaWJ1dGVzLGluZm8pO29iamVjdHM9bmV3IFdlYkdMT2JqZWN0cyhfZ2wsZ2VvbWV0cmllcyxhdHRyaWJ1dGVzLGluZm8pO21vcnBodGFyZ2V0cz1uZXcgV2ViR0xNb3JwaHRhcmdldHMoX2dsKTtwcm9ncmFtQ2FjaGU9bmV3IFdlYkdMUHJvZ3JhbXMoX3RoaXMsZXh0ZW5zaW9ucyxjYXBhYmlsaXRpZXMpO3JlbmRlckxpc3RzPW5ldyBXZWJHTFJlbmRlckxpc3RzKCk7cmVuZGVyU3RhdGVzPW5ldyBXZWJHTFJlbmRlclN0YXRlcygpO2JhY2tncm91bmQ9bmV3IFdlYkdMQmFja2dyb3VuZChfdGhpcyxzdGF0ZSxvYmplY3RzLF9wcmVtdWx0aXBsaWVkQWxwaGEpO2J1ZmZlclJlbmRlcmVyPW5ldyBXZWJHTEJ1ZmZlclJlbmRlcmVyKF9nbCxleHRlbnNpb25zLGluZm8sY2FwYWJpbGl0aWVzKTtpbmRleGVkQnVmZmVyUmVuZGVyZXI9bmV3IFdlYkdMSW5kZXhlZEJ1ZmZlclJlbmRlcmVyKF9nbCxleHRlbnNpb25zLGluZm8sY2FwYWJpbGl0aWVzKTtpbmZvLnByb2dyYW1zPXByb2dyYW1DYWNoZS5wcm9ncmFtcztfdGhpcy5jYXBhYmlsaXRpZXM9Y2FwYWJpbGl0aWVzO190aGlzLmV4dGVuc2lvbnM9ZXh0ZW5zaW9ucztfdGhpcy5wcm9wZXJ0aWVzPXByb3BlcnRpZXM7X3RoaXMucmVuZGVyTGlzdHM9cmVuZGVyTGlzdHM7X3RoaXMuc3RhdGU9c3RhdGU7X3RoaXMuaW5mbz1pbmZvO31pbml0R0xDb250ZXh0KCk7Ly8geHIKdmFyIHhyPW5ldyBXZWJYUk1hbmFnZXIoX3RoaXMsX2dsKTt0aGlzLnhyPXhyOy8vIE11bHRpdmlldwp2YXIgbXVsdGl2aWV3PW5ldyBXZWJHTE11bHRpdmlldyhfdGhpcyxfZ2wpOy8vIHNoYWRvdyBtYXAKdmFyIHNoYWRvd01hcD1uZXcgV2ViR0xTaGFkb3dNYXAoX3RoaXMsb2JqZWN0cyxjYXBhYmlsaXRpZXMubWF4VGV4dHVyZVNpemUpO3RoaXMuc2hhZG93TWFwPXNoYWRvd01hcDsvLyBBUEkKdGhpcy5nZXRDb250ZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIF9nbDt9O3RoaXMuZ2V0Q29udGV4dEF0dHJpYnV0ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gX2dsLmdldENvbnRleHRBdHRyaWJ1dGVzKCk7fTt0aGlzLmZvcmNlQ29udGV4dExvc3M9ZnVuY3Rpb24oKXt2YXIgZXh0ZW5zaW9uPWV4dGVuc2lvbnMuZ2V0KCdXRUJHTF9sb3NlX2NvbnRleHQnKTtpZihleHRlbnNpb24pe2V4dGVuc2lvbi5sb3NlQ29udGV4dCgpO319O3RoaXMuZm9yY2VDb250ZXh0UmVzdG9yZT1mdW5jdGlvbigpe3ZhciBleHRlbnNpb249ZXh0ZW5zaW9ucy5nZXQoJ1dFQkdMX2xvc2VfY29udGV4dCcpO2lmKGV4dGVuc2lvbil7ZXh0ZW5zaW9uLnJlc3RvcmVDb250ZXh0KCk7fX07dGhpcy5nZXRQaXhlbFJhdGlvPWZ1bmN0aW9uKCl7cmV0dXJuIF9waXhlbFJhdGlvO307dGhpcy5zZXRQaXhlbFJhdGlvPWZ1bmN0aW9uKHZhbHVlKXtpZih2YWx1ZT09PXVuZGVmaW5lZCl7cmV0dXJuO31fcGl4ZWxSYXRpbz12YWx1ZTt0aGlzLnNldFNpemUoX3dpZHRoLF9oZWlnaHQsZmFsc2UpO307dGhpcy5nZXRTaXplPWZ1bmN0aW9uKHRhcmdldCl7aWYodGFyZ2V0PT09dW5kZWZpbmVkKXtjb25zb2xlLndhcm4oJ1dlYkdMUmVuZGVyZXI6IC5nZXRzaXplKCkgbm93IHJlcXVpcmVzIGEgVmVjdG9yMiBhcyBhbiBhcmd1bWVudCcpO3RhcmdldD1uZXcgVmVjdG9yMigpO31yZXR1cm4gdGFyZ2V0LnNldChfd2lkdGgsX2hlaWdodCk7fTt0aGlzLnNldFNpemU9ZnVuY3Rpb24od2lkdGgsaGVpZ2h0LHVwZGF0ZVN0eWxlKXtpZih4ci5pc1ByZXNlbnRpbmcpe2NvbnNvbGUud2FybignVEhSRUUuV2ViR0xSZW5kZXJlcjogQ2FuXCd0IGNoYW5nZSBzaXplIHdoaWxlIFZSIGRldmljZSBpcyBwcmVzZW50aW5nLicpO3JldHVybjt9X3dpZHRoPXdpZHRoO19oZWlnaHQ9aGVpZ2h0O19jYW52YXMud2lkdGg9TWF0aC5mbG9vcih3aWR0aCpfcGl4ZWxSYXRpbyk7X2NhbnZhcy5oZWlnaHQ9TWF0aC5mbG9vcihoZWlnaHQqX3BpeGVsUmF0aW8pO2lmKHVwZGF0ZVN0eWxlIT09ZmFsc2Upe19jYW52YXMuc3R5bGUud2lkdGg9d2lkdGgrJ3B4JztfY2FudmFzLnN0eWxlLmhlaWdodD1oZWlnaHQrJ3B4Jzt9dGhpcy5zZXRWaWV3cG9ydCgwLDAsd2lkdGgsaGVpZ2h0KTt9O3RoaXMuZ2V0RHJhd2luZ0J1ZmZlclNpemU9ZnVuY3Rpb24odGFyZ2V0KXtpZih0YXJnZXQ9PT11bmRlZmluZWQpe2NvbnNvbGUud2FybignV2ViR0xSZW5kZXJlcjogLmdldGRyYXdpbmdCdWZmZXJTaXplKCkgbm93IHJlcXVpcmVzIGEgVmVjdG9yMiBhcyBhbiBhcmd1bWVudCcpO3RhcmdldD1uZXcgVmVjdG9yMigpO31yZXR1cm4gdGFyZ2V0LnNldChfd2lkdGgqX3BpeGVsUmF0aW8sX2hlaWdodCpfcGl4ZWxSYXRpbykuZmxvb3IoKTt9O3RoaXMuc2V0RHJhd2luZ0J1ZmZlclNpemU9ZnVuY3Rpb24od2lkdGgsaGVpZ2h0LHBpeGVsUmF0aW8pe193aWR0aD13aWR0aDtfaGVpZ2h0PWhlaWdodDtfcGl4ZWxSYXRpbz1waXhlbFJhdGlvO19jYW52YXMud2lkdGg9TWF0aC5mbG9vcih3aWR0aCpwaXhlbFJhdGlvKTtfY2FudmFzLmhlaWdodD1NYXRoLmZsb29yKGhlaWdodCpwaXhlbFJhdGlvKTt0aGlzLnNldFZpZXdwb3J0KDAsMCx3aWR0aCxoZWlnaHQpO307dGhpcy5nZXRDdXJyZW50Vmlld3BvcnQ9ZnVuY3Rpb24odGFyZ2V0KXtpZih0YXJnZXQ9PT11bmRlZmluZWQpe2NvbnNvbGUud2FybignV2ViR0xSZW5kZXJlcjogLmdldEN1cnJlbnRWaWV3cG9ydCgpIG5vdyByZXF1aXJlcyBhIFZlY3RvcjQgYXMgYW4gYXJndW1lbnQnKTt0YXJnZXQ9bmV3IFZlY3RvcjQoKTt9cmV0dXJuIHRhcmdldC5jb3B5KF9jdXJyZW50Vmlld3BvcnQpO307dGhpcy5nZXRWaWV3cG9ydD1mdW5jdGlvbih0YXJnZXQpe3JldHVybiB0YXJnZXQuY29weShfdmlld3BvcnQpO307dGhpcy5zZXRWaWV3cG9ydD1mdW5jdGlvbih4LHksd2lkdGgsaGVpZ2h0KXtpZih4LmlzVmVjdG9yNCl7X3ZpZXdwb3J0LnNldCh4LngseC55LHgueix4LncpO31lbHNle192aWV3cG9ydC5zZXQoeCx5LHdpZHRoLGhlaWdodCk7fXN0YXRlLnZpZXdwb3J0KF9jdXJyZW50Vmlld3BvcnQuY29weShfdmlld3BvcnQpLm11bHRpcGx5U2NhbGFyKF9waXhlbFJhdGlvKS5mbG9vcigpKTt9O3RoaXMuZ2V0U2Npc3Nvcj1mdW5jdGlvbih0YXJnZXQpe3JldHVybiB0YXJnZXQuY29weShfc2Npc3Nvcik7fTt0aGlzLnNldFNjaXNzb3I9ZnVuY3Rpb24oeCx5LHdpZHRoLGhlaWdodCl7aWYoeC5pc1ZlY3RvcjQpe19zY2lzc29yLnNldCh4LngseC55LHgueix4LncpO31lbHNle19zY2lzc29yLnNldCh4LHksd2lkdGgsaGVpZ2h0KTt9c3RhdGUuc2Npc3NvcihfY3VycmVudFNjaXNzb3IuY29weShfc2Npc3NvcikubXVsdGlwbHlTY2FsYXIoX3BpeGVsUmF0aW8pLmZsb29yKCkpO307dGhpcy5nZXRTY2lzc29yVGVzdD1mdW5jdGlvbigpe3JldHVybiBfc2Npc3NvclRlc3Q7fTt0aGlzLnNldFNjaXNzb3JUZXN0PWZ1bmN0aW9uKGJvb2xlYW4pe3N0YXRlLnNldFNjaXNzb3JUZXN0KF9zY2lzc29yVGVzdD1ib29sZWFuKTt9O3RoaXMuc2V0T3BhcXVlU29ydD1mdW5jdGlvbihtZXRob2Qpe19vcGFxdWVTb3J0PW1ldGhvZDt9O3RoaXMuc2V0VHJhbnNwYXJlbnRTb3J0PWZ1bmN0aW9uKG1ldGhvZCl7X3RyYW5zcGFyZW50U29ydD1tZXRob2Q7fTsvLyBDbGVhcmluZwp0aGlzLmdldENsZWFyQ29sb3I9ZnVuY3Rpb24oKXtyZXR1cm4gYmFja2dyb3VuZC5nZXRDbGVhckNvbG9yKCk7fTt0aGlzLnNldENsZWFyQ29sb3I9ZnVuY3Rpb24oKXtiYWNrZ3JvdW5kLnNldENsZWFyQ29sb3IuYXBwbHkoYmFja2dyb3VuZCxhcmd1bWVudHMpO307dGhpcy5nZXRDbGVhckFscGhhPWZ1bmN0aW9uKCl7cmV0dXJuIGJhY2tncm91bmQuZ2V0Q2xlYXJBbHBoYSgpO307dGhpcy5zZXRDbGVhckFscGhhPWZ1bmN0aW9uKCl7YmFja2dyb3VuZC5zZXRDbGVhckFscGhhLmFwcGx5KGJhY2tncm91bmQsYXJndW1lbnRzKTt9O3RoaXMuY2xlYXI9ZnVuY3Rpb24oY29sb3IsZGVwdGgsc3RlbmNpbCl7dmFyIGJpdHM9MDtpZihjb2xvcj09PXVuZGVmaW5lZHx8Y29sb3Ipe2JpdHN8PTE2Mzg0O31pZihkZXB0aD09PXVuZGVmaW5lZHx8ZGVwdGgpe2JpdHN8PTI1Njt9aWYoc3RlbmNpbD09PXVuZGVmaW5lZHx8c3RlbmNpbCl7Yml0c3w9MTAyNDt9X2dsLmNsZWFyKGJpdHMpO307dGhpcy5jbGVhckNvbG9yPWZ1bmN0aW9uKCl7dGhpcy5jbGVhcih0cnVlLGZhbHNlLGZhbHNlKTt9O3RoaXMuY2xlYXJEZXB0aD1mdW5jdGlvbigpe3RoaXMuY2xlYXIoZmFsc2UsdHJ1ZSxmYWxzZSk7fTt0aGlzLmNsZWFyU3RlbmNpbD1mdW5jdGlvbigpe3RoaXMuY2xlYXIoZmFsc2UsZmFsc2UsdHJ1ZSk7fTsvLwp0aGlzLmRpc3Bvc2U9ZnVuY3Rpb24oKXtfY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dGxvc3QnLG9uQ29udGV4dExvc3QsZmFsc2UpO19jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2ViZ2xjb250ZXh0cmVzdG9yZWQnLG9uQ29udGV4dFJlc3RvcmUsZmFsc2UpO3JlbmRlckxpc3RzLmRpc3Bvc2UoKTtyZW5kZXJTdGF0ZXMuZGlzcG9zZSgpO3Byb3BlcnRpZXMuZGlzcG9zZSgpO29iamVjdHMuZGlzcG9zZSgpO3hyLmRpc3Bvc2UoKTthbmltYXRpb24uc3RvcCgpO307Ly8gRXZlbnRzCmZ1bmN0aW9uIG9uQ29udGV4dExvc3QoZXZlbnQpe2V2ZW50LnByZXZlbnREZWZhdWx0KCk7Y29uc29sZS5sb2coJ1RIUkVFLldlYkdMUmVuZGVyZXI6IENvbnRleHQgTG9zdC4nKTtfaXNDb250ZXh0TG9zdD10cnVlO31mdW5jdGlvbi8qIGV2ZW50ICovb25Db250ZXh0UmVzdG9yZSgpe2NvbnNvbGUubG9nKCdUSFJFRS5XZWJHTFJlbmRlcmVyOiBDb250ZXh0IFJlc3RvcmVkLicpO19pc0NvbnRleHRMb3N0PWZhbHNlO2luaXRHTENvbnRleHQoKTt9ZnVuY3Rpb24gb25NYXRlcmlhbERpc3Bvc2UoZXZlbnQpe3ZhciBtYXRlcmlhbD1ldmVudC50YXJnZXQ7bWF0ZXJpYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignZGlzcG9zZScsb25NYXRlcmlhbERpc3Bvc2UpO2RlYWxsb2NhdGVNYXRlcmlhbChtYXRlcmlhbCk7fS8vIEJ1ZmZlciBkZWFsbG9jYXRpb24KZnVuY3Rpb24gZGVhbGxvY2F0ZU1hdGVyaWFsKG1hdGVyaWFsKXtyZWxlYXNlTWF0ZXJpYWxQcm9ncmFtUmVmZXJlbmNlKG1hdGVyaWFsKTtwcm9wZXJ0aWVzLnJlbW92ZShtYXRlcmlhbCk7fWZ1bmN0aW9uIHJlbGVhc2VNYXRlcmlhbFByb2dyYW1SZWZlcmVuY2UobWF0ZXJpYWwpe3ZhciBwcm9ncmFtSW5mbz1wcm9wZXJ0aWVzLmdldChtYXRlcmlhbCkucHJvZ3JhbTttYXRlcmlhbC5wcm9ncmFtPXVuZGVmaW5lZDtpZihwcm9ncmFtSW5mbyE9PXVuZGVmaW5lZCl7cHJvZ3JhbUNhY2hlLnJlbGVhc2VQcm9ncmFtKHByb2dyYW1JbmZvKTt9fS8vIEJ1ZmZlciByZW5kZXJpbmcKZnVuY3Rpb24gcmVuZGVyT2JqZWN0SW1tZWRpYXRlKG9iamVjdCxwcm9ncmFtKXtvYmplY3QucmVuZGVyKGZ1bmN0aW9uKG9iamVjdCl7X3RoaXMucmVuZGVyQnVmZmVySW1tZWRpYXRlKG9iamVjdCxwcm9ncmFtKTt9KTt9dGhpcy5yZW5kZXJCdWZmZXJJbW1lZGlhdGU9ZnVuY3Rpb24ob2JqZWN0LHByb2dyYW0pe3N0YXRlLmluaXRBdHRyaWJ1dGVzKCk7dmFyIGJ1ZmZlcnM9cHJvcGVydGllcy5nZXQob2JqZWN0KTtpZihvYmplY3QuaGFzUG9zaXRpb25zJiYhYnVmZmVycy5wb3NpdGlvbil7YnVmZmVycy5wb3NpdGlvbj1fZ2wuY3JlYXRlQnVmZmVyKCk7fWlmKG9iamVjdC5oYXNOb3JtYWxzJiYhYnVmZmVycy5ub3JtYWwpe2J1ZmZlcnMubm9ybWFsPV9nbC5jcmVhdGVCdWZmZXIoKTt9aWYob2JqZWN0Lmhhc1V2cyYmIWJ1ZmZlcnMudXYpe2J1ZmZlcnMudXY9X2dsLmNyZWF0ZUJ1ZmZlcigpO31pZihvYmplY3QuaGFzQ29sb3JzJiYhYnVmZmVycy5jb2xvcil7YnVmZmVycy5jb2xvcj1fZ2wuY3JlYXRlQnVmZmVyKCk7fXZhciBwcm9ncmFtQXR0cmlidXRlcz1wcm9ncmFtLmdldEF0dHJpYnV0ZXMoKTtpZihvYmplY3QuaGFzUG9zaXRpb25zKXtfZ2wuYmluZEJ1ZmZlcigzNDk2MixidWZmZXJzLnBvc2l0aW9uKTtfZ2wuYnVmZmVyRGF0YSgzNDk2MixvYmplY3QucG9zaXRpb25BcnJheSwzNTA0OCk7c3RhdGUuZW5hYmxlQXR0cmlidXRlKHByb2dyYW1BdHRyaWJ1dGVzLnBvc2l0aW9uKTtfZ2wudmVydGV4QXR0cmliUG9pbnRlcihwcm9ncmFtQXR0cmlidXRlcy5wb3NpdGlvbiwzLDUxMjYsZmFsc2UsMCwwKTt9aWYob2JqZWN0Lmhhc05vcm1hbHMpe19nbC5iaW5kQnVmZmVyKDM0OTYyLGJ1ZmZlcnMubm9ybWFsKTtfZ2wuYnVmZmVyRGF0YSgzNDk2MixvYmplY3Qubm9ybWFsQXJyYXksMzUwNDgpO3N0YXRlLmVuYWJsZUF0dHJpYnV0ZShwcm9ncmFtQXR0cmlidXRlcy5ub3JtYWwpO19nbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHByb2dyYW1BdHRyaWJ1dGVzLm5vcm1hbCwzLDUxMjYsZmFsc2UsMCwwKTt9aWYob2JqZWN0Lmhhc1V2cyl7X2dsLmJpbmRCdWZmZXIoMzQ5NjIsYnVmZmVycy51dik7X2dsLmJ1ZmZlckRhdGEoMzQ5NjIsb2JqZWN0LnV2QXJyYXksMzUwNDgpO3N0YXRlLmVuYWJsZUF0dHJpYnV0ZShwcm9ncmFtQXR0cmlidXRlcy51dik7X2dsLnZlcnRleEF0dHJpYlBvaW50ZXIocHJvZ3JhbUF0dHJpYnV0ZXMudXYsMiw1MTI2LGZhbHNlLDAsMCk7fWlmKG9iamVjdC5oYXNDb2xvcnMpe19nbC5iaW5kQnVmZmVyKDM0OTYyLGJ1ZmZlcnMuY29sb3IpO19nbC5idWZmZXJEYXRhKDM0OTYyLG9iamVjdC5jb2xvckFycmF5LDM1MDQ4KTtzdGF0ZS5lbmFibGVBdHRyaWJ1dGUocHJvZ3JhbUF0dHJpYnV0ZXMuY29sb3IpO19nbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHByb2dyYW1BdHRyaWJ1dGVzLmNvbG9yLDMsNTEyNixmYWxzZSwwLDApO31zdGF0ZS5kaXNhYmxlVW51c2VkQXR0cmlidXRlcygpO19nbC5kcmF3QXJyYXlzKDQsMCxvYmplY3QuY291bnQpO29iamVjdC5jb3VudD0wO307dmFyIHRlbXBTY2VuZT1uZXcgU2NlbmUoKTt0aGlzLnJlbmRlckJ1ZmZlckRpcmVjdD1mdW5jdGlvbihjYW1lcmEsc2NlbmUsZ2VvbWV0cnksbWF0ZXJpYWwsb2JqZWN0LGdyb3VwKXtpZihzY2VuZT09PW51bGwpe3NjZW5lPXRlbXBTY2VuZTt9Ly8gcmVuZGVyQnVmZmVyRGlyZWN0IHNlY29uZCBwYXJhbWV0ZXIgdXNlZCB0byBiZSBmb2cgKGNvdWxkIGJlIG51bGwpCnZhciBmcm9udEZhY2VDVz1vYmplY3QuaXNNZXNoJiZvYmplY3QubWF0cml4V29ybGQuZGV0ZXJtaW5hbnQoKTwwO3ZhciBwcm9ncmFtPXNldFByb2dyYW0oY2FtZXJhLHNjZW5lLG1hdGVyaWFsLG9iamVjdCk7c3RhdGUuc2V0TWF0ZXJpYWwobWF0ZXJpYWwsZnJvbnRGYWNlQ1cpO3ZhciB1cGRhdGVCdWZmZXJzPWZhbHNlO2lmKF9jdXJyZW50R2VvbWV0cnlQcm9ncmFtLmdlb21ldHJ5IT09Z2VvbWV0cnkuaWR8fF9jdXJyZW50R2VvbWV0cnlQcm9ncmFtLnByb2dyYW0hPT1wcm9ncmFtLmlkfHxfY3VycmVudEdlb21ldHJ5UHJvZ3JhbS53aXJlZnJhbWUhPT0obWF0ZXJpYWwud2lyZWZyYW1lPT09dHJ1ZSkpe19jdXJyZW50R2VvbWV0cnlQcm9ncmFtLmdlb21ldHJ5PWdlb21ldHJ5LmlkO19jdXJyZW50R2VvbWV0cnlQcm9ncmFtLnByb2dyYW09cHJvZ3JhbS5pZDtfY3VycmVudEdlb21ldHJ5UHJvZ3JhbS53aXJlZnJhbWU9bWF0ZXJpYWwud2lyZWZyYW1lPT09dHJ1ZTt1cGRhdGVCdWZmZXJzPXRydWU7fWlmKG1hdGVyaWFsLm1vcnBoVGFyZ2V0c3x8bWF0ZXJpYWwubW9ycGhOb3JtYWxzKXttb3JwaHRhcmdldHMudXBkYXRlKG9iamVjdCxnZW9tZXRyeSxtYXRlcmlhbCxwcm9ncmFtKTt1cGRhdGVCdWZmZXJzPXRydWU7fS8vCnZhciBpbmRleD1nZW9tZXRyeS5pbmRleDt2YXIgcG9zaXRpb249Z2VvbWV0cnkuYXR0cmlidXRlcy5wb3NpdGlvbjsvLwppZihpbmRleD09PW51bGwpe2lmKHBvc2l0aW9uPT09dW5kZWZpbmVkfHxwb3NpdGlvbi5jb3VudD09PTApe3JldHVybjt9fWVsc2UgaWYoaW5kZXguY291bnQ9PT0wKXtyZXR1cm47fS8vCnZhciByYW5nZUZhY3Rvcj0xO2lmKG1hdGVyaWFsLndpcmVmcmFtZT09PXRydWUpe2luZGV4PWdlb21ldHJpZXMuZ2V0V2lyZWZyYW1lQXR0cmlidXRlKGdlb21ldHJ5KTtyYW5nZUZhY3Rvcj0yO312YXIgYXR0cmlidXRlO3ZhciByZW5kZXJlcj1idWZmZXJSZW5kZXJlcjtpZihpbmRleCE9PW51bGwpe2F0dHJpYnV0ZT1hdHRyaWJ1dGVzLmdldChpbmRleCk7cmVuZGVyZXI9aW5kZXhlZEJ1ZmZlclJlbmRlcmVyO3JlbmRlcmVyLnNldEluZGV4KGF0dHJpYnV0ZSk7fWlmKHVwZGF0ZUJ1ZmZlcnMpe3NldHVwVmVydGV4QXR0cmlidXRlcyhvYmplY3QsZ2VvbWV0cnksbWF0ZXJpYWwscHJvZ3JhbSk7aWYoaW5kZXghPT1udWxsKXtfZ2wuYmluZEJ1ZmZlcigzNDk2MyxhdHRyaWJ1dGUuYnVmZmVyKTt9fS8vCnZhciBkYXRhQ291bnQ9aW5kZXghPT1udWxsP2luZGV4LmNvdW50OnBvc2l0aW9uLmNvdW50O3ZhciByYW5nZVN0YXJ0PWdlb21ldHJ5LmRyYXdSYW5nZS5zdGFydCpyYW5nZUZhY3Rvcjt2YXIgcmFuZ2VDb3VudD1nZW9tZXRyeS5kcmF3UmFuZ2UuY291bnQqcmFuZ2VGYWN0b3I7dmFyIGdyb3VwU3RhcnQ9Z3JvdXAhPT1udWxsP2dyb3VwLnN0YXJ0KnJhbmdlRmFjdG9yOjA7dmFyIGdyb3VwQ291bnQ9Z3JvdXAhPT1udWxsP2dyb3VwLmNvdW50KnJhbmdlRmFjdG9yOkluZmluaXR5O3ZhciBkcmF3U3RhcnQ9TWF0aC5tYXgocmFuZ2VTdGFydCxncm91cFN0YXJ0KTt2YXIgZHJhd0VuZD1NYXRoLm1pbihkYXRhQ291bnQscmFuZ2VTdGFydCtyYW5nZUNvdW50LGdyb3VwU3RhcnQrZ3JvdXBDb3VudCktMTt2YXIgZHJhd0NvdW50PU1hdGgubWF4KDAsZHJhd0VuZC1kcmF3U3RhcnQrMSk7aWYoZHJhd0NvdW50PT09MCl7cmV0dXJuO30vLwppZihvYmplY3QuaXNNZXNoKXtpZihtYXRlcmlhbC53aXJlZnJhbWU9PT10cnVlKXtzdGF0ZS5zZXRMaW5lV2lkdGgobWF0ZXJpYWwud2lyZWZyYW1lTGluZXdpZHRoKmdldFRhcmdldFBpeGVsUmF0aW8oKSk7cmVuZGVyZXIuc2V0TW9kZSgxKTt9ZWxzZXtyZW5kZXJlci5zZXRNb2RlKDQpO319ZWxzZSBpZihvYmplY3QuaXNMaW5lKXt2YXIgbGluZVdpZHRoPW1hdGVyaWFsLmxpbmV3aWR0aDtpZihsaW5lV2lkdGg9PT11bmRlZmluZWQpe2xpbmVXaWR0aD0xO30vLyBOb3QgdXNpbmcgTGluZSpNYXRlcmlhbApzdGF0ZS5zZXRMaW5lV2lkdGgobGluZVdpZHRoKmdldFRhcmdldFBpeGVsUmF0aW8oKSk7aWYob2JqZWN0LmlzTGluZVNlZ21lbnRzKXtyZW5kZXJlci5zZXRNb2RlKDEpO31lbHNlIGlmKG9iamVjdC5pc0xpbmVMb29wKXtyZW5kZXJlci5zZXRNb2RlKDIpO31lbHNle3JlbmRlcmVyLnNldE1vZGUoMyk7fX1lbHNlIGlmKG9iamVjdC5pc1BvaW50cyl7cmVuZGVyZXIuc2V0TW9kZSgwKTt9ZWxzZSBpZihvYmplY3QuaXNTcHJpdGUpe3JlbmRlcmVyLnNldE1vZGUoNCk7fWlmKG9iamVjdC5pc0luc3RhbmNlZE1lc2gpe3JlbmRlcmVyLnJlbmRlckluc3RhbmNlcyhnZW9tZXRyeSxkcmF3U3RhcnQsZHJhd0NvdW50LG9iamVjdC5jb3VudCk7fWVsc2UgaWYoZ2VvbWV0cnkuaXNJbnN0YW5jZWRCdWZmZXJHZW9tZXRyeSl7cmVuZGVyZXIucmVuZGVySW5zdGFuY2VzKGdlb21ldHJ5LGRyYXdTdGFydCxkcmF3Q291bnQsZ2VvbWV0cnkubWF4SW5zdGFuY2VkQ291bnQpO31lbHNle3JlbmRlcmVyLnJlbmRlcihkcmF3U3RhcnQsZHJhd0NvdW50KTt9fTtmdW5jdGlvbiBzZXR1cFZlcnRleEF0dHJpYnV0ZXMob2JqZWN0LGdlb21ldHJ5LG1hdGVyaWFsLHByb2dyYW0pe2lmKGNhcGFiaWxpdGllcy5pc1dlYkdMMj09PWZhbHNlJiYob2JqZWN0LmlzSW5zdGFuY2VkTWVzaHx8Z2VvbWV0cnkuaXNJbnN0YW5jZWRCdWZmZXJHZW9tZXRyeSkpe2lmKGV4dGVuc2lvbnMuZ2V0KCdBTkdMRV9pbnN0YW5jZWRfYXJyYXlzJyk9PT1udWxsKXtyZXR1cm47fX1zdGF0ZS5pbml0QXR0cmlidXRlcygpO3ZhciBnZW9tZXRyeUF0dHJpYnV0ZXM9Z2VvbWV0cnkuYXR0cmlidXRlczt2YXIgcHJvZ3JhbUF0dHJpYnV0ZXM9cHJvZ3JhbS5nZXRBdHRyaWJ1dGVzKCk7dmFyIG1hdGVyaWFsRGVmYXVsdEF0dHJpYnV0ZVZhbHVlcz1tYXRlcmlhbC5kZWZhdWx0QXR0cmlidXRlVmFsdWVzO2Zvcih2YXIgbmFtZSBpbiBwcm9ncmFtQXR0cmlidXRlcyl7dmFyIHByb2dyYW1BdHRyaWJ1dGU9cHJvZ3JhbUF0dHJpYnV0ZXNbbmFtZV07aWYocHJvZ3JhbUF0dHJpYnV0ZT49MCl7dmFyIGdlb21ldHJ5QXR0cmlidXRlPWdlb21ldHJ5QXR0cmlidXRlc1tuYW1lXTtpZihnZW9tZXRyeUF0dHJpYnV0ZSE9PXVuZGVmaW5lZCl7dmFyIG5vcm1hbGl6ZWQ9Z2VvbWV0cnlBdHRyaWJ1dGUubm9ybWFsaXplZDt2YXIgc2l6ZT1nZW9tZXRyeUF0dHJpYnV0ZS5pdGVtU2l6ZTt2YXIgYXR0cmlidXRlPWF0dHJpYnV0ZXMuZ2V0KGdlb21ldHJ5QXR0cmlidXRlKTsvLyBUT0RPIEF0dHJpYnV0ZSBtYXkgbm90IGJlIGF2YWlsYWJsZSBvbiBjb250ZXh0IHJlc3RvcmUKaWYoYXR0cmlidXRlPT09dW5kZWZpbmVkKXtjb250aW51ZTt9dmFyIGJ1ZmZlcj1hdHRyaWJ1dGUuYnVmZmVyO3ZhciB0eXBlPWF0dHJpYnV0ZS50eXBlO3ZhciBieXRlc1BlckVsZW1lbnQ9YXR0cmlidXRlLmJ5dGVzUGVyRWxlbWVudDtpZihnZW9tZXRyeUF0dHJpYnV0ZS5pc0ludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlKXt2YXIgZGF0YT1nZW9tZXRyeUF0dHJpYnV0ZS5kYXRhO3ZhciBzdHJpZGU9ZGF0YS5zdHJpZGU7dmFyIG9mZnNldD1nZW9tZXRyeUF0dHJpYnV0ZS5vZmZzZXQ7aWYoZGF0YSYmZGF0YS5pc0luc3RhbmNlZEludGVybGVhdmVkQnVmZmVyKXtzdGF0ZS5lbmFibGVBdHRyaWJ1dGVBbmREaXZpc29yKHByb2dyYW1BdHRyaWJ1dGUsZGF0YS5tZXNoUGVyQXR0cmlidXRlKTtpZihnZW9tZXRyeS5tYXhJbnN0YW5jZWRDb3VudD09PXVuZGVmaW5lZCl7Z2VvbWV0cnkubWF4SW5zdGFuY2VkQ291bnQ9ZGF0YS5tZXNoUGVyQXR0cmlidXRlKmRhdGEuY291bnQ7fX1lbHNle3N0YXRlLmVuYWJsZUF0dHJpYnV0ZShwcm9ncmFtQXR0cmlidXRlKTt9X2dsLmJpbmRCdWZmZXIoMzQ5NjIsYnVmZmVyKTtfZ2wudmVydGV4QXR0cmliUG9pbnRlcihwcm9ncmFtQXR0cmlidXRlLHNpemUsdHlwZSxub3JtYWxpemVkLHN0cmlkZSpieXRlc1BlckVsZW1lbnQsb2Zmc2V0KmJ5dGVzUGVyRWxlbWVudCk7fWVsc2V7aWYoZ2VvbWV0cnlBdHRyaWJ1dGUuaXNJbnN0YW5jZWRCdWZmZXJBdHRyaWJ1dGUpe3N0YXRlLmVuYWJsZUF0dHJpYnV0ZUFuZERpdmlzb3IocHJvZ3JhbUF0dHJpYnV0ZSxnZW9tZXRyeUF0dHJpYnV0ZS5tZXNoUGVyQXR0cmlidXRlKTtpZihnZW9tZXRyeS5tYXhJbnN0YW5jZWRDb3VudD09PXVuZGVmaW5lZCl7Z2VvbWV0cnkubWF4SW5zdGFuY2VkQ291bnQ9Z2VvbWV0cnlBdHRyaWJ1dGUubWVzaFBlckF0dHJpYnV0ZSpnZW9tZXRyeUF0dHJpYnV0ZS5jb3VudDt9fWVsc2V7c3RhdGUuZW5hYmxlQXR0cmlidXRlKHByb2dyYW1BdHRyaWJ1dGUpO31fZ2wuYmluZEJ1ZmZlcigzNDk2MixidWZmZXIpO19nbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHByb2dyYW1BdHRyaWJ1dGUsc2l6ZSx0eXBlLG5vcm1hbGl6ZWQsMCwwKTt9fWVsc2UgaWYobmFtZT09PSdpbnN0YW5jZU1hdHJpeCcpe3ZhciBhdHRyaWJ1dGU9YXR0cmlidXRlcy5nZXQob2JqZWN0Lmluc3RhbmNlTWF0cml4KTsvLyBUT0RPIEF0dHJpYnV0ZSBtYXkgbm90IGJlIGF2YWlsYWJsZSBvbiBjb250ZXh0IHJlc3RvcmUKaWYoYXR0cmlidXRlPT09dW5kZWZpbmVkKXtjb250aW51ZTt9dmFyIGJ1ZmZlcj1hdHRyaWJ1dGUuYnVmZmVyO3ZhciB0eXBlPWF0dHJpYnV0ZS50eXBlO3N0YXRlLmVuYWJsZUF0dHJpYnV0ZUFuZERpdmlzb3IocHJvZ3JhbUF0dHJpYnV0ZSswLDEpO3N0YXRlLmVuYWJsZUF0dHJpYnV0ZUFuZERpdmlzb3IocHJvZ3JhbUF0dHJpYnV0ZSsxLDEpO3N0YXRlLmVuYWJsZUF0dHJpYnV0ZUFuZERpdmlzb3IocHJvZ3JhbUF0dHJpYnV0ZSsyLDEpO3N0YXRlLmVuYWJsZUF0dHJpYnV0ZUFuZERpdmlzb3IocHJvZ3JhbUF0dHJpYnV0ZSszLDEpO19nbC5iaW5kQnVmZmVyKDM0OTYyLGJ1ZmZlcik7X2dsLnZlcnRleEF0dHJpYlBvaW50ZXIocHJvZ3JhbUF0dHJpYnV0ZSswLDQsdHlwZSxmYWxzZSw2NCwwKTtfZ2wudmVydGV4QXR0cmliUG9pbnRlcihwcm9ncmFtQXR0cmlidXRlKzEsNCx0eXBlLGZhbHNlLDY0LDE2KTtfZ2wudmVydGV4QXR0cmliUG9pbnRlcihwcm9ncmFtQXR0cmlidXRlKzIsNCx0eXBlLGZhbHNlLDY0LDMyKTtfZ2wudmVydGV4QXR0cmliUG9pbnRlcihwcm9ncmFtQXR0cmlidXRlKzMsNCx0eXBlLGZhbHNlLDY0LDQ4KTt9ZWxzZSBpZihtYXRlcmlhbERlZmF1bHRBdHRyaWJ1dGVWYWx1ZXMhPT11bmRlZmluZWQpe3ZhciB2YWx1ZT1tYXRlcmlhbERlZmF1bHRBdHRyaWJ1dGVWYWx1ZXNbbmFtZV07aWYodmFsdWUhPT11bmRlZmluZWQpe3N3aXRjaCh2YWx1ZS5sZW5ndGgpe2Nhc2UgMjpfZ2wudmVydGV4QXR0cmliMmZ2KHByb2dyYW1BdHRyaWJ1dGUsdmFsdWUpO2JyZWFrO2Nhc2UgMzpfZ2wudmVydGV4QXR0cmliM2Z2KHByb2dyYW1BdHRyaWJ1dGUsdmFsdWUpO2JyZWFrO2Nhc2UgNDpfZ2wudmVydGV4QXR0cmliNGZ2KHByb2dyYW1BdHRyaWJ1dGUsdmFsdWUpO2JyZWFrO2RlZmF1bHQ6X2dsLnZlcnRleEF0dHJpYjFmdihwcm9ncmFtQXR0cmlidXRlLHZhbHVlKTt9fX19fXN0YXRlLmRpc2FibGVVbnVzZWRBdHRyaWJ1dGVzKCk7fS8vIENvbXBpbGUKdGhpcy5jb21waWxlPWZ1bmN0aW9uKHNjZW5lLGNhbWVyYSl7Y3VycmVudFJlbmRlclN0YXRlPXJlbmRlclN0YXRlcy5nZXQoc2NlbmUsY2FtZXJhKTtjdXJyZW50UmVuZGVyU3RhdGUuaW5pdCgpO3NjZW5lLnRyYXZlcnNlKGZ1bmN0aW9uKG9iamVjdCl7aWYob2JqZWN0LmlzTGlnaHQpe2N1cnJlbnRSZW5kZXJTdGF0ZS5wdXNoTGlnaHQob2JqZWN0KTtpZihvYmplY3QuY2FzdFNoYWRvdyl7Y3VycmVudFJlbmRlclN0YXRlLnB1c2hTaGFkb3cob2JqZWN0KTt9fX0pO2N1cnJlbnRSZW5kZXJTdGF0ZS5zZXR1cExpZ2h0cyhjYW1lcmEpO3NjZW5lLnRyYXZlcnNlKGZ1bmN0aW9uKG9iamVjdCl7aWYob2JqZWN0Lm1hdGVyaWFsKXtpZihBcnJheS5pc0FycmF5KG9iamVjdC5tYXRlcmlhbCkpe2Zvcih2YXIgaT0wO2k8b2JqZWN0Lm1hdGVyaWFsLmxlbmd0aDtpKyspe2luaXRNYXRlcmlhbChvYmplY3QubWF0ZXJpYWxbaV0sc2NlbmUsb2JqZWN0KTt9fWVsc2V7aW5pdE1hdGVyaWFsKG9iamVjdC5tYXRlcmlhbCxzY2VuZSxvYmplY3QpO319fSk7fTsvLyBBbmltYXRpb24gTG9vcAp2YXIgb25BbmltYXRpb25GcmFtZUNhbGxiYWNrPW51bGw7ZnVuY3Rpb24gb25BbmltYXRpb25GcmFtZSh0aW1lKXtpZih4ci5pc1ByZXNlbnRpbmcpe3JldHVybjt9aWYob25BbmltYXRpb25GcmFtZUNhbGxiYWNrKXtvbkFuaW1hdGlvbkZyYW1lQ2FsbGJhY2sodGltZSk7fX12YXIgYW5pbWF0aW9uPW5ldyBXZWJHTEFuaW1hdGlvbigpO2FuaW1hdGlvbi5zZXRBbmltYXRpb25Mb29wKG9uQW5pbWF0aW9uRnJhbWUpO2lmKHR5cGVvZiB3aW5kb3chPT0ndW5kZWZpbmVkJyl7YW5pbWF0aW9uLnNldENvbnRleHQod2luZG93KTt9dGhpcy5zZXRBbmltYXRpb25Mb29wPWZ1bmN0aW9uKGNhbGxiYWNrKXtvbkFuaW1hdGlvbkZyYW1lQ2FsbGJhY2s9Y2FsbGJhY2s7eHIuc2V0QW5pbWF0aW9uTG9vcChjYWxsYmFjayk7YW5pbWF0aW9uLnN0YXJ0KCk7fTsvLyBSZW5kZXJpbmcKdGhpcy5yZW5kZXI9ZnVuY3Rpb24oc2NlbmUsY2FtZXJhKXt2YXIgcmVuZGVyVGFyZ2V0LGZvcmNlQ2xlYXI7aWYoYXJndW1lbnRzWzJdIT09dW5kZWZpbmVkKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyZXIucmVuZGVyKCk6IHRoZSByZW5kZXJUYXJnZXQgYXJndW1lbnQgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIC5zZXRSZW5kZXJUYXJnZXQoKSBpbnN0ZWFkLicpO3JlbmRlclRhcmdldD1hcmd1bWVudHNbMl07fWlmKGFyZ3VtZW50c1szXSE9PXVuZGVmaW5lZCl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlcmVyLnJlbmRlcigpOiB0aGUgZm9yY2VDbGVhciBhcmd1bWVudCBoYXMgYmVlbiByZW1vdmVkLiBVc2UgLmNsZWFyKCkgaW5zdGVhZC4nKTtmb3JjZUNsZWFyPWFyZ3VtZW50c1szXTt9aWYoIShjYW1lcmEmJmNhbWVyYS5pc0NhbWVyYSkpe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLldlYkdMUmVuZGVyZXIucmVuZGVyOiBjYW1lcmEgaXMgbm90IGFuIGluc3RhbmNlIG9mIFRIUkVFLkNhbWVyYS4nKTtyZXR1cm47fWlmKF9pc0NvbnRleHRMb3N0KXtyZXR1cm47fS8vIHJlc2V0IGNhY2hpbmcgZm9yIHRoaXMgZnJhbWUKX2N1cnJlbnRHZW9tZXRyeVByb2dyYW0uZ2VvbWV0cnk9bnVsbDtfY3VycmVudEdlb21ldHJ5UHJvZ3JhbS5wcm9ncmFtPW51bGw7X2N1cnJlbnRHZW9tZXRyeVByb2dyYW0ud2lyZWZyYW1lPWZhbHNlO19jdXJyZW50TWF0ZXJpYWxJZD0tMTtfY3VycmVudENhbWVyYT1udWxsOy8vIHVwZGF0ZSBzY2VuZSBncmFwaAppZihzY2VuZS5hdXRvVXBkYXRlPT09dHJ1ZSl7c2NlbmUudXBkYXRlTWF0cml4V29ybGQoKTt9Ly8gdXBkYXRlIGNhbWVyYSBtYXRyaWNlcyBhbmQgZnJ1c3R1bQppZihjYW1lcmEucGFyZW50PT09bnVsbCl7Y2FtZXJhLnVwZGF0ZU1hdHJpeFdvcmxkKCk7fWlmKHhyLmVuYWJsZWQmJnhyLmlzUHJlc2VudGluZyl7Y2FtZXJhPXhyLmdldENhbWVyYShjYW1lcmEpO30vLwpjdXJyZW50UmVuZGVyU3RhdGU9cmVuZGVyU3RhdGVzLmdldChzY2VuZSxjYW1lcmEpO2N1cnJlbnRSZW5kZXJTdGF0ZS5pbml0KCk7c2NlbmUub25CZWZvcmVSZW5kZXIoX3RoaXMsc2NlbmUsY2FtZXJhLHJlbmRlclRhcmdldHx8X2N1cnJlbnRSZW5kZXJUYXJnZXQpO19wcm9qU2NyZWVuTWF0cml4Lm11bHRpcGx5TWF0cmljZXMoY2FtZXJhLnByb2plY3Rpb25NYXRyaXgsY2FtZXJhLm1hdHJpeFdvcmxkSW52ZXJzZSk7X2ZydXN0dW0uc2V0RnJvbU1hdHJpeChfcHJvalNjcmVlbk1hdHJpeCk7X2xvY2FsQ2xpcHBpbmdFbmFibGVkPXRoaXMubG9jYWxDbGlwcGluZ0VuYWJsZWQ7X2NsaXBwaW5nRW5hYmxlZD1fY2xpcHBpbmcuaW5pdCh0aGlzLmNsaXBwaW5nUGxhbmVzLF9sb2NhbENsaXBwaW5nRW5hYmxlZCxjYW1lcmEpO2N1cnJlbnRSZW5kZXJMaXN0PXJlbmRlckxpc3RzLmdldChzY2VuZSxjYW1lcmEpO2N1cnJlbnRSZW5kZXJMaXN0LmluaXQoKTtwcm9qZWN0T2JqZWN0KHNjZW5lLGNhbWVyYSwwLF90aGlzLnNvcnRPYmplY3RzKTtpZihfdGhpcy5zb3J0T2JqZWN0cz09PXRydWUpe2N1cnJlbnRSZW5kZXJMaXN0LnNvcnQoX29wYXF1ZVNvcnQsX3RyYW5zcGFyZW50U29ydCk7fS8vCmlmKF9jbGlwcGluZ0VuYWJsZWQpe19jbGlwcGluZy5iZWdpblNoYWRvd3MoKTt9dmFyIHNoYWRvd3NBcnJheT1jdXJyZW50UmVuZGVyU3RhdGUuc3RhdGUuc2hhZG93c0FycmF5O3NoYWRvd01hcC5yZW5kZXIoc2hhZG93c0FycmF5LHNjZW5lLGNhbWVyYSk7Y3VycmVudFJlbmRlclN0YXRlLnNldHVwTGlnaHRzKGNhbWVyYSk7aWYoX2NsaXBwaW5nRW5hYmxlZCl7X2NsaXBwaW5nLmVuZFNoYWRvd3MoKTt9Ly8KaWYodGhpcy5pbmZvLmF1dG9SZXNldCl7dGhpcy5pbmZvLnJlc2V0KCk7fWlmKHJlbmRlclRhcmdldCE9PXVuZGVmaW5lZCl7dGhpcy5zZXRSZW5kZXJUYXJnZXQocmVuZGVyVGFyZ2V0KTt9aWYoeHIuZW5hYmxlZCYmbXVsdGl2aWV3LmlzQXZhaWxhYmxlKCkpe211bHRpdmlldy5hdHRhY2hDYW1lcmEoY2FtZXJhKTt9Ly8KYmFja2dyb3VuZC5yZW5kZXIoY3VycmVudFJlbmRlckxpc3Qsc2NlbmUsY2FtZXJhLGZvcmNlQ2xlYXIpOy8vIHJlbmRlciBzY2VuZQp2YXIgb3BhcXVlT2JqZWN0cz1jdXJyZW50UmVuZGVyTGlzdC5vcGFxdWU7dmFyIHRyYW5zcGFyZW50T2JqZWN0cz1jdXJyZW50UmVuZGVyTGlzdC50cmFuc3BhcmVudDtpZihzY2VuZS5vdmVycmlkZU1hdGVyaWFsKXt2YXIgb3ZlcnJpZGVNYXRlcmlhbD1zY2VuZS5vdmVycmlkZU1hdGVyaWFsO2lmKG9wYXF1ZU9iamVjdHMubGVuZ3RoKXtyZW5kZXJPYmplY3RzKG9wYXF1ZU9iamVjdHMsc2NlbmUsY2FtZXJhLG92ZXJyaWRlTWF0ZXJpYWwpO31pZih0cmFuc3BhcmVudE9iamVjdHMubGVuZ3RoKXtyZW5kZXJPYmplY3RzKHRyYW5zcGFyZW50T2JqZWN0cyxzY2VuZSxjYW1lcmEsb3ZlcnJpZGVNYXRlcmlhbCk7fX1lbHNley8vIG9wYXF1ZSBwYXNzIChmcm9udC10by1iYWNrIG9yZGVyKQppZihvcGFxdWVPYmplY3RzLmxlbmd0aCl7cmVuZGVyT2JqZWN0cyhvcGFxdWVPYmplY3RzLHNjZW5lLGNhbWVyYSk7fS8vIHRyYW5zcGFyZW50IHBhc3MgKGJhY2stdG8tZnJvbnQgb3JkZXIpCmlmKHRyYW5zcGFyZW50T2JqZWN0cy5sZW5ndGgpe3JlbmRlck9iamVjdHModHJhbnNwYXJlbnRPYmplY3RzLHNjZW5lLGNhbWVyYSk7fX0vLwpzY2VuZS5vbkFmdGVyUmVuZGVyKF90aGlzLHNjZW5lLGNhbWVyYSk7Ly8KaWYoX2N1cnJlbnRSZW5kZXJUYXJnZXQhPT1udWxsKXsvLyBHZW5lcmF0ZSBtaXBtYXAgaWYgd2UncmUgdXNpbmcgYW55IGtpbmQgb2YgbWlwbWFwIGZpbHRlcmluZwp0ZXh0dXJlcy51cGRhdGVSZW5kZXJUYXJnZXRNaXBtYXAoX2N1cnJlbnRSZW5kZXJUYXJnZXQpOy8vIHJlc29sdmUgbXVsdGlzYW1wbGUgcmVuZGVyYnVmZmVycyB0byBhIHNpbmdsZS1zYW1wbGUgdGV4dHVyZSBpZiBuZWNlc3NhcnkKdGV4dHVyZXMudXBkYXRlTXVsdGlzYW1wbGVSZW5kZXJUYXJnZXQoX2N1cnJlbnRSZW5kZXJUYXJnZXQpO30vLyBFbnN1cmUgZGVwdGggYnVmZmVyIHdyaXRpbmcgaXMgZW5hYmxlZCBzbyBpdCBjYW4gYmUgY2xlYXJlZCBvbiBuZXh0IHJlbmRlcgpzdGF0ZS5idWZmZXJzLmRlcHRoLnNldFRlc3QodHJ1ZSk7c3RhdGUuYnVmZmVycy5kZXB0aC5zZXRNYXNrKHRydWUpO3N0YXRlLmJ1ZmZlcnMuY29sb3Iuc2V0TWFzayh0cnVlKTtzdGF0ZS5zZXRQb2x5Z29uT2Zmc2V0KGZhbHNlKTtpZih4ci5lbmFibGVkKXtpZihtdWx0aXZpZXcuaXNBdmFpbGFibGUoKSl7bXVsdGl2aWV3LmRldGFjaENhbWVyYShjYW1lcmEpO319Ly8gX2dsLmZpbmlzaCgpOwpjdXJyZW50UmVuZGVyTGlzdD1udWxsO2N1cnJlbnRSZW5kZXJTdGF0ZT1udWxsO307ZnVuY3Rpb24gcHJvamVjdE9iamVjdChvYmplY3QsY2FtZXJhLGdyb3VwT3JkZXIsc29ydE9iamVjdHMpe2lmKG9iamVjdC52aXNpYmxlPT09ZmFsc2Upe3JldHVybjt9dmFyIHZpc2libGU9b2JqZWN0LmxheWVycy50ZXN0KGNhbWVyYS5sYXllcnMpO2lmKHZpc2libGUpe2lmKG9iamVjdC5pc0dyb3VwKXtncm91cE9yZGVyPW9iamVjdC5yZW5kZXJPcmRlcjt9ZWxzZSBpZihvYmplY3QuaXNMT0Qpe2lmKG9iamVjdC5hdXRvVXBkYXRlPT09dHJ1ZSl7b2JqZWN0LnVwZGF0ZShjYW1lcmEpO319ZWxzZSBpZihvYmplY3QuaXNMaWdodCl7Y3VycmVudFJlbmRlclN0YXRlLnB1c2hMaWdodChvYmplY3QpO2lmKG9iamVjdC5jYXN0U2hhZG93KXtjdXJyZW50UmVuZGVyU3RhdGUucHVzaFNoYWRvdyhvYmplY3QpO319ZWxzZSBpZihvYmplY3QuaXNTcHJpdGUpe2lmKCFvYmplY3QuZnJ1c3R1bUN1bGxlZHx8X2ZydXN0dW0uaW50ZXJzZWN0c1Nwcml0ZShvYmplY3QpKXtpZihzb3J0T2JqZWN0cyl7X3ZlY3RvcjMuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKG9iamVjdC5tYXRyaXhXb3JsZCkuYXBwbHlNYXRyaXg0KF9wcm9qU2NyZWVuTWF0cml4KTt9dmFyIGdlb21ldHJ5PW9iamVjdHMudXBkYXRlKG9iamVjdCk7dmFyIG1hdGVyaWFsPW9iamVjdC5tYXRlcmlhbDtpZihtYXRlcmlhbC52aXNpYmxlKXtjdXJyZW50UmVuZGVyTGlzdC5wdXNoKG9iamVjdCxnZW9tZXRyeSxtYXRlcmlhbCxncm91cE9yZGVyLF92ZWN0b3IzLnosbnVsbCk7fX19ZWxzZSBpZihvYmplY3QuaXNJbW1lZGlhdGVSZW5kZXJPYmplY3Qpe2lmKHNvcnRPYmplY3RzKXtfdmVjdG9yMy5zZXRGcm9tTWF0cml4UG9zaXRpb24ob2JqZWN0Lm1hdHJpeFdvcmxkKS5hcHBseU1hdHJpeDQoX3Byb2pTY3JlZW5NYXRyaXgpO31jdXJyZW50UmVuZGVyTGlzdC5wdXNoKG9iamVjdCxudWxsLG9iamVjdC5tYXRlcmlhbCxncm91cE9yZGVyLF92ZWN0b3IzLnosbnVsbCk7fWVsc2UgaWYob2JqZWN0LmlzTWVzaHx8b2JqZWN0LmlzTGluZXx8b2JqZWN0LmlzUG9pbnRzKXtpZihvYmplY3QuaXNTa2lubmVkTWVzaCl7Ly8gdXBkYXRlIHNrZWxldG9uIG9ubHkgb25jZSBpbiBhIGZyYW1lCmlmKG9iamVjdC5za2VsZXRvbi5mcmFtZSE9PWluZm8ucmVuZGVyLmZyYW1lKXtvYmplY3Quc2tlbGV0b24udXBkYXRlKCk7b2JqZWN0LnNrZWxldG9uLmZyYW1lPWluZm8ucmVuZGVyLmZyYW1lO319aWYoIW9iamVjdC5mcnVzdHVtQ3VsbGVkfHxfZnJ1c3R1bS5pbnRlcnNlY3RzT2JqZWN0KG9iamVjdCkpe2lmKHNvcnRPYmplY3RzKXtfdmVjdG9yMy5zZXRGcm9tTWF0cml4UG9zaXRpb24ob2JqZWN0Lm1hdHJpeFdvcmxkKS5hcHBseU1hdHJpeDQoX3Byb2pTY3JlZW5NYXRyaXgpO312YXIgZ2VvbWV0cnk9b2JqZWN0cy51cGRhdGUob2JqZWN0KTt2YXIgbWF0ZXJpYWw9b2JqZWN0Lm1hdGVyaWFsO2lmKEFycmF5LmlzQXJyYXkobWF0ZXJpYWwpKXt2YXIgZ3JvdXBzPWdlb21ldHJ5Lmdyb3Vwcztmb3IodmFyIGk9MCxsPWdyb3Vwcy5sZW5ndGg7aTxsO2krKyl7dmFyIGdyb3VwPWdyb3Vwc1tpXTt2YXIgZ3JvdXBNYXRlcmlhbD1tYXRlcmlhbFtncm91cC5tYXRlcmlhbEluZGV4XTtpZihncm91cE1hdGVyaWFsJiZncm91cE1hdGVyaWFsLnZpc2libGUpe2N1cnJlbnRSZW5kZXJMaXN0LnB1c2gob2JqZWN0LGdlb21ldHJ5LGdyb3VwTWF0ZXJpYWwsZ3JvdXBPcmRlcixfdmVjdG9yMy56LGdyb3VwKTt9fX1lbHNlIGlmKG1hdGVyaWFsLnZpc2libGUpe2N1cnJlbnRSZW5kZXJMaXN0LnB1c2gob2JqZWN0LGdlb21ldHJ5LG1hdGVyaWFsLGdyb3VwT3JkZXIsX3ZlY3RvcjMueixudWxsKTt9fX19dmFyIGNoaWxkcmVuPW9iamVjdC5jaGlsZHJlbjtmb3IodmFyIGk9MCxsPWNoaWxkcmVuLmxlbmd0aDtpPGw7aSsrKXtwcm9qZWN0T2JqZWN0KGNoaWxkcmVuW2ldLGNhbWVyYSxncm91cE9yZGVyLHNvcnRPYmplY3RzKTt9fWZ1bmN0aW9uIHJlbmRlck9iamVjdHMocmVuZGVyTGlzdCxzY2VuZSxjYW1lcmEsb3ZlcnJpZGVNYXRlcmlhbCl7Zm9yKHZhciBpPTAsbD1yZW5kZXJMaXN0Lmxlbmd0aDtpPGw7aSsrKXt2YXIgcmVuZGVySXRlbT1yZW5kZXJMaXN0W2ldO3ZhciBvYmplY3Q9cmVuZGVySXRlbS5vYmplY3Q7dmFyIGdlb21ldHJ5PXJlbmRlckl0ZW0uZ2VvbWV0cnk7dmFyIG1hdGVyaWFsPW92ZXJyaWRlTWF0ZXJpYWw9PT11bmRlZmluZWQ/cmVuZGVySXRlbS5tYXRlcmlhbDpvdmVycmlkZU1hdGVyaWFsO3ZhciBncm91cD1yZW5kZXJJdGVtLmdyb3VwO2lmKGNhbWVyYS5pc0FycmF5Q2FtZXJhKXtfY3VycmVudEFycmF5Q2FtZXJhPWNhbWVyYTtpZih4ci5lbmFibGVkJiZtdWx0aXZpZXcuaXNBdmFpbGFibGUoKSl7cmVuZGVyT2JqZWN0KG9iamVjdCxzY2VuZSxjYW1lcmEsZ2VvbWV0cnksbWF0ZXJpYWwsZ3JvdXApO31lbHNle3ZhciBjYW1lcmFzPWNhbWVyYS5jYW1lcmFzO2Zvcih2YXIgaj0wLGpsPWNhbWVyYXMubGVuZ3RoO2o8amw7aisrKXt2YXIgY2FtZXJhMj1jYW1lcmFzW2pdO2lmKG9iamVjdC5sYXllcnMudGVzdChjYW1lcmEyLmxheWVycykpe3N0YXRlLnZpZXdwb3J0KF9jdXJyZW50Vmlld3BvcnQuY29weShjYW1lcmEyLnZpZXdwb3J0KSk7Y3VycmVudFJlbmRlclN0YXRlLnNldHVwTGlnaHRzKGNhbWVyYTIpO3JlbmRlck9iamVjdChvYmplY3Qsc2NlbmUsY2FtZXJhMixnZW9tZXRyeSxtYXRlcmlhbCxncm91cCk7fX19fWVsc2V7X2N1cnJlbnRBcnJheUNhbWVyYT1udWxsO3JlbmRlck9iamVjdChvYmplY3Qsc2NlbmUsY2FtZXJhLGdlb21ldHJ5LG1hdGVyaWFsLGdyb3VwKTt9fX1mdW5jdGlvbiByZW5kZXJPYmplY3Qob2JqZWN0LHNjZW5lLGNhbWVyYSxnZW9tZXRyeSxtYXRlcmlhbCxncm91cCl7b2JqZWN0Lm9uQmVmb3JlUmVuZGVyKF90aGlzLHNjZW5lLGNhbWVyYSxnZW9tZXRyeSxtYXRlcmlhbCxncm91cCk7Y3VycmVudFJlbmRlclN0YXRlPXJlbmRlclN0YXRlcy5nZXQoc2NlbmUsX2N1cnJlbnRBcnJheUNhbWVyYXx8Y2FtZXJhKTtvYmplY3QubW9kZWxWaWV3TWF0cml4Lm11bHRpcGx5TWF0cmljZXMoY2FtZXJhLm1hdHJpeFdvcmxkSW52ZXJzZSxvYmplY3QubWF0cml4V29ybGQpO29iamVjdC5ub3JtYWxNYXRyaXguZ2V0Tm9ybWFsTWF0cml4KG9iamVjdC5tb2RlbFZpZXdNYXRyaXgpO2lmKG9iamVjdC5pc0ltbWVkaWF0ZVJlbmRlck9iamVjdCl7dmFyIHByb2dyYW09c2V0UHJvZ3JhbShjYW1lcmEsc2NlbmUsbWF0ZXJpYWwsb2JqZWN0KTtzdGF0ZS5zZXRNYXRlcmlhbChtYXRlcmlhbCk7X2N1cnJlbnRHZW9tZXRyeVByb2dyYW0uZ2VvbWV0cnk9bnVsbDtfY3VycmVudEdlb21ldHJ5UHJvZ3JhbS5wcm9ncmFtPW51bGw7X2N1cnJlbnRHZW9tZXRyeVByb2dyYW0ud2lyZWZyYW1lPWZhbHNlO3JlbmRlck9iamVjdEltbWVkaWF0ZShvYmplY3QscHJvZ3JhbSk7fWVsc2V7X3RoaXMucmVuZGVyQnVmZmVyRGlyZWN0KGNhbWVyYSxzY2VuZSxnZW9tZXRyeSxtYXRlcmlhbCxvYmplY3QsZ3JvdXApO31vYmplY3Qub25BZnRlclJlbmRlcihfdGhpcyxzY2VuZSxjYW1lcmEsZ2VvbWV0cnksbWF0ZXJpYWwsZ3JvdXApO2N1cnJlbnRSZW5kZXJTdGF0ZT1yZW5kZXJTdGF0ZXMuZ2V0KHNjZW5lLF9jdXJyZW50QXJyYXlDYW1lcmF8fGNhbWVyYSk7fWZ1bmN0aW9uIGluaXRNYXRlcmlhbChtYXRlcmlhbCxzY2VuZSxvYmplY3Qpe3ZhciBtYXRlcmlhbFByb3BlcnRpZXM9cHJvcGVydGllcy5nZXQobWF0ZXJpYWwpO3ZhciBsaWdodHM9Y3VycmVudFJlbmRlclN0YXRlLnN0YXRlLmxpZ2h0czt2YXIgc2hhZG93c0FycmF5PWN1cnJlbnRSZW5kZXJTdGF0ZS5zdGF0ZS5zaGFkb3dzQXJyYXk7dmFyIGxpZ2h0c1N0YXRlVmVyc2lvbj1saWdodHMuc3RhdGUudmVyc2lvbjt2YXIgcGFyYW1ldGVycz1wcm9ncmFtQ2FjaGUuZ2V0UGFyYW1ldGVycyhtYXRlcmlhbCxsaWdodHMuc3RhdGUsc2hhZG93c0FycmF5LHNjZW5lLF9jbGlwcGluZy5udW1QbGFuZXMsX2NsaXBwaW5nLm51bUludGVyc2VjdGlvbixvYmplY3QpO3ZhciBwcm9ncmFtQ2FjaGVLZXk9cHJvZ3JhbUNhY2hlLmdldFByb2dyYW1DYWNoZUtleShtYXRlcmlhbCxwYXJhbWV0ZXJzKTt2YXIgcHJvZ3JhbT1tYXRlcmlhbFByb3BlcnRpZXMucHJvZ3JhbTt2YXIgcHJvZ3JhbUNoYW5nZT10cnVlO2lmKHByb2dyYW09PT11bmRlZmluZWQpey8vIG5ldyBtYXRlcmlhbAptYXRlcmlhbC5hZGRFdmVudExpc3RlbmVyKCdkaXNwb3NlJyxvbk1hdGVyaWFsRGlzcG9zZSk7fWVsc2UgaWYocHJvZ3JhbS5jYWNoZUtleSE9PXByb2dyYW1DYWNoZUtleSl7Ly8gY2hhbmdlZCBnbHNsIG9yIHBhcmFtZXRlcnMKcmVsZWFzZU1hdGVyaWFsUHJvZ3JhbVJlZmVyZW5jZShtYXRlcmlhbCk7fWVsc2UgaWYobWF0ZXJpYWxQcm9wZXJ0aWVzLmxpZ2h0c1N0YXRlVmVyc2lvbiE9PWxpZ2h0c1N0YXRlVmVyc2lvbil7bWF0ZXJpYWxQcm9wZXJ0aWVzLmxpZ2h0c1N0YXRlVmVyc2lvbj1saWdodHNTdGF0ZVZlcnNpb247cHJvZ3JhbUNoYW5nZT1mYWxzZTt9ZWxzZSBpZihwYXJhbWV0ZXJzLnNoYWRlcklEIT09dW5kZWZpbmVkKXsvLyBzYW1lIGdsc2wgYW5kIHVuaWZvcm0gbGlzdApyZXR1cm47fWVsc2V7Ly8gb25seSByZWJ1aWxkIHVuaWZvcm0gbGlzdApwcm9ncmFtQ2hhbmdlPWZhbHNlO31pZihwcm9ncmFtQ2hhbmdlKXtpZihwYXJhbWV0ZXJzLnNoYWRlcklEKXt2YXIgc2hhZGVyPVNoYWRlckxpYltwYXJhbWV0ZXJzLnNoYWRlcklEXTttYXRlcmlhbFByb3BlcnRpZXMuc2hhZGVyPXtuYW1lOm1hdGVyaWFsLnR5cGUsdW5pZm9ybXM6Y2xvbmVVbmlmb3JtcyhzaGFkZXIudW5pZm9ybXMpLHZlcnRleFNoYWRlcjpzaGFkZXIudmVydGV4U2hhZGVyLGZyYWdtZW50U2hhZGVyOnNoYWRlci5mcmFnbWVudFNoYWRlcn07fWVsc2V7bWF0ZXJpYWxQcm9wZXJ0aWVzLnNoYWRlcj17bmFtZTptYXRlcmlhbC50eXBlLHVuaWZvcm1zOm1hdGVyaWFsLnVuaWZvcm1zLHZlcnRleFNoYWRlcjptYXRlcmlhbC52ZXJ0ZXhTaGFkZXIsZnJhZ21lbnRTaGFkZXI6bWF0ZXJpYWwuZnJhZ21lbnRTaGFkZXJ9O31tYXRlcmlhbC5vbkJlZm9yZUNvbXBpbGUobWF0ZXJpYWxQcm9wZXJ0aWVzLnNoYWRlcixfdGhpcyk7Ly8gQ29tcHV0aW5nIGNhY2hlIGtleSBhZ2FpbiBhcyBvbkJlZm9yZUNvbXBpbGUgbWF5IGhhdmUgY2hhbmdlZCB0aGUgc2hhZGVycwpwcm9ncmFtQ2FjaGVLZXk9cHJvZ3JhbUNhY2hlLmdldFByb2dyYW1DYWNoZUtleShtYXRlcmlhbCxwYXJhbWV0ZXJzKTtwcm9ncmFtPXByb2dyYW1DYWNoZS5hY3F1aXJlUHJvZ3JhbShtYXRlcmlhbCxtYXRlcmlhbFByb3BlcnRpZXMuc2hhZGVyLHBhcmFtZXRlcnMscHJvZ3JhbUNhY2hlS2V5KTttYXRlcmlhbFByb3BlcnRpZXMucHJvZ3JhbT1wcm9ncmFtO21hdGVyaWFsUHJvcGVydGllcy5lbnZpcm9ubWVudD1tYXRlcmlhbC5pc01lc2hTdGFuZGFyZE1hdGVyaWFsP3NjZW5lLmVudmlyb25tZW50Om51bGw7bWF0ZXJpYWxQcm9wZXJ0aWVzLm91dHB1dEVuY29kaW5nPV90aGlzLm91dHB1dEVuY29kaW5nO21hdGVyaWFsLnByb2dyYW09cHJvZ3JhbTt9dmFyIHByb2dyYW1BdHRyaWJ1dGVzPXByb2dyYW0uZ2V0QXR0cmlidXRlcygpO2lmKG1hdGVyaWFsLm1vcnBoVGFyZ2V0cyl7bWF0ZXJpYWwubnVtU3VwcG9ydGVkTW9ycGhUYXJnZXRzPTA7Zm9yKHZhciBpPTA7aTxfdGhpcy5tYXhNb3JwaFRhcmdldHM7aSsrKXtpZihwcm9ncmFtQXR0cmlidXRlc1snbW9ycGhUYXJnZXQnK2ldPj0wKXttYXRlcmlhbC5udW1TdXBwb3J0ZWRNb3JwaFRhcmdldHMrKzt9fX1pZihtYXRlcmlhbC5tb3JwaE5vcm1hbHMpe21hdGVyaWFsLm51bVN1cHBvcnRlZE1vcnBoTm9ybWFscz0wO2Zvcih2YXIgaT0wO2k8X3RoaXMubWF4TW9ycGhOb3JtYWxzO2krKyl7aWYocHJvZ3JhbUF0dHJpYnV0ZXNbJ21vcnBoTm9ybWFsJytpXT49MCl7bWF0ZXJpYWwubnVtU3VwcG9ydGVkTW9ycGhOb3JtYWxzKys7fX19dmFyIHVuaWZvcm1zPW1hdGVyaWFsUHJvcGVydGllcy5zaGFkZXIudW5pZm9ybXM7aWYoIW1hdGVyaWFsLmlzU2hhZGVyTWF0ZXJpYWwmJiFtYXRlcmlhbC5pc1Jhd1NoYWRlck1hdGVyaWFsfHxtYXRlcmlhbC5jbGlwcGluZz09PXRydWUpe21hdGVyaWFsUHJvcGVydGllcy5udW1DbGlwcGluZ1BsYW5lcz1fY2xpcHBpbmcubnVtUGxhbmVzO21hdGVyaWFsUHJvcGVydGllcy5udW1JbnRlcnNlY3Rpb249X2NsaXBwaW5nLm51bUludGVyc2VjdGlvbjt1bmlmb3Jtcy5jbGlwcGluZ1BsYW5lcz1fY2xpcHBpbmcudW5pZm9ybTt9bWF0ZXJpYWxQcm9wZXJ0aWVzLmZvZz1zY2VuZS5mb2c7Ly8gc3RvcmUgdGhlIGxpZ2h0IHNldHVwIGl0IHdhcyBjcmVhdGVkIGZvcgptYXRlcmlhbFByb3BlcnRpZXMubmVlZHNMaWdodHM9bWF0ZXJpYWxOZWVkc0xpZ2h0cyhtYXRlcmlhbCk7bWF0ZXJpYWxQcm9wZXJ0aWVzLmxpZ2h0c1N0YXRlVmVyc2lvbj1saWdodHNTdGF0ZVZlcnNpb247aWYobWF0ZXJpYWxQcm9wZXJ0aWVzLm5lZWRzTGlnaHRzKXsvLyB3aXJlIHVwIHRoZSBtYXRlcmlhbCB0byB0aGlzIHJlbmRlcmVyJ3MgbGlnaHRpbmcgc3RhdGUKdW5pZm9ybXMuYW1iaWVudExpZ2h0Q29sb3IudmFsdWU9bGlnaHRzLnN0YXRlLmFtYmllbnQ7dW5pZm9ybXMubGlnaHRQcm9iZS52YWx1ZT1saWdodHMuc3RhdGUucHJvYmU7dW5pZm9ybXMuZGlyZWN0aW9uYWxMaWdodHMudmFsdWU9bGlnaHRzLnN0YXRlLmRpcmVjdGlvbmFsO3VuaWZvcm1zLnNwb3RMaWdodHMudmFsdWU9bGlnaHRzLnN0YXRlLnNwb3Q7dW5pZm9ybXMucmVjdEFyZWFMaWdodHMudmFsdWU9bGlnaHRzLnN0YXRlLnJlY3RBcmVhO3VuaWZvcm1zLnBvaW50TGlnaHRzLnZhbHVlPWxpZ2h0cy5zdGF0ZS5wb2ludDt1bmlmb3Jtcy5oZW1pc3BoZXJlTGlnaHRzLnZhbHVlPWxpZ2h0cy5zdGF0ZS5oZW1pO3VuaWZvcm1zLmRpcmVjdGlvbmFsU2hhZG93TWFwLnZhbHVlPWxpZ2h0cy5zdGF0ZS5kaXJlY3Rpb25hbFNoYWRvd01hcDt1bmlmb3Jtcy5kaXJlY3Rpb25hbFNoYWRvd01hdHJpeC52YWx1ZT1saWdodHMuc3RhdGUuZGlyZWN0aW9uYWxTaGFkb3dNYXRyaXg7dW5pZm9ybXMuc3BvdFNoYWRvd01hcC52YWx1ZT1saWdodHMuc3RhdGUuc3BvdFNoYWRvd01hcDt1bmlmb3Jtcy5zcG90U2hhZG93TWF0cml4LnZhbHVlPWxpZ2h0cy5zdGF0ZS5zcG90U2hhZG93TWF0cml4O3VuaWZvcm1zLnBvaW50U2hhZG93TWFwLnZhbHVlPWxpZ2h0cy5zdGF0ZS5wb2ludFNoYWRvd01hcDt1bmlmb3Jtcy5wb2ludFNoYWRvd01hdHJpeC52YWx1ZT1saWdodHMuc3RhdGUucG9pbnRTaGFkb3dNYXRyaXg7Ly8gVE9ETyAoYWJlbG5hdGlvbik6IGFkZCBhcmVhIGxpZ2h0cyBzaGFkb3cgaW5mbyB0byB1bmlmb3Jtcwp9dmFyIHByb2dVbmlmb3Jtcz1tYXRlcmlhbFByb3BlcnRpZXMucHJvZ3JhbS5nZXRVbmlmb3JtcygpLHVuaWZvcm1zTGlzdD1XZWJHTFVuaWZvcm1zLnNlcVdpdGhWYWx1ZShwcm9nVW5pZm9ybXMuc2VxLHVuaWZvcm1zKTttYXRlcmlhbFByb3BlcnRpZXMudW5pZm9ybXNMaXN0PXVuaWZvcm1zTGlzdDt9ZnVuY3Rpb24gc2V0UHJvZ3JhbShjYW1lcmEsc2NlbmUsbWF0ZXJpYWwsb2JqZWN0KXt0ZXh0dXJlcy5yZXNldFRleHR1cmVVbml0cygpO3ZhciBmb2c9c2NlbmUuZm9nO3ZhciBlbnZpcm9ubWVudD1tYXRlcmlhbC5pc01lc2hTdGFuZGFyZE1hdGVyaWFsP3NjZW5lLmVudmlyb25tZW50Om51bGw7dmFyIG1hdGVyaWFsUHJvcGVydGllcz1wcm9wZXJ0aWVzLmdldChtYXRlcmlhbCk7dmFyIGxpZ2h0cz1jdXJyZW50UmVuZGVyU3RhdGUuc3RhdGUubGlnaHRzO2lmKF9jbGlwcGluZ0VuYWJsZWQpe2lmKF9sb2NhbENsaXBwaW5nRW5hYmxlZHx8Y2FtZXJhIT09X2N1cnJlbnRDYW1lcmEpe3ZhciB1c2VDYWNoZT1jYW1lcmE9PT1fY3VycmVudENhbWVyYSYmbWF0ZXJpYWwuaWQ9PT1fY3VycmVudE1hdGVyaWFsSWQ7Ly8gd2UgbWlnaHQgd2FudCB0byBjYWxsIHRoaXMgZnVuY3Rpb24gd2l0aCBzb21lIENsaXBwaW5nR3JvdXAKLy8gb2JqZWN0IGluc3RlYWQgb2YgdGhlIG1hdGVyaWFsLCBvbmNlIGl0IGJlY29tZXMgZmVhc2libGUKLy8gKCM4NDY1LCAjODM3OSkKX2NsaXBwaW5nLnNldFN0YXRlKG1hdGVyaWFsLmNsaXBwaW5nUGxhbmVzLG1hdGVyaWFsLmNsaXBJbnRlcnNlY3Rpb24sbWF0ZXJpYWwuY2xpcFNoYWRvd3MsY2FtZXJhLG1hdGVyaWFsUHJvcGVydGllcyx1c2VDYWNoZSk7fX1pZihtYXRlcmlhbC52ZXJzaW9uPT09bWF0ZXJpYWxQcm9wZXJ0aWVzLl9fdmVyc2lvbil7aWYobWF0ZXJpYWxQcm9wZXJ0aWVzLnByb2dyYW09PT11bmRlZmluZWQpe21hdGVyaWFsLm5lZWRzVXBkYXRlPXRydWU7fWVsc2UgaWYobWF0ZXJpYWwuZm9nJiZtYXRlcmlhbFByb3BlcnRpZXMuZm9nIT09Zm9nKXttYXRlcmlhbC5uZWVkc1VwZGF0ZT10cnVlO31lbHNlIGlmKG1hdGVyaWFsUHJvcGVydGllcy5lbnZpcm9ubWVudCE9PWVudmlyb25tZW50KXttYXRlcmlhbC5uZWVkc1VwZGF0ZT10cnVlO31lbHNlIGlmKG1hdGVyaWFsUHJvcGVydGllcy5uZWVkc0xpZ2h0cyYmbWF0ZXJpYWxQcm9wZXJ0aWVzLmxpZ2h0c1N0YXRlVmVyc2lvbiE9PWxpZ2h0cy5zdGF0ZS52ZXJzaW9uKXttYXRlcmlhbC5uZWVkc1VwZGF0ZT10cnVlO31lbHNlIGlmKG1hdGVyaWFsUHJvcGVydGllcy5udW1DbGlwcGluZ1BsYW5lcyE9PXVuZGVmaW5lZCYmKG1hdGVyaWFsUHJvcGVydGllcy5udW1DbGlwcGluZ1BsYW5lcyE9PV9jbGlwcGluZy5udW1QbGFuZXN8fG1hdGVyaWFsUHJvcGVydGllcy5udW1JbnRlcnNlY3Rpb24hPT1fY2xpcHBpbmcubnVtSW50ZXJzZWN0aW9uKSl7bWF0ZXJpYWwubmVlZHNVcGRhdGU9dHJ1ZTt9ZWxzZSBpZihtYXRlcmlhbFByb3BlcnRpZXMub3V0cHV0RW5jb2RpbmchPT1fdGhpcy5vdXRwdXRFbmNvZGluZyl7bWF0ZXJpYWwubmVlZHNVcGRhdGU9dHJ1ZTt9fWlmKG1hdGVyaWFsLnZlcnNpb24hPT1tYXRlcmlhbFByb3BlcnRpZXMuX192ZXJzaW9uKXtpbml0TWF0ZXJpYWwobWF0ZXJpYWwsc2NlbmUsb2JqZWN0KTttYXRlcmlhbFByb3BlcnRpZXMuX192ZXJzaW9uPW1hdGVyaWFsLnZlcnNpb247fXZhciByZWZyZXNoUHJvZ3JhbT1mYWxzZTt2YXIgcmVmcmVzaE1hdGVyaWFsPWZhbHNlO3ZhciByZWZyZXNoTGlnaHRzPWZhbHNlO3ZhciBwcm9ncmFtPW1hdGVyaWFsUHJvcGVydGllcy5wcm9ncmFtLHBfdW5pZm9ybXM9cHJvZ3JhbS5nZXRVbmlmb3JtcygpLG1fdW5pZm9ybXM9bWF0ZXJpYWxQcm9wZXJ0aWVzLnNoYWRlci51bmlmb3JtcztpZihzdGF0ZS51c2VQcm9ncmFtKHByb2dyYW0ucHJvZ3JhbSkpe3JlZnJlc2hQcm9ncmFtPXRydWU7cmVmcmVzaE1hdGVyaWFsPXRydWU7cmVmcmVzaExpZ2h0cz10cnVlO31pZihtYXRlcmlhbC5pZCE9PV9jdXJyZW50TWF0ZXJpYWxJZCl7X2N1cnJlbnRNYXRlcmlhbElkPW1hdGVyaWFsLmlkO3JlZnJlc2hNYXRlcmlhbD10cnVlO31pZihyZWZyZXNoUHJvZ3JhbXx8X2N1cnJlbnRDYW1lcmEhPT1jYW1lcmEpe2lmKHByb2dyYW0ubnVtTXVsdGl2aWV3Vmlld3M+MCl7bXVsdGl2aWV3LnVwZGF0ZUNhbWVyYVByb2plY3Rpb25NYXRyaWNlc1VuaWZvcm0oY2FtZXJhLHBfdW5pZm9ybXMpO31lbHNle3BfdW5pZm9ybXMuc2V0VmFsdWUoX2dsLCdwcm9qZWN0aW9uTWF0cml4JyxjYW1lcmEucHJvamVjdGlvbk1hdHJpeCk7fWlmKGNhcGFiaWxpdGllcy5sb2dhcml0aG1pY0RlcHRoQnVmZmVyKXtwX3VuaWZvcm1zLnNldFZhbHVlKF9nbCwnbG9nRGVwdGhCdWZGQycsMi4wLyhNYXRoLmxvZyhjYW1lcmEuZmFyKzEuMCkvTWF0aC5MTjIpKTt9aWYoX2N1cnJlbnRDYW1lcmEhPT1jYW1lcmEpe19jdXJyZW50Q2FtZXJhPWNhbWVyYTsvLyBsaWdodGluZyB1bmlmb3JtcyBkZXBlbmQgb24gdGhlIGNhbWVyYSBzbyBlbmZvcmNlIGFuIHVwZGF0ZQovLyBub3csIGluIGNhc2UgdGhpcyBtYXRlcmlhbCBzdXBwb3J0cyBsaWdodHMgLSBvciBsYXRlciwgd2hlbgovLyB0aGUgbmV4dCBtYXRlcmlhbCB0aGF0IGRvZXMgZ2V0cyBhY3RpdmF0ZWQ6CnJlZnJlc2hNYXRlcmlhbD10cnVlOy8vIHNldCB0byB0cnVlIG9uIG1hdGVyaWFsIGNoYW5nZQpyZWZyZXNoTGlnaHRzPXRydWU7Ly8gcmVtYWlucyBzZXQgdW50aWwgdXBkYXRlIGRvbmUKfS8vIGxvYWQgbWF0ZXJpYWwgc3BlY2lmaWMgdW5pZm9ybXMKLy8gKHNoYWRlciBtYXRlcmlhbCBhbHNvIGdldHMgdGhlbSBmb3IgdGhlIHNha2Ugb2YgZ2VuZXJpY2l0eSkKaWYobWF0ZXJpYWwuaXNTaGFkZXJNYXRlcmlhbHx8bWF0ZXJpYWwuaXNNZXNoUGhvbmdNYXRlcmlhbHx8bWF0ZXJpYWwuaXNNZXNoVG9vbk1hdGVyaWFsfHxtYXRlcmlhbC5pc01lc2hTdGFuZGFyZE1hdGVyaWFsfHxtYXRlcmlhbC5lbnZNYXApe3ZhciB1Q2FtUG9zPXBfdW5pZm9ybXMubWFwLmNhbWVyYVBvc2l0aW9uO2lmKHVDYW1Qb3MhPT11bmRlZmluZWQpe3VDYW1Qb3Muc2V0VmFsdWUoX2dsLF92ZWN0b3IzLnNldEZyb21NYXRyaXhQb3NpdGlvbihjYW1lcmEubWF0cml4V29ybGQpKTt9fWlmKG1hdGVyaWFsLmlzTWVzaFBob25nTWF0ZXJpYWx8fG1hdGVyaWFsLmlzTWVzaFRvb25NYXRlcmlhbHx8bWF0ZXJpYWwuaXNNZXNoTGFtYmVydE1hdGVyaWFsfHxtYXRlcmlhbC5pc01lc2hCYXNpY01hdGVyaWFsfHxtYXRlcmlhbC5pc01lc2hTdGFuZGFyZE1hdGVyaWFsfHxtYXRlcmlhbC5pc1NoYWRlck1hdGVyaWFsKXtwX3VuaWZvcm1zLnNldFZhbHVlKF9nbCwnaXNPcnRob2dyYXBoaWMnLGNhbWVyYS5pc09ydGhvZ3JhcGhpY0NhbWVyYT09PXRydWUpO31pZihtYXRlcmlhbC5pc01lc2hQaG9uZ01hdGVyaWFsfHxtYXRlcmlhbC5pc01lc2hUb29uTWF0ZXJpYWx8fG1hdGVyaWFsLmlzTWVzaExhbWJlcnRNYXRlcmlhbHx8bWF0ZXJpYWwuaXNNZXNoQmFzaWNNYXRlcmlhbHx8bWF0ZXJpYWwuaXNNZXNoU3RhbmRhcmRNYXRlcmlhbHx8bWF0ZXJpYWwuaXNTaGFkZXJNYXRlcmlhbHx8bWF0ZXJpYWwuc2tpbm5pbmcpe2lmKHByb2dyYW0ubnVtTXVsdGl2aWV3Vmlld3M+MCl7bXVsdGl2aWV3LnVwZGF0ZUNhbWVyYVZpZXdNYXRyaWNlc1VuaWZvcm0oY2FtZXJhLHBfdW5pZm9ybXMpO31lbHNle3BfdW5pZm9ybXMuc2V0VmFsdWUoX2dsLCd2aWV3TWF0cml4JyxjYW1lcmEubWF0cml4V29ybGRJbnZlcnNlKTt9fX0vLyBza2lubmluZyB1bmlmb3JtcyBtdXN0IGJlIHNldCBldmVuIGlmIG1hdGVyaWFsIGRpZG4ndCBjaGFuZ2UKLy8gYXV0by1zZXR0aW5nIG9mIHRleHR1cmUgdW5pdCBmb3IgYm9uZSB0ZXh0dXJlIG11c3QgZ28gYmVmb3JlIG90aGVyIHRleHR1cmVzCi8vIG5vdCBzdXJlIHdoeSwgYnV0IG90aGVyd2lzZSB3ZWlyZCB0aGluZ3MgaGFwcGVuCmlmKG1hdGVyaWFsLnNraW5uaW5nKXtwX3VuaWZvcm1zLnNldE9wdGlvbmFsKF9nbCxvYmplY3QsJ2JpbmRNYXRyaXgnKTtwX3VuaWZvcm1zLnNldE9wdGlvbmFsKF9nbCxvYmplY3QsJ2JpbmRNYXRyaXhJbnZlcnNlJyk7dmFyIHNrZWxldG9uPW9iamVjdC5za2VsZXRvbjtpZihza2VsZXRvbil7dmFyIGJvbmVzPXNrZWxldG9uLmJvbmVzO2lmKGNhcGFiaWxpdGllcy5mbG9hdFZlcnRleFRleHR1cmVzKXtpZihza2VsZXRvbi5ib25lVGV4dHVyZT09PXVuZGVmaW5lZCl7Ly8gbGF5b3V0ICgxIG1hdHJpeCA9IDQgcGl4ZWxzKQovLyAgICAgIFJHQkEgUkdCQSBSR0JBIFJHQkEgKD0+IGNvbHVtbjEsIGNvbHVtbjIsIGNvbHVtbjMsIGNvbHVtbjQpCi8vICB3aXRoICA4eDggIHBpeGVsIHRleHR1cmUgbWF4ICAgMTYgYm9uZXMgKiA0IHBpeGVscyA9ICAoOCAqIDgpCi8vICAgICAgIDE2eDE2IHBpeGVsIHRleHR1cmUgbWF4ICAgNjQgYm9uZXMgKiA0IHBpeGVscyA9ICgxNiAqIDE2KQovLyAgICAgICAzMngzMiBwaXhlbCB0ZXh0dXJlIG1heCAgMjU2IGJvbmVzICogNCBwaXhlbHMgPSAoMzIgKiAzMikKLy8gICAgICAgNjR4NjQgcGl4ZWwgdGV4dHVyZSBtYXggMTAyNCBib25lcyAqIDQgcGl4ZWxzID0gKDY0ICogNjQpCnZhciBzaXplPU1hdGguc3FydChib25lcy5sZW5ndGgqNCk7Ly8gNCBwaXhlbHMgbmVlZGVkIGZvciAxIG1hdHJpeApzaXplPV9NYXRoLmNlaWxQb3dlck9mVHdvKHNpemUpO3NpemU9TWF0aC5tYXgoc2l6ZSw0KTt2YXIgYm9uZU1hdHJpY2VzPW5ldyBGbG9hdDMyQXJyYXkoc2l6ZSpzaXplKjQpOy8vIDQgZmxvYXRzIHBlciBSR0JBIHBpeGVsCmJvbmVNYXRyaWNlcy5zZXQoc2tlbGV0b24uYm9uZU1hdHJpY2VzKTsvLyBjb3B5IGN1cnJlbnQgdmFsdWVzCnZhciBib25lVGV4dHVyZT1uZXcgRGF0YVRleHR1cmUoYm9uZU1hdHJpY2VzLHNpemUsc2l6ZSxSR0JBRm9ybWF0LEZsb2F0VHlwZSk7c2tlbGV0b24uYm9uZU1hdHJpY2VzPWJvbmVNYXRyaWNlcztza2VsZXRvbi5ib25lVGV4dHVyZT1ib25lVGV4dHVyZTtza2VsZXRvbi5ib25lVGV4dHVyZVNpemU9c2l6ZTt9cF91bmlmb3Jtcy5zZXRWYWx1ZShfZ2wsJ2JvbmVUZXh0dXJlJyxza2VsZXRvbi5ib25lVGV4dHVyZSx0ZXh0dXJlcyk7cF91bmlmb3Jtcy5zZXRWYWx1ZShfZ2wsJ2JvbmVUZXh0dXJlU2l6ZScsc2tlbGV0b24uYm9uZVRleHR1cmVTaXplKTt9ZWxzZXtwX3VuaWZvcm1zLnNldE9wdGlvbmFsKF9nbCxza2VsZXRvbiwnYm9uZU1hdHJpY2VzJyk7fX19aWYocmVmcmVzaE1hdGVyaWFsfHxtYXRlcmlhbFByb3BlcnRpZXMucmVjZWl2ZVNoYWRvdyE9PW9iamVjdC5yZWNlaXZlU2hhZG93KXttYXRlcmlhbFByb3BlcnRpZXMucmVjZWl2ZVNoYWRvdz1vYmplY3QucmVjZWl2ZVNoYWRvdztwX3VuaWZvcm1zLnNldFZhbHVlKF9nbCwncmVjZWl2ZVNoYWRvdycsb2JqZWN0LnJlY2VpdmVTaGFkb3cpO31pZihyZWZyZXNoTWF0ZXJpYWwpe3BfdW5pZm9ybXMuc2V0VmFsdWUoX2dsLCd0b25lTWFwcGluZ0V4cG9zdXJlJyxfdGhpcy50b25lTWFwcGluZ0V4cG9zdXJlKTtwX3VuaWZvcm1zLnNldFZhbHVlKF9nbCwndG9uZU1hcHBpbmdXaGl0ZVBvaW50JyxfdGhpcy50b25lTWFwcGluZ1doaXRlUG9pbnQpO2lmKG1hdGVyaWFsUHJvcGVydGllcy5uZWVkc0xpZ2h0cyl7Ly8gdGhlIGN1cnJlbnQgbWF0ZXJpYWwgcmVxdWlyZXMgbGlnaHRpbmcgaW5mbwovLyBub3RlOiBhbGwgbGlnaHRpbmcgdW5pZm9ybXMgYXJlIGFsd2F5cyBzZXQgY29ycmVjdGx5Ci8vIHRoZXkgc2ltcGx5IHJlZmVyZW5jZSB0aGUgcmVuZGVyZXIncyBzdGF0ZSBmb3IgdGhlaXIKLy8gdmFsdWVzCi8vCi8vIHVzZSB0aGUgY3VycmVudCBtYXRlcmlhbCdzIC5uZWVkc1VwZGF0ZSBmbGFncyB0byBzZXQKLy8gdGhlIEdMIHN0YXRlIHdoZW4gcmVxdWlyZWQKbWFya1VuaWZvcm1zTGlnaHRzTmVlZHNVcGRhdGUobV91bmlmb3JtcyxyZWZyZXNoTGlnaHRzKTt9Ly8gcmVmcmVzaCB1bmlmb3JtcyBjb21tb24gdG8gc2V2ZXJhbCBtYXRlcmlhbHMKaWYoZm9nJiZtYXRlcmlhbC5mb2cpe3JlZnJlc2hVbmlmb3Jtc0ZvZyhtX3VuaWZvcm1zLGZvZyk7fWlmKG1hdGVyaWFsLmlzTWVzaEJhc2ljTWF0ZXJpYWwpe3JlZnJlc2hVbmlmb3Jtc0NvbW1vbihtX3VuaWZvcm1zLG1hdGVyaWFsKTt9ZWxzZSBpZihtYXRlcmlhbC5pc01lc2hMYW1iZXJ0TWF0ZXJpYWwpe3JlZnJlc2hVbmlmb3Jtc0NvbW1vbihtX3VuaWZvcm1zLG1hdGVyaWFsKTtyZWZyZXNoVW5pZm9ybXNMYW1iZXJ0KG1fdW5pZm9ybXMsbWF0ZXJpYWwpO31lbHNlIGlmKG1hdGVyaWFsLmlzTWVzaFRvb25NYXRlcmlhbCl7cmVmcmVzaFVuaWZvcm1zQ29tbW9uKG1fdW5pZm9ybXMsbWF0ZXJpYWwpO3JlZnJlc2hVbmlmb3Jtc1Rvb24obV91bmlmb3JtcyxtYXRlcmlhbCk7fWVsc2UgaWYobWF0ZXJpYWwuaXNNZXNoUGhvbmdNYXRlcmlhbCl7cmVmcmVzaFVuaWZvcm1zQ29tbW9uKG1fdW5pZm9ybXMsbWF0ZXJpYWwpO3JlZnJlc2hVbmlmb3Jtc1Bob25nKG1fdW5pZm9ybXMsbWF0ZXJpYWwpO31lbHNlIGlmKG1hdGVyaWFsLmlzTWVzaFN0YW5kYXJkTWF0ZXJpYWwpe3JlZnJlc2hVbmlmb3Jtc0NvbW1vbihtX3VuaWZvcm1zLG1hdGVyaWFsLGVudmlyb25tZW50KTtpZihtYXRlcmlhbC5pc01lc2hQaHlzaWNhbE1hdGVyaWFsKXtyZWZyZXNoVW5pZm9ybXNQaHlzaWNhbChtX3VuaWZvcm1zLG1hdGVyaWFsLGVudmlyb25tZW50KTt9ZWxzZXtyZWZyZXNoVW5pZm9ybXNTdGFuZGFyZChtX3VuaWZvcm1zLG1hdGVyaWFsLGVudmlyb25tZW50KTt9fWVsc2UgaWYobWF0ZXJpYWwuaXNNZXNoTWF0Y2FwTWF0ZXJpYWwpe3JlZnJlc2hVbmlmb3Jtc0NvbW1vbihtX3VuaWZvcm1zLG1hdGVyaWFsKTtyZWZyZXNoVW5pZm9ybXNNYXRjYXAobV91bmlmb3JtcyxtYXRlcmlhbCk7fWVsc2UgaWYobWF0ZXJpYWwuaXNNZXNoRGVwdGhNYXRlcmlhbCl7cmVmcmVzaFVuaWZvcm1zQ29tbW9uKG1fdW5pZm9ybXMsbWF0ZXJpYWwpO3JlZnJlc2hVbmlmb3Jtc0RlcHRoKG1fdW5pZm9ybXMsbWF0ZXJpYWwpO31lbHNlIGlmKG1hdGVyaWFsLmlzTWVzaERpc3RhbmNlTWF0ZXJpYWwpe3JlZnJlc2hVbmlmb3Jtc0NvbW1vbihtX3VuaWZvcm1zLG1hdGVyaWFsKTtyZWZyZXNoVW5pZm9ybXNEaXN0YW5jZShtX3VuaWZvcm1zLG1hdGVyaWFsKTt9ZWxzZSBpZihtYXRlcmlhbC5pc01lc2hOb3JtYWxNYXRlcmlhbCl7cmVmcmVzaFVuaWZvcm1zQ29tbW9uKG1fdW5pZm9ybXMsbWF0ZXJpYWwpO3JlZnJlc2hVbmlmb3Jtc05vcm1hbChtX3VuaWZvcm1zLG1hdGVyaWFsKTt9ZWxzZSBpZihtYXRlcmlhbC5pc0xpbmVCYXNpY01hdGVyaWFsKXtyZWZyZXNoVW5pZm9ybXNMaW5lKG1fdW5pZm9ybXMsbWF0ZXJpYWwpO2lmKG1hdGVyaWFsLmlzTGluZURhc2hlZE1hdGVyaWFsKXtyZWZyZXNoVW5pZm9ybXNEYXNoKG1fdW5pZm9ybXMsbWF0ZXJpYWwpO319ZWxzZSBpZihtYXRlcmlhbC5pc1BvaW50c01hdGVyaWFsKXtyZWZyZXNoVW5pZm9ybXNQb2ludHMobV91bmlmb3JtcyxtYXRlcmlhbCk7fWVsc2UgaWYobWF0ZXJpYWwuaXNTcHJpdGVNYXRlcmlhbCl7cmVmcmVzaFVuaWZvcm1zU3ByaXRlcyhtX3VuaWZvcm1zLG1hdGVyaWFsKTt9ZWxzZSBpZihtYXRlcmlhbC5pc1NoYWRvd01hdGVyaWFsKXttX3VuaWZvcm1zLmNvbG9yLnZhbHVlLmNvcHkobWF0ZXJpYWwuY29sb3IpO21fdW5pZm9ybXMub3BhY2l0eS52YWx1ZT1tYXRlcmlhbC5vcGFjaXR5O30vLyBSZWN0QXJlYUxpZ2h0IFRleHR1cmUKLy8gVE9ETyAobXJkb29iKTogRmluZCBhIG5pY2VyIGltcGxlbWVudGF0aW9uCmlmKG1fdW5pZm9ybXMubHRjXzEhPT11bmRlZmluZWQpe21fdW5pZm9ybXMubHRjXzEudmFsdWU9VW5pZm9ybXNMaWIuTFRDXzE7fWlmKG1fdW5pZm9ybXMubHRjXzIhPT11bmRlZmluZWQpe21fdW5pZm9ybXMubHRjXzIudmFsdWU9VW5pZm9ybXNMaWIuTFRDXzI7fVdlYkdMVW5pZm9ybXMudXBsb2FkKF9nbCxtYXRlcmlhbFByb3BlcnRpZXMudW5pZm9ybXNMaXN0LG1fdW5pZm9ybXMsdGV4dHVyZXMpO2lmKG1hdGVyaWFsLmlzU2hhZGVyTWF0ZXJpYWwpe21hdGVyaWFsLnVuaWZvcm1zTmVlZFVwZGF0ZT1mYWxzZTsvLyAjMTU1ODEKfX1pZihtYXRlcmlhbC5pc1NoYWRlck1hdGVyaWFsJiZtYXRlcmlhbC51bmlmb3Jtc05lZWRVcGRhdGU9PT10cnVlKXtXZWJHTFVuaWZvcm1zLnVwbG9hZChfZ2wsbWF0ZXJpYWxQcm9wZXJ0aWVzLnVuaWZvcm1zTGlzdCxtX3VuaWZvcm1zLHRleHR1cmVzKTttYXRlcmlhbC51bmlmb3Jtc05lZWRVcGRhdGU9ZmFsc2U7fWlmKG1hdGVyaWFsLmlzU3ByaXRlTWF0ZXJpYWwpe3BfdW5pZm9ybXMuc2V0VmFsdWUoX2dsLCdjZW50ZXInLG9iamVjdC5jZW50ZXIpO30vLyBjb21tb24gbWF0cmljZXMKaWYocHJvZ3JhbS5udW1NdWx0aXZpZXdWaWV3cz4wKXttdWx0aXZpZXcudXBkYXRlT2JqZWN0TWF0cmljZXNVbmlmb3JtcyhvYmplY3QsY2FtZXJhLHBfdW5pZm9ybXMpO31lbHNle3BfdW5pZm9ybXMuc2V0VmFsdWUoX2dsLCdtb2RlbFZpZXdNYXRyaXgnLG9iamVjdC5tb2RlbFZpZXdNYXRyaXgpO3BfdW5pZm9ybXMuc2V0VmFsdWUoX2dsLCdub3JtYWxNYXRyaXgnLG9iamVjdC5ub3JtYWxNYXRyaXgpO31wX3VuaWZvcm1zLnNldFZhbHVlKF9nbCwnbW9kZWxNYXRyaXgnLG9iamVjdC5tYXRyaXhXb3JsZCk7cmV0dXJuIHByb2dyYW07fS8vIFVuaWZvcm1zIChyZWZyZXNoIHVuaWZvcm1zIG9iamVjdHMpCmZ1bmN0aW9uIHJlZnJlc2hVbmlmb3Jtc0NvbW1vbih1bmlmb3JtcyxtYXRlcmlhbCxlbnZpcm9ubWVudCl7dW5pZm9ybXMub3BhY2l0eS52YWx1ZT1tYXRlcmlhbC5vcGFjaXR5O2lmKG1hdGVyaWFsLmNvbG9yKXt1bmlmb3Jtcy5kaWZmdXNlLnZhbHVlLmNvcHkobWF0ZXJpYWwuY29sb3IpO31pZihtYXRlcmlhbC5lbWlzc2l2ZSl7dW5pZm9ybXMuZW1pc3NpdmUudmFsdWUuY29weShtYXRlcmlhbC5lbWlzc2l2ZSkubXVsdGlwbHlTY2FsYXIobWF0ZXJpYWwuZW1pc3NpdmVJbnRlbnNpdHkpO31pZihtYXRlcmlhbC5tYXApe3VuaWZvcm1zLm1hcC52YWx1ZT1tYXRlcmlhbC5tYXA7fWlmKG1hdGVyaWFsLmFscGhhTWFwKXt1bmlmb3Jtcy5hbHBoYU1hcC52YWx1ZT1tYXRlcmlhbC5hbHBoYU1hcDt9aWYobWF0ZXJpYWwuc3BlY3VsYXJNYXApe3VuaWZvcm1zLnNwZWN1bGFyTWFwLnZhbHVlPW1hdGVyaWFsLnNwZWN1bGFyTWFwO312YXIgZW52TWFwPW1hdGVyaWFsLmVudk1hcHx8ZW52aXJvbm1lbnQ7aWYoZW52TWFwKXt1bmlmb3Jtcy5lbnZNYXAudmFsdWU9ZW52TWFwOy8vIGRvbid0IGZsaXAgQ3ViZVRleHR1cmUgZW52TWFwcywgZmxpcCBldmVyeXRoaW5nIGVsc2U6Ci8vICBXZWJHTFJlbmRlclRhcmdldEN1YmUgd2lsbCBiZSBmbGlwcGVkIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eQovLyAgV2ViR0xSZW5kZXJUYXJnZXRDdWJlLnRleHR1cmUgd2lsbCBiZSBmbGlwcGVkIGJlY2F1c2UgaXQncyBhIFRleHR1cmUgYW5kIE5PVCBhIEN1YmVUZXh0dXJlCi8vIHRoaXMgY2hlY2sgbXVzdCBiZSBoYW5kbGVkIGRpZmZlcmVudGx5LCBvciByZW1vdmVkIGVudGlyZWx5LCBpZiBXZWJHTFJlbmRlclRhcmdldEN1YmUgdXNlcyBhIEN1YmVUZXh0dXJlIGluIHRoZSBmdXR1cmUKdW5pZm9ybXMuZmxpcEVudk1hcC52YWx1ZT1lbnZNYXAuaXNDdWJlVGV4dHVyZT8tMToxO3VuaWZvcm1zLnJlZmxlY3Rpdml0eS52YWx1ZT1tYXRlcmlhbC5yZWZsZWN0aXZpdHk7dW5pZm9ybXMucmVmcmFjdGlvblJhdGlvLnZhbHVlPW1hdGVyaWFsLnJlZnJhY3Rpb25SYXRpbzt1bmlmb3Jtcy5tYXhNaXBMZXZlbC52YWx1ZT1wcm9wZXJ0aWVzLmdldChlbnZNYXApLl9fbWF4TWlwTGV2ZWw7fWlmKG1hdGVyaWFsLmxpZ2h0TWFwKXt1bmlmb3Jtcy5saWdodE1hcC52YWx1ZT1tYXRlcmlhbC5saWdodE1hcDt1bmlmb3Jtcy5saWdodE1hcEludGVuc2l0eS52YWx1ZT1tYXRlcmlhbC5saWdodE1hcEludGVuc2l0eTt9aWYobWF0ZXJpYWwuYW9NYXApe3VuaWZvcm1zLmFvTWFwLnZhbHVlPW1hdGVyaWFsLmFvTWFwO3VuaWZvcm1zLmFvTWFwSW50ZW5zaXR5LnZhbHVlPW1hdGVyaWFsLmFvTWFwSW50ZW5zaXR5O30vLyB1diByZXBlYXQgYW5kIG9mZnNldCBzZXR0aW5nIHByaW9yaXRpZXMKLy8gMS4gY29sb3IgbWFwCi8vIDIuIHNwZWN1bGFyIG1hcAovLyAzLiBub3JtYWwgbWFwCi8vIDQuIGJ1bXAgbWFwCi8vIDUuIGFscGhhIG1hcAovLyA2LiBlbWlzc2l2ZSBtYXAKdmFyIHV2U2NhbGVNYXA7aWYobWF0ZXJpYWwubWFwKXt1dlNjYWxlTWFwPW1hdGVyaWFsLm1hcDt9ZWxzZSBpZihtYXRlcmlhbC5zcGVjdWxhck1hcCl7dXZTY2FsZU1hcD1tYXRlcmlhbC5zcGVjdWxhck1hcDt9ZWxzZSBpZihtYXRlcmlhbC5kaXNwbGFjZW1lbnRNYXApe3V2U2NhbGVNYXA9bWF0ZXJpYWwuZGlzcGxhY2VtZW50TWFwO31lbHNlIGlmKG1hdGVyaWFsLm5vcm1hbE1hcCl7dXZTY2FsZU1hcD1tYXRlcmlhbC5ub3JtYWxNYXA7fWVsc2UgaWYobWF0ZXJpYWwuYnVtcE1hcCl7dXZTY2FsZU1hcD1tYXRlcmlhbC5idW1wTWFwO31lbHNlIGlmKG1hdGVyaWFsLnJvdWdobmVzc01hcCl7dXZTY2FsZU1hcD1tYXRlcmlhbC5yb3VnaG5lc3NNYXA7fWVsc2UgaWYobWF0ZXJpYWwubWV0YWxuZXNzTWFwKXt1dlNjYWxlTWFwPW1hdGVyaWFsLm1ldGFsbmVzc01hcDt9ZWxzZSBpZihtYXRlcmlhbC5hbHBoYU1hcCl7dXZTY2FsZU1hcD1tYXRlcmlhbC5hbHBoYU1hcDt9ZWxzZSBpZihtYXRlcmlhbC5lbWlzc2l2ZU1hcCl7dXZTY2FsZU1hcD1tYXRlcmlhbC5lbWlzc2l2ZU1hcDt9aWYodXZTY2FsZU1hcCE9PXVuZGVmaW5lZCl7Ly8gYmFja3dhcmRzIGNvbXBhdGliaWxpdHkKaWYodXZTY2FsZU1hcC5pc1dlYkdMUmVuZGVyVGFyZ2V0KXt1dlNjYWxlTWFwPXV2U2NhbGVNYXAudGV4dHVyZTt9aWYodXZTY2FsZU1hcC5tYXRyaXhBdXRvVXBkYXRlPT09dHJ1ZSl7dXZTY2FsZU1hcC51cGRhdGVNYXRyaXgoKTt9dW5pZm9ybXMudXZUcmFuc2Zvcm0udmFsdWUuY29weSh1dlNjYWxlTWFwLm1hdHJpeCk7fS8vIHV2IHJlcGVhdCBhbmQgb2Zmc2V0IHNldHRpbmcgcHJpb3JpdGllcyBmb3IgdXYyCi8vIDEuIGFvIG1hcAovLyAyLiBsaWdodCBtYXAKdmFyIHV2MlNjYWxlTWFwO2lmKG1hdGVyaWFsLmFvTWFwKXt1djJTY2FsZU1hcD1tYXRlcmlhbC5hb01hcDt9ZWxzZSBpZihtYXRlcmlhbC5saWdodE1hcCl7dXYyU2NhbGVNYXA9bWF0ZXJpYWwubGlnaHRNYXA7fWlmKHV2MlNjYWxlTWFwIT09dW5kZWZpbmVkKXsvLyBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eQppZih1djJTY2FsZU1hcC5pc1dlYkdMUmVuZGVyVGFyZ2V0KXt1djJTY2FsZU1hcD11djJTY2FsZU1hcC50ZXh0dXJlO31pZih1djJTY2FsZU1hcC5tYXRyaXhBdXRvVXBkYXRlPT09dHJ1ZSl7dXYyU2NhbGVNYXAudXBkYXRlTWF0cml4KCk7fXVuaWZvcm1zLnV2MlRyYW5zZm9ybS52YWx1ZS5jb3B5KHV2MlNjYWxlTWFwLm1hdHJpeCk7fX1mdW5jdGlvbiByZWZyZXNoVW5pZm9ybXNMaW5lKHVuaWZvcm1zLG1hdGVyaWFsKXt1bmlmb3Jtcy5kaWZmdXNlLnZhbHVlLmNvcHkobWF0ZXJpYWwuY29sb3IpO3VuaWZvcm1zLm9wYWNpdHkudmFsdWU9bWF0ZXJpYWwub3BhY2l0eTt9ZnVuY3Rpb24gcmVmcmVzaFVuaWZvcm1zRGFzaCh1bmlmb3JtcyxtYXRlcmlhbCl7dW5pZm9ybXMuZGFzaFNpemUudmFsdWU9bWF0ZXJpYWwuZGFzaFNpemU7dW5pZm9ybXMudG90YWxTaXplLnZhbHVlPW1hdGVyaWFsLmRhc2hTaXplK21hdGVyaWFsLmdhcFNpemU7dW5pZm9ybXMuc2NhbGUudmFsdWU9bWF0ZXJpYWwuc2NhbGU7fWZ1bmN0aW9uIHJlZnJlc2hVbmlmb3Jtc1BvaW50cyh1bmlmb3JtcyxtYXRlcmlhbCl7dW5pZm9ybXMuZGlmZnVzZS52YWx1ZS5jb3B5KG1hdGVyaWFsLmNvbG9yKTt1bmlmb3Jtcy5vcGFjaXR5LnZhbHVlPW1hdGVyaWFsLm9wYWNpdHk7dW5pZm9ybXMuc2l6ZS52YWx1ZT1tYXRlcmlhbC5zaXplKl9waXhlbFJhdGlvO3VuaWZvcm1zLnNjYWxlLnZhbHVlPV9oZWlnaHQqMC41O2lmKG1hdGVyaWFsLm1hcCl7dW5pZm9ybXMubWFwLnZhbHVlPW1hdGVyaWFsLm1hcDt9aWYobWF0ZXJpYWwuYWxwaGFNYXApe3VuaWZvcm1zLmFscGhhTWFwLnZhbHVlPW1hdGVyaWFsLmFscGhhTWFwO30vLyB1diByZXBlYXQgYW5kIG9mZnNldCBzZXR0aW5nIHByaW9yaXRpZXMKLy8gMS4gY29sb3IgbWFwCi8vIDIuIGFscGhhIG1hcAp2YXIgdXZTY2FsZU1hcDtpZihtYXRlcmlhbC5tYXApe3V2U2NhbGVNYXA9bWF0ZXJpYWwubWFwO31lbHNlIGlmKG1hdGVyaWFsLmFscGhhTWFwKXt1dlNjYWxlTWFwPW1hdGVyaWFsLmFscGhhTWFwO31pZih1dlNjYWxlTWFwIT09dW5kZWZpbmVkKXtpZih1dlNjYWxlTWFwLm1hdHJpeEF1dG9VcGRhdGU9PT10cnVlKXt1dlNjYWxlTWFwLnVwZGF0ZU1hdHJpeCgpO311bmlmb3Jtcy51dlRyYW5zZm9ybS52YWx1ZS5jb3B5KHV2U2NhbGVNYXAubWF0cml4KTt9fWZ1bmN0aW9uIHJlZnJlc2hVbmlmb3Jtc1Nwcml0ZXModW5pZm9ybXMsbWF0ZXJpYWwpe3VuaWZvcm1zLmRpZmZ1c2UudmFsdWUuY29weShtYXRlcmlhbC5jb2xvcik7dW5pZm9ybXMub3BhY2l0eS52YWx1ZT1tYXRlcmlhbC5vcGFjaXR5O3VuaWZvcm1zLnJvdGF0aW9uLnZhbHVlPW1hdGVyaWFsLnJvdGF0aW9uO2lmKG1hdGVyaWFsLm1hcCl7dW5pZm9ybXMubWFwLnZhbHVlPW1hdGVyaWFsLm1hcDt9aWYobWF0ZXJpYWwuYWxwaGFNYXApe3VuaWZvcm1zLmFscGhhTWFwLnZhbHVlPW1hdGVyaWFsLmFscGhhTWFwO30vLyB1diByZXBlYXQgYW5kIG9mZnNldCBzZXR0aW5nIHByaW9yaXRpZXMKLy8gMS4gY29sb3IgbWFwCi8vIDIuIGFscGhhIG1hcAp2YXIgdXZTY2FsZU1hcDtpZihtYXRlcmlhbC5tYXApe3V2U2NhbGVNYXA9bWF0ZXJpYWwubWFwO31lbHNlIGlmKG1hdGVyaWFsLmFscGhhTWFwKXt1dlNjYWxlTWFwPW1hdGVyaWFsLmFscGhhTWFwO31pZih1dlNjYWxlTWFwIT09dW5kZWZpbmVkKXtpZih1dlNjYWxlTWFwLm1hdHJpeEF1dG9VcGRhdGU9PT10cnVlKXt1dlNjYWxlTWFwLnVwZGF0ZU1hdHJpeCgpO311bmlmb3Jtcy51dlRyYW5zZm9ybS52YWx1ZS5jb3B5KHV2U2NhbGVNYXAubWF0cml4KTt9fWZ1bmN0aW9uIHJlZnJlc2hVbmlmb3Jtc0ZvZyh1bmlmb3Jtcyxmb2cpe3VuaWZvcm1zLmZvZ0NvbG9yLnZhbHVlLmNvcHkoZm9nLmNvbG9yKTtpZihmb2cuaXNGb2cpe3VuaWZvcm1zLmZvZ05lYXIudmFsdWU9Zm9nLm5lYXI7dW5pZm9ybXMuZm9nRmFyLnZhbHVlPWZvZy5mYXI7fWVsc2UgaWYoZm9nLmlzRm9nRXhwMil7dW5pZm9ybXMuZm9nRGVuc2l0eS52YWx1ZT1mb2cuZGVuc2l0eTt9fWZ1bmN0aW9uIHJlZnJlc2hVbmlmb3Jtc0xhbWJlcnQodW5pZm9ybXMsbWF0ZXJpYWwpe2lmKG1hdGVyaWFsLmVtaXNzaXZlTWFwKXt1bmlmb3Jtcy5lbWlzc2l2ZU1hcC52YWx1ZT1tYXRlcmlhbC5lbWlzc2l2ZU1hcDt9fWZ1bmN0aW9uIHJlZnJlc2hVbmlmb3Jtc1Bob25nKHVuaWZvcm1zLG1hdGVyaWFsKXt1bmlmb3Jtcy5zcGVjdWxhci52YWx1ZS5jb3B5KG1hdGVyaWFsLnNwZWN1bGFyKTt1bmlmb3Jtcy5zaGluaW5lc3MudmFsdWU9TWF0aC5tYXgobWF0ZXJpYWwuc2hpbmluZXNzLDFlLTQpOy8vIHRvIHByZXZlbnQgcG93KCAwLjAsIDAuMCApCmlmKG1hdGVyaWFsLmVtaXNzaXZlTWFwKXt1bmlmb3Jtcy5lbWlzc2l2ZU1hcC52YWx1ZT1tYXRlcmlhbC5lbWlzc2l2ZU1hcDt9aWYobWF0ZXJpYWwuYnVtcE1hcCl7dW5pZm9ybXMuYnVtcE1hcC52YWx1ZT1tYXRlcmlhbC5idW1wTWFwO3VuaWZvcm1zLmJ1bXBTY2FsZS52YWx1ZT1tYXRlcmlhbC5idW1wU2NhbGU7aWYobWF0ZXJpYWwuc2lkZT09PUJhY2tTaWRlKXt1bmlmb3Jtcy5idW1wU2NhbGUudmFsdWUqPS0xO319aWYobWF0ZXJpYWwubm9ybWFsTWFwKXt1bmlmb3Jtcy5ub3JtYWxNYXAudmFsdWU9bWF0ZXJpYWwubm9ybWFsTWFwO3VuaWZvcm1zLm5vcm1hbFNjYWxlLnZhbHVlLmNvcHkobWF0ZXJpYWwubm9ybWFsU2NhbGUpO2lmKG1hdGVyaWFsLnNpZGU9PT1CYWNrU2lkZSl7dW5pZm9ybXMubm9ybWFsU2NhbGUudmFsdWUubmVnYXRlKCk7fX1pZihtYXRlcmlhbC5kaXNwbGFjZW1lbnRNYXApe3VuaWZvcm1zLmRpc3BsYWNlbWVudE1hcC52YWx1ZT1tYXRlcmlhbC5kaXNwbGFjZW1lbnRNYXA7dW5pZm9ybXMuZGlzcGxhY2VtZW50U2NhbGUudmFsdWU9bWF0ZXJpYWwuZGlzcGxhY2VtZW50U2NhbGU7dW5pZm9ybXMuZGlzcGxhY2VtZW50Qmlhcy52YWx1ZT1tYXRlcmlhbC5kaXNwbGFjZW1lbnRCaWFzO319ZnVuY3Rpb24gcmVmcmVzaFVuaWZvcm1zVG9vbih1bmlmb3JtcyxtYXRlcmlhbCl7dW5pZm9ybXMuc3BlY3VsYXIudmFsdWUuY29weShtYXRlcmlhbC5zcGVjdWxhcik7dW5pZm9ybXMuc2hpbmluZXNzLnZhbHVlPU1hdGgubWF4KG1hdGVyaWFsLnNoaW5pbmVzcywxZS00KTsvLyB0byBwcmV2ZW50IHBvdyggMC4wLCAwLjAgKQppZihtYXRlcmlhbC5ncmFkaWVudE1hcCl7dW5pZm9ybXMuZ3JhZGllbnRNYXAudmFsdWU9bWF0ZXJpYWwuZ3JhZGllbnRNYXA7fWlmKG1hdGVyaWFsLmVtaXNzaXZlTWFwKXt1bmlmb3Jtcy5lbWlzc2l2ZU1hcC52YWx1ZT1tYXRlcmlhbC5lbWlzc2l2ZU1hcDt9aWYobWF0ZXJpYWwuYnVtcE1hcCl7dW5pZm9ybXMuYnVtcE1hcC52YWx1ZT1tYXRlcmlhbC5idW1wTWFwO3VuaWZvcm1zLmJ1bXBTY2FsZS52YWx1ZT1tYXRlcmlhbC5idW1wU2NhbGU7aWYobWF0ZXJpYWwuc2lkZT09PUJhY2tTaWRlKXt1bmlmb3Jtcy5idW1wU2NhbGUudmFsdWUqPS0xO319aWYobWF0ZXJpYWwubm9ybWFsTWFwKXt1bmlmb3Jtcy5ub3JtYWxNYXAudmFsdWU9bWF0ZXJpYWwubm9ybWFsTWFwO3VuaWZvcm1zLm5vcm1hbFNjYWxlLnZhbHVlLmNvcHkobWF0ZXJpYWwubm9ybWFsU2NhbGUpO2lmKG1hdGVyaWFsLnNpZGU9PT1CYWNrU2lkZSl7dW5pZm9ybXMubm9ybWFsU2NhbGUudmFsdWUubmVnYXRlKCk7fX1pZihtYXRlcmlhbC5kaXNwbGFjZW1lbnRNYXApe3VuaWZvcm1zLmRpc3BsYWNlbWVudE1hcC52YWx1ZT1tYXRlcmlhbC5kaXNwbGFjZW1lbnRNYXA7dW5pZm9ybXMuZGlzcGxhY2VtZW50U2NhbGUudmFsdWU9bWF0ZXJpYWwuZGlzcGxhY2VtZW50U2NhbGU7dW5pZm9ybXMuZGlzcGxhY2VtZW50Qmlhcy52YWx1ZT1tYXRlcmlhbC5kaXNwbGFjZW1lbnRCaWFzO319ZnVuY3Rpb24gcmVmcmVzaFVuaWZvcm1zU3RhbmRhcmQodW5pZm9ybXMsbWF0ZXJpYWwsZW52aXJvbm1lbnQpe3VuaWZvcm1zLnJvdWdobmVzcy52YWx1ZT1tYXRlcmlhbC5yb3VnaG5lc3M7dW5pZm9ybXMubWV0YWxuZXNzLnZhbHVlPW1hdGVyaWFsLm1ldGFsbmVzcztpZihtYXRlcmlhbC5yb3VnaG5lc3NNYXApe3VuaWZvcm1zLnJvdWdobmVzc01hcC52YWx1ZT1tYXRlcmlhbC5yb3VnaG5lc3NNYXA7fWlmKG1hdGVyaWFsLm1ldGFsbmVzc01hcCl7dW5pZm9ybXMubWV0YWxuZXNzTWFwLnZhbHVlPW1hdGVyaWFsLm1ldGFsbmVzc01hcDt9aWYobWF0ZXJpYWwuZW1pc3NpdmVNYXApe3VuaWZvcm1zLmVtaXNzaXZlTWFwLnZhbHVlPW1hdGVyaWFsLmVtaXNzaXZlTWFwO31pZihtYXRlcmlhbC5idW1wTWFwKXt1bmlmb3Jtcy5idW1wTWFwLnZhbHVlPW1hdGVyaWFsLmJ1bXBNYXA7dW5pZm9ybXMuYnVtcFNjYWxlLnZhbHVlPW1hdGVyaWFsLmJ1bXBTY2FsZTtpZihtYXRlcmlhbC5zaWRlPT09QmFja1NpZGUpe3VuaWZvcm1zLmJ1bXBTY2FsZS52YWx1ZSo9LTE7fX1pZihtYXRlcmlhbC5ub3JtYWxNYXApe3VuaWZvcm1zLm5vcm1hbE1hcC52YWx1ZT1tYXRlcmlhbC5ub3JtYWxNYXA7dW5pZm9ybXMubm9ybWFsU2NhbGUudmFsdWUuY29weShtYXRlcmlhbC5ub3JtYWxTY2FsZSk7aWYobWF0ZXJpYWwuc2lkZT09PUJhY2tTaWRlKXt1bmlmb3Jtcy5ub3JtYWxTY2FsZS52YWx1ZS5uZWdhdGUoKTt9fWlmKG1hdGVyaWFsLmRpc3BsYWNlbWVudE1hcCl7dW5pZm9ybXMuZGlzcGxhY2VtZW50TWFwLnZhbHVlPW1hdGVyaWFsLmRpc3BsYWNlbWVudE1hcDt1bmlmb3Jtcy5kaXNwbGFjZW1lbnRTY2FsZS52YWx1ZT1tYXRlcmlhbC5kaXNwbGFjZW1lbnRTY2FsZTt1bmlmb3Jtcy5kaXNwbGFjZW1lbnRCaWFzLnZhbHVlPW1hdGVyaWFsLmRpc3BsYWNlbWVudEJpYXM7fWlmKG1hdGVyaWFsLmVudk1hcHx8ZW52aXJvbm1lbnQpey8vdW5pZm9ybXMuZW52TWFwLnZhbHVlID0gbWF0ZXJpYWwuZW52TWFwOyAvLyBwYXJ0IG9mIHVuaWZvcm1zIGNvbW1vbgp1bmlmb3Jtcy5lbnZNYXBJbnRlbnNpdHkudmFsdWU9bWF0ZXJpYWwuZW52TWFwSW50ZW5zaXR5O319ZnVuY3Rpb24gcmVmcmVzaFVuaWZvcm1zUGh5c2ljYWwodW5pZm9ybXMsbWF0ZXJpYWwsZW52aXJvbm1lbnQpe3JlZnJlc2hVbmlmb3Jtc1N0YW5kYXJkKHVuaWZvcm1zLG1hdGVyaWFsLGVudmlyb25tZW50KTt1bmlmb3Jtcy5yZWZsZWN0aXZpdHkudmFsdWU9bWF0ZXJpYWwucmVmbGVjdGl2aXR5Oy8vIGFsc28gcGFydCBvZiB1bmlmb3JtcyBjb21tb24KdW5pZm9ybXMuY2xlYXJjb2F0LnZhbHVlPW1hdGVyaWFsLmNsZWFyY29hdDt1bmlmb3Jtcy5jbGVhcmNvYXRSb3VnaG5lc3MudmFsdWU9bWF0ZXJpYWwuY2xlYXJjb2F0Um91Z2huZXNzO2lmKG1hdGVyaWFsLnNoZWVuKXt1bmlmb3Jtcy5zaGVlbi52YWx1ZS5jb3B5KG1hdGVyaWFsLnNoZWVuKTt9aWYobWF0ZXJpYWwuY2xlYXJjb2F0Tm9ybWFsTWFwKXt1bmlmb3Jtcy5jbGVhcmNvYXROb3JtYWxTY2FsZS52YWx1ZS5jb3B5KG1hdGVyaWFsLmNsZWFyY29hdE5vcm1hbFNjYWxlKTt1bmlmb3Jtcy5jbGVhcmNvYXROb3JtYWxNYXAudmFsdWU9bWF0ZXJpYWwuY2xlYXJjb2F0Tm9ybWFsTWFwO2lmKG1hdGVyaWFsLnNpZGU9PT1CYWNrU2lkZSl7dW5pZm9ybXMuY2xlYXJjb2F0Tm9ybWFsU2NhbGUudmFsdWUubmVnYXRlKCk7fX11bmlmb3Jtcy50cmFuc3BhcmVuY3kudmFsdWU9bWF0ZXJpYWwudHJhbnNwYXJlbmN5O31mdW5jdGlvbiByZWZyZXNoVW5pZm9ybXNNYXRjYXAodW5pZm9ybXMsbWF0ZXJpYWwpe2lmKG1hdGVyaWFsLm1hdGNhcCl7dW5pZm9ybXMubWF0Y2FwLnZhbHVlPW1hdGVyaWFsLm1hdGNhcDt9aWYobWF0ZXJpYWwuYnVtcE1hcCl7dW5pZm9ybXMuYnVtcE1hcC52YWx1ZT1tYXRlcmlhbC5idW1wTWFwO3VuaWZvcm1zLmJ1bXBTY2FsZS52YWx1ZT1tYXRlcmlhbC5idW1wU2NhbGU7aWYobWF0ZXJpYWwuc2lkZT09PUJhY2tTaWRlKXt1bmlmb3Jtcy5idW1wU2NhbGUudmFsdWUqPS0xO319aWYobWF0ZXJpYWwubm9ybWFsTWFwKXt1bmlmb3Jtcy5ub3JtYWxNYXAudmFsdWU9bWF0ZXJpYWwubm9ybWFsTWFwO3VuaWZvcm1zLm5vcm1hbFNjYWxlLnZhbHVlLmNvcHkobWF0ZXJpYWwubm9ybWFsU2NhbGUpO2lmKG1hdGVyaWFsLnNpZGU9PT1CYWNrU2lkZSl7dW5pZm9ybXMubm9ybWFsU2NhbGUudmFsdWUubmVnYXRlKCk7fX1pZihtYXRlcmlhbC5kaXNwbGFjZW1lbnRNYXApe3VuaWZvcm1zLmRpc3BsYWNlbWVudE1hcC52YWx1ZT1tYXRlcmlhbC5kaXNwbGFjZW1lbnRNYXA7dW5pZm9ybXMuZGlzcGxhY2VtZW50U2NhbGUudmFsdWU9bWF0ZXJpYWwuZGlzcGxhY2VtZW50U2NhbGU7dW5pZm9ybXMuZGlzcGxhY2VtZW50Qmlhcy52YWx1ZT1tYXRlcmlhbC5kaXNwbGFjZW1lbnRCaWFzO319ZnVuY3Rpb24gcmVmcmVzaFVuaWZvcm1zRGVwdGgodW5pZm9ybXMsbWF0ZXJpYWwpe2lmKG1hdGVyaWFsLmRpc3BsYWNlbWVudE1hcCl7dW5pZm9ybXMuZGlzcGxhY2VtZW50TWFwLnZhbHVlPW1hdGVyaWFsLmRpc3BsYWNlbWVudE1hcDt1bmlmb3Jtcy5kaXNwbGFjZW1lbnRTY2FsZS52YWx1ZT1tYXRlcmlhbC5kaXNwbGFjZW1lbnRTY2FsZTt1bmlmb3Jtcy5kaXNwbGFjZW1lbnRCaWFzLnZhbHVlPW1hdGVyaWFsLmRpc3BsYWNlbWVudEJpYXM7fX1mdW5jdGlvbiByZWZyZXNoVW5pZm9ybXNEaXN0YW5jZSh1bmlmb3JtcyxtYXRlcmlhbCl7aWYobWF0ZXJpYWwuZGlzcGxhY2VtZW50TWFwKXt1bmlmb3Jtcy5kaXNwbGFjZW1lbnRNYXAudmFsdWU9bWF0ZXJpYWwuZGlzcGxhY2VtZW50TWFwO3VuaWZvcm1zLmRpc3BsYWNlbWVudFNjYWxlLnZhbHVlPW1hdGVyaWFsLmRpc3BsYWNlbWVudFNjYWxlO3VuaWZvcm1zLmRpc3BsYWNlbWVudEJpYXMudmFsdWU9bWF0ZXJpYWwuZGlzcGxhY2VtZW50Qmlhczt9dW5pZm9ybXMucmVmZXJlbmNlUG9zaXRpb24udmFsdWUuY29weShtYXRlcmlhbC5yZWZlcmVuY2VQb3NpdGlvbik7dW5pZm9ybXMubmVhckRpc3RhbmNlLnZhbHVlPW1hdGVyaWFsLm5lYXJEaXN0YW5jZTt1bmlmb3Jtcy5mYXJEaXN0YW5jZS52YWx1ZT1tYXRlcmlhbC5mYXJEaXN0YW5jZTt9ZnVuY3Rpb24gcmVmcmVzaFVuaWZvcm1zTm9ybWFsKHVuaWZvcm1zLG1hdGVyaWFsKXtpZihtYXRlcmlhbC5idW1wTWFwKXt1bmlmb3Jtcy5idW1wTWFwLnZhbHVlPW1hdGVyaWFsLmJ1bXBNYXA7dW5pZm9ybXMuYnVtcFNjYWxlLnZhbHVlPW1hdGVyaWFsLmJ1bXBTY2FsZTtpZihtYXRlcmlhbC5zaWRlPT09QmFja1NpZGUpe3VuaWZvcm1zLmJ1bXBTY2FsZS52YWx1ZSo9LTE7fX1pZihtYXRlcmlhbC5ub3JtYWxNYXApe3VuaWZvcm1zLm5vcm1hbE1hcC52YWx1ZT1tYXRlcmlhbC5ub3JtYWxNYXA7dW5pZm9ybXMubm9ybWFsU2NhbGUudmFsdWUuY29weShtYXRlcmlhbC5ub3JtYWxTY2FsZSk7aWYobWF0ZXJpYWwuc2lkZT09PUJhY2tTaWRlKXt1bmlmb3Jtcy5ub3JtYWxTY2FsZS52YWx1ZS5uZWdhdGUoKTt9fWlmKG1hdGVyaWFsLmRpc3BsYWNlbWVudE1hcCl7dW5pZm9ybXMuZGlzcGxhY2VtZW50TWFwLnZhbHVlPW1hdGVyaWFsLmRpc3BsYWNlbWVudE1hcDt1bmlmb3Jtcy5kaXNwbGFjZW1lbnRTY2FsZS52YWx1ZT1tYXRlcmlhbC5kaXNwbGFjZW1lbnRTY2FsZTt1bmlmb3Jtcy5kaXNwbGFjZW1lbnRCaWFzLnZhbHVlPW1hdGVyaWFsLmRpc3BsYWNlbWVudEJpYXM7fX0vLyBJZiB1bmlmb3JtcyBhcmUgbWFya2VkIGFzIGNsZWFuLCB0aGV5IGRvbid0IG5lZWQgdG8gYmUgbG9hZGVkIHRvIHRoZSBHUFUuCmZ1bmN0aW9uIG1hcmtVbmlmb3Jtc0xpZ2h0c05lZWRzVXBkYXRlKHVuaWZvcm1zLHZhbHVlKXt1bmlmb3Jtcy5hbWJpZW50TGlnaHRDb2xvci5uZWVkc1VwZGF0ZT12YWx1ZTt1bmlmb3Jtcy5saWdodFByb2JlLm5lZWRzVXBkYXRlPXZhbHVlO3VuaWZvcm1zLmRpcmVjdGlvbmFsTGlnaHRzLm5lZWRzVXBkYXRlPXZhbHVlO3VuaWZvcm1zLnBvaW50TGlnaHRzLm5lZWRzVXBkYXRlPXZhbHVlO3VuaWZvcm1zLnNwb3RMaWdodHMubmVlZHNVcGRhdGU9dmFsdWU7dW5pZm9ybXMucmVjdEFyZWFMaWdodHMubmVlZHNVcGRhdGU9dmFsdWU7dW5pZm9ybXMuaGVtaXNwaGVyZUxpZ2h0cy5uZWVkc1VwZGF0ZT12YWx1ZTt9ZnVuY3Rpb24gbWF0ZXJpYWxOZWVkc0xpZ2h0cyhtYXRlcmlhbCl7cmV0dXJuIG1hdGVyaWFsLmlzTWVzaExhbWJlcnRNYXRlcmlhbHx8bWF0ZXJpYWwuaXNNZXNoVG9vbk1hdGVyaWFsfHxtYXRlcmlhbC5pc01lc2hQaG9uZ01hdGVyaWFsfHxtYXRlcmlhbC5pc01lc2hTdGFuZGFyZE1hdGVyaWFsfHxtYXRlcmlhbC5pc1NoYWRvd01hdGVyaWFsfHxtYXRlcmlhbC5pc1NoYWRlck1hdGVyaWFsJiZtYXRlcmlhbC5saWdodHM9PT10cnVlO30vLwp0aGlzLnNldEZyYW1lYnVmZmVyPWZ1bmN0aW9uKHZhbHVlKXtpZihfZnJhbWVidWZmZXIhPT12YWx1ZSYmX2N1cnJlbnRSZW5kZXJUYXJnZXQ9PT1udWxsKXtfZ2wuYmluZEZyYW1lYnVmZmVyKDM2MTYwLHZhbHVlKTt9X2ZyYW1lYnVmZmVyPXZhbHVlO307dGhpcy5nZXRBY3RpdmVDdWJlRmFjZT1mdW5jdGlvbigpe3JldHVybiBfY3VycmVudEFjdGl2ZUN1YmVGYWNlO307dGhpcy5nZXRBY3RpdmVNaXBtYXBMZXZlbD1mdW5jdGlvbigpe3JldHVybiBfY3VycmVudEFjdGl2ZU1pcG1hcExldmVsO307dGhpcy5nZXRSZW5kZXJUYXJnZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gX2N1cnJlbnRSZW5kZXJUYXJnZXQ7fTt0aGlzLnNldFJlbmRlclRhcmdldD1mdW5jdGlvbihyZW5kZXJUYXJnZXQsYWN0aXZlQ3ViZUZhY2UsYWN0aXZlTWlwbWFwTGV2ZWwpe19jdXJyZW50UmVuZGVyVGFyZ2V0PXJlbmRlclRhcmdldDtfY3VycmVudEFjdGl2ZUN1YmVGYWNlPWFjdGl2ZUN1YmVGYWNlO19jdXJyZW50QWN0aXZlTWlwbWFwTGV2ZWw9YWN0aXZlTWlwbWFwTGV2ZWw7aWYocmVuZGVyVGFyZ2V0JiZwcm9wZXJ0aWVzLmdldChyZW5kZXJUYXJnZXQpLl9fd2ViZ2xGcmFtZWJ1ZmZlcj09PXVuZGVmaW5lZCl7dGV4dHVyZXMuc2V0dXBSZW5kZXJUYXJnZXQocmVuZGVyVGFyZ2V0KTt9dmFyIGZyYW1lYnVmZmVyPV9mcmFtZWJ1ZmZlcjt2YXIgaXNDdWJlPWZhbHNlO2lmKHJlbmRlclRhcmdldCl7dmFyIF9fd2ViZ2xGcmFtZWJ1ZmZlcj1wcm9wZXJ0aWVzLmdldChyZW5kZXJUYXJnZXQpLl9fd2ViZ2xGcmFtZWJ1ZmZlcjtpZihyZW5kZXJUYXJnZXQuaXNXZWJHTFJlbmRlclRhcmdldEN1YmUpe2ZyYW1lYnVmZmVyPV9fd2ViZ2xGcmFtZWJ1ZmZlclthY3RpdmVDdWJlRmFjZXx8MF07aXNDdWJlPXRydWU7fWVsc2UgaWYocmVuZGVyVGFyZ2V0LmlzV2ViR0xNdWx0aXNhbXBsZVJlbmRlclRhcmdldCl7ZnJhbWVidWZmZXI9cHJvcGVydGllcy5nZXQocmVuZGVyVGFyZ2V0KS5fX3dlYmdsTXVsdGlzYW1wbGVkRnJhbWVidWZmZXI7fWVsc2V7ZnJhbWVidWZmZXI9X193ZWJnbEZyYW1lYnVmZmVyO31fY3VycmVudFZpZXdwb3J0LmNvcHkocmVuZGVyVGFyZ2V0LnZpZXdwb3J0KTtfY3VycmVudFNjaXNzb3IuY29weShyZW5kZXJUYXJnZXQuc2Npc3Nvcik7X2N1cnJlbnRTY2lzc29yVGVzdD1yZW5kZXJUYXJnZXQuc2Npc3NvclRlc3Q7fWVsc2V7X2N1cnJlbnRWaWV3cG9ydC5jb3B5KF92aWV3cG9ydCkubXVsdGlwbHlTY2FsYXIoX3BpeGVsUmF0aW8pLmZsb29yKCk7X2N1cnJlbnRTY2lzc29yLmNvcHkoX3NjaXNzb3IpLm11bHRpcGx5U2NhbGFyKF9waXhlbFJhdGlvKS5mbG9vcigpO19jdXJyZW50U2Npc3NvclRlc3Q9X3NjaXNzb3JUZXN0O31pZihfY3VycmVudEZyYW1lYnVmZmVyIT09ZnJhbWVidWZmZXIpe19nbC5iaW5kRnJhbWVidWZmZXIoMzYxNjAsZnJhbWVidWZmZXIpO19jdXJyZW50RnJhbWVidWZmZXI9ZnJhbWVidWZmZXI7fXN0YXRlLnZpZXdwb3J0KF9jdXJyZW50Vmlld3BvcnQpO3N0YXRlLnNjaXNzb3IoX2N1cnJlbnRTY2lzc29yKTtzdGF0ZS5zZXRTY2lzc29yVGVzdChfY3VycmVudFNjaXNzb3JUZXN0KTtpZihpc0N1YmUpe3ZhciB0ZXh0dXJlUHJvcGVydGllcz1wcm9wZXJ0aWVzLmdldChyZW5kZXJUYXJnZXQudGV4dHVyZSk7X2dsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKDM2MTYwLDM2MDY0LDM0MDY5KyhhY3RpdmVDdWJlRmFjZXx8MCksdGV4dHVyZVByb3BlcnRpZXMuX193ZWJnbFRleHR1cmUsYWN0aXZlTWlwbWFwTGV2ZWx8fDApO319O3RoaXMucmVhZFJlbmRlclRhcmdldFBpeGVscz1mdW5jdGlvbihyZW5kZXJUYXJnZXQseCx5LHdpZHRoLGhlaWdodCxidWZmZXIsYWN0aXZlQ3ViZUZhY2VJbmRleCl7aWYoIShyZW5kZXJUYXJnZXQmJnJlbmRlclRhcmdldC5pc1dlYkdMUmVuZGVyVGFyZ2V0KSl7Y29uc29sZS5lcnJvcignVEhSRUUuV2ViR0xSZW5kZXJlci5yZWFkUmVuZGVyVGFyZ2V0UGl4ZWxzOiByZW5kZXJUYXJnZXQgaXMgbm90IFRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0LicpO3JldHVybjt9dmFyIGZyYW1lYnVmZmVyPXByb3BlcnRpZXMuZ2V0KHJlbmRlclRhcmdldCkuX193ZWJnbEZyYW1lYnVmZmVyO2lmKHJlbmRlclRhcmdldC5pc1dlYkdMUmVuZGVyVGFyZ2V0Q3ViZSYmYWN0aXZlQ3ViZUZhY2VJbmRleCE9PXVuZGVmaW5lZCl7ZnJhbWVidWZmZXI9ZnJhbWVidWZmZXJbYWN0aXZlQ3ViZUZhY2VJbmRleF07fWlmKGZyYW1lYnVmZmVyKXt2YXIgcmVzdG9yZT1mYWxzZTtpZihmcmFtZWJ1ZmZlciE9PV9jdXJyZW50RnJhbWVidWZmZXIpe19nbC5iaW5kRnJhbWVidWZmZXIoMzYxNjAsZnJhbWVidWZmZXIpO3Jlc3RvcmU9dHJ1ZTt9dHJ5e3ZhciB0ZXh0dXJlPXJlbmRlclRhcmdldC50ZXh0dXJlO3ZhciB0ZXh0dXJlRm9ybWF0PXRleHR1cmUuZm9ybWF0O3ZhciB0ZXh0dXJlVHlwZT10ZXh0dXJlLnR5cGU7aWYodGV4dHVyZUZvcm1hdCE9PVJHQkFGb3JtYXQmJnV0aWxzLmNvbnZlcnQodGV4dHVyZUZvcm1hdCkhPT1fZ2wuZ2V0UGFyYW1ldGVyKDM1NzM5KSl7Y29uc29sZS5lcnJvcignVEhSRUUuV2ViR0xSZW5kZXJlci5yZWFkUmVuZGVyVGFyZ2V0UGl4ZWxzOiByZW5kZXJUYXJnZXQgaXMgbm90IGluIFJHQkEgb3IgaW1wbGVtZW50YXRpb24gZGVmaW5lZCBmb3JtYXQuJyk7cmV0dXJuO31pZih0ZXh0dXJlVHlwZSE9PVVuc2lnbmVkQnl0ZVR5cGUmJnV0aWxzLmNvbnZlcnQodGV4dHVyZVR5cGUpIT09X2dsLmdldFBhcmFtZXRlcigzNTczOCkmJi8vIElFMTEsIEVkZ2UgYW5kIENocm9tZSBNYWMgPCA1MiAoIzk1MTMpCiEodGV4dHVyZVR5cGU9PT1GbG9hdFR5cGUmJihjYXBhYmlsaXRpZXMuaXNXZWJHTDJ8fGV4dGVuc2lvbnMuZ2V0KCdPRVNfdGV4dHVyZV9mbG9hdCcpfHxleHRlbnNpb25zLmdldCgnV0VCR0xfY29sb3JfYnVmZmVyX2Zsb2F0JykpKSYmLy8gQ2hyb21lIE1hYyA+PSA1MiBhbmQgRmlyZWZveAohKHRleHR1cmVUeXBlPT09SGFsZkZsb2F0VHlwZSYmKGNhcGFiaWxpdGllcy5pc1dlYkdMMj9leHRlbnNpb25zLmdldCgnRVhUX2NvbG9yX2J1ZmZlcl9mbG9hdCcpOmV4dGVuc2lvbnMuZ2V0KCdFWFRfY29sb3JfYnVmZmVyX2hhbGZfZmxvYXQnKSkpKXtjb25zb2xlLmVycm9yKCdUSFJFRS5XZWJHTFJlbmRlcmVyLnJlYWRSZW5kZXJUYXJnZXRQaXhlbHM6IHJlbmRlclRhcmdldCBpcyBub3QgaW4gVW5zaWduZWRCeXRlVHlwZSBvciBpbXBsZW1lbnRhdGlvbiBkZWZpbmVkIHR5cGUuJyk7cmV0dXJuO31pZihfZ2wuY2hlY2tGcmFtZWJ1ZmZlclN0YXR1cygzNjE2MCk9PT0zNjA1Myl7Ly8gdGhlIGZvbGxvd2luZyBpZiBzdGF0ZW1lbnQgZW5zdXJlcyB2YWxpZCByZWFkIHJlcXVlc3RzIChubyBvdXQtb2YtYm91bmRzIHBpeGVscywgc2VlICM4NjA0KQppZih4Pj0wJiZ4PD1yZW5kZXJUYXJnZXQud2lkdGgtd2lkdGgmJnk+PTAmJnk8PXJlbmRlclRhcmdldC5oZWlnaHQtaGVpZ2h0KXtfZ2wucmVhZFBpeGVscyh4LHksd2lkdGgsaGVpZ2h0LHV0aWxzLmNvbnZlcnQodGV4dHVyZUZvcm1hdCksdXRpbHMuY29udmVydCh0ZXh0dXJlVHlwZSksYnVmZmVyKTt9fWVsc2V7Y29uc29sZS5lcnJvcignVEhSRUUuV2ViR0xSZW5kZXJlci5yZWFkUmVuZGVyVGFyZ2V0UGl4ZWxzOiByZWFkUGl4ZWxzIGZyb20gcmVuZGVyVGFyZ2V0IGZhaWxlZC4gRnJhbWVidWZmZXIgbm90IGNvbXBsZXRlLicpO319ZmluYWxseXtpZihyZXN0b3JlKXtfZ2wuYmluZEZyYW1lYnVmZmVyKDM2MTYwLF9jdXJyZW50RnJhbWVidWZmZXIpO319fX07dGhpcy5jb3B5RnJhbWVidWZmZXJUb1RleHR1cmU9ZnVuY3Rpb24ocG9zaXRpb24sdGV4dHVyZSxsZXZlbCl7aWYobGV2ZWw9PT11bmRlZmluZWQpe2xldmVsPTA7fXZhciBsZXZlbFNjYWxlPU1hdGgucG93KDIsLWxldmVsKTt2YXIgd2lkdGg9TWF0aC5mbG9vcih0ZXh0dXJlLmltYWdlLndpZHRoKmxldmVsU2NhbGUpO3ZhciBoZWlnaHQ9TWF0aC5mbG9vcih0ZXh0dXJlLmltYWdlLmhlaWdodCpsZXZlbFNjYWxlKTt2YXIgZ2xGb3JtYXQ9dXRpbHMuY29udmVydCh0ZXh0dXJlLmZvcm1hdCk7dGV4dHVyZXMuc2V0VGV4dHVyZTJEKHRleHR1cmUsMCk7X2dsLmNvcHlUZXhJbWFnZTJEKDM1NTMsbGV2ZWwsZ2xGb3JtYXQscG9zaXRpb24ueCxwb3NpdGlvbi55LHdpZHRoLGhlaWdodCwwKTtzdGF0ZS51bmJpbmRUZXh0dXJlKCk7fTt0aGlzLmNvcHlUZXh0dXJlVG9UZXh0dXJlPWZ1bmN0aW9uKHBvc2l0aW9uLHNyY1RleHR1cmUsZHN0VGV4dHVyZSxsZXZlbCl7dmFyIHdpZHRoPXNyY1RleHR1cmUuaW1hZ2Uud2lkdGg7dmFyIGhlaWdodD1zcmNUZXh0dXJlLmltYWdlLmhlaWdodDt2YXIgZ2xGb3JtYXQ9dXRpbHMuY29udmVydChkc3RUZXh0dXJlLmZvcm1hdCk7dmFyIGdsVHlwZT11dGlscy5jb252ZXJ0KGRzdFRleHR1cmUudHlwZSk7dGV4dHVyZXMuc2V0VGV4dHVyZTJEKGRzdFRleHR1cmUsMCk7aWYoc3JjVGV4dHVyZS5pc0RhdGFUZXh0dXJlKXtfZ2wudGV4U3ViSW1hZ2UyRCgzNTUzLGxldmVsfHwwLHBvc2l0aW9uLngscG9zaXRpb24ueSx3aWR0aCxoZWlnaHQsZ2xGb3JtYXQsZ2xUeXBlLHNyY1RleHR1cmUuaW1hZ2UuZGF0YSk7fWVsc2V7X2dsLnRleFN1YkltYWdlMkQoMzU1MyxsZXZlbHx8MCxwb3NpdGlvbi54LHBvc2l0aW9uLnksZ2xGb3JtYXQsZ2xUeXBlLHNyY1RleHR1cmUuaW1hZ2UpO31zdGF0ZS51bmJpbmRUZXh0dXJlKCk7fTt0aGlzLmluaXRUZXh0dXJlPWZ1bmN0aW9uKHRleHR1cmUpe3RleHR1cmVzLnNldFRleHR1cmUyRCh0ZXh0dXJlLDApO3N0YXRlLnVuYmluZFRleHR1cmUoKTt9O2lmKHR5cGVvZiBfX1RIUkVFX0RFVlRPT0xTX18hPT0ndW5kZWZpbmVkJyl7X19USFJFRV9ERVZUT09MU19fLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdvYnNlcnZlJyx7ZGV0YWlsOnRoaXN9KSk7Ly8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZgp9fS8qKgogICAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb20vCiAgICogQGF1dGhvciBhbHRlcmVkcSAvIGh0dHA6Ly9hbHRlcmVkcXVhbGlhLmNvbS8KICAgKi9mdW5jdGlvbiBGb2dFeHAyKGNvbG9yLGRlbnNpdHkpe3RoaXMubmFtZT0nJzt0aGlzLmNvbG9yPW5ldyBDb2xvcihjb2xvcik7dGhpcy5kZW5zaXR5PWRlbnNpdHkhPT11bmRlZmluZWQ/ZGVuc2l0eTowLjAwMDI1O31PYmplY3QuYXNzaWduKEZvZ0V4cDIucHJvdG90eXBlLHtpc0ZvZ0V4cDI6dHJ1ZSxjbG9uZTpmdW5jdGlvbiBjbG9uZSgpe3JldHVybiBuZXcgRm9nRXhwMih0aGlzLmNvbG9yLHRoaXMuZGVuc2l0eSk7fSx0b0pTT046ZnVuY3Rpb24vKiBtZXRhICovdG9KU09OKCl7cmV0dXJue3R5cGU6J0ZvZ0V4cDInLGNvbG9yOnRoaXMuY29sb3IuZ2V0SGV4KCksZGVuc2l0eTp0aGlzLmRlbnNpdHl9O319KTsvKioKICAgKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tLwogICAqIEBhdXRob3IgYWx0ZXJlZHEgLyBodHRwOi8vYWx0ZXJlZHF1YWxpYS5jb20vCiAgICovZnVuY3Rpb24gRm9nKGNvbG9yLG5lYXIsZmFyKXt0aGlzLm5hbWU9Jyc7dGhpcy5jb2xvcj1uZXcgQ29sb3IoY29sb3IpO3RoaXMubmVhcj1uZWFyIT09dW5kZWZpbmVkP25lYXI6MTt0aGlzLmZhcj1mYXIhPT11bmRlZmluZWQ/ZmFyOjEwMDA7fU9iamVjdC5hc3NpZ24oRm9nLnByb3RvdHlwZSx7aXNGb2c6dHJ1ZSxjbG9uZTpmdW5jdGlvbiBjbG9uZSgpe3JldHVybiBuZXcgRm9nKHRoaXMuY29sb3IsdGhpcy5uZWFyLHRoaXMuZmFyKTt9LHRvSlNPTjpmdW5jdGlvbi8qIG1ldGEgKi90b0pTT04oKXtyZXR1cm57dHlwZTonRm9nJyxjb2xvcjp0aGlzLmNvbG9yLmdldEhleCgpLG5lYXI6dGhpcy5uZWFyLGZhcjp0aGlzLmZhcn07fX0pOy8qKgogICAqIEBhdXRob3IgYmVuYWFkYW1zIC8gaHR0cHM6Ly90d2l0dGVyLmNvbS9iZW5fYV9hZGFtcwogICAqL2Z1bmN0aW9uIEludGVybGVhdmVkQnVmZmVyKGFycmF5LHN0cmlkZSl7dGhpcy5hcnJheT1hcnJheTt0aGlzLnN0cmlkZT1zdHJpZGU7dGhpcy5jb3VudD1hcnJheSE9PXVuZGVmaW5lZD9hcnJheS5sZW5ndGgvc3RyaWRlOjA7dGhpcy51c2FnZT1TdGF0aWNEcmF3VXNhZ2U7dGhpcy51cGRhdGVSYW5nZT17b2Zmc2V0OjAsY291bnQ6LTF9O3RoaXMudmVyc2lvbj0wO31PYmplY3QuZGVmaW5lUHJvcGVydHkoSW50ZXJsZWF2ZWRCdWZmZXIucHJvdG90eXBlLCduZWVkc1VwZGF0ZScse3NldDpmdW5jdGlvbiBzZXQodmFsdWUpe2lmKHZhbHVlPT09dHJ1ZSl7dGhpcy52ZXJzaW9uKys7fX19KTtPYmplY3QuYXNzaWduKEludGVybGVhdmVkQnVmZmVyLnByb3RvdHlwZSx7aXNJbnRlcmxlYXZlZEJ1ZmZlcjp0cnVlLG9uVXBsb2FkQ2FsbGJhY2s6ZnVuY3Rpb24gb25VcGxvYWRDYWxsYmFjaygpe30sc2V0VXNhZ2U6ZnVuY3Rpb24gc2V0VXNhZ2UodmFsdWUpe3RoaXMudXNhZ2U9dmFsdWU7cmV0dXJuIHRoaXM7fSxjb3B5OmZ1bmN0aW9uIGNvcHkoc291cmNlKXt0aGlzLmFycmF5PW5ldyBzb3VyY2UuYXJyYXkuY29uc3RydWN0b3Ioc291cmNlLmFycmF5KTt0aGlzLmNvdW50PXNvdXJjZS5jb3VudDt0aGlzLnN0cmlkZT1zb3VyY2Uuc3RyaWRlO3RoaXMudXNhZ2U9c291cmNlLnVzYWdlO3JldHVybiB0aGlzO30sY29weUF0OmZ1bmN0aW9uIGNvcHlBdChpbmRleDEsYXR0cmlidXRlLGluZGV4Mil7aW5kZXgxKj10aGlzLnN0cmlkZTtpbmRleDIqPWF0dHJpYnV0ZS5zdHJpZGU7Zm9yKHZhciBpPTAsbD10aGlzLnN0cmlkZTtpPGw7aSsrKXt0aGlzLmFycmF5W2luZGV4MStpXT1hdHRyaWJ1dGUuYXJyYXlbaW5kZXgyK2ldO31yZXR1cm4gdGhpczt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUsb2Zmc2V0KXtpZihvZmZzZXQ9PT11bmRlZmluZWQpe29mZnNldD0wO310aGlzLmFycmF5LnNldCh2YWx1ZSxvZmZzZXQpO3JldHVybiB0aGlzO30sY2xvbmU6ZnVuY3Rpb24gY2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoKS5jb3B5KHRoaXMpO30sb25VcGxvYWQ6ZnVuY3Rpb24gb25VcGxvYWQoY2FsbGJhY2spe3RoaXMub25VcGxvYWRDYWxsYmFjaz1jYWxsYmFjaztyZXR1cm4gdGhpczt9fSk7LyoqCiAgICogQGF1dGhvciBiZW5hYWRhbXMgLyBodHRwczovL3R3aXR0ZXIuY29tL2Jlbl9hX2FkYW1zCiAgICovdmFyIF92ZWN0b3IkNz1uZXcgVmVjdG9yMygpO2Z1bmN0aW9uIEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlKGludGVybGVhdmVkQnVmZmVyLGl0ZW1TaXplLG9mZnNldCxub3JtYWxpemVkKXt0aGlzLmRhdGE9aW50ZXJsZWF2ZWRCdWZmZXI7dGhpcy5pdGVtU2l6ZT1pdGVtU2l6ZTt0aGlzLm9mZnNldD1vZmZzZXQ7dGhpcy5ub3JtYWxpemVkPW5vcm1hbGl6ZWQ9PT10cnVlO31PYmplY3QuZGVmaW5lUHJvcGVydGllcyhJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZS5wcm90b3R5cGUse2NvdW50OntnZXQ6ZnVuY3Rpb24gZ2V0KCl7cmV0dXJuIHRoaXMuZGF0YS5jb3VudDt9fSxhcnJheTp7Z2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLmRhdGEuYXJyYXk7fX19KTtPYmplY3QuYXNzaWduKEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlLnByb3RvdHlwZSx7aXNJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZTp0cnVlLGFwcGx5TWF0cml4NDpmdW5jdGlvbiBhcHBseU1hdHJpeDQobSl7Zm9yKHZhciBpPTAsbD10aGlzLmRhdGEuY291bnQ7aTxsO2krKyl7X3ZlY3RvciQ3Lng9dGhpcy5nZXRYKGkpO192ZWN0b3IkNy55PXRoaXMuZ2V0WShpKTtfdmVjdG9yJDcuej10aGlzLmdldFooaSk7X3ZlY3RvciQ3LmFwcGx5TWF0cml4NChtKTt0aGlzLnNldFhZWihpLF92ZWN0b3IkNy54LF92ZWN0b3IkNy55LF92ZWN0b3IkNy56KTt9cmV0dXJuIHRoaXM7fSxzZXRYOmZ1bmN0aW9uIHNldFgoaW5kZXgseCl7dGhpcy5kYXRhLmFycmF5W2luZGV4KnRoaXMuZGF0YS5zdHJpZGUrdGhpcy5vZmZzZXRdPXg7cmV0dXJuIHRoaXM7fSxzZXRZOmZ1bmN0aW9uIHNldFkoaW5kZXgseSl7dGhpcy5kYXRhLmFycmF5W2luZGV4KnRoaXMuZGF0YS5zdHJpZGUrdGhpcy5vZmZzZXQrMV09eTtyZXR1cm4gdGhpczt9LHNldFo6ZnVuY3Rpb24gc2V0WihpbmRleCx6KXt0aGlzLmRhdGEuYXJyYXlbaW5kZXgqdGhpcy5kYXRhLnN0cmlkZSt0aGlzLm9mZnNldCsyXT16O3JldHVybiB0aGlzO30sc2V0VzpmdW5jdGlvbiBzZXRXKGluZGV4LHcpe3RoaXMuZGF0YS5hcnJheVtpbmRleCp0aGlzLmRhdGEuc3RyaWRlK3RoaXMub2Zmc2V0KzNdPXc7cmV0dXJuIHRoaXM7fSxnZXRYOmZ1bmN0aW9uIGdldFgoaW5kZXgpe3JldHVybiB0aGlzLmRhdGEuYXJyYXlbaW5kZXgqdGhpcy5kYXRhLnN0cmlkZSt0aGlzLm9mZnNldF07fSxnZXRZOmZ1bmN0aW9uIGdldFkoaW5kZXgpe3JldHVybiB0aGlzLmRhdGEuYXJyYXlbaW5kZXgqdGhpcy5kYXRhLnN0cmlkZSt0aGlzLm9mZnNldCsxXTt9LGdldFo6ZnVuY3Rpb24gZ2V0WihpbmRleCl7cmV0dXJuIHRoaXMuZGF0YS5hcnJheVtpbmRleCp0aGlzLmRhdGEuc3RyaWRlK3RoaXMub2Zmc2V0KzJdO30sZ2V0VzpmdW5jdGlvbiBnZXRXKGluZGV4KXtyZXR1cm4gdGhpcy5kYXRhLmFycmF5W2luZGV4KnRoaXMuZGF0YS5zdHJpZGUrdGhpcy5vZmZzZXQrM107fSxzZXRYWTpmdW5jdGlvbiBzZXRYWShpbmRleCx4LHkpe2luZGV4PWluZGV4KnRoaXMuZGF0YS5zdHJpZGUrdGhpcy5vZmZzZXQ7dGhpcy5kYXRhLmFycmF5W2luZGV4KzBdPXg7dGhpcy5kYXRhLmFycmF5W2luZGV4KzFdPXk7cmV0dXJuIHRoaXM7fSxzZXRYWVo6ZnVuY3Rpb24gc2V0WFlaKGluZGV4LHgseSx6KXtpbmRleD1pbmRleCp0aGlzLmRhdGEuc3RyaWRlK3RoaXMub2Zmc2V0O3RoaXMuZGF0YS5hcnJheVtpbmRleCswXT14O3RoaXMuZGF0YS5hcnJheVtpbmRleCsxXT15O3RoaXMuZGF0YS5hcnJheVtpbmRleCsyXT16O3JldHVybiB0aGlzO30sc2V0WFlaVzpmdW5jdGlvbiBzZXRYWVpXKGluZGV4LHgseSx6LHcpe2luZGV4PWluZGV4KnRoaXMuZGF0YS5zdHJpZGUrdGhpcy5vZmZzZXQ7dGhpcy5kYXRhLmFycmF5W2luZGV4KzBdPXg7dGhpcy5kYXRhLmFycmF5W2luZGV4KzFdPXk7dGhpcy5kYXRhLmFycmF5W2luZGV4KzJdPXo7dGhpcy5kYXRhLmFycmF5W2luZGV4KzNdPXc7cmV0dXJuIHRoaXM7fX0pOy8qKgogICAqIEBhdXRob3IgYWx0ZXJlZHEgLyBodHRwOi8vYWx0ZXJlZHF1YWxpYS5jb20vCiAgICoKICAgKiBwYXJhbWV0ZXJzID0gewogICAqICBjb2xvcjogPGhleD4sCiAgICogIG1hcDogbmV3IFRIUkVFLlRleHR1cmUoIDxJbWFnZT4gKSwKICAgKiAgYWxwaGFNYXA6IG5ldyBUSFJFRS5UZXh0dXJlKCA8SW1hZ2U+ICksCiAgICogIHJvdGF0aW9uOiA8ZmxvYXQ+LAogICAqICBzaXplQXR0ZW51YXRpb246IDxib29sPgogICAqIH0KICAgKi9mdW5jdGlvbiBTcHJpdGVNYXRlcmlhbChwYXJhbWV0ZXJzKXtNYXRlcmlhbC5jYWxsKHRoaXMpO3RoaXMudHlwZT0nU3ByaXRlTWF0ZXJpYWwnO3RoaXMuY29sb3I9bmV3IENvbG9yKDB4ZmZmZmZmKTt0aGlzLm1hcD1udWxsO3RoaXMuYWxwaGFNYXA9bnVsbDt0aGlzLnJvdGF0aW9uPTA7dGhpcy5zaXplQXR0ZW51YXRpb249dHJ1ZTt0aGlzLnRyYW5zcGFyZW50PXRydWU7dGhpcy5zZXRWYWx1ZXMocGFyYW1ldGVycyk7fVNwcml0ZU1hdGVyaWFsLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKE1hdGVyaWFsLnByb3RvdHlwZSk7U3ByaXRlTWF0ZXJpYWwucHJvdG90eXBlLmNvbnN0cnVjdG9yPVNwcml0ZU1hdGVyaWFsO1Nwcml0ZU1hdGVyaWFsLnByb3RvdHlwZS5pc1Nwcml0ZU1hdGVyaWFsPXRydWU7U3ByaXRlTWF0ZXJpYWwucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oc291cmNlKXtNYXRlcmlhbC5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsc291cmNlKTt0aGlzLmNvbG9yLmNvcHkoc291cmNlLmNvbG9yKTt0aGlzLm1hcD1zb3VyY2UubWFwO3RoaXMuYWxwaGFNYXA9c291cmNlLmFscGhhTWFwO3RoaXMucm90YXRpb249c291cmNlLnJvdGF0aW9uO3RoaXMuc2l6ZUF0dGVudWF0aW9uPXNvdXJjZS5zaXplQXR0ZW51YXRpb247cmV0dXJuIHRoaXM7fTsvKioKICAgKiBAYXV0aG9yIG1pa2FlbCBlbXRpbmdlciAvIGh0dHA6Ly9nb21vLnNlLwogICAqIEBhdXRob3IgYWx0ZXJlZHEgLyBodHRwOi8vYWx0ZXJlZHF1YWxpYS5jb20vCiAgICovdmFyIF9nZW9tZXRyeTt2YXIgX2ludGVyc2VjdFBvaW50PW5ldyBWZWN0b3IzKCk7dmFyIF93b3JsZFNjYWxlPW5ldyBWZWN0b3IzKCk7dmFyIF9tdlBvc2l0aW9uPW5ldyBWZWN0b3IzKCk7dmFyIF9hbGlnbmVkUG9zaXRpb249bmV3IFZlY3RvcjIoKTt2YXIgX3JvdGF0ZWRQb3NpdGlvbj1uZXcgVmVjdG9yMigpO3ZhciBfdmlld1dvcmxkTWF0cml4PW5ldyBNYXRyaXg0KCk7dmFyIF92QSQxPW5ldyBWZWN0b3IzKCk7dmFyIF92QiQxPW5ldyBWZWN0b3IzKCk7dmFyIF92QyQxPW5ldyBWZWN0b3IzKCk7dmFyIF91dkEkMT1uZXcgVmVjdG9yMigpO3ZhciBfdXZCJDE9bmV3IFZlY3RvcjIoKTt2YXIgX3V2QyQxPW5ldyBWZWN0b3IyKCk7ZnVuY3Rpb24gU3ByaXRlKG1hdGVyaWFsKXtPYmplY3QzRC5jYWxsKHRoaXMpO3RoaXMudHlwZT0nU3ByaXRlJztpZihfZ2VvbWV0cnk9PT11bmRlZmluZWQpe19nZW9tZXRyeT1uZXcgQnVmZmVyR2VvbWV0cnkoKTt2YXIgZmxvYXQzMkFycmF5PW5ldyBGbG9hdDMyQXJyYXkoWy0wLjUsLTAuNSwwLDAsMCwwLjUsLTAuNSwwLDEsMCwwLjUsMC41LDAsMSwxLC0wLjUsMC41LDAsMCwxXSk7dmFyIGludGVybGVhdmVkQnVmZmVyPW5ldyBJbnRlcmxlYXZlZEJ1ZmZlcihmbG9hdDMyQXJyYXksNSk7X2dlb21ldHJ5LnNldEluZGV4KFswLDEsMiwwLDIsM10pO19nZW9tZXRyeS5zZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJyxuZXcgSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUoaW50ZXJsZWF2ZWRCdWZmZXIsMywwLGZhbHNlKSk7X2dlb21ldHJ5LnNldEF0dHJpYnV0ZSgndXYnLG5ldyBJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZShpbnRlcmxlYXZlZEJ1ZmZlciwyLDMsZmFsc2UpKTt9dGhpcy5nZW9tZXRyeT1fZ2VvbWV0cnk7dGhpcy5tYXRlcmlhbD1tYXRlcmlhbCE9PXVuZGVmaW5lZD9tYXRlcmlhbDpuZXcgU3ByaXRlTWF0ZXJpYWwoKTt0aGlzLmNlbnRlcj1uZXcgVmVjdG9yMigwLjUsMC41KTt9U3ByaXRlLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoT2JqZWN0M0QucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6U3ByaXRlLGlzU3ByaXRlOnRydWUscmF5Y2FzdDpmdW5jdGlvbiByYXljYXN0KHJheWNhc3RlcixpbnRlcnNlY3RzKXtpZihyYXljYXN0ZXIuY2FtZXJhPT09bnVsbCl7Y29uc29sZS5lcnJvcignVEhSRUUuU3ByaXRlOiAiUmF5Y2FzdGVyLmNhbWVyYSIgbmVlZHMgdG8gYmUgc2V0IGluIG9yZGVyIHRvIHJheWNhc3QgYWdhaW5zdCBzcHJpdGVzLicpO31fd29ybGRTY2FsZS5zZXRGcm9tTWF0cml4U2NhbGUodGhpcy5tYXRyaXhXb3JsZCk7X3ZpZXdXb3JsZE1hdHJpeC5jb3B5KHJheWNhc3Rlci5jYW1lcmEubWF0cml4V29ybGQpO3RoaXMubW9kZWxWaWV3TWF0cml4Lm11bHRpcGx5TWF0cmljZXMocmF5Y2FzdGVyLmNhbWVyYS5tYXRyaXhXb3JsZEludmVyc2UsdGhpcy5tYXRyaXhXb3JsZCk7X212UG9zaXRpb24uc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHRoaXMubW9kZWxWaWV3TWF0cml4KTtpZihyYXljYXN0ZXIuY2FtZXJhLmlzUGVyc3BlY3RpdmVDYW1lcmEmJnRoaXMubWF0ZXJpYWwuc2l6ZUF0dGVudWF0aW9uPT09ZmFsc2Upe193b3JsZFNjYWxlLm11bHRpcGx5U2NhbGFyKC1fbXZQb3NpdGlvbi56KTt9dmFyIHJvdGF0aW9uPXRoaXMubWF0ZXJpYWwucm90YXRpb247dmFyIHNpbixjb3M7aWYocm90YXRpb24hPT0wKXtjb3M9TWF0aC5jb3Mocm90YXRpb24pO3Npbj1NYXRoLnNpbihyb3RhdGlvbik7fXZhciBjZW50ZXI9dGhpcy5jZW50ZXI7dHJhbnNmb3JtVmVydGV4KF92QSQxLnNldCgtMC41LC0wLjUsMCksX212UG9zaXRpb24sY2VudGVyLF93b3JsZFNjYWxlLHNpbixjb3MpO3RyYW5zZm9ybVZlcnRleChfdkIkMS5zZXQoMC41LC0wLjUsMCksX212UG9zaXRpb24sY2VudGVyLF93b3JsZFNjYWxlLHNpbixjb3MpO3RyYW5zZm9ybVZlcnRleChfdkMkMS5zZXQoMC41LDAuNSwwKSxfbXZQb3NpdGlvbixjZW50ZXIsX3dvcmxkU2NhbGUsc2luLGNvcyk7X3V2QSQxLnNldCgwLDApO191dkIkMS5zZXQoMSwwKTtfdXZDJDEuc2V0KDEsMSk7Ly8gY2hlY2sgZmlyc3QgdHJpYW5nbGUKdmFyIGludGVyc2VjdD1yYXljYXN0ZXIucmF5LmludGVyc2VjdFRyaWFuZ2xlKF92QSQxLF92QiQxLF92QyQxLGZhbHNlLF9pbnRlcnNlY3RQb2ludCk7aWYoaW50ZXJzZWN0PT09bnVsbCl7Ly8gY2hlY2sgc2Vjb25kIHRyaWFuZ2xlCnRyYW5zZm9ybVZlcnRleChfdkIkMS5zZXQoLTAuNSwwLjUsMCksX212UG9zaXRpb24sY2VudGVyLF93b3JsZFNjYWxlLHNpbixjb3MpO191dkIkMS5zZXQoMCwxKTtpbnRlcnNlY3Q9cmF5Y2FzdGVyLnJheS5pbnRlcnNlY3RUcmlhbmdsZShfdkEkMSxfdkMkMSxfdkIkMSxmYWxzZSxfaW50ZXJzZWN0UG9pbnQpO2lmKGludGVyc2VjdD09PW51bGwpe3JldHVybjt9fXZhciBkaXN0YW5jZT1yYXljYXN0ZXIucmF5Lm9yaWdpbi5kaXN0YW5jZVRvKF9pbnRlcnNlY3RQb2ludCk7aWYoZGlzdGFuY2U8cmF5Y2FzdGVyLm5lYXJ8fGRpc3RhbmNlPnJheWNhc3Rlci5mYXIpe3JldHVybjt9aW50ZXJzZWN0cy5wdXNoKHtkaXN0YW5jZTpkaXN0YW5jZSxwb2ludDpfaW50ZXJzZWN0UG9pbnQuY2xvbmUoKSx1djpUcmlhbmdsZS5nZXRVVihfaW50ZXJzZWN0UG9pbnQsX3ZBJDEsX3ZCJDEsX3ZDJDEsX3V2QSQxLF91dkIkMSxfdXZDJDEsbmV3IFZlY3RvcjIoKSksZmFjZTpudWxsLG9iamVjdDp0aGlzfSk7fSxjbG9uZTpmdW5jdGlvbiBjbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLm1hdGVyaWFsKS5jb3B5KHRoaXMpO30sY29weTpmdW5jdGlvbiBjb3B5KHNvdXJjZSl7T2JqZWN0M0QucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHNvdXJjZSk7aWYoc291cmNlLmNlbnRlciE9PXVuZGVmaW5lZCl7dGhpcy5jZW50ZXIuY29weShzb3VyY2UuY2VudGVyKTt9cmV0dXJuIHRoaXM7fX0pO2Z1bmN0aW9uIHRyYW5zZm9ybVZlcnRleCh2ZXJ0ZXhQb3NpdGlvbixtdlBvc2l0aW9uLGNlbnRlcixzY2FsZSxzaW4sY29zKXsvLyBjb21wdXRlIHBvc2l0aW9uIGluIGNhbWVyYSBzcGFjZQpfYWxpZ25lZFBvc2l0aW9uLnN1YlZlY3RvcnModmVydGV4UG9zaXRpb24sY2VudGVyKS5hZGRTY2FsYXIoMC41KS5tdWx0aXBseShzY2FsZSk7Ly8gdG8gY2hlY2sgaWYgcm90YXRpb24gaXMgbm90IHplcm8KaWYoc2luIT09dW5kZWZpbmVkKXtfcm90YXRlZFBvc2l0aW9uLng9Y29zKl9hbGlnbmVkUG9zaXRpb24ueC1zaW4qX2FsaWduZWRQb3NpdGlvbi55O19yb3RhdGVkUG9zaXRpb24ueT1zaW4qX2FsaWduZWRQb3NpdGlvbi54K2NvcypfYWxpZ25lZFBvc2l0aW9uLnk7fWVsc2V7X3JvdGF0ZWRQb3NpdGlvbi5jb3B5KF9hbGlnbmVkUG9zaXRpb24pO312ZXJ0ZXhQb3NpdGlvbi5jb3B5KG12UG9zaXRpb24pO3ZlcnRleFBvc2l0aW9uLngrPV9yb3RhdGVkUG9zaXRpb24ueDt2ZXJ0ZXhQb3NpdGlvbi55Kz1fcm90YXRlZFBvc2l0aW9uLnk7Ly8gdHJhbnNmb3JtIHRvIHdvcmxkIHNwYWNlCnZlcnRleFBvc2l0aW9uLmFwcGx5TWF0cml4NChfdmlld1dvcmxkTWF0cml4KTt9LyoqCiAgICogQGF1dGhvciBtaWthZWwgZW10aW5nZXIgLyBodHRwOi8vZ29tby5zZS8KICAgKiBAYXV0aG9yIGFsdGVyZWRxIC8gaHR0cDovL2FsdGVyZWRxdWFsaWEuY29tLwogICAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb20vCiAgICovdmFyIF92MSQ0PW5ldyBWZWN0b3IzKCk7dmFyIF92MiQyPW5ldyBWZWN0b3IzKCk7ZnVuY3Rpb24gTE9EKCl7T2JqZWN0M0QuY2FsbCh0aGlzKTt0aGlzLnR5cGU9J0xPRCc7T2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcyx7bGV2ZWxzOntlbnVtZXJhYmxlOnRydWUsdmFsdWU6W119fSk7dGhpcy5hdXRvVXBkYXRlPXRydWU7fUxPRC5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKE9iamVjdDNELnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOkxPRCxpc0xPRDp0cnVlLGNvcHk6ZnVuY3Rpb24gY29weShzb3VyY2Upe09iamVjdDNELnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyxzb3VyY2UsZmFsc2UpO3ZhciBsZXZlbHM9c291cmNlLmxldmVscztmb3IodmFyIGk9MCxsPWxldmVscy5sZW5ndGg7aTxsO2krKyl7dmFyIGxldmVsPWxldmVsc1tpXTt0aGlzLmFkZExldmVsKGxldmVsLm9iamVjdC5jbG9uZSgpLGxldmVsLmRpc3RhbmNlKTt9dGhpcy5hdXRvVXBkYXRlPXNvdXJjZS5hdXRvVXBkYXRlO3JldHVybiB0aGlzO30sYWRkTGV2ZWw6ZnVuY3Rpb24gYWRkTGV2ZWwob2JqZWN0LGRpc3RhbmNlKXtpZihkaXN0YW5jZT09PXVuZGVmaW5lZCl7ZGlzdGFuY2U9MDt9ZGlzdGFuY2U9TWF0aC5hYnMoZGlzdGFuY2UpO3ZhciBsZXZlbHM9dGhpcy5sZXZlbHM7Zm9yKHZhciBsPTA7bDxsZXZlbHMubGVuZ3RoO2wrKyl7aWYoZGlzdGFuY2U8bGV2ZWxzW2xdLmRpc3RhbmNlKXticmVhazt9fWxldmVscy5zcGxpY2UobCwwLHtkaXN0YW5jZTpkaXN0YW5jZSxvYmplY3Q6b2JqZWN0fSk7dGhpcy5hZGQob2JqZWN0KTtyZXR1cm4gdGhpczt9LGdldE9iamVjdEZvckRpc3RhbmNlOmZ1bmN0aW9uIGdldE9iamVjdEZvckRpc3RhbmNlKGRpc3RhbmNlKXt2YXIgbGV2ZWxzPXRoaXMubGV2ZWxzO2lmKGxldmVscy5sZW5ndGg+MCl7Zm9yKHZhciBpPTEsbD1sZXZlbHMubGVuZ3RoO2k8bDtpKyspe2lmKGRpc3RhbmNlPGxldmVsc1tpXS5kaXN0YW5jZSl7YnJlYWs7fX1yZXR1cm4gbGV2ZWxzW2ktMV0ub2JqZWN0O31yZXR1cm4gbnVsbDt9LHJheWNhc3Q6ZnVuY3Rpb24gcmF5Y2FzdChyYXljYXN0ZXIsaW50ZXJzZWN0cyl7dmFyIGxldmVscz10aGlzLmxldmVscztpZihsZXZlbHMubGVuZ3RoPjApe192MSQ0LnNldEZyb21NYXRyaXhQb3NpdGlvbih0aGlzLm1hdHJpeFdvcmxkKTt2YXIgZGlzdGFuY2U9cmF5Y2FzdGVyLnJheS5vcmlnaW4uZGlzdGFuY2VUbyhfdjEkNCk7dGhpcy5nZXRPYmplY3RGb3JEaXN0YW5jZShkaXN0YW5jZSkucmF5Y2FzdChyYXljYXN0ZXIsaW50ZXJzZWN0cyk7fX0sdXBkYXRlOmZ1bmN0aW9uIHVwZGF0ZShjYW1lcmEpe3ZhciBsZXZlbHM9dGhpcy5sZXZlbHM7aWYobGV2ZWxzLmxlbmd0aD4xKXtfdjEkNC5zZXRGcm9tTWF0cml4UG9zaXRpb24oY2FtZXJhLm1hdHJpeFdvcmxkKTtfdjIkMi5zZXRGcm9tTWF0cml4UG9zaXRpb24odGhpcy5tYXRyaXhXb3JsZCk7dmFyIGRpc3RhbmNlPV92MSQ0LmRpc3RhbmNlVG8oX3YyJDIpO2xldmVsc1swXS5vYmplY3QudmlzaWJsZT10cnVlO2Zvcih2YXIgaT0xLGw9bGV2ZWxzLmxlbmd0aDtpPGw7aSsrKXtpZihkaXN0YW5jZT49bGV2ZWxzW2ldLmRpc3RhbmNlKXtsZXZlbHNbaS0xXS5vYmplY3QudmlzaWJsZT1mYWxzZTtsZXZlbHNbaV0ub2JqZWN0LnZpc2libGU9dHJ1ZTt9ZWxzZXticmVhazt9fWZvcig7aTxsO2krKyl7bGV2ZWxzW2ldLm9iamVjdC52aXNpYmxlPWZhbHNlO319fSx0b0pTT046ZnVuY3Rpb24gdG9KU09OKG1ldGEpe3ZhciBkYXRhPU9iamVjdDNELnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzLG1ldGEpO2lmKHRoaXMuYXV0b1VwZGF0ZT09PWZhbHNlKXtkYXRhLm9iamVjdC5hdXRvVXBkYXRlPWZhbHNlO31kYXRhLm9iamVjdC5sZXZlbHM9W107dmFyIGxldmVscz10aGlzLmxldmVscztmb3IodmFyIGk9MCxsPWxldmVscy5sZW5ndGg7aTxsO2krKyl7dmFyIGxldmVsPWxldmVsc1tpXTtkYXRhLm9iamVjdC5sZXZlbHMucHVzaCh7b2JqZWN0OmxldmVsLm9iamVjdC51dWlkLGRpc3RhbmNlOmxldmVsLmRpc3RhbmNlfSk7fXJldHVybiBkYXRhO319KTsvKioKICAgKiBAYXV0aG9yIG1pa2FlbCBlbXRpbmdlciAvIGh0dHA6Ly9nb21vLnNlLwogICAqIEBhdXRob3IgYWx0ZXJlZHEgLyBodHRwOi8vYWx0ZXJlZHF1YWxpYS5jb20vCiAgICogQGF1dGhvciBpa2VyciAvIGh0dHA6Ly92ZXJvbGQuY29tCiAgICovZnVuY3Rpb24gU2tpbm5lZE1lc2goZ2VvbWV0cnksbWF0ZXJpYWwpe2lmKGdlb21ldHJ5JiZnZW9tZXRyeS5pc0dlb21ldHJ5KXtjb25zb2xlLmVycm9yKCdUSFJFRS5Ta2lubmVkTWVzaCBubyBsb25nZXIgc3VwcG9ydHMgVEhSRUUuR2VvbWV0cnkuIFVzZSBUSFJFRS5CdWZmZXJHZW9tZXRyeSBpbnN0ZWFkLicpO31NZXNoLmNhbGwodGhpcyxnZW9tZXRyeSxtYXRlcmlhbCk7dGhpcy50eXBlPSdTa2lubmVkTWVzaCc7dGhpcy5iaW5kTW9kZT0nYXR0YWNoZWQnO3RoaXMuYmluZE1hdHJpeD1uZXcgTWF0cml4NCgpO3RoaXMuYmluZE1hdHJpeEludmVyc2U9bmV3IE1hdHJpeDQoKTt9U2tpbm5lZE1lc2gucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShNZXNoLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOlNraW5uZWRNZXNoLGlzU2tpbm5lZE1lc2g6dHJ1ZSxiaW5kOmZ1bmN0aW9uIGJpbmQoc2tlbGV0b24sYmluZE1hdHJpeCl7dGhpcy5za2VsZXRvbj1za2VsZXRvbjtpZihiaW5kTWF0cml4PT09dW5kZWZpbmVkKXt0aGlzLnVwZGF0ZU1hdHJpeFdvcmxkKHRydWUpO3RoaXMuc2tlbGV0b24uY2FsY3VsYXRlSW52ZXJzZXMoKTtiaW5kTWF0cml4PXRoaXMubWF0cml4V29ybGQ7fXRoaXMuYmluZE1hdHJpeC5jb3B5KGJpbmRNYXRyaXgpO3RoaXMuYmluZE1hdHJpeEludmVyc2UuZ2V0SW52ZXJzZShiaW5kTWF0cml4KTt9LHBvc2U6ZnVuY3Rpb24gcG9zZSgpe3RoaXMuc2tlbGV0b24ucG9zZSgpO30sbm9ybWFsaXplU2tpbldlaWdodHM6ZnVuY3Rpb24gbm9ybWFsaXplU2tpbldlaWdodHMoKXt2YXIgdmVjdG9yPW5ldyBWZWN0b3I0KCk7dmFyIHNraW5XZWlnaHQ9dGhpcy5nZW9tZXRyeS5hdHRyaWJ1dGVzLnNraW5XZWlnaHQ7Zm9yKHZhciBpPTAsbD1za2luV2VpZ2h0LmNvdW50O2k8bDtpKyspe3ZlY3Rvci54PXNraW5XZWlnaHQuZ2V0WChpKTt2ZWN0b3IueT1za2luV2VpZ2h0LmdldFkoaSk7dmVjdG9yLno9c2tpbldlaWdodC5nZXRaKGkpO3ZlY3Rvci53PXNraW5XZWlnaHQuZ2V0VyhpKTt2YXIgc2NhbGU9MS4wL3ZlY3Rvci5tYW5oYXR0YW5MZW5ndGgoKTtpZihzY2FsZSE9PUluZmluaXR5KXt2ZWN0b3IubXVsdGlwbHlTY2FsYXIoc2NhbGUpO31lbHNle3ZlY3Rvci5zZXQoMSwwLDAsMCk7Ly8gZG8gc29tZXRoaW5nIHJlYXNvbmFibGUKfXNraW5XZWlnaHQuc2V0WFlaVyhpLHZlY3Rvci54LHZlY3Rvci55LHZlY3Rvci56LHZlY3Rvci53KTt9fSx1cGRhdGVNYXRyaXhXb3JsZDpmdW5jdGlvbiB1cGRhdGVNYXRyaXhXb3JsZChmb3JjZSl7TWVzaC5wcm90b3R5cGUudXBkYXRlTWF0cml4V29ybGQuY2FsbCh0aGlzLGZvcmNlKTtpZih0aGlzLmJpbmRNb2RlPT09J2F0dGFjaGVkJyl7dGhpcy5iaW5kTWF0cml4SW52ZXJzZS5nZXRJbnZlcnNlKHRoaXMubWF0cml4V29ybGQpO31lbHNlIGlmKHRoaXMuYmluZE1vZGU9PT0nZGV0YWNoZWQnKXt0aGlzLmJpbmRNYXRyaXhJbnZlcnNlLmdldEludmVyc2UodGhpcy5iaW5kTWF0cml4KTt9ZWxzZXtjb25zb2xlLndhcm4oJ1RIUkVFLlNraW5uZWRNZXNoOiBVbnJlY29nbml6ZWQgYmluZE1vZGU6ICcrdGhpcy5iaW5kTW9kZSk7fX0sY2xvbmU6ZnVuY3Rpb24gY2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5nZW9tZXRyeSx0aGlzLm1hdGVyaWFsKS5jb3B5KHRoaXMpO319KTsvKioKICAgKiBAYXV0aG9yIG1pa2FlbCBlbXRpbmdlciAvIGh0dHA6Ly9nb21vLnNlLwogICAqIEBhdXRob3IgYWx0ZXJlZHEgLyBodHRwOi8vYWx0ZXJlZHF1YWxpYS5jb20vCiAgICogQGF1dGhvciBtaWNoYWVsIGd1ZXJyZXJvIC8gaHR0cDovL3JlYWxpdHltZWx0ZG93bi5jb20KICAgKiBAYXV0aG9yIGlrZXJyIC8gaHR0cDovL3Zlcm9sZC5jb20KICAgKi92YXIgX29mZnNldE1hdHJpeD1uZXcgTWF0cml4NCgpO3ZhciBfaWRlbnRpdHlNYXRyaXg9bmV3IE1hdHJpeDQoKTtmdW5jdGlvbiBTa2VsZXRvbihib25lcyxib25lSW52ZXJzZXMpey8vIGNvcHkgdGhlIGJvbmUgYXJyYXkKYm9uZXM9Ym9uZXN8fFtdO3RoaXMuYm9uZXM9Ym9uZXMuc2xpY2UoMCk7dGhpcy5ib25lTWF0cmljZXM9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmJvbmVzLmxlbmd0aCoxNik7dGhpcy5mcmFtZT0tMTsvLyB1c2UgdGhlIHN1cHBsaWVkIGJvbmUgaW52ZXJzZXMgb3IgY2FsY3VsYXRlIHRoZSBpbnZlcnNlcwppZihib25lSW52ZXJzZXM9PT11bmRlZmluZWQpe3RoaXMuY2FsY3VsYXRlSW52ZXJzZXMoKTt9ZWxzZXtpZih0aGlzLmJvbmVzLmxlbmd0aD09PWJvbmVJbnZlcnNlcy5sZW5ndGgpe3RoaXMuYm9uZUludmVyc2VzPWJvbmVJbnZlcnNlcy5zbGljZSgwKTt9ZWxzZXtjb25zb2xlLndhcm4oJ1RIUkVFLlNrZWxldG9uIGJvbmVJbnZlcnNlcyBpcyB0aGUgd3JvbmcgbGVuZ3RoLicpO3RoaXMuYm9uZUludmVyc2VzPVtdO2Zvcih2YXIgaT0wLGlsPXRoaXMuYm9uZXMubGVuZ3RoO2k8aWw7aSsrKXt0aGlzLmJvbmVJbnZlcnNlcy5wdXNoKG5ldyBNYXRyaXg0KCkpO319fX1PYmplY3QuYXNzaWduKFNrZWxldG9uLnByb3RvdHlwZSx7Y2FsY3VsYXRlSW52ZXJzZXM6ZnVuY3Rpb24gY2FsY3VsYXRlSW52ZXJzZXMoKXt0aGlzLmJvbmVJbnZlcnNlcz1bXTtmb3IodmFyIGk9MCxpbD10aGlzLmJvbmVzLmxlbmd0aDtpPGlsO2krKyl7dmFyIGludmVyc2U9bmV3IE1hdHJpeDQoKTtpZih0aGlzLmJvbmVzW2ldKXtpbnZlcnNlLmdldEludmVyc2UodGhpcy5ib25lc1tpXS5tYXRyaXhXb3JsZCk7fXRoaXMuYm9uZUludmVyc2VzLnB1c2goaW52ZXJzZSk7fX0scG9zZTpmdW5jdGlvbiBwb3NlKCl7dmFyIGJvbmUsaSxpbDsvLyByZWNvdmVyIHRoZSBiaW5kLXRpbWUgd29ybGQgbWF0cmljZXMKZm9yKGk9MCxpbD10aGlzLmJvbmVzLmxlbmd0aDtpPGlsO2krKyl7Ym9uZT10aGlzLmJvbmVzW2ldO2lmKGJvbmUpe2JvbmUubWF0cml4V29ybGQuZ2V0SW52ZXJzZSh0aGlzLmJvbmVJbnZlcnNlc1tpXSk7fX0vLyBjb21wdXRlIHRoZSBsb2NhbCBtYXRyaWNlcywgcG9zaXRpb25zLCByb3RhdGlvbnMgYW5kIHNjYWxlcwpmb3IoaT0wLGlsPXRoaXMuYm9uZXMubGVuZ3RoO2k8aWw7aSsrKXtib25lPXRoaXMuYm9uZXNbaV07aWYoYm9uZSl7aWYoYm9uZS5wYXJlbnQmJmJvbmUucGFyZW50LmlzQm9uZSl7Ym9uZS5tYXRyaXguZ2V0SW52ZXJzZShib25lLnBhcmVudC5tYXRyaXhXb3JsZCk7Ym9uZS5tYXRyaXgubXVsdGlwbHkoYm9uZS5tYXRyaXhXb3JsZCk7fWVsc2V7Ym9uZS5tYXRyaXguY29weShib25lLm1hdHJpeFdvcmxkKTt9Ym9uZS5tYXRyaXguZGVjb21wb3NlKGJvbmUucG9zaXRpb24sYm9uZS5xdWF0ZXJuaW9uLGJvbmUuc2NhbGUpO319fSx1cGRhdGU6ZnVuY3Rpb24gdXBkYXRlKCl7dmFyIGJvbmVzPXRoaXMuYm9uZXM7dmFyIGJvbmVJbnZlcnNlcz10aGlzLmJvbmVJbnZlcnNlczt2YXIgYm9uZU1hdHJpY2VzPXRoaXMuYm9uZU1hdHJpY2VzO3ZhciBib25lVGV4dHVyZT10aGlzLmJvbmVUZXh0dXJlOy8vIGZsYXR0ZW4gYm9uZSBtYXRyaWNlcyB0byBhcnJheQpmb3IodmFyIGk9MCxpbD1ib25lcy5sZW5ndGg7aTxpbDtpKyspey8vIGNvbXB1dGUgdGhlIG9mZnNldCBiZXR3ZWVuIHRoZSBjdXJyZW50IGFuZCB0aGUgb3JpZ2luYWwgdHJhbnNmb3JtCnZhciBtYXRyaXg9Ym9uZXNbaV0/Ym9uZXNbaV0ubWF0cml4V29ybGQ6X2lkZW50aXR5TWF0cml4O19vZmZzZXRNYXRyaXgubXVsdGlwbHlNYXRyaWNlcyhtYXRyaXgsYm9uZUludmVyc2VzW2ldKTtfb2Zmc2V0TWF0cml4LnRvQXJyYXkoYm9uZU1hdHJpY2VzLGkqMTYpO31pZihib25lVGV4dHVyZSE9PXVuZGVmaW5lZCl7Ym9uZVRleHR1cmUubmVlZHNVcGRhdGU9dHJ1ZTt9fSxjbG9uZTpmdW5jdGlvbiBjbG9uZSgpe3JldHVybiBuZXcgU2tlbGV0b24odGhpcy5ib25lcyx0aGlzLmJvbmVJbnZlcnNlcyk7fSxnZXRCb25lQnlOYW1lOmZ1bmN0aW9uIGdldEJvbmVCeU5hbWUobmFtZSl7Zm9yKHZhciBpPTAsaWw9dGhpcy5ib25lcy5sZW5ndGg7aTxpbDtpKyspe3ZhciBib25lPXRoaXMuYm9uZXNbaV07aWYoYm9uZS5uYW1lPT09bmFtZSl7cmV0dXJuIGJvbmU7fX1yZXR1cm4gdW5kZWZpbmVkO319KTsvKioKICAgKiBAYXV0aG9yIG1pa2FlbCBlbXRpbmdlciAvIGh0dHA6Ly9nb21vLnNlLwogICAqIEBhdXRob3IgYWx0ZXJlZHEgLyBodHRwOi8vYWx0ZXJlZHF1YWxpYS5jb20vCiAgICogQGF1dGhvciBpa2VyciAvIGh0dHA6Ly92ZXJvbGQuY29tCiAgICovZnVuY3Rpb24gQm9uZSgpe09iamVjdDNELmNhbGwodGhpcyk7dGhpcy50eXBlPSdCb25lJzt9Qm9uZS5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKE9iamVjdDNELnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOkJvbmUsaXNCb25lOnRydWV9KTsvKioKICAgKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tLwogICAqL3ZhciBfaW5zdGFuY2VMb2NhbE1hdHJpeD1uZXcgTWF0cml4NCgpO3ZhciBfaW5zdGFuY2VXb3JsZE1hdHJpeD1uZXcgTWF0cml4NCgpO3ZhciBfaW5zdGFuY2VJbnRlcnNlY3RzPVtdO3ZhciBfbWVzaD1uZXcgTWVzaCgpO2Z1bmN0aW9uIEluc3RhbmNlZE1lc2goZ2VvbWV0cnksbWF0ZXJpYWwsY291bnQpe01lc2guY2FsbCh0aGlzLGdlb21ldHJ5LG1hdGVyaWFsKTt0aGlzLmluc3RhbmNlTWF0cml4PW5ldyBCdWZmZXJBdHRyaWJ1dGUobmV3IEZsb2F0MzJBcnJheShjb3VudCoxNiksMTYpO3RoaXMuY291bnQ9Y291bnQ7fUluc3RhbmNlZE1lc2gucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShNZXNoLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOkluc3RhbmNlZE1lc2gsaXNJbnN0YW5jZWRNZXNoOnRydWUsZ2V0TWF0cml4QXQ6ZnVuY3Rpb24gZ2V0TWF0cml4QXQoaW5kZXgsbWF0cml4KXttYXRyaXguZnJvbUFycmF5KHRoaXMuaW5zdGFuY2VNYXRyaXguYXJyYXksaW5kZXgqMTYpO30scmF5Y2FzdDpmdW5jdGlvbiByYXljYXN0KHJheWNhc3RlcixpbnRlcnNlY3RzKXt2YXIgbWF0cml4V29ybGQ9dGhpcy5tYXRyaXhXb3JsZDt2YXIgcmF5Y2FzdFRpbWVzPXRoaXMuY291bnQ7X21lc2guZ2VvbWV0cnk9dGhpcy5nZW9tZXRyeTtfbWVzaC5tYXRlcmlhbD10aGlzLm1hdGVyaWFsO2lmKF9tZXNoLm1hdGVyaWFsPT09dW5kZWZpbmVkKXtyZXR1cm47fWZvcih2YXIgaW5zdGFuY2VJZD0wO2luc3RhbmNlSWQ8cmF5Y2FzdFRpbWVzO2luc3RhbmNlSWQrKyl7Ly8gY2FsY3VsYXRlIHRoZSB3b3JsZCBtYXRyaXggZm9yIGVhY2ggaW5zdGFuY2UKdGhpcy5nZXRNYXRyaXhBdChpbnN0YW5jZUlkLF9pbnN0YW5jZUxvY2FsTWF0cml4KTtfaW5zdGFuY2VXb3JsZE1hdHJpeC5tdWx0aXBseU1hdHJpY2VzKG1hdHJpeFdvcmxkLF9pbnN0YW5jZUxvY2FsTWF0cml4KTsvLyB0aGUgbWVzaCByZXByZXNlbnRzIHRoaXMgc2luZ2xlIGluc3RhbmNlCl9tZXNoLm1hdHJpeFdvcmxkPV9pbnN0YW5jZVdvcmxkTWF0cml4O19tZXNoLnJheWNhc3QocmF5Y2FzdGVyLF9pbnN0YW5jZUludGVyc2VjdHMpOy8vIHByb2Nlc3MgdGhlIHJlc3VsdCBvZiByYXljYXN0CmlmKF9pbnN0YW5jZUludGVyc2VjdHMubGVuZ3RoPjApe19pbnN0YW5jZUludGVyc2VjdHNbMF0uaW5zdGFuY2VJZD1pbnN0YW5jZUlkO19pbnN0YW5jZUludGVyc2VjdHNbMF0ub2JqZWN0PXRoaXM7aW50ZXJzZWN0cy5wdXNoKF9pbnN0YW5jZUludGVyc2VjdHNbMF0pO19pbnN0YW5jZUludGVyc2VjdHMubGVuZ3RoPTA7fX19LHNldE1hdHJpeEF0OmZ1bmN0aW9uIHNldE1hdHJpeEF0KGluZGV4LG1hdHJpeCl7bWF0cml4LnRvQXJyYXkodGhpcy5pbnN0YW5jZU1hdHJpeC5hcnJheSxpbmRleCoxNik7fSx1cGRhdGVNb3JwaFRhcmdldHM6ZnVuY3Rpb24gdXBkYXRlTW9ycGhUYXJnZXRzKCl7fX0pOy8qKgogICAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb20vCiAgICogQGF1dGhvciBhbHRlcmVkcSAvIGh0dHA6Ly9hbHRlcmVkcXVhbGlhLmNvbS8KICAgKgogICAqIHBhcmFtZXRlcnMgPSB7CiAgICogIGNvbG9yOiA8aGV4PiwKICAgKiAgb3BhY2l0eTogPGZsb2F0PiwKICAgKgogICAqICBsaW5ld2lkdGg6IDxmbG9hdD4sCiAgICogIGxpbmVjYXA6ICJyb3VuZCIsCiAgICogIGxpbmVqb2luOiAicm91bmQiCiAgICogfQogICAqL2Z1bmN0aW9uIExpbmVCYXNpY01hdGVyaWFsKHBhcmFtZXRlcnMpe01hdGVyaWFsLmNhbGwodGhpcyk7dGhpcy50eXBlPSdMaW5lQmFzaWNNYXRlcmlhbCc7dGhpcy5jb2xvcj1uZXcgQ29sb3IoMHhmZmZmZmYpO3RoaXMubGluZXdpZHRoPTE7dGhpcy5saW5lY2FwPSdyb3VuZCc7dGhpcy5saW5lam9pbj0ncm91bmQnO3RoaXMuc2V0VmFsdWVzKHBhcmFtZXRlcnMpO31MaW5lQmFzaWNNYXRlcmlhbC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShNYXRlcmlhbC5wcm90b3R5cGUpO0xpbmVCYXNpY01hdGVyaWFsLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1MaW5lQmFzaWNNYXRlcmlhbDtMaW5lQmFzaWNNYXRlcmlhbC5wcm90b3R5cGUuaXNMaW5lQmFzaWNNYXRlcmlhbD10cnVlO0xpbmVCYXNpY01hdGVyaWFsLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKHNvdXJjZSl7TWF0ZXJpYWwucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHNvdXJjZSk7dGhpcy5jb2xvci5jb3B5KHNvdXJjZS5jb2xvcik7dGhpcy5saW5ld2lkdGg9c291cmNlLmxpbmV3aWR0aDt0aGlzLmxpbmVjYXA9c291cmNlLmxpbmVjYXA7dGhpcy5saW5lam9pbj1zb3VyY2UubGluZWpvaW47cmV0dXJuIHRoaXM7fTsvKioKICAgKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tLwogICAqL3ZhciBfc3RhcnQ9bmV3IFZlY3RvcjMoKTt2YXIgX2VuZD1uZXcgVmVjdG9yMygpO3ZhciBfaW52ZXJzZU1hdHJpeCQxPW5ldyBNYXRyaXg0KCk7dmFyIF9yYXkkMT1uZXcgUmF5KCk7dmFyIF9zcGhlcmUkMj1uZXcgU3BoZXJlKCk7ZnVuY3Rpb24gTGluZShnZW9tZXRyeSxtYXRlcmlhbCxtb2RlKXtpZihtb2RlPT09MSl7Y29uc29sZS5lcnJvcignVEhSRUUuTGluZTogcGFyYW1ldGVyIFRIUkVFLkxpbmVQaWVjZXMgbm8gbG9uZ2VyIHN1cHBvcnRlZC4gVXNlIFRIUkVFLkxpbmVTZWdtZW50cyBpbnN0ZWFkLicpO31PYmplY3QzRC5jYWxsKHRoaXMpO3RoaXMudHlwZT0nTGluZSc7dGhpcy5nZW9tZXRyeT1nZW9tZXRyeSE9PXVuZGVmaW5lZD9nZW9tZXRyeTpuZXcgQnVmZmVyR2VvbWV0cnkoKTt0aGlzLm1hdGVyaWFsPW1hdGVyaWFsIT09dW5kZWZpbmVkP21hdGVyaWFsOm5ldyBMaW5lQmFzaWNNYXRlcmlhbCh7Y29sb3I6TWF0aC5yYW5kb20oKSoweGZmZmZmZn0pO31MaW5lLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoT2JqZWN0M0QucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6TGluZSxpc0xpbmU6dHJ1ZSxjb21wdXRlTGluZURpc3RhbmNlczpmdW5jdGlvbiBjb21wdXRlTGluZURpc3RhbmNlcygpe3ZhciBnZW9tZXRyeT10aGlzLmdlb21ldHJ5O2lmKGdlb21ldHJ5LmlzQnVmZmVyR2VvbWV0cnkpey8vIHdlIGFzc3VtZSBub24taW5kZXhlZCBnZW9tZXRyeQppZihnZW9tZXRyeS5pbmRleD09PW51bGwpe3ZhciBwb3NpdGlvbkF0dHJpYnV0ZT1nZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uO3ZhciBsaW5lRGlzdGFuY2VzPVswXTtmb3IodmFyIGk9MSxsPXBvc2l0aW9uQXR0cmlidXRlLmNvdW50O2k8bDtpKyspe19zdGFydC5mcm9tQnVmZmVyQXR0cmlidXRlKHBvc2l0aW9uQXR0cmlidXRlLGktMSk7X2VuZC5mcm9tQnVmZmVyQXR0cmlidXRlKHBvc2l0aW9uQXR0cmlidXRlLGkpO2xpbmVEaXN0YW5jZXNbaV09bGluZURpc3RhbmNlc1tpLTFdO2xpbmVEaXN0YW5jZXNbaV0rPV9zdGFydC5kaXN0YW5jZVRvKF9lbmQpO31nZW9tZXRyeS5zZXRBdHRyaWJ1dGUoJ2xpbmVEaXN0YW5jZScsbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUobGluZURpc3RhbmNlcywxKSk7fWVsc2V7Y29uc29sZS53YXJuKCdUSFJFRS5MaW5lLmNvbXB1dGVMaW5lRGlzdGFuY2VzKCk6IENvbXB1dGF0aW9uIG9ubHkgcG9zc2libGUgd2l0aCBub24taW5kZXhlZCBCdWZmZXJHZW9tZXRyeS4nKTt9fWVsc2UgaWYoZ2VvbWV0cnkuaXNHZW9tZXRyeSl7dmFyIHZlcnRpY2VzPWdlb21ldHJ5LnZlcnRpY2VzO3ZhciBsaW5lRGlzdGFuY2VzPWdlb21ldHJ5LmxpbmVEaXN0YW5jZXM7bGluZURpc3RhbmNlc1swXT0wO2Zvcih2YXIgaT0xLGw9dmVydGljZXMubGVuZ3RoO2k8bDtpKyspe2xpbmVEaXN0YW5jZXNbaV09bGluZURpc3RhbmNlc1tpLTFdO2xpbmVEaXN0YW5jZXNbaV0rPXZlcnRpY2VzW2ktMV0uZGlzdGFuY2VUbyh2ZXJ0aWNlc1tpXSk7fX1yZXR1cm4gdGhpczt9LHJheWNhc3Q6ZnVuY3Rpb24gcmF5Y2FzdChyYXljYXN0ZXIsaW50ZXJzZWN0cyl7dmFyIHByZWNpc2lvbj1yYXljYXN0ZXIubGluZVByZWNpc2lvbjt2YXIgZ2VvbWV0cnk9dGhpcy5nZW9tZXRyeTt2YXIgbWF0cml4V29ybGQ9dGhpcy5tYXRyaXhXb3JsZDsvLyBDaGVja2luZyBib3VuZGluZ1NwaGVyZSBkaXN0YW5jZSB0byByYXkKaWYoZ2VvbWV0cnkuYm91bmRpbmdTcGhlcmU9PT1udWxsKXtnZW9tZXRyeS5jb21wdXRlQm91bmRpbmdTcGhlcmUoKTt9X3NwaGVyZSQyLmNvcHkoZ2VvbWV0cnkuYm91bmRpbmdTcGhlcmUpO19zcGhlcmUkMi5hcHBseU1hdHJpeDQobWF0cml4V29ybGQpO19zcGhlcmUkMi5yYWRpdXMrPXByZWNpc2lvbjtpZihyYXljYXN0ZXIucmF5LmludGVyc2VjdHNTcGhlcmUoX3NwaGVyZSQyKT09PWZhbHNlKXtyZXR1cm47fS8vCl9pbnZlcnNlTWF0cml4JDEuZ2V0SW52ZXJzZShtYXRyaXhXb3JsZCk7X3JheSQxLmNvcHkocmF5Y2FzdGVyLnJheSkuYXBwbHlNYXRyaXg0KF9pbnZlcnNlTWF0cml4JDEpO3ZhciBsb2NhbFByZWNpc2lvbj1wcmVjaXNpb24vKCh0aGlzLnNjYWxlLngrdGhpcy5zY2FsZS55K3RoaXMuc2NhbGUueikvMyk7dmFyIGxvY2FsUHJlY2lzaW9uU3E9bG9jYWxQcmVjaXNpb24qbG9jYWxQcmVjaXNpb247dmFyIHZTdGFydD1uZXcgVmVjdG9yMygpO3ZhciB2RW5kPW5ldyBWZWN0b3IzKCk7dmFyIGludGVyU2VnbWVudD1uZXcgVmVjdG9yMygpO3ZhciBpbnRlclJheT1uZXcgVmVjdG9yMygpO3ZhciBzdGVwPXRoaXMmJnRoaXMuaXNMaW5lU2VnbWVudHM/MjoxO2lmKGdlb21ldHJ5LmlzQnVmZmVyR2VvbWV0cnkpe3ZhciBpbmRleD1nZW9tZXRyeS5pbmRleDt2YXIgYXR0cmlidXRlcz1nZW9tZXRyeS5hdHRyaWJ1dGVzO3ZhciBwb3NpdGlvbnM9YXR0cmlidXRlcy5wb3NpdGlvbi5hcnJheTtpZihpbmRleCE9PW51bGwpe3ZhciBpbmRpY2VzPWluZGV4LmFycmF5O2Zvcih2YXIgaT0wLGw9aW5kaWNlcy5sZW5ndGgtMTtpPGw7aSs9c3RlcCl7dmFyIGE9aW5kaWNlc1tpXTt2YXIgYj1pbmRpY2VzW2krMV07dlN0YXJ0LmZyb21BcnJheShwb3NpdGlvbnMsYSozKTt2RW5kLmZyb21BcnJheShwb3NpdGlvbnMsYiozKTt2YXIgZGlzdFNxPV9yYXkkMS5kaXN0YW5jZVNxVG9TZWdtZW50KHZTdGFydCx2RW5kLGludGVyUmF5LGludGVyU2VnbWVudCk7aWYoZGlzdFNxPmxvY2FsUHJlY2lzaW9uU3Epe2NvbnRpbnVlO31pbnRlclJheS5hcHBseU1hdHJpeDQodGhpcy5tYXRyaXhXb3JsZCk7Ly9Nb3ZlIGJhY2sgdG8gd29ybGQgc3BhY2UgZm9yIGRpc3RhbmNlIGNhbGN1bGF0aW9uCnZhciBkaXN0YW5jZT1yYXljYXN0ZXIucmF5Lm9yaWdpbi5kaXN0YW5jZVRvKGludGVyUmF5KTtpZihkaXN0YW5jZTxyYXljYXN0ZXIubmVhcnx8ZGlzdGFuY2U+cmF5Y2FzdGVyLmZhcil7Y29udGludWU7fWludGVyc2VjdHMucHVzaCh7ZGlzdGFuY2U6ZGlzdGFuY2UsLy8gV2hhdCBkbyB3ZSB3YW50PyBpbnRlcnNlY3Rpb24gcG9pbnQgb24gdGhlIHJheSBvciBvbiB0aGUgc2VnbWVudD8/Ci8vIHBvaW50OiByYXljYXN0ZXIucmF5LmF0KCBkaXN0YW5jZSApLApwb2ludDppbnRlclNlZ21lbnQuY2xvbmUoKS5hcHBseU1hdHJpeDQodGhpcy5tYXRyaXhXb3JsZCksaW5kZXg6aSxmYWNlOm51bGwsZmFjZUluZGV4Om51bGwsb2JqZWN0OnRoaXN9KTt9fWVsc2V7Zm9yKHZhciBpPTAsbD1wb3NpdGlvbnMubGVuZ3RoLzMtMTtpPGw7aSs9c3RlcCl7dlN0YXJ0LmZyb21BcnJheShwb3NpdGlvbnMsMyppKTt2RW5kLmZyb21BcnJheShwb3NpdGlvbnMsMyppKzMpO3ZhciBkaXN0U3E9X3JheSQxLmRpc3RhbmNlU3FUb1NlZ21lbnQodlN0YXJ0LHZFbmQsaW50ZXJSYXksaW50ZXJTZWdtZW50KTtpZihkaXN0U3E+bG9jYWxQcmVjaXNpb25TcSl7Y29udGludWU7fWludGVyUmF5LmFwcGx5TWF0cml4NCh0aGlzLm1hdHJpeFdvcmxkKTsvL01vdmUgYmFjayB0byB3b3JsZCBzcGFjZSBmb3IgZGlzdGFuY2UgY2FsY3VsYXRpb24KdmFyIGRpc3RhbmNlPXJheWNhc3Rlci5yYXkub3JpZ2luLmRpc3RhbmNlVG8oaW50ZXJSYXkpO2lmKGRpc3RhbmNlPHJheWNhc3Rlci5uZWFyfHxkaXN0YW5jZT5yYXljYXN0ZXIuZmFyKXtjb250aW51ZTt9aW50ZXJzZWN0cy5wdXNoKHtkaXN0YW5jZTpkaXN0YW5jZSwvLyBXaGF0IGRvIHdlIHdhbnQ/IGludGVyc2VjdGlvbiBwb2ludCBvbiB0aGUgcmF5IG9yIG9uIHRoZSBzZWdtZW50Pz8KLy8gcG9pbnQ6IHJheWNhc3Rlci5yYXkuYXQoIGRpc3RhbmNlICksCnBvaW50OmludGVyU2VnbWVudC5jbG9uZSgpLmFwcGx5TWF0cml4NCh0aGlzLm1hdHJpeFdvcmxkKSxpbmRleDppLGZhY2U6bnVsbCxmYWNlSW5kZXg6bnVsbCxvYmplY3Q6dGhpc30pO319fWVsc2UgaWYoZ2VvbWV0cnkuaXNHZW9tZXRyeSl7dmFyIHZlcnRpY2VzPWdlb21ldHJ5LnZlcnRpY2VzO3ZhciBuYlZlcnRpY2VzPXZlcnRpY2VzLmxlbmd0aDtmb3IodmFyIGk9MDtpPG5iVmVydGljZXMtMTtpKz1zdGVwKXt2YXIgZGlzdFNxPV9yYXkkMS5kaXN0YW5jZVNxVG9TZWdtZW50KHZlcnRpY2VzW2ldLHZlcnRpY2VzW2krMV0saW50ZXJSYXksaW50ZXJTZWdtZW50KTtpZihkaXN0U3E+bG9jYWxQcmVjaXNpb25TcSl7Y29udGludWU7fWludGVyUmF5LmFwcGx5TWF0cml4NCh0aGlzLm1hdHJpeFdvcmxkKTsvL01vdmUgYmFjayB0byB3b3JsZCBzcGFjZSBmb3IgZGlzdGFuY2UgY2FsY3VsYXRpb24KdmFyIGRpc3RhbmNlPXJheWNhc3Rlci5yYXkub3JpZ2luLmRpc3RhbmNlVG8oaW50ZXJSYXkpO2lmKGRpc3RhbmNlPHJheWNhc3Rlci5uZWFyfHxkaXN0YW5jZT5yYXljYXN0ZXIuZmFyKXtjb250aW51ZTt9aW50ZXJzZWN0cy5wdXNoKHtkaXN0YW5jZTpkaXN0YW5jZSwvLyBXaGF0IGRvIHdlIHdhbnQ/IGludGVyc2VjdGlvbiBwb2ludCBvbiB0aGUgcmF5IG9yIG9uIHRoZSBzZWdtZW50Pz8KLy8gcG9pbnQ6IHJheWNhc3Rlci5yYXkuYXQoIGRpc3RhbmNlICksCnBvaW50OmludGVyU2VnbWVudC5jbG9uZSgpLmFwcGx5TWF0cml4NCh0aGlzLm1hdHJpeFdvcmxkKSxpbmRleDppLGZhY2U6bnVsbCxmYWNlSW5kZXg6bnVsbCxvYmplY3Q6dGhpc30pO319fSxjbG9uZTpmdW5jdGlvbiBjbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLmdlb21ldHJ5LHRoaXMubWF0ZXJpYWwpLmNvcHkodGhpcyk7fX0pOy8qKgogICAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb20vCiAgICovdmFyIF9zdGFydCQxPW5ldyBWZWN0b3IzKCk7dmFyIF9lbmQkMT1uZXcgVmVjdG9yMygpO2Z1bmN0aW9uIExpbmVTZWdtZW50cyhnZW9tZXRyeSxtYXRlcmlhbCl7TGluZS5jYWxsKHRoaXMsZ2VvbWV0cnksbWF0ZXJpYWwpO3RoaXMudHlwZT0nTGluZVNlZ21lbnRzJzt9TGluZVNlZ21lbnRzLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoTGluZS5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpMaW5lU2VnbWVudHMsaXNMaW5lU2VnbWVudHM6dHJ1ZSxjb21wdXRlTGluZURpc3RhbmNlczpmdW5jdGlvbiBjb21wdXRlTGluZURpc3RhbmNlcygpe3ZhciBnZW9tZXRyeT10aGlzLmdlb21ldHJ5O2lmKGdlb21ldHJ5LmlzQnVmZmVyR2VvbWV0cnkpey8vIHdlIGFzc3VtZSBub24taW5kZXhlZCBnZW9tZXRyeQppZihnZW9tZXRyeS5pbmRleD09PW51bGwpe3ZhciBwb3NpdGlvbkF0dHJpYnV0ZT1nZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uO3ZhciBsaW5lRGlzdGFuY2VzPVtdO2Zvcih2YXIgaT0wLGw9cG9zaXRpb25BdHRyaWJ1dGUuY291bnQ7aTxsO2krPTIpe19zdGFydCQxLmZyb21CdWZmZXJBdHRyaWJ1dGUocG9zaXRpb25BdHRyaWJ1dGUsaSk7X2VuZCQxLmZyb21CdWZmZXJBdHRyaWJ1dGUocG9zaXRpb25BdHRyaWJ1dGUsaSsxKTtsaW5lRGlzdGFuY2VzW2ldPWk9PT0wPzA6bGluZURpc3RhbmNlc1tpLTFdO2xpbmVEaXN0YW5jZXNbaSsxXT1saW5lRGlzdGFuY2VzW2ldK19zdGFydCQxLmRpc3RhbmNlVG8oX2VuZCQxKTt9Z2VvbWV0cnkuc2V0QXR0cmlidXRlKCdsaW5lRGlzdGFuY2UnLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKGxpbmVEaXN0YW5jZXMsMSkpO31lbHNle2NvbnNvbGUud2FybignVEhSRUUuTGluZVNlZ21lbnRzLmNvbXB1dGVMaW5lRGlzdGFuY2VzKCk6IENvbXB1dGF0aW9uIG9ubHkgcG9zc2libGUgd2l0aCBub24taW5kZXhlZCBCdWZmZXJHZW9tZXRyeS4nKTt9fWVsc2UgaWYoZ2VvbWV0cnkuaXNHZW9tZXRyeSl7dmFyIHZlcnRpY2VzPWdlb21ldHJ5LnZlcnRpY2VzO3ZhciBsaW5lRGlzdGFuY2VzPWdlb21ldHJ5LmxpbmVEaXN0YW5jZXM7Zm9yKHZhciBpPTAsbD12ZXJ0aWNlcy5sZW5ndGg7aTxsO2krPTIpe19zdGFydCQxLmNvcHkodmVydGljZXNbaV0pO19lbmQkMS5jb3B5KHZlcnRpY2VzW2krMV0pO2xpbmVEaXN0YW5jZXNbaV09aT09PTA/MDpsaW5lRGlzdGFuY2VzW2ktMV07bGluZURpc3RhbmNlc1tpKzFdPWxpbmVEaXN0YW5jZXNbaV0rX3N0YXJ0JDEuZGlzdGFuY2VUbyhfZW5kJDEpO319cmV0dXJuIHRoaXM7fX0pOy8qKgogICAqIEBhdXRob3IgbWdyZXRlciAvIGh0dHA6Ly9naXRodWIuY29tL21ncmV0ZXIKICAgKi9mdW5jdGlvbiBMaW5lTG9vcChnZW9tZXRyeSxtYXRlcmlhbCl7TGluZS5jYWxsKHRoaXMsZ2VvbWV0cnksbWF0ZXJpYWwpO3RoaXMudHlwZT0nTGluZUxvb3AnO31MaW5lTG9vcC5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKExpbmUucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6TGluZUxvb3AsaXNMaW5lTG9vcDp0cnVlfSk7LyoqCiAgICogQGF1dGhvciBtcmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS8KICAgKiBAYXV0aG9yIGFsdGVyZWRxIC8gaHR0cDovL2FsdGVyZWRxdWFsaWEuY29tLwogICAqCiAgICogcGFyYW1ldGVycyA9IHsKICAgKiAgY29sb3I6IDxoZXg+LAogICAqICBvcGFjaXR5OiA8ZmxvYXQ+LAogICAqICBtYXA6IG5ldyBUSFJFRS5UZXh0dXJlKCA8SW1hZ2U+ICksCiAgICogIGFscGhhTWFwOiBuZXcgVEhSRUUuVGV4dHVyZSggPEltYWdlPiApLAogICAqCiAgICogIHNpemU6IDxmbG9hdD4sCiAgICogIHNpemVBdHRlbnVhdGlvbjogPGJvb2w+CiAgICoKICAgKiAgbW9ycGhUYXJnZXRzOiA8Ym9vbD4KICAgKiB9CiAgICovZnVuY3Rpb24gUG9pbnRzTWF0ZXJpYWwocGFyYW1ldGVycyl7TWF0ZXJpYWwuY2FsbCh0aGlzKTt0aGlzLnR5cGU9J1BvaW50c01hdGVyaWFsJzt0aGlzLmNvbG9yPW5ldyBDb2xvcigweGZmZmZmZik7dGhpcy5tYXA9bnVsbDt0aGlzLmFscGhhTWFwPW51bGw7dGhpcy5zaXplPTE7dGhpcy5zaXplQXR0ZW51YXRpb249dHJ1ZTt0aGlzLm1vcnBoVGFyZ2V0cz1mYWxzZTt0aGlzLnNldFZhbHVlcyhwYXJhbWV0ZXJzKTt9UG9pbnRzTWF0ZXJpYWwucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoTWF0ZXJpYWwucHJvdG90eXBlKTtQb2ludHNNYXRlcmlhbC5wcm90b3R5cGUuY29uc3RydWN0b3I9UG9pbnRzTWF0ZXJpYWw7UG9pbnRzTWF0ZXJpYWwucHJvdG90eXBlLmlzUG9pbnRzTWF0ZXJpYWw9dHJ1ZTtQb2ludHNNYXRlcmlhbC5wcm90b3R5cGUuY29weT1mdW5jdGlvbihzb3VyY2Upe01hdGVyaWFsLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyxzb3VyY2UpO3RoaXMuY29sb3IuY29weShzb3VyY2UuY29sb3IpO3RoaXMubWFwPXNvdXJjZS5tYXA7dGhpcy5hbHBoYU1hcD1zb3VyY2UuYWxwaGFNYXA7dGhpcy5zaXplPXNvdXJjZS5zaXplO3RoaXMuc2l6ZUF0dGVudWF0aW9uPXNvdXJjZS5zaXplQXR0ZW51YXRpb247dGhpcy5tb3JwaFRhcmdldHM9c291cmNlLm1vcnBoVGFyZ2V0cztyZXR1cm4gdGhpczt9Oy8qKgogICAqIEBhdXRob3IgYWx0ZXJlZHEgLyBodHRwOi8vYWx0ZXJlZHF1YWxpYS5jb20vCiAgICovdmFyIF9pbnZlcnNlTWF0cml4JDI9bmV3IE1hdHJpeDQoKTt2YXIgX3JheSQyPW5ldyBSYXkoKTt2YXIgX3NwaGVyZSQzPW5ldyBTcGhlcmUoKTt2YXIgX3Bvc2l0aW9uJDE9bmV3IFZlY3RvcjMoKTtmdW5jdGlvbiBQb2ludHMoZ2VvbWV0cnksbWF0ZXJpYWwpe09iamVjdDNELmNhbGwodGhpcyk7dGhpcy50eXBlPSdQb2ludHMnO3RoaXMuZ2VvbWV0cnk9Z2VvbWV0cnkhPT11bmRlZmluZWQ/Z2VvbWV0cnk6bmV3IEJ1ZmZlckdlb21ldHJ5KCk7dGhpcy5tYXRlcmlhbD1tYXRlcmlhbCE9PXVuZGVmaW5lZD9tYXRlcmlhbDpuZXcgUG9pbnRzTWF0ZXJpYWwoe2NvbG9yOk1hdGgucmFuZG9tKCkqMHhmZmZmZmZ9KTt0aGlzLnVwZGF0ZU1vcnBoVGFyZ2V0cygpO31Qb2ludHMucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShPYmplY3QzRC5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpQb2ludHMsaXNQb2ludHM6dHJ1ZSxyYXljYXN0OmZ1bmN0aW9uIHJheWNhc3QocmF5Y2FzdGVyLGludGVyc2VjdHMpe3ZhciBnZW9tZXRyeT10aGlzLmdlb21ldHJ5O3ZhciBtYXRyaXhXb3JsZD10aGlzLm1hdHJpeFdvcmxkO3ZhciB0aHJlc2hvbGQ9cmF5Y2FzdGVyLnBhcmFtcy5Qb2ludHMudGhyZXNob2xkOy8vIENoZWNraW5nIGJvdW5kaW5nU3BoZXJlIGRpc3RhbmNlIHRvIHJheQppZihnZW9tZXRyeS5ib3VuZGluZ1NwaGVyZT09PW51bGwpe2dlb21ldHJ5LmNvbXB1dGVCb3VuZGluZ1NwaGVyZSgpO31fc3BoZXJlJDMuY29weShnZW9tZXRyeS5ib3VuZGluZ1NwaGVyZSk7X3NwaGVyZSQzLmFwcGx5TWF0cml4NChtYXRyaXhXb3JsZCk7X3NwaGVyZSQzLnJhZGl1cys9dGhyZXNob2xkO2lmKHJheWNhc3Rlci5yYXkuaW50ZXJzZWN0c1NwaGVyZShfc3BoZXJlJDMpPT09ZmFsc2Upe3JldHVybjt9Ly8KX2ludmVyc2VNYXRyaXgkMi5nZXRJbnZlcnNlKG1hdHJpeFdvcmxkKTtfcmF5JDIuY29weShyYXljYXN0ZXIucmF5KS5hcHBseU1hdHJpeDQoX2ludmVyc2VNYXRyaXgkMik7dmFyIGxvY2FsVGhyZXNob2xkPXRocmVzaG9sZC8oKHRoaXMuc2NhbGUueCt0aGlzLnNjYWxlLnkrdGhpcy5zY2FsZS56KS8zKTt2YXIgbG9jYWxUaHJlc2hvbGRTcT1sb2NhbFRocmVzaG9sZCpsb2NhbFRocmVzaG9sZDtpZihnZW9tZXRyeS5pc0J1ZmZlckdlb21ldHJ5KXt2YXIgaW5kZXg9Z2VvbWV0cnkuaW5kZXg7dmFyIGF0dHJpYnV0ZXM9Z2VvbWV0cnkuYXR0cmlidXRlczt2YXIgcG9zaXRpb25zPWF0dHJpYnV0ZXMucG9zaXRpb24uYXJyYXk7aWYoaW5kZXghPT1udWxsKXt2YXIgaW5kaWNlcz1pbmRleC5hcnJheTtmb3IodmFyIGk9MCxpbD1pbmRpY2VzLmxlbmd0aDtpPGlsO2krKyl7dmFyIGE9aW5kaWNlc1tpXTtfcG9zaXRpb24kMS5mcm9tQXJyYXkocG9zaXRpb25zLGEqMyk7dGVzdFBvaW50KF9wb3NpdGlvbiQxLGEsbG9jYWxUaHJlc2hvbGRTcSxtYXRyaXhXb3JsZCxyYXljYXN0ZXIsaW50ZXJzZWN0cyx0aGlzKTt9fWVsc2V7Zm9yKHZhciBpPTAsbD1wb3NpdGlvbnMubGVuZ3RoLzM7aTxsO2krKyl7X3Bvc2l0aW9uJDEuZnJvbUFycmF5KHBvc2l0aW9ucyxpKjMpO3Rlc3RQb2ludChfcG9zaXRpb24kMSxpLGxvY2FsVGhyZXNob2xkU3EsbWF0cml4V29ybGQscmF5Y2FzdGVyLGludGVyc2VjdHMsdGhpcyk7fX19ZWxzZXt2YXIgdmVydGljZXM9Z2VvbWV0cnkudmVydGljZXM7Zm9yKHZhciBpPTAsbD12ZXJ0aWNlcy5sZW5ndGg7aTxsO2krKyl7dGVzdFBvaW50KHZlcnRpY2VzW2ldLGksbG9jYWxUaHJlc2hvbGRTcSxtYXRyaXhXb3JsZCxyYXljYXN0ZXIsaW50ZXJzZWN0cyx0aGlzKTt9fX0sdXBkYXRlTW9ycGhUYXJnZXRzOmZ1bmN0aW9uIHVwZGF0ZU1vcnBoVGFyZ2V0cygpe3ZhciBnZW9tZXRyeT10aGlzLmdlb21ldHJ5O3ZhciBtLG1sLG5hbWU7aWYoZ2VvbWV0cnkuaXNCdWZmZXJHZW9tZXRyeSl7dmFyIG1vcnBoQXR0cmlidXRlcz1nZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXM7dmFyIGtleXM9T2JqZWN0LmtleXMobW9ycGhBdHRyaWJ1dGVzKTtpZihrZXlzLmxlbmd0aD4wKXt2YXIgbW9ycGhBdHRyaWJ1dGU9bW9ycGhBdHRyaWJ1dGVzW2tleXNbMF1dO2lmKG1vcnBoQXR0cmlidXRlIT09dW5kZWZpbmVkKXt0aGlzLm1vcnBoVGFyZ2V0SW5mbHVlbmNlcz1bXTt0aGlzLm1vcnBoVGFyZ2V0RGljdGlvbmFyeT17fTtmb3IobT0wLG1sPW1vcnBoQXR0cmlidXRlLmxlbmd0aDttPG1sO20rKyl7bmFtZT1tb3JwaEF0dHJpYnV0ZVttXS5uYW1lfHxTdHJpbmcobSk7dGhpcy5tb3JwaFRhcmdldEluZmx1ZW5jZXMucHVzaCgwKTt0aGlzLm1vcnBoVGFyZ2V0RGljdGlvbmFyeVtuYW1lXT1tO319fX1lbHNle3ZhciBtb3JwaFRhcmdldHM9Z2VvbWV0cnkubW9ycGhUYXJnZXRzO2lmKG1vcnBoVGFyZ2V0cyE9PXVuZGVmaW5lZCYmbW9ycGhUYXJnZXRzLmxlbmd0aD4wKXtjb25zb2xlLmVycm9yKCdUSFJFRS5Qb2ludHMudXBkYXRlTW9ycGhUYXJnZXRzKCkgZG9lcyBub3Qgc3VwcG9ydCBUSFJFRS5HZW9tZXRyeS4gVXNlIFRIUkVFLkJ1ZmZlckdlb21ldHJ5IGluc3RlYWQuJyk7fX19LGNsb25lOmZ1bmN0aW9uIGNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuZ2VvbWV0cnksdGhpcy5tYXRlcmlhbCkuY29weSh0aGlzKTt9fSk7ZnVuY3Rpb24gdGVzdFBvaW50KHBvaW50LGluZGV4LGxvY2FsVGhyZXNob2xkU3EsbWF0cml4V29ybGQscmF5Y2FzdGVyLGludGVyc2VjdHMsb2JqZWN0KXt2YXIgcmF5UG9pbnREaXN0YW5jZVNxPV9yYXkkMi5kaXN0YW5jZVNxVG9Qb2ludChwb2ludCk7aWYocmF5UG9pbnREaXN0YW5jZVNxPGxvY2FsVGhyZXNob2xkU3Epe3ZhciBpbnRlcnNlY3RQb2ludD1uZXcgVmVjdG9yMygpO19yYXkkMi5jbG9zZXN0UG9pbnRUb1BvaW50KHBvaW50LGludGVyc2VjdFBvaW50KTtpbnRlcnNlY3RQb2ludC5hcHBseU1hdHJpeDQobWF0cml4V29ybGQpO3ZhciBkaXN0YW5jZT1yYXljYXN0ZXIucmF5Lm9yaWdpbi5kaXN0YW5jZVRvKGludGVyc2VjdFBvaW50KTtpZihkaXN0YW5jZTxyYXljYXN0ZXIubmVhcnx8ZGlzdGFuY2U+cmF5Y2FzdGVyLmZhcil7cmV0dXJuO31pbnRlcnNlY3RzLnB1c2goe2Rpc3RhbmNlOmRpc3RhbmNlLGRpc3RhbmNlVG9SYXk6TWF0aC5zcXJ0KHJheVBvaW50RGlzdGFuY2VTcSkscG9pbnQ6aW50ZXJzZWN0UG9pbnQsaW5kZXg6aW5kZXgsZmFjZTpudWxsLG9iamVjdDpvYmplY3R9KTt9fS8qKgogICAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb20vCiAgICovZnVuY3Rpb24gVmlkZW9UZXh0dXJlKHZpZGVvLG1hcHBpbmcsd3JhcFMsd3JhcFQsbWFnRmlsdGVyLG1pbkZpbHRlcixmb3JtYXQsdHlwZSxhbmlzb3Ryb3B5KXtUZXh0dXJlLmNhbGwodGhpcyx2aWRlbyxtYXBwaW5nLHdyYXBTLHdyYXBULG1hZ0ZpbHRlcixtaW5GaWx0ZXIsZm9ybWF0LHR5cGUsYW5pc290cm9weSk7dGhpcy5mb3JtYXQ9Zm9ybWF0IT09dW5kZWZpbmVkP2Zvcm1hdDpSR0JGb3JtYXQ7dGhpcy5taW5GaWx0ZXI9bWluRmlsdGVyIT09dW5kZWZpbmVkP21pbkZpbHRlcjpMaW5lYXJGaWx0ZXI7dGhpcy5tYWdGaWx0ZXI9bWFnRmlsdGVyIT09dW5kZWZpbmVkP21hZ0ZpbHRlcjpMaW5lYXJGaWx0ZXI7dGhpcy5nZW5lcmF0ZU1pcG1hcHM9ZmFsc2U7fVZpZGVvVGV4dHVyZS5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKFRleHR1cmUucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6VmlkZW9UZXh0dXJlLGlzVmlkZW9UZXh0dXJlOnRydWUsdXBkYXRlOmZ1bmN0aW9uIHVwZGF0ZSgpe3ZhciB2aWRlbz10aGlzLmltYWdlO2lmKHZpZGVvLnJlYWR5U3RhdGU+PXZpZGVvLkhBVkVfQ1VSUkVOVF9EQVRBKXt0aGlzLm5lZWRzVXBkYXRlPXRydWU7fX19KTsvKioKICAgKiBAYXV0aG9yIGFsdGVyZWRxIC8gaHR0cDovL2FsdGVyZWRxdWFsaWEuY29tLwogICAqL2Z1bmN0aW9uIENvbXByZXNzZWRUZXh0dXJlKG1pcG1hcHMsd2lkdGgsaGVpZ2h0LGZvcm1hdCx0eXBlLG1hcHBpbmcsd3JhcFMsd3JhcFQsbWFnRmlsdGVyLG1pbkZpbHRlcixhbmlzb3Ryb3B5LGVuY29kaW5nKXtUZXh0dXJlLmNhbGwodGhpcyxudWxsLG1hcHBpbmcsd3JhcFMsd3JhcFQsbWFnRmlsdGVyLG1pbkZpbHRlcixmb3JtYXQsdHlwZSxhbmlzb3Ryb3B5LGVuY29kaW5nKTt0aGlzLmltYWdlPXt3aWR0aDp3aWR0aCxoZWlnaHQ6aGVpZ2h0fTt0aGlzLm1pcG1hcHM9bWlwbWFwczsvLyBubyBmbGlwcGluZyBmb3IgY3ViZSB0ZXh0dXJlcwovLyAoYWxzbyBmbGlwcGluZyBkb2Vzbid0IHdvcmsgZm9yIGNvbXByZXNzZWQgdGV4dHVyZXMgKQp0aGlzLmZsaXBZPWZhbHNlOy8vIGNhbid0IGdlbmVyYXRlIG1pcG1hcHMgZm9yIGNvbXByZXNzZWQgdGV4dHVyZXMKLy8gbWlwcyBtdXN0IGJlIGVtYmVkZGVkIGluIEREUyBmaWxlcwp0aGlzLmdlbmVyYXRlTWlwbWFwcz1mYWxzZTt9Q29tcHJlc3NlZFRleHR1cmUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoVGV4dHVyZS5wcm90b3R5cGUpO0NvbXByZXNzZWRUZXh0dXJlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1Db21wcmVzc2VkVGV4dHVyZTtDb21wcmVzc2VkVGV4dHVyZS5wcm90b3R5cGUuaXNDb21wcmVzc2VkVGV4dHVyZT10cnVlOy8qKgogICAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb20vCiAgICovZnVuY3Rpb24gQ2FudmFzVGV4dHVyZShjYW52YXMsbWFwcGluZyx3cmFwUyx3cmFwVCxtYWdGaWx0ZXIsbWluRmlsdGVyLGZvcm1hdCx0eXBlLGFuaXNvdHJvcHkpe1RleHR1cmUuY2FsbCh0aGlzLGNhbnZhcyxtYXBwaW5nLHdyYXBTLHdyYXBULG1hZ0ZpbHRlcixtaW5GaWx0ZXIsZm9ybWF0LHR5cGUsYW5pc290cm9weSk7dGhpcy5uZWVkc1VwZGF0ZT10cnVlO31DYW52YXNUZXh0dXJlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFRleHR1cmUucHJvdG90eXBlKTtDYW52YXNUZXh0dXJlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1DYW52YXNUZXh0dXJlO0NhbnZhc1RleHR1cmUucHJvdG90eXBlLmlzQ2FudmFzVGV4dHVyZT10cnVlOy8qKgogICAqIEBhdXRob3IgTWF0dCBEZXNMYXVyaWVycyAvIEBtYXR0ZGVzbAogICAqIEBhdXRob3IgYXRpeCAvIGFydGh1cnNpbGJlci5kZQogICAqL2Z1bmN0aW9uIERlcHRoVGV4dHVyZSh3aWR0aCxoZWlnaHQsdHlwZSxtYXBwaW5nLHdyYXBTLHdyYXBULG1hZ0ZpbHRlcixtaW5GaWx0ZXIsYW5pc290cm9weSxmb3JtYXQpe2Zvcm1hdD1mb3JtYXQhPT11bmRlZmluZWQ/Zm9ybWF0OkRlcHRoRm9ybWF0O2lmKGZvcm1hdCE9PURlcHRoRm9ybWF0JiZmb3JtYXQhPT1EZXB0aFN0ZW5jaWxGb3JtYXQpe3Rocm93IG5ldyBFcnJvcignRGVwdGhUZXh0dXJlIGZvcm1hdCBtdXN0IGJlIGVpdGhlciBUSFJFRS5EZXB0aEZvcm1hdCBvciBUSFJFRS5EZXB0aFN0ZW5jaWxGb3JtYXQnKTt9aWYodHlwZT09PXVuZGVmaW5lZCYmZm9ybWF0PT09RGVwdGhGb3JtYXQpe3R5cGU9VW5zaWduZWRTaG9ydFR5cGU7fWlmKHR5cGU9PT11bmRlZmluZWQmJmZvcm1hdD09PURlcHRoU3RlbmNpbEZvcm1hdCl7dHlwZT1VbnNpZ25lZEludDI0OFR5cGU7fVRleHR1cmUuY2FsbCh0aGlzLG51bGwsbWFwcGluZyx3cmFwUyx3cmFwVCxtYWdGaWx0ZXIsbWluRmlsdGVyLGZvcm1hdCx0eXBlLGFuaXNvdHJvcHkpO3RoaXMuaW1hZ2U9e3dpZHRoOndpZHRoLGhlaWdodDpoZWlnaHR9O3RoaXMubWFnRmlsdGVyPW1hZ0ZpbHRlciE9PXVuZGVmaW5lZD9tYWdGaWx0ZXI6TmVhcmVzdEZpbHRlcjt0aGlzLm1pbkZpbHRlcj1taW5GaWx0ZXIhPT11bmRlZmluZWQ/bWluRmlsdGVyOk5lYXJlc3RGaWx0ZXI7dGhpcy5mbGlwWT1mYWxzZTt0aGlzLmdlbmVyYXRlTWlwbWFwcz1mYWxzZTt9RGVwdGhUZXh0dXJlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFRleHR1cmUucHJvdG90eXBlKTtEZXB0aFRleHR1cmUucHJvdG90eXBlLmNvbnN0cnVjdG9yPURlcHRoVGV4dHVyZTtEZXB0aFRleHR1cmUucHJvdG90eXBlLmlzRGVwdGhUZXh0dXJlPXRydWU7LyoqCiAgICogQGF1dGhvciBtcmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS8KICAgKiBAYXV0aG9yIE11Z2VuODcgLyBodHRwczovL2dpdGh1Yi5jb20vTXVnZW44NwogICAqL2Z1bmN0aW9uIFdpcmVmcmFtZUdlb21ldHJ5KGdlb21ldHJ5KXtCdWZmZXJHZW9tZXRyeS5jYWxsKHRoaXMpO3RoaXMudHlwZT0nV2lyZWZyYW1lR2VvbWV0cnknOy8vIGJ1ZmZlcgp2YXIgdmVydGljZXM9W107Ly8gaGVscGVyIHZhcmlhYmxlcwp2YXIgaSxqLGwsbyxvbDt2YXIgZWRnZT1bMCwwXSxlZGdlcz17fSxlLGVkZ2UxLGVkZ2UyO3ZhciBrZXksa2V5cz1bJ2EnLCdiJywnYyddO3ZhciB2ZXJ0ZXg7Ly8gZGlmZmVyZW50IGxvZ2ljIGZvciBHZW9tZXRyeSBhbmQgQnVmZmVyR2VvbWV0cnkKaWYoZ2VvbWV0cnkmJmdlb21ldHJ5LmlzR2VvbWV0cnkpey8vIGNyZWF0ZSBhIGRhdGEgc3RydWN0dXJlIHRoYXQgY29udGFpbnMgYWxsIGVkZ2VzIHdpdGhvdXQgZHVwbGljYXRlcwp2YXIgZmFjZXM9Z2VvbWV0cnkuZmFjZXM7Zm9yKGk9MCxsPWZhY2VzLmxlbmd0aDtpPGw7aSsrKXt2YXIgZmFjZT1mYWNlc1tpXTtmb3Ioaj0wO2o8MztqKyspe2VkZ2UxPWZhY2Vba2V5c1tqXV07ZWRnZTI9ZmFjZVtrZXlzWyhqKzEpJTNdXTtlZGdlWzBdPU1hdGgubWluKGVkZ2UxLGVkZ2UyKTsvLyBzb3J0aW5nIHByZXZlbnRzIGR1cGxpY2F0ZXMKZWRnZVsxXT1NYXRoLm1heChlZGdlMSxlZGdlMik7a2V5PWVkZ2VbMF0rJywnK2VkZ2VbMV07aWYoZWRnZXNba2V5XT09PXVuZGVmaW5lZCl7ZWRnZXNba2V5XT17aW5kZXgxOmVkZ2VbMF0saW5kZXgyOmVkZ2VbMV19O319fS8vIGdlbmVyYXRlIHZlcnRpY2VzCmZvcihrZXkgaW4gZWRnZXMpe2U9ZWRnZXNba2V5XTt2ZXJ0ZXg9Z2VvbWV0cnkudmVydGljZXNbZS5pbmRleDFdO3ZlcnRpY2VzLnB1c2godmVydGV4LngsdmVydGV4LnksdmVydGV4LnopO3ZlcnRleD1nZW9tZXRyeS52ZXJ0aWNlc1tlLmluZGV4Ml07dmVydGljZXMucHVzaCh2ZXJ0ZXgueCx2ZXJ0ZXgueSx2ZXJ0ZXgueik7fX1lbHNlIGlmKGdlb21ldHJ5JiZnZW9tZXRyeS5pc0J1ZmZlckdlb21ldHJ5KXt2YXIgcG9zaXRpb24saW5kaWNlcyxncm91cHM7dmFyIGdyb3VwLHN0YXJ0LGNvdW50O3ZhciBpbmRleDEsaW5kZXgyO3ZlcnRleD1uZXcgVmVjdG9yMygpO2lmKGdlb21ldHJ5LmluZGV4IT09bnVsbCl7Ly8gaW5kZXhlZCBCdWZmZXJHZW9tZXRyeQpwb3NpdGlvbj1nZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uO2luZGljZXM9Z2VvbWV0cnkuaW5kZXg7Z3JvdXBzPWdlb21ldHJ5Lmdyb3VwcztpZihncm91cHMubGVuZ3RoPT09MCl7Z3JvdXBzPVt7c3RhcnQ6MCxjb3VudDppbmRpY2VzLmNvdW50LG1hdGVyaWFsSW5kZXg6MH1dO30vLyBjcmVhdGUgYSBkYXRhIHN0cnVjdHVyZSB0aGF0IGNvbnRhaW5zIGFsbCBlZ2VzIHdpdGhvdXQgZHVwbGljYXRlcwpmb3Iobz0wLG9sPWdyb3Vwcy5sZW5ndGg7bzxvbDsrK28pe2dyb3VwPWdyb3Vwc1tvXTtzdGFydD1ncm91cC5zdGFydDtjb3VudD1ncm91cC5jb3VudDtmb3IoaT1zdGFydCxsPXN0YXJ0K2NvdW50O2k8bDtpKz0zKXtmb3Ioaj0wO2o8MztqKyspe2VkZ2UxPWluZGljZXMuZ2V0WChpK2opO2VkZ2UyPWluZGljZXMuZ2V0WChpKyhqKzEpJTMpO2VkZ2VbMF09TWF0aC5taW4oZWRnZTEsZWRnZTIpOy8vIHNvcnRpbmcgcHJldmVudHMgZHVwbGljYXRlcwplZGdlWzFdPU1hdGgubWF4KGVkZ2UxLGVkZ2UyKTtrZXk9ZWRnZVswXSsnLCcrZWRnZVsxXTtpZihlZGdlc1trZXldPT09dW5kZWZpbmVkKXtlZGdlc1trZXldPXtpbmRleDE6ZWRnZVswXSxpbmRleDI6ZWRnZVsxXX07fX19fS8vIGdlbmVyYXRlIHZlcnRpY2VzCmZvcihrZXkgaW4gZWRnZXMpe2U9ZWRnZXNba2V5XTt2ZXJ0ZXguZnJvbUJ1ZmZlckF0dHJpYnV0ZShwb3NpdGlvbixlLmluZGV4MSk7dmVydGljZXMucHVzaCh2ZXJ0ZXgueCx2ZXJ0ZXgueSx2ZXJ0ZXgueik7dmVydGV4LmZyb21CdWZmZXJBdHRyaWJ1dGUocG9zaXRpb24sZS5pbmRleDIpO3ZlcnRpY2VzLnB1c2godmVydGV4LngsdmVydGV4LnksdmVydGV4LnopO319ZWxzZXsvLyBub24taW5kZXhlZCBCdWZmZXJHZW9tZXRyeQpwb3NpdGlvbj1nZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uO2ZvcihpPTAsbD1wb3NpdGlvbi5jb3VudC8zO2k8bDtpKyspe2ZvcihqPTA7ajwzO2orKyl7Ly8gdGhyZWUgZWRnZXMgcGVyIHRyaWFuZ2xlLCBhbiBlZGdlIGlzIHJlcHJlc2VudGVkIGFzIChpbmRleDEsIGluZGV4MikKLy8gZS5nLiB0aGUgZmlyc3QgdHJpYW5nbGUgaGFzIHRoZSBmb2xsb3dpbmcgZWRnZXM6ICgwLDEpLCgxLDIpLCgyLDApCmluZGV4MT0zKmkrajt2ZXJ0ZXguZnJvbUJ1ZmZlckF0dHJpYnV0ZShwb3NpdGlvbixpbmRleDEpO3ZlcnRpY2VzLnB1c2godmVydGV4LngsdmVydGV4LnksdmVydGV4LnopO2luZGV4Mj0zKmkrKGorMSklMzt2ZXJ0ZXguZnJvbUJ1ZmZlckF0dHJpYnV0ZShwb3NpdGlvbixpbmRleDIpO3ZlcnRpY2VzLnB1c2godmVydGV4LngsdmVydGV4LnksdmVydGV4LnopO319fX0vLyBidWlsZCBnZW9tZXRyeQp0aGlzLnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKHZlcnRpY2VzLDMpKTt9V2lyZWZyYW1lR2VvbWV0cnkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoQnVmZmVyR2VvbWV0cnkucHJvdG90eXBlKTtXaXJlZnJhbWVHZW9tZXRyeS5wcm90b3R5cGUuY29uc3RydWN0b3I9V2lyZWZyYW1lR2VvbWV0cnk7LyoqCiAgICogQGF1dGhvciB6ejg1IC8gaHR0cHM6Ly9naXRodWIuY29tL3p6ODUKICAgKiBAYXV0aG9yIE11Z2VuODcgLyBodHRwczovL2dpdGh1Yi5jb20vTXVnZW44NwogICAqCiAgICogUGFyYW1ldHJpYyBTdXJmYWNlcyBHZW9tZXRyeQogICAqIGJhc2VkIG9uIHRoZSBicmlsbGlhbnQgYXJ0aWNsZSBieSBAcHJpZGVvdXQgaHR0cDovL3ByaWRlb3V0Lm5ldC9ibG9nLz9wPTQ0CiAgICovIC8vIFBhcmFtZXRyaWNHZW9tZXRyeQpmdW5jdGlvbiBQYXJhbWV0cmljR2VvbWV0cnkoZnVuYyxzbGljZXMsc3RhY2tzKXtHZW9tZXRyeS5jYWxsKHRoaXMpO3RoaXMudHlwZT0nUGFyYW1ldHJpY0dlb21ldHJ5Jzt0aGlzLnBhcmFtZXRlcnM9e2Z1bmM6ZnVuYyxzbGljZXM6c2xpY2VzLHN0YWNrczpzdGFja3N9O3RoaXMuZnJvbUJ1ZmZlckdlb21ldHJ5KG5ldyBQYXJhbWV0cmljQnVmZmVyR2VvbWV0cnkoZnVuYyxzbGljZXMsc3RhY2tzKSk7dGhpcy5tZXJnZVZlcnRpY2VzKCk7fVBhcmFtZXRyaWNHZW9tZXRyeS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShHZW9tZXRyeS5wcm90b3R5cGUpO1BhcmFtZXRyaWNHZW9tZXRyeS5wcm90b3R5cGUuY29uc3RydWN0b3I9UGFyYW1ldHJpY0dlb21ldHJ5Oy8vIFBhcmFtZXRyaWNCdWZmZXJHZW9tZXRyeQpmdW5jdGlvbiBQYXJhbWV0cmljQnVmZmVyR2VvbWV0cnkoZnVuYyxzbGljZXMsc3RhY2tzKXtCdWZmZXJHZW9tZXRyeS5jYWxsKHRoaXMpO3RoaXMudHlwZT0nUGFyYW1ldHJpY0J1ZmZlckdlb21ldHJ5Jzt0aGlzLnBhcmFtZXRlcnM9e2Z1bmM6ZnVuYyxzbGljZXM6c2xpY2VzLHN0YWNrczpzdGFja3N9Oy8vIGJ1ZmZlcnMKdmFyIGluZGljZXM9W107dmFyIHZlcnRpY2VzPVtdO3ZhciBub3JtYWxzPVtdO3ZhciB1dnM9W107dmFyIEVQUz0wLjAwMDAxO3ZhciBub3JtYWw9bmV3IFZlY3RvcjMoKTt2YXIgcDA9bmV3IFZlY3RvcjMoKSxwMT1uZXcgVmVjdG9yMygpO3ZhciBwdT1uZXcgVmVjdG9yMygpLHB2PW5ldyBWZWN0b3IzKCk7dmFyIGksajtpZihmdW5jLmxlbmd0aDwzKXtjb25zb2xlLmVycm9yKCdUSFJFRS5QYXJhbWV0cmljR2VvbWV0cnk6IEZ1bmN0aW9uIG11c3Qgbm93IG1vZGlmeSBhIFZlY3RvcjMgYXMgdGhpcmQgcGFyYW1ldGVyLicpO30vLyBnZW5lcmF0ZSB2ZXJ0aWNlcywgbm9ybWFscyBhbmQgdXZzCnZhciBzbGljZUNvdW50PXNsaWNlcysxO2ZvcihpPTA7aTw9c3RhY2tzO2krKyl7dmFyIHY9aS9zdGFja3M7Zm9yKGo9MDtqPD1zbGljZXM7aisrKXt2YXIgdT1qL3NsaWNlczsvLyB2ZXJ0ZXgKZnVuYyh1LHYscDApO3ZlcnRpY2VzLnB1c2gocDAueCxwMC55LHAwLnopOy8vIG5vcm1hbAovLyBhcHByb3hpbWF0ZSB0YW5nZW50IHZlY3RvcnMgdmlhIGZpbml0ZSBkaWZmZXJlbmNlcwppZih1LUVQUz49MCl7ZnVuYyh1LUVQUyx2LHAxKTtwdS5zdWJWZWN0b3JzKHAwLHAxKTt9ZWxzZXtmdW5jKHUrRVBTLHYscDEpO3B1LnN1YlZlY3RvcnMocDEscDApO31pZih2LUVQUz49MCl7ZnVuYyh1LHYtRVBTLHAxKTtwdi5zdWJWZWN0b3JzKHAwLHAxKTt9ZWxzZXtmdW5jKHUsditFUFMscDEpO3B2LnN1YlZlY3RvcnMocDEscDApO30vLyBjcm9zcyBwcm9kdWN0IG9mIHRhbmdlbnQgdmVjdG9ycyByZXR1cm5zIHN1cmZhY2Ugbm9ybWFsCm5vcm1hbC5jcm9zc1ZlY3RvcnMocHUscHYpLm5vcm1hbGl6ZSgpO25vcm1hbHMucHVzaChub3JtYWwueCxub3JtYWwueSxub3JtYWwueik7Ly8gdXYKdXZzLnB1c2godSx2KTt9fS8vIGdlbmVyYXRlIGluZGljZXMKZm9yKGk9MDtpPHN0YWNrcztpKyspe2ZvcihqPTA7ajxzbGljZXM7aisrKXt2YXIgYT1pKnNsaWNlQ291bnQrajt2YXIgYj1pKnNsaWNlQ291bnQraisxO3ZhciBjPShpKzEpKnNsaWNlQ291bnQraisxO3ZhciBkPShpKzEpKnNsaWNlQ291bnQrajsvLyBmYWNlcyBvbmUgYW5kIHR3bwppbmRpY2VzLnB1c2goYSxiLGQpO2luZGljZXMucHVzaChiLGMsZCk7fX0vLyBidWlsZCBnZW9tZXRyeQp0aGlzLnNldEluZGV4KGluZGljZXMpO3RoaXMuc2V0QXR0cmlidXRlKCdwb3NpdGlvbicsbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUodmVydGljZXMsMykpO3RoaXMuc2V0QXR0cmlidXRlKCdub3JtYWwnLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKG5vcm1hbHMsMykpO3RoaXMuc2V0QXR0cmlidXRlKCd1dicsbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUodXZzLDIpKTt9UGFyYW1ldHJpY0J1ZmZlckdlb21ldHJ5LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEJ1ZmZlckdlb21ldHJ5LnByb3RvdHlwZSk7UGFyYW1ldHJpY0J1ZmZlckdlb21ldHJ5LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1QYXJhbWV0cmljQnVmZmVyR2VvbWV0cnk7LyoqCiAgICogQGF1dGhvciBjbG9ja3dvcmtnZWVrIC8gaHR0cHM6Ly9naXRodWIuY29tL2Nsb2Nrd29ya2dlZWsKICAgKiBAYXV0aG9yIHRpbW90aHlwcmF0bGV5IC8gaHR0cHM6Ly9naXRodWIuY29tL3RpbW90aHlwcmF0bGV5CiAgICogQGF1dGhvciBXZXN0TGFuZ2xleSAvIGh0dHA6Ly9naXRodWIuY29tL1dlc3RMYW5nbGV5CiAgICogQGF1dGhvciBNdWdlbjg3IC8gaHR0cHM6Ly9naXRodWIuY29tL011Z2VuODcKICAgKi8gLy8gUG9seWhlZHJvbkdlb21ldHJ5CmZ1bmN0aW9uIFBvbHloZWRyb25HZW9tZXRyeSh2ZXJ0aWNlcyxpbmRpY2VzLHJhZGl1cyxkZXRhaWwpe0dlb21ldHJ5LmNhbGwodGhpcyk7dGhpcy50eXBlPSdQb2x5aGVkcm9uR2VvbWV0cnknO3RoaXMucGFyYW1ldGVycz17dmVydGljZXM6dmVydGljZXMsaW5kaWNlczppbmRpY2VzLHJhZGl1czpyYWRpdXMsZGV0YWlsOmRldGFpbH07dGhpcy5mcm9tQnVmZmVyR2VvbWV0cnkobmV3IFBvbHloZWRyb25CdWZmZXJHZW9tZXRyeSh2ZXJ0aWNlcyxpbmRpY2VzLHJhZGl1cyxkZXRhaWwpKTt0aGlzLm1lcmdlVmVydGljZXMoKTt9UG9seWhlZHJvbkdlb21ldHJ5LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEdlb21ldHJ5LnByb3RvdHlwZSk7UG9seWhlZHJvbkdlb21ldHJ5LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1Qb2x5aGVkcm9uR2VvbWV0cnk7Ly8gUG9seWhlZHJvbkJ1ZmZlckdlb21ldHJ5CmZ1bmN0aW9uIFBvbHloZWRyb25CdWZmZXJHZW9tZXRyeSh2ZXJ0aWNlcyxpbmRpY2VzLHJhZGl1cyxkZXRhaWwpe0J1ZmZlckdlb21ldHJ5LmNhbGwodGhpcyk7dGhpcy50eXBlPSdQb2x5aGVkcm9uQnVmZmVyR2VvbWV0cnknO3RoaXMucGFyYW1ldGVycz17dmVydGljZXM6dmVydGljZXMsaW5kaWNlczppbmRpY2VzLHJhZGl1czpyYWRpdXMsZGV0YWlsOmRldGFpbH07cmFkaXVzPXJhZGl1c3x8MTtkZXRhaWw9ZGV0YWlsfHwwOy8vIGRlZmF1bHQgYnVmZmVyIGRhdGEKdmFyIHZlcnRleEJ1ZmZlcj1bXTt2YXIgdXZCdWZmZXI9W107Ly8gdGhlIHN1YmRpdmlzaW9uIGNyZWF0ZXMgdGhlIHZlcnRleCBidWZmZXIgZGF0YQpzdWJkaXZpZGUoZGV0YWlsKTsvLyBhbGwgdmVydGljZXMgc2hvdWxkIGxpZSBvbiBhIGNvbmNlcHR1YWwgc3BoZXJlIHdpdGggYSBnaXZlbiByYWRpdXMKYXBwbHlSYWRpdXMocmFkaXVzKTsvLyBmaW5hbGx5LCBjcmVhdGUgdGhlIHV2IGRhdGEKZ2VuZXJhdGVVVnMoKTsvLyBidWlsZCBub24taW5kZXhlZCBnZW9tZXRyeQp0aGlzLnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKHZlcnRleEJ1ZmZlciwzKSk7dGhpcy5zZXRBdHRyaWJ1dGUoJ25vcm1hbCcsbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUodmVydGV4QnVmZmVyLnNsaWNlKCksMykpO3RoaXMuc2V0QXR0cmlidXRlKCd1dicsbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUodXZCdWZmZXIsMikpO2lmKGRldGFpbD09PTApe3RoaXMuY29tcHV0ZVZlcnRleE5vcm1hbHMoKTsvLyBmbGF0IG5vcm1hbHMKfWVsc2V7dGhpcy5ub3JtYWxpemVOb3JtYWxzKCk7Ly8gc21vb3RoIG5vcm1hbHMKfS8vIGhlbHBlciBmdW5jdGlvbnMKZnVuY3Rpb24gc3ViZGl2aWRlKGRldGFpbCl7dmFyIGE9bmV3IFZlY3RvcjMoKTt2YXIgYj1uZXcgVmVjdG9yMygpO3ZhciBjPW5ldyBWZWN0b3IzKCk7Ly8gaXRlcmF0ZSBvdmVyIGFsbCBmYWNlcyBhbmQgYXBwbHkgYSBzdWJkaXZpc29uIHdpdGggdGhlIGdpdmVuIGRldGFpbCB2YWx1ZQpmb3IodmFyIGk9MDtpPGluZGljZXMubGVuZ3RoO2krPTMpey8vIGdldCB0aGUgdmVydGljZXMgb2YgdGhlIGZhY2UKZ2V0VmVydGV4QnlJbmRleChpbmRpY2VzW2krMF0sYSk7Z2V0VmVydGV4QnlJbmRleChpbmRpY2VzW2krMV0sYik7Z2V0VmVydGV4QnlJbmRleChpbmRpY2VzW2krMl0sYyk7Ly8gcGVyZm9ybSBzdWJkaXZpc2lvbgpzdWJkaXZpZGVGYWNlKGEsYixjLGRldGFpbCk7fX1mdW5jdGlvbiBzdWJkaXZpZGVGYWNlKGEsYixjLGRldGFpbCl7dmFyIGNvbHM9TWF0aC5wb3coMixkZXRhaWwpOy8vIHdlIHVzZSB0aGlzIG11bHRpZGltZW5zaW9uYWwgYXJyYXkgYXMgYSBkYXRhIHN0cnVjdHVyZSBmb3IgY3JlYXRpbmcgdGhlIHN1YmRpdmlzaW9uCnZhciB2PVtdO3ZhciBpLGo7Ly8gY29uc3RydWN0IGFsbCBvZiB0aGUgdmVydGljZXMgZm9yIHRoaXMgc3ViZGl2aXNpb24KZm9yKGk9MDtpPD1jb2xzO2krKyl7dltpXT1bXTt2YXIgYWo9YS5jbG9uZSgpLmxlcnAoYyxpL2NvbHMpO3ZhciBiaj1iLmNsb25lKCkubGVycChjLGkvY29scyk7dmFyIHJvd3M9Y29scy1pO2ZvcihqPTA7ajw9cm93cztqKyspe2lmKGo9PT0wJiZpPT09Y29scyl7dltpXVtqXT1hajt9ZWxzZXt2W2ldW2pdPWFqLmNsb25lKCkubGVycChiaixqL3Jvd3MpO319fS8vIGNvbnN0cnVjdCBhbGwgb2YgdGhlIGZhY2VzCmZvcihpPTA7aTxjb2xzO2krKyl7Zm9yKGo9MDtqPDIqKGNvbHMtaSktMTtqKyspe3ZhciBrPU1hdGguZmxvb3Ioai8yKTtpZihqJTI9PT0wKXtwdXNoVmVydGV4KHZbaV1baysxXSk7cHVzaFZlcnRleCh2W2krMV1ba10pO3B1c2hWZXJ0ZXgodltpXVtrXSk7fWVsc2V7cHVzaFZlcnRleCh2W2ldW2srMV0pO3B1c2hWZXJ0ZXgodltpKzFdW2srMV0pO3B1c2hWZXJ0ZXgodltpKzFdW2tdKTt9fX19ZnVuY3Rpb24gYXBwbHlSYWRpdXMocmFkaXVzKXt2YXIgdmVydGV4PW5ldyBWZWN0b3IzKCk7Ly8gaXRlcmF0ZSBvdmVyIHRoZSBlbnRpcmUgYnVmZmVyIGFuZCBhcHBseSB0aGUgcmFkaXVzIHRvIGVhY2ggdmVydGV4CmZvcih2YXIgaT0wO2k8dmVydGV4QnVmZmVyLmxlbmd0aDtpKz0zKXt2ZXJ0ZXgueD12ZXJ0ZXhCdWZmZXJbaSswXTt2ZXJ0ZXgueT12ZXJ0ZXhCdWZmZXJbaSsxXTt2ZXJ0ZXguej12ZXJ0ZXhCdWZmZXJbaSsyXTt2ZXJ0ZXgubm9ybWFsaXplKCkubXVsdGlwbHlTY2FsYXIocmFkaXVzKTt2ZXJ0ZXhCdWZmZXJbaSswXT12ZXJ0ZXgueDt2ZXJ0ZXhCdWZmZXJbaSsxXT12ZXJ0ZXgueTt2ZXJ0ZXhCdWZmZXJbaSsyXT12ZXJ0ZXguejt9fWZ1bmN0aW9uIGdlbmVyYXRlVVZzKCl7dmFyIHZlcnRleD1uZXcgVmVjdG9yMygpO2Zvcih2YXIgaT0wO2k8dmVydGV4QnVmZmVyLmxlbmd0aDtpKz0zKXt2ZXJ0ZXgueD12ZXJ0ZXhCdWZmZXJbaSswXTt2ZXJ0ZXgueT12ZXJ0ZXhCdWZmZXJbaSsxXTt2ZXJ0ZXguej12ZXJ0ZXhCdWZmZXJbaSsyXTt2YXIgdT1hemltdXRoKHZlcnRleCkvMi9NYXRoLlBJKzAuNTt2YXIgdj1pbmNsaW5hdGlvbih2ZXJ0ZXgpL01hdGguUEkrMC41O3V2QnVmZmVyLnB1c2godSwxLXYpO31jb3JyZWN0VVZzKCk7Y29ycmVjdFNlYW0oKTt9ZnVuY3Rpb24gY29ycmVjdFNlYW0oKXsvLyBoYW5kbGUgY2FzZSB3aGVuIGZhY2Ugc3RyYWRkbGVzIHRoZSBzZWFtLCBzZWUgIzMyNjkKZm9yKHZhciBpPTA7aTx1dkJ1ZmZlci5sZW5ndGg7aSs9Nil7Ly8gdXYgZGF0YSBvZiBhIHNpbmdsZSBmYWNlCnZhciB4MD11dkJ1ZmZlcltpKzBdO3ZhciB4MT11dkJ1ZmZlcltpKzJdO3ZhciB4Mj11dkJ1ZmZlcltpKzRdO3ZhciBtYXg9TWF0aC5tYXgoeDAseDEseDIpO3ZhciBtaW49TWF0aC5taW4oeDAseDEseDIpOy8vIDAuOSBpcyBzb21ld2hhdCBhcmJpdHJhcnkKaWYobWF4PjAuOSYmbWluPDAuMSl7aWYoeDA8MC4yKXt1dkJ1ZmZlcltpKzBdKz0xO31pZih4MTwwLjIpe3V2QnVmZmVyW2krMl0rPTE7fWlmKHgyPDAuMil7dXZCdWZmZXJbaSs0XSs9MTt9fX19ZnVuY3Rpb24gcHVzaFZlcnRleCh2ZXJ0ZXgpe3ZlcnRleEJ1ZmZlci5wdXNoKHZlcnRleC54LHZlcnRleC55LHZlcnRleC56KTt9ZnVuY3Rpb24gZ2V0VmVydGV4QnlJbmRleChpbmRleCx2ZXJ0ZXgpe3ZhciBzdHJpZGU9aW5kZXgqMzt2ZXJ0ZXgueD12ZXJ0aWNlc1tzdHJpZGUrMF07dmVydGV4Lnk9dmVydGljZXNbc3RyaWRlKzFdO3ZlcnRleC56PXZlcnRpY2VzW3N0cmlkZSsyXTt9ZnVuY3Rpb24gY29ycmVjdFVWcygpe3ZhciBhPW5ldyBWZWN0b3IzKCk7dmFyIGI9bmV3IFZlY3RvcjMoKTt2YXIgYz1uZXcgVmVjdG9yMygpO3ZhciBjZW50cm9pZD1uZXcgVmVjdG9yMygpO3ZhciB1dkE9bmV3IFZlY3RvcjIoKTt2YXIgdXZCPW5ldyBWZWN0b3IyKCk7dmFyIHV2Qz1uZXcgVmVjdG9yMigpO2Zvcih2YXIgaT0wLGo9MDtpPHZlcnRleEJ1ZmZlci5sZW5ndGg7aSs9OSxqKz02KXthLnNldCh2ZXJ0ZXhCdWZmZXJbaSswXSx2ZXJ0ZXhCdWZmZXJbaSsxXSx2ZXJ0ZXhCdWZmZXJbaSsyXSk7Yi5zZXQodmVydGV4QnVmZmVyW2krM10sdmVydGV4QnVmZmVyW2krNF0sdmVydGV4QnVmZmVyW2krNV0pO2Muc2V0KHZlcnRleEJ1ZmZlcltpKzZdLHZlcnRleEJ1ZmZlcltpKzddLHZlcnRleEJ1ZmZlcltpKzhdKTt1dkEuc2V0KHV2QnVmZmVyW2orMF0sdXZCdWZmZXJbaisxXSk7dXZCLnNldCh1dkJ1ZmZlcltqKzJdLHV2QnVmZmVyW2orM10pO3V2Qy5zZXQodXZCdWZmZXJbais0XSx1dkJ1ZmZlcltqKzVdKTtjZW50cm9pZC5jb3B5KGEpLmFkZChiKS5hZGQoYykuZGl2aWRlU2NhbGFyKDMpO3ZhciBhemk9YXppbXV0aChjZW50cm9pZCk7Y29ycmVjdFVWKHV2QSxqKzAsYSxhemkpO2NvcnJlY3RVVih1dkIsaisyLGIsYXppKTtjb3JyZWN0VVYodXZDLGorNCxjLGF6aSk7fX1mdW5jdGlvbiBjb3JyZWN0VVYodXYsc3RyaWRlLHZlY3RvcixhemltdXRoKXtpZihhemltdXRoPDAmJnV2Lng9PT0xKXt1dkJ1ZmZlcltzdHJpZGVdPXV2LngtMTt9aWYodmVjdG9yLng9PT0wJiZ2ZWN0b3Iuej09PTApe3V2QnVmZmVyW3N0cmlkZV09YXppbXV0aC8yL01hdGguUEkrMC41O319Ly8gQW5nbGUgYXJvdW5kIHRoZSBZIGF4aXMsIGNvdW50ZXItY2xvY2t3aXNlIHdoZW4gbG9va2luZyBmcm9tIGFib3ZlLgpmdW5jdGlvbiBhemltdXRoKHZlY3Rvcil7cmV0dXJuIE1hdGguYXRhbjIodmVjdG9yLnosLXZlY3Rvci54KTt9Ly8gQW5nbGUgYWJvdmUgdGhlIFhaIHBsYW5lLgpmdW5jdGlvbiBpbmNsaW5hdGlvbih2ZWN0b3Ipe3JldHVybiBNYXRoLmF0YW4yKC12ZWN0b3IueSxNYXRoLnNxcnQodmVjdG9yLngqdmVjdG9yLngrdmVjdG9yLnoqdmVjdG9yLnopKTt9fVBvbHloZWRyb25CdWZmZXJHZW9tZXRyeS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShCdWZmZXJHZW9tZXRyeS5wcm90b3R5cGUpO1BvbHloZWRyb25CdWZmZXJHZW9tZXRyeS5wcm90b3R5cGUuY29uc3RydWN0b3I9UG9seWhlZHJvbkJ1ZmZlckdlb21ldHJ5Oy8qKgogICAqIEBhdXRob3IgdGltb3RoeXByYXRsZXkgLyBodHRwczovL2dpdGh1Yi5jb20vdGltb3RoeXByYXRsZXkKICAgKiBAYXV0aG9yIE11Z2VuODcgLyBodHRwczovL2dpdGh1Yi5jb20vTXVnZW44NwogICAqLyAvLyBUZXRyYWhlZHJvbkdlb21ldHJ5CmZ1bmN0aW9uIFRldHJhaGVkcm9uR2VvbWV0cnkocmFkaXVzLGRldGFpbCl7R2VvbWV0cnkuY2FsbCh0aGlzKTt0aGlzLnR5cGU9J1RldHJhaGVkcm9uR2VvbWV0cnknO3RoaXMucGFyYW1ldGVycz17cmFkaXVzOnJhZGl1cyxkZXRhaWw6ZGV0YWlsfTt0aGlzLmZyb21CdWZmZXJHZW9tZXRyeShuZXcgVGV0cmFoZWRyb25CdWZmZXJHZW9tZXRyeShyYWRpdXMsZGV0YWlsKSk7dGhpcy5tZXJnZVZlcnRpY2VzKCk7fVRldHJhaGVkcm9uR2VvbWV0cnkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoR2VvbWV0cnkucHJvdG90eXBlKTtUZXRyYWhlZHJvbkdlb21ldHJ5LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1UZXRyYWhlZHJvbkdlb21ldHJ5Oy8vIFRldHJhaGVkcm9uQnVmZmVyR2VvbWV0cnkKZnVuY3Rpb24gVGV0cmFoZWRyb25CdWZmZXJHZW9tZXRyeShyYWRpdXMsZGV0YWlsKXt2YXIgdmVydGljZXM9WzEsMSwxLC0xLC0xLDEsLTEsMSwtMSwxLC0xLC0xXTt2YXIgaW5kaWNlcz1bMiwxLDAsMCwzLDIsMSwzLDAsMiwzLDFdO1BvbHloZWRyb25CdWZmZXJHZW9tZXRyeS5jYWxsKHRoaXMsdmVydGljZXMsaW5kaWNlcyxyYWRpdXMsZGV0YWlsKTt0aGlzLnR5cGU9J1RldHJhaGVkcm9uQnVmZmVyR2VvbWV0cnknO3RoaXMucGFyYW1ldGVycz17cmFkaXVzOnJhZGl1cyxkZXRhaWw6ZGV0YWlsfTt9VGV0cmFoZWRyb25CdWZmZXJHZW9tZXRyeS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShQb2x5aGVkcm9uQnVmZmVyR2VvbWV0cnkucHJvdG90eXBlKTtUZXRyYWhlZHJvbkJ1ZmZlckdlb21ldHJ5LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1UZXRyYWhlZHJvbkJ1ZmZlckdlb21ldHJ5Oy8qKgogICAqIEBhdXRob3IgdGltb3RoeXByYXRsZXkgLyBodHRwczovL2dpdGh1Yi5jb20vdGltb3RoeXByYXRsZXkKICAgKiBAYXV0aG9yIE11Z2VuODcgLyBodHRwczovL2dpdGh1Yi5jb20vTXVnZW44NwogICAqLyAvLyBPY3RhaGVkcm9uR2VvbWV0cnkKZnVuY3Rpb24gT2N0YWhlZHJvbkdlb21ldHJ5KHJhZGl1cyxkZXRhaWwpe0dlb21ldHJ5LmNhbGwodGhpcyk7dGhpcy50eXBlPSdPY3RhaGVkcm9uR2VvbWV0cnknO3RoaXMucGFyYW1ldGVycz17cmFkaXVzOnJhZGl1cyxkZXRhaWw6ZGV0YWlsfTt0aGlzLmZyb21CdWZmZXJHZW9tZXRyeShuZXcgT2N0YWhlZHJvbkJ1ZmZlckdlb21ldHJ5KHJhZGl1cyxkZXRhaWwpKTt0aGlzLm1lcmdlVmVydGljZXMoKTt9T2N0YWhlZHJvbkdlb21ldHJ5LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEdlb21ldHJ5LnByb3RvdHlwZSk7T2N0YWhlZHJvbkdlb21ldHJ5LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1PY3RhaGVkcm9uR2VvbWV0cnk7Ly8gT2N0YWhlZHJvbkJ1ZmZlckdlb21ldHJ5CmZ1bmN0aW9uIE9jdGFoZWRyb25CdWZmZXJHZW9tZXRyeShyYWRpdXMsZGV0YWlsKXt2YXIgdmVydGljZXM9WzEsMCwwLC0xLDAsMCwwLDEsMCwwLC0xLDAsMCwwLDEsMCwwLC0xXTt2YXIgaW5kaWNlcz1bMCwyLDQsMCw0LDMsMCwzLDUsMCw1LDIsMSwyLDUsMSw1LDMsMSwzLDQsMSw0LDJdO1BvbHloZWRyb25CdWZmZXJHZW9tZXRyeS5jYWxsKHRoaXMsdmVydGljZXMsaW5kaWNlcyxyYWRpdXMsZGV0YWlsKTt0aGlzLnR5cGU9J09jdGFoZWRyb25CdWZmZXJHZW9tZXRyeSc7dGhpcy5wYXJhbWV0ZXJzPXtyYWRpdXM6cmFkaXVzLGRldGFpbDpkZXRhaWx9O31PY3RhaGVkcm9uQnVmZmVyR2VvbWV0cnkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoUG9seWhlZHJvbkJ1ZmZlckdlb21ldHJ5LnByb3RvdHlwZSk7T2N0YWhlZHJvbkJ1ZmZlckdlb21ldHJ5LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1PY3RhaGVkcm9uQnVmZmVyR2VvbWV0cnk7LyoqCiAgICogQGF1dGhvciB0aW1vdGh5cHJhdGxleSAvIGh0dHBzOi8vZ2l0aHViLmNvbS90aW1vdGh5cHJhdGxleQogICAqIEBhdXRob3IgTXVnZW44NyAvIGh0dHBzOi8vZ2l0aHViLmNvbS9NdWdlbjg3CiAgICovIC8vIEljb3NhaGVkcm9uR2VvbWV0cnkKZnVuY3Rpb24gSWNvc2FoZWRyb25HZW9tZXRyeShyYWRpdXMsZGV0YWlsKXtHZW9tZXRyeS5jYWxsKHRoaXMpO3RoaXMudHlwZT0nSWNvc2FoZWRyb25HZW9tZXRyeSc7dGhpcy5wYXJhbWV0ZXJzPXtyYWRpdXM6cmFkaXVzLGRldGFpbDpkZXRhaWx9O3RoaXMuZnJvbUJ1ZmZlckdlb21ldHJ5KG5ldyBJY29zYWhlZHJvbkJ1ZmZlckdlb21ldHJ5KHJhZGl1cyxkZXRhaWwpKTt0aGlzLm1lcmdlVmVydGljZXMoKTt9SWNvc2FoZWRyb25HZW9tZXRyeS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShHZW9tZXRyeS5wcm90b3R5cGUpO0ljb3NhaGVkcm9uR2VvbWV0cnkucHJvdG90eXBlLmNvbnN0cnVjdG9yPUljb3NhaGVkcm9uR2VvbWV0cnk7Ly8gSWNvc2FoZWRyb25CdWZmZXJHZW9tZXRyeQpmdW5jdGlvbiBJY29zYWhlZHJvbkJ1ZmZlckdlb21ldHJ5KHJhZGl1cyxkZXRhaWwpe3ZhciB0PSgxK01hdGguc3FydCg1KSkvMjt2YXIgdmVydGljZXM9Wy0xLHQsMCwxLHQsMCwtMSwtdCwwLDEsLXQsMCwwLC0xLHQsMCwxLHQsMCwtMSwtdCwwLDEsLXQsdCwwLC0xLHQsMCwxLC10LDAsLTEsLXQsMCwxXTt2YXIgaW5kaWNlcz1bMCwxMSw1LDAsNSwxLDAsMSw3LDAsNywxMCwwLDEwLDExLDEsNSw5LDUsMTEsNCwxMSwxMCwyLDEwLDcsNiw3LDEsOCwzLDksNCwzLDQsMiwzLDIsNiwzLDYsOCwzLDgsOSw0LDksNSwyLDQsMTEsNiwyLDEwLDgsNiw3LDksOCwxXTtQb2x5aGVkcm9uQnVmZmVyR2VvbWV0cnkuY2FsbCh0aGlzLHZlcnRpY2VzLGluZGljZXMscmFkaXVzLGRldGFpbCk7dGhpcy50eXBlPSdJY29zYWhlZHJvbkJ1ZmZlckdlb21ldHJ5Jzt0aGlzLnBhcmFtZXRlcnM9e3JhZGl1czpyYWRpdXMsZGV0YWlsOmRldGFpbH07fUljb3NhaGVkcm9uQnVmZmVyR2VvbWV0cnkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoUG9seWhlZHJvbkJ1ZmZlckdlb21ldHJ5LnByb3RvdHlwZSk7SWNvc2FoZWRyb25CdWZmZXJHZW9tZXRyeS5wcm90b3R5cGUuY29uc3RydWN0b3I9SWNvc2FoZWRyb25CdWZmZXJHZW9tZXRyeTsvKioKICAgKiBAYXV0aG9yIEFiZSBQYXpvcyAvIGh0dHBzOi8vaGFtb2lkLmNvbQogICAqIEBhdXRob3IgTXVnZW44NyAvIGh0dHBzOi8vZ2l0aHViLmNvbS9NdWdlbjg3CiAgICovIC8vIERvZGVjYWhlZHJvbkdlb21ldHJ5CmZ1bmN0aW9uIERvZGVjYWhlZHJvbkdlb21ldHJ5KHJhZGl1cyxkZXRhaWwpe0dlb21ldHJ5LmNhbGwodGhpcyk7dGhpcy50eXBlPSdEb2RlY2FoZWRyb25HZW9tZXRyeSc7dGhpcy5wYXJhbWV0ZXJzPXtyYWRpdXM6cmFkaXVzLGRldGFpbDpkZXRhaWx9O3RoaXMuZnJvbUJ1ZmZlckdlb21ldHJ5KG5ldyBEb2RlY2FoZWRyb25CdWZmZXJHZW9tZXRyeShyYWRpdXMsZGV0YWlsKSk7dGhpcy5tZXJnZVZlcnRpY2VzKCk7fURvZGVjYWhlZHJvbkdlb21ldHJ5LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEdlb21ldHJ5LnByb3RvdHlwZSk7RG9kZWNhaGVkcm9uR2VvbWV0cnkucHJvdG90eXBlLmNvbnN0cnVjdG9yPURvZGVjYWhlZHJvbkdlb21ldHJ5Oy8vIERvZGVjYWhlZHJvbkJ1ZmZlckdlb21ldHJ5CmZ1bmN0aW9uIERvZGVjYWhlZHJvbkJ1ZmZlckdlb21ldHJ5KHJhZGl1cyxkZXRhaWwpe3ZhciB0PSgxK01hdGguc3FydCg1KSkvMjt2YXIgcj0xL3Q7dmFyIHZlcnRpY2VzPVsvLyAowrExLCDCsTEsIMKxMSkKLTEsLTEsLTEsLTEsLTEsMSwtMSwxLC0xLC0xLDEsMSwxLC0xLC0xLDEsLTEsMSwxLDEsLTEsMSwxLDEsLy8gKDAsIMKxMS/PhiwgwrHPhikKMCwtciwtdCwwLC1yLHQsMCxyLC10LDAscix0LC8vICjCsTEvz4YsIMKxz4YsIDApCi1yLC10LDAsLXIsdCwwLHIsLXQsMCxyLHQsMCwvLyAowrHPhiwgMCwgwrExL8+GKQotdCwwLC1yLHQsMCwtciwtdCwwLHIsdCwwLHJdO3ZhciBpbmRpY2VzPVszLDExLDcsMyw3LDE1LDMsMTUsMTMsNywxOSwxNyw3LDE3LDYsNyw2LDE1LDE3LDQsOCwxNyw4LDEwLDE3LDEwLDYsOCwwLDE2LDgsMTYsMiw4LDIsMTAsMCwxMiwxLDAsMSwxOCwwLDE4LDE2LDYsMTAsMiw2LDIsMTMsNiwxMywxNSwyLDE2LDE4LDIsMTgsMywyLDMsMTMsMTgsMSw5LDE4LDksMTEsMTgsMTEsMyw0LDE0LDEyLDQsMTIsMCw0LDAsOCwxMSw5LDUsMTEsNSwxOSwxMSwxOSw3LDE5LDUsMTQsMTksMTQsNCwxOSw0LDE3LDEsMTIsMTQsMSwxNCw1LDEsNSw5XTtQb2x5aGVkcm9uQnVmZmVyR2VvbWV0cnkuY2FsbCh0aGlzLHZlcnRpY2VzLGluZGljZXMscmFkaXVzLGRldGFpbCk7dGhpcy50eXBlPSdEb2RlY2FoZWRyb25CdWZmZXJHZW9tZXRyeSc7dGhpcy5wYXJhbWV0ZXJzPXtyYWRpdXM6cmFkaXVzLGRldGFpbDpkZXRhaWx9O31Eb2RlY2FoZWRyb25CdWZmZXJHZW9tZXRyeS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShQb2x5aGVkcm9uQnVmZmVyR2VvbWV0cnkucHJvdG90eXBlKTtEb2RlY2FoZWRyb25CdWZmZXJHZW9tZXRyeS5wcm90b3R5cGUuY29uc3RydWN0b3I9RG9kZWNhaGVkcm9uQnVmZmVyR2VvbWV0cnk7LyoqCiAgICogQGF1dGhvciBvb3Ntb3hpZWNvZGUgLyBodHRwczovL2dpdGh1Yi5jb20vb29zbW94aWVjb2RlCiAgICogQGF1dGhvciBXZXN0TGFuZ2xleSAvIGh0dHBzOi8vZ2l0aHViLmNvbS9XZXN0TGFuZ2xleQogICAqIEBhdXRob3Igeno4NSAvIGh0dHBzOi8vZ2l0aHViLmNvbS96ejg1CiAgICogQGF1dGhvciBtaW5pbmdvbGQgLyBodHRwczovL2dpdGh1Yi5jb20vbWluaW5nb2xkCiAgICogQGF1dGhvciBqb25vYnIxIC8gaHR0cHM6Ly9naXRodWIuY29tL2pvbm9icjEKICAgKiBAYXV0aG9yIE11Z2VuODcgLyBodHRwczovL2dpdGh1Yi5jb20vTXVnZW44NwogICAqCiAgICovIC8vIFR1YmVHZW9tZXRyeQpmdW5jdGlvbiBUdWJlR2VvbWV0cnkocGF0aCx0dWJ1bGFyU2VnbWVudHMscmFkaXVzLHJhZGlhbFNlZ21lbnRzLGNsb3NlZCx0YXBlcil7R2VvbWV0cnkuY2FsbCh0aGlzKTt0aGlzLnR5cGU9J1R1YmVHZW9tZXRyeSc7dGhpcy5wYXJhbWV0ZXJzPXtwYXRoOnBhdGgsdHVidWxhclNlZ21lbnRzOnR1YnVsYXJTZWdtZW50cyxyYWRpdXM6cmFkaXVzLHJhZGlhbFNlZ21lbnRzOnJhZGlhbFNlZ21lbnRzLGNsb3NlZDpjbG9zZWR9O2lmKHRhcGVyIT09dW5kZWZpbmVkKXtjb25zb2xlLndhcm4oJ1RIUkVFLlR1YmVHZW9tZXRyeTogdGFwZXIgaGFzIGJlZW4gcmVtb3ZlZC4nKTt9dmFyIGJ1ZmZlckdlb21ldHJ5PW5ldyBUdWJlQnVmZmVyR2VvbWV0cnkocGF0aCx0dWJ1bGFyU2VnbWVudHMscmFkaXVzLHJhZGlhbFNlZ21lbnRzLGNsb3NlZCk7Ly8gZXhwb3NlIGludGVybmFscwp0aGlzLnRhbmdlbnRzPWJ1ZmZlckdlb21ldHJ5LnRhbmdlbnRzO3RoaXMubm9ybWFscz1idWZmZXJHZW9tZXRyeS5ub3JtYWxzO3RoaXMuYmlub3JtYWxzPWJ1ZmZlckdlb21ldHJ5LmJpbm9ybWFsczsvLyBjcmVhdGUgZ2VvbWV0cnkKdGhpcy5mcm9tQnVmZmVyR2VvbWV0cnkoYnVmZmVyR2VvbWV0cnkpO3RoaXMubWVyZ2VWZXJ0aWNlcygpO31UdWJlR2VvbWV0cnkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoR2VvbWV0cnkucHJvdG90eXBlKTtUdWJlR2VvbWV0cnkucHJvdG90eXBlLmNvbnN0cnVjdG9yPVR1YmVHZW9tZXRyeTsvLyBUdWJlQnVmZmVyR2VvbWV0cnkKZnVuY3Rpb24gVHViZUJ1ZmZlckdlb21ldHJ5KHBhdGgsdHVidWxhclNlZ21lbnRzLHJhZGl1cyxyYWRpYWxTZWdtZW50cyxjbG9zZWQpe0J1ZmZlckdlb21ldHJ5LmNhbGwodGhpcyk7dGhpcy50eXBlPSdUdWJlQnVmZmVyR2VvbWV0cnknO3RoaXMucGFyYW1ldGVycz17cGF0aDpwYXRoLHR1YnVsYXJTZWdtZW50czp0dWJ1bGFyU2VnbWVudHMscmFkaXVzOnJhZGl1cyxyYWRpYWxTZWdtZW50czpyYWRpYWxTZWdtZW50cyxjbG9zZWQ6Y2xvc2VkfTt0dWJ1bGFyU2VnbWVudHM9dHVidWxhclNlZ21lbnRzfHw2NDtyYWRpdXM9cmFkaXVzfHwxO3JhZGlhbFNlZ21lbnRzPXJhZGlhbFNlZ21lbnRzfHw4O2Nsb3NlZD1jbG9zZWR8fGZhbHNlO3ZhciBmcmFtZXM9cGF0aC5jb21wdXRlRnJlbmV0RnJhbWVzKHR1YnVsYXJTZWdtZW50cyxjbG9zZWQpOy8vIGV4cG9zZSBpbnRlcm5hbHMKdGhpcy50YW5nZW50cz1mcmFtZXMudGFuZ2VudHM7dGhpcy5ub3JtYWxzPWZyYW1lcy5ub3JtYWxzO3RoaXMuYmlub3JtYWxzPWZyYW1lcy5iaW5vcm1hbHM7Ly8gaGVscGVyIHZhcmlhYmxlcwp2YXIgdmVydGV4PW5ldyBWZWN0b3IzKCk7dmFyIG5vcm1hbD1uZXcgVmVjdG9yMygpO3ZhciB1dj1uZXcgVmVjdG9yMigpO3ZhciBQPW5ldyBWZWN0b3IzKCk7dmFyIGksajsvLyBidWZmZXIKdmFyIHZlcnRpY2VzPVtdO3ZhciBub3JtYWxzPVtdO3ZhciB1dnM9W107dmFyIGluZGljZXM9W107Ly8gY3JlYXRlIGJ1ZmZlciBkYXRhCmdlbmVyYXRlQnVmZmVyRGF0YSgpOy8vIGJ1aWxkIGdlb21ldHJ5CnRoaXMuc2V0SW5kZXgoaW5kaWNlcyk7dGhpcy5zZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJyxuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZSh2ZXJ0aWNlcywzKSk7dGhpcy5zZXRBdHRyaWJ1dGUoJ25vcm1hbCcsbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUobm9ybWFscywzKSk7dGhpcy5zZXRBdHRyaWJ1dGUoJ3V2JyxuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZSh1dnMsMikpOy8vIGZ1bmN0aW9ucwpmdW5jdGlvbiBnZW5lcmF0ZUJ1ZmZlckRhdGEoKXtmb3IoaT0wO2k8dHVidWxhclNlZ21lbnRzO2krKyl7Z2VuZXJhdGVTZWdtZW50KGkpO30vLyBpZiB0aGUgZ2VvbWV0cnkgaXMgbm90IGNsb3NlZCwgZ2VuZXJhdGUgdGhlIGxhc3Qgcm93IG9mIHZlcnRpY2VzIGFuZCBub3JtYWxzCi8vIGF0IHRoZSByZWd1bGFyIHBvc2l0aW9uIG9uIHRoZSBnaXZlbiBwYXRoCi8vCi8vIGlmIHRoZSBnZW9tZXRyeSBpcyBjbG9zZWQsIGR1cGxpY2F0ZSB0aGUgZmlyc3Qgcm93IG9mIHZlcnRpY2VzIGFuZCBub3JtYWxzICh1dnMgd2lsbCBkaWZmZXIpCmdlbmVyYXRlU2VnbWVudChjbG9zZWQ9PT1mYWxzZT90dWJ1bGFyU2VnbWVudHM6MCk7Ly8gdXZzIGFyZSBnZW5lcmF0ZWQgaW4gYSBzZXBhcmF0ZSBmdW5jdGlvbi4KLy8gdGhpcyBtYWtlcyBpdCBlYXN5IGNvbXB1dGUgY29ycmVjdCB2YWx1ZXMgZm9yIGNsb3NlZCBnZW9tZXRyaWVzCmdlbmVyYXRlVVZzKCk7Ly8gZmluYWxseSBjcmVhdGUgZmFjZXMKZ2VuZXJhdGVJbmRpY2VzKCk7fWZ1bmN0aW9uIGdlbmVyYXRlU2VnbWVudChpKXsvLyB3ZSB1c2UgZ2V0UG9pbnRBdCB0byBzYW1wbGUgZXZlbmx5IGRpc3RyaWJ1dGVkIHBvaW50cyBmcm9tIHRoZSBnaXZlbiBwYXRoClA9cGF0aC5nZXRQb2ludEF0KGkvdHVidWxhclNlZ21lbnRzLFApOy8vIHJldHJpZXZlIGNvcnJlc3BvbmRpbmcgbm9ybWFsIGFuZCBiaW5vcm1hbAp2YXIgTj1mcmFtZXMubm9ybWFsc1tpXTt2YXIgQj1mcmFtZXMuYmlub3JtYWxzW2ldOy8vIGdlbmVyYXRlIG5vcm1hbHMgYW5kIHZlcnRpY2VzIGZvciB0aGUgY3VycmVudCBzZWdtZW50CmZvcihqPTA7ajw9cmFkaWFsU2VnbWVudHM7aisrKXt2YXIgdj1qL3JhZGlhbFNlZ21lbnRzKk1hdGguUEkqMjt2YXIgc2luPU1hdGguc2luKHYpO3ZhciBjb3M9LU1hdGguY29zKHYpOy8vIG5vcm1hbApub3JtYWwueD1jb3MqTi54K3NpbipCLng7bm9ybWFsLnk9Y29zKk4ueStzaW4qQi55O25vcm1hbC56PWNvcypOLnorc2luKkIuejtub3JtYWwubm9ybWFsaXplKCk7bm9ybWFscy5wdXNoKG5vcm1hbC54LG5vcm1hbC55LG5vcm1hbC56KTsvLyB2ZXJ0ZXgKdmVydGV4Lng9UC54K3JhZGl1cypub3JtYWwueDt2ZXJ0ZXgueT1QLnkrcmFkaXVzKm5vcm1hbC55O3ZlcnRleC56PVAueityYWRpdXMqbm9ybWFsLno7dmVydGljZXMucHVzaCh2ZXJ0ZXgueCx2ZXJ0ZXgueSx2ZXJ0ZXgueik7fX1mdW5jdGlvbiBnZW5lcmF0ZUluZGljZXMoKXtmb3Ioaj0xO2o8PXR1YnVsYXJTZWdtZW50cztqKyspe2ZvcihpPTE7aTw9cmFkaWFsU2VnbWVudHM7aSsrKXt2YXIgYT0ocmFkaWFsU2VnbWVudHMrMSkqKGotMSkrKGktMSk7dmFyIGI9KHJhZGlhbFNlZ21lbnRzKzEpKmorKGktMSk7dmFyIGM9KHJhZGlhbFNlZ21lbnRzKzEpKmoraTt2YXIgZD0ocmFkaWFsU2VnbWVudHMrMSkqKGotMSkraTsvLyBmYWNlcwppbmRpY2VzLnB1c2goYSxiLGQpO2luZGljZXMucHVzaChiLGMsZCk7fX19ZnVuY3Rpb24gZ2VuZXJhdGVVVnMoKXtmb3IoaT0wO2k8PXR1YnVsYXJTZWdtZW50cztpKyspe2ZvcihqPTA7ajw9cmFkaWFsU2VnbWVudHM7aisrKXt1di54PWkvdHVidWxhclNlZ21lbnRzO3V2Lnk9ai9yYWRpYWxTZWdtZW50czt1dnMucHVzaCh1di54LHV2LnkpO319fX1UdWJlQnVmZmVyR2VvbWV0cnkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoQnVmZmVyR2VvbWV0cnkucHJvdG90eXBlKTtUdWJlQnVmZmVyR2VvbWV0cnkucHJvdG90eXBlLmNvbnN0cnVjdG9yPVR1YmVCdWZmZXJHZW9tZXRyeTtUdWJlQnVmZmVyR2VvbWV0cnkucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3ZhciBkYXRhPUJ1ZmZlckdlb21ldHJ5LnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzKTtkYXRhLnBhdGg9dGhpcy5wYXJhbWV0ZXJzLnBhdGgudG9KU09OKCk7cmV0dXJuIGRhdGE7fTsvKioKICAgKiBAYXV0aG9yIG9vc21veGllY29kZQogICAqIEBhdXRob3IgTXVnZW44NyAvIGh0dHBzOi8vZ2l0aHViLmNvbS9NdWdlbjg3CiAgICoKICAgKiBiYXNlZCBvbiBodHRwOi8vd3d3LmJsYWNrcGF3bi5jb20vdGV4dHMvcHF0b3J1cy8KICAgKi8gLy8gVG9ydXNLbm90R2VvbWV0cnkKZnVuY3Rpb24gVG9ydXNLbm90R2VvbWV0cnkocmFkaXVzLHR1YmUsdHVidWxhclNlZ21lbnRzLHJhZGlhbFNlZ21lbnRzLHAscSxoZWlnaHRTY2FsZSl7R2VvbWV0cnkuY2FsbCh0aGlzKTt0aGlzLnR5cGU9J1RvcnVzS25vdEdlb21ldHJ5Jzt0aGlzLnBhcmFtZXRlcnM9e3JhZGl1czpyYWRpdXMsdHViZTp0dWJlLHR1YnVsYXJTZWdtZW50czp0dWJ1bGFyU2VnbWVudHMscmFkaWFsU2VnbWVudHM6cmFkaWFsU2VnbWVudHMscDpwLHE6cX07aWYoaGVpZ2h0U2NhbGUhPT11bmRlZmluZWQpe2NvbnNvbGUud2FybignVEhSRUUuVG9ydXNLbm90R2VvbWV0cnk6IGhlaWdodFNjYWxlIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAuc2NhbGUoIHgsIHksIHogKSBpbnN0ZWFkLicpO310aGlzLmZyb21CdWZmZXJHZW9tZXRyeShuZXcgVG9ydXNLbm90QnVmZmVyR2VvbWV0cnkocmFkaXVzLHR1YmUsdHVidWxhclNlZ21lbnRzLHJhZGlhbFNlZ21lbnRzLHAscSkpO3RoaXMubWVyZ2VWZXJ0aWNlcygpO31Ub3J1c0tub3RHZW9tZXRyeS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShHZW9tZXRyeS5wcm90b3R5cGUpO1RvcnVzS25vdEdlb21ldHJ5LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1Ub3J1c0tub3RHZW9tZXRyeTsvLyBUb3J1c0tub3RCdWZmZXJHZW9tZXRyeQpmdW5jdGlvbiBUb3J1c0tub3RCdWZmZXJHZW9tZXRyeShyYWRpdXMsdHViZSx0dWJ1bGFyU2VnbWVudHMscmFkaWFsU2VnbWVudHMscCxxKXtCdWZmZXJHZW9tZXRyeS5jYWxsKHRoaXMpO3RoaXMudHlwZT0nVG9ydXNLbm90QnVmZmVyR2VvbWV0cnknO3RoaXMucGFyYW1ldGVycz17cmFkaXVzOnJhZGl1cyx0dWJlOnR1YmUsdHVidWxhclNlZ21lbnRzOnR1YnVsYXJTZWdtZW50cyxyYWRpYWxTZWdtZW50czpyYWRpYWxTZWdtZW50cyxwOnAscTpxfTtyYWRpdXM9cmFkaXVzfHwxO3R1YmU9dHViZXx8MC40O3R1YnVsYXJTZWdtZW50cz1NYXRoLmZsb29yKHR1YnVsYXJTZWdtZW50cyl8fDY0O3JhZGlhbFNlZ21lbnRzPU1hdGguZmxvb3IocmFkaWFsU2VnbWVudHMpfHw4O3A9cHx8MjtxPXF8fDM7Ly8gYnVmZmVycwp2YXIgaW5kaWNlcz1bXTt2YXIgdmVydGljZXM9W107dmFyIG5vcm1hbHM9W107dmFyIHV2cz1bXTsvLyBoZWxwZXIgdmFyaWFibGVzCnZhciBpLGo7dmFyIHZlcnRleD1uZXcgVmVjdG9yMygpO3ZhciBub3JtYWw9bmV3IFZlY3RvcjMoKTt2YXIgUDE9bmV3IFZlY3RvcjMoKTt2YXIgUDI9bmV3IFZlY3RvcjMoKTt2YXIgQj1uZXcgVmVjdG9yMygpO3ZhciBUPW5ldyBWZWN0b3IzKCk7dmFyIE49bmV3IFZlY3RvcjMoKTsvLyBnZW5lcmF0ZSB2ZXJ0aWNlcywgbm9ybWFscyBhbmQgdXZzCmZvcihpPTA7aTw9dHVidWxhclNlZ21lbnRzOysraSl7Ly8gdGhlIHJhZGlhbiAidSIgaXMgdXNlZCB0byBjYWxjdWxhdGUgdGhlIHBvc2l0aW9uIG9uIHRoZSB0b3J1cyBjdXJ2ZSBvZiB0aGUgY3VycmVudCB0dWJ1bGFyIHNlZ2VtZW50CnZhciB1PWkvdHVidWxhclNlZ21lbnRzKnAqTWF0aC5QSSoyOy8vIG5vdyB3ZSBjYWxjdWxhdGUgdHdvIHBvaW50cy4gUDEgaXMgb3VyIGN1cnJlbnQgcG9zaXRpb24gb24gdGhlIGN1cnZlLCBQMiBpcyBhIGxpdHRsZSBmYXJ0aGVyIGFoZWFkLgovLyB0aGVzZSBwb2ludHMgYXJlIHVzZWQgdG8gY3JlYXRlIGEgc3BlY2lhbCAiY29vcmRpbmF0ZSBzcGFjZSIsIHdoaWNoIGlzIG5lY2Vzc2FyeSB0byBjYWxjdWxhdGUgdGhlIGNvcnJlY3QgdmVydGV4IHBvc2l0aW9ucwpjYWxjdWxhdGVQb3NpdGlvbk9uQ3VydmUodSxwLHEscmFkaXVzLFAxKTtjYWxjdWxhdGVQb3NpdGlvbk9uQ3VydmUodSswLjAxLHAscSxyYWRpdXMsUDIpOy8vIGNhbGN1bGF0ZSBvcnRob25vcm1hbCBiYXNpcwpULnN1YlZlY3RvcnMoUDIsUDEpO04uYWRkVmVjdG9ycyhQMixQMSk7Qi5jcm9zc1ZlY3RvcnMoVCxOKTtOLmNyb3NzVmVjdG9ycyhCLFQpOy8vIG5vcm1hbGl6ZSBCLCBOLiBUIGNhbiBiZSBpZ25vcmVkLCB3ZSBkb24ndCB1c2UgaXQKQi5ub3JtYWxpemUoKTtOLm5vcm1hbGl6ZSgpO2ZvcihqPTA7ajw9cmFkaWFsU2VnbWVudHM7KytqKXsvLyBub3cgY2FsY3VsYXRlIHRoZSB2ZXJ0aWNlcy4gdGhleSBhcmUgbm90aGluZyBtb3JlIHRoYW4gYW4gZXh0cnVzaW9uIG9mIHRoZSB0b3J1cyBjdXJ2ZS4KLy8gYmVjYXVzZSB3ZSBleHRydWRlIGEgc2hhcGUgaW4gdGhlIHh5LXBsYW5lLCB0aGVyZSBpcyBubyBuZWVkIHRvIGNhbGN1bGF0ZSBhIHotdmFsdWUuCnZhciB2PWovcmFkaWFsU2VnbWVudHMqTWF0aC5QSSoyO3ZhciBjeD0tdHViZSpNYXRoLmNvcyh2KTt2YXIgY3k9dHViZSpNYXRoLnNpbih2KTsvLyBub3cgY2FsY3VsYXRlIHRoZSBmaW5hbCB2ZXJ0ZXggcG9zaXRpb24uCi8vIGZpcnN0IHdlIG9yaWVudCB0aGUgZXh0cnVzaW9uIHdpdGggb3VyIGJhc2lzIHZlY3RvcywgdGhlbiB3ZSBhZGQgaXQgdG8gdGhlIGN1cnJlbnQgcG9zaXRpb24gb24gdGhlIGN1cnZlCnZlcnRleC54PVAxLngrKGN4Kk4ueCtjeSpCLngpO3ZlcnRleC55PVAxLnkrKGN4Kk4ueStjeSpCLnkpO3ZlcnRleC56PVAxLnorKGN4Kk4ueitjeSpCLnopO3ZlcnRpY2VzLnB1c2godmVydGV4LngsdmVydGV4LnksdmVydGV4LnopOy8vIG5vcm1hbCAoUDEgaXMgYWx3YXlzIHRoZSBjZW50ZXIvb3JpZ2luIG9mIHRoZSBleHRydXNpb24sIHRodXMgd2UgY2FuIHVzZSBpdCB0byBjYWxjdWxhdGUgdGhlIG5vcm1hbCkKbm9ybWFsLnN1YlZlY3RvcnModmVydGV4LFAxKS5ub3JtYWxpemUoKTtub3JtYWxzLnB1c2gobm9ybWFsLngsbm9ybWFsLnksbm9ybWFsLnopOy8vIHV2CnV2cy5wdXNoKGkvdHVidWxhclNlZ21lbnRzKTt1dnMucHVzaChqL3JhZGlhbFNlZ21lbnRzKTt9fS8vIGdlbmVyYXRlIGluZGljZXMKZm9yKGo9MTtqPD10dWJ1bGFyU2VnbWVudHM7aisrKXtmb3IoaT0xO2k8PXJhZGlhbFNlZ21lbnRzO2krKyl7Ly8gaW5kaWNlcwp2YXIgYT0ocmFkaWFsU2VnbWVudHMrMSkqKGotMSkrKGktMSk7dmFyIGI9KHJhZGlhbFNlZ21lbnRzKzEpKmorKGktMSk7dmFyIGM9KHJhZGlhbFNlZ21lbnRzKzEpKmoraTt2YXIgZD0ocmFkaWFsU2VnbWVudHMrMSkqKGotMSkraTsvLyBmYWNlcwppbmRpY2VzLnB1c2goYSxiLGQpO2luZGljZXMucHVzaChiLGMsZCk7fX0vLyBidWlsZCBnZW9tZXRyeQp0aGlzLnNldEluZGV4KGluZGljZXMpO3RoaXMuc2V0QXR0cmlidXRlKCdwb3NpdGlvbicsbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUodmVydGljZXMsMykpO3RoaXMuc2V0QXR0cmlidXRlKCdub3JtYWwnLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKG5vcm1hbHMsMykpO3RoaXMuc2V0QXR0cmlidXRlKCd1dicsbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUodXZzLDIpKTsvLyB0aGlzIGZ1bmN0aW9uIGNhbGN1bGF0ZXMgdGhlIGN1cnJlbnQgcG9zaXRpb24gb24gdGhlIHRvcnVzIGN1cnZlCmZ1bmN0aW9uIGNhbGN1bGF0ZVBvc2l0aW9uT25DdXJ2ZSh1LHAscSxyYWRpdXMscG9zaXRpb24pe3ZhciBjdT1NYXRoLmNvcyh1KTt2YXIgc3U9TWF0aC5zaW4odSk7dmFyIHF1T3ZlclA9cS9wKnU7dmFyIGNzPU1hdGguY29zKHF1T3ZlclApO3Bvc2l0aW9uLng9cmFkaXVzKigyK2NzKSowLjUqY3U7cG9zaXRpb24ueT1yYWRpdXMqKDIrY3MpKnN1KjAuNTtwb3NpdGlvbi56PXJhZGl1cypNYXRoLnNpbihxdU92ZXJQKSowLjU7fX1Ub3J1c0tub3RCdWZmZXJHZW9tZXRyeS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShCdWZmZXJHZW9tZXRyeS5wcm90b3R5cGUpO1RvcnVzS25vdEJ1ZmZlckdlb21ldHJ5LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1Ub3J1c0tub3RCdWZmZXJHZW9tZXRyeTsvKioKICAgKiBAYXV0aG9yIG9vc21veGllY29kZQogICAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb20vCiAgICogQGF1dGhvciBNdWdlbjg3IC8gaHR0cHM6Ly9naXRodWIuY29tL011Z2VuODcKICAgKi8gLy8gVG9ydXNHZW9tZXRyeQpmdW5jdGlvbiBUb3J1c0dlb21ldHJ5KHJhZGl1cyx0dWJlLHJhZGlhbFNlZ21lbnRzLHR1YnVsYXJTZWdtZW50cyxhcmMpe0dlb21ldHJ5LmNhbGwodGhpcyk7dGhpcy50eXBlPSdUb3J1c0dlb21ldHJ5Jzt0aGlzLnBhcmFtZXRlcnM9e3JhZGl1czpyYWRpdXMsdHViZTp0dWJlLHJhZGlhbFNlZ21lbnRzOnJhZGlhbFNlZ21lbnRzLHR1YnVsYXJTZWdtZW50czp0dWJ1bGFyU2VnbWVudHMsYXJjOmFyY307dGhpcy5mcm9tQnVmZmVyR2VvbWV0cnkobmV3IFRvcnVzQnVmZmVyR2VvbWV0cnkocmFkaXVzLHR1YmUscmFkaWFsU2VnbWVudHMsdHVidWxhclNlZ21lbnRzLGFyYykpO3RoaXMubWVyZ2VWZXJ0aWNlcygpO31Ub3J1c0dlb21ldHJ5LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEdlb21ldHJ5LnByb3RvdHlwZSk7VG9ydXNHZW9tZXRyeS5wcm90b3R5cGUuY29uc3RydWN0b3I9VG9ydXNHZW9tZXRyeTsvLyBUb3J1c0J1ZmZlckdlb21ldHJ5CmZ1bmN0aW9uIFRvcnVzQnVmZmVyR2VvbWV0cnkocmFkaXVzLHR1YmUscmFkaWFsU2VnbWVudHMsdHVidWxhclNlZ21lbnRzLGFyYyl7QnVmZmVyR2VvbWV0cnkuY2FsbCh0aGlzKTt0aGlzLnR5cGU9J1RvcnVzQnVmZmVyR2VvbWV0cnknO3RoaXMucGFyYW1ldGVycz17cmFkaXVzOnJhZGl1cyx0dWJlOnR1YmUscmFkaWFsU2VnbWVudHM6cmFkaWFsU2VnbWVudHMsdHVidWxhclNlZ21lbnRzOnR1YnVsYXJTZWdtZW50cyxhcmM6YXJjfTtyYWRpdXM9cmFkaXVzfHwxO3R1YmU9dHViZXx8MC40O3JhZGlhbFNlZ21lbnRzPU1hdGguZmxvb3IocmFkaWFsU2VnbWVudHMpfHw4O3R1YnVsYXJTZWdtZW50cz1NYXRoLmZsb29yKHR1YnVsYXJTZWdtZW50cyl8fDY7YXJjPWFyY3x8TWF0aC5QSSoyOy8vIGJ1ZmZlcnMKdmFyIGluZGljZXM9W107dmFyIHZlcnRpY2VzPVtdO3ZhciBub3JtYWxzPVtdO3ZhciB1dnM9W107Ly8gaGVscGVyIHZhcmlhYmxlcwp2YXIgY2VudGVyPW5ldyBWZWN0b3IzKCk7dmFyIHZlcnRleD1uZXcgVmVjdG9yMygpO3ZhciBub3JtYWw9bmV3IFZlY3RvcjMoKTt2YXIgaixpOy8vIGdlbmVyYXRlIHZlcnRpY2VzLCBub3JtYWxzIGFuZCB1dnMKZm9yKGo9MDtqPD1yYWRpYWxTZWdtZW50cztqKyspe2ZvcihpPTA7aTw9dHVidWxhclNlZ21lbnRzO2krKyl7dmFyIHU9aS90dWJ1bGFyU2VnbWVudHMqYXJjO3ZhciB2PWovcmFkaWFsU2VnbWVudHMqTWF0aC5QSSoyOy8vIHZlcnRleAp2ZXJ0ZXgueD0ocmFkaXVzK3R1YmUqTWF0aC5jb3ModikpKk1hdGguY29zKHUpO3ZlcnRleC55PShyYWRpdXMrdHViZSpNYXRoLmNvcyh2KSkqTWF0aC5zaW4odSk7dmVydGV4Lno9dHViZSpNYXRoLnNpbih2KTt2ZXJ0aWNlcy5wdXNoKHZlcnRleC54LHZlcnRleC55LHZlcnRleC56KTsvLyBub3JtYWwKY2VudGVyLng9cmFkaXVzKk1hdGguY29zKHUpO2NlbnRlci55PXJhZGl1cypNYXRoLnNpbih1KTtub3JtYWwuc3ViVmVjdG9ycyh2ZXJ0ZXgsY2VudGVyKS5ub3JtYWxpemUoKTtub3JtYWxzLnB1c2gobm9ybWFsLngsbm9ybWFsLnksbm9ybWFsLnopOy8vIHV2CnV2cy5wdXNoKGkvdHVidWxhclNlZ21lbnRzKTt1dnMucHVzaChqL3JhZGlhbFNlZ21lbnRzKTt9fS8vIGdlbmVyYXRlIGluZGljZXMKZm9yKGo9MTtqPD1yYWRpYWxTZWdtZW50cztqKyspe2ZvcihpPTE7aTw9dHVidWxhclNlZ21lbnRzO2krKyl7Ly8gaW5kaWNlcwp2YXIgYT0odHVidWxhclNlZ21lbnRzKzEpKmoraS0xO3ZhciBiPSh0dWJ1bGFyU2VnbWVudHMrMSkqKGotMSkraS0xO3ZhciBjPSh0dWJ1bGFyU2VnbWVudHMrMSkqKGotMSkraTt2YXIgZD0odHVidWxhclNlZ21lbnRzKzEpKmoraTsvLyBmYWNlcwppbmRpY2VzLnB1c2goYSxiLGQpO2luZGljZXMucHVzaChiLGMsZCk7fX0vLyBidWlsZCBnZW9tZXRyeQp0aGlzLnNldEluZGV4KGluZGljZXMpO3RoaXMuc2V0QXR0cmlidXRlKCdwb3NpdGlvbicsbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUodmVydGljZXMsMykpO3RoaXMuc2V0QXR0cmlidXRlKCdub3JtYWwnLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKG5vcm1hbHMsMykpO3RoaXMuc2V0QXR0cmlidXRlKCd1dicsbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUodXZzLDIpKTt9VG9ydXNCdWZmZXJHZW9tZXRyeS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShCdWZmZXJHZW9tZXRyeS5wcm90b3R5cGUpO1RvcnVzQnVmZmVyR2VvbWV0cnkucHJvdG90eXBlLmNvbnN0cnVjdG9yPVRvcnVzQnVmZmVyR2VvbWV0cnk7LyoqCiAgICogQGF1dGhvciBNdWdlbjg3IC8gaHR0cHM6Ly9naXRodWIuY29tL011Z2VuODcKICAgKiBQb3J0IGZyb20gaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9lYXJjdXQgKHYyLjEuNSkKICAgKi92YXIgRWFyY3V0PXt0cmlhbmd1bGF0ZTpmdW5jdGlvbiB0cmlhbmd1bGF0ZShkYXRhLGhvbGVJbmRpY2VzLGRpbSl7ZGltPWRpbXx8Mjt2YXIgaGFzSG9sZXM9aG9sZUluZGljZXMmJmhvbGVJbmRpY2VzLmxlbmd0aCxvdXRlckxlbj1oYXNIb2xlcz9ob2xlSW5kaWNlc1swXSpkaW06ZGF0YS5sZW5ndGgsb3V0ZXJOb2RlPWxpbmtlZExpc3QoZGF0YSwwLG91dGVyTGVuLGRpbSx0cnVlKSx0cmlhbmdsZXM9W107aWYoIW91dGVyTm9kZXx8b3V0ZXJOb2RlLm5leHQ9PT1vdXRlck5vZGUucHJldil7cmV0dXJuIHRyaWFuZ2xlczt9dmFyIG1pblgsbWluWSxtYXhYLG1heFkseCx5LGludlNpemU7aWYoaGFzSG9sZXMpe291dGVyTm9kZT1lbGltaW5hdGVIb2xlcyhkYXRhLGhvbGVJbmRpY2VzLG91dGVyTm9kZSxkaW0pO30vLyBpZiB0aGUgc2hhcGUgaXMgbm90IHRvbyBzaW1wbGUsIHdlJ2xsIHVzZSB6LW9yZGVyIGN1cnZlIGhhc2ggbGF0ZXI7IGNhbGN1bGF0ZSBwb2x5Z29uIGJib3gKaWYoZGF0YS5sZW5ndGg+ODAqZGltKXttaW5YPW1heFg9ZGF0YVswXTttaW5ZPW1heFk9ZGF0YVsxXTtmb3IodmFyIGk9ZGltO2k8b3V0ZXJMZW47aSs9ZGltKXt4PWRhdGFbaV07eT1kYXRhW2krMV07aWYoeDxtaW5YKXttaW5YPXg7fWlmKHk8bWluWSl7bWluWT15O31pZih4Pm1heFgpe21heFg9eDt9aWYoeT5tYXhZKXttYXhZPXk7fX0vLyBtaW5YLCBtaW5ZIGFuZCBpbnZTaXplIGFyZSBsYXRlciB1c2VkIHRvIHRyYW5zZm9ybSBjb29yZHMgaW50byBpbnRlZ2VycyBmb3Igei1vcmRlciBjYWxjdWxhdGlvbgppbnZTaXplPU1hdGgubWF4KG1heFgtbWluWCxtYXhZLW1pblkpO2ludlNpemU9aW52U2l6ZSE9PTA/MS9pbnZTaXplOjA7fWVhcmN1dExpbmtlZChvdXRlck5vZGUsdHJpYW5nbGVzLGRpbSxtaW5YLG1pblksaW52U2l6ZSk7cmV0dXJuIHRyaWFuZ2xlczt9fTsvLyBjcmVhdGUgYSBjaXJjdWxhciBkb3VibHkgbGlua2VkIGxpc3QgZnJvbSBwb2x5Z29uIHBvaW50cyBpbiB0aGUgc3BlY2lmaWVkIHdpbmRpbmcgb3JkZXIKZnVuY3Rpb24gbGlua2VkTGlzdChkYXRhLHN0YXJ0LGVuZCxkaW0sY2xvY2t3aXNlKXt2YXIgaSxsYXN0O2lmKGNsb2Nrd2lzZT09PXNpZ25lZEFyZWEoZGF0YSxzdGFydCxlbmQsZGltKT4wKXtmb3IoaT1zdGFydDtpPGVuZDtpKz1kaW0pe2xhc3Q9aW5zZXJ0Tm9kZShpLGRhdGFbaV0sZGF0YVtpKzFdLGxhc3QpO319ZWxzZXtmb3IoaT1lbmQtZGltO2k+PXN0YXJ0O2ktPWRpbSl7bGFzdD1pbnNlcnROb2RlKGksZGF0YVtpXSxkYXRhW2krMV0sbGFzdCk7fX1pZihsYXN0JiZlcXVhbHMobGFzdCxsYXN0Lm5leHQpKXtyZW1vdmVOb2RlKGxhc3QpO2xhc3Q9bGFzdC5uZXh0O31yZXR1cm4gbGFzdDt9Ly8gZWxpbWluYXRlIGNvbGluZWFyIG9yIGR1cGxpY2F0ZSBwb2ludHMKZnVuY3Rpb24gZmlsdGVyUG9pbnRzKHN0YXJ0LGVuZCl7aWYoIXN0YXJ0KXtyZXR1cm4gc3RhcnQ7fWlmKCFlbmQpe2VuZD1zdGFydDt9dmFyIHA9c3RhcnQsYWdhaW47ZG97YWdhaW49ZmFsc2U7aWYoIXAuc3RlaW5lciYmKGVxdWFscyhwLHAubmV4dCl8fGFyZWEocC5wcmV2LHAscC5uZXh0KT09PTApKXtyZW1vdmVOb2RlKHApO3A9ZW5kPXAucHJldjtpZihwPT09cC5uZXh0KXticmVhazt9YWdhaW49dHJ1ZTt9ZWxzZXtwPXAubmV4dDt9fXdoaWxlKGFnYWlufHxwIT09ZW5kKTtyZXR1cm4gZW5kO30vLyBtYWluIGVhciBzbGljaW5nIGxvb3Agd2hpY2ggdHJpYW5ndWxhdGVzIGEgcG9seWdvbiAoZ2l2ZW4gYXMgYSBsaW5rZWQgbGlzdCkKZnVuY3Rpb24gZWFyY3V0TGlua2VkKGVhcix0cmlhbmdsZXMsZGltLG1pblgsbWluWSxpbnZTaXplLHBhc3Mpe2lmKCFlYXIpe3JldHVybjt9Ly8gaW50ZXJsaW5rIHBvbHlnb24gbm9kZXMgaW4gei1vcmRlcgppZighcGFzcyYmaW52U2l6ZSl7aW5kZXhDdXJ2ZShlYXIsbWluWCxtaW5ZLGludlNpemUpO312YXIgc3RvcD1lYXIscHJldixuZXh0Oy8vIGl0ZXJhdGUgdGhyb3VnaCBlYXJzLCBzbGljaW5nIHRoZW0gb25lIGJ5IG9uZQp3aGlsZShlYXIucHJldiE9PWVhci5uZXh0KXtwcmV2PWVhci5wcmV2O25leHQ9ZWFyLm5leHQ7aWYoaW52U2l6ZT9pc0Vhckhhc2hlZChlYXIsbWluWCxtaW5ZLGludlNpemUpOmlzRWFyKGVhcikpey8vIGN1dCBvZmYgdGhlIHRyaWFuZ2xlCnRyaWFuZ2xlcy5wdXNoKHByZXYuaS9kaW0pO3RyaWFuZ2xlcy5wdXNoKGVhci5pL2RpbSk7dHJpYW5nbGVzLnB1c2gobmV4dC5pL2RpbSk7cmVtb3ZlTm9kZShlYXIpOy8vIHNraXBwaW5nIHRoZSBuZXh0IHZlcnRleCBsZWFkcyB0byBsZXNzIHNsaXZlciB0cmlhbmdsZXMKZWFyPW5leHQubmV4dDtzdG9wPW5leHQubmV4dDtjb250aW51ZTt9ZWFyPW5leHQ7Ly8gaWYgd2UgbG9vcGVkIHRocm91Z2ggdGhlIHdob2xlIHJlbWFpbmluZyBwb2x5Z29uIGFuZCBjYW4ndCBmaW5kIGFueSBtb3JlIGVhcnMKaWYoZWFyPT09c3RvcCl7Ly8gdHJ5IGZpbHRlcmluZyBwb2ludHMgYW5kIHNsaWNpbmcgYWdhaW4KaWYoIXBhc3Mpe2VhcmN1dExpbmtlZChmaWx0ZXJQb2ludHMoZWFyKSx0cmlhbmdsZXMsZGltLG1pblgsbWluWSxpbnZTaXplLDEpOy8vIGlmIHRoaXMgZGlkbid0IHdvcmssIHRyeSBjdXJpbmcgYWxsIHNtYWxsIHNlbGYtaW50ZXJzZWN0aW9ucyBsb2NhbGx5Cn1lbHNlIGlmKHBhc3M9PT0xKXtlYXI9Y3VyZUxvY2FsSW50ZXJzZWN0aW9ucyhlYXIsdHJpYW5nbGVzLGRpbSk7ZWFyY3V0TGlua2VkKGVhcix0cmlhbmdsZXMsZGltLG1pblgsbWluWSxpbnZTaXplLDIpOy8vIGFzIGEgbGFzdCByZXNvcnQsIHRyeSBzcGxpdHRpbmcgdGhlIHJlbWFpbmluZyBwb2x5Z29uIGludG8gdHdvCn1lbHNlIGlmKHBhc3M9PT0yKXtzcGxpdEVhcmN1dChlYXIsdHJpYW5nbGVzLGRpbSxtaW5YLG1pblksaW52U2l6ZSk7fWJyZWFrO319fS8vIGNoZWNrIHdoZXRoZXIgYSBwb2x5Z29uIG5vZGUgZm9ybXMgYSB2YWxpZCBlYXIgd2l0aCBhZGphY2VudCBub2RlcwpmdW5jdGlvbiBpc0VhcihlYXIpe3ZhciBhPWVhci5wcmV2LGI9ZWFyLGM9ZWFyLm5leHQ7aWYoYXJlYShhLGIsYyk+PTApe3JldHVybiBmYWxzZTt9Ly8gcmVmbGV4LCBjYW4ndCBiZSBhbiBlYXIKLy8gbm93IG1ha2Ugc3VyZSB3ZSBkb24ndCBoYXZlIG90aGVyIHBvaW50cyBpbnNpZGUgdGhlIHBvdGVudGlhbCBlYXIKdmFyIHA9ZWFyLm5leHQubmV4dDt3aGlsZShwIT09ZWFyLnByZXYpe2lmKHBvaW50SW5UcmlhbmdsZShhLngsYS55LGIueCxiLnksYy54LGMueSxwLngscC55KSYmYXJlYShwLnByZXYscCxwLm5leHQpPj0wKXtyZXR1cm4gZmFsc2U7fXA9cC5uZXh0O31yZXR1cm4gdHJ1ZTt9ZnVuY3Rpb24gaXNFYXJIYXNoZWQoZWFyLG1pblgsbWluWSxpbnZTaXplKXt2YXIgYT1lYXIucHJldixiPWVhcixjPWVhci5uZXh0O2lmKGFyZWEoYSxiLGMpPj0wKXtyZXR1cm4gZmFsc2U7fS8vIHJlZmxleCwgY2FuJ3QgYmUgYW4gZWFyCi8vIHRyaWFuZ2xlIGJib3g7IG1pbiAmIG1heCBhcmUgY2FsY3VsYXRlZCBsaWtlIHRoaXMgZm9yIHNwZWVkCnZhciBtaW5UWD1hLng8Yi54P2EueDxjLng/YS54OmMueDpiLng8Yy54P2IueDpjLngsbWluVFk9YS55PGIueT9hLnk8Yy55P2EueTpjLnk6Yi55PGMueT9iLnk6Yy55LG1heFRYPWEueD5iLng/YS54PmMueD9hLng6Yy54OmIueD5jLng/Yi54OmMueCxtYXhUWT1hLnk+Yi55P2EueT5jLnk/YS55OmMueTpiLnk+Yy55P2IueTpjLnk7Ly8gei1vcmRlciByYW5nZSBmb3IgdGhlIGN1cnJlbnQgdHJpYW5nbGUgYmJveDsKdmFyIG1pblo9ek9yZGVyKG1pblRYLG1pblRZLG1pblgsbWluWSxpbnZTaXplKSxtYXhaPXpPcmRlcihtYXhUWCxtYXhUWSxtaW5YLG1pblksaW52U2l6ZSk7dmFyIHA9ZWFyLnByZXZaLG49ZWFyLm5leHRaOy8vIGxvb2sgZm9yIHBvaW50cyBpbnNpZGUgdGhlIHRyaWFuZ2xlIGluIGJvdGggZGlyZWN0aW9ucwp3aGlsZShwJiZwLno+PW1pblomJm4mJm4uejw9bWF4Wil7aWYocCE9PWVhci5wcmV2JiZwIT09ZWFyLm5leHQmJnBvaW50SW5UcmlhbmdsZShhLngsYS55LGIueCxiLnksYy54LGMueSxwLngscC55KSYmYXJlYShwLnByZXYscCxwLm5leHQpPj0wKXtyZXR1cm4gZmFsc2U7fXA9cC5wcmV2WjtpZihuIT09ZWFyLnByZXYmJm4hPT1lYXIubmV4dCYmcG9pbnRJblRyaWFuZ2xlKGEueCxhLnksYi54LGIueSxjLngsYy55LG4ueCxuLnkpJiZhcmVhKG4ucHJldixuLG4ubmV4dCk+PTApe3JldHVybiBmYWxzZTt9bj1uLm5leHRaO30vLyBsb29rIGZvciByZW1haW5pbmcgcG9pbnRzIGluIGRlY3JlYXNpbmcgei1vcmRlcgp3aGlsZShwJiZwLno+PW1pblope2lmKHAhPT1lYXIucHJldiYmcCE9PWVhci5uZXh0JiZwb2ludEluVHJpYW5nbGUoYS54LGEueSxiLngsYi55LGMueCxjLnkscC54LHAueSkmJmFyZWEocC5wcmV2LHAscC5uZXh0KT49MCl7cmV0dXJuIGZhbHNlO31wPXAucHJldlo7fS8vIGxvb2sgZm9yIHJlbWFpbmluZyBwb2ludHMgaW4gaW5jcmVhc2luZyB6LW9yZGVyCndoaWxlKG4mJm4uejw9bWF4Wil7aWYobiE9PWVhci5wcmV2JiZuIT09ZWFyLm5leHQmJnBvaW50SW5UcmlhbmdsZShhLngsYS55LGIueCxiLnksYy54LGMueSxuLngsbi55KSYmYXJlYShuLnByZXYsbixuLm5leHQpPj0wKXtyZXR1cm4gZmFsc2U7fW49bi5uZXh0Wjt9cmV0dXJuIHRydWU7fS8vIGdvIHRocm91Z2ggYWxsIHBvbHlnb24gbm9kZXMgYW5kIGN1cmUgc21hbGwgbG9jYWwgc2VsZi1pbnRlcnNlY3Rpb25zCmZ1bmN0aW9uIGN1cmVMb2NhbEludGVyc2VjdGlvbnMoc3RhcnQsdHJpYW5nbGVzLGRpbSl7dmFyIHA9c3RhcnQ7ZG97dmFyIGE9cC5wcmV2LGI9cC5uZXh0Lm5leHQ7aWYoIWVxdWFscyhhLGIpJiZpbnRlcnNlY3RzKGEscCxwLm5leHQsYikmJmxvY2FsbHlJbnNpZGUoYSxiKSYmbG9jYWxseUluc2lkZShiLGEpKXt0cmlhbmdsZXMucHVzaChhLmkvZGltKTt0cmlhbmdsZXMucHVzaChwLmkvZGltKTt0cmlhbmdsZXMucHVzaChiLmkvZGltKTsvLyByZW1vdmUgdHdvIG5vZGVzIGludm9sdmVkCnJlbW92ZU5vZGUocCk7cmVtb3ZlTm9kZShwLm5leHQpO3A9c3RhcnQ9Yjt9cD1wLm5leHQ7fXdoaWxlKHAhPT1zdGFydCk7cmV0dXJuIHA7fS8vIHRyeSBzcGxpdHRpbmcgcG9seWdvbiBpbnRvIHR3byBhbmQgdHJpYW5ndWxhdGUgdGhlbSBpbmRlcGVuZGVudGx5CmZ1bmN0aW9uIHNwbGl0RWFyY3V0KHN0YXJ0LHRyaWFuZ2xlcyxkaW0sbWluWCxtaW5ZLGludlNpemUpey8vIGxvb2sgZm9yIGEgdmFsaWQgZGlhZ29uYWwgdGhhdCBkaXZpZGVzIHRoZSBwb2x5Z29uIGludG8gdHdvCnZhciBhPXN0YXJ0O2Rve3ZhciBiPWEubmV4dC5uZXh0O3doaWxlKGIhPT1hLnByZXYpe2lmKGEuaSE9PWIuaSYmaXNWYWxpZERpYWdvbmFsKGEsYikpey8vIHNwbGl0IHRoZSBwb2x5Z29uIGluIHR3byBieSB0aGUgZGlhZ29uYWwKdmFyIGM9c3BsaXRQb2x5Z29uKGEsYik7Ly8gZmlsdGVyIGNvbGluZWFyIHBvaW50cyBhcm91bmQgdGhlIGN1dHMKYT1maWx0ZXJQb2ludHMoYSxhLm5leHQpO2M9ZmlsdGVyUG9pbnRzKGMsYy5uZXh0KTsvLyBydW4gZWFyY3V0IG9uIGVhY2ggaGFsZgplYXJjdXRMaW5rZWQoYSx0cmlhbmdsZXMsZGltLG1pblgsbWluWSxpbnZTaXplKTtlYXJjdXRMaW5rZWQoYyx0cmlhbmdsZXMsZGltLG1pblgsbWluWSxpbnZTaXplKTtyZXR1cm47fWI9Yi5uZXh0O31hPWEubmV4dDt9d2hpbGUoYSE9PXN0YXJ0KTt9Ly8gbGluayBldmVyeSBob2xlIGludG8gdGhlIG91dGVyIGxvb3AsIHByb2R1Y2luZyBhIHNpbmdsZS1yaW5nIHBvbHlnb24gd2l0aG91dCBob2xlcwpmdW5jdGlvbiBlbGltaW5hdGVIb2xlcyhkYXRhLGhvbGVJbmRpY2VzLG91dGVyTm9kZSxkaW0pe3ZhciBxdWV1ZT1bXSxpLGxlbixzdGFydCxlbmQsbGlzdDtmb3IoaT0wLGxlbj1ob2xlSW5kaWNlcy5sZW5ndGg7aTxsZW47aSsrKXtzdGFydD1ob2xlSW5kaWNlc1tpXSpkaW07ZW5kPWk8bGVuLTE/aG9sZUluZGljZXNbaSsxXSpkaW06ZGF0YS5sZW5ndGg7bGlzdD1saW5rZWRMaXN0KGRhdGEsc3RhcnQsZW5kLGRpbSxmYWxzZSk7aWYobGlzdD09PWxpc3QubmV4dCl7bGlzdC5zdGVpbmVyPXRydWU7fXF1ZXVlLnB1c2goZ2V0TGVmdG1vc3QobGlzdCkpO31xdWV1ZS5zb3J0KGNvbXBhcmVYKTsvLyBwcm9jZXNzIGhvbGVzIGZyb20gbGVmdCB0byByaWdodApmb3IoaT0wO2k8cXVldWUubGVuZ3RoO2krKyl7ZWxpbWluYXRlSG9sZShxdWV1ZVtpXSxvdXRlck5vZGUpO291dGVyTm9kZT1maWx0ZXJQb2ludHMob3V0ZXJOb2RlLG91dGVyTm9kZS5uZXh0KTt9cmV0dXJuIG91dGVyTm9kZTt9ZnVuY3Rpb24gY29tcGFyZVgoYSxiKXtyZXR1cm4gYS54LWIueDt9Ly8gZmluZCBhIGJyaWRnZSBiZXR3ZWVuIHZlcnRpY2VzIHRoYXQgY29ubmVjdHMgaG9sZSB3aXRoIGFuIG91dGVyIHJpbmcgYW5kIGFuZCBsaW5rIGl0CmZ1bmN0aW9uIGVsaW1pbmF0ZUhvbGUoaG9sZSxvdXRlck5vZGUpe291dGVyTm9kZT1maW5kSG9sZUJyaWRnZShob2xlLG91dGVyTm9kZSk7aWYob3V0ZXJOb2RlKXt2YXIgYj1zcGxpdFBvbHlnb24ob3V0ZXJOb2RlLGhvbGUpO2ZpbHRlclBvaW50cyhiLGIubmV4dCk7fX0vLyBEYXZpZCBFYmVybHkncyBhbGdvcml0aG0gZm9yIGZpbmRpbmcgYSBicmlkZ2UgYmV0d2VlbiBob2xlIGFuZCBvdXRlciBwb2x5Z29uCmZ1bmN0aW9uIGZpbmRIb2xlQnJpZGdlKGhvbGUsb3V0ZXJOb2RlKXt2YXIgcD1vdXRlck5vZGUsaHg9aG9sZS54LGh5PWhvbGUueSxxeD0tSW5maW5pdHksbTsvLyBmaW5kIGEgc2VnbWVudCBpbnRlcnNlY3RlZCBieSBhIHJheSBmcm9tIHRoZSBob2xlJ3MgbGVmdG1vc3QgcG9pbnQgdG8gdGhlIGxlZnQ7Ci8vIHNlZ21lbnQncyBlbmRwb2ludCB3aXRoIGxlc3NlciB4IHdpbGwgYmUgcG90ZW50aWFsIGNvbm5lY3Rpb24gcG9pbnQKZG97aWYoaHk8PXAueSYmaHk+PXAubmV4dC55JiZwLm5leHQueSE9PXAueSl7dmFyIHg9cC54KyhoeS1wLnkpKihwLm5leHQueC1wLngpLyhwLm5leHQueS1wLnkpO2lmKHg8PWh4JiZ4PnF4KXtxeD14O2lmKHg9PT1oeCl7aWYoaHk9PT1wLnkpe3JldHVybiBwO31pZihoeT09PXAubmV4dC55KXtyZXR1cm4gcC5uZXh0O319bT1wLng8cC5uZXh0Lng/cDpwLm5leHQ7fX1wPXAubmV4dDt9d2hpbGUocCE9PW91dGVyTm9kZSk7aWYoIW0pe3JldHVybiBudWxsO31pZihoeD09PXF4KXtyZXR1cm4gbS5wcmV2O30vLyBob2xlIHRvdWNoZXMgb3V0ZXIgc2VnbWVudDsgcGljayBsb3dlciBlbmRwb2ludAovLyBsb29rIGZvciBwb2ludHMgaW5zaWRlIHRoZSB0cmlhbmdsZSBvZiBob2xlIHBvaW50LCBzZWdtZW50IGludGVyc2VjdGlvbiBhbmQgZW5kcG9pbnQ7Ci8vIGlmIHRoZXJlIGFyZSBubyBwb2ludHMgZm91bmQsIHdlIGhhdmUgYSB2YWxpZCBjb25uZWN0aW9uOwovLyBvdGhlcndpc2UgY2hvb3NlIHRoZSBwb2ludCBvZiB0aGUgbWluaW11bSBhbmdsZSB3aXRoIHRoZSByYXkgYXMgY29ubmVjdGlvbiBwb2ludAp2YXIgc3RvcD1tLG14PW0ueCxteT1tLnksdGFuTWluPUluZmluaXR5LHRhbjtwPW0ubmV4dDt3aGlsZShwIT09c3RvcCl7aWYoaHg+PXAueCYmcC54Pj1teCYmaHghPT1wLngmJnBvaW50SW5UcmlhbmdsZShoeTxteT9oeDpxeCxoeSxteCxteSxoeTxteT9xeDpoeCxoeSxwLngscC55KSl7dGFuPU1hdGguYWJzKGh5LXAueSkvKGh4LXAueCk7Ly8gdGFuZ2VudGlhbAppZigodGFuPHRhbk1pbnx8dGFuPT09dGFuTWluJiZwLng+bS54KSYmbG9jYWxseUluc2lkZShwLGhvbGUpKXttPXA7dGFuTWluPXRhbjt9fXA9cC5uZXh0O31yZXR1cm4gbTt9Ly8gaW50ZXJsaW5rIHBvbHlnb24gbm9kZXMgaW4gei1vcmRlcgpmdW5jdGlvbiBpbmRleEN1cnZlKHN0YXJ0LG1pblgsbWluWSxpbnZTaXplKXt2YXIgcD1zdGFydDtkb3tpZihwLno9PT1udWxsKXtwLno9ek9yZGVyKHAueCxwLnksbWluWCxtaW5ZLGludlNpemUpO31wLnByZXZaPXAucHJldjtwLm5leHRaPXAubmV4dDtwPXAubmV4dDt9d2hpbGUocCE9PXN0YXJ0KTtwLnByZXZaLm5leHRaPW51bGw7cC5wcmV2Wj1udWxsO3NvcnRMaW5rZWQocCk7fS8vIFNpbW9uIFRhdGhhbSdzIGxpbmtlZCBsaXN0IG1lcmdlIHNvcnQgYWxnb3JpdGhtCi8vIGh0dHA6Ly93d3cuY2hpYXJrLmdyZWVuZW5kLm9yZy51ay9+c2d0YXRoYW0vYWxnb3JpdGhtcy9saXN0c29ydC5odG1sCmZ1bmN0aW9uIHNvcnRMaW5rZWQobGlzdCl7dmFyIGkscCxxLGUsdGFpbCxudW1NZXJnZXMscFNpemUscVNpemUsaW5TaXplPTE7ZG97cD1saXN0O2xpc3Q9bnVsbDt0YWlsPW51bGw7bnVtTWVyZ2VzPTA7d2hpbGUocCl7bnVtTWVyZ2VzKys7cT1wO3BTaXplPTA7Zm9yKGk9MDtpPGluU2l6ZTtpKyspe3BTaXplKys7cT1xLm5leHRaO2lmKCFxKXticmVhazt9fXFTaXplPWluU2l6ZTt3aGlsZShwU2l6ZT4wfHxxU2l6ZT4wJiZxKXtpZihwU2l6ZSE9PTAmJihxU2l6ZT09PTB8fCFxfHxwLno8PXEueikpe2U9cDtwPXAubmV4dFo7cFNpemUtLTt9ZWxzZXtlPXE7cT1xLm5leHRaO3FTaXplLS07fWlmKHRhaWwpe3RhaWwubmV4dFo9ZTt9ZWxzZXtsaXN0PWU7fWUucHJldlo9dGFpbDt0YWlsPWU7fXA9cTt9dGFpbC5uZXh0Wj1udWxsO2luU2l6ZSo9Mjt9d2hpbGUobnVtTWVyZ2VzPjEpO3JldHVybiBsaXN0O30vLyB6LW9yZGVyIG9mIGEgcG9pbnQgZ2l2ZW4gY29vcmRzIGFuZCBpbnZlcnNlIG9mIHRoZSBsb25nZXIgc2lkZSBvZiBkYXRhIGJib3gKZnVuY3Rpb24gek9yZGVyKHgseSxtaW5YLG1pblksaW52U2l6ZSl7Ly8gY29vcmRzIGFyZSB0cmFuc2Zvcm1lZCBpbnRvIG5vbi1uZWdhdGl2ZSAxNS1iaXQgaW50ZWdlciByYW5nZQp4PTMyNzY3Kih4LW1pblgpKmludlNpemU7eT0zMjc2NyooeS1taW5ZKSppbnZTaXplO3g9KHh8eDw8OCkmMHgwMEZGMDBGRjt4PSh4fHg8PDQpJjB4MEYwRjBGMEY7eD0oeHx4PDwyKSYweDMzMzMzMzMzO3g9KHh8eDw8MSkmMHg1NTU1NTU1NTt5PSh5fHk8PDgpJjB4MDBGRjAwRkY7eT0oeXx5PDw0KSYweDBGMEYwRjBGO3k9KHl8eTw8MikmMHgzMzMzMzMzMzt5PSh5fHk8PDEpJjB4NTU1NTU1NTU7cmV0dXJuIHh8eTw8MTt9Ly8gZmluZCB0aGUgbGVmdG1vc3Qgbm9kZSBvZiBhIHBvbHlnb24gcmluZwpmdW5jdGlvbiBnZXRMZWZ0bW9zdChzdGFydCl7dmFyIHA9c3RhcnQsbGVmdG1vc3Q9c3RhcnQ7ZG97aWYocC54PGxlZnRtb3N0Lnh8fHAueD09PWxlZnRtb3N0LngmJnAueTxsZWZ0bW9zdC55KXtsZWZ0bW9zdD1wO31wPXAubmV4dDt9d2hpbGUocCE9PXN0YXJ0KTtyZXR1cm4gbGVmdG1vc3Q7fS8vIGNoZWNrIGlmIGEgcG9pbnQgbGllcyB3aXRoaW4gYSBjb252ZXggdHJpYW5nbGUKZnVuY3Rpb24gcG9pbnRJblRyaWFuZ2xlKGF4LGF5LGJ4LGJ5LGN4LGN5LHB4LHB5KXtyZXR1cm4oY3gtcHgpKihheS1weSktKGF4LXB4KSooY3ktcHkpPj0wJiYoYXgtcHgpKihieS1weSktKGJ4LXB4KSooYXktcHkpPj0wJiYoYngtcHgpKihjeS1weSktKGN4LXB4KSooYnktcHkpPj0wO30vLyBjaGVjayBpZiBhIGRpYWdvbmFsIGJldHdlZW4gdHdvIHBvbHlnb24gbm9kZXMgaXMgdmFsaWQgKGxpZXMgaW4gcG9seWdvbiBpbnRlcmlvcikKZnVuY3Rpb24gaXNWYWxpZERpYWdvbmFsKGEsYil7cmV0dXJuIGEubmV4dC5pIT09Yi5pJiZhLnByZXYuaSE9PWIuaSYmIWludGVyc2VjdHNQb2x5Z29uKGEsYikmJmxvY2FsbHlJbnNpZGUoYSxiKSYmbG9jYWxseUluc2lkZShiLGEpJiZtaWRkbGVJbnNpZGUoYSxiKTt9Ly8gc2lnbmVkIGFyZWEgb2YgYSB0cmlhbmdsZQpmdW5jdGlvbiBhcmVhKHAscSxyKXtyZXR1cm4ocS55LXAueSkqKHIueC1xLngpLShxLngtcC54KSooci55LXEueSk7fS8vIGNoZWNrIGlmIHR3byBwb2ludHMgYXJlIGVxdWFsCmZ1bmN0aW9uIGVxdWFscyhwMSxwMil7cmV0dXJuIHAxLng9PT1wMi54JiZwMS55PT09cDIueTt9Ly8gY2hlY2sgaWYgdHdvIHNlZ21lbnRzIGludGVyc2VjdApmdW5jdGlvbiBpbnRlcnNlY3RzKHAxLHExLHAyLHEyKXtpZihlcXVhbHMocDEscDIpJiZlcXVhbHMocTEscTIpfHxlcXVhbHMocDEscTIpJiZlcXVhbHMocDIscTEpKXtyZXR1cm4gdHJ1ZTt9cmV0dXJuIGFyZWEocDEscTEscDIpPjAhPT1hcmVhKHAxLHExLHEyKT4wJiZhcmVhKHAyLHEyLHAxKT4wIT09YXJlYShwMixxMixxMSk+MDt9Ly8gY2hlY2sgaWYgYSBwb2x5Z29uIGRpYWdvbmFsIGludGVyc2VjdHMgYW55IHBvbHlnb24gc2VnbWVudHMKZnVuY3Rpb24gaW50ZXJzZWN0c1BvbHlnb24oYSxiKXt2YXIgcD1hO2Rve2lmKHAuaSE9PWEuaSYmcC5uZXh0LmkhPT1hLmkmJnAuaSE9PWIuaSYmcC5uZXh0LmkhPT1iLmkmJmludGVyc2VjdHMocCxwLm5leHQsYSxiKSl7cmV0dXJuIHRydWU7fXA9cC5uZXh0O313aGlsZShwIT09YSk7cmV0dXJuIGZhbHNlO30vLyBjaGVjayBpZiBhIHBvbHlnb24gZGlhZ29uYWwgaXMgbG9jYWxseSBpbnNpZGUgdGhlIHBvbHlnb24KZnVuY3Rpb24gbG9jYWxseUluc2lkZShhLGIpe3JldHVybiBhcmVhKGEucHJldixhLGEubmV4dCk8MD9hcmVhKGEsYixhLm5leHQpPj0wJiZhcmVhKGEsYS5wcmV2LGIpPj0wOmFyZWEoYSxiLGEucHJldik8MHx8YXJlYShhLGEubmV4dCxiKTwwO30vLyBjaGVjayBpZiB0aGUgbWlkZGxlIHBvaW50IG9mIGEgcG9seWdvbiBkaWFnb25hbCBpcyBpbnNpZGUgdGhlIHBvbHlnb24KZnVuY3Rpb24gbWlkZGxlSW5zaWRlKGEsYil7dmFyIHA9YSxpbnNpZGU9ZmFsc2UscHg9KGEueCtiLngpLzIscHk9KGEueStiLnkpLzI7ZG97aWYocC55PnB5IT09cC5uZXh0Lnk+cHkmJnAubmV4dC55IT09cC55JiZweDwocC5uZXh0LngtcC54KSoocHktcC55KS8ocC5uZXh0LnktcC55KStwLngpe2luc2lkZT0haW5zaWRlO31wPXAubmV4dDt9d2hpbGUocCE9PWEpO3JldHVybiBpbnNpZGU7fS8vIGxpbmsgdHdvIHBvbHlnb24gdmVydGljZXMgd2l0aCBhIGJyaWRnZTsgaWYgdGhlIHZlcnRpY2VzIGJlbG9uZyB0byB0aGUgc2FtZSByaW5nLCBpdCBzcGxpdHMgcG9seWdvbiBpbnRvIHR3bzsKLy8gaWYgb25lIGJlbG9uZ3MgdG8gdGhlIG91dGVyIHJpbmcgYW5kIGFub3RoZXIgdG8gYSBob2xlLCBpdCBtZXJnZXMgaXQgaW50byBhIHNpbmdsZSByaW5nCmZ1bmN0aW9uIHNwbGl0UG9seWdvbihhLGIpe3ZhciBhMj1uZXcgTm9kZShhLmksYS54LGEueSksYjI9bmV3IE5vZGUoYi5pLGIueCxiLnkpLGFuPWEubmV4dCxicD1iLnByZXY7YS5uZXh0PWI7Yi5wcmV2PWE7YTIubmV4dD1hbjthbi5wcmV2PWEyO2IyLm5leHQ9YTI7YTIucHJldj1iMjticC5uZXh0PWIyO2IyLnByZXY9YnA7cmV0dXJuIGIyO30vLyBjcmVhdGUgYSBub2RlIGFuZCBvcHRpb25hbGx5IGxpbmsgaXQgd2l0aCBwcmV2aW91cyBvbmUgKGluIGEgY2lyY3VsYXIgZG91Ymx5IGxpbmtlZCBsaXN0KQpmdW5jdGlvbiBpbnNlcnROb2RlKGkseCx5LGxhc3Qpe3ZhciBwPW5ldyBOb2RlKGkseCx5KTtpZighbGFzdCl7cC5wcmV2PXA7cC5uZXh0PXA7fWVsc2V7cC5uZXh0PWxhc3QubmV4dDtwLnByZXY9bGFzdDtsYXN0Lm5leHQucHJldj1wO2xhc3QubmV4dD1wO31yZXR1cm4gcDt9ZnVuY3Rpb24gcmVtb3ZlTm9kZShwKXtwLm5leHQucHJldj1wLnByZXY7cC5wcmV2Lm5leHQ9cC5uZXh0O2lmKHAucHJldlope3AucHJldloubmV4dFo9cC5uZXh0Wjt9aWYocC5uZXh0Wil7cC5uZXh0Wi5wcmV2Wj1wLnByZXZaO319ZnVuY3Rpb24gTm9kZShpLHgseSl7Ly8gdmVydGV4IGluZGV4IGluIGNvb3JkaW5hdGVzIGFycmF5CnRoaXMuaT1pOy8vIHZlcnRleCBjb29yZGluYXRlcwp0aGlzLng9eDt0aGlzLnk9eTsvLyBwcmV2aW91cyBhbmQgbmV4dCB2ZXJ0ZXggbm9kZXMgaW4gYSBwb2x5Z29uIHJpbmcKdGhpcy5wcmV2PW51bGw7dGhpcy5uZXh0PW51bGw7Ly8gei1vcmRlciBjdXJ2ZSB2YWx1ZQp0aGlzLno9bnVsbDsvLyBwcmV2aW91cyBhbmQgbmV4dCBub2RlcyBpbiB6LW9yZGVyCnRoaXMucHJldlo9bnVsbDt0aGlzLm5leHRaPW51bGw7Ly8gaW5kaWNhdGVzIHdoZXRoZXIgdGhpcyBpcyBhIHN0ZWluZXIgcG9pbnQKdGhpcy5zdGVpbmVyPWZhbHNlO31mdW5jdGlvbiBzaWduZWRBcmVhKGRhdGEsc3RhcnQsZW5kLGRpbSl7dmFyIHN1bT0wO2Zvcih2YXIgaT1zdGFydCxqPWVuZC1kaW07aTxlbmQ7aSs9ZGltKXtzdW0rPShkYXRhW2pdLWRhdGFbaV0pKihkYXRhW2krMV0rZGF0YVtqKzFdKTtqPWk7fXJldHVybiBzdW07fS8qKgogICAqIEBhdXRob3Igeno4NSAvIGh0dHA6Ly93d3cubGFiNGdhbWVzLm5ldC96ejg1L2Jsb2cKICAgKi92YXIgU2hhcGVVdGlscz17Ly8gY2FsY3VsYXRlIGFyZWEgb2YgdGhlIGNvbnRvdXIgcG9seWdvbgphcmVhOmZ1bmN0aW9uIGFyZWEoY29udG91cil7dmFyIG49Y29udG91ci5sZW5ndGg7dmFyIGE9MC4wO2Zvcih2YXIgcD1uLTEscT0wO3E8bjtwPXErKyl7YSs9Y29udG91cltwXS54KmNvbnRvdXJbcV0ueS1jb250b3VyW3FdLngqY29udG91cltwXS55O31yZXR1cm4gYSowLjU7fSxpc0Nsb2NrV2lzZTpmdW5jdGlvbiBpc0Nsb2NrV2lzZShwdHMpe3JldHVybiBTaGFwZVV0aWxzLmFyZWEocHRzKTwwO30sdHJpYW5ndWxhdGVTaGFwZTpmdW5jdGlvbiB0cmlhbmd1bGF0ZVNoYXBlKGNvbnRvdXIsaG9sZXMpe3ZhciB2ZXJ0aWNlcz1bXTsvLyBmbGF0IGFycmF5IG9mIHZlcnRpY2VzIGxpa2UgWyB4MCx5MCwgeDEseTEsIHgyLHkyLCAuLi4gXQp2YXIgaG9sZUluZGljZXM9W107Ly8gYXJyYXkgb2YgaG9sZSBpbmRpY2VzCnZhciBmYWNlcz1bXTsvLyBmaW5hbCBhcnJheSBvZiB2ZXJ0ZXggaW5kaWNlcyBsaWtlIFsgWyBhLGIsZCBdLCBbIGIsYyxkIF0gXQpyZW1vdmVEdXBFbmRQdHMoY29udG91cik7YWRkQ29udG91cih2ZXJ0aWNlcyxjb250b3VyKTsvLwp2YXIgaG9sZUluZGV4PWNvbnRvdXIubGVuZ3RoO2hvbGVzLmZvckVhY2gocmVtb3ZlRHVwRW5kUHRzKTtmb3IodmFyIGk9MDtpPGhvbGVzLmxlbmd0aDtpKyspe2hvbGVJbmRpY2VzLnB1c2goaG9sZUluZGV4KTtob2xlSW5kZXgrPWhvbGVzW2ldLmxlbmd0aDthZGRDb250b3VyKHZlcnRpY2VzLGhvbGVzW2ldKTt9Ly8KdmFyIHRyaWFuZ2xlcz1FYXJjdXQudHJpYW5ndWxhdGUodmVydGljZXMsaG9sZUluZGljZXMpOy8vCmZvcih2YXIgaT0wO2k8dHJpYW5nbGVzLmxlbmd0aDtpKz0zKXtmYWNlcy5wdXNoKHRyaWFuZ2xlcy5zbGljZShpLGkrMykpO31yZXR1cm4gZmFjZXM7fX07ZnVuY3Rpb24gcmVtb3ZlRHVwRW5kUHRzKHBvaW50cyl7dmFyIGw9cG9pbnRzLmxlbmd0aDtpZihsPjImJnBvaW50c1tsLTFdLmVxdWFscyhwb2ludHNbMF0pKXtwb2ludHMucG9wKCk7fX1mdW5jdGlvbiBhZGRDb250b3VyKHZlcnRpY2VzLGNvbnRvdXIpe2Zvcih2YXIgaT0wO2k8Y29udG91ci5sZW5ndGg7aSsrKXt2ZXJ0aWNlcy5wdXNoKGNvbnRvdXJbaV0ueCk7dmVydGljZXMucHVzaChjb250b3VyW2ldLnkpO319LyoqCiAgICogQGF1dGhvciB6ejg1IC8gaHR0cDovL3d3dy5sYWI0Z2FtZXMubmV0L3p6ODUvYmxvZwogICAqCiAgICogQ3JlYXRlcyBleHRydWRlZCBnZW9tZXRyeSBmcm9tIGEgcGF0aCBzaGFwZS4KICAgKgogICAqIHBhcmFtZXRlcnMgPSB7CiAgICoKICAgKiAgY3VydmVTZWdtZW50czogPGludD4sIC8vIG51bWJlciBvZiBwb2ludHMgb24gdGhlIGN1cnZlcwogICAqICBzdGVwczogPGludD4sIC8vIG51bWJlciBvZiBwb2ludHMgZm9yIHotc2lkZSBleHRydXNpb25zIC8gdXNlZCBmb3Igc3ViZGl2aWRpbmcgc2VnbWVudHMgb2YgZXh0cnVkZSBzcGxpbmUgdG9vCiAgICogIGRlcHRoOiA8ZmxvYXQ+LCAvLyBEZXB0aCB0byBleHRydWRlIHRoZSBzaGFwZQogICAqCiAgICogIGJldmVsRW5hYmxlZDogPGJvb2w+LCAvLyB0dXJuIG9uIGJldmVsCiAgICogIGJldmVsVGhpY2tuZXNzOiA8ZmxvYXQ+LCAvLyBob3cgZGVlcCBpbnRvIHRoZSBvcmlnaW5hbCBzaGFwZSBiZXZlbCBnb2VzCiAgICogIGJldmVsU2l6ZTogPGZsb2F0PiwgLy8gaG93IGZhciBmcm9tIHNoYXBlIG91dGxpbmUgKGluY2x1ZGluZyBiZXZlbE9mZnNldCkgaXMgYmV2ZWwKICAgKiAgYmV2ZWxPZmZzZXQ6IDxmbG9hdD4sIC8vIGhvdyBmYXIgZnJvbSBzaGFwZSBvdXRsaW5lIGRvZXMgYmV2ZWwgc3RhcnQKICAgKiAgYmV2ZWxTZWdtZW50czogPGludD4sIC8vIG51bWJlciBvZiBiZXZlbCBsYXllcnMKICAgKgogICAqICBleHRydWRlUGF0aDogPFRIUkVFLkN1cnZlPiAvLyBjdXJ2ZSB0byBleHRydWRlIHNoYXBlIGFsb25nCiAgICoKICAgKiAgVVZHZW5lcmF0b3I6IDxPYmplY3Q+IC8vIG9iamVjdCB0aGF0IHByb3ZpZGVzIFVWIGdlbmVyYXRvciBmdW5jdGlvbnMKICAgKgogICAqIH0KICAgKi8gLy8gRXh0cnVkZUdlb21ldHJ5CmZ1bmN0aW9uIEV4dHJ1ZGVHZW9tZXRyeShzaGFwZXMsb3B0aW9ucyl7R2VvbWV0cnkuY2FsbCh0aGlzKTt0aGlzLnR5cGU9J0V4dHJ1ZGVHZW9tZXRyeSc7dGhpcy5wYXJhbWV0ZXJzPXtzaGFwZXM6c2hhcGVzLG9wdGlvbnM6b3B0aW9uc307dGhpcy5mcm9tQnVmZmVyR2VvbWV0cnkobmV3IEV4dHJ1ZGVCdWZmZXJHZW9tZXRyeShzaGFwZXMsb3B0aW9ucykpO3RoaXMubWVyZ2VWZXJ0aWNlcygpO31FeHRydWRlR2VvbWV0cnkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoR2VvbWV0cnkucHJvdG90eXBlKTtFeHRydWRlR2VvbWV0cnkucHJvdG90eXBlLmNvbnN0cnVjdG9yPUV4dHJ1ZGVHZW9tZXRyeTtFeHRydWRlR2VvbWV0cnkucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3ZhciBkYXRhPUdlb21ldHJ5LnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzKTt2YXIgc2hhcGVzPXRoaXMucGFyYW1ldGVycy5zaGFwZXM7dmFyIG9wdGlvbnM9dGhpcy5wYXJhbWV0ZXJzLm9wdGlvbnM7cmV0dXJuIHRvSlNPTihzaGFwZXMsb3B0aW9ucyxkYXRhKTt9Oy8vIEV4dHJ1ZGVCdWZmZXJHZW9tZXRyeQpmdW5jdGlvbiBFeHRydWRlQnVmZmVyR2VvbWV0cnkoc2hhcGVzLG9wdGlvbnMpe0J1ZmZlckdlb21ldHJ5LmNhbGwodGhpcyk7dGhpcy50eXBlPSdFeHRydWRlQnVmZmVyR2VvbWV0cnknO3RoaXMucGFyYW1ldGVycz17c2hhcGVzOnNoYXBlcyxvcHRpb25zOm9wdGlvbnN9O3NoYXBlcz1BcnJheS5pc0FycmF5KHNoYXBlcyk/c2hhcGVzOltzaGFwZXNdO3ZhciBzY29wZT10aGlzO3ZhciB2ZXJ0aWNlc0FycmF5PVtdO3ZhciB1dkFycmF5PVtdO2Zvcih2YXIgaT0wLGw9c2hhcGVzLmxlbmd0aDtpPGw7aSsrKXt2YXIgc2hhcGU9c2hhcGVzW2ldO2FkZFNoYXBlKHNoYXBlKTt9Ly8gYnVpbGQgZ2VvbWV0cnkKdGhpcy5zZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJyxuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZSh2ZXJ0aWNlc0FycmF5LDMpKTt0aGlzLnNldEF0dHJpYnV0ZSgndXYnLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKHV2QXJyYXksMikpO3RoaXMuY29tcHV0ZVZlcnRleE5vcm1hbHMoKTsvLyBmdW5jdGlvbnMKZnVuY3Rpb24gYWRkU2hhcGUoc2hhcGUpe3ZhciBwbGFjZWhvbGRlcj1bXTsvLyBvcHRpb25zCnZhciBjdXJ2ZVNlZ21lbnRzPW9wdGlvbnMuY3VydmVTZWdtZW50cyE9PXVuZGVmaW5lZD9vcHRpb25zLmN1cnZlU2VnbWVudHM6MTI7dmFyIHN0ZXBzPW9wdGlvbnMuc3RlcHMhPT11bmRlZmluZWQ/b3B0aW9ucy5zdGVwczoxO3ZhciBkZXB0aD1vcHRpb25zLmRlcHRoIT09dW5kZWZpbmVkP29wdGlvbnMuZGVwdGg6MTAwO3ZhciBiZXZlbEVuYWJsZWQ9b3B0aW9ucy5iZXZlbEVuYWJsZWQhPT11bmRlZmluZWQ/b3B0aW9ucy5iZXZlbEVuYWJsZWQ6dHJ1ZTt2YXIgYmV2ZWxUaGlja25lc3M9b3B0aW9ucy5iZXZlbFRoaWNrbmVzcyE9PXVuZGVmaW5lZD9vcHRpb25zLmJldmVsVGhpY2tuZXNzOjY7dmFyIGJldmVsU2l6ZT1vcHRpb25zLmJldmVsU2l6ZSE9PXVuZGVmaW5lZD9vcHRpb25zLmJldmVsU2l6ZTpiZXZlbFRoaWNrbmVzcy0yO3ZhciBiZXZlbE9mZnNldD1vcHRpb25zLmJldmVsT2Zmc2V0IT09dW5kZWZpbmVkP29wdGlvbnMuYmV2ZWxPZmZzZXQ6MDt2YXIgYmV2ZWxTZWdtZW50cz1vcHRpb25zLmJldmVsU2VnbWVudHMhPT11bmRlZmluZWQ/b3B0aW9ucy5iZXZlbFNlZ21lbnRzOjM7dmFyIGV4dHJ1ZGVQYXRoPW9wdGlvbnMuZXh0cnVkZVBhdGg7dmFyIHV2Z2VuPW9wdGlvbnMuVVZHZW5lcmF0b3IhPT11bmRlZmluZWQ/b3B0aW9ucy5VVkdlbmVyYXRvcjpXb3JsZFVWR2VuZXJhdG9yOy8vIGRlcHJlY2F0ZWQgb3B0aW9ucwppZihvcHRpb25zLmFtb3VudCE9PXVuZGVmaW5lZCl7Y29uc29sZS53YXJuKCdUSFJFRS5FeHRydWRlQnVmZmVyR2VvbWV0cnk6IGFtb3VudCBoYXMgYmVlbiByZW5hbWVkIHRvIGRlcHRoLicpO2RlcHRoPW9wdGlvbnMuYW1vdW50O30vLwp2YXIgZXh0cnVkZVB0cyxleHRydWRlQnlQYXRoPWZhbHNlO3ZhciBzcGxpbmVUdWJlLGJpbm9ybWFsLG5vcm1hbCxwb3NpdGlvbjI7aWYoZXh0cnVkZVBhdGgpe2V4dHJ1ZGVQdHM9ZXh0cnVkZVBhdGguZ2V0U3BhY2VkUG9pbnRzKHN0ZXBzKTtleHRydWRlQnlQYXRoPXRydWU7YmV2ZWxFbmFibGVkPWZhbHNlOy8vIGJldmVscyBub3Qgc3VwcG9ydGVkIGZvciBwYXRoIGV4dHJ1c2lvbgovLyBTRVRVUCBUTkIgdmFyaWFibGVzCi8vIFRPRE8xIC0gaGF2ZSBhIC5pc0Nsb3NlZCBpbiBzcGxpbmU/CnNwbGluZVR1YmU9ZXh0cnVkZVBhdGguY29tcHV0ZUZyZW5ldEZyYW1lcyhzdGVwcyxmYWxzZSk7Ly8gY29uc29sZS5sb2coc3BsaW5lVHViZSwgJ3NwbGluZVR1YmUnLCBzcGxpbmVUdWJlLm5vcm1hbHMubGVuZ3RoLCAnc3RlcHMnLCBzdGVwcywgJ2V4dHJ1ZGVQdHMnLCBleHRydWRlUHRzLmxlbmd0aCk7CmJpbm9ybWFsPW5ldyBWZWN0b3IzKCk7bm9ybWFsPW5ldyBWZWN0b3IzKCk7cG9zaXRpb24yPW5ldyBWZWN0b3IzKCk7fS8vIFNhZmVndWFyZHMgaWYgYmV2ZWxzIGFyZSBub3QgZW5hYmxlZAppZighYmV2ZWxFbmFibGVkKXtiZXZlbFNlZ21lbnRzPTA7YmV2ZWxUaGlja25lc3M9MDtiZXZlbFNpemU9MDtiZXZlbE9mZnNldD0wO30vLyBWYXJpYWJsZXMgaW5pdGlhbGl6YXRpb24KdmFyIGFob2xlLGgsaGw7Ly8gbG9vcGluZyBvZiBob2xlcwp2YXIgc2hhcGVQb2ludHM9c2hhcGUuZXh0cmFjdFBvaW50cyhjdXJ2ZVNlZ21lbnRzKTt2YXIgdmVydGljZXM9c2hhcGVQb2ludHMuc2hhcGU7dmFyIGhvbGVzPXNoYXBlUG9pbnRzLmhvbGVzO3ZhciByZXZlcnNlPSFTaGFwZVV0aWxzLmlzQ2xvY2tXaXNlKHZlcnRpY2VzKTtpZihyZXZlcnNlKXt2ZXJ0aWNlcz12ZXJ0aWNlcy5yZXZlcnNlKCk7Ly8gTWF5YmUgd2Ugc2hvdWxkIGFsc28gY2hlY2sgaWYgaG9sZXMgYXJlIGluIHRoZSBvcHBvc2l0ZSBkaXJlY3Rpb24sIGp1c3QgdG8gYmUgc2FmZSAuLi4KZm9yKGg9MCxobD1ob2xlcy5sZW5ndGg7aDxobDtoKyspe2Fob2xlPWhvbGVzW2hdO2lmKFNoYXBlVXRpbHMuaXNDbG9ja1dpc2UoYWhvbGUpKXtob2xlc1toXT1haG9sZS5yZXZlcnNlKCk7fX19dmFyIGZhY2VzPVNoYXBlVXRpbHMudHJpYW5ndWxhdGVTaGFwZSh2ZXJ0aWNlcyxob2xlcyk7LyogVmVydGljZXMgKi92YXIgY29udG91cj12ZXJ0aWNlczsvLyB2ZXJ0aWNlcyBoYXMgYWxsIHBvaW50cyBidXQgY29udG91ciBoYXMgb25seSBwb2ludHMgb2YgY2lyY3VtZmVyZW5jZQpmb3IoaD0wLGhsPWhvbGVzLmxlbmd0aDtoPGhsO2grKyl7YWhvbGU9aG9sZXNbaF07dmVydGljZXM9dmVydGljZXMuY29uY2F0KGFob2xlKTt9ZnVuY3Rpb24gc2NhbGVQdDIocHQsdmVjLHNpemUpe2lmKCF2ZWMpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLkV4dHJ1ZGVHZW9tZXRyeTogdmVjIGRvZXMgbm90IGV4aXN0Iik7fXJldHVybiB2ZWMuY2xvbmUoKS5tdWx0aXBseVNjYWxhcihzaXplKS5hZGQocHQpO312YXIgYixicyx0LHosdmVydCx2bGVuPXZlcnRpY2VzLmxlbmd0aCxmYWNlLGZsZW49ZmFjZXMubGVuZ3RoOy8vIEZpbmQgZGlyZWN0aW9ucyBmb3IgcG9pbnQgbW92ZW1lbnQKZnVuY3Rpb24gZ2V0QmV2ZWxWZWMoaW5QdCxpblByZXYsaW5OZXh0KXsvLyBjb21wdXRlcyBmb3IgaW5QdCB0aGUgY29ycmVzcG9uZGluZyBwb2ludCBpblB0JyBvbiBhIG5ldyBjb250b3VyCi8vICAgc2hpZnRlZCBieSAxIHVuaXQgKGxlbmd0aCBvZiBub3JtYWxpemVkIHZlY3RvcikgdG8gdGhlIGxlZnQKLy8gaWYgd2Ugd2FsayBhbG9uZyBjb250b3VyIGNsb2Nrd2lzZSwgdGhpcyBuZXcgY29udG91ciBpcyBvdXRzaWRlIHRoZSBvbGQgb25lCi8vCi8vIGluUHQnIGlzIHRoZSBpbnRlcnNlY3Rpb24gb2YgdGhlIHR3byBsaW5lcyBwYXJhbGxlbCB0byB0aGUgdHdvCi8vICBhZGphY2VudCBlZGdlcyBvZiBpblB0IGF0IGEgZGlzdGFuY2Ugb2YgMSB1bml0IG9uIHRoZSBsZWZ0IHNpZGUuCnZhciB2X3RyYW5zX3gsdl90cmFuc195LHNocmlua19ieTsvLyByZXN1bHRpbmcgdHJhbnNsYXRpb24gdmVjdG9yIGZvciBpblB0Ci8vIGdvb2QgcmVhZGluZyBmb3IgZ2VvbWV0cnkgYWxnb3JpdGhtcyAoaGVyZTogbGluZS1saW5lIGludGVyc2VjdGlvbikKLy8gaHR0cDovL2dlb21hbGdvcml0aG1zLmNvbS9hMDUtX2ludGVyc2VjdC0xLmh0bWwKdmFyIHZfcHJldl94PWluUHQueC1pblByZXYueCx2X3ByZXZfeT1pblB0LnktaW5QcmV2Lnk7dmFyIHZfbmV4dF94PWluTmV4dC54LWluUHQueCx2X25leHRfeT1pbk5leHQueS1pblB0Lnk7dmFyIHZfcHJldl9sZW5zcT12X3ByZXZfeCp2X3ByZXZfeCt2X3ByZXZfeSp2X3ByZXZfeTsvLyBjaGVjayBmb3IgY29sbGluZWFyIGVkZ2VzCnZhciBjb2xsaW5lYXIwPXZfcHJldl94KnZfbmV4dF95LXZfcHJldl95KnZfbmV4dF94O2lmKE1hdGguYWJzKGNvbGxpbmVhcjApPk51bWJlci5FUFNJTE9OKXsvLyBub3QgY29sbGluZWFyCi8vIGxlbmd0aCBvZiB2ZWN0b3JzIGZvciBub3JtYWxpemluZwp2YXIgdl9wcmV2X2xlbj1NYXRoLnNxcnQodl9wcmV2X2xlbnNxKTt2YXIgdl9uZXh0X2xlbj1NYXRoLnNxcnQodl9uZXh0X3gqdl9uZXh0X3grdl9uZXh0X3kqdl9uZXh0X3kpOy8vIHNoaWZ0IGFkamFjZW50IHBvaW50cyBieSB1bml0IHZlY3RvcnMgdG8gdGhlIGxlZnQKdmFyIHB0UHJldlNoaWZ0X3g9aW5QcmV2Lngtdl9wcmV2X3kvdl9wcmV2X2xlbjt2YXIgcHRQcmV2U2hpZnRfeT1pblByZXYueSt2X3ByZXZfeC92X3ByZXZfbGVuO3ZhciBwdE5leHRTaGlmdF94PWluTmV4dC54LXZfbmV4dF95L3ZfbmV4dF9sZW47dmFyIHB0TmV4dFNoaWZ0X3k9aW5OZXh0Lnkrdl9uZXh0X3gvdl9uZXh0X2xlbjsvLyBzY2FsaW5nIGZhY3RvciBmb3Igdl9wcmV2IHRvIGludGVyc2VjdGlvbiBwb2ludAp2YXIgc2Y9KChwdE5leHRTaGlmdF94LXB0UHJldlNoaWZ0X3gpKnZfbmV4dF95LShwdE5leHRTaGlmdF95LXB0UHJldlNoaWZ0X3kpKnZfbmV4dF94KS8odl9wcmV2X3gqdl9uZXh0X3ktdl9wcmV2X3kqdl9uZXh0X3gpOy8vIHZlY3RvciBmcm9tIGluUHQgdG8gaW50ZXJzZWN0aW9uIHBvaW50CnZfdHJhbnNfeD1wdFByZXZTaGlmdF94K3ZfcHJldl94KnNmLWluUHQueDt2X3RyYW5zX3k9cHRQcmV2U2hpZnRfeSt2X3ByZXZfeSpzZi1pblB0Lnk7Ly8gRG9uJ3Qgbm9ybWFsaXplISwgb3RoZXJ3aXNlIHNoYXJwIGNvcm5lcnMgYmVjb21lIHVnbHkKLy8gIGJ1dCBwcmV2ZW50IGNyYXp5IHNwaWtlcwp2YXIgdl90cmFuc19sZW5zcT12X3RyYW5zX3gqdl90cmFuc194K3ZfdHJhbnNfeSp2X3RyYW5zX3k7aWYodl90cmFuc19sZW5zcTw9Mil7cmV0dXJuIG5ldyBWZWN0b3IyKHZfdHJhbnNfeCx2X3RyYW5zX3kpO31lbHNle3Nocmlua19ieT1NYXRoLnNxcnQodl90cmFuc19sZW5zcS8yKTt9fWVsc2V7Ly8gaGFuZGxlIHNwZWNpYWwgY2FzZSBvZiBjb2xsaW5lYXIgZWRnZXMKdmFyIGRpcmVjdGlvbl9lcT1mYWxzZTsvLyBhc3N1bWVzOiBvcHBvc2l0ZQppZih2X3ByZXZfeD5OdW1iZXIuRVBTSUxPTil7aWYodl9uZXh0X3g+TnVtYmVyLkVQU0lMT04pe2RpcmVjdGlvbl9lcT10cnVlO319ZWxzZXtpZih2X3ByZXZfeDwtTnVtYmVyLkVQU0lMT04pe2lmKHZfbmV4dF94PC1OdW1iZXIuRVBTSUxPTil7ZGlyZWN0aW9uX2VxPXRydWU7fX1lbHNle2lmKE1hdGguc2lnbih2X3ByZXZfeSk9PT1NYXRoLnNpZ24odl9uZXh0X3kpKXtkaXJlY3Rpb25fZXE9dHJ1ZTt9fX1pZihkaXJlY3Rpb25fZXEpey8vIGNvbnNvbGUubG9nKCJXYXJuaW5nOiBsaW5lcyBhcmUgYSBzdHJhaWdodCBzZXF1ZW5jZSIpOwp2X3RyYW5zX3g9LXZfcHJldl95O3ZfdHJhbnNfeT12X3ByZXZfeDtzaHJpbmtfYnk9TWF0aC5zcXJ0KHZfcHJldl9sZW5zcSk7fWVsc2V7Ly8gY29uc29sZS5sb2coIldhcm5pbmc6IGxpbmVzIGFyZSBhIHN0cmFpZ2h0IHNwaWtlIik7CnZfdHJhbnNfeD12X3ByZXZfeDt2X3RyYW5zX3k9dl9wcmV2X3k7c2hyaW5rX2J5PU1hdGguc3FydCh2X3ByZXZfbGVuc3EvMik7fX1yZXR1cm4gbmV3IFZlY3RvcjIodl90cmFuc194L3Nocmlua19ieSx2X3RyYW5zX3kvc2hyaW5rX2J5KTt9dmFyIGNvbnRvdXJNb3ZlbWVudHM9W107Zm9yKHZhciBpPTAsaWw9Y29udG91ci5sZW5ndGgsaj1pbC0xLGs9aSsxO2k8aWw7aSsrLGorKyxrKyspe2lmKGo9PT1pbCl7aj0wO31pZihrPT09aWwpe2s9MDt9Ly8gIChqKS0tLShpKS0tLShrKQovLyBjb25zb2xlLmxvZygnaSxqLGsnLCBpLCBqICwgaykKY29udG91ck1vdmVtZW50c1tpXT1nZXRCZXZlbFZlYyhjb250b3VyW2ldLGNvbnRvdXJbal0sY29udG91cltrXSk7fXZhciBob2xlc01vdmVtZW50cz1bXSxvbmVIb2xlTW92ZW1lbnRzLHZlcnRpY2VzTW92ZW1lbnRzPWNvbnRvdXJNb3ZlbWVudHMuY29uY2F0KCk7Zm9yKGg9MCxobD1ob2xlcy5sZW5ndGg7aDxobDtoKyspe2Fob2xlPWhvbGVzW2hdO29uZUhvbGVNb3ZlbWVudHM9W107Zm9yKGk9MCxpbD1haG9sZS5sZW5ndGgsaj1pbC0xLGs9aSsxO2k8aWw7aSsrLGorKyxrKyspe2lmKGo9PT1pbCl7aj0wO31pZihrPT09aWwpe2s9MDt9Ly8gIChqKS0tLShpKS0tLShrKQpvbmVIb2xlTW92ZW1lbnRzW2ldPWdldEJldmVsVmVjKGFob2xlW2ldLGFob2xlW2pdLGFob2xlW2tdKTt9aG9sZXNNb3ZlbWVudHMucHVzaChvbmVIb2xlTW92ZW1lbnRzKTt2ZXJ0aWNlc01vdmVtZW50cz12ZXJ0aWNlc01vdmVtZW50cy5jb25jYXQob25lSG9sZU1vdmVtZW50cyk7fS8vIExvb3AgYmV2ZWxTZWdtZW50cywgMSBmb3IgdGhlIGZyb250LCAxIGZvciB0aGUgYmFjawpmb3IoYj0wO2I8YmV2ZWxTZWdtZW50cztiKyspey8vZm9yICggYiA9IGJldmVsU2VnbWVudHM7IGIgPiAwOyBiIC0tICkgewp0PWIvYmV2ZWxTZWdtZW50czt6PWJldmVsVGhpY2tuZXNzKk1hdGguY29zKHQqTWF0aC5QSS8yKTticz1iZXZlbFNpemUqTWF0aC5zaW4odCpNYXRoLlBJLzIpK2JldmVsT2Zmc2V0Oy8vIGNvbnRyYWN0IHNoYXBlCmZvcihpPTAsaWw9Y29udG91ci5sZW5ndGg7aTxpbDtpKyspe3ZlcnQ9c2NhbGVQdDIoY29udG91cltpXSxjb250b3VyTW92ZW1lbnRzW2ldLGJzKTt2KHZlcnQueCx2ZXJ0LnksLXopO30vLyBleHBhbmQgaG9sZXMKZm9yKGg9MCxobD1ob2xlcy5sZW5ndGg7aDxobDtoKyspe2Fob2xlPWhvbGVzW2hdO29uZUhvbGVNb3ZlbWVudHM9aG9sZXNNb3ZlbWVudHNbaF07Zm9yKGk9MCxpbD1haG9sZS5sZW5ndGg7aTxpbDtpKyspe3ZlcnQ9c2NhbGVQdDIoYWhvbGVbaV0sb25lSG9sZU1vdmVtZW50c1tpXSxicyk7dih2ZXJ0LngsdmVydC55LC16KTt9fX1icz1iZXZlbFNpemUrYmV2ZWxPZmZzZXQ7Ly8gQmFjayBmYWNpbmcgdmVydGljZXMKZm9yKGk9MDtpPHZsZW47aSsrKXt2ZXJ0PWJldmVsRW5hYmxlZD9zY2FsZVB0Mih2ZXJ0aWNlc1tpXSx2ZXJ0aWNlc01vdmVtZW50c1tpXSxicyk6dmVydGljZXNbaV07aWYoIWV4dHJ1ZGVCeVBhdGgpe3YodmVydC54LHZlcnQueSwwKTt9ZWxzZXsvLyB2KCB2ZXJ0LngsIHZlcnQueSArIGV4dHJ1ZGVQdHNbIDAgXS55LCBleHRydWRlUHRzWyAwIF0ueCApOwpub3JtYWwuY29weShzcGxpbmVUdWJlLm5vcm1hbHNbMF0pLm11bHRpcGx5U2NhbGFyKHZlcnQueCk7Ymlub3JtYWwuY29weShzcGxpbmVUdWJlLmJpbm9ybWFsc1swXSkubXVsdGlwbHlTY2FsYXIodmVydC55KTtwb3NpdGlvbjIuY29weShleHRydWRlUHRzWzBdKS5hZGQobm9ybWFsKS5hZGQoYmlub3JtYWwpO3YocG9zaXRpb24yLngscG9zaXRpb24yLnkscG9zaXRpb24yLnopO319Ly8gQWRkIHN0ZXBwZWQgdmVydGljZXMuLi4KLy8gSW5jbHVkaW5nIGZyb250IGZhY2luZyB2ZXJ0aWNlcwp2YXIgcztmb3Iocz0xO3M8PXN0ZXBzO3MrKyl7Zm9yKGk9MDtpPHZsZW47aSsrKXt2ZXJ0PWJldmVsRW5hYmxlZD9zY2FsZVB0Mih2ZXJ0aWNlc1tpXSx2ZXJ0aWNlc01vdmVtZW50c1tpXSxicyk6dmVydGljZXNbaV07aWYoIWV4dHJ1ZGVCeVBhdGgpe3YodmVydC54LHZlcnQueSxkZXB0aC9zdGVwcypzKTt9ZWxzZXsvLyB2KCB2ZXJ0LngsIHZlcnQueSArIGV4dHJ1ZGVQdHNbIHMgLSAxIF0ueSwgZXh0cnVkZVB0c1sgcyAtIDEgXS54ICk7Cm5vcm1hbC5jb3B5KHNwbGluZVR1YmUubm9ybWFsc1tzXSkubXVsdGlwbHlTY2FsYXIodmVydC54KTtiaW5vcm1hbC5jb3B5KHNwbGluZVR1YmUuYmlub3JtYWxzW3NdKS5tdWx0aXBseVNjYWxhcih2ZXJ0LnkpO3Bvc2l0aW9uMi5jb3B5KGV4dHJ1ZGVQdHNbc10pLmFkZChub3JtYWwpLmFkZChiaW5vcm1hbCk7dihwb3NpdGlvbjIueCxwb3NpdGlvbjIueSxwb3NpdGlvbjIueik7fX19Ly8gQWRkIGJldmVsIHNlZ21lbnRzIHBsYW5lcwovL2ZvciAoIGIgPSAxOyBiIDw9IGJldmVsU2VnbWVudHM7IGIgKysgKSB7CmZvcihiPWJldmVsU2VnbWVudHMtMTtiPj0wO2ItLSl7dD1iL2JldmVsU2VnbWVudHM7ej1iZXZlbFRoaWNrbmVzcypNYXRoLmNvcyh0Kk1hdGguUEkvMik7YnM9YmV2ZWxTaXplKk1hdGguc2luKHQqTWF0aC5QSS8yKStiZXZlbE9mZnNldDsvLyBjb250cmFjdCBzaGFwZQpmb3IoaT0wLGlsPWNvbnRvdXIubGVuZ3RoO2k8aWw7aSsrKXt2ZXJ0PXNjYWxlUHQyKGNvbnRvdXJbaV0sY29udG91ck1vdmVtZW50c1tpXSxicyk7dih2ZXJ0LngsdmVydC55LGRlcHRoK3opO30vLyBleHBhbmQgaG9sZXMKZm9yKGg9MCxobD1ob2xlcy5sZW5ndGg7aDxobDtoKyspe2Fob2xlPWhvbGVzW2hdO29uZUhvbGVNb3ZlbWVudHM9aG9sZXNNb3ZlbWVudHNbaF07Zm9yKGk9MCxpbD1haG9sZS5sZW5ndGg7aTxpbDtpKyspe3ZlcnQ9c2NhbGVQdDIoYWhvbGVbaV0sb25lSG9sZU1vdmVtZW50c1tpXSxicyk7aWYoIWV4dHJ1ZGVCeVBhdGgpe3YodmVydC54LHZlcnQueSxkZXB0aCt6KTt9ZWxzZXt2KHZlcnQueCx2ZXJ0LnkrZXh0cnVkZVB0c1tzdGVwcy0xXS55LGV4dHJ1ZGVQdHNbc3RlcHMtMV0ueCt6KTt9fX19LyogRmFjZXMgKi8gLy8gVG9wIGFuZCBib3R0b20gZmFjZXMKYnVpbGRMaWRGYWNlcygpOy8vIFNpZGVzIGZhY2VzCmJ1aWxkU2lkZUZhY2VzKCk7Ly8vLy8gIEludGVybmFsIGZ1bmN0aW9ucwpmdW5jdGlvbiBidWlsZExpZEZhY2VzKCl7dmFyIHN0YXJ0PXZlcnRpY2VzQXJyYXkubGVuZ3RoLzM7aWYoYmV2ZWxFbmFibGVkKXt2YXIgbGF5ZXI9MDsvLyBzdGVwcyArIDEKdmFyIG9mZnNldD12bGVuKmxheWVyOy8vIEJvdHRvbSBmYWNlcwpmb3IoaT0wO2k8ZmxlbjtpKyspe2ZhY2U9ZmFjZXNbaV07ZjMoZmFjZVsyXStvZmZzZXQsZmFjZVsxXStvZmZzZXQsZmFjZVswXStvZmZzZXQpO31sYXllcj1zdGVwcytiZXZlbFNlZ21lbnRzKjI7b2Zmc2V0PXZsZW4qbGF5ZXI7Ly8gVG9wIGZhY2VzCmZvcihpPTA7aTxmbGVuO2krKyl7ZmFjZT1mYWNlc1tpXTtmMyhmYWNlWzBdK29mZnNldCxmYWNlWzFdK29mZnNldCxmYWNlWzJdK29mZnNldCk7fX1lbHNley8vIEJvdHRvbSBmYWNlcwpmb3IoaT0wO2k8ZmxlbjtpKyspe2ZhY2U9ZmFjZXNbaV07ZjMoZmFjZVsyXSxmYWNlWzFdLGZhY2VbMF0pO30vLyBUb3AgZmFjZXMKZm9yKGk9MDtpPGZsZW47aSsrKXtmYWNlPWZhY2VzW2ldO2YzKGZhY2VbMF0rdmxlbipzdGVwcyxmYWNlWzFdK3ZsZW4qc3RlcHMsZmFjZVsyXSt2bGVuKnN0ZXBzKTt9fXNjb3BlLmFkZEdyb3VwKHN0YXJ0LHZlcnRpY2VzQXJyYXkubGVuZ3RoLzMtc3RhcnQsMCk7fS8vIENyZWF0ZSBmYWNlcyBmb3IgdGhlIHotc2lkZXMgb2YgdGhlIHNoYXBlCmZ1bmN0aW9uIGJ1aWxkU2lkZUZhY2VzKCl7dmFyIHN0YXJ0PXZlcnRpY2VzQXJyYXkubGVuZ3RoLzM7dmFyIGxheWVyb2Zmc2V0PTA7c2lkZXdhbGxzKGNvbnRvdXIsbGF5ZXJvZmZzZXQpO2xheWVyb2Zmc2V0Kz1jb250b3VyLmxlbmd0aDtmb3IoaD0wLGhsPWhvbGVzLmxlbmd0aDtoPGhsO2grKyl7YWhvbGU9aG9sZXNbaF07c2lkZXdhbGxzKGFob2xlLGxheWVyb2Zmc2V0KTsvLywgdHJ1ZQpsYXllcm9mZnNldCs9YWhvbGUubGVuZ3RoO31zY29wZS5hZGRHcm91cChzdGFydCx2ZXJ0aWNlc0FycmF5Lmxlbmd0aC8zLXN0YXJ0LDEpO31mdW5jdGlvbiBzaWRld2FsbHMoY29udG91cixsYXllcm9mZnNldCl7dmFyIGosaztpPWNvbnRvdXIubGVuZ3RoO3doaWxlKC0taT49MCl7aj1pO2s9aS0xO2lmKGs8MCl7az1jb250b3VyLmxlbmd0aC0xO30vL2NvbnNvbGUubG9nKCdiJywgaSxqLCBpLTEsIGssdmVydGljZXMubGVuZ3RoKTsKdmFyIHM9MCxzbD1zdGVwcytiZXZlbFNlZ21lbnRzKjI7Zm9yKHM9MDtzPHNsO3MrKyl7dmFyIHNsZW4xPXZsZW4qczt2YXIgc2xlbjI9dmxlbioocysxKTt2YXIgYT1sYXllcm9mZnNldCtqK3NsZW4xLGI9bGF5ZXJvZmZzZXQraytzbGVuMSxjPWxheWVyb2Zmc2V0K2src2xlbjIsZD1sYXllcm9mZnNldCtqK3NsZW4yO2Y0KGEsYixjLGQpO319fWZ1bmN0aW9uIHYoeCx5LHope3BsYWNlaG9sZGVyLnB1c2goeCk7cGxhY2Vob2xkZXIucHVzaCh5KTtwbGFjZWhvbGRlci5wdXNoKHopO31mdW5jdGlvbiBmMyhhLGIsYyl7YWRkVmVydGV4KGEpO2FkZFZlcnRleChiKTthZGRWZXJ0ZXgoYyk7dmFyIG5leHRJbmRleD12ZXJ0aWNlc0FycmF5Lmxlbmd0aC8zO3ZhciB1dnM9dXZnZW4uZ2VuZXJhdGVUb3BVVihzY29wZSx2ZXJ0aWNlc0FycmF5LG5leHRJbmRleC0zLG5leHRJbmRleC0yLG5leHRJbmRleC0xKTthZGRVVih1dnNbMF0pO2FkZFVWKHV2c1sxXSk7YWRkVVYodXZzWzJdKTt9ZnVuY3Rpb24gZjQoYSxiLGMsZCl7YWRkVmVydGV4KGEpO2FkZFZlcnRleChiKTthZGRWZXJ0ZXgoZCk7YWRkVmVydGV4KGIpO2FkZFZlcnRleChjKTthZGRWZXJ0ZXgoZCk7dmFyIG5leHRJbmRleD12ZXJ0aWNlc0FycmF5Lmxlbmd0aC8zO3ZhciB1dnM9dXZnZW4uZ2VuZXJhdGVTaWRlV2FsbFVWKHNjb3BlLHZlcnRpY2VzQXJyYXksbmV4dEluZGV4LTYsbmV4dEluZGV4LTMsbmV4dEluZGV4LTIsbmV4dEluZGV4LTEpO2FkZFVWKHV2c1swXSk7YWRkVVYodXZzWzFdKTthZGRVVih1dnNbM10pO2FkZFVWKHV2c1sxXSk7YWRkVVYodXZzWzJdKTthZGRVVih1dnNbM10pO31mdW5jdGlvbiBhZGRWZXJ0ZXgoaW5kZXgpe3ZlcnRpY2VzQXJyYXkucHVzaChwbGFjZWhvbGRlcltpbmRleCozKzBdKTt2ZXJ0aWNlc0FycmF5LnB1c2gocGxhY2Vob2xkZXJbaW5kZXgqMysxXSk7dmVydGljZXNBcnJheS5wdXNoKHBsYWNlaG9sZGVyW2luZGV4KjMrMl0pO31mdW5jdGlvbiBhZGRVVih2ZWN0b3IyKXt1dkFycmF5LnB1c2godmVjdG9yMi54KTt1dkFycmF5LnB1c2godmVjdG9yMi55KTt9fX1FeHRydWRlQnVmZmVyR2VvbWV0cnkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoQnVmZmVyR2VvbWV0cnkucHJvdG90eXBlKTtFeHRydWRlQnVmZmVyR2VvbWV0cnkucHJvdG90eXBlLmNvbnN0cnVjdG9yPUV4dHJ1ZGVCdWZmZXJHZW9tZXRyeTtFeHRydWRlQnVmZmVyR2VvbWV0cnkucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3ZhciBkYXRhPUJ1ZmZlckdlb21ldHJ5LnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzKTt2YXIgc2hhcGVzPXRoaXMucGFyYW1ldGVycy5zaGFwZXM7dmFyIG9wdGlvbnM9dGhpcy5wYXJhbWV0ZXJzLm9wdGlvbnM7cmV0dXJuIHRvSlNPTihzaGFwZXMsb3B0aW9ucyxkYXRhKTt9Oy8vCnZhciBXb3JsZFVWR2VuZXJhdG9yPXtnZW5lcmF0ZVRvcFVWOmZ1bmN0aW9uIGdlbmVyYXRlVG9wVVYoZ2VvbWV0cnksdmVydGljZXMsaW5kZXhBLGluZGV4QixpbmRleEMpe3ZhciBhX3g9dmVydGljZXNbaW5kZXhBKjNdO3ZhciBhX3k9dmVydGljZXNbaW5kZXhBKjMrMV07dmFyIGJfeD12ZXJ0aWNlc1tpbmRleEIqM107dmFyIGJfeT12ZXJ0aWNlc1tpbmRleEIqMysxXTt2YXIgY194PXZlcnRpY2VzW2luZGV4QyozXTt2YXIgY195PXZlcnRpY2VzW2luZGV4QyozKzFdO3JldHVybltuZXcgVmVjdG9yMihhX3gsYV95KSxuZXcgVmVjdG9yMihiX3gsYl95KSxuZXcgVmVjdG9yMihjX3gsY195KV07fSxnZW5lcmF0ZVNpZGVXYWxsVVY6ZnVuY3Rpb24gZ2VuZXJhdGVTaWRlV2FsbFVWKGdlb21ldHJ5LHZlcnRpY2VzLGluZGV4QSxpbmRleEIsaW5kZXhDLGluZGV4RCl7dmFyIGFfeD12ZXJ0aWNlc1tpbmRleEEqM107dmFyIGFfeT12ZXJ0aWNlc1tpbmRleEEqMysxXTt2YXIgYV96PXZlcnRpY2VzW2luZGV4QSozKzJdO3ZhciBiX3g9dmVydGljZXNbaW5kZXhCKjNdO3ZhciBiX3k9dmVydGljZXNbaW5kZXhCKjMrMV07dmFyIGJfej12ZXJ0aWNlc1tpbmRleEIqMysyXTt2YXIgY194PXZlcnRpY2VzW2luZGV4QyozXTt2YXIgY195PXZlcnRpY2VzW2luZGV4QyozKzFdO3ZhciBjX3o9dmVydGljZXNbaW5kZXhDKjMrMl07dmFyIGRfeD12ZXJ0aWNlc1tpbmRleEQqM107dmFyIGRfeT12ZXJ0aWNlc1tpbmRleEQqMysxXTt2YXIgZF96PXZlcnRpY2VzW2luZGV4RCozKzJdO2lmKE1hdGguYWJzKGFfeS1iX3kpPDAuMDEpe3JldHVybltuZXcgVmVjdG9yMihhX3gsMS1hX3opLG5ldyBWZWN0b3IyKGJfeCwxLWJfeiksbmV3IFZlY3RvcjIoY194LDEtY196KSxuZXcgVmVjdG9yMihkX3gsMS1kX3opXTt9ZWxzZXtyZXR1cm5bbmV3IFZlY3RvcjIoYV95LDEtYV96KSxuZXcgVmVjdG9yMihiX3ksMS1iX3opLG5ldyBWZWN0b3IyKGNfeSwxLWNfeiksbmV3IFZlY3RvcjIoZF95LDEtZF96KV07fX19O2Z1bmN0aW9uIHRvSlNPTihzaGFwZXMsb3B0aW9ucyxkYXRhKXsvLwpkYXRhLnNoYXBlcz1bXTtpZihBcnJheS5pc0FycmF5KHNoYXBlcykpe2Zvcih2YXIgaT0wLGw9c2hhcGVzLmxlbmd0aDtpPGw7aSsrKXt2YXIgc2hhcGU9c2hhcGVzW2ldO2RhdGEuc2hhcGVzLnB1c2goc2hhcGUudXVpZCk7fX1lbHNle2RhdGEuc2hhcGVzLnB1c2goc2hhcGVzLnV1aWQpO30vLwppZihvcHRpb25zLmV4dHJ1ZGVQYXRoIT09dW5kZWZpbmVkKXtkYXRhLm9wdGlvbnMuZXh0cnVkZVBhdGg9b3B0aW9ucy5leHRydWRlUGF0aC50b0pTT04oKTt9cmV0dXJuIGRhdGE7fS8qKgogICAqIEBhdXRob3Igeno4NSAvIGh0dHA6Ly93d3cubGFiNGdhbWVzLm5ldC96ejg1L2Jsb2cKICAgKiBAYXV0aG9yIGFsdGVyZWRxIC8gaHR0cDovL2FsdGVyZWRxdWFsaWEuY29tLwogICAqCiAgICogVGV4dCA9IDNEIFRleHQKICAgKgogICAqIHBhcmFtZXRlcnMgPSB7CiAgICogIGZvbnQ6IDxUSFJFRS5Gb250PiwgLy8gZm9udAogICAqCiAgICogIHNpemU6IDxmbG9hdD4sIC8vIHNpemUgb2YgdGhlIHRleHQKICAgKiAgaGVpZ2h0OiA8ZmxvYXQ+LCAvLyB0aGlja25lc3MgdG8gZXh0cnVkZSB0ZXh0CiAgICogIGN1cnZlU2VnbWVudHM6IDxpbnQ+LCAvLyBudW1iZXIgb2YgcG9pbnRzIG9uIHRoZSBjdXJ2ZXMKICAgKgogICAqICBiZXZlbEVuYWJsZWQ6IDxib29sPiwgLy8gdHVybiBvbiBiZXZlbAogICAqICBiZXZlbFRoaWNrbmVzczogPGZsb2F0PiwgLy8gaG93IGRlZXAgaW50byB0ZXh0IGJldmVsIGdvZXMKICAgKiAgYmV2ZWxTaXplOiA8ZmxvYXQ+LCAvLyBob3cgZmFyIGZyb20gdGV4dCBvdXRsaW5lIChpbmNsdWRpbmcgYmV2ZWxPZmZzZXQpIGlzIGJldmVsCiAgICogIGJldmVsT2Zmc2V0OiA8ZmxvYXQ+IC8vIGhvdyBmYXIgZnJvbSB0ZXh0IG91dGxpbmUgZG9lcyBiZXZlbCBzdGFydAogICAqIH0KICAgKi8gLy8gVGV4dEdlb21ldHJ5CmZ1bmN0aW9uIFRleHRHZW9tZXRyeSh0ZXh0LHBhcmFtZXRlcnMpe0dlb21ldHJ5LmNhbGwodGhpcyk7dGhpcy50eXBlPSdUZXh0R2VvbWV0cnknO3RoaXMucGFyYW1ldGVycz17dGV4dDp0ZXh0LHBhcmFtZXRlcnM6cGFyYW1ldGVyc307dGhpcy5mcm9tQnVmZmVyR2VvbWV0cnkobmV3IFRleHRCdWZmZXJHZW9tZXRyeSh0ZXh0LHBhcmFtZXRlcnMpKTt0aGlzLm1lcmdlVmVydGljZXMoKTt9VGV4dEdlb21ldHJ5LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEdlb21ldHJ5LnByb3RvdHlwZSk7VGV4dEdlb21ldHJ5LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1UZXh0R2VvbWV0cnk7Ly8gVGV4dEJ1ZmZlckdlb21ldHJ5CmZ1bmN0aW9uIFRleHRCdWZmZXJHZW9tZXRyeSh0ZXh0LHBhcmFtZXRlcnMpe3BhcmFtZXRlcnM9cGFyYW1ldGVyc3x8e307dmFyIGZvbnQ9cGFyYW1ldGVycy5mb250O2lmKCEoZm9udCYmZm9udC5pc0ZvbnQpKXtjb25zb2xlLmVycm9yKCdUSFJFRS5UZXh0R2VvbWV0cnk6IGZvbnQgcGFyYW1ldGVyIGlzIG5vdCBhbiBpbnN0YW5jZSBvZiBUSFJFRS5Gb250LicpO3JldHVybiBuZXcgR2VvbWV0cnkoKTt9dmFyIHNoYXBlcz1mb250LmdlbmVyYXRlU2hhcGVzKHRleHQscGFyYW1ldGVycy5zaXplKTsvLyB0cmFuc2xhdGUgcGFyYW1ldGVycyB0byBFeHRydWRlR2VvbWV0cnkgQVBJCnBhcmFtZXRlcnMuZGVwdGg9cGFyYW1ldGVycy5oZWlnaHQhPT11bmRlZmluZWQ/cGFyYW1ldGVycy5oZWlnaHQ6NTA7Ly8gZGVmYXVsdHMKaWYocGFyYW1ldGVycy5iZXZlbFRoaWNrbmVzcz09PXVuZGVmaW5lZCl7cGFyYW1ldGVycy5iZXZlbFRoaWNrbmVzcz0xMDt9aWYocGFyYW1ldGVycy5iZXZlbFNpemU9PT11bmRlZmluZWQpe3BhcmFtZXRlcnMuYmV2ZWxTaXplPTg7fWlmKHBhcmFtZXRlcnMuYmV2ZWxFbmFibGVkPT09dW5kZWZpbmVkKXtwYXJhbWV0ZXJzLmJldmVsRW5hYmxlZD1mYWxzZTt9RXh0cnVkZUJ1ZmZlckdlb21ldHJ5LmNhbGwodGhpcyxzaGFwZXMscGFyYW1ldGVycyk7dGhpcy50eXBlPSdUZXh0QnVmZmVyR2VvbWV0cnknO31UZXh0QnVmZmVyR2VvbWV0cnkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoRXh0cnVkZUJ1ZmZlckdlb21ldHJ5LnByb3RvdHlwZSk7VGV4dEJ1ZmZlckdlb21ldHJ5LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1UZXh0QnVmZmVyR2VvbWV0cnk7LyoqCiAgICogQGF1dGhvciBtcmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS8KICAgKiBAYXV0aG9yIGJlbmFhZGFtcyAvIGh0dHBzOi8vdHdpdHRlci5jb20vYmVuX2FfYWRhbXMKICAgKiBAYXV0aG9yIE11Z2VuODcgLyBodHRwczovL2dpdGh1Yi5jb20vTXVnZW44NwogICAqLyAvLyBTcGhlcmVHZW9tZXRyeQpmdW5jdGlvbiBTcGhlcmVHZW9tZXRyeShyYWRpdXMsd2lkdGhTZWdtZW50cyxoZWlnaHRTZWdtZW50cyxwaGlTdGFydCxwaGlMZW5ndGgsdGhldGFTdGFydCx0aGV0YUxlbmd0aCl7R2VvbWV0cnkuY2FsbCh0aGlzKTt0aGlzLnR5cGU9J1NwaGVyZUdlb21ldHJ5Jzt0aGlzLnBhcmFtZXRlcnM9e3JhZGl1czpyYWRpdXMsd2lkdGhTZWdtZW50czp3aWR0aFNlZ21lbnRzLGhlaWdodFNlZ21lbnRzOmhlaWdodFNlZ21lbnRzLHBoaVN0YXJ0OnBoaVN0YXJ0LHBoaUxlbmd0aDpwaGlMZW5ndGgsdGhldGFTdGFydDp0aGV0YVN0YXJ0LHRoZXRhTGVuZ3RoOnRoZXRhTGVuZ3RofTt0aGlzLmZyb21CdWZmZXJHZW9tZXRyeShuZXcgU3BoZXJlQnVmZmVyR2VvbWV0cnkocmFkaXVzLHdpZHRoU2VnbWVudHMsaGVpZ2h0U2VnbWVudHMscGhpU3RhcnQscGhpTGVuZ3RoLHRoZXRhU3RhcnQsdGhldGFMZW5ndGgpKTt0aGlzLm1lcmdlVmVydGljZXMoKTt9U3BoZXJlR2VvbWV0cnkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoR2VvbWV0cnkucHJvdG90eXBlKTtTcGhlcmVHZW9tZXRyeS5wcm90b3R5cGUuY29uc3RydWN0b3I9U3BoZXJlR2VvbWV0cnk7Ly8gU3BoZXJlQnVmZmVyR2VvbWV0cnkKZnVuY3Rpb24gU3BoZXJlQnVmZmVyR2VvbWV0cnkocmFkaXVzLHdpZHRoU2VnbWVudHMsaGVpZ2h0U2VnbWVudHMscGhpU3RhcnQscGhpTGVuZ3RoLHRoZXRhU3RhcnQsdGhldGFMZW5ndGgpe0J1ZmZlckdlb21ldHJ5LmNhbGwodGhpcyk7dGhpcy50eXBlPSdTcGhlcmVCdWZmZXJHZW9tZXRyeSc7dGhpcy5wYXJhbWV0ZXJzPXtyYWRpdXM6cmFkaXVzLHdpZHRoU2VnbWVudHM6d2lkdGhTZWdtZW50cyxoZWlnaHRTZWdtZW50czpoZWlnaHRTZWdtZW50cyxwaGlTdGFydDpwaGlTdGFydCxwaGlMZW5ndGg6cGhpTGVuZ3RoLHRoZXRhU3RhcnQ6dGhldGFTdGFydCx0aGV0YUxlbmd0aDp0aGV0YUxlbmd0aH07cmFkaXVzPXJhZGl1c3x8MTt3aWR0aFNlZ21lbnRzPU1hdGgubWF4KDMsTWF0aC5mbG9vcih3aWR0aFNlZ21lbnRzKXx8OCk7aGVpZ2h0U2VnbWVudHM9TWF0aC5tYXgoMixNYXRoLmZsb29yKGhlaWdodFNlZ21lbnRzKXx8Nik7cGhpU3RhcnQ9cGhpU3RhcnQhPT11bmRlZmluZWQ/cGhpU3RhcnQ6MDtwaGlMZW5ndGg9cGhpTGVuZ3RoIT09dW5kZWZpbmVkP3BoaUxlbmd0aDpNYXRoLlBJKjI7dGhldGFTdGFydD10aGV0YVN0YXJ0IT09dW5kZWZpbmVkP3RoZXRhU3RhcnQ6MDt0aGV0YUxlbmd0aD10aGV0YUxlbmd0aCE9PXVuZGVmaW5lZD90aGV0YUxlbmd0aDpNYXRoLlBJO3ZhciB0aGV0YUVuZD1NYXRoLm1pbih0aGV0YVN0YXJ0K3RoZXRhTGVuZ3RoLE1hdGguUEkpO3ZhciBpeCxpeTt2YXIgaW5kZXg9MDt2YXIgZ3JpZD1bXTt2YXIgdmVydGV4PW5ldyBWZWN0b3IzKCk7dmFyIG5vcm1hbD1uZXcgVmVjdG9yMygpOy8vIGJ1ZmZlcnMKdmFyIGluZGljZXM9W107dmFyIHZlcnRpY2VzPVtdO3ZhciBub3JtYWxzPVtdO3ZhciB1dnM9W107Ly8gZ2VuZXJhdGUgdmVydGljZXMsIG5vcm1hbHMgYW5kIHV2cwpmb3IoaXk9MDtpeTw9aGVpZ2h0U2VnbWVudHM7aXkrKyl7dmFyIHZlcnRpY2VzUm93PVtdO3ZhciB2PWl5L2hlaWdodFNlZ21lbnRzOy8vIHNwZWNpYWwgY2FzZSBmb3IgdGhlIHBvbGVzCnZhciB1T2Zmc2V0PTA7aWYoaXk9PTAmJnRoZXRhU3RhcnQ9PTApe3VPZmZzZXQ9MC41L3dpZHRoU2VnbWVudHM7fWVsc2UgaWYoaXk9PWhlaWdodFNlZ21lbnRzJiZ0aGV0YUVuZD09TWF0aC5QSSl7dU9mZnNldD0tMC41L3dpZHRoU2VnbWVudHM7fWZvcihpeD0wO2l4PD13aWR0aFNlZ21lbnRzO2l4Kyspe3ZhciB1PWl4L3dpZHRoU2VnbWVudHM7Ly8gdmVydGV4CnZlcnRleC54PS1yYWRpdXMqTWF0aC5jb3MocGhpU3RhcnQrdSpwaGlMZW5ndGgpKk1hdGguc2luKHRoZXRhU3RhcnQrdip0aGV0YUxlbmd0aCk7dmVydGV4Lnk9cmFkaXVzKk1hdGguY29zKHRoZXRhU3RhcnQrdip0aGV0YUxlbmd0aCk7dmVydGV4Lno9cmFkaXVzKk1hdGguc2luKHBoaVN0YXJ0K3UqcGhpTGVuZ3RoKSpNYXRoLnNpbih0aGV0YVN0YXJ0K3YqdGhldGFMZW5ndGgpO3ZlcnRpY2VzLnB1c2godmVydGV4LngsdmVydGV4LnksdmVydGV4LnopOy8vIG5vcm1hbApub3JtYWwuY29weSh2ZXJ0ZXgpLm5vcm1hbGl6ZSgpO25vcm1hbHMucHVzaChub3JtYWwueCxub3JtYWwueSxub3JtYWwueik7Ly8gdXYKdXZzLnB1c2godSt1T2Zmc2V0LDEtdik7dmVydGljZXNSb3cucHVzaChpbmRleCsrKTt9Z3JpZC5wdXNoKHZlcnRpY2VzUm93KTt9Ly8gaW5kaWNlcwpmb3IoaXk9MDtpeTxoZWlnaHRTZWdtZW50cztpeSsrKXtmb3IoaXg9MDtpeDx3aWR0aFNlZ21lbnRzO2l4Kyspe3ZhciBhPWdyaWRbaXldW2l4KzFdO3ZhciBiPWdyaWRbaXldW2l4XTt2YXIgYz1ncmlkW2l5KzFdW2l4XTt2YXIgZD1ncmlkW2l5KzFdW2l4KzFdO2lmKGl5IT09MHx8dGhldGFTdGFydD4wKXtpbmRpY2VzLnB1c2goYSxiLGQpO31pZihpeSE9PWhlaWdodFNlZ21lbnRzLTF8fHRoZXRhRW5kPE1hdGguUEkpe2luZGljZXMucHVzaChiLGMsZCk7fX19Ly8gYnVpbGQgZ2VvbWV0cnkKdGhpcy5zZXRJbmRleChpbmRpY2VzKTt0aGlzLnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKHZlcnRpY2VzLDMpKTt0aGlzLnNldEF0dHJpYnV0ZSgnbm9ybWFsJyxuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZShub3JtYWxzLDMpKTt0aGlzLnNldEF0dHJpYnV0ZSgndXYnLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKHV2cywyKSk7fVNwaGVyZUJ1ZmZlckdlb21ldHJ5LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEJ1ZmZlckdlb21ldHJ5LnByb3RvdHlwZSk7U3BoZXJlQnVmZmVyR2VvbWV0cnkucHJvdG90eXBlLmNvbnN0cnVjdG9yPVNwaGVyZUJ1ZmZlckdlb21ldHJ5Oy8qKgogICAqIEBhdXRob3IgS2FsZWIgTXVycGh5CiAgICogQGF1dGhvciBNdWdlbjg3IC8gaHR0cHM6Ly9naXRodWIuY29tL011Z2VuODcKICAgKi8gLy8gUmluZ0dlb21ldHJ5CmZ1bmN0aW9uIFJpbmdHZW9tZXRyeShpbm5lclJhZGl1cyxvdXRlclJhZGl1cyx0aGV0YVNlZ21lbnRzLHBoaVNlZ21lbnRzLHRoZXRhU3RhcnQsdGhldGFMZW5ndGgpe0dlb21ldHJ5LmNhbGwodGhpcyk7dGhpcy50eXBlPSdSaW5nR2VvbWV0cnknO3RoaXMucGFyYW1ldGVycz17aW5uZXJSYWRpdXM6aW5uZXJSYWRpdXMsb3V0ZXJSYWRpdXM6b3V0ZXJSYWRpdXMsdGhldGFTZWdtZW50czp0aGV0YVNlZ21lbnRzLHBoaVNlZ21lbnRzOnBoaVNlZ21lbnRzLHRoZXRhU3RhcnQ6dGhldGFTdGFydCx0aGV0YUxlbmd0aDp0aGV0YUxlbmd0aH07dGhpcy5mcm9tQnVmZmVyR2VvbWV0cnkobmV3IFJpbmdCdWZmZXJHZW9tZXRyeShpbm5lclJhZGl1cyxvdXRlclJhZGl1cyx0aGV0YVNlZ21lbnRzLHBoaVNlZ21lbnRzLHRoZXRhU3RhcnQsdGhldGFMZW5ndGgpKTt0aGlzLm1lcmdlVmVydGljZXMoKTt9UmluZ0dlb21ldHJ5LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEdlb21ldHJ5LnByb3RvdHlwZSk7UmluZ0dlb21ldHJ5LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1SaW5nR2VvbWV0cnk7Ly8gUmluZ0J1ZmZlckdlb21ldHJ5CmZ1bmN0aW9uIFJpbmdCdWZmZXJHZW9tZXRyeShpbm5lclJhZGl1cyxvdXRlclJhZGl1cyx0aGV0YVNlZ21lbnRzLHBoaVNlZ21lbnRzLHRoZXRhU3RhcnQsdGhldGFMZW5ndGgpe0J1ZmZlckdlb21ldHJ5LmNhbGwodGhpcyk7dGhpcy50eXBlPSdSaW5nQnVmZmVyR2VvbWV0cnknO3RoaXMucGFyYW1ldGVycz17aW5uZXJSYWRpdXM6aW5uZXJSYWRpdXMsb3V0ZXJSYWRpdXM6b3V0ZXJSYWRpdXMsdGhldGFTZWdtZW50czp0aGV0YVNlZ21lbnRzLHBoaVNlZ21lbnRzOnBoaVNlZ21lbnRzLHRoZXRhU3RhcnQ6dGhldGFTdGFydCx0aGV0YUxlbmd0aDp0aGV0YUxlbmd0aH07aW5uZXJSYWRpdXM9aW5uZXJSYWRpdXN8fDAuNTtvdXRlclJhZGl1cz1vdXRlclJhZGl1c3x8MTt0aGV0YVN0YXJ0PXRoZXRhU3RhcnQhPT11bmRlZmluZWQ/dGhldGFTdGFydDowO3RoZXRhTGVuZ3RoPXRoZXRhTGVuZ3RoIT09dW5kZWZpbmVkP3RoZXRhTGVuZ3RoOk1hdGguUEkqMjt0aGV0YVNlZ21lbnRzPXRoZXRhU2VnbWVudHMhPT11bmRlZmluZWQ/TWF0aC5tYXgoMyx0aGV0YVNlZ21lbnRzKTo4O3BoaVNlZ21lbnRzPXBoaVNlZ21lbnRzIT09dW5kZWZpbmVkP01hdGgubWF4KDEscGhpU2VnbWVudHMpOjE7Ly8gYnVmZmVycwp2YXIgaW5kaWNlcz1bXTt2YXIgdmVydGljZXM9W107dmFyIG5vcm1hbHM9W107dmFyIHV2cz1bXTsvLyBzb21lIGhlbHBlciB2YXJpYWJsZXMKdmFyIHNlZ21lbnQ7dmFyIHJhZGl1cz1pbm5lclJhZGl1czt2YXIgcmFkaXVzU3RlcD0ob3V0ZXJSYWRpdXMtaW5uZXJSYWRpdXMpL3BoaVNlZ21lbnRzO3ZhciB2ZXJ0ZXg9bmV3IFZlY3RvcjMoKTt2YXIgdXY9bmV3IFZlY3RvcjIoKTt2YXIgaixpOy8vIGdlbmVyYXRlIHZlcnRpY2VzLCBub3JtYWxzIGFuZCB1dnMKZm9yKGo9MDtqPD1waGlTZWdtZW50cztqKyspe2ZvcihpPTA7aTw9dGhldGFTZWdtZW50cztpKyspey8vIHZhbHVlcyBhcmUgZ2VuZXJhdGUgZnJvbSB0aGUgaW5zaWRlIG9mIHRoZSByaW5nIHRvIHRoZSBvdXRzaWRlCnNlZ21lbnQ9dGhldGFTdGFydCtpL3RoZXRhU2VnbWVudHMqdGhldGFMZW5ndGg7Ly8gdmVydGV4CnZlcnRleC54PXJhZGl1cypNYXRoLmNvcyhzZWdtZW50KTt2ZXJ0ZXgueT1yYWRpdXMqTWF0aC5zaW4oc2VnbWVudCk7dmVydGljZXMucHVzaCh2ZXJ0ZXgueCx2ZXJ0ZXgueSx2ZXJ0ZXgueik7Ly8gbm9ybWFsCm5vcm1hbHMucHVzaCgwLDAsMSk7Ly8gdXYKdXYueD0odmVydGV4Lngvb3V0ZXJSYWRpdXMrMSkvMjt1di55PSh2ZXJ0ZXgueS9vdXRlclJhZGl1cysxKS8yO3V2cy5wdXNoKHV2LngsdXYueSk7fS8vIGluY3JlYXNlIHRoZSByYWRpdXMgZm9yIG5leHQgcm93IG9mIHZlcnRpY2VzCnJhZGl1cys9cmFkaXVzU3RlcDt9Ly8gaW5kaWNlcwpmb3Ioaj0wO2o8cGhpU2VnbWVudHM7aisrKXt2YXIgdGhldGFTZWdtZW50TGV2ZWw9aioodGhldGFTZWdtZW50cysxKTtmb3IoaT0wO2k8dGhldGFTZWdtZW50cztpKyspe3NlZ21lbnQ9aSt0aGV0YVNlZ21lbnRMZXZlbDt2YXIgYT1zZWdtZW50O3ZhciBiPXNlZ21lbnQrdGhldGFTZWdtZW50cysxO3ZhciBjPXNlZ21lbnQrdGhldGFTZWdtZW50cysyO3ZhciBkPXNlZ21lbnQrMTsvLyBmYWNlcwppbmRpY2VzLnB1c2goYSxiLGQpO2luZGljZXMucHVzaChiLGMsZCk7fX0vLyBidWlsZCBnZW9tZXRyeQp0aGlzLnNldEluZGV4KGluZGljZXMpO3RoaXMuc2V0QXR0cmlidXRlKCdwb3NpdGlvbicsbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUodmVydGljZXMsMykpO3RoaXMuc2V0QXR0cmlidXRlKCdub3JtYWwnLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKG5vcm1hbHMsMykpO3RoaXMuc2V0QXR0cmlidXRlKCd1dicsbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUodXZzLDIpKTt9UmluZ0J1ZmZlckdlb21ldHJ5LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEJ1ZmZlckdlb21ldHJ5LnByb3RvdHlwZSk7UmluZ0J1ZmZlckdlb21ldHJ5LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1SaW5nQnVmZmVyR2VvbWV0cnk7LyoqCiAgICogQGF1dGhvciB6ejg1IC8gaHR0cHM6Ly9naXRodWIuY29tL3p6ODUKICAgKiBAYXV0aG9yIGJob3VzdG9uIC8gaHR0cDovL2NsYXJhLmlvCiAgICogQGF1dGhvciBNdWdlbjg3IC8gaHR0cHM6Ly9naXRodWIuY29tL011Z2VuODcKICAgKi8gLy8gTGF0aGVHZW9tZXRyeQpmdW5jdGlvbiBMYXRoZUdlb21ldHJ5KHBvaW50cyxzZWdtZW50cyxwaGlTdGFydCxwaGlMZW5ndGgpe0dlb21ldHJ5LmNhbGwodGhpcyk7dGhpcy50eXBlPSdMYXRoZUdlb21ldHJ5Jzt0aGlzLnBhcmFtZXRlcnM9e3BvaW50czpwb2ludHMsc2VnbWVudHM6c2VnbWVudHMscGhpU3RhcnQ6cGhpU3RhcnQscGhpTGVuZ3RoOnBoaUxlbmd0aH07dGhpcy5mcm9tQnVmZmVyR2VvbWV0cnkobmV3IExhdGhlQnVmZmVyR2VvbWV0cnkocG9pbnRzLHNlZ21lbnRzLHBoaVN0YXJ0LHBoaUxlbmd0aCkpO3RoaXMubWVyZ2VWZXJ0aWNlcygpO31MYXRoZUdlb21ldHJ5LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEdlb21ldHJ5LnByb3RvdHlwZSk7TGF0aGVHZW9tZXRyeS5wcm90b3R5cGUuY29uc3RydWN0b3I9TGF0aGVHZW9tZXRyeTsvLyBMYXRoZUJ1ZmZlckdlb21ldHJ5CmZ1bmN0aW9uIExhdGhlQnVmZmVyR2VvbWV0cnkocG9pbnRzLHNlZ21lbnRzLHBoaVN0YXJ0LHBoaUxlbmd0aCl7QnVmZmVyR2VvbWV0cnkuY2FsbCh0aGlzKTt0aGlzLnR5cGU9J0xhdGhlQnVmZmVyR2VvbWV0cnknO3RoaXMucGFyYW1ldGVycz17cG9pbnRzOnBvaW50cyxzZWdtZW50czpzZWdtZW50cyxwaGlTdGFydDpwaGlTdGFydCxwaGlMZW5ndGg6cGhpTGVuZ3RofTtzZWdtZW50cz1NYXRoLmZsb29yKHNlZ21lbnRzKXx8MTI7cGhpU3RhcnQ9cGhpU3RhcnR8fDA7cGhpTGVuZ3RoPXBoaUxlbmd0aHx8TWF0aC5QSSoyOy8vIGNsYW1wIHBoaUxlbmd0aCBzbyBpdCdzIGluIHJhbmdlIG9mIFsgMCwgMlBJIF0KcGhpTGVuZ3RoPV9NYXRoLmNsYW1wKHBoaUxlbmd0aCwwLE1hdGguUEkqMik7Ly8gYnVmZmVycwp2YXIgaW5kaWNlcz1bXTt2YXIgdmVydGljZXM9W107dmFyIHV2cz1bXTsvLyBoZWxwZXIgdmFyaWFibGVzCnZhciBiYXNlO3ZhciBpbnZlcnNlU2VnbWVudHM9MS4wL3NlZ21lbnRzO3ZhciB2ZXJ0ZXg9bmV3IFZlY3RvcjMoKTt2YXIgdXY9bmV3IFZlY3RvcjIoKTt2YXIgaSxqOy8vIGdlbmVyYXRlIHZlcnRpY2VzIGFuZCB1dnMKZm9yKGk9MDtpPD1zZWdtZW50cztpKyspe3ZhciBwaGk9cGhpU3RhcnQraSppbnZlcnNlU2VnbWVudHMqcGhpTGVuZ3RoO3ZhciBzaW49TWF0aC5zaW4ocGhpKTt2YXIgY29zPU1hdGguY29zKHBoaSk7Zm9yKGo9MDtqPD1wb2ludHMubGVuZ3RoLTE7aisrKXsvLyB2ZXJ0ZXgKdmVydGV4Lng9cG9pbnRzW2pdLngqc2luO3ZlcnRleC55PXBvaW50c1tqXS55O3ZlcnRleC56PXBvaW50c1tqXS54KmNvczt2ZXJ0aWNlcy5wdXNoKHZlcnRleC54LHZlcnRleC55LHZlcnRleC56KTsvLyB1dgp1di54PWkvc2VnbWVudHM7dXYueT1qLyhwb2ludHMubGVuZ3RoLTEpO3V2cy5wdXNoKHV2LngsdXYueSk7fX0vLyBpbmRpY2VzCmZvcihpPTA7aTxzZWdtZW50cztpKyspe2ZvcihqPTA7ajxwb2ludHMubGVuZ3RoLTE7aisrKXtiYXNlPWoraSpwb2ludHMubGVuZ3RoO3ZhciBhPWJhc2U7dmFyIGI9YmFzZStwb2ludHMubGVuZ3RoO3ZhciBjPWJhc2UrcG9pbnRzLmxlbmd0aCsxO3ZhciBkPWJhc2UrMTsvLyBmYWNlcwppbmRpY2VzLnB1c2goYSxiLGQpO2luZGljZXMucHVzaChiLGMsZCk7fX0vLyBidWlsZCBnZW9tZXRyeQp0aGlzLnNldEluZGV4KGluZGljZXMpO3RoaXMuc2V0QXR0cmlidXRlKCdwb3NpdGlvbicsbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUodmVydGljZXMsMykpO3RoaXMuc2V0QXR0cmlidXRlKCd1dicsbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUodXZzLDIpKTsvLyBnZW5lcmF0ZSBub3JtYWxzCnRoaXMuY29tcHV0ZVZlcnRleE5vcm1hbHMoKTsvLyBpZiB0aGUgZ2VvbWV0cnkgaXMgY2xvc2VkLCB3ZSBuZWVkIHRvIGF2ZXJhZ2UgdGhlIG5vcm1hbHMgYWxvbmcgdGhlIHNlYW0uCi8vIGJlY2F1c2UgdGhlIGNvcnJlc3BvbmRpbmcgdmVydGljZXMgYXJlIGlkZW50aWNhbCAoYnV0IHN0aWxsIGhhdmUgZGlmZmVyZW50IFVWcykuCmlmKHBoaUxlbmd0aD09PU1hdGguUEkqMil7dmFyIG5vcm1hbHM9dGhpcy5hdHRyaWJ1dGVzLm5vcm1hbC5hcnJheTt2YXIgbjE9bmV3IFZlY3RvcjMoKTt2YXIgbjI9bmV3IFZlY3RvcjMoKTt2YXIgbj1uZXcgVmVjdG9yMygpOy8vIHRoaXMgaXMgdGhlIGJ1ZmZlciBvZmZzZXQgZm9yIHRoZSBsYXN0IGxpbmUgb2YgdmVydGljZXMKYmFzZT1zZWdtZW50cypwb2ludHMubGVuZ3RoKjM7Zm9yKGk9MCxqPTA7aTxwb2ludHMubGVuZ3RoO2krKyxqKz0zKXsvLyBzZWxlY3QgdGhlIG5vcm1hbCBvZiB0aGUgdmVydGV4IGluIHRoZSBmaXJzdCBsaW5lCm4xLng9bm9ybWFsc1tqKzBdO24xLnk9bm9ybWFsc1tqKzFdO24xLno9bm9ybWFsc1tqKzJdOy8vIHNlbGVjdCB0aGUgbm9ybWFsIG9mIHRoZSB2ZXJ0ZXggaW4gdGhlIGxhc3QgbGluZQpuMi54PW5vcm1hbHNbYmFzZStqKzBdO24yLnk9bm9ybWFsc1tiYXNlK2orMV07bjIuej1ub3JtYWxzW2Jhc2UraisyXTsvLyBhdmVyYWdlIG5vcm1hbHMKbi5hZGRWZWN0b3JzKG4xLG4yKS5ub3JtYWxpemUoKTsvLyBhc3NpZ24gdGhlIG5ldyB2YWx1ZXMgdG8gYm90aCBub3JtYWxzCm5vcm1hbHNbaiswXT1ub3JtYWxzW2Jhc2UraiswXT1uLng7bm9ybWFsc1tqKzFdPW5vcm1hbHNbYmFzZStqKzFdPW4ueTtub3JtYWxzW2orMl09bm9ybWFsc1tiYXNlK2orMl09bi56O319fUxhdGhlQnVmZmVyR2VvbWV0cnkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoQnVmZmVyR2VvbWV0cnkucHJvdG90eXBlKTtMYXRoZUJ1ZmZlckdlb21ldHJ5LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1MYXRoZUJ1ZmZlckdlb21ldHJ5Oy8qKgogICAqIEBhdXRob3Igam9ub2JyMSAvIGh0dHA6Ly9qb25vYnIxLmNvbQogICAqIEBhdXRob3IgTXVnZW44NyAvIGh0dHBzOi8vZ2l0aHViLmNvbS9NdWdlbjg3CiAgICovIC8vIFNoYXBlR2VvbWV0cnkKZnVuY3Rpb24gU2hhcGVHZW9tZXRyeShzaGFwZXMsY3VydmVTZWdtZW50cyl7R2VvbWV0cnkuY2FsbCh0aGlzKTt0aGlzLnR5cGU9J1NoYXBlR2VvbWV0cnknO2lmKF90eXBlb2YoY3VydmVTZWdtZW50cyk9PT0nb2JqZWN0Jyl7Y29uc29sZS53YXJuKCdUSFJFRS5TaGFwZUdlb21ldHJ5OiBPcHRpb25zIHBhcmFtZXRlciBoYXMgYmVlbiByZW1vdmVkLicpO2N1cnZlU2VnbWVudHM9Y3VydmVTZWdtZW50cy5jdXJ2ZVNlZ21lbnRzO310aGlzLnBhcmFtZXRlcnM9e3NoYXBlczpzaGFwZXMsY3VydmVTZWdtZW50czpjdXJ2ZVNlZ21lbnRzfTt0aGlzLmZyb21CdWZmZXJHZW9tZXRyeShuZXcgU2hhcGVCdWZmZXJHZW9tZXRyeShzaGFwZXMsY3VydmVTZWdtZW50cykpO3RoaXMubWVyZ2VWZXJ0aWNlcygpO31TaGFwZUdlb21ldHJ5LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEdlb21ldHJ5LnByb3RvdHlwZSk7U2hhcGVHZW9tZXRyeS5wcm90b3R5cGUuY29uc3RydWN0b3I9U2hhcGVHZW9tZXRyeTtTaGFwZUdlb21ldHJ5LnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXt2YXIgZGF0YT1HZW9tZXRyeS5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyk7dmFyIHNoYXBlcz10aGlzLnBhcmFtZXRlcnMuc2hhcGVzO3JldHVybiB0b0pTT04kMShzaGFwZXMsZGF0YSk7fTsvLyBTaGFwZUJ1ZmZlckdlb21ldHJ5CmZ1bmN0aW9uIFNoYXBlQnVmZmVyR2VvbWV0cnkoc2hhcGVzLGN1cnZlU2VnbWVudHMpe0J1ZmZlckdlb21ldHJ5LmNhbGwodGhpcyk7dGhpcy50eXBlPSdTaGFwZUJ1ZmZlckdlb21ldHJ5Jzt0aGlzLnBhcmFtZXRlcnM9e3NoYXBlczpzaGFwZXMsY3VydmVTZWdtZW50czpjdXJ2ZVNlZ21lbnRzfTtjdXJ2ZVNlZ21lbnRzPWN1cnZlU2VnbWVudHN8fDEyOy8vIGJ1ZmZlcnMKdmFyIGluZGljZXM9W107dmFyIHZlcnRpY2VzPVtdO3ZhciBub3JtYWxzPVtdO3ZhciB1dnM9W107Ly8gaGVscGVyIHZhcmlhYmxlcwp2YXIgZ3JvdXBTdGFydD0wO3ZhciBncm91cENvdW50PTA7Ly8gYWxsb3cgc2luZ2xlIGFuZCBhcnJheSB2YWx1ZXMgZm9yICJzaGFwZXMiIHBhcmFtZXRlcgppZihBcnJheS5pc0FycmF5KHNoYXBlcyk9PT1mYWxzZSl7YWRkU2hhcGUoc2hhcGVzKTt9ZWxzZXtmb3IodmFyIGk9MDtpPHNoYXBlcy5sZW5ndGg7aSsrKXthZGRTaGFwZShzaGFwZXNbaV0pO3RoaXMuYWRkR3JvdXAoZ3JvdXBTdGFydCxncm91cENvdW50LGkpOy8vIGVuYWJsZXMgTXVsdGlNYXRlcmlhbCBzdXBwb3J0Cmdyb3VwU3RhcnQrPWdyb3VwQ291bnQ7Z3JvdXBDb3VudD0wO319Ly8gYnVpbGQgZ2VvbWV0cnkKdGhpcy5zZXRJbmRleChpbmRpY2VzKTt0aGlzLnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKHZlcnRpY2VzLDMpKTt0aGlzLnNldEF0dHJpYnV0ZSgnbm9ybWFsJyxuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZShub3JtYWxzLDMpKTt0aGlzLnNldEF0dHJpYnV0ZSgndXYnLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKHV2cywyKSk7Ly8gaGVscGVyIGZ1bmN0aW9ucwpmdW5jdGlvbiBhZGRTaGFwZShzaGFwZSl7dmFyIGksbCxzaGFwZUhvbGU7dmFyIGluZGV4T2Zmc2V0PXZlcnRpY2VzLmxlbmd0aC8zO3ZhciBwb2ludHM9c2hhcGUuZXh0cmFjdFBvaW50cyhjdXJ2ZVNlZ21lbnRzKTt2YXIgc2hhcGVWZXJ0aWNlcz1wb2ludHMuc2hhcGU7dmFyIHNoYXBlSG9sZXM9cG9pbnRzLmhvbGVzOy8vIGNoZWNrIGRpcmVjdGlvbiBvZiB2ZXJ0aWNlcwppZihTaGFwZVV0aWxzLmlzQ2xvY2tXaXNlKHNoYXBlVmVydGljZXMpPT09ZmFsc2Upe3NoYXBlVmVydGljZXM9c2hhcGVWZXJ0aWNlcy5yZXZlcnNlKCk7fWZvcihpPTAsbD1zaGFwZUhvbGVzLmxlbmd0aDtpPGw7aSsrKXtzaGFwZUhvbGU9c2hhcGVIb2xlc1tpXTtpZihTaGFwZVV0aWxzLmlzQ2xvY2tXaXNlKHNoYXBlSG9sZSk9PT10cnVlKXtzaGFwZUhvbGVzW2ldPXNoYXBlSG9sZS5yZXZlcnNlKCk7fX12YXIgZmFjZXM9U2hhcGVVdGlscy50cmlhbmd1bGF0ZVNoYXBlKHNoYXBlVmVydGljZXMsc2hhcGVIb2xlcyk7Ly8gam9pbiB2ZXJ0aWNlcyBvZiBpbm5lciBhbmQgb3V0ZXIgcGF0aHMgdG8gYSBzaW5nbGUgYXJyYXkKZm9yKGk9MCxsPXNoYXBlSG9sZXMubGVuZ3RoO2k8bDtpKyspe3NoYXBlSG9sZT1zaGFwZUhvbGVzW2ldO3NoYXBlVmVydGljZXM9c2hhcGVWZXJ0aWNlcy5jb25jYXQoc2hhcGVIb2xlKTt9Ly8gdmVydGljZXMsIG5vcm1hbHMsIHV2cwpmb3IoaT0wLGw9c2hhcGVWZXJ0aWNlcy5sZW5ndGg7aTxsO2krKyl7dmFyIHZlcnRleD1zaGFwZVZlcnRpY2VzW2ldO3ZlcnRpY2VzLnB1c2godmVydGV4LngsdmVydGV4LnksMCk7bm9ybWFscy5wdXNoKDAsMCwxKTt1dnMucHVzaCh2ZXJ0ZXgueCx2ZXJ0ZXgueSk7Ly8gd29ybGQgdXZzCn0vLyBpbmNpZGVzCmZvcihpPTAsbD1mYWNlcy5sZW5ndGg7aTxsO2krKyl7dmFyIGZhY2U9ZmFjZXNbaV07dmFyIGE9ZmFjZVswXStpbmRleE9mZnNldDt2YXIgYj1mYWNlWzFdK2luZGV4T2Zmc2V0O3ZhciBjPWZhY2VbMl0raW5kZXhPZmZzZXQ7aW5kaWNlcy5wdXNoKGEsYixjKTtncm91cENvdW50Kz0zO319fVNoYXBlQnVmZmVyR2VvbWV0cnkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoQnVmZmVyR2VvbWV0cnkucHJvdG90eXBlKTtTaGFwZUJ1ZmZlckdlb21ldHJ5LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1TaGFwZUJ1ZmZlckdlb21ldHJ5O1NoYXBlQnVmZmVyR2VvbWV0cnkucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3ZhciBkYXRhPUJ1ZmZlckdlb21ldHJ5LnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzKTt2YXIgc2hhcGVzPXRoaXMucGFyYW1ldGVycy5zaGFwZXM7cmV0dXJuIHRvSlNPTiQxKHNoYXBlcyxkYXRhKTt9Oy8vCmZ1bmN0aW9uIHRvSlNPTiQxKHNoYXBlcyxkYXRhKXtkYXRhLnNoYXBlcz1bXTtpZihBcnJheS5pc0FycmF5KHNoYXBlcykpe2Zvcih2YXIgaT0wLGw9c2hhcGVzLmxlbmd0aDtpPGw7aSsrKXt2YXIgc2hhcGU9c2hhcGVzW2ldO2RhdGEuc2hhcGVzLnB1c2goc2hhcGUudXVpZCk7fX1lbHNle2RhdGEuc2hhcGVzLnB1c2goc2hhcGVzLnV1aWQpO31yZXR1cm4gZGF0YTt9LyoqCiAgICogQGF1dGhvciBXZXN0TGFuZ2xleSAvIGh0dHA6Ly9naXRodWIuY29tL1dlc3RMYW5nbGV5CiAgICogQGF1dGhvciBNdWdlbjg3IC8gaHR0cHM6Ly9naXRodWIuY29tL011Z2VuODcKICAgKi9mdW5jdGlvbiBFZGdlc0dlb21ldHJ5KGdlb21ldHJ5LHRocmVzaG9sZEFuZ2xlKXtCdWZmZXJHZW9tZXRyeS5jYWxsKHRoaXMpO3RoaXMudHlwZT0nRWRnZXNHZW9tZXRyeSc7dGhpcy5wYXJhbWV0ZXJzPXt0aHJlc2hvbGRBbmdsZTp0aHJlc2hvbGRBbmdsZX07dGhyZXNob2xkQW5nbGU9dGhyZXNob2xkQW5nbGUhPT11bmRlZmluZWQ/dGhyZXNob2xkQW5nbGU6MTsvLyBidWZmZXIKdmFyIHZlcnRpY2VzPVtdOy8vIGhlbHBlciB2YXJpYWJsZXMKdmFyIHRocmVzaG9sZERvdD1NYXRoLmNvcyhfTWF0aC5ERUcyUkFEKnRocmVzaG9sZEFuZ2xlKTt2YXIgZWRnZT1bMCwwXSxlZGdlcz17fSxlZGdlMSxlZGdlMjt2YXIga2V5LGtleXM9WydhJywnYicsJ2MnXTsvLyBwcmVwYXJlIHNvdXJjZSBnZW9tZXRyeQp2YXIgZ2VvbWV0cnkyO2lmKGdlb21ldHJ5LmlzQnVmZmVyR2VvbWV0cnkpe2dlb21ldHJ5Mj1uZXcgR2VvbWV0cnkoKTtnZW9tZXRyeTIuZnJvbUJ1ZmZlckdlb21ldHJ5KGdlb21ldHJ5KTt9ZWxzZXtnZW9tZXRyeTI9Z2VvbWV0cnkuY2xvbmUoKTt9Z2VvbWV0cnkyLm1lcmdlVmVydGljZXMoKTtnZW9tZXRyeTIuY29tcHV0ZUZhY2VOb3JtYWxzKCk7dmFyIHNvdXJjZVZlcnRpY2VzPWdlb21ldHJ5Mi52ZXJ0aWNlczt2YXIgZmFjZXM9Z2VvbWV0cnkyLmZhY2VzOy8vIG5vdyBjcmVhdGUgYSBkYXRhIHN0cnVjdHVyZSB3aGVyZSBlYWNoIGVudHJ5IHJlcHJlc2VudHMgYW4gZWRnZSB3aXRoIGl0cyBhZGpvaW5pbmcgZmFjZXMKZm9yKHZhciBpPTAsbD1mYWNlcy5sZW5ndGg7aTxsO2krKyl7dmFyIGZhY2U9ZmFjZXNbaV07Zm9yKHZhciBqPTA7ajwzO2orKyl7ZWRnZTE9ZmFjZVtrZXlzW2pdXTtlZGdlMj1mYWNlW2tleXNbKGorMSklM11dO2VkZ2VbMF09TWF0aC5taW4oZWRnZTEsZWRnZTIpO2VkZ2VbMV09TWF0aC5tYXgoZWRnZTEsZWRnZTIpO2tleT1lZGdlWzBdKycsJytlZGdlWzFdO2lmKGVkZ2VzW2tleV09PT11bmRlZmluZWQpe2VkZ2VzW2tleV09e2luZGV4MTplZGdlWzBdLGluZGV4MjplZGdlWzFdLGZhY2UxOmksZmFjZTI6dW5kZWZpbmVkfTt9ZWxzZXtlZGdlc1trZXldLmZhY2UyPWk7fX19Ly8gZ2VuZXJhdGUgdmVydGljZXMKZm9yKGtleSBpbiBlZGdlcyl7dmFyIGU9ZWRnZXNba2V5XTsvLyBhbiBlZGdlIGlzIG9ubHkgcmVuZGVyZWQgaWYgdGhlIGFuZ2xlIChpbiBkZWdyZWVzKSBiZXR3ZWVuIHRoZSBmYWNlIG5vcm1hbHMgb2YgdGhlIGFkam9pbmluZyBmYWNlcyBleGNlZWRzIHRoaXMgdmFsdWUuIGRlZmF1bHQgPSAxIGRlZ3JlZS4KaWYoZS5mYWNlMj09PXVuZGVmaW5lZHx8ZmFjZXNbZS5mYWNlMV0ubm9ybWFsLmRvdChmYWNlc1tlLmZhY2UyXS5ub3JtYWwpPD10aHJlc2hvbGREb3Qpe3ZhciB2ZXJ0ZXg9c291cmNlVmVydGljZXNbZS5pbmRleDFdO3ZlcnRpY2VzLnB1c2godmVydGV4LngsdmVydGV4LnksdmVydGV4LnopO3ZlcnRleD1zb3VyY2VWZXJ0aWNlc1tlLmluZGV4Ml07dmVydGljZXMucHVzaCh2ZXJ0ZXgueCx2ZXJ0ZXgueSx2ZXJ0ZXgueik7fX0vLyBidWlsZCBnZW9tZXRyeQp0aGlzLnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKHZlcnRpY2VzLDMpKTt9RWRnZXNHZW9tZXRyeS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShCdWZmZXJHZW9tZXRyeS5wcm90b3R5cGUpO0VkZ2VzR2VvbWV0cnkucHJvdG90eXBlLmNvbnN0cnVjdG9yPUVkZ2VzR2VvbWV0cnk7LyoqCiAgICogQGF1dGhvciBtcmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS8KICAgKiBAYXV0aG9yIE11Z2VuODcgLyBodHRwczovL2dpdGh1Yi5jb20vTXVnZW44NwogICAqLyAvLyBDeWxpbmRlckdlb21ldHJ5CmZ1bmN0aW9uIEN5bGluZGVyR2VvbWV0cnkocmFkaXVzVG9wLHJhZGl1c0JvdHRvbSxoZWlnaHQscmFkaWFsU2VnbWVudHMsaGVpZ2h0U2VnbWVudHMsb3BlbkVuZGVkLHRoZXRhU3RhcnQsdGhldGFMZW5ndGgpe0dlb21ldHJ5LmNhbGwodGhpcyk7dGhpcy50eXBlPSdDeWxpbmRlckdlb21ldHJ5Jzt0aGlzLnBhcmFtZXRlcnM9e3JhZGl1c1RvcDpyYWRpdXNUb3AscmFkaXVzQm90dG9tOnJhZGl1c0JvdHRvbSxoZWlnaHQ6aGVpZ2h0LHJhZGlhbFNlZ21lbnRzOnJhZGlhbFNlZ21lbnRzLGhlaWdodFNlZ21lbnRzOmhlaWdodFNlZ21lbnRzLG9wZW5FbmRlZDpvcGVuRW5kZWQsdGhldGFTdGFydDp0aGV0YVN0YXJ0LHRoZXRhTGVuZ3RoOnRoZXRhTGVuZ3RofTt0aGlzLmZyb21CdWZmZXJHZW9tZXRyeShuZXcgQ3lsaW5kZXJCdWZmZXJHZW9tZXRyeShyYWRpdXNUb3AscmFkaXVzQm90dG9tLGhlaWdodCxyYWRpYWxTZWdtZW50cyxoZWlnaHRTZWdtZW50cyxvcGVuRW5kZWQsdGhldGFTdGFydCx0aGV0YUxlbmd0aCkpO3RoaXMubWVyZ2VWZXJ0aWNlcygpO31DeWxpbmRlckdlb21ldHJ5LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEdlb21ldHJ5LnByb3RvdHlwZSk7Q3lsaW5kZXJHZW9tZXRyeS5wcm90b3R5cGUuY29uc3RydWN0b3I9Q3lsaW5kZXJHZW9tZXRyeTsvLyBDeWxpbmRlckJ1ZmZlckdlb21ldHJ5CmZ1bmN0aW9uIEN5bGluZGVyQnVmZmVyR2VvbWV0cnkocmFkaXVzVG9wLHJhZGl1c0JvdHRvbSxoZWlnaHQscmFkaWFsU2VnbWVudHMsaGVpZ2h0U2VnbWVudHMsb3BlbkVuZGVkLHRoZXRhU3RhcnQsdGhldGFMZW5ndGgpe0J1ZmZlckdlb21ldHJ5LmNhbGwodGhpcyk7dGhpcy50eXBlPSdDeWxpbmRlckJ1ZmZlckdlb21ldHJ5Jzt0aGlzLnBhcmFtZXRlcnM9e3JhZGl1c1RvcDpyYWRpdXNUb3AscmFkaXVzQm90dG9tOnJhZGl1c0JvdHRvbSxoZWlnaHQ6aGVpZ2h0LHJhZGlhbFNlZ21lbnRzOnJhZGlhbFNlZ21lbnRzLGhlaWdodFNlZ21lbnRzOmhlaWdodFNlZ21lbnRzLG9wZW5FbmRlZDpvcGVuRW5kZWQsdGhldGFTdGFydDp0aGV0YVN0YXJ0LHRoZXRhTGVuZ3RoOnRoZXRhTGVuZ3RofTt2YXIgc2NvcGU9dGhpcztyYWRpdXNUb3A9cmFkaXVzVG9wIT09dW5kZWZpbmVkP3JhZGl1c1RvcDoxO3JhZGl1c0JvdHRvbT1yYWRpdXNCb3R0b20hPT11bmRlZmluZWQ/cmFkaXVzQm90dG9tOjE7aGVpZ2h0PWhlaWdodHx8MTtyYWRpYWxTZWdtZW50cz1NYXRoLmZsb29yKHJhZGlhbFNlZ21lbnRzKXx8ODtoZWlnaHRTZWdtZW50cz1NYXRoLmZsb29yKGhlaWdodFNlZ21lbnRzKXx8MTtvcGVuRW5kZWQ9b3BlbkVuZGVkIT09dW5kZWZpbmVkP29wZW5FbmRlZDpmYWxzZTt0aGV0YVN0YXJ0PXRoZXRhU3RhcnQhPT11bmRlZmluZWQ/dGhldGFTdGFydDowLjA7dGhldGFMZW5ndGg9dGhldGFMZW5ndGghPT11bmRlZmluZWQ/dGhldGFMZW5ndGg6TWF0aC5QSSoyOy8vIGJ1ZmZlcnMKdmFyIGluZGljZXM9W107dmFyIHZlcnRpY2VzPVtdO3ZhciBub3JtYWxzPVtdO3ZhciB1dnM9W107Ly8gaGVscGVyIHZhcmlhYmxlcwp2YXIgaW5kZXg9MDt2YXIgaW5kZXhBcnJheT1bXTt2YXIgaGFsZkhlaWdodD1oZWlnaHQvMjt2YXIgZ3JvdXBTdGFydD0wOy8vIGdlbmVyYXRlIGdlb21ldHJ5CmdlbmVyYXRlVG9yc28oKTtpZihvcGVuRW5kZWQ9PT1mYWxzZSl7aWYocmFkaXVzVG9wPjApe2dlbmVyYXRlQ2FwKHRydWUpO31pZihyYWRpdXNCb3R0b20+MCl7Z2VuZXJhdGVDYXAoZmFsc2UpO319Ly8gYnVpbGQgZ2VvbWV0cnkKdGhpcy5zZXRJbmRleChpbmRpY2VzKTt0aGlzLnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKHZlcnRpY2VzLDMpKTt0aGlzLnNldEF0dHJpYnV0ZSgnbm9ybWFsJyxuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZShub3JtYWxzLDMpKTt0aGlzLnNldEF0dHJpYnV0ZSgndXYnLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKHV2cywyKSk7ZnVuY3Rpb24gZ2VuZXJhdGVUb3Jzbygpe3ZhciB4LHk7dmFyIG5vcm1hbD1uZXcgVmVjdG9yMygpO3ZhciB2ZXJ0ZXg9bmV3IFZlY3RvcjMoKTt2YXIgZ3JvdXBDb3VudD0wOy8vIHRoaXMgd2lsbCBiZSB1c2VkIHRvIGNhbGN1bGF0ZSB0aGUgbm9ybWFsCnZhciBzbG9wZT0ocmFkaXVzQm90dG9tLXJhZGl1c1RvcCkvaGVpZ2h0Oy8vIGdlbmVyYXRlIHZlcnRpY2VzLCBub3JtYWxzIGFuZCB1dnMKZm9yKHk9MDt5PD1oZWlnaHRTZWdtZW50czt5Kyspe3ZhciBpbmRleFJvdz1bXTt2YXIgdj15L2hlaWdodFNlZ21lbnRzOy8vIGNhbGN1bGF0ZSB0aGUgcmFkaXVzIG9mIHRoZSBjdXJyZW50IHJvdwp2YXIgcmFkaXVzPXYqKHJhZGl1c0JvdHRvbS1yYWRpdXNUb3ApK3JhZGl1c1RvcDtmb3IoeD0wO3g8PXJhZGlhbFNlZ21lbnRzO3grKyl7dmFyIHU9eC9yYWRpYWxTZWdtZW50czt2YXIgdGhldGE9dSp0aGV0YUxlbmd0aCt0aGV0YVN0YXJ0O3ZhciBzaW5UaGV0YT1NYXRoLnNpbih0aGV0YSk7dmFyIGNvc1RoZXRhPU1hdGguY29zKHRoZXRhKTsvLyB2ZXJ0ZXgKdmVydGV4Lng9cmFkaXVzKnNpblRoZXRhO3ZlcnRleC55PS12KmhlaWdodCtoYWxmSGVpZ2h0O3ZlcnRleC56PXJhZGl1cypjb3NUaGV0YTt2ZXJ0aWNlcy5wdXNoKHZlcnRleC54LHZlcnRleC55LHZlcnRleC56KTsvLyBub3JtYWwKbm9ybWFsLnNldChzaW5UaGV0YSxzbG9wZSxjb3NUaGV0YSkubm9ybWFsaXplKCk7bm9ybWFscy5wdXNoKG5vcm1hbC54LG5vcm1hbC55LG5vcm1hbC56KTsvLyB1dgp1dnMucHVzaCh1LDEtdik7Ly8gc2F2ZSBpbmRleCBvZiB2ZXJ0ZXggaW4gcmVzcGVjdGl2ZSByb3cKaW5kZXhSb3cucHVzaChpbmRleCsrKTt9Ly8gbm93IHNhdmUgdmVydGljZXMgb2YgdGhlIHJvdyBpbiBvdXIgaW5kZXggYXJyYXkKaW5kZXhBcnJheS5wdXNoKGluZGV4Um93KTt9Ly8gZ2VuZXJhdGUgaW5kaWNlcwpmb3IoeD0wO3g8cmFkaWFsU2VnbWVudHM7eCsrKXtmb3IoeT0wO3k8aGVpZ2h0U2VnbWVudHM7eSsrKXsvLyB3ZSB1c2UgdGhlIGluZGV4IGFycmF5IHRvIGFjY2VzcyB0aGUgY29ycmVjdCBpbmRpY2VzCnZhciBhPWluZGV4QXJyYXlbeV1beF07dmFyIGI9aW5kZXhBcnJheVt5KzFdW3hdO3ZhciBjPWluZGV4QXJyYXlbeSsxXVt4KzFdO3ZhciBkPWluZGV4QXJyYXlbeV1beCsxXTsvLyBmYWNlcwppbmRpY2VzLnB1c2goYSxiLGQpO2luZGljZXMucHVzaChiLGMsZCk7Ly8gdXBkYXRlIGdyb3VwIGNvdW50ZXIKZ3JvdXBDb3VudCs9Njt9fS8vIGFkZCBhIGdyb3VwIHRvIHRoZSBnZW9tZXRyeS4gdGhpcyB3aWxsIGVuc3VyZSBtdWx0aSBtYXRlcmlhbCBzdXBwb3J0CnNjb3BlLmFkZEdyb3VwKGdyb3VwU3RhcnQsZ3JvdXBDb3VudCwwKTsvLyBjYWxjdWxhdGUgbmV3IHN0YXJ0IHZhbHVlIGZvciBncm91cHMKZ3JvdXBTdGFydCs9Z3JvdXBDb3VudDt9ZnVuY3Rpb24gZ2VuZXJhdGVDYXAodG9wKXt2YXIgeCxjZW50ZXJJbmRleFN0YXJ0LGNlbnRlckluZGV4RW5kO3ZhciB1dj1uZXcgVmVjdG9yMigpO3ZhciB2ZXJ0ZXg9bmV3IFZlY3RvcjMoKTt2YXIgZ3JvdXBDb3VudD0wO3ZhciByYWRpdXM9dG9wPT09dHJ1ZT9yYWRpdXNUb3A6cmFkaXVzQm90dG9tO3ZhciBzaWduPXRvcD09PXRydWU/MTotMTsvLyBzYXZlIHRoZSBpbmRleCBvZiB0aGUgZmlyc3QgY2VudGVyIHZlcnRleApjZW50ZXJJbmRleFN0YXJ0PWluZGV4Oy8vIGZpcnN0IHdlIGdlbmVyYXRlIHRoZSBjZW50ZXIgdmVydGV4IGRhdGEgb2YgdGhlIGNhcC4KLy8gYmVjYXVzZSB0aGUgZ2VvbWV0cnkgbmVlZHMgb25lIHNldCBvZiB1dnMgcGVyIGZhY2UsCi8vIHdlIG11c3QgZ2VuZXJhdGUgYSBjZW50ZXIgdmVydGV4IHBlciBmYWNlL3NlZ21lbnQKZm9yKHg9MTt4PD1yYWRpYWxTZWdtZW50czt4Kyspey8vIHZlcnRleAp2ZXJ0aWNlcy5wdXNoKDAsaGFsZkhlaWdodCpzaWduLDApOy8vIG5vcm1hbApub3JtYWxzLnB1c2goMCxzaWduLDApOy8vIHV2CnV2cy5wdXNoKDAuNSwwLjUpOy8vIGluY3JlYXNlIGluZGV4CmluZGV4Kys7fS8vIHNhdmUgdGhlIGluZGV4IG9mIHRoZSBsYXN0IGNlbnRlciB2ZXJ0ZXgKY2VudGVySW5kZXhFbmQ9aW5kZXg7Ly8gbm93IHdlIGdlbmVyYXRlIHRoZSBzdXJyb3VuZGluZyB2ZXJ0aWNlcywgbm9ybWFscyBhbmQgdXZzCmZvcih4PTA7eDw9cmFkaWFsU2VnbWVudHM7eCsrKXt2YXIgdT14L3JhZGlhbFNlZ21lbnRzO3ZhciB0aGV0YT11KnRoZXRhTGVuZ3RoK3RoZXRhU3RhcnQ7dmFyIGNvc1RoZXRhPU1hdGguY29zKHRoZXRhKTt2YXIgc2luVGhldGE9TWF0aC5zaW4odGhldGEpOy8vIHZlcnRleAp2ZXJ0ZXgueD1yYWRpdXMqc2luVGhldGE7dmVydGV4Lnk9aGFsZkhlaWdodCpzaWduO3ZlcnRleC56PXJhZGl1cypjb3NUaGV0YTt2ZXJ0aWNlcy5wdXNoKHZlcnRleC54LHZlcnRleC55LHZlcnRleC56KTsvLyBub3JtYWwKbm9ybWFscy5wdXNoKDAsc2lnbiwwKTsvLyB1dgp1di54PWNvc1RoZXRhKjAuNSswLjU7dXYueT1zaW5UaGV0YSowLjUqc2lnbiswLjU7dXZzLnB1c2godXYueCx1di55KTsvLyBpbmNyZWFzZSBpbmRleAppbmRleCsrO30vLyBnZW5lcmF0ZSBpbmRpY2VzCmZvcih4PTA7eDxyYWRpYWxTZWdtZW50czt4Kyspe3ZhciBjPWNlbnRlckluZGV4U3RhcnQreDt2YXIgaT1jZW50ZXJJbmRleEVuZCt4O2lmKHRvcD09PXRydWUpey8vIGZhY2UgdG9wCmluZGljZXMucHVzaChpLGkrMSxjKTt9ZWxzZXsvLyBmYWNlIGJvdHRvbQppbmRpY2VzLnB1c2goaSsxLGksYyk7fWdyb3VwQ291bnQrPTM7fS8vIGFkZCBhIGdyb3VwIHRvIHRoZSBnZW9tZXRyeS4gdGhpcyB3aWxsIGVuc3VyZSBtdWx0aSBtYXRlcmlhbCBzdXBwb3J0CnNjb3BlLmFkZEdyb3VwKGdyb3VwU3RhcnQsZ3JvdXBDb3VudCx0b3A9PT10cnVlPzE6Mik7Ly8gY2FsY3VsYXRlIG5ldyBzdGFydCB2YWx1ZSBmb3IgZ3JvdXBzCmdyb3VwU3RhcnQrPWdyb3VwQ291bnQ7fX1DeWxpbmRlckJ1ZmZlckdlb21ldHJ5LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEJ1ZmZlckdlb21ldHJ5LnByb3RvdHlwZSk7Q3lsaW5kZXJCdWZmZXJHZW9tZXRyeS5wcm90b3R5cGUuY29uc3RydWN0b3I9Q3lsaW5kZXJCdWZmZXJHZW9tZXRyeTsvKioKICAgKiBAYXV0aG9yIGFiZWxuYXRpb24gLyBodHRwOi8vZ2l0aHViLmNvbS9hYmVsbmF0aW9uCiAgICovIC8vIENvbmVHZW9tZXRyeQpmdW5jdGlvbiBDb25lR2VvbWV0cnkocmFkaXVzLGhlaWdodCxyYWRpYWxTZWdtZW50cyxoZWlnaHRTZWdtZW50cyxvcGVuRW5kZWQsdGhldGFTdGFydCx0aGV0YUxlbmd0aCl7Q3lsaW5kZXJHZW9tZXRyeS5jYWxsKHRoaXMsMCxyYWRpdXMsaGVpZ2h0LHJhZGlhbFNlZ21lbnRzLGhlaWdodFNlZ21lbnRzLG9wZW5FbmRlZCx0aGV0YVN0YXJ0LHRoZXRhTGVuZ3RoKTt0aGlzLnR5cGU9J0NvbmVHZW9tZXRyeSc7dGhpcy5wYXJhbWV0ZXJzPXtyYWRpdXM6cmFkaXVzLGhlaWdodDpoZWlnaHQscmFkaWFsU2VnbWVudHM6cmFkaWFsU2VnbWVudHMsaGVpZ2h0U2VnbWVudHM6aGVpZ2h0U2VnbWVudHMsb3BlbkVuZGVkOm9wZW5FbmRlZCx0aGV0YVN0YXJ0OnRoZXRhU3RhcnQsdGhldGFMZW5ndGg6dGhldGFMZW5ndGh9O31Db25lR2VvbWV0cnkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoQ3lsaW5kZXJHZW9tZXRyeS5wcm90b3R5cGUpO0NvbmVHZW9tZXRyeS5wcm90b3R5cGUuY29uc3RydWN0b3I9Q29uZUdlb21ldHJ5Oy8vIENvbmVCdWZmZXJHZW9tZXRyeQpmdW5jdGlvbiBDb25lQnVmZmVyR2VvbWV0cnkocmFkaXVzLGhlaWdodCxyYWRpYWxTZWdtZW50cyxoZWlnaHRTZWdtZW50cyxvcGVuRW5kZWQsdGhldGFTdGFydCx0aGV0YUxlbmd0aCl7Q3lsaW5kZXJCdWZmZXJHZW9tZXRyeS5jYWxsKHRoaXMsMCxyYWRpdXMsaGVpZ2h0LHJhZGlhbFNlZ21lbnRzLGhlaWdodFNlZ21lbnRzLG9wZW5FbmRlZCx0aGV0YVN0YXJ0LHRoZXRhTGVuZ3RoKTt0aGlzLnR5cGU9J0NvbmVCdWZmZXJHZW9tZXRyeSc7dGhpcy5wYXJhbWV0ZXJzPXtyYWRpdXM6cmFkaXVzLGhlaWdodDpoZWlnaHQscmFkaWFsU2VnbWVudHM6cmFkaWFsU2VnbWVudHMsaGVpZ2h0U2VnbWVudHM6aGVpZ2h0U2VnbWVudHMsb3BlbkVuZGVkOm9wZW5FbmRlZCx0aGV0YVN0YXJ0OnRoZXRhU3RhcnQsdGhldGFMZW5ndGg6dGhldGFMZW5ndGh9O31Db25lQnVmZmVyR2VvbWV0cnkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoQ3lsaW5kZXJCdWZmZXJHZW9tZXRyeS5wcm90b3R5cGUpO0NvbmVCdWZmZXJHZW9tZXRyeS5wcm90b3R5cGUuY29uc3RydWN0b3I9Q29uZUJ1ZmZlckdlb21ldHJ5Oy8qKgogICAqIEBhdXRob3IgYmVuYWFkYW1zIC8gaHR0cHM6Ly90d2l0dGVyLmNvbS9iZW5fYV9hZGFtcwogICAqIEBhdXRob3IgTXVnZW44NyAvIGh0dHBzOi8vZ2l0aHViLmNvbS9NdWdlbjg3CiAgICogQGF1dGhvciBodWdoZXMKICAgKi8gLy8gQ2lyY2xlR2VvbWV0cnkKZnVuY3Rpb24gQ2lyY2xlR2VvbWV0cnkocmFkaXVzLHNlZ21lbnRzLHRoZXRhU3RhcnQsdGhldGFMZW5ndGgpe0dlb21ldHJ5LmNhbGwodGhpcyk7dGhpcy50eXBlPSdDaXJjbGVHZW9tZXRyeSc7dGhpcy5wYXJhbWV0ZXJzPXtyYWRpdXM6cmFkaXVzLHNlZ21lbnRzOnNlZ21lbnRzLHRoZXRhU3RhcnQ6dGhldGFTdGFydCx0aGV0YUxlbmd0aDp0aGV0YUxlbmd0aH07dGhpcy5mcm9tQnVmZmVyR2VvbWV0cnkobmV3IENpcmNsZUJ1ZmZlckdlb21ldHJ5KHJhZGl1cyxzZWdtZW50cyx0aGV0YVN0YXJ0LHRoZXRhTGVuZ3RoKSk7dGhpcy5tZXJnZVZlcnRpY2VzKCk7fUNpcmNsZUdlb21ldHJ5LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEdlb21ldHJ5LnByb3RvdHlwZSk7Q2lyY2xlR2VvbWV0cnkucHJvdG90eXBlLmNvbnN0cnVjdG9yPUNpcmNsZUdlb21ldHJ5Oy8vIENpcmNsZUJ1ZmZlckdlb21ldHJ5CmZ1bmN0aW9uIENpcmNsZUJ1ZmZlckdlb21ldHJ5KHJhZGl1cyxzZWdtZW50cyx0aGV0YVN0YXJ0LHRoZXRhTGVuZ3RoKXtCdWZmZXJHZW9tZXRyeS5jYWxsKHRoaXMpO3RoaXMudHlwZT0nQ2lyY2xlQnVmZmVyR2VvbWV0cnknO3RoaXMucGFyYW1ldGVycz17cmFkaXVzOnJhZGl1cyxzZWdtZW50czpzZWdtZW50cyx0aGV0YVN0YXJ0OnRoZXRhU3RhcnQsdGhldGFMZW5ndGg6dGhldGFMZW5ndGh9O3JhZGl1cz1yYWRpdXN8fDE7c2VnbWVudHM9c2VnbWVudHMhPT11bmRlZmluZWQ/TWF0aC5tYXgoMyxzZWdtZW50cyk6ODt0aGV0YVN0YXJ0PXRoZXRhU3RhcnQhPT11bmRlZmluZWQ/dGhldGFTdGFydDowO3RoZXRhTGVuZ3RoPXRoZXRhTGVuZ3RoIT09dW5kZWZpbmVkP3RoZXRhTGVuZ3RoOk1hdGguUEkqMjsvLyBidWZmZXJzCnZhciBpbmRpY2VzPVtdO3ZhciB2ZXJ0aWNlcz1bXTt2YXIgbm9ybWFscz1bXTt2YXIgdXZzPVtdOy8vIGhlbHBlciB2YXJpYWJsZXMKdmFyIGksczt2YXIgdmVydGV4PW5ldyBWZWN0b3IzKCk7dmFyIHV2PW5ldyBWZWN0b3IyKCk7Ly8gY2VudGVyIHBvaW50CnZlcnRpY2VzLnB1c2goMCwwLDApO25vcm1hbHMucHVzaCgwLDAsMSk7dXZzLnB1c2goMC41LDAuNSk7Zm9yKHM9MCxpPTM7czw9c2VnbWVudHM7cysrLGkrPTMpe3ZhciBzZWdtZW50PXRoZXRhU3RhcnQrcy9zZWdtZW50cyp0aGV0YUxlbmd0aDsvLyB2ZXJ0ZXgKdmVydGV4Lng9cmFkaXVzKk1hdGguY29zKHNlZ21lbnQpO3ZlcnRleC55PXJhZGl1cypNYXRoLnNpbihzZWdtZW50KTt2ZXJ0aWNlcy5wdXNoKHZlcnRleC54LHZlcnRleC55LHZlcnRleC56KTsvLyBub3JtYWwKbm9ybWFscy5wdXNoKDAsMCwxKTsvLyB1dnMKdXYueD0odmVydGljZXNbaV0vcmFkaXVzKzEpLzI7dXYueT0odmVydGljZXNbaSsxXS9yYWRpdXMrMSkvMjt1dnMucHVzaCh1di54LHV2LnkpO30vLyBpbmRpY2VzCmZvcihpPTE7aTw9c2VnbWVudHM7aSsrKXtpbmRpY2VzLnB1c2goaSxpKzEsMCk7fS8vIGJ1aWxkIGdlb21ldHJ5CnRoaXMuc2V0SW5kZXgoaW5kaWNlcyk7dGhpcy5zZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJyxuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZSh2ZXJ0aWNlcywzKSk7dGhpcy5zZXRBdHRyaWJ1dGUoJ25vcm1hbCcsbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUobm9ybWFscywzKSk7dGhpcy5zZXRBdHRyaWJ1dGUoJ3V2JyxuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZSh1dnMsMikpO31DaXJjbGVCdWZmZXJHZW9tZXRyeS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShCdWZmZXJHZW9tZXRyeS5wcm90b3R5cGUpO0NpcmNsZUJ1ZmZlckdlb21ldHJ5LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1DaXJjbGVCdWZmZXJHZW9tZXRyeTt2YXIgR2VvbWV0cmllcz0vKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsV2lyZWZyYW1lR2VvbWV0cnk6V2lyZWZyYW1lR2VvbWV0cnksUGFyYW1ldHJpY0dlb21ldHJ5OlBhcmFtZXRyaWNHZW9tZXRyeSxQYXJhbWV0cmljQnVmZmVyR2VvbWV0cnk6UGFyYW1ldHJpY0J1ZmZlckdlb21ldHJ5LFRldHJhaGVkcm9uR2VvbWV0cnk6VGV0cmFoZWRyb25HZW9tZXRyeSxUZXRyYWhlZHJvbkJ1ZmZlckdlb21ldHJ5OlRldHJhaGVkcm9uQnVmZmVyR2VvbWV0cnksT2N0YWhlZHJvbkdlb21ldHJ5Ok9jdGFoZWRyb25HZW9tZXRyeSxPY3RhaGVkcm9uQnVmZmVyR2VvbWV0cnk6T2N0YWhlZHJvbkJ1ZmZlckdlb21ldHJ5LEljb3NhaGVkcm9uR2VvbWV0cnk6SWNvc2FoZWRyb25HZW9tZXRyeSxJY29zYWhlZHJvbkJ1ZmZlckdlb21ldHJ5Okljb3NhaGVkcm9uQnVmZmVyR2VvbWV0cnksRG9kZWNhaGVkcm9uR2VvbWV0cnk6RG9kZWNhaGVkcm9uR2VvbWV0cnksRG9kZWNhaGVkcm9uQnVmZmVyR2VvbWV0cnk6RG9kZWNhaGVkcm9uQnVmZmVyR2VvbWV0cnksUG9seWhlZHJvbkdlb21ldHJ5OlBvbHloZWRyb25HZW9tZXRyeSxQb2x5aGVkcm9uQnVmZmVyR2VvbWV0cnk6UG9seWhlZHJvbkJ1ZmZlckdlb21ldHJ5LFR1YmVHZW9tZXRyeTpUdWJlR2VvbWV0cnksVHViZUJ1ZmZlckdlb21ldHJ5OlR1YmVCdWZmZXJHZW9tZXRyeSxUb3J1c0tub3RHZW9tZXRyeTpUb3J1c0tub3RHZW9tZXRyeSxUb3J1c0tub3RCdWZmZXJHZW9tZXRyeTpUb3J1c0tub3RCdWZmZXJHZW9tZXRyeSxUb3J1c0dlb21ldHJ5OlRvcnVzR2VvbWV0cnksVG9ydXNCdWZmZXJHZW9tZXRyeTpUb3J1c0J1ZmZlckdlb21ldHJ5LFRleHRHZW9tZXRyeTpUZXh0R2VvbWV0cnksVGV4dEJ1ZmZlckdlb21ldHJ5OlRleHRCdWZmZXJHZW9tZXRyeSxTcGhlcmVHZW9tZXRyeTpTcGhlcmVHZW9tZXRyeSxTcGhlcmVCdWZmZXJHZW9tZXRyeTpTcGhlcmVCdWZmZXJHZW9tZXRyeSxSaW5nR2VvbWV0cnk6UmluZ0dlb21ldHJ5LFJpbmdCdWZmZXJHZW9tZXRyeTpSaW5nQnVmZmVyR2VvbWV0cnksUGxhbmVHZW9tZXRyeTpQbGFuZUdlb21ldHJ5LFBsYW5lQnVmZmVyR2VvbWV0cnk6UGxhbmVCdWZmZXJHZW9tZXRyeSxMYXRoZUdlb21ldHJ5OkxhdGhlR2VvbWV0cnksTGF0aGVCdWZmZXJHZW9tZXRyeTpMYXRoZUJ1ZmZlckdlb21ldHJ5LFNoYXBlR2VvbWV0cnk6U2hhcGVHZW9tZXRyeSxTaGFwZUJ1ZmZlckdlb21ldHJ5OlNoYXBlQnVmZmVyR2VvbWV0cnksRXh0cnVkZUdlb21ldHJ5OkV4dHJ1ZGVHZW9tZXRyeSxFeHRydWRlQnVmZmVyR2VvbWV0cnk6RXh0cnVkZUJ1ZmZlckdlb21ldHJ5LEVkZ2VzR2VvbWV0cnk6RWRnZXNHZW9tZXRyeSxDb25lR2VvbWV0cnk6Q29uZUdlb21ldHJ5LENvbmVCdWZmZXJHZW9tZXRyeTpDb25lQnVmZmVyR2VvbWV0cnksQ3lsaW5kZXJHZW9tZXRyeTpDeWxpbmRlckdlb21ldHJ5LEN5bGluZGVyQnVmZmVyR2VvbWV0cnk6Q3lsaW5kZXJCdWZmZXJHZW9tZXRyeSxDaXJjbGVHZW9tZXRyeTpDaXJjbGVHZW9tZXRyeSxDaXJjbGVCdWZmZXJHZW9tZXRyeTpDaXJjbGVCdWZmZXJHZW9tZXRyeSxCb3hHZW9tZXRyeTpCb3hHZW9tZXRyeSxCb3hCdWZmZXJHZW9tZXRyeTpCb3hCdWZmZXJHZW9tZXRyeX0pOy8qKgogICAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb20vCiAgICoKICAgKiBwYXJhbWV0ZXJzID0gewogICAqICBjb2xvcjogPFRIUkVFLkNvbG9yPgogICAqIH0KICAgKi9mdW5jdGlvbiBTaGFkb3dNYXRlcmlhbChwYXJhbWV0ZXJzKXtNYXRlcmlhbC5jYWxsKHRoaXMpO3RoaXMudHlwZT0nU2hhZG93TWF0ZXJpYWwnO3RoaXMuY29sb3I9bmV3IENvbG9yKDB4MDAwMDAwKTt0aGlzLnRyYW5zcGFyZW50PXRydWU7dGhpcy5zZXRWYWx1ZXMocGFyYW1ldGVycyk7fVNoYWRvd01hdGVyaWFsLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKE1hdGVyaWFsLnByb3RvdHlwZSk7U2hhZG93TWF0ZXJpYWwucHJvdG90eXBlLmNvbnN0cnVjdG9yPVNoYWRvd01hdGVyaWFsO1NoYWRvd01hdGVyaWFsLnByb3RvdHlwZS5pc1NoYWRvd01hdGVyaWFsPXRydWU7U2hhZG93TWF0ZXJpYWwucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oc291cmNlKXtNYXRlcmlhbC5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsc291cmNlKTt0aGlzLmNvbG9yLmNvcHkoc291cmNlLmNvbG9yKTtyZXR1cm4gdGhpczt9Oy8qKgogICAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb20vCiAgICovZnVuY3Rpb24gUmF3U2hhZGVyTWF0ZXJpYWwocGFyYW1ldGVycyl7U2hhZGVyTWF0ZXJpYWwuY2FsbCh0aGlzLHBhcmFtZXRlcnMpO3RoaXMudHlwZT0nUmF3U2hhZGVyTWF0ZXJpYWwnO31SYXdTaGFkZXJNYXRlcmlhbC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShTaGFkZXJNYXRlcmlhbC5wcm90b3R5cGUpO1Jhd1NoYWRlck1hdGVyaWFsLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1SYXdTaGFkZXJNYXRlcmlhbDtSYXdTaGFkZXJNYXRlcmlhbC5wcm90b3R5cGUuaXNSYXdTaGFkZXJNYXRlcmlhbD10cnVlOy8qKgogICAqIEBhdXRob3IgV2VzdExhbmdsZXkgLyBodHRwOi8vZ2l0aHViLmNvbS9XZXN0TGFuZ2xleQogICAqCiAgICogcGFyYW1ldGVycyA9IHsKICAgKiAgY29sb3I6IDxoZXg+LAogICAqICByb3VnaG5lc3M6IDxmbG9hdD4sCiAgICogIG1ldGFsbmVzczogPGZsb2F0PiwKICAgKiAgb3BhY2l0eTogPGZsb2F0PiwKICAgKgogICAqICBtYXA6IG5ldyBUSFJFRS5UZXh0dXJlKCA8SW1hZ2U+ICksCiAgICoKICAgKiAgbGlnaHRNYXA6IG5ldyBUSFJFRS5UZXh0dXJlKCA8SW1hZ2U+ICksCiAgICogIGxpZ2h0TWFwSW50ZW5zaXR5OiA8ZmxvYXQ+CiAgICoKICAgKiAgYW9NYXA6IG5ldyBUSFJFRS5UZXh0dXJlKCA8SW1hZ2U+ICksCiAgICogIGFvTWFwSW50ZW5zaXR5OiA8ZmxvYXQ+CiAgICoKICAgKiAgZW1pc3NpdmU6IDxoZXg+LAogICAqICBlbWlzc2l2ZUludGVuc2l0eTogPGZsb2F0PgogICAqICBlbWlzc2l2ZU1hcDogbmV3IFRIUkVFLlRleHR1cmUoIDxJbWFnZT4gKSwKICAgKgogICAqICBidW1wTWFwOiBuZXcgVEhSRUUuVGV4dHVyZSggPEltYWdlPiApLAogICAqICBidW1wU2NhbGU6IDxmbG9hdD4sCiAgICoKICAgKiAgbm9ybWFsTWFwOiBuZXcgVEhSRUUuVGV4dHVyZSggPEltYWdlPiApLAogICAqICBub3JtYWxNYXBUeXBlOiBUSFJFRS5UYW5nZW50U3BhY2VOb3JtYWxNYXAsCiAgICogIG5vcm1hbFNjYWxlOiA8VmVjdG9yMj4sCiAgICoKICAgKiAgZGlzcGxhY2VtZW50TWFwOiBuZXcgVEhSRUUuVGV4dHVyZSggPEltYWdlPiApLAogICAqICBkaXNwbGFjZW1lbnRTY2FsZTogPGZsb2F0PiwKICAgKiAgZGlzcGxhY2VtZW50QmlhczogPGZsb2F0PiwKICAgKgogICAqICByb3VnaG5lc3NNYXA6IG5ldyBUSFJFRS5UZXh0dXJlKCA8SW1hZ2U+ICksCiAgICoKICAgKiAgbWV0YWxuZXNzTWFwOiBuZXcgVEhSRUUuVGV4dHVyZSggPEltYWdlPiApLAogICAqCiAgICogIGFscGhhTWFwOiBuZXcgVEhSRUUuVGV4dHVyZSggPEltYWdlPiApLAogICAqCiAgICogIGVudk1hcDogbmV3IFRIUkVFLkN1YmVUZXh0dXJlKCBbcG9zeCwgbmVneCwgcG9zeSwgbmVneSwgcG9zeiwgbmVnel0gKSwKICAgKiAgZW52TWFwSW50ZW5zaXR5OiA8ZmxvYXQ+CiAgICoKICAgKiAgcmVmcmFjdGlvblJhdGlvOiA8ZmxvYXQ+LAogICAqCiAgICogIHdpcmVmcmFtZTogPGJvb2xlYW4+LAogICAqICB3aXJlZnJhbWVMaW5ld2lkdGg6IDxmbG9hdD4sCiAgICoKICAgKiAgc2tpbm5pbmc6IDxib29sPiwKICAgKiAgbW9ycGhUYXJnZXRzOiA8Ym9vbD4sCiAgICogIG1vcnBoTm9ybWFsczogPGJvb2w+CiAgICogfQogICAqL2Z1bmN0aW9uIE1lc2hTdGFuZGFyZE1hdGVyaWFsKHBhcmFtZXRlcnMpe01hdGVyaWFsLmNhbGwodGhpcyk7dGhpcy5kZWZpbmVzPXsnU1RBTkRBUkQnOicnfTt0aGlzLnR5cGU9J01lc2hTdGFuZGFyZE1hdGVyaWFsJzt0aGlzLmNvbG9yPW5ldyBDb2xvcigweGZmZmZmZik7Ly8gZGlmZnVzZQp0aGlzLnJvdWdobmVzcz0xLjA7dGhpcy5tZXRhbG5lc3M9MC4wO3RoaXMubWFwPW51bGw7dGhpcy5saWdodE1hcD1udWxsO3RoaXMubGlnaHRNYXBJbnRlbnNpdHk9MS4wO3RoaXMuYW9NYXA9bnVsbDt0aGlzLmFvTWFwSW50ZW5zaXR5PTEuMDt0aGlzLmVtaXNzaXZlPW5ldyBDb2xvcigweDAwMDAwMCk7dGhpcy5lbWlzc2l2ZUludGVuc2l0eT0xLjA7dGhpcy5lbWlzc2l2ZU1hcD1udWxsO3RoaXMuYnVtcE1hcD1udWxsO3RoaXMuYnVtcFNjYWxlPTE7dGhpcy5ub3JtYWxNYXA9bnVsbDt0aGlzLm5vcm1hbE1hcFR5cGU9VGFuZ2VudFNwYWNlTm9ybWFsTWFwO3RoaXMubm9ybWFsU2NhbGU9bmV3IFZlY3RvcjIoMSwxKTt0aGlzLmRpc3BsYWNlbWVudE1hcD1udWxsO3RoaXMuZGlzcGxhY2VtZW50U2NhbGU9MTt0aGlzLmRpc3BsYWNlbWVudEJpYXM9MDt0aGlzLnJvdWdobmVzc01hcD1udWxsO3RoaXMubWV0YWxuZXNzTWFwPW51bGw7dGhpcy5hbHBoYU1hcD1udWxsO3RoaXMuZW52TWFwPW51bGw7dGhpcy5lbnZNYXBJbnRlbnNpdHk9MS4wO3RoaXMucmVmcmFjdGlvblJhdGlvPTAuOTg7dGhpcy53aXJlZnJhbWU9ZmFsc2U7dGhpcy53aXJlZnJhbWVMaW5ld2lkdGg9MTt0aGlzLndpcmVmcmFtZUxpbmVjYXA9J3JvdW5kJzt0aGlzLndpcmVmcmFtZUxpbmVqb2luPSdyb3VuZCc7dGhpcy5za2lubmluZz1mYWxzZTt0aGlzLm1vcnBoVGFyZ2V0cz1mYWxzZTt0aGlzLm1vcnBoTm9ybWFscz1mYWxzZTt0aGlzLnNldFZhbHVlcyhwYXJhbWV0ZXJzKTt9TWVzaFN0YW5kYXJkTWF0ZXJpYWwucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoTWF0ZXJpYWwucHJvdG90eXBlKTtNZXNoU3RhbmRhcmRNYXRlcmlhbC5wcm90b3R5cGUuY29uc3RydWN0b3I9TWVzaFN0YW5kYXJkTWF0ZXJpYWw7TWVzaFN0YW5kYXJkTWF0ZXJpYWwucHJvdG90eXBlLmlzTWVzaFN0YW5kYXJkTWF0ZXJpYWw9dHJ1ZTtNZXNoU3RhbmRhcmRNYXRlcmlhbC5wcm90b3R5cGUuY29weT1mdW5jdGlvbihzb3VyY2Upe01hdGVyaWFsLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyxzb3VyY2UpO3RoaXMuZGVmaW5lcz17J1NUQU5EQVJEJzonJ307dGhpcy5jb2xvci5jb3B5KHNvdXJjZS5jb2xvcik7dGhpcy5yb3VnaG5lc3M9c291cmNlLnJvdWdobmVzczt0aGlzLm1ldGFsbmVzcz1zb3VyY2UubWV0YWxuZXNzO3RoaXMubWFwPXNvdXJjZS5tYXA7dGhpcy5saWdodE1hcD1zb3VyY2UubGlnaHRNYXA7dGhpcy5saWdodE1hcEludGVuc2l0eT1zb3VyY2UubGlnaHRNYXBJbnRlbnNpdHk7dGhpcy5hb01hcD1zb3VyY2UuYW9NYXA7dGhpcy5hb01hcEludGVuc2l0eT1zb3VyY2UuYW9NYXBJbnRlbnNpdHk7dGhpcy5lbWlzc2l2ZS5jb3B5KHNvdXJjZS5lbWlzc2l2ZSk7dGhpcy5lbWlzc2l2ZU1hcD1zb3VyY2UuZW1pc3NpdmVNYXA7dGhpcy5lbWlzc2l2ZUludGVuc2l0eT1zb3VyY2UuZW1pc3NpdmVJbnRlbnNpdHk7dGhpcy5idW1wTWFwPXNvdXJjZS5idW1wTWFwO3RoaXMuYnVtcFNjYWxlPXNvdXJjZS5idW1wU2NhbGU7dGhpcy5ub3JtYWxNYXA9c291cmNlLm5vcm1hbE1hcDt0aGlzLm5vcm1hbE1hcFR5cGU9c291cmNlLm5vcm1hbE1hcFR5cGU7dGhpcy5ub3JtYWxTY2FsZS5jb3B5KHNvdXJjZS5ub3JtYWxTY2FsZSk7dGhpcy5kaXNwbGFjZW1lbnRNYXA9c291cmNlLmRpc3BsYWNlbWVudE1hcDt0aGlzLmRpc3BsYWNlbWVudFNjYWxlPXNvdXJjZS5kaXNwbGFjZW1lbnRTY2FsZTt0aGlzLmRpc3BsYWNlbWVudEJpYXM9c291cmNlLmRpc3BsYWNlbWVudEJpYXM7dGhpcy5yb3VnaG5lc3NNYXA9c291cmNlLnJvdWdobmVzc01hcDt0aGlzLm1ldGFsbmVzc01hcD1zb3VyY2UubWV0YWxuZXNzTWFwO3RoaXMuYWxwaGFNYXA9c291cmNlLmFscGhhTWFwO3RoaXMuZW52TWFwPXNvdXJjZS5lbnZNYXA7dGhpcy5lbnZNYXBJbnRlbnNpdHk9c291cmNlLmVudk1hcEludGVuc2l0eTt0aGlzLnJlZnJhY3Rpb25SYXRpbz1zb3VyY2UucmVmcmFjdGlvblJhdGlvO3RoaXMud2lyZWZyYW1lPXNvdXJjZS53aXJlZnJhbWU7dGhpcy53aXJlZnJhbWVMaW5ld2lkdGg9c291cmNlLndpcmVmcmFtZUxpbmV3aWR0aDt0aGlzLndpcmVmcmFtZUxpbmVjYXA9c291cmNlLndpcmVmcmFtZUxpbmVjYXA7dGhpcy53aXJlZnJhbWVMaW5lam9pbj1zb3VyY2Uud2lyZWZyYW1lTGluZWpvaW47dGhpcy5za2lubmluZz1zb3VyY2Uuc2tpbm5pbmc7dGhpcy5tb3JwaFRhcmdldHM9c291cmNlLm1vcnBoVGFyZ2V0czt0aGlzLm1vcnBoTm9ybWFscz1zb3VyY2UubW9ycGhOb3JtYWxzO3JldHVybiB0aGlzO307LyoqCiAgICogQGF1dGhvciBXZXN0TGFuZ2xleSAvIGh0dHA6Ly9naXRodWIuY29tL1dlc3RMYW5nbGV5CiAgICoKICAgKiBwYXJhbWV0ZXJzID0gewogICAqICByZWZsZWN0aXZpdHk6IDxmbG9hdD4KICAgKiAgY2xlYXJjb2F0OiA8ZmxvYXQ+CiAgICogIGNsZWFyY29hdFJvdWdobmVzczogPGZsb2F0PgogICAqCiAgICogIHNoZWVuOiA8Q29sb3I+CiAgICoKICAgKiAgY2xlYXJjb2F0Tm9ybWFsU2NhbGU6IDxWZWN0b3IyPiwKICAgKiAgY2xlYXJjb2F0Tm9ybWFsTWFwOiBuZXcgVEhSRUUuVGV4dHVyZSggPEltYWdlPiApLAogICAqIH0KICAgKi9mdW5jdGlvbiBNZXNoUGh5c2ljYWxNYXRlcmlhbChwYXJhbWV0ZXJzKXtNZXNoU3RhbmRhcmRNYXRlcmlhbC5jYWxsKHRoaXMpO3RoaXMuZGVmaW5lcz17J1NUQU5EQVJEJzonJywnUEhZU0lDQUwnOicnfTt0aGlzLnR5cGU9J01lc2hQaHlzaWNhbE1hdGVyaWFsJzt0aGlzLnJlZmxlY3Rpdml0eT0wLjU7Ly8gbWFwcyB0byBGMCA9IDAuMDQKdGhpcy5jbGVhcmNvYXQ9MC4wO3RoaXMuY2xlYXJjb2F0Um91Z2huZXNzPTAuMDt0aGlzLnNoZWVuPW51bGw7Ly8gbnVsbCB3aWxsIGRpc2FibGUgc2hlZW4gYnNkZgp0aGlzLmNsZWFyY29hdE5vcm1hbFNjYWxlPW5ldyBWZWN0b3IyKDEsMSk7dGhpcy5jbGVhcmNvYXROb3JtYWxNYXA9bnVsbDt0aGlzLnRyYW5zcGFyZW5jeT0wLjA7dGhpcy5zZXRWYWx1ZXMocGFyYW1ldGVycyk7fU1lc2hQaHlzaWNhbE1hdGVyaWFsLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKE1lc2hTdGFuZGFyZE1hdGVyaWFsLnByb3RvdHlwZSk7TWVzaFBoeXNpY2FsTWF0ZXJpYWwucHJvdG90eXBlLmNvbnN0cnVjdG9yPU1lc2hQaHlzaWNhbE1hdGVyaWFsO01lc2hQaHlzaWNhbE1hdGVyaWFsLnByb3RvdHlwZS5pc01lc2hQaHlzaWNhbE1hdGVyaWFsPXRydWU7TWVzaFBoeXNpY2FsTWF0ZXJpYWwucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oc291cmNlKXtNZXNoU3RhbmRhcmRNYXRlcmlhbC5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsc291cmNlKTt0aGlzLmRlZmluZXM9eydTVEFOREFSRCc6JycsJ1BIWVNJQ0FMJzonJ307dGhpcy5yZWZsZWN0aXZpdHk9c291cmNlLnJlZmxlY3Rpdml0eTt0aGlzLmNsZWFyY29hdD1zb3VyY2UuY2xlYXJjb2F0O3RoaXMuY2xlYXJjb2F0Um91Z2huZXNzPXNvdXJjZS5jbGVhcmNvYXRSb3VnaG5lc3M7aWYoc291cmNlLnNoZWVuKXt0aGlzLnNoZWVuPSh0aGlzLnNoZWVufHxuZXcgQ29sb3IoKSkuY29weShzb3VyY2Uuc2hlZW4pO31lbHNle3RoaXMuc2hlZW49bnVsbDt9dGhpcy5jbGVhcmNvYXROb3JtYWxNYXA9c291cmNlLmNsZWFyY29hdE5vcm1hbE1hcDt0aGlzLmNsZWFyY29hdE5vcm1hbFNjYWxlLmNvcHkoc291cmNlLmNsZWFyY29hdE5vcm1hbFNjYWxlKTt0aGlzLnRyYW5zcGFyZW5jeT1zb3VyY2UudHJhbnNwYXJlbmN5O3JldHVybiB0aGlzO307LyoqCiAgICogQGF1dGhvciBtcmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS8KICAgKiBAYXV0aG9yIGFsdGVyZWRxIC8gaHR0cDovL2FsdGVyZWRxdWFsaWEuY29tLwogICAqCiAgICogcGFyYW1ldGVycyA9IHsKICAgKiAgY29sb3I6IDxoZXg+LAogICAqICBzcGVjdWxhcjogPGhleD4sCiAgICogIHNoaW5pbmVzczogPGZsb2F0PiwKICAgKiAgb3BhY2l0eTogPGZsb2F0PiwKICAgKgogICAqICBtYXA6IG5ldyBUSFJFRS5UZXh0dXJlKCA8SW1hZ2U+ICksCiAgICoKICAgKiAgbGlnaHRNYXA6IG5ldyBUSFJFRS5UZXh0dXJlKCA8SW1hZ2U+ICksCiAgICogIGxpZ2h0TWFwSW50ZW5zaXR5OiA8ZmxvYXQ+CiAgICoKICAgKiAgYW9NYXA6IG5ldyBUSFJFRS5UZXh0dXJlKCA8SW1hZ2U+ICksCiAgICogIGFvTWFwSW50ZW5zaXR5OiA8ZmxvYXQ+CiAgICoKICAgKiAgZW1pc3NpdmU6IDxoZXg+LAogICAqICBlbWlzc2l2ZUludGVuc2l0eTogPGZsb2F0PgogICAqICBlbWlzc2l2ZU1hcDogbmV3IFRIUkVFLlRleHR1cmUoIDxJbWFnZT4gKSwKICAgKgogICAqICBidW1wTWFwOiBuZXcgVEhSRUUuVGV4dHVyZSggPEltYWdlPiApLAogICAqICBidW1wU2NhbGU6IDxmbG9hdD4sCiAgICoKICAgKiAgbm9ybWFsTWFwOiBuZXcgVEhSRUUuVGV4dHVyZSggPEltYWdlPiApLAogICAqICBub3JtYWxNYXBUeXBlOiBUSFJFRS5UYW5nZW50U3BhY2VOb3JtYWxNYXAsCiAgICogIG5vcm1hbFNjYWxlOiA8VmVjdG9yMj4sCiAgICoKICAgKiAgZGlzcGxhY2VtZW50TWFwOiBuZXcgVEhSRUUuVGV4dHVyZSggPEltYWdlPiApLAogICAqICBkaXNwbGFjZW1lbnRTY2FsZTogPGZsb2F0PiwKICAgKiAgZGlzcGxhY2VtZW50QmlhczogPGZsb2F0PiwKICAgKgogICAqICBzcGVjdWxhck1hcDogbmV3IFRIUkVFLlRleHR1cmUoIDxJbWFnZT4gKSwKICAgKgogICAqICBhbHBoYU1hcDogbmV3IFRIUkVFLlRleHR1cmUoIDxJbWFnZT4gKSwKICAgKgogICAqICBlbnZNYXA6IG5ldyBUSFJFRS5DdWJlVGV4dHVyZSggW3Bvc3gsIG5lZ3gsIHBvc3ksIG5lZ3ksIHBvc3osIG5lZ3pdICksCiAgICogIGNvbWJpbmU6IFRIUkVFLk11bHRpcGx5T3BlcmF0aW9uLAogICAqICByZWZsZWN0aXZpdHk6IDxmbG9hdD4sCiAgICogIHJlZnJhY3Rpb25SYXRpbzogPGZsb2F0PiwKICAgKgogICAqICB3aXJlZnJhbWU6IDxib29sZWFuPiwKICAgKiAgd2lyZWZyYW1lTGluZXdpZHRoOiA8ZmxvYXQ+LAogICAqCiAgICogIHNraW5uaW5nOiA8Ym9vbD4sCiAgICogIG1vcnBoVGFyZ2V0czogPGJvb2w+LAogICAqICBtb3JwaE5vcm1hbHM6IDxib29sPgogICAqIH0KICAgKi9mdW5jdGlvbiBNZXNoUGhvbmdNYXRlcmlhbChwYXJhbWV0ZXJzKXtNYXRlcmlhbC5jYWxsKHRoaXMpO3RoaXMudHlwZT0nTWVzaFBob25nTWF0ZXJpYWwnO3RoaXMuY29sb3I9bmV3IENvbG9yKDB4ZmZmZmZmKTsvLyBkaWZmdXNlCnRoaXMuc3BlY3VsYXI9bmV3IENvbG9yKDB4MTExMTExKTt0aGlzLnNoaW5pbmVzcz0zMDt0aGlzLm1hcD1udWxsO3RoaXMubGlnaHRNYXA9bnVsbDt0aGlzLmxpZ2h0TWFwSW50ZW5zaXR5PTEuMDt0aGlzLmFvTWFwPW51bGw7dGhpcy5hb01hcEludGVuc2l0eT0xLjA7dGhpcy5lbWlzc2l2ZT1uZXcgQ29sb3IoMHgwMDAwMDApO3RoaXMuZW1pc3NpdmVJbnRlbnNpdHk9MS4wO3RoaXMuZW1pc3NpdmVNYXA9bnVsbDt0aGlzLmJ1bXBNYXA9bnVsbDt0aGlzLmJ1bXBTY2FsZT0xO3RoaXMubm9ybWFsTWFwPW51bGw7dGhpcy5ub3JtYWxNYXBUeXBlPVRhbmdlbnRTcGFjZU5vcm1hbE1hcDt0aGlzLm5vcm1hbFNjYWxlPW5ldyBWZWN0b3IyKDEsMSk7dGhpcy5kaXNwbGFjZW1lbnRNYXA9bnVsbDt0aGlzLmRpc3BsYWNlbWVudFNjYWxlPTE7dGhpcy5kaXNwbGFjZW1lbnRCaWFzPTA7dGhpcy5zcGVjdWxhck1hcD1udWxsO3RoaXMuYWxwaGFNYXA9bnVsbDt0aGlzLmVudk1hcD1udWxsO3RoaXMuY29tYmluZT1NdWx0aXBseU9wZXJhdGlvbjt0aGlzLnJlZmxlY3Rpdml0eT0xO3RoaXMucmVmcmFjdGlvblJhdGlvPTAuOTg7dGhpcy53aXJlZnJhbWU9ZmFsc2U7dGhpcy53aXJlZnJhbWVMaW5ld2lkdGg9MTt0aGlzLndpcmVmcmFtZUxpbmVjYXA9J3JvdW5kJzt0aGlzLndpcmVmcmFtZUxpbmVqb2luPSdyb3VuZCc7dGhpcy5za2lubmluZz1mYWxzZTt0aGlzLm1vcnBoVGFyZ2V0cz1mYWxzZTt0aGlzLm1vcnBoTm9ybWFscz1mYWxzZTt0aGlzLnNldFZhbHVlcyhwYXJhbWV0ZXJzKTt9TWVzaFBob25nTWF0ZXJpYWwucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoTWF0ZXJpYWwucHJvdG90eXBlKTtNZXNoUGhvbmdNYXRlcmlhbC5wcm90b3R5cGUuY29uc3RydWN0b3I9TWVzaFBob25nTWF0ZXJpYWw7TWVzaFBob25nTWF0ZXJpYWwucHJvdG90eXBlLmlzTWVzaFBob25nTWF0ZXJpYWw9dHJ1ZTtNZXNoUGhvbmdNYXRlcmlhbC5wcm90b3R5cGUuY29weT1mdW5jdGlvbihzb3VyY2Upe01hdGVyaWFsLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyxzb3VyY2UpO3RoaXMuY29sb3IuY29weShzb3VyY2UuY29sb3IpO3RoaXMuc3BlY3VsYXIuY29weShzb3VyY2Uuc3BlY3VsYXIpO3RoaXMuc2hpbmluZXNzPXNvdXJjZS5zaGluaW5lc3M7dGhpcy5tYXA9c291cmNlLm1hcDt0aGlzLmxpZ2h0TWFwPXNvdXJjZS5saWdodE1hcDt0aGlzLmxpZ2h0TWFwSW50ZW5zaXR5PXNvdXJjZS5saWdodE1hcEludGVuc2l0eTt0aGlzLmFvTWFwPXNvdXJjZS5hb01hcDt0aGlzLmFvTWFwSW50ZW5zaXR5PXNvdXJjZS5hb01hcEludGVuc2l0eTt0aGlzLmVtaXNzaXZlLmNvcHkoc291cmNlLmVtaXNzaXZlKTt0aGlzLmVtaXNzaXZlTWFwPXNvdXJjZS5lbWlzc2l2ZU1hcDt0aGlzLmVtaXNzaXZlSW50ZW5zaXR5PXNvdXJjZS5lbWlzc2l2ZUludGVuc2l0eTt0aGlzLmJ1bXBNYXA9c291cmNlLmJ1bXBNYXA7dGhpcy5idW1wU2NhbGU9c291cmNlLmJ1bXBTY2FsZTt0aGlzLm5vcm1hbE1hcD1zb3VyY2Uubm9ybWFsTWFwO3RoaXMubm9ybWFsTWFwVHlwZT1zb3VyY2Uubm9ybWFsTWFwVHlwZTt0aGlzLm5vcm1hbFNjYWxlLmNvcHkoc291cmNlLm5vcm1hbFNjYWxlKTt0aGlzLmRpc3BsYWNlbWVudE1hcD1zb3VyY2UuZGlzcGxhY2VtZW50TWFwO3RoaXMuZGlzcGxhY2VtZW50U2NhbGU9c291cmNlLmRpc3BsYWNlbWVudFNjYWxlO3RoaXMuZGlzcGxhY2VtZW50Qmlhcz1zb3VyY2UuZGlzcGxhY2VtZW50Qmlhczt0aGlzLnNwZWN1bGFyTWFwPXNvdXJjZS5zcGVjdWxhck1hcDt0aGlzLmFscGhhTWFwPXNvdXJjZS5hbHBoYU1hcDt0aGlzLmVudk1hcD1zb3VyY2UuZW52TWFwO3RoaXMuY29tYmluZT1zb3VyY2UuY29tYmluZTt0aGlzLnJlZmxlY3Rpdml0eT1zb3VyY2UucmVmbGVjdGl2aXR5O3RoaXMucmVmcmFjdGlvblJhdGlvPXNvdXJjZS5yZWZyYWN0aW9uUmF0aW87dGhpcy53aXJlZnJhbWU9c291cmNlLndpcmVmcmFtZTt0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD1zb3VyY2Uud2lyZWZyYW1lTGluZXdpZHRoO3RoaXMud2lyZWZyYW1lTGluZWNhcD1zb3VyY2Uud2lyZWZyYW1lTGluZWNhcDt0aGlzLndpcmVmcmFtZUxpbmVqb2luPXNvdXJjZS53aXJlZnJhbWVMaW5lam9pbjt0aGlzLnNraW5uaW5nPXNvdXJjZS5za2lubmluZzt0aGlzLm1vcnBoVGFyZ2V0cz1zb3VyY2UubW9ycGhUYXJnZXRzO3RoaXMubW9ycGhOb3JtYWxzPXNvdXJjZS5tb3JwaE5vcm1hbHM7cmV0dXJuIHRoaXM7fTsvKioKICAgKiBAYXV0aG9yIHRha2FoaXJveCAvIGh0dHA6Ly9naXRodWIuY29tL3Rha2FoaXJveAogICAqCiAgICogcGFyYW1ldGVycyA9IHsKICAgKiAgY29sb3I6IDxoZXg+LAogICAqICBzcGVjdWxhcjogPGhleD4sCiAgICogIHNoaW5pbmVzczogPGZsb2F0PiwKICAgKgogICAqICBtYXA6IG5ldyBUSFJFRS5UZXh0dXJlKCA8SW1hZ2U+ICksCiAgICogIGdyYWRpZW50TWFwOiBuZXcgVEhSRUUuVGV4dHVyZSggPEltYWdlPiApLAogICAqCiAgICogIGxpZ2h0TWFwOiBuZXcgVEhSRUUuVGV4dHVyZSggPEltYWdlPiApLAogICAqICBsaWdodE1hcEludGVuc2l0eTogPGZsb2F0PgogICAqCiAgICogIGFvTWFwOiBuZXcgVEhSRUUuVGV4dHVyZSggPEltYWdlPiApLAogICAqICBhb01hcEludGVuc2l0eTogPGZsb2F0PgogICAqCiAgICogIGVtaXNzaXZlOiA8aGV4PiwKICAgKiAgZW1pc3NpdmVJbnRlbnNpdHk6IDxmbG9hdD4KICAgKiAgZW1pc3NpdmVNYXA6IG5ldyBUSFJFRS5UZXh0dXJlKCA8SW1hZ2U+ICksCiAgICoKICAgKiAgYnVtcE1hcDogbmV3IFRIUkVFLlRleHR1cmUoIDxJbWFnZT4gKSwKICAgKiAgYnVtcFNjYWxlOiA8ZmxvYXQ+LAogICAqCiAgICogIG5vcm1hbE1hcDogbmV3IFRIUkVFLlRleHR1cmUoIDxJbWFnZT4gKSwKICAgKiAgbm9ybWFsTWFwVHlwZTogVEhSRUUuVGFuZ2VudFNwYWNlTm9ybWFsTWFwLAogICAqICBub3JtYWxTY2FsZTogPFZlY3RvcjI+LAogICAqCiAgICogIGRpc3BsYWNlbWVudE1hcDogbmV3IFRIUkVFLlRleHR1cmUoIDxJbWFnZT4gKSwKICAgKiAgZGlzcGxhY2VtZW50U2NhbGU6IDxmbG9hdD4sCiAgICogIGRpc3BsYWNlbWVudEJpYXM6IDxmbG9hdD4sCiAgICoKICAgKiAgc3BlY3VsYXJNYXA6IG5ldyBUSFJFRS5UZXh0dXJlKCA8SW1hZ2U+ICksCiAgICoKICAgKiAgYWxwaGFNYXA6IG5ldyBUSFJFRS5UZXh0dXJlKCA8SW1hZ2U+ICksCiAgICoKICAgKiAgd2lyZWZyYW1lOiA8Ym9vbGVhbj4sCiAgICogIHdpcmVmcmFtZUxpbmV3aWR0aDogPGZsb2F0PiwKICAgKgogICAqICBza2lubmluZzogPGJvb2w+LAogICAqICBtb3JwaFRhcmdldHM6IDxib29sPiwKICAgKiAgbW9ycGhOb3JtYWxzOiA8Ym9vbD4KICAgKiB9CiAgICovZnVuY3Rpb24gTWVzaFRvb25NYXRlcmlhbChwYXJhbWV0ZXJzKXtNYXRlcmlhbC5jYWxsKHRoaXMpO3RoaXMuZGVmaW5lcz17J1RPT04nOicnfTt0aGlzLnR5cGU9J01lc2hUb29uTWF0ZXJpYWwnO3RoaXMuY29sb3I9bmV3IENvbG9yKDB4ZmZmZmZmKTt0aGlzLnNwZWN1bGFyPW5ldyBDb2xvcigweDExMTExMSk7dGhpcy5zaGluaW5lc3M9MzA7dGhpcy5tYXA9bnVsbDt0aGlzLmdyYWRpZW50TWFwPW51bGw7dGhpcy5saWdodE1hcD1udWxsO3RoaXMubGlnaHRNYXBJbnRlbnNpdHk9MS4wO3RoaXMuYW9NYXA9bnVsbDt0aGlzLmFvTWFwSW50ZW5zaXR5PTEuMDt0aGlzLmVtaXNzaXZlPW5ldyBDb2xvcigweDAwMDAwMCk7dGhpcy5lbWlzc2l2ZUludGVuc2l0eT0xLjA7dGhpcy5lbWlzc2l2ZU1hcD1udWxsO3RoaXMuYnVtcE1hcD1udWxsO3RoaXMuYnVtcFNjYWxlPTE7dGhpcy5ub3JtYWxNYXA9bnVsbDt0aGlzLm5vcm1hbE1hcFR5cGU9VGFuZ2VudFNwYWNlTm9ybWFsTWFwO3RoaXMubm9ybWFsU2NhbGU9bmV3IFZlY3RvcjIoMSwxKTt0aGlzLmRpc3BsYWNlbWVudE1hcD1udWxsO3RoaXMuZGlzcGxhY2VtZW50U2NhbGU9MTt0aGlzLmRpc3BsYWNlbWVudEJpYXM9MDt0aGlzLnNwZWN1bGFyTWFwPW51bGw7dGhpcy5hbHBoYU1hcD1udWxsO3RoaXMud2lyZWZyYW1lPWZhbHNlO3RoaXMud2lyZWZyYW1lTGluZXdpZHRoPTE7dGhpcy53aXJlZnJhbWVMaW5lY2FwPSdyb3VuZCc7dGhpcy53aXJlZnJhbWVMaW5lam9pbj0ncm91bmQnO3RoaXMuc2tpbm5pbmc9ZmFsc2U7dGhpcy5tb3JwaFRhcmdldHM9ZmFsc2U7dGhpcy5tb3JwaE5vcm1hbHM9ZmFsc2U7dGhpcy5zZXRWYWx1ZXMocGFyYW1ldGVycyk7fU1lc2hUb29uTWF0ZXJpYWwucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoTWF0ZXJpYWwucHJvdG90eXBlKTtNZXNoVG9vbk1hdGVyaWFsLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1NZXNoVG9vbk1hdGVyaWFsO01lc2hUb29uTWF0ZXJpYWwucHJvdG90eXBlLmlzTWVzaFRvb25NYXRlcmlhbD10cnVlO01lc2hUb29uTWF0ZXJpYWwucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oc291cmNlKXtNYXRlcmlhbC5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsc291cmNlKTt0aGlzLmNvbG9yLmNvcHkoc291cmNlLmNvbG9yKTt0aGlzLnNwZWN1bGFyLmNvcHkoc291cmNlLnNwZWN1bGFyKTt0aGlzLnNoaW5pbmVzcz1zb3VyY2Uuc2hpbmluZXNzO3RoaXMubWFwPXNvdXJjZS5tYXA7dGhpcy5ncmFkaWVudE1hcD1zb3VyY2UuZ3JhZGllbnRNYXA7dGhpcy5saWdodE1hcD1zb3VyY2UubGlnaHRNYXA7dGhpcy5saWdodE1hcEludGVuc2l0eT1zb3VyY2UubGlnaHRNYXBJbnRlbnNpdHk7dGhpcy5hb01hcD1zb3VyY2UuYW9NYXA7dGhpcy5hb01hcEludGVuc2l0eT1zb3VyY2UuYW9NYXBJbnRlbnNpdHk7dGhpcy5lbWlzc2l2ZS5jb3B5KHNvdXJjZS5lbWlzc2l2ZSk7dGhpcy5lbWlzc2l2ZU1hcD1zb3VyY2UuZW1pc3NpdmVNYXA7dGhpcy5lbWlzc2l2ZUludGVuc2l0eT1zb3VyY2UuZW1pc3NpdmVJbnRlbnNpdHk7dGhpcy5idW1wTWFwPXNvdXJjZS5idW1wTWFwO3RoaXMuYnVtcFNjYWxlPXNvdXJjZS5idW1wU2NhbGU7dGhpcy5ub3JtYWxNYXA9c291cmNlLm5vcm1hbE1hcDt0aGlzLm5vcm1hbE1hcFR5cGU9c291cmNlLm5vcm1hbE1hcFR5cGU7dGhpcy5ub3JtYWxTY2FsZS5jb3B5KHNvdXJjZS5ub3JtYWxTY2FsZSk7dGhpcy5kaXNwbGFjZW1lbnRNYXA9c291cmNlLmRpc3BsYWNlbWVudE1hcDt0aGlzLmRpc3BsYWNlbWVudFNjYWxlPXNvdXJjZS5kaXNwbGFjZW1lbnRTY2FsZTt0aGlzLmRpc3BsYWNlbWVudEJpYXM9c291cmNlLmRpc3BsYWNlbWVudEJpYXM7dGhpcy5zcGVjdWxhck1hcD1zb3VyY2Uuc3BlY3VsYXJNYXA7dGhpcy5hbHBoYU1hcD1zb3VyY2UuYWxwaGFNYXA7dGhpcy53aXJlZnJhbWU9c291cmNlLndpcmVmcmFtZTt0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD1zb3VyY2Uud2lyZWZyYW1lTGluZXdpZHRoO3RoaXMud2lyZWZyYW1lTGluZWNhcD1zb3VyY2Uud2lyZWZyYW1lTGluZWNhcDt0aGlzLndpcmVmcmFtZUxpbmVqb2luPXNvdXJjZS53aXJlZnJhbWVMaW5lam9pbjt0aGlzLnNraW5uaW5nPXNvdXJjZS5za2lubmluZzt0aGlzLm1vcnBoVGFyZ2V0cz1zb3VyY2UubW9ycGhUYXJnZXRzO3RoaXMubW9ycGhOb3JtYWxzPXNvdXJjZS5tb3JwaE5vcm1hbHM7cmV0dXJuIHRoaXM7fTsvKioKICAgKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tLwogICAqIEBhdXRob3IgV2VzdExhbmdsZXkgLyBodHRwOi8vZ2l0aHViLmNvbS9XZXN0TGFuZ2xleQogICAqCiAgICogcGFyYW1ldGVycyA9IHsKICAgKiAgb3BhY2l0eTogPGZsb2F0PiwKICAgKgogICAqICBidW1wTWFwOiBuZXcgVEhSRUUuVGV4dHVyZSggPEltYWdlPiApLAogICAqICBidW1wU2NhbGU6IDxmbG9hdD4sCiAgICoKICAgKiAgbm9ybWFsTWFwOiBuZXcgVEhSRUUuVGV4dHVyZSggPEltYWdlPiApLAogICAqICBub3JtYWxNYXBUeXBlOiBUSFJFRS5UYW5nZW50U3BhY2VOb3JtYWxNYXAsCiAgICogIG5vcm1hbFNjYWxlOiA8VmVjdG9yMj4sCiAgICoKICAgKiAgZGlzcGxhY2VtZW50TWFwOiBuZXcgVEhSRUUuVGV4dHVyZSggPEltYWdlPiApLAogICAqICBkaXNwbGFjZW1lbnRTY2FsZTogPGZsb2F0PiwKICAgKiAgZGlzcGxhY2VtZW50QmlhczogPGZsb2F0PiwKICAgKgogICAqICB3aXJlZnJhbWU6IDxib29sZWFuPiwKICAgKiAgd2lyZWZyYW1lTGluZXdpZHRoOiA8ZmxvYXQ+CiAgICoKICAgKiAgc2tpbm5pbmc6IDxib29sPiwKICAgKiAgbW9ycGhUYXJnZXRzOiA8Ym9vbD4sCiAgICogIG1vcnBoTm9ybWFsczogPGJvb2w+CiAgICogfQogICAqL2Z1bmN0aW9uIE1lc2hOb3JtYWxNYXRlcmlhbChwYXJhbWV0ZXJzKXtNYXRlcmlhbC5jYWxsKHRoaXMpO3RoaXMudHlwZT0nTWVzaE5vcm1hbE1hdGVyaWFsJzt0aGlzLmJ1bXBNYXA9bnVsbDt0aGlzLmJ1bXBTY2FsZT0xO3RoaXMubm9ybWFsTWFwPW51bGw7dGhpcy5ub3JtYWxNYXBUeXBlPVRhbmdlbnRTcGFjZU5vcm1hbE1hcDt0aGlzLm5vcm1hbFNjYWxlPW5ldyBWZWN0b3IyKDEsMSk7dGhpcy5kaXNwbGFjZW1lbnRNYXA9bnVsbDt0aGlzLmRpc3BsYWNlbWVudFNjYWxlPTE7dGhpcy5kaXNwbGFjZW1lbnRCaWFzPTA7dGhpcy53aXJlZnJhbWU9ZmFsc2U7dGhpcy53aXJlZnJhbWVMaW5ld2lkdGg9MTt0aGlzLmZvZz1mYWxzZTt0aGlzLnNraW5uaW5nPWZhbHNlO3RoaXMubW9ycGhUYXJnZXRzPWZhbHNlO3RoaXMubW9ycGhOb3JtYWxzPWZhbHNlO3RoaXMuc2V0VmFsdWVzKHBhcmFtZXRlcnMpO31NZXNoTm9ybWFsTWF0ZXJpYWwucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoTWF0ZXJpYWwucHJvdG90eXBlKTtNZXNoTm9ybWFsTWF0ZXJpYWwucHJvdG90eXBlLmNvbnN0cnVjdG9yPU1lc2hOb3JtYWxNYXRlcmlhbDtNZXNoTm9ybWFsTWF0ZXJpYWwucHJvdG90eXBlLmlzTWVzaE5vcm1hbE1hdGVyaWFsPXRydWU7TWVzaE5vcm1hbE1hdGVyaWFsLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKHNvdXJjZSl7TWF0ZXJpYWwucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHNvdXJjZSk7dGhpcy5idW1wTWFwPXNvdXJjZS5idW1wTWFwO3RoaXMuYnVtcFNjYWxlPXNvdXJjZS5idW1wU2NhbGU7dGhpcy5ub3JtYWxNYXA9c291cmNlLm5vcm1hbE1hcDt0aGlzLm5vcm1hbE1hcFR5cGU9c291cmNlLm5vcm1hbE1hcFR5cGU7dGhpcy5ub3JtYWxTY2FsZS5jb3B5KHNvdXJjZS5ub3JtYWxTY2FsZSk7dGhpcy5kaXNwbGFjZW1lbnRNYXA9c291cmNlLmRpc3BsYWNlbWVudE1hcDt0aGlzLmRpc3BsYWNlbWVudFNjYWxlPXNvdXJjZS5kaXNwbGFjZW1lbnRTY2FsZTt0aGlzLmRpc3BsYWNlbWVudEJpYXM9c291cmNlLmRpc3BsYWNlbWVudEJpYXM7dGhpcy53aXJlZnJhbWU9c291cmNlLndpcmVmcmFtZTt0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD1zb3VyY2Uud2lyZWZyYW1lTGluZXdpZHRoO3RoaXMuc2tpbm5pbmc9c291cmNlLnNraW5uaW5nO3RoaXMubW9ycGhUYXJnZXRzPXNvdXJjZS5tb3JwaFRhcmdldHM7dGhpcy5tb3JwaE5vcm1hbHM9c291cmNlLm1vcnBoTm9ybWFscztyZXR1cm4gdGhpczt9Oy8qKgogICAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb20vCiAgICogQGF1dGhvciBhbHRlcmVkcSAvIGh0dHA6Ly9hbHRlcmVkcXVhbGlhLmNvbS8KICAgKgogICAqIHBhcmFtZXRlcnMgPSB7CiAgICogIGNvbG9yOiA8aGV4PiwKICAgKiAgb3BhY2l0eTogPGZsb2F0PiwKICAgKgogICAqICBtYXA6IG5ldyBUSFJFRS5UZXh0dXJlKCA8SW1hZ2U+ICksCiAgICoKICAgKiAgbGlnaHRNYXA6IG5ldyBUSFJFRS5UZXh0dXJlKCA8SW1hZ2U+ICksCiAgICogIGxpZ2h0TWFwSW50ZW5zaXR5OiA8ZmxvYXQ+CiAgICoKICAgKiAgYW9NYXA6IG5ldyBUSFJFRS5UZXh0dXJlKCA8SW1hZ2U+ICksCiAgICogIGFvTWFwSW50ZW5zaXR5OiA8ZmxvYXQ+CiAgICoKICAgKiAgZW1pc3NpdmU6IDxoZXg+LAogICAqICBlbWlzc2l2ZUludGVuc2l0eTogPGZsb2F0PgogICAqICBlbWlzc2l2ZU1hcDogbmV3IFRIUkVFLlRleHR1cmUoIDxJbWFnZT4gKSwKICAgKgogICAqICBzcGVjdWxhck1hcDogbmV3IFRIUkVFLlRleHR1cmUoIDxJbWFnZT4gKSwKICAgKgogICAqICBhbHBoYU1hcDogbmV3IFRIUkVFLlRleHR1cmUoIDxJbWFnZT4gKSwKICAgKgogICAqICBlbnZNYXA6IG5ldyBUSFJFRS5DdWJlVGV4dHVyZSggW3Bvc3gsIG5lZ3gsIHBvc3ksIG5lZ3ksIHBvc3osIG5lZ3pdICksCiAgICogIGNvbWJpbmU6IFRIUkVFLk11bHRpcGx5LAogICAqICByZWZsZWN0aXZpdHk6IDxmbG9hdD4sCiAgICogIHJlZnJhY3Rpb25SYXRpbzogPGZsb2F0PiwKICAgKgogICAqICB3aXJlZnJhbWU6IDxib29sZWFuPiwKICAgKiAgd2lyZWZyYW1lTGluZXdpZHRoOiA8ZmxvYXQ+LAogICAqCiAgICogIHNraW5uaW5nOiA8Ym9vbD4sCiAgICogIG1vcnBoVGFyZ2V0czogPGJvb2w+LAogICAqICBtb3JwaE5vcm1hbHM6IDxib29sPgogICAqIH0KICAgKi9mdW5jdGlvbiBNZXNoTGFtYmVydE1hdGVyaWFsKHBhcmFtZXRlcnMpe01hdGVyaWFsLmNhbGwodGhpcyk7dGhpcy50eXBlPSdNZXNoTGFtYmVydE1hdGVyaWFsJzt0aGlzLmNvbG9yPW5ldyBDb2xvcigweGZmZmZmZik7Ly8gZGlmZnVzZQp0aGlzLm1hcD1udWxsO3RoaXMubGlnaHRNYXA9bnVsbDt0aGlzLmxpZ2h0TWFwSW50ZW5zaXR5PTEuMDt0aGlzLmFvTWFwPW51bGw7dGhpcy5hb01hcEludGVuc2l0eT0xLjA7dGhpcy5lbWlzc2l2ZT1uZXcgQ29sb3IoMHgwMDAwMDApO3RoaXMuZW1pc3NpdmVJbnRlbnNpdHk9MS4wO3RoaXMuZW1pc3NpdmVNYXA9bnVsbDt0aGlzLnNwZWN1bGFyTWFwPW51bGw7dGhpcy5hbHBoYU1hcD1udWxsO3RoaXMuZW52TWFwPW51bGw7dGhpcy5jb21iaW5lPU11bHRpcGx5T3BlcmF0aW9uO3RoaXMucmVmbGVjdGl2aXR5PTE7dGhpcy5yZWZyYWN0aW9uUmF0aW89MC45ODt0aGlzLndpcmVmcmFtZT1mYWxzZTt0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD0xO3RoaXMud2lyZWZyYW1lTGluZWNhcD0ncm91bmQnO3RoaXMud2lyZWZyYW1lTGluZWpvaW49J3JvdW5kJzt0aGlzLnNraW5uaW5nPWZhbHNlO3RoaXMubW9ycGhUYXJnZXRzPWZhbHNlO3RoaXMubW9ycGhOb3JtYWxzPWZhbHNlO3RoaXMuc2V0VmFsdWVzKHBhcmFtZXRlcnMpO31NZXNoTGFtYmVydE1hdGVyaWFsLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKE1hdGVyaWFsLnByb3RvdHlwZSk7TWVzaExhbWJlcnRNYXRlcmlhbC5wcm90b3R5cGUuY29uc3RydWN0b3I9TWVzaExhbWJlcnRNYXRlcmlhbDtNZXNoTGFtYmVydE1hdGVyaWFsLnByb3RvdHlwZS5pc01lc2hMYW1iZXJ0TWF0ZXJpYWw9dHJ1ZTtNZXNoTGFtYmVydE1hdGVyaWFsLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKHNvdXJjZSl7TWF0ZXJpYWwucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHNvdXJjZSk7dGhpcy5jb2xvci5jb3B5KHNvdXJjZS5jb2xvcik7dGhpcy5tYXA9c291cmNlLm1hcDt0aGlzLmxpZ2h0TWFwPXNvdXJjZS5saWdodE1hcDt0aGlzLmxpZ2h0TWFwSW50ZW5zaXR5PXNvdXJjZS5saWdodE1hcEludGVuc2l0eTt0aGlzLmFvTWFwPXNvdXJjZS5hb01hcDt0aGlzLmFvTWFwSW50ZW5zaXR5PXNvdXJjZS5hb01hcEludGVuc2l0eTt0aGlzLmVtaXNzaXZlLmNvcHkoc291cmNlLmVtaXNzaXZlKTt0aGlzLmVtaXNzaXZlTWFwPXNvdXJjZS5lbWlzc2l2ZU1hcDt0aGlzLmVtaXNzaXZlSW50ZW5zaXR5PXNvdXJjZS5lbWlzc2l2ZUludGVuc2l0eTt0aGlzLnNwZWN1bGFyTWFwPXNvdXJjZS5zcGVjdWxhck1hcDt0aGlzLmFscGhhTWFwPXNvdXJjZS5hbHBoYU1hcDt0aGlzLmVudk1hcD1zb3VyY2UuZW52TWFwO3RoaXMuY29tYmluZT1zb3VyY2UuY29tYmluZTt0aGlzLnJlZmxlY3Rpdml0eT1zb3VyY2UucmVmbGVjdGl2aXR5O3RoaXMucmVmcmFjdGlvblJhdGlvPXNvdXJjZS5yZWZyYWN0aW9uUmF0aW87dGhpcy53aXJlZnJhbWU9c291cmNlLndpcmVmcmFtZTt0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD1zb3VyY2Uud2lyZWZyYW1lTGluZXdpZHRoO3RoaXMud2lyZWZyYW1lTGluZWNhcD1zb3VyY2Uud2lyZWZyYW1lTGluZWNhcDt0aGlzLndpcmVmcmFtZUxpbmVqb2luPXNvdXJjZS53aXJlZnJhbWVMaW5lam9pbjt0aGlzLnNraW5uaW5nPXNvdXJjZS5za2lubmluZzt0aGlzLm1vcnBoVGFyZ2V0cz1zb3VyY2UubW9ycGhUYXJnZXRzO3RoaXMubW9ycGhOb3JtYWxzPXNvdXJjZS5tb3JwaE5vcm1hbHM7cmV0dXJuIHRoaXM7fTsvKioKICAgKiBAYXV0aG9yIFdlc3RMYW5nbGV5IC8gaHR0cDovL2dpdGh1Yi5jb20vV2VzdExhbmdsZXkKICAgKgogICAqIHBhcmFtZXRlcnMgPSB7CiAgICogIGNvbG9yOiA8aGV4PiwKICAgKiAgb3BhY2l0eTogPGZsb2F0PiwKICAgKgogICAqICBtYXRjYXA6IG5ldyBUSFJFRS5UZXh0dXJlKCA8SW1hZ2U+ICksCiAgICoKICAgKiAgbWFwOiBuZXcgVEhSRUUuVGV4dHVyZSggPEltYWdlPiApLAogICAqCiAgICogIGJ1bXBNYXA6IG5ldyBUSFJFRS5UZXh0dXJlKCA8SW1hZ2U+ICksCiAgICogIGJ1bXBTY2FsZTogPGZsb2F0PiwKICAgKgogICAqICBub3JtYWxNYXA6IG5ldyBUSFJFRS5UZXh0dXJlKCA8SW1hZ2U+ICksCiAgICogIG5vcm1hbE1hcFR5cGU6IFRIUkVFLlRhbmdlbnRTcGFjZU5vcm1hbE1hcCwKICAgKiAgbm9ybWFsU2NhbGU6IDxWZWN0b3IyPiwKICAgKgogICAqICBkaXNwbGFjZW1lbnRNYXA6IG5ldyBUSFJFRS5UZXh0dXJlKCA8SW1hZ2U+ICksCiAgICogIGRpc3BsYWNlbWVudFNjYWxlOiA8ZmxvYXQ+LAogICAqICBkaXNwbGFjZW1lbnRCaWFzOiA8ZmxvYXQ+LAogICAqCiAgICogIGFscGhhTWFwOiBuZXcgVEhSRUUuVGV4dHVyZSggPEltYWdlPiApLAogICAqCiAgICogIHNraW5uaW5nOiA8Ym9vbD4sCiAgICogIG1vcnBoVGFyZ2V0czogPGJvb2w+LAogICAqICBtb3JwaE5vcm1hbHM6IDxib29sPgogICAqIH0KICAgKi9mdW5jdGlvbiBNZXNoTWF0Y2FwTWF0ZXJpYWwocGFyYW1ldGVycyl7TWF0ZXJpYWwuY2FsbCh0aGlzKTt0aGlzLmRlZmluZXM9eydNQVRDQVAnOicnfTt0aGlzLnR5cGU9J01lc2hNYXRjYXBNYXRlcmlhbCc7dGhpcy5jb2xvcj1uZXcgQ29sb3IoMHhmZmZmZmYpOy8vIGRpZmZ1c2UKdGhpcy5tYXRjYXA9bnVsbDt0aGlzLm1hcD1udWxsO3RoaXMuYnVtcE1hcD1udWxsO3RoaXMuYnVtcFNjYWxlPTE7dGhpcy5ub3JtYWxNYXA9bnVsbDt0aGlzLm5vcm1hbE1hcFR5cGU9VGFuZ2VudFNwYWNlTm9ybWFsTWFwO3RoaXMubm9ybWFsU2NhbGU9bmV3IFZlY3RvcjIoMSwxKTt0aGlzLmRpc3BsYWNlbWVudE1hcD1udWxsO3RoaXMuZGlzcGxhY2VtZW50U2NhbGU9MTt0aGlzLmRpc3BsYWNlbWVudEJpYXM9MDt0aGlzLmFscGhhTWFwPW51bGw7dGhpcy5za2lubmluZz1mYWxzZTt0aGlzLm1vcnBoVGFyZ2V0cz1mYWxzZTt0aGlzLm1vcnBoTm9ybWFscz1mYWxzZTt0aGlzLnNldFZhbHVlcyhwYXJhbWV0ZXJzKTt9TWVzaE1hdGNhcE1hdGVyaWFsLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKE1hdGVyaWFsLnByb3RvdHlwZSk7TWVzaE1hdGNhcE1hdGVyaWFsLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1NZXNoTWF0Y2FwTWF0ZXJpYWw7TWVzaE1hdGNhcE1hdGVyaWFsLnByb3RvdHlwZS5pc01lc2hNYXRjYXBNYXRlcmlhbD10cnVlO01lc2hNYXRjYXBNYXRlcmlhbC5wcm90b3R5cGUuY29weT1mdW5jdGlvbihzb3VyY2Upe01hdGVyaWFsLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyxzb3VyY2UpO3RoaXMuZGVmaW5lcz17J01BVENBUCc6Jyd9O3RoaXMuY29sb3IuY29weShzb3VyY2UuY29sb3IpO3RoaXMubWF0Y2FwPXNvdXJjZS5tYXRjYXA7dGhpcy5tYXA9c291cmNlLm1hcDt0aGlzLmJ1bXBNYXA9c291cmNlLmJ1bXBNYXA7dGhpcy5idW1wU2NhbGU9c291cmNlLmJ1bXBTY2FsZTt0aGlzLm5vcm1hbE1hcD1zb3VyY2Uubm9ybWFsTWFwO3RoaXMubm9ybWFsTWFwVHlwZT1zb3VyY2Uubm9ybWFsTWFwVHlwZTt0aGlzLm5vcm1hbFNjYWxlLmNvcHkoc291cmNlLm5vcm1hbFNjYWxlKTt0aGlzLmRpc3BsYWNlbWVudE1hcD1zb3VyY2UuZGlzcGxhY2VtZW50TWFwO3RoaXMuZGlzcGxhY2VtZW50U2NhbGU9c291cmNlLmRpc3BsYWNlbWVudFNjYWxlO3RoaXMuZGlzcGxhY2VtZW50Qmlhcz1zb3VyY2UuZGlzcGxhY2VtZW50Qmlhczt0aGlzLmFscGhhTWFwPXNvdXJjZS5hbHBoYU1hcDt0aGlzLnNraW5uaW5nPXNvdXJjZS5za2lubmluZzt0aGlzLm1vcnBoVGFyZ2V0cz1zb3VyY2UubW9ycGhUYXJnZXRzO3RoaXMubW9ycGhOb3JtYWxzPXNvdXJjZS5tb3JwaE5vcm1hbHM7cmV0dXJuIHRoaXM7fTsvKioKICAgKiBAYXV0aG9yIGFsdGVyZWRxIC8gaHR0cDovL2FsdGVyZWRxdWFsaWEuY29tLwogICAqCiAgICogcGFyYW1ldGVycyA9IHsKICAgKiAgY29sb3I6IDxoZXg+LAogICAqICBvcGFjaXR5OiA8ZmxvYXQ+LAogICAqCiAgICogIGxpbmV3aWR0aDogPGZsb2F0PiwKICAgKgogICAqICBzY2FsZTogPGZsb2F0PiwKICAgKiAgZGFzaFNpemU6IDxmbG9hdD4sCiAgICogIGdhcFNpemU6IDxmbG9hdD4KICAgKiB9CiAgICovZnVuY3Rpb24gTGluZURhc2hlZE1hdGVyaWFsKHBhcmFtZXRlcnMpe0xpbmVCYXNpY01hdGVyaWFsLmNhbGwodGhpcyk7dGhpcy50eXBlPSdMaW5lRGFzaGVkTWF0ZXJpYWwnO3RoaXMuc2NhbGU9MTt0aGlzLmRhc2hTaXplPTM7dGhpcy5nYXBTaXplPTE7dGhpcy5zZXRWYWx1ZXMocGFyYW1ldGVycyk7fUxpbmVEYXNoZWRNYXRlcmlhbC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShMaW5lQmFzaWNNYXRlcmlhbC5wcm90b3R5cGUpO0xpbmVEYXNoZWRNYXRlcmlhbC5wcm90b3R5cGUuY29uc3RydWN0b3I9TGluZURhc2hlZE1hdGVyaWFsO0xpbmVEYXNoZWRNYXRlcmlhbC5wcm90b3R5cGUuaXNMaW5lRGFzaGVkTWF0ZXJpYWw9dHJ1ZTtMaW5lRGFzaGVkTWF0ZXJpYWwucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oc291cmNlKXtMaW5lQmFzaWNNYXRlcmlhbC5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsc291cmNlKTt0aGlzLnNjYWxlPXNvdXJjZS5zY2FsZTt0aGlzLmRhc2hTaXplPXNvdXJjZS5kYXNoU2l6ZTt0aGlzLmdhcFNpemU9c291cmNlLmdhcFNpemU7cmV0dXJuIHRoaXM7fTt2YXIgTWF0ZXJpYWxzPS8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxTaGFkb3dNYXRlcmlhbDpTaGFkb3dNYXRlcmlhbCxTcHJpdGVNYXRlcmlhbDpTcHJpdGVNYXRlcmlhbCxSYXdTaGFkZXJNYXRlcmlhbDpSYXdTaGFkZXJNYXRlcmlhbCxTaGFkZXJNYXRlcmlhbDpTaGFkZXJNYXRlcmlhbCxQb2ludHNNYXRlcmlhbDpQb2ludHNNYXRlcmlhbCxNZXNoUGh5c2ljYWxNYXRlcmlhbDpNZXNoUGh5c2ljYWxNYXRlcmlhbCxNZXNoU3RhbmRhcmRNYXRlcmlhbDpNZXNoU3RhbmRhcmRNYXRlcmlhbCxNZXNoUGhvbmdNYXRlcmlhbDpNZXNoUGhvbmdNYXRlcmlhbCxNZXNoVG9vbk1hdGVyaWFsOk1lc2hUb29uTWF0ZXJpYWwsTWVzaE5vcm1hbE1hdGVyaWFsOk1lc2hOb3JtYWxNYXRlcmlhbCxNZXNoTGFtYmVydE1hdGVyaWFsOk1lc2hMYW1iZXJ0TWF0ZXJpYWwsTWVzaERlcHRoTWF0ZXJpYWw6TWVzaERlcHRoTWF0ZXJpYWwsTWVzaERpc3RhbmNlTWF0ZXJpYWw6TWVzaERpc3RhbmNlTWF0ZXJpYWwsTWVzaEJhc2ljTWF0ZXJpYWw6TWVzaEJhc2ljTWF0ZXJpYWwsTWVzaE1hdGNhcE1hdGVyaWFsOk1lc2hNYXRjYXBNYXRlcmlhbCxMaW5lRGFzaGVkTWF0ZXJpYWw6TGluZURhc2hlZE1hdGVyaWFsLExpbmVCYXNpY01hdGVyaWFsOkxpbmVCYXNpY01hdGVyaWFsLE1hdGVyaWFsOk1hdGVyaWFsfSk7LyoqCiAgICogQGF1dGhvciB0c2NodwogICAqIEBhdXRob3IgQmVuIEhvdXN0b24gLyBodHRwOi8vY2xhcmEuaW8vCiAgICogQGF1dGhvciBEYXZpZCBTYXJubyAvIGh0dHA6Ly9saWdodGhhdXMudXMvCiAgICovdmFyIEFuaW1hdGlvblV0aWxzPXsvLyBzYW1lIGFzIEFycmF5LnByb3RvdHlwZS5zbGljZSwgYnV0IGFsc28gd29ya3Mgb24gdHlwZWQgYXJyYXlzCmFycmF5U2xpY2U6ZnVuY3Rpb24gYXJyYXlTbGljZShhcnJheSxmcm9tLHRvKXtpZihBbmltYXRpb25VdGlscy5pc1R5cGVkQXJyYXkoYXJyYXkpKXsvLyBpbiBpb3M5IGFycmF5LnN1YmFycmF5KGZyb20sIHVuZGVmaW5lZCkgd2lsbCByZXR1cm4gZW1wdHkgYXJyYXkKLy8gYnV0IGFycmF5LnN1YmFycmF5KGZyb20pIG9yIGFycmF5LnN1YmFycmF5KGZyb20sIGxlbikgaXMgY29ycmVjdApyZXR1cm4gbmV3IGFycmF5LmNvbnN0cnVjdG9yKGFycmF5LnN1YmFycmF5KGZyb20sdG8hPT11bmRlZmluZWQ/dG86YXJyYXkubGVuZ3RoKSk7fXJldHVybiBhcnJheS5zbGljZShmcm9tLHRvKTt9LC8vIGNvbnZlcnRzIGFuIGFycmF5IHRvIGEgc3BlY2lmaWMgdHlwZQpjb252ZXJ0QXJyYXk6ZnVuY3Rpb24gY29udmVydEFycmF5KGFycmF5LHR5cGUsZm9yY2VDbG9uZSl7aWYoIWFycmF5fHwvLyBsZXQgJ3VuZGVmaW5lZCcgYW5kICdudWxsJyBwYXNzCiFmb3JjZUNsb25lJiZhcnJheS5jb25zdHJ1Y3Rvcj09PXR5cGUpe3JldHVybiBhcnJheTt9aWYodHlwZW9mIHR5cGUuQllURVNfUEVSX0VMRU1FTlQ9PT0nbnVtYmVyJyl7cmV0dXJuIG5ldyB0eXBlKGFycmF5KTsvLyBjcmVhdGUgdHlwZWQgYXJyYXkKfXJldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcnJheSk7Ly8gY3JlYXRlIEFycmF5Cn0saXNUeXBlZEFycmF5OmZ1bmN0aW9uIGlzVHlwZWRBcnJheShvYmplY3Qpe3JldHVybiBBcnJheUJ1ZmZlci5pc1ZpZXcob2JqZWN0KSYmIShvYmplY3QgaW5zdGFuY2VvZiBEYXRhVmlldyk7fSwvLyByZXR1cm5zIGFuIGFycmF5IGJ5IHdoaWNoIHRpbWVzIGFuZCB2YWx1ZXMgY2FuIGJlIHNvcnRlZApnZXRLZXlmcmFtZU9yZGVyOmZ1bmN0aW9uIGdldEtleWZyYW1lT3JkZXIodGltZXMpe2Z1bmN0aW9uIGNvbXBhcmVUaW1lKGksail7cmV0dXJuIHRpbWVzW2ldLXRpbWVzW2pdO312YXIgbj10aW1lcy5sZW5ndGg7dmFyIHJlc3VsdD1uZXcgQXJyYXkobik7Zm9yKHZhciBpPTA7aSE9PW47KytpKXtyZXN1bHRbaV09aTt9cmVzdWx0LnNvcnQoY29tcGFyZVRpbWUpO3JldHVybiByZXN1bHQ7fSwvLyB1c2VzIHRoZSBhcnJheSBwcmV2aW91c2x5IHJldHVybmVkIGJ5ICdnZXRLZXlmcmFtZU9yZGVyJyB0byBzb3J0IGRhdGEKc29ydGVkQXJyYXk6ZnVuY3Rpb24gc29ydGVkQXJyYXkodmFsdWVzLHN0cmlkZSxvcmRlcil7dmFyIG5WYWx1ZXM9dmFsdWVzLmxlbmd0aDt2YXIgcmVzdWx0PW5ldyB2YWx1ZXMuY29uc3RydWN0b3IoblZhbHVlcyk7Zm9yKHZhciBpPTAsZHN0T2Zmc2V0PTA7ZHN0T2Zmc2V0IT09blZhbHVlczsrK2kpe3ZhciBzcmNPZmZzZXQ9b3JkZXJbaV0qc3RyaWRlO2Zvcih2YXIgaj0wO2ohPT1zdHJpZGU7KytqKXtyZXN1bHRbZHN0T2Zmc2V0KytdPXZhbHVlc1tzcmNPZmZzZXQral07fX1yZXR1cm4gcmVzdWx0O30sLy8gZnVuY3Rpb24gZm9yIHBhcnNpbmcgQU9TIGtleWZyYW1lIGZvcm1hdHMKZmxhdHRlbkpTT046ZnVuY3Rpb24gZmxhdHRlbkpTT04oanNvbktleXMsdGltZXMsdmFsdWVzLHZhbHVlUHJvcGVydHlOYW1lKXt2YXIgaT0xLGtleT1qc29uS2V5c1swXTt3aGlsZShrZXkhPT11bmRlZmluZWQmJmtleVt2YWx1ZVByb3BlcnR5TmFtZV09PT11bmRlZmluZWQpe2tleT1qc29uS2V5c1tpKytdO31pZihrZXk9PT11bmRlZmluZWQpe3JldHVybjt9Ly8gbm8gZGF0YQp2YXIgdmFsdWU9a2V5W3ZhbHVlUHJvcGVydHlOYW1lXTtpZih2YWx1ZT09PXVuZGVmaW5lZCl7cmV0dXJuO30vLyBubyBkYXRhCmlmKEFycmF5LmlzQXJyYXkodmFsdWUpKXtkb3t2YWx1ZT1rZXlbdmFsdWVQcm9wZXJ0eU5hbWVdO2lmKHZhbHVlIT09dW5kZWZpbmVkKXt0aW1lcy5wdXNoKGtleS50aW1lKTt2YWx1ZXMucHVzaC5hcHBseSh2YWx1ZXMsdmFsdWUpOy8vIHB1c2ggYWxsIGVsZW1lbnRzCn1rZXk9anNvbktleXNbaSsrXTt9d2hpbGUoa2V5IT09dW5kZWZpbmVkKTt9ZWxzZSBpZih2YWx1ZS50b0FycmF5IT09dW5kZWZpbmVkKXsvLyAuLi5hc3N1bWUgVEhSRUUuTWF0aC1pc2gKZG97dmFsdWU9a2V5W3ZhbHVlUHJvcGVydHlOYW1lXTtpZih2YWx1ZSE9PXVuZGVmaW5lZCl7dGltZXMucHVzaChrZXkudGltZSk7dmFsdWUudG9BcnJheSh2YWx1ZXMsdmFsdWVzLmxlbmd0aCk7fWtleT1qc29uS2V5c1tpKytdO313aGlsZShrZXkhPT11bmRlZmluZWQpO31lbHNley8vIG90aGVyd2lzZSBwdXNoIGFzLWlzCmRve3ZhbHVlPWtleVt2YWx1ZVByb3BlcnR5TmFtZV07aWYodmFsdWUhPT11bmRlZmluZWQpe3RpbWVzLnB1c2goa2V5LnRpbWUpO3ZhbHVlcy5wdXNoKHZhbHVlKTt9a2V5PWpzb25LZXlzW2krK107fXdoaWxlKGtleSE9PXVuZGVmaW5lZCk7fX0sc3ViY2xpcDpmdW5jdGlvbiBzdWJjbGlwKHNvdXJjZUNsaXAsbmFtZSxzdGFydEZyYW1lLGVuZEZyYW1lLGZwcyl7ZnBzPWZwc3x8MzA7dmFyIGNsaXA9c291cmNlQ2xpcC5jbG9uZSgpO2NsaXAubmFtZT1uYW1lO3ZhciB0cmFja3M9W107Zm9yKHZhciBpPTA7aTxjbGlwLnRyYWNrcy5sZW5ndGg7KytpKXt2YXIgdHJhY2s9Y2xpcC50cmFja3NbaV07dmFyIHZhbHVlU2l6ZT10cmFjay5nZXRWYWx1ZVNpemUoKTt2YXIgdGltZXM9W107dmFyIHZhbHVlcz1bXTtmb3IodmFyIGo9MDtqPHRyYWNrLnRpbWVzLmxlbmd0aDsrK2ope3ZhciBmcmFtZT10cmFjay50aW1lc1tqXSpmcHM7aWYoZnJhbWU8c3RhcnRGcmFtZXx8ZnJhbWU+PWVuZEZyYW1lKXtjb250aW51ZTt9dGltZXMucHVzaCh0cmFjay50aW1lc1tqXSk7Zm9yKHZhciBrPTA7azx2YWx1ZVNpemU7KytrKXt2YWx1ZXMucHVzaCh0cmFjay52YWx1ZXNbaip2YWx1ZVNpemUra10pO319aWYodGltZXMubGVuZ3RoPT09MCl7Y29udGludWU7fXRyYWNrLnRpbWVzPUFuaW1hdGlvblV0aWxzLmNvbnZlcnRBcnJheSh0aW1lcyx0cmFjay50aW1lcy5jb25zdHJ1Y3Rvcik7dHJhY2sudmFsdWVzPUFuaW1hdGlvblV0aWxzLmNvbnZlcnRBcnJheSh2YWx1ZXMsdHJhY2sudmFsdWVzLmNvbnN0cnVjdG9yKTt0cmFja3MucHVzaCh0cmFjayk7fWNsaXAudHJhY2tzPXRyYWNrczsvLyBmaW5kIG1pbmltdW0gLnRpbWVzIHZhbHVlIGFjcm9zcyBhbGwgdHJhY2tzIGluIHRoZSB0cmltbWVkIGNsaXAKdmFyIG1pblN0YXJ0VGltZT1JbmZpbml0eTtmb3IodmFyIGk9MDtpPGNsaXAudHJhY2tzLmxlbmd0aDsrK2kpe2lmKG1pblN0YXJ0VGltZT5jbGlwLnRyYWNrc1tpXS50aW1lc1swXSl7bWluU3RhcnRUaW1lPWNsaXAudHJhY2tzW2ldLnRpbWVzWzBdO319Ly8gc2hpZnQgYWxsIHRyYWNrcyBzdWNoIHRoYXQgY2xpcCBiZWdpbnMgYXQgdD0wCmZvcih2YXIgaT0wO2k8Y2xpcC50cmFja3MubGVuZ3RoOysraSl7Y2xpcC50cmFja3NbaV0uc2hpZnQoLTEqbWluU3RhcnRUaW1lKTt9Y2xpcC5yZXNldER1cmF0aW9uKCk7cmV0dXJuIGNsaXA7fX07LyoqCiAgICogQWJzdHJhY3QgYmFzZSBjbGFzcyBvZiBpbnRlcnBvbGFudHMgb3ZlciBwYXJhbWV0cmljIHNhbXBsZXMuCiAgICoKICAgKiBUaGUgcGFyYW1ldGVyIGRvbWFpbiBpcyBvbmUgZGltZW5zaW9uYWwsIHR5cGljYWxseSB0aGUgdGltZSBvciBhIHBhdGgKICAgKiBhbG9uZyBhIGN1cnZlIGRlZmluZWQgYnkgdGhlIGRhdGEuCiAgICoKICAgKiBUaGUgc2FtcGxlIHZhbHVlcyBjYW4gaGF2ZSBhbnkgZGltZW5zaW9uYWxpdHkgYW5kIGRlcml2ZWQgY2xhc3NlcyBtYXkKICAgKiBhcHBseSBzcGVjaWFsIGludGVycHJldGF0aW9ucyB0byB0aGUgZGF0YS4KICAgKgogICAqIFRoaXMgY2xhc3MgcHJvdmlkZXMgdGhlIGludGVydmFsIHNlZWsgaW4gYSBUZW1wbGF0ZSBNZXRob2QsIGRlZmVycmluZwogICAqIHRoZSBhY3R1YWwgaW50ZXJwb2xhdGlvbiB0byBkZXJpdmVkIGNsYXNzZXMuCiAgICoKICAgKiBUaW1lIGNvbXBsZXhpdHkgaXMgTygxKSBmb3IgbGluZWFyIGFjY2VzcyBjcm9zc2luZyBhdCBtb3N0IHR3byBwb2ludHMKICAgKiBhbmQgTyhsb2cgTikgZm9yIHJhbmRvbSBhY2Nlc3MsIHdoZXJlIE4gaXMgdGhlIG51bWJlciBvZiBwb3NpdGlvbnMuCiAgICoKICAgKiBSZWZlcmVuY2VzOgogICAqCiAgICogCQlodHRwOi8vd3d3Lm9vZGVzaWduLmNvbS90ZW1wbGF0ZS1tZXRob2QtcGF0dGVybi5odG1sCiAgICoKICAgKiBAYXV0aG9yIHRzY2h3CiAgICovZnVuY3Rpb24gSW50ZXJwb2xhbnQocGFyYW1ldGVyUG9zaXRpb25zLHNhbXBsZVZhbHVlcyxzYW1wbGVTaXplLHJlc3VsdEJ1ZmZlcil7dGhpcy5wYXJhbWV0ZXJQb3NpdGlvbnM9cGFyYW1ldGVyUG9zaXRpb25zO3RoaXMuX2NhY2hlZEluZGV4PTA7dGhpcy5yZXN1bHRCdWZmZXI9cmVzdWx0QnVmZmVyIT09dW5kZWZpbmVkP3Jlc3VsdEJ1ZmZlcjpuZXcgc2FtcGxlVmFsdWVzLmNvbnN0cnVjdG9yKHNhbXBsZVNpemUpO3RoaXMuc2FtcGxlVmFsdWVzPXNhbXBsZVZhbHVlczt0aGlzLnZhbHVlU2l6ZT1zYW1wbGVTaXplO31PYmplY3QuYXNzaWduKEludGVycG9sYW50LnByb3RvdHlwZSx7ZXZhbHVhdGU6ZnVuY3Rpb24gZXZhbHVhdGUodCl7dmFyIHBwPXRoaXMucGFyYW1ldGVyUG9zaXRpb25zLGkxPXRoaXMuX2NhY2hlZEluZGV4LHQxPXBwW2kxXSx0MD1wcFtpMS0xXTt2YWxpZGF0ZV9pbnRlcnZhbDp7c2Vlazp7dmFyIHJpZ2h0O2xpbmVhcl9zY2FuOnsvLy0gU2VlIGh0dHA6Ly9qc3BlcmYuY29tL2NvbXBhcmlzb24tdG8tdW5kZWZpbmVkLzMKLy8tIHNsb3dlciBjb2RlOgovLy0KLy8tIAkJCQlpZiAoIHQgPj0gdDEgfHwgdDEgPT09IHVuZGVmaW5lZCApIHsKZm9yd2FyZF9zY2FuOmlmKCEodDx0MSkpe2Zvcih2YXIgZ2l2ZVVwQXQ9aTErMjs7KXtpZih0MT09PXVuZGVmaW5lZCl7aWYodDx0MCl7YnJlYWsgZm9yd2FyZF9zY2FuO30vLyBhZnRlciBlbmQKaTE9cHAubGVuZ3RoO3RoaXMuX2NhY2hlZEluZGV4PWkxO3JldHVybiB0aGlzLmFmdGVyRW5kXyhpMS0xLHQsdDApO31pZihpMT09PWdpdmVVcEF0KXticmVhazt9Ly8gdGhpcyBsb29wCnQwPXQxO3QxPXBwWysraTFdO2lmKHQ8dDEpey8vIHdlIGhhdmUgYXJyaXZlZCBhdCB0aGUgc291Z2h0IGludGVydmFsCmJyZWFrIHNlZWs7fX0vLyBwcmVwYXJlIGJpbmFyeSBzZWFyY2ggb24gdGhlIHJpZ2h0IHNpZGUgb2YgdGhlIGluZGV4CnJpZ2h0PXBwLmxlbmd0aDticmVhayBsaW5lYXJfc2Nhbjt9Ly8tIHNsb3dlciBjb2RlOgovLy0JCQkJCWlmICggdCA8IHQwIHx8IHQwID09PSB1bmRlZmluZWQgKSB7CmlmKCEodD49dDApKXsvLyBsb29waW5nPwp2YXIgdDFnbG9iYWw9cHBbMV07aWYodDx0MWdsb2JhbCl7aTE9MjsvLyArIDEsIHVzaW5nIHRoZSBzY2FuIGZvciB0aGUgZGV0YWlscwp0MD10MWdsb2JhbDt9Ly8gbGluZWFyIHJldmVyc2Ugc2Nhbgpmb3IodmFyIGdpdmVVcEF0PWkxLTI7Oyl7aWYodDA9PT11bmRlZmluZWQpey8vIGJlZm9yZSBzdGFydAp0aGlzLl9jYWNoZWRJbmRleD0wO3JldHVybiB0aGlzLmJlZm9yZVN0YXJ0XygwLHQsdDEpO31pZihpMT09PWdpdmVVcEF0KXticmVhazt9Ly8gdGhpcyBsb29wCnQxPXQwO3QwPXBwWy0taTEtMV07aWYodD49dDApey8vIHdlIGhhdmUgYXJyaXZlZCBhdCB0aGUgc291Z2h0IGludGVydmFsCmJyZWFrIHNlZWs7fX0vLyBwcmVwYXJlIGJpbmFyeSBzZWFyY2ggb24gdGhlIGxlZnQgc2lkZSBvZiB0aGUgaW5kZXgKcmlnaHQ9aTE7aTE9MDticmVhayBsaW5lYXJfc2Nhbjt9Ly8gdGhlIGludGVydmFsIGlzIHZhbGlkCmJyZWFrIHZhbGlkYXRlX2ludGVydmFsO30vLyBsaW5lYXIgc2NhbgovLyBiaW5hcnkgc2VhcmNoCndoaWxlKGkxPHJpZ2h0KXt2YXIgbWlkPWkxK3JpZ2h0Pj4+MTtpZih0PHBwW21pZF0pe3JpZ2h0PW1pZDt9ZWxzZXtpMT1taWQrMTt9fXQxPXBwW2kxXTt0MD1wcFtpMS0xXTsvLyBjaGVjayBib3VuZGFyeSBjYXNlcywgYWdhaW4KaWYodDA9PT11bmRlZmluZWQpe3RoaXMuX2NhY2hlZEluZGV4PTA7cmV0dXJuIHRoaXMuYmVmb3JlU3RhcnRfKDAsdCx0MSk7fWlmKHQxPT09dW5kZWZpbmVkKXtpMT1wcC5sZW5ndGg7dGhpcy5fY2FjaGVkSW5kZXg9aTE7cmV0dXJuIHRoaXMuYWZ0ZXJFbmRfKGkxLTEsdDAsdCk7fX0vLyBzZWVrCnRoaXMuX2NhY2hlZEluZGV4PWkxO3RoaXMuaW50ZXJ2YWxDaGFuZ2VkXyhpMSx0MCx0MSk7fS8vIHZhbGlkYXRlX2ludGVydmFsCnJldHVybiB0aGlzLmludGVycG9sYXRlXyhpMSx0MCx0LHQxKTt9LHNldHRpbmdzOm51bGwsLy8gb3B0aW9uYWwsIHN1YmNsYXNzLXNwZWNpZmljIHNldHRpbmdzIHN0cnVjdHVyZQovLyBOb3RlOiBUaGUgaW5kaXJlY3Rpb24gYWxsb3dzIGNlbnRyYWwgY29udHJvbCBvZiBtYW55IGludGVycG9sYW50cy4KLy8gLS0tIFByb3RlY3RlZCBpbnRlcmZhY2UKRGVmYXVsdFNldHRpbmdzXzp7fSxnZXRTZXR0aW5nc186ZnVuY3Rpb24gZ2V0U2V0dGluZ3NfKCl7cmV0dXJuIHRoaXMuc2V0dGluZ3N8fHRoaXMuRGVmYXVsdFNldHRpbmdzXzt9LGNvcHlTYW1wbGVWYWx1ZV86ZnVuY3Rpb24gY29weVNhbXBsZVZhbHVlXyhpbmRleCl7Ly8gY29waWVzIGEgc2FtcGxlIHZhbHVlIHRvIHRoZSByZXN1bHQgYnVmZmVyCnZhciByZXN1bHQ9dGhpcy5yZXN1bHRCdWZmZXIsdmFsdWVzPXRoaXMuc2FtcGxlVmFsdWVzLHN0cmlkZT10aGlzLnZhbHVlU2l6ZSxvZmZzZXQ9aW5kZXgqc3RyaWRlO2Zvcih2YXIgaT0wO2khPT1zdHJpZGU7KytpKXtyZXN1bHRbaV09dmFsdWVzW29mZnNldCtpXTt9cmV0dXJuIHJlc3VsdDt9LC8vIFRlbXBsYXRlIG1ldGhvZHMgZm9yIGRlcml2ZWQgY2xhc3NlczoKaW50ZXJwb2xhdGVfOmZ1bmN0aW9uLyogaTEsIHQwLCB0LCB0MSAqL2ludGVycG9sYXRlXygpe3Rocm93IG5ldyBFcnJvcignY2FsbCB0byBhYnN0cmFjdCBtZXRob2QnKTsvLyBpbXBsZW1lbnRhdGlvbnMgc2hhbGwgcmV0dXJuIHRoaXMucmVzdWx0QnVmZmVyCn0saW50ZXJ2YWxDaGFuZ2VkXzpmdW5jdGlvbi8qIGkxLCB0MCwgdDEgKi9pbnRlcnZhbENoYW5nZWRfKCl7Ly8gZW1wdHkKfX0pOy8vIVwgREVDTEFSRSBBTElBUyBBRlRFUiBhc3NpZ24gcHJvdG90eXBlICEKT2JqZWN0LmFzc2lnbihJbnRlcnBvbGFudC5wcm90b3R5cGUsey8vKCAwLCB0LCB0MCApLCByZXR1cm5zIHRoaXMucmVzdWx0QnVmZmVyCmJlZm9yZVN0YXJ0XzpJbnRlcnBvbGFudC5wcm90b3R5cGUuY29weVNhbXBsZVZhbHVlXywvLyggTi0xLCB0Ti0xLCB0ICksIHJldHVybnMgdGhpcy5yZXN1bHRCdWZmZXIKYWZ0ZXJFbmRfOkludGVycG9sYW50LnByb3RvdHlwZS5jb3B5U2FtcGxlVmFsdWVffSk7LyoqCiAgICogRmFzdCBhbmQgc2ltcGxlIGN1YmljIHNwbGluZSBpbnRlcnBvbGFudC4KICAgKgogICAqIEl0IHdhcyBkZXJpdmVkIGZyb20gYSBIZXJtaXRpYW4gY29uc3RydWN0aW9uIHNldHRpbmcgdGhlIGZpcnN0IGRlcml2YXRpdmUKICAgKiBhdCBlYWNoIHNhbXBsZSBwb3NpdGlvbiB0byB0aGUgbGluZWFyIHNsb3BlIGJldHdlZW4gbmVpZ2hib3JpbmcgcG9zaXRpb25zCiAgICogb3ZlciB0aGVpciBwYXJhbWV0ZXIgaW50ZXJ2YWwuCiAgICoKICAgKiBAYXV0aG9yIHRzY2h3CiAgICovZnVuY3Rpb24gQ3ViaWNJbnRlcnBvbGFudChwYXJhbWV0ZXJQb3NpdGlvbnMsc2FtcGxlVmFsdWVzLHNhbXBsZVNpemUscmVzdWx0QnVmZmVyKXtJbnRlcnBvbGFudC5jYWxsKHRoaXMscGFyYW1ldGVyUG9zaXRpb25zLHNhbXBsZVZhbHVlcyxzYW1wbGVTaXplLHJlc3VsdEJ1ZmZlcik7dGhpcy5fd2VpZ2h0UHJldj0tMDt0aGlzLl9vZmZzZXRQcmV2PS0wO3RoaXMuX3dlaWdodE5leHQ9LTA7dGhpcy5fb2Zmc2V0TmV4dD0tMDt9Q3ViaWNJbnRlcnBvbGFudC5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKEludGVycG9sYW50LnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOkN1YmljSW50ZXJwb2xhbnQsRGVmYXVsdFNldHRpbmdzXzp7ZW5kaW5nU3RhcnQ6WmVyb0N1cnZhdHVyZUVuZGluZyxlbmRpbmdFbmQ6WmVyb0N1cnZhdHVyZUVuZGluZ30saW50ZXJ2YWxDaGFuZ2VkXzpmdW5jdGlvbiBpbnRlcnZhbENoYW5nZWRfKGkxLHQwLHQxKXt2YXIgcHA9dGhpcy5wYXJhbWV0ZXJQb3NpdGlvbnMsaVByZXY9aTEtMixpTmV4dD1pMSsxLHRQcmV2PXBwW2lQcmV2XSx0TmV4dD1wcFtpTmV4dF07aWYodFByZXY9PT11bmRlZmluZWQpe3N3aXRjaCh0aGlzLmdldFNldHRpbmdzXygpLmVuZGluZ1N0YXJ0KXtjYXNlIFplcm9TbG9wZUVuZGluZzovLyBmJyh0MCkgPSAwCmlQcmV2PWkxO3RQcmV2PTIqdDAtdDE7YnJlYWs7Y2FzZSBXcmFwQXJvdW5kRW5kaW5nOi8vIHVzZSB0aGUgb3RoZXIgZW5kIG9mIHRoZSBjdXJ2ZQppUHJldj1wcC5sZW5ndGgtMjt0UHJldj10MCtwcFtpUHJldl0tcHBbaVByZXYrMV07YnJlYWs7ZGVmYXVsdDovLyBaZXJvQ3VydmF0dXJlRW5kaW5nCi8vIGYnJyh0MCkgPSAwIGEuay5hLiBOYXR1cmFsIFNwbGluZQppUHJldj1pMTt0UHJldj10MTt9fWlmKHROZXh0PT09dW5kZWZpbmVkKXtzd2l0Y2godGhpcy5nZXRTZXR0aW5nc18oKS5lbmRpbmdFbmQpe2Nhc2UgWmVyb1Nsb3BlRW5kaW5nOi8vIGYnKHROKSA9IDAKaU5leHQ9aTE7dE5leHQ9Mip0MS10MDticmVhaztjYXNlIFdyYXBBcm91bmRFbmRpbmc6Ly8gdXNlIHRoZSBvdGhlciBlbmQgb2YgdGhlIGN1cnZlCmlOZXh0PTE7dE5leHQ9dDErcHBbMV0tcHBbMF07YnJlYWs7ZGVmYXVsdDovLyBaZXJvQ3VydmF0dXJlRW5kaW5nCi8vIGYnJyh0TikgPSAwLCBhLmsuYS4gTmF0dXJhbCBTcGxpbmUKaU5leHQ9aTEtMTt0TmV4dD10MDt9fXZhciBoYWxmRHQ9KHQxLXQwKSowLjUsc3RyaWRlPXRoaXMudmFsdWVTaXplO3RoaXMuX3dlaWdodFByZXY9aGFsZkR0Lyh0MC10UHJldik7dGhpcy5fd2VpZ2h0TmV4dD1oYWxmRHQvKHROZXh0LXQxKTt0aGlzLl9vZmZzZXRQcmV2PWlQcmV2KnN0cmlkZTt0aGlzLl9vZmZzZXROZXh0PWlOZXh0KnN0cmlkZTt9LGludGVycG9sYXRlXzpmdW5jdGlvbiBpbnRlcnBvbGF0ZV8oaTEsdDAsdCx0MSl7dmFyIHJlc3VsdD10aGlzLnJlc3VsdEJ1ZmZlcix2YWx1ZXM9dGhpcy5zYW1wbGVWYWx1ZXMsc3RyaWRlPXRoaXMudmFsdWVTaXplLG8xPWkxKnN0cmlkZSxvMD1vMS1zdHJpZGUsb1A9dGhpcy5fb2Zmc2V0UHJldixvTj10aGlzLl9vZmZzZXROZXh0LHdQPXRoaXMuX3dlaWdodFByZXYsd049dGhpcy5fd2VpZ2h0TmV4dCxwPSh0LXQwKS8odDEtdDApLHBwPXAqcCxwcHA9cHAqcDsvLyBldmFsdWF0ZSBwb2x5bm9taWFscwp2YXIgc1A9LXdQKnBwcCsyKndQKnBwLXdQKnA7dmFyIHMwPSgxK3dQKSpwcHArKC0xLjUtMip3UCkqcHArKC0wLjUrd1ApKnArMTt2YXIgczE9KC0xLXdOKSpwcHArKDEuNSt3TikqcHArMC41KnA7dmFyIHNOPXdOKnBwcC13TipwcDsvLyBjb21iaW5lIGRhdGEgbGluZWFybHkKZm9yKHZhciBpPTA7aSE9PXN0cmlkZTsrK2kpe3Jlc3VsdFtpXT1zUCp2YWx1ZXNbb1AraV0rczAqdmFsdWVzW28wK2ldK3MxKnZhbHVlc1tvMStpXStzTip2YWx1ZXNbb04raV07fXJldHVybiByZXN1bHQ7fX0pOy8qKgogICAqIEBhdXRob3IgdHNjaHcKICAgKi9mdW5jdGlvbiBMaW5lYXJJbnRlcnBvbGFudChwYXJhbWV0ZXJQb3NpdGlvbnMsc2FtcGxlVmFsdWVzLHNhbXBsZVNpemUscmVzdWx0QnVmZmVyKXtJbnRlcnBvbGFudC5jYWxsKHRoaXMscGFyYW1ldGVyUG9zaXRpb25zLHNhbXBsZVZhbHVlcyxzYW1wbGVTaXplLHJlc3VsdEJ1ZmZlcik7fUxpbmVhckludGVycG9sYW50LnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoSW50ZXJwb2xhbnQucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6TGluZWFySW50ZXJwb2xhbnQsaW50ZXJwb2xhdGVfOmZ1bmN0aW9uIGludGVycG9sYXRlXyhpMSx0MCx0LHQxKXt2YXIgcmVzdWx0PXRoaXMucmVzdWx0QnVmZmVyLHZhbHVlcz10aGlzLnNhbXBsZVZhbHVlcyxzdHJpZGU9dGhpcy52YWx1ZVNpemUsb2Zmc2V0MT1pMSpzdHJpZGUsb2Zmc2V0MD1vZmZzZXQxLXN0cmlkZSx3ZWlnaHQxPSh0LXQwKS8odDEtdDApLHdlaWdodDA9MS13ZWlnaHQxO2Zvcih2YXIgaT0wO2khPT1zdHJpZGU7KytpKXtyZXN1bHRbaV09dmFsdWVzW29mZnNldDAraV0qd2VpZ2h0MCt2YWx1ZXNbb2Zmc2V0MStpXSp3ZWlnaHQxO31yZXR1cm4gcmVzdWx0O319KTsvKioKICAgKgogICAqIEludGVycG9sYW50IHRoYXQgZXZhbHVhdGVzIHRvIHRoZSBzYW1wbGUgdmFsdWUgYXQgdGhlIHBvc2l0aW9uIHByZWNlZWRpbmcKICAgKiB0aGUgcGFyYW1ldGVyLgogICAqCiAgICogQGF1dGhvciB0c2NodwogICAqL2Z1bmN0aW9uIERpc2NyZXRlSW50ZXJwb2xhbnQocGFyYW1ldGVyUG9zaXRpb25zLHNhbXBsZVZhbHVlcyxzYW1wbGVTaXplLHJlc3VsdEJ1ZmZlcil7SW50ZXJwb2xhbnQuY2FsbCh0aGlzLHBhcmFtZXRlclBvc2l0aW9ucyxzYW1wbGVWYWx1ZXMsc2FtcGxlU2l6ZSxyZXN1bHRCdWZmZXIpO31EaXNjcmV0ZUludGVycG9sYW50LnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoSW50ZXJwb2xhbnQucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6RGlzY3JldGVJbnRlcnBvbGFudCxpbnRlcnBvbGF0ZV86ZnVuY3Rpb24gaW50ZXJwb2xhdGVfKGkxLyosIHQwLCB0LCB0MSAqLyl7cmV0dXJuIHRoaXMuY29weVNhbXBsZVZhbHVlXyhpMS0xKTt9fSk7LyoqCiAgICoKICAgKiBBIHRpbWVkIHNlcXVlbmNlIG9mIGtleWZyYW1lcyBmb3IgYSBzcGVjaWZpYyBwcm9wZXJ0eS4KICAgKgogICAqCiAgICogQGF1dGhvciBCZW4gSG91c3RvbiAvIGh0dHA6Ly9jbGFyYS5pby8KICAgKiBAYXV0aG9yIERhdmlkIFNhcm5vIC8gaHR0cDovL2xpZ2h0aGF1cy51cy8KICAgKiBAYXV0aG9yIHRzY2h3CiAgICovZnVuY3Rpb24gS2V5ZnJhbWVUcmFjayhuYW1lLHRpbWVzLHZhbHVlcyxpbnRlcnBvbGF0aW9uKXtpZihuYW1lPT09dW5kZWZpbmVkKXt0aHJvdyBuZXcgRXJyb3IoJ1RIUkVFLktleWZyYW1lVHJhY2s6IHRyYWNrIG5hbWUgaXMgdW5kZWZpbmVkJyk7fWlmKHRpbWVzPT09dW5kZWZpbmVkfHx0aW1lcy5sZW5ndGg9PT0wKXt0aHJvdyBuZXcgRXJyb3IoJ1RIUkVFLktleWZyYW1lVHJhY2s6IG5vIGtleWZyYW1lcyBpbiB0cmFjayBuYW1lZCAnK25hbWUpO310aGlzLm5hbWU9bmFtZTt0aGlzLnRpbWVzPUFuaW1hdGlvblV0aWxzLmNvbnZlcnRBcnJheSh0aW1lcyx0aGlzLlRpbWVCdWZmZXJUeXBlKTt0aGlzLnZhbHVlcz1BbmltYXRpb25VdGlscy5jb252ZXJ0QXJyYXkodmFsdWVzLHRoaXMuVmFsdWVCdWZmZXJUeXBlKTt0aGlzLnNldEludGVycG9sYXRpb24oaW50ZXJwb2xhdGlvbnx8dGhpcy5EZWZhdWx0SW50ZXJwb2xhdGlvbik7fS8vIFN0YXRpYyBtZXRob2RzCk9iamVjdC5hc3NpZ24oS2V5ZnJhbWVUcmFjayx7Ly8gU2VyaWFsaXphdGlvbiAoaW4gc3RhdGljIGNvbnRleHQsIGJlY2F1c2Ugb2YgY29uc3RydWN0b3IgaW52b2NhdGlvbgovLyBhbmQgYXV0b21hdGljIGludm9jYXRpb24gb2YgLnRvSlNPTik6CnRvSlNPTjpmdW5jdGlvbiB0b0pTT04odHJhY2spe3ZhciB0cmFja1R5cGU9dHJhY2suY29uc3RydWN0b3I7dmFyIGpzb247Ly8gZGVyaXZlZCBjbGFzc2VzIGNhbiBkZWZpbmUgYSBzdGF0aWMgdG9KU09OIG1ldGhvZAppZih0cmFja1R5cGUudG9KU09OIT09dW5kZWZpbmVkKXtqc29uPXRyYWNrVHlwZS50b0pTT04odHJhY2spO31lbHNley8vIGJ5IGRlZmF1bHQsIHdlIGFzc3VtZSB0aGUgZGF0YSBjYW4gYmUgc2VyaWFsaXplZCBhcy1pcwpqc29uPXsnbmFtZSc6dHJhY2submFtZSwndGltZXMnOkFuaW1hdGlvblV0aWxzLmNvbnZlcnRBcnJheSh0cmFjay50aW1lcyxBcnJheSksJ3ZhbHVlcyc6QW5pbWF0aW9uVXRpbHMuY29udmVydEFycmF5KHRyYWNrLnZhbHVlcyxBcnJheSl9O3ZhciBpbnRlcnBvbGF0aW9uPXRyYWNrLmdldEludGVycG9sYXRpb24oKTtpZihpbnRlcnBvbGF0aW9uIT09dHJhY2suRGVmYXVsdEludGVycG9sYXRpb24pe2pzb24uaW50ZXJwb2xhdGlvbj1pbnRlcnBvbGF0aW9uO319anNvbi50eXBlPXRyYWNrLlZhbHVlVHlwZU5hbWU7Ly8gbWFuZGF0b3J5CnJldHVybiBqc29uO319KTtPYmplY3QuYXNzaWduKEtleWZyYW1lVHJhY2sucHJvdG90eXBlLHtjb25zdHJ1Y3RvcjpLZXlmcmFtZVRyYWNrLFRpbWVCdWZmZXJUeXBlOkZsb2F0MzJBcnJheSxWYWx1ZUJ1ZmZlclR5cGU6RmxvYXQzMkFycmF5LERlZmF1bHRJbnRlcnBvbGF0aW9uOkludGVycG9sYXRlTGluZWFyLEludGVycG9sYW50RmFjdG9yeU1ldGhvZERpc2NyZXRlOmZ1bmN0aW9uIEludGVycG9sYW50RmFjdG9yeU1ldGhvZERpc2NyZXRlKHJlc3VsdCl7cmV0dXJuIG5ldyBEaXNjcmV0ZUludGVycG9sYW50KHRoaXMudGltZXMsdGhpcy52YWx1ZXMsdGhpcy5nZXRWYWx1ZVNpemUoKSxyZXN1bHQpO30sSW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kTGluZWFyOmZ1bmN0aW9uIEludGVycG9sYW50RmFjdG9yeU1ldGhvZExpbmVhcihyZXN1bHQpe3JldHVybiBuZXcgTGluZWFySW50ZXJwb2xhbnQodGhpcy50aW1lcyx0aGlzLnZhbHVlcyx0aGlzLmdldFZhbHVlU2l6ZSgpLHJlc3VsdCk7fSxJbnRlcnBvbGFudEZhY3RvcnlNZXRob2RTbW9vdGg6ZnVuY3Rpb24gSW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kU21vb3RoKHJlc3VsdCl7cmV0dXJuIG5ldyBDdWJpY0ludGVycG9sYW50KHRoaXMudGltZXMsdGhpcy52YWx1ZXMsdGhpcy5nZXRWYWx1ZVNpemUoKSxyZXN1bHQpO30sc2V0SW50ZXJwb2xhdGlvbjpmdW5jdGlvbiBzZXRJbnRlcnBvbGF0aW9uKGludGVycG9sYXRpb24pe3ZhciBmYWN0b3J5TWV0aG9kO3N3aXRjaChpbnRlcnBvbGF0aW9uKXtjYXNlIEludGVycG9sYXRlRGlzY3JldGU6ZmFjdG9yeU1ldGhvZD10aGlzLkludGVycG9sYW50RmFjdG9yeU1ldGhvZERpc2NyZXRlO2JyZWFrO2Nhc2UgSW50ZXJwb2xhdGVMaW5lYXI6ZmFjdG9yeU1ldGhvZD10aGlzLkludGVycG9sYW50RmFjdG9yeU1ldGhvZExpbmVhcjticmVhaztjYXNlIEludGVycG9sYXRlU21vb3RoOmZhY3RvcnlNZXRob2Q9dGhpcy5JbnRlcnBvbGFudEZhY3RvcnlNZXRob2RTbW9vdGg7YnJlYWs7fWlmKGZhY3RvcnlNZXRob2Q9PT11bmRlZmluZWQpe3ZhciBtZXNzYWdlPSJ1bnN1cHBvcnRlZCBpbnRlcnBvbGF0aW9uIGZvciAiK3RoaXMuVmFsdWVUeXBlTmFtZSsiIGtleWZyYW1lIHRyYWNrIG5hbWVkICIrdGhpcy5uYW1lO2lmKHRoaXMuY3JlYXRlSW50ZXJwb2xhbnQ9PT11bmRlZmluZWQpey8vIGZhbGwgYmFjayB0byBkZWZhdWx0LCB1bmxlc3MgdGhlIGRlZmF1bHQgaXRzZWxmIGlzIG1lc3NlZCB1cAppZihpbnRlcnBvbGF0aW9uIT09dGhpcy5EZWZhdWx0SW50ZXJwb2xhdGlvbil7dGhpcy5zZXRJbnRlcnBvbGF0aW9uKHRoaXMuRGVmYXVsdEludGVycG9sYXRpb24pO31lbHNle3Rocm93IG5ldyBFcnJvcihtZXNzYWdlKTsvLyBmYXRhbCwgaW4gdGhpcyBjYXNlCn19Y29uc29sZS53YXJuKCdUSFJFRS5LZXlmcmFtZVRyYWNrOicsbWVzc2FnZSk7cmV0dXJuIHRoaXM7fXRoaXMuY3JlYXRlSW50ZXJwb2xhbnQ9ZmFjdG9yeU1ldGhvZDtyZXR1cm4gdGhpczt9LGdldEludGVycG9sYXRpb246ZnVuY3Rpb24gZ2V0SW50ZXJwb2xhdGlvbigpe3N3aXRjaCh0aGlzLmNyZWF0ZUludGVycG9sYW50KXtjYXNlIHRoaXMuSW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kRGlzY3JldGU6cmV0dXJuIEludGVycG9sYXRlRGlzY3JldGU7Y2FzZSB0aGlzLkludGVycG9sYW50RmFjdG9yeU1ldGhvZExpbmVhcjpyZXR1cm4gSW50ZXJwb2xhdGVMaW5lYXI7Y2FzZSB0aGlzLkludGVycG9sYW50RmFjdG9yeU1ldGhvZFNtb290aDpyZXR1cm4gSW50ZXJwb2xhdGVTbW9vdGg7fX0sZ2V0VmFsdWVTaXplOmZ1bmN0aW9uIGdldFZhbHVlU2l6ZSgpe3JldHVybiB0aGlzLnZhbHVlcy5sZW5ndGgvdGhpcy50aW1lcy5sZW5ndGg7fSwvLyBtb3ZlIGFsbCBrZXlmcmFtZXMgZWl0aGVyIGZvcndhcmRzIG9yIGJhY2t3YXJkcyBpbiB0aW1lCnNoaWZ0OmZ1bmN0aW9uIHNoaWZ0KHRpbWVPZmZzZXQpe2lmKHRpbWVPZmZzZXQhPT0wLjApe3ZhciB0aW1lcz10aGlzLnRpbWVzO2Zvcih2YXIgaT0wLG49dGltZXMubGVuZ3RoO2khPT1uOysraSl7dGltZXNbaV0rPXRpbWVPZmZzZXQ7fX1yZXR1cm4gdGhpczt9LC8vIHNjYWxlIGFsbCBrZXlmcmFtZSB0aW1lcyBieSBhIGZhY3RvciAodXNlZnVsIGZvciBmcmFtZSA8LT4gc2Vjb25kcyBjb252ZXJzaW9ucykKc2NhbGU6ZnVuY3Rpb24gc2NhbGUodGltZVNjYWxlKXtpZih0aW1lU2NhbGUhPT0xLjApe3ZhciB0aW1lcz10aGlzLnRpbWVzO2Zvcih2YXIgaT0wLG49dGltZXMubGVuZ3RoO2khPT1uOysraSl7dGltZXNbaV0qPXRpbWVTY2FsZTt9fXJldHVybiB0aGlzO30sLy8gcmVtb3ZlcyBrZXlmcmFtZXMgYmVmb3JlIGFuZCBhZnRlciBhbmltYXRpb24gd2l0aG91dCBjaGFuZ2luZyBhbnkgdmFsdWVzIHdpdGhpbiB0aGUgcmFuZ2UgW3N0YXJ0VGltZSwgZW5kVGltZV0uCi8vIElNUE9SVEFOVDogV2UgZG8gbm90IHNoaWZ0IGFyb3VuZCBrZXlzIHRvIHRoZSBzdGFydCBvZiB0aGUgdHJhY2sgdGltZSwgYmVjYXVzZSBmb3IgaW50ZXJwb2xhdGVkIGtleXMgdGhpcyB3aWxsIGNoYW5nZSB0aGVpciB2YWx1ZXMKdHJpbTpmdW5jdGlvbiB0cmltKHN0YXJ0VGltZSxlbmRUaW1lKXt2YXIgdGltZXM9dGhpcy50aW1lcyxuS2V5cz10aW1lcy5sZW5ndGgsZnJvbT0wLHRvPW5LZXlzLTE7d2hpbGUoZnJvbSE9PW5LZXlzJiZ0aW1lc1tmcm9tXTxzdGFydFRpbWUpeysrZnJvbTt9d2hpbGUodG8hPT0tMSYmdGltZXNbdG9dPmVuZFRpbWUpey0tdG87fSsrdG87Ly8gaW5jbHVzaXZlIC0+IGV4Y2x1c2l2ZSBib3VuZAppZihmcm9tIT09MHx8dG8hPT1uS2V5cyl7Ly8gZW1wdHkgdHJhY2tzIGFyZSBmb3JiaWRkZW4sIHNvIGtlZXAgYXQgbGVhc3Qgb25lIGtleWZyYW1lCmlmKGZyb20+PXRvKXt0bz1NYXRoLm1heCh0bywxKSxmcm9tPXRvLTE7fXZhciBzdHJpZGU9dGhpcy5nZXRWYWx1ZVNpemUoKTt0aGlzLnRpbWVzPUFuaW1hdGlvblV0aWxzLmFycmF5U2xpY2UodGltZXMsZnJvbSx0byk7dGhpcy52YWx1ZXM9QW5pbWF0aW9uVXRpbHMuYXJyYXlTbGljZSh0aGlzLnZhbHVlcyxmcm9tKnN0cmlkZSx0bypzdHJpZGUpO31yZXR1cm4gdGhpczt9LC8vIGVuc3VyZSB3ZSBkbyBub3QgZ2V0IGEgR2FyYmFnZUluR2FyYmFnZU91dCBzaXR1YXRpb24sIG1ha2Ugc3VyZSB0cmFja3MgYXJlIGF0IGxlYXN0IG1pbmltYWxseSB2aWFibGUKdmFsaWRhdGU6ZnVuY3Rpb24gdmFsaWRhdGUoKXt2YXIgdmFsaWQ9dHJ1ZTt2YXIgdmFsdWVTaXplPXRoaXMuZ2V0VmFsdWVTaXplKCk7aWYodmFsdWVTaXplLU1hdGguZmxvb3IodmFsdWVTaXplKSE9PTApe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLktleWZyYW1lVHJhY2s6IEludmFsaWQgdmFsdWUgc2l6ZSBpbiB0cmFjay4nLHRoaXMpO3ZhbGlkPWZhbHNlO312YXIgdGltZXM9dGhpcy50aW1lcyx2YWx1ZXM9dGhpcy52YWx1ZXMsbktleXM9dGltZXMubGVuZ3RoO2lmKG5LZXlzPT09MCl7Y29uc29sZS5lcnJvcignVEhSRUUuS2V5ZnJhbWVUcmFjazogVHJhY2sgaXMgZW1wdHkuJyx0aGlzKTt2YWxpZD1mYWxzZTt9dmFyIHByZXZUaW1lPW51bGw7Zm9yKHZhciBpPTA7aSE9PW5LZXlzO2krKyl7dmFyIGN1cnJUaW1lPXRpbWVzW2ldO2lmKHR5cGVvZiBjdXJyVGltZT09PSdudW1iZXInJiZpc05hTihjdXJyVGltZSkpe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLktleWZyYW1lVHJhY2s6IFRpbWUgaXMgbm90IGEgdmFsaWQgbnVtYmVyLicsdGhpcyxpLGN1cnJUaW1lKTt2YWxpZD1mYWxzZTticmVhazt9aWYocHJldlRpbWUhPT1udWxsJiZwcmV2VGltZT5jdXJyVGltZSl7Y29uc29sZS5lcnJvcignVEhSRUUuS2V5ZnJhbWVUcmFjazogT3V0IG9mIG9yZGVyIGtleXMuJyx0aGlzLGksY3VyclRpbWUscHJldlRpbWUpO3ZhbGlkPWZhbHNlO2JyZWFrO31wcmV2VGltZT1jdXJyVGltZTt9aWYodmFsdWVzIT09dW5kZWZpbmVkKXtpZihBbmltYXRpb25VdGlscy5pc1R5cGVkQXJyYXkodmFsdWVzKSl7Zm9yKHZhciBpPTAsbj12YWx1ZXMubGVuZ3RoO2khPT1uOysraSl7dmFyIHZhbHVlPXZhbHVlc1tpXTtpZihpc05hTih2YWx1ZSkpe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLktleWZyYW1lVHJhY2s6IFZhbHVlIGlzIG5vdCBhIHZhbGlkIG51bWJlci4nLHRoaXMsaSx2YWx1ZSk7dmFsaWQ9ZmFsc2U7YnJlYWs7fX19fXJldHVybiB2YWxpZDt9LC8vIHJlbW92ZXMgZXF1aXZhbGVudCBzZXF1ZW50aWFsIGtleXMgYXMgY29tbW9uIGluIG1vcnBoIHRhcmdldCBzZXF1ZW5jZXMKLy8gKDAsMCwwLDAsMSwxLDEsMCwwLDAsMCwwLDAsMCkgLS0+ICgwLDAsMSwxLDAsMCkKb3B0aW1pemU6ZnVuY3Rpb24gb3B0aW1pemUoKXt2YXIgdGltZXM9dGhpcy50aW1lcyx2YWx1ZXM9dGhpcy52YWx1ZXMsc3RyaWRlPXRoaXMuZ2V0VmFsdWVTaXplKCksc21vb3RoSW50ZXJwb2xhdGlvbj10aGlzLmdldEludGVycG9sYXRpb24oKT09PUludGVycG9sYXRlU21vb3RoLHdyaXRlSW5kZXg9MSxsYXN0SW5kZXg9dGltZXMubGVuZ3RoLTE7Zm9yKHZhciBpPTE7aTxsYXN0SW5kZXg7KytpKXt2YXIga2VlcD1mYWxzZTt2YXIgdGltZT10aW1lc1tpXTt2YXIgdGltZU5leHQ9dGltZXNbaSsxXTsvLyByZW1vdmUgYWRqYWNlbnQga2V5ZnJhbWVzIHNjaGVkdWxlZCBhdCB0aGUgc2FtZSB0aW1lCmlmKHRpbWUhPT10aW1lTmV4dCYmKGkhPT0xfHx0aW1lIT09dGltZVswXSkpe2lmKCFzbW9vdGhJbnRlcnBvbGF0aW9uKXsvLyByZW1vdmUgdW5uZWNlc3Nhcnkga2V5ZnJhbWVzIHNhbWUgYXMgdGhlaXIgbmVpZ2hib3JzCnZhciBvZmZzZXQ9aSpzdHJpZGUsb2Zmc2V0UD1vZmZzZXQtc3RyaWRlLG9mZnNldE49b2Zmc2V0K3N0cmlkZTtmb3IodmFyIGo9MDtqIT09c3RyaWRlOysrail7dmFyIHZhbHVlPXZhbHVlc1tvZmZzZXQral07aWYodmFsdWUhPT12YWx1ZXNbb2Zmc2V0UCtqXXx8dmFsdWUhPT12YWx1ZXNbb2Zmc2V0TitqXSl7a2VlcD10cnVlO2JyZWFrO319fWVsc2V7a2VlcD10cnVlO319Ly8gaW4tcGxhY2UgY29tcGFjdGlvbgppZihrZWVwKXtpZihpIT09d3JpdGVJbmRleCl7dGltZXNbd3JpdGVJbmRleF09dGltZXNbaV07dmFyIHJlYWRPZmZzZXQ9aSpzdHJpZGUsd3JpdGVPZmZzZXQ9d3JpdGVJbmRleCpzdHJpZGU7Zm9yKHZhciBqPTA7aiE9PXN0cmlkZTsrK2ope3ZhbHVlc1t3cml0ZU9mZnNldCtqXT12YWx1ZXNbcmVhZE9mZnNldCtqXTt9fSsrd3JpdGVJbmRleDt9fS8vIGZsdXNoIGxhc3Qga2V5ZnJhbWUgKGNvbXBhY3Rpb24gbG9va3MgYWhlYWQpCmlmKGxhc3RJbmRleD4wKXt0aW1lc1t3cml0ZUluZGV4XT10aW1lc1tsYXN0SW5kZXhdO2Zvcih2YXIgcmVhZE9mZnNldD1sYXN0SW5kZXgqc3RyaWRlLHdyaXRlT2Zmc2V0PXdyaXRlSW5kZXgqc3RyaWRlLGo9MDtqIT09c3RyaWRlOysrail7dmFsdWVzW3dyaXRlT2Zmc2V0K2pdPXZhbHVlc1tyZWFkT2Zmc2V0K2pdO30rK3dyaXRlSW5kZXg7fWlmKHdyaXRlSW5kZXghPT10aW1lcy5sZW5ndGgpe3RoaXMudGltZXM9QW5pbWF0aW9uVXRpbHMuYXJyYXlTbGljZSh0aW1lcywwLHdyaXRlSW5kZXgpO3RoaXMudmFsdWVzPUFuaW1hdGlvblV0aWxzLmFycmF5U2xpY2UodmFsdWVzLDAsd3JpdGVJbmRleCpzdHJpZGUpO31yZXR1cm4gdGhpczt9LGNsb25lOmZ1bmN0aW9uIGNsb25lKCl7dmFyIHRpbWVzPUFuaW1hdGlvblV0aWxzLmFycmF5U2xpY2UodGhpcy50aW1lcywwKTt2YXIgdmFsdWVzPUFuaW1hdGlvblV0aWxzLmFycmF5U2xpY2UodGhpcy52YWx1ZXMsMCk7dmFyIFR5cGVkS2V5ZnJhbWVUcmFjaz10aGlzLmNvbnN0cnVjdG9yO3ZhciB0cmFjaz1uZXcgVHlwZWRLZXlmcmFtZVRyYWNrKHRoaXMubmFtZSx0aW1lcyx2YWx1ZXMpOy8vIEludGVycG9sYW50IGFyZ3VtZW50IHRvIGNvbnN0cnVjdG9yIGlzIG5vdCBzYXZlZCwgc28gY29weSB0aGUgZmFjdG9yeSBtZXRob2QgZGlyZWN0bHkuCnRyYWNrLmNyZWF0ZUludGVycG9sYW50PXRoaXMuY3JlYXRlSW50ZXJwb2xhbnQ7cmV0dXJuIHRyYWNrO319KTsvKioKICAgKgogICAqIEEgVHJhY2sgb2YgQm9vbGVhbiBrZXlmcmFtZSB2YWx1ZXMuCiAgICoKICAgKgogICAqIEBhdXRob3IgQmVuIEhvdXN0b24gLyBodHRwOi8vY2xhcmEuaW8vCiAgICogQGF1dGhvciBEYXZpZCBTYXJubyAvIGh0dHA6Ly9saWdodGhhdXMudXMvCiAgICogQGF1dGhvciB0c2NodwogICAqL2Z1bmN0aW9uIEJvb2xlYW5LZXlmcmFtZVRyYWNrKG5hbWUsdGltZXMsdmFsdWVzKXtLZXlmcmFtZVRyYWNrLmNhbGwodGhpcyxuYW1lLHRpbWVzLHZhbHVlcyk7fUJvb2xlYW5LZXlmcmFtZVRyYWNrLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoS2V5ZnJhbWVUcmFjay5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpCb29sZWFuS2V5ZnJhbWVUcmFjayxWYWx1ZVR5cGVOYW1lOidib29sJyxWYWx1ZUJ1ZmZlclR5cGU6QXJyYXksRGVmYXVsdEludGVycG9sYXRpb246SW50ZXJwb2xhdGVEaXNjcmV0ZSxJbnRlcnBvbGFudEZhY3RvcnlNZXRob2RMaW5lYXI6dW5kZWZpbmVkLEludGVycG9sYW50RmFjdG9yeU1ldGhvZFNtb290aDp1bmRlZmluZWQvLyBOb3RlOiBBY3R1YWxseSB0aGlzIHRyYWNrIGNvdWxkIGhhdmUgYSBvcHRpbWl6ZWQgLyBjb21wcmVzc2VkCi8vIHJlcHJlc2VudGF0aW9uIG9mIGEgc2luZ2xlIHZhbHVlIGFuZCBhIGN1c3RvbSBpbnRlcnBvbGFudCB0aGF0Ci8vIGNvbXB1dGVzICJmaXJzdFZhbHVlIF4gaXNPZGQoIGluZGV4ICkiLgp9KTsvKioKICAgKgogICAqIEEgVHJhY2sgb2Yga2V5ZnJhbWUgdmFsdWVzIHRoYXQgcmVwcmVzZW50IGNvbG9yLgogICAqCiAgICoKICAgKiBAYXV0aG9yIEJlbiBIb3VzdG9uIC8gaHR0cDovL2NsYXJhLmlvLwogICAqIEBhdXRob3IgRGF2aWQgU2Fybm8gLyBodHRwOi8vbGlnaHRoYXVzLnVzLwogICAqIEBhdXRob3IgdHNjaHcKICAgKi9mdW5jdGlvbiBDb2xvcktleWZyYW1lVHJhY2sobmFtZSx0aW1lcyx2YWx1ZXMsaW50ZXJwb2xhdGlvbil7S2V5ZnJhbWVUcmFjay5jYWxsKHRoaXMsbmFtZSx0aW1lcyx2YWx1ZXMsaW50ZXJwb2xhdGlvbik7fUNvbG9yS2V5ZnJhbWVUcmFjay5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKEtleWZyYW1lVHJhY2sucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6Q29sb3JLZXlmcmFtZVRyYWNrLFZhbHVlVHlwZU5hbWU6J2NvbG9yJy8vIFZhbHVlQnVmZmVyVHlwZSBpcyBpbmhlcml0ZWQKLy8gRGVmYXVsdEludGVycG9sYXRpb24gaXMgaW5oZXJpdGVkCi8vIE5vdGU6IFZlcnkgYmFzaWMgaW1wbGVtZW50YXRpb24gYW5kIG5vdGhpbmcgc3BlY2lhbCB5ZXQuCi8vIEhvd2V2ZXIsIHRoaXMgaXMgdGhlIHBsYWNlIGZvciBjb2xvciBzcGFjZSBwYXJhbWV0ZXJpemF0aW9uLgp9KTsvKioKICAgKgogICAqIEEgVHJhY2sgb2YgbnVtZXJpYyBrZXlmcmFtZSB2YWx1ZXMuCiAgICoKICAgKiBAYXV0aG9yIEJlbiBIb3VzdG9uIC8gaHR0cDovL2NsYXJhLmlvLwogICAqIEBhdXRob3IgRGF2aWQgU2Fybm8gLyBodHRwOi8vbGlnaHRoYXVzLnVzLwogICAqIEBhdXRob3IgdHNjaHcKICAgKi9mdW5jdGlvbiBOdW1iZXJLZXlmcmFtZVRyYWNrKG5hbWUsdGltZXMsdmFsdWVzLGludGVycG9sYXRpb24pe0tleWZyYW1lVHJhY2suY2FsbCh0aGlzLG5hbWUsdGltZXMsdmFsdWVzLGludGVycG9sYXRpb24pO31OdW1iZXJLZXlmcmFtZVRyYWNrLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoS2V5ZnJhbWVUcmFjay5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpOdW1iZXJLZXlmcmFtZVRyYWNrLFZhbHVlVHlwZU5hbWU6J251bWJlcicvLyBWYWx1ZUJ1ZmZlclR5cGUgaXMgaW5oZXJpdGVkCi8vIERlZmF1bHRJbnRlcnBvbGF0aW9uIGlzIGluaGVyaXRlZAp9KTsvKioKICAgKiBTcGhlcmljYWwgbGluZWFyIHVuaXQgcXVhdGVybmlvbiBpbnRlcnBvbGFudC4KICAgKgogICAqIEBhdXRob3IgdHNjaHcKICAgKi9mdW5jdGlvbiBRdWF0ZXJuaW9uTGluZWFySW50ZXJwb2xhbnQocGFyYW1ldGVyUG9zaXRpb25zLHNhbXBsZVZhbHVlcyxzYW1wbGVTaXplLHJlc3VsdEJ1ZmZlcil7SW50ZXJwb2xhbnQuY2FsbCh0aGlzLHBhcmFtZXRlclBvc2l0aW9ucyxzYW1wbGVWYWx1ZXMsc2FtcGxlU2l6ZSxyZXN1bHRCdWZmZXIpO31RdWF0ZXJuaW9uTGluZWFySW50ZXJwb2xhbnQucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShJbnRlcnBvbGFudC5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpRdWF0ZXJuaW9uTGluZWFySW50ZXJwb2xhbnQsaW50ZXJwb2xhdGVfOmZ1bmN0aW9uIGludGVycG9sYXRlXyhpMSx0MCx0LHQxKXt2YXIgcmVzdWx0PXRoaXMucmVzdWx0QnVmZmVyLHZhbHVlcz10aGlzLnNhbXBsZVZhbHVlcyxzdHJpZGU9dGhpcy52YWx1ZVNpemUsb2Zmc2V0PWkxKnN0cmlkZSxhbHBoYT0odC10MCkvKHQxLXQwKTtmb3IodmFyIGVuZD1vZmZzZXQrc3RyaWRlO29mZnNldCE9PWVuZDtvZmZzZXQrPTQpe1F1YXRlcm5pb24uc2xlcnBGbGF0KHJlc3VsdCwwLHZhbHVlcyxvZmZzZXQtc3RyaWRlLHZhbHVlcyxvZmZzZXQsYWxwaGEpO31yZXR1cm4gcmVzdWx0O319KTsvKioKICAgKgogICAqIEEgVHJhY2sgb2YgcXVhdGVybmlvbiBrZXlmcmFtZSB2YWx1ZXMuCiAgICoKICAgKiBAYXV0aG9yIEJlbiBIb3VzdG9uIC8gaHR0cDovL2NsYXJhLmlvLwogICAqIEBhdXRob3IgRGF2aWQgU2Fybm8gLyBodHRwOi8vbGlnaHRoYXVzLnVzLwogICAqIEBhdXRob3IgdHNjaHcKICAgKi9mdW5jdGlvbiBRdWF0ZXJuaW9uS2V5ZnJhbWVUcmFjayhuYW1lLHRpbWVzLHZhbHVlcyxpbnRlcnBvbGF0aW9uKXtLZXlmcmFtZVRyYWNrLmNhbGwodGhpcyxuYW1lLHRpbWVzLHZhbHVlcyxpbnRlcnBvbGF0aW9uKTt9UXVhdGVybmlvbktleWZyYW1lVHJhY2sucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShLZXlmcmFtZVRyYWNrLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOlF1YXRlcm5pb25LZXlmcmFtZVRyYWNrLFZhbHVlVHlwZU5hbWU6J3F1YXRlcm5pb24nLC8vIFZhbHVlQnVmZmVyVHlwZSBpcyBpbmhlcml0ZWQKRGVmYXVsdEludGVycG9sYXRpb246SW50ZXJwb2xhdGVMaW5lYXIsSW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kTGluZWFyOmZ1bmN0aW9uIEludGVycG9sYW50RmFjdG9yeU1ldGhvZExpbmVhcihyZXN1bHQpe3JldHVybiBuZXcgUXVhdGVybmlvbkxpbmVhckludGVycG9sYW50KHRoaXMudGltZXMsdGhpcy52YWx1ZXMsdGhpcy5nZXRWYWx1ZVNpemUoKSxyZXN1bHQpO30sSW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kU21vb3RoOnVuZGVmaW5lZC8vIG5vdCB5ZXQgaW1wbGVtZW50ZWQKfSk7LyoqCiAgICoKICAgKiBBIFRyYWNrIHRoYXQgaW50ZXJwb2xhdGVzIFN0cmluZ3MKICAgKgogICAqCiAgICogQGF1dGhvciBCZW4gSG91c3RvbiAvIGh0dHA6Ly9jbGFyYS5pby8KICAgKiBAYXV0aG9yIERhdmlkIFNhcm5vIC8gaHR0cDovL2xpZ2h0aGF1cy51cy8KICAgKiBAYXV0aG9yIHRzY2h3CiAgICovZnVuY3Rpb24gU3RyaW5nS2V5ZnJhbWVUcmFjayhuYW1lLHRpbWVzLHZhbHVlcyxpbnRlcnBvbGF0aW9uKXtLZXlmcmFtZVRyYWNrLmNhbGwodGhpcyxuYW1lLHRpbWVzLHZhbHVlcyxpbnRlcnBvbGF0aW9uKTt9U3RyaW5nS2V5ZnJhbWVUcmFjay5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKEtleWZyYW1lVHJhY2sucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6U3RyaW5nS2V5ZnJhbWVUcmFjayxWYWx1ZVR5cGVOYW1lOidzdHJpbmcnLFZhbHVlQnVmZmVyVHlwZTpBcnJheSxEZWZhdWx0SW50ZXJwb2xhdGlvbjpJbnRlcnBvbGF0ZURpc2NyZXRlLEludGVycG9sYW50RmFjdG9yeU1ldGhvZExpbmVhcjp1bmRlZmluZWQsSW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kU21vb3RoOnVuZGVmaW5lZH0pOy8qKgogICAqCiAgICogQSBUcmFjayBvZiB2ZWN0b3JlZCBrZXlmcmFtZSB2YWx1ZXMuCiAgICoKICAgKgogICAqIEBhdXRob3IgQmVuIEhvdXN0b24gLyBodHRwOi8vY2xhcmEuaW8vCiAgICogQGF1dGhvciBEYXZpZCBTYXJubyAvIGh0dHA6Ly9saWdodGhhdXMudXMvCiAgICogQGF1dGhvciB0c2NodwogICAqL2Z1bmN0aW9uIFZlY3RvcktleWZyYW1lVHJhY2sobmFtZSx0aW1lcyx2YWx1ZXMsaW50ZXJwb2xhdGlvbil7S2V5ZnJhbWVUcmFjay5jYWxsKHRoaXMsbmFtZSx0aW1lcyx2YWx1ZXMsaW50ZXJwb2xhdGlvbik7fVZlY3RvcktleWZyYW1lVHJhY2sucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShLZXlmcmFtZVRyYWNrLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOlZlY3RvcktleWZyYW1lVHJhY2ssVmFsdWVUeXBlTmFtZTondmVjdG9yJy8vIFZhbHVlQnVmZmVyVHlwZSBpcyBpbmhlcml0ZWQKLy8gRGVmYXVsdEludGVycG9sYXRpb24gaXMgaW5oZXJpdGVkCn0pOy8qKgogICAqCiAgICogUmV1c2FibGUgc2V0IG9mIFRyYWNrcyB0aGF0IHJlcHJlc2VudCBhbiBhbmltYXRpb24uCiAgICoKICAgKiBAYXV0aG9yIEJlbiBIb3VzdG9uIC8gaHR0cDovL2NsYXJhLmlvLwogICAqIEBhdXRob3IgRGF2aWQgU2Fybm8gLyBodHRwOi8vbGlnaHRoYXVzLnVzLwogICAqL2Z1bmN0aW9uIEFuaW1hdGlvbkNsaXAobmFtZSxkdXJhdGlvbix0cmFja3Mpe3RoaXMubmFtZT1uYW1lO3RoaXMudHJhY2tzPXRyYWNrczt0aGlzLmR1cmF0aW9uPWR1cmF0aW9uIT09dW5kZWZpbmVkP2R1cmF0aW9uOi0xO3RoaXMudXVpZD1fTWF0aC5nZW5lcmF0ZVVVSUQoKTsvLyB0aGlzIG1lYW5zIGl0IHNob3VsZCBmaWd1cmUgb3V0IGl0cyBkdXJhdGlvbiBieSBzY2FubmluZyB0aGUgdHJhY2tzCmlmKHRoaXMuZHVyYXRpb248MCl7dGhpcy5yZXNldER1cmF0aW9uKCk7fX1mdW5jdGlvbiBnZXRUcmFja1R5cGVGb3JWYWx1ZVR5cGVOYW1lKHR5cGVOYW1lKXtzd2l0Y2godHlwZU5hbWUudG9Mb3dlckNhc2UoKSl7Y2FzZSdzY2FsYXInOmNhc2UnZG91YmxlJzpjYXNlJ2Zsb2F0JzpjYXNlJ251bWJlcic6Y2FzZSdpbnRlZ2VyJzpyZXR1cm4gTnVtYmVyS2V5ZnJhbWVUcmFjaztjYXNlJ3ZlY3Rvcic6Y2FzZSd2ZWN0b3IyJzpjYXNlJ3ZlY3RvcjMnOmNhc2UndmVjdG9yNCc6cmV0dXJuIFZlY3RvcktleWZyYW1lVHJhY2s7Y2FzZSdjb2xvcic6cmV0dXJuIENvbG9yS2V5ZnJhbWVUcmFjaztjYXNlJ3F1YXRlcm5pb24nOnJldHVybiBRdWF0ZXJuaW9uS2V5ZnJhbWVUcmFjaztjYXNlJ2Jvb2wnOmNhc2UnYm9vbGVhbic6cmV0dXJuIEJvb2xlYW5LZXlmcmFtZVRyYWNrO2Nhc2Unc3RyaW5nJzpyZXR1cm4gU3RyaW5nS2V5ZnJhbWVUcmFjazt9dGhyb3cgbmV3IEVycm9yKCdUSFJFRS5LZXlmcmFtZVRyYWNrOiBVbnN1cHBvcnRlZCB0eXBlTmFtZTogJyt0eXBlTmFtZSk7fWZ1bmN0aW9uIHBhcnNlS2V5ZnJhbWVUcmFjayhqc29uKXtpZihqc29uLnR5cGU9PT11bmRlZmluZWQpe3Rocm93IG5ldyBFcnJvcignVEhSRUUuS2V5ZnJhbWVUcmFjazogdHJhY2sgdHlwZSB1bmRlZmluZWQsIGNhbiBub3QgcGFyc2UnKTt9dmFyIHRyYWNrVHlwZT1nZXRUcmFja1R5cGVGb3JWYWx1ZVR5cGVOYW1lKGpzb24udHlwZSk7aWYoanNvbi50aW1lcz09PXVuZGVmaW5lZCl7dmFyIHRpbWVzPVtdLHZhbHVlcz1bXTtBbmltYXRpb25VdGlscy5mbGF0dGVuSlNPTihqc29uLmtleXMsdGltZXMsdmFsdWVzLCd2YWx1ZScpO2pzb24udGltZXM9dGltZXM7anNvbi52YWx1ZXM9dmFsdWVzO30vLyBkZXJpdmVkIGNsYXNzZXMgY2FuIGRlZmluZSBhIHN0YXRpYyBwYXJzZSBtZXRob2QKaWYodHJhY2tUeXBlLnBhcnNlIT09dW5kZWZpbmVkKXtyZXR1cm4gdHJhY2tUeXBlLnBhcnNlKGpzb24pO31lbHNley8vIGJ5IGRlZmF1bHQsIHdlIGFzc3VtZSBhIGNvbnN0cnVjdG9yIGNvbXBhdGlibGUgd2l0aCB0aGUgYmFzZQpyZXR1cm4gbmV3IHRyYWNrVHlwZShqc29uLm5hbWUsanNvbi50aW1lcyxqc29uLnZhbHVlcyxqc29uLmludGVycG9sYXRpb24pO319T2JqZWN0LmFzc2lnbihBbmltYXRpb25DbGlwLHtwYXJzZTpmdW5jdGlvbiBwYXJzZShqc29uKXt2YXIgdHJhY2tzPVtdLGpzb25UcmFja3M9anNvbi50cmFja3MsZnJhbWVUaW1lPTEuMC8oanNvbi5mcHN8fDEuMCk7Zm9yKHZhciBpPTAsbj1qc29uVHJhY2tzLmxlbmd0aDtpIT09bjsrK2kpe3RyYWNrcy5wdXNoKHBhcnNlS2V5ZnJhbWVUcmFjayhqc29uVHJhY2tzW2ldKS5zY2FsZShmcmFtZVRpbWUpKTt9cmV0dXJuIG5ldyBBbmltYXRpb25DbGlwKGpzb24ubmFtZSxqc29uLmR1cmF0aW9uLHRyYWNrcyk7fSx0b0pTT046ZnVuY3Rpb24gdG9KU09OKGNsaXApe3ZhciB0cmFja3M9W10sY2xpcFRyYWNrcz1jbGlwLnRyYWNrczt2YXIganNvbj17J25hbWUnOmNsaXAubmFtZSwnZHVyYXRpb24nOmNsaXAuZHVyYXRpb24sJ3RyYWNrcyc6dHJhY2tzLCd1dWlkJzpjbGlwLnV1aWR9O2Zvcih2YXIgaT0wLG49Y2xpcFRyYWNrcy5sZW5ndGg7aSE9PW47KytpKXt0cmFja3MucHVzaChLZXlmcmFtZVRyYWNrLnRvSlNPTihjbGlwVHJhY2tzW2ldKSk7fXJldHVybiBqc29uO30sQ3JlYXRlRnJvbU1vcnBoVGFyZ2V0U2VxdWVuY2U6ZnVuY3Rpb24gQ3JlYXRlRnJvbU1vcnBoVGFyZ2V0U2VxdWVuY2UobmFtZSxtb3JwaFRhcmdldFNlcXVlbmNlLGZwcyxub0xvb3Ape3ZhciBudW1Nb3JwaFRhcmdldHM9bW9ycGhUYXJnZXRTZXF1ZW5jZS5sZW5ndGg7dmFyIHRyYWNrcz1bXTtmb3IodmFyIGk9MDtpPG51bU1vcnBoVGFyZ2V0cztpKyspe3ZhciB0aW1lcz1bXTt2YXIgdmFsdWVzPVtdO3RpbWVzLnB1c2goKGkrbnVtTW9ycGhUYXJnZXRzLTEpJW51bU1vcnBoVGFyZ2V0cyxpLChpKzEpJW51bU1vcnBoVGFyZ2V0cyk7dmFsdWVzLnB1c2goMCwxLDApO3ZhciBvcmRlcj1BbmltYXRpb25VdGlscy5nZXRLZXlmcmFtZU9yZGVyKHRpbWVzKTt0aW1lcz1BbmltYXRpb25VdGlscy5zb3J0ZWRBcnJheSh0aW1lcywxLG9yZGVyKTt2YWx1ZXM9QW5pbWF0aW9uVXRpbHMuc29ydGVkQXJyYXkodmFsdWVzLDEsb3JkZXIpOy8vIGlmIHRoZXJlIGlzIGEga2V5IGF0IHRoZSBmaXJzdCBmcmFtZSwgZHVwbGljYXRlIGl0IGFzIHRoZQovLyBsYXN0IGZyYW1lIGFzIHdlbGwgZm9yIHBlcmZlY3QgbG9vcC4KaWYoIW5vTG9vcCYmdGltZXNbMF09PT0wKXt0aW1lcy5wdXNoKG51bU1vcnBoVGFyZ2V0cyk7dmFsdWVzLnB1c2godmFsdWVzWzBdKTt9dHJhY2tzLnB1c2gobmV3IE51bWJlcktleWZyYW1lVHJhY2soJy5tb3JwaFRhcmdldEluZmx1ZW5jZXNbJyttb3JwaFRhcmdldFNlcXVlbmNlW2ldLm5hbWUrJ10nLHRpbWVzLHZhbHVlcykuc2NhbGUoMS4wL2ZwcykpO31yZXR1cm4gbmV3IEFuaW1hdGlvbkNsaXAobmFtZSwtMSx0cmFja3MpO30sZmluZEJ5TmFtZTpmdW5jdGlvbiBmaW5kQnlOYW1lKG9iamVjdE9yQ2xpcEFycmF5LG5hbWUpe3ZhciBjbGlwQXJyYXk9b2JqZWN0T3JDbGlwQXJyYXk7aWYoIUFycmF5LmlzQXJyYXkob2JqZWN0T3JDbGlwQXJyYXkpKXt2YXIgbz1vYmplY3RPckNsaXBBcnJheTtjbGlwQXJyYXk9by5nZW9tZXRyeSYmby5nZW9tZXRyeS5hbmltYXRpb25zfHxvLmFuaW1hdGlvbnM7fWZvcih2YXIgaT0wO2k8Y2xpcEFycmF5Lmxlbmd0aDtpKyspe2lmKGNsaXBBcnJheVtpXS5uYW1lPT09bmFtZSl7cmV0dXJuIGNsaXBBcnJheVtpXTt9fXJldHVybiBudWxsO30sQ3JlYXRlQ2xpcHNGcm9tTW9ycGhUYXJnZXRTZXF1ZW5jZXM6ZnVuY3Rpb24gQ3JlYXRlQ2xpcHNGcm9tTW9ycGhUYXJnZXRTZXF1ZW5jZXMobW9ycGhUYXJnZXRzLGZwcyxub0xvb3Ape3ZhciBhbmltYXRpb25Ub01vcnBoVGFyZ2V0cz17fTsvLyB0ZXN0ZWQgd2l0aCBodHRwczovL3JlZ2V4MTAxLmNvbS8gb24gdHJpY2sgc2VxdWVuY2VzCi8vIHN1Y2ggZmxhbWluZ29fZmx5QV8wMDMsIGZsYW1pbmdvX3J1bjFfMDAzLCBjcmRlYXRoMDA1OQp2YXIgcGF0dGVybj0vXihbXHctXSo/KShbXGRdKykkLzsvLyBzb3J0IG1vcnBoIHRhcmdldCBuYW1lcyBpbnRvIGFuaW1hdGlvbiBncm91cHMgYmFzZWQKLy8gcGF0dGVybnMgbGlrZSBXYWxrXzAwMSwgV2Fsa18wMDIsIFJ1bl8wMDEsIFJ1bl8wMDIKZm9yKHZhciBpPTAsaWw9bW9ycGhUYXJnZXRzLmxlbmd0aDtpPGlsO2krKyl7dmFyIG1vcnBoVGFyZ2V0PW1vcnBoVGFyZ2V0c1tpXTt2YXIgcGFydHM9bW9ycGhUYXJnZXQubmFtZS5tYXRjaChwYXR0ZXJuKTtpZihwYXJ0cyYmcGFydHMubGVuZ3RoPjEpe3ZhciBuYW1lPXBhcnRzWzFdO3ZhciBhbmltYXRpb25Nb3JwaFRhcmdldHM9YW5pbWF0aW9uVG9Nb3JwaFRhcmdldHNbbmFtZV07aWYoIWFuaW1hdGlvbk1vcnBoVGFyZ2V0cyl7YW5pbWF0aW9uVG9Nb3JwaFRhcmdldHNbbmFtZV09YW5pbWF0aW9uTW9ycGhUYXJnZXRzPVtdO31hbmltYXRpb25Nb3JwaFRhcmdldHMucHVzaChtb3JwaFRhcmdldCk7fX12YXIgY2xpcHM9W107Zm9yKHZhciBuYW1lIGluIGFuaW1hdGlvblRvTW9ycGhUYXJnZXRzKXtjbGlwcy5wdXNoKEFuaW1hdGlvbkNsaXAuQ3JlYXRlRnJvbU1vcnBoVGFyZ2V0U2VxdWVuY2UobmFtZSxhbmltYXRpb25Ub01vcnBoVGFyZ2V0c1tuYW1lXSxmcHMsbm9Mb29wKSk7fXJldHVybiBjbGlwczt9LC8vIHBhcnNlIHRoZSBhbmltYXRpb24uaGllcmFyY2h5IGZvcm1hdApwYXJzZUFuaW1hdGlvbjpmdW5jdGlvbiBwYXJzZUFuaW1hdGlvbihhbmltYXRpb24sYm9uZXMpe2lmKCFhbmltYXRpb24pe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLkFuaW1hdGlvbkNsaXA6IE5vIGFuaW1hdGlvbiBpbiBKU09OTG9hZGVyIGRhdGEuJyk7cmV0dXJuIG51bGw7fXZhciBhZGROb25lbXB0eVRyYWNrPWZ1bmN0aW9uIGFkZE5vbmVtcHR5VHJhY2sodHJhY2tUeXBlLHRyYWNrTmFtZSxhbmltYXRpb25LZXlzLHByb3BlcnR5TmFtZSxkZXN0VHJhY2tzKXsvLyBvbmx5IHJldHVybiB0cmFjayBpZiB0aGVyZSBhcmUgYWN0dWFsbHkga2V5cy4KaWYoYW5pbWF0aW9uS2V5cy5sZW5ndGghPT0wKXt2YXIgdGltZXM9W107dmFyIHZhbHVlcz1bXTtBbmltYXRpb25VdGlscy5mbGF0dGVuSlNPTihhbmltYXRpb25LZXlzLHRpbWVzLHZhbHVlcyxwcm9wZXJ0eU5hbWUpOy8vIGVtcHR5IGtleXMgYXJlIGZpbHRlcmVkIG91dCwgc28gY2hlY2sgYWdhaW4KaWYodGltZXMubGVuZ3RoIT09MCl7ZGVzdFRyYWNrcy5wdXNoKG5ldyB0cmFja1R5cGUodHJhY2tOYW1lLHRpbWVzLHZhbHVlcykpO319fTt2YXIgdHJhY2tzPVtdO3ZhciBjbGlwTmFtZT1hbmltYXRpb24ubmFtZXx8J2RlZmF1bHQnOy8vIGF1dG9tYXRpYyBsZW5ndGggZGV0ZXJtaW5hdGlvbiBpbiBBbmltYXRpb25DbGlwLgp2YXIgZHVyYXRpb249YW5pbWF0aW9uLmxlbmd0aHx8LTE7dmFyIGZwcz1hbmltYXRpb24uZnBzfHwzMDt2YXIgaGllcmFyY2h5VHJhY2tzPWFuaW1hdGlvbi5oaWVyYXJjaHl8fFtdO2Zvcih2YXIgaD0wO2g8aGllcmFyY2h5VHJhY2tzLmxlbmd0aDtoKyspe3ZhciBhbmltYXRpb25LZXlzPWhpZXJhcmNoeVRyYWNrc1toXS5rZXlzOy8vIHNraXAgZW1wdHkgdHJhY2tzCmlmKCFhbmltYXRpb25LZXlzfHxhbmltYXRpb25LZXlzLmxlbmd0aD09PTApe2NvbnRpbnVlO30vLyBwcm9jZXNzIG1vcnBoIHRhcmdldHMKaWYoYW5pbWF0aW9uS2V5c1swXS5tb3JwaFRhcmdldHMpey8vIGZpZ3VyZSBvdXQgYWxsIG1vcnBoIHRhcmdldHMgdXNlZCBpbiB0aGlzIHRyYWNrCnZhciBtb3JwaFRhcmdldE5hbWVzPXt9O2Zvcih2YXIgaz0wO2s8YW5pbWF0aW9uS2V5cy5sZW5ndGg7aysrKXtpZihhbmltYXRpb25LZXlzW2tdLm1vcnBoVGFyZ2V0cyl7Zm9yKHZhciBtPTA7bTxhbmltYXRpb25LZXlzW2tdLm1vcnBoVGFyZ2V0cy5sZW5ndGg7bSsrKXttb3JwaFRhcmdldE5hbWVzW2FuaW1hdGlvbktleXNba10ubW9ycGhUYXJnZXRzW21dXT0tMTt9fX0vLyBjcmVhdGUgYSB0cmFjayBmb3IgZWFjaCBtb3JwaCB0YXJnZXQgd2l0aCBhbGwgemVybwovLyBtb3JwaFRhcmdldEluZmx1ZW5jZXMgZXhjZXB0IGZvciB0aGUga2V5cyBpbiB3aGljaAovLyB0aGUgbW9ycGhUYXJnZXQgaXMgbmFtZWQuCmZvcih2YXIgbW9ycGhUYXJnZXROYW1lIGluIG1vcnBoVGFyZ2V0TmFtZXMpe3ZhciB0aW1lcz1bXTt2YXIgdmFsdWVzPVtdO2Zvcih2YXIgbT0wO20hPT1hbmltYXRpb25LZXlzW2tdLm1vcnBoVGFyZ2V0cy5sZW5ndGg7KyttKXt2YXIgYW5pbWF0aW9uS2V5PWFuaW1hdGlvbktleXNba107dGltZXMucHVzaChhbmltYXRpb25LZXkudGltZSk7dmFsdWVzLnB1c2goYW5pbWF0aW9uS2V5Lm1vcnBoVGFyZ2V0PT09bW9ycGhUYXJnZXROYW1lPzE6MCk7fXRyYWNrcy5wdXNoKG5ldyBOdW1iZXJLZXlmcmFtZVRyYWNrKCcubW9ycGhUYXJnZXRJbmZsdWVuY2VbJyttb3JwaFRhcmdldE5hbWUrJ10nLHRpbWVzLHZhbHVlcykpO31kdXJhdGlvbj1tb3JwaFRhcmdldE5hbWVzLmxlbmd0aCooZnBzfHwxLjApO31lbHNley8vIC4uLmFzc3VtZSBza2VsZXRhbCBhbmltYXRpb24KdmFyIGJvbmVOYW1lPScuYm9uZXNbJytib25lc1toXS5uYW1lKyddJzthZGROb25lbXB0eVRyYWNrKFZlY3RvcktleWZyYW1lVHJhY2ssYm9uZU5hbWUrJy5wb3NpdGlvbicsYW5pbWF0aW9uS2V5cywncG9zJyx0cmFja3MpO2FkZE5vbmVtcHR5VHJhY2soUXVhdGVybmlvbktleWZyYW1lVHJhY2ssYm9uZU5hbWUrJy5xdWF0ZXJuaW9uJyxhbmltYXRpb25LZXlzLCdyb3QnLHRyYWNrcyk7YWRkTm9uZW1wdHlUcmFjayhWZWN0b3JLZXlmcmFtZVRyYWNrLGJvbmVOYW1lKycuc2NhbGUnLGFuaW1hdGlvbktleXMsJ3NjbCcsdHJhY2tzKTt9fWlmKHRyYWNrcy5sZW5ndGg9PT0wKXtyZXR1cm4gbnVsbDt9dmFyIGNsaXA9bmV3IEFuaW1hdGlvbkNsaXAoY2xpcE5hbWUsZHVyYXRpb24sdHJhY2tzKTtyZXR1cm4gY2xpcDt9fSk7T2JqZWN0LmFzc2lnbihBbmltYXRpb25DbGlwLnByb3RvdHlwZSx7cmVzZXREdXJhdGlvbjpmdW5jdGlvbiByZXNldER1cmF0aW9uKCl7dmFyIHRyYWNrcz10aGlzLnRyYWNrcyxkdXJhdGlvbj0wO2Zvcih2YXIgaT0wLG49dHJhY2tzLmxlbmd0aDtpIT09bjsrK2kpe3ZhciB0cmFjaz10aGlzLnRyYWNrc1tpXTtkdXJhdGlvbj1NYXRoLm1heChkdXJhdGlvbix0cmFjay50aW1lc1t0cmFjay50aW1lcy5sZW5ndGgtMV0pO310aGlzLmR1cmF0aW9uPWR1cmF0aW9uO3JldHVybiB0aGlzO30sdHJpbTpmdW5jdGlvbiB0cmltKCl7Zm9yKHZhciBpPTA7aTx0aGlzLnRyYWNrcy5sZW5ndGg7aSsrKXt0aGlzLnRyYWNrc1tpXS50cmltKDAsdGhpcy5kdXJhdGlvbik7fXJldHVybiB0aGlzO30sdmFsaWRhdGU6ZnVuY3Rpb24gdmFsaWRhdGUoKXt2YXIgdmFsaWQ9dHJ1ZTtmb3IodmFyIGk9MDtpPHRoaXMudHJhY2tzLmxlbmd0aDtpKyspe3ZhbGlkPXZhbGlkJiZ0aGlzLnRyYWNrc1tpXS52YWxpZGF0ZSgpO31yZXR1cm4gdmFsaWQ7fSxvcHRpbWl6ZTpmdW5jdGlvbiBvcHRpbWl6ZSgpe2Zvcih2YXIgaT0wO2k8dGhpcy50cmFja3MubGVuZ3RoO2krKyl7dGhpcy50cmFja3NbaV0ub3B0aW1pemUoKTt9cmV0dXJuIHRoaXM7fSxjbG9uZTpmdW5jdGlvbiBjbG9uZSgpe3ZhciB0cmFja3M9W107Zm9yKHZhciBpPTA7aTx0aGlzLnRyYWNrcy5sZW5ndGg7aSsrKXt0cmFja3MucHVzaCh0aGlzLnRyYWNrc1tpXS5jbG9uZSgpKTt9cmV0dXJuIG5ldyBBbmltYXRpb25DbGlwKHRoaXMubmFtZSx0aGlzLmR1cmF0aW9uLHRyYWNrcyk7fX0pOy8qKgogICAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb20vCiAgICovdmFyIENhY2hlPXtlbmFibGVkOmZhbHNlLGZpbGVzOnt9LGFkZDpmdW5jdGlvbiBhZGQoa2V5LGZpbGUpe2lmKHRoaXMuZW5hYmxlZD09PWZhbHNlKXtyZXR1cm47fS8vIGNvbnNvbGUubG9nKCAnVEhSRUUuQ2FjaGUnLCAnQWRkaW5nIGtleTonLCBrZXkgKTsKdGhpcy5maWxlc1trZXldPWZpbGU7fSxnZXQ6ZnVuY3Rpb24gZ2V0KGtleSl7aWYodGhpcy5lbmFibGVkPT09ZmFsc2Upe3JldHVybjt9Ly8gY29uc29sZS5sb2coICdUSFJFRS5DYWNoZScsICdDaGVja2luZyBrZXk6Jywga2V5ICk7CnJldHVybiB0aGlzLmZpbGVzW2tleV07fSxyZW1vdmU6ZnVuY3Rpb24gcmVtb3ZlKGtleSl7ZGVsZXRlIHRoaXMuZmlsZXNba2V5XTt9LGNsZWFyOmZ1bmN0aW9uIGNsZWFyKCl7dGhpcy5maWxlcz17fTt9fTsvKioKICAgKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tLwogICAqL2Z1bmN0aW9uIExvYWRpbmdNYW5hZ2VyKG9uTG9hZCxvblByb2dyZXNzLG9uRXJyb3Ipe3ZhciBzY29wZT10aGlzO3ZhciBpc0xvYWRpbmc9ZmFsc2U7dmFyIGl0ZW1zTG9hZGVkPTA7dmFyIGl0ZW1zVG90YWw9MDt2YXIgdXJsTW9kaWZpZXI9dW5kZWZpbmVkO3ZhciBoYW5kbGVycz1bXTsvLyBSZWZlciB0byAjNTY4OSBmb3IgdGhlIHJlYXNvbiB3aHkgd2UgZG9uJ3Qgc2V0IC5vblN0YXJ0Ci8vIGluIHRoZSBjb25zdHJ1Y3Rvcgp0aGlzLm9uU3RhcnQ9dW5kZWZpbmVkO3RoaXMub25Mb2FkPW9uTG9hZDt0aGlzLm9uUHJvZ3Jlc3M9b25Qcm9ncmVzczt0aGlzLm9uRXJyb3I9b25FcnJvcjt0aGlzLml0ZW1TdGFydD1mdW5jdGlvbih1cmwpe2l0ZW1zVG90YWwrKztpZihpc0xvYWRpbmc9PT1mYWxzZSl7aWYoc2NvcGUub25TdGFydCE9PXVuZGVmaW5lZCl7c2NvcGUub25TdGFydCh1cmwsaXRlbXNMb2FkZWQsaXRlbXNUb3RhbCk7fX1pc0xvYWRpbmc9dHJ1ZTt9O3RoaXMuaXRlbUVuZD1mdW5jdGlvbih1cmwpe2l0ZW1zTG9hZGVkKys7aWYoc2NvcGUub25Qcm9ncmVzcyE9PXVuZGVmaW5lZCl7c2NvcGUub25Qcm9ncmVzcyh1cmwsaXRlbXNMb2FkZWQsaXRlbXNUb3RhbCk7fWlmKGl0ZW1zTG9hZGVkPT09aXRlbXNUb3RhbCl7aXNMb2FkaW5nPWZhbHNlO2lmKHNjb3BlLm9uTG9hZCE9PXVuZGVmaW5lZCl7c2NvcGUub25Mb2FkKCk7fX19O3RoaXMuaXRlbUVycm9yPWZ1bmN0aW9uKHVybCl7aWYoc2NvcGUub25FcnJvciE9PXVuZGVmaW5lZCl7c2NvcGUub25FcnJvcih1cmwpO319O3RoaXMucmVzb2x2ZVVSTD1mdW5jdGlvbih1cmwpe2lmKHVybE1vZGlmaWVyKXtyZXR1cm4gdXJsTW9kaWZpZXIodXJsKTt9cmV0dXJuIHVybDt9O3RoaXMuc2V0VVJMTW9kaWZpZXI9ZnVuY3Rpb24odHJhbnNmb3JtKXt1cmxNb2RpZmllcj10cmFuc2Zvcm07cmV0dXJuIHRoaXM7fTt0aGlzLmFkZEhhbmRsZXI9ZnVuY3Rpb24ocmVnZXgsbG9hZGVyKXtoYW5kbGVycy5wdXNoKHJlZ2V4LGxvYWRlcik7cmV0dXJuIHRoaXM7fTt0aGlzLnJlbW92ZUhhbmRsZXI9ZnVuY3Rpb24ocmVnZXgpe3ZhciBpbmRleD1oYW5kbGVycy5pbmRleE9mKHJlZ2V4KTtpZihpbmRleCE9PS0xKXtoYW5kbGVycy5zcGxpY2UoaW5kZXgsMik7fXJldHVybiB0aGlzO307dGhpcy5nZXRIYW5kbGVyPWZ1bmN0aW9uKGZpbGUpe2Zvcih2YXIgaT0wLGw9aGFuZGxlcnMubGVuZ3RoO2k8bDtpKz0yKXt2YXIgcmVnZXg9aGFuZGxlcnNbaV07dmFyIGxvYWRlcj1oYW5kbGVyc1tpKzFdO2lmKHJlZ2V4Lmdsb2JhbCl7cmVnZXgubGFzdEluZGV4PTA7fS8vIHNlZSAjMTc5MjAKaWYocmVnZXgudGVzdChmaWxlKSl7cmV0dXJuIGxvYWRlcjt9fXJldHVybiBudWxsO307fXZhciBEZWZhdWx0TG9hZGluZ01hbmFnZXI9bmV3IExvYWRpbmdNYW5hZ2VyKCk7LyoqCiAgICogQGF1dGhvciBhbHRlcmVkcSAvIGh0dHA6Ly9hbHRlcmVkcXVhbGlhLmNvbS8KICAgKi9mdW5jdGlvbiBMb2FkZXIobWFuYWdlcil7dGhpcy5tYW5hZ2VyPW1hbmFnZXIhPT11bmRlZmluZWQ/bWFuYWdlcjpEZWZhdWx0TG9hZGluZ01hbmFnZXI7dGhpcy5jcm9zc09yaWdpbj0nYW5vbnltb3VzJzt0aGlzLnBhdGg9Jyc7dGhpcy5yZXNvdXJjZVBhdGg9Jyc7fU9iamVjdC5hc3NpZ24oTG9hZGVyLnByb3RvdHlwZSx7bG9hZDpmdW5jdGlvbi8qIHVybCwgb25Mb2FkLCBvblByb2dyZXNzLCBvbkVycm9yICovbG9hZCgpe30scGFyc2U6ZnVuY3Rpb24vKiBkYXRhICovcGFyc2UoKXt9LHNldENyb3NzT3JpZ2luOmZ1bmN0aW9uIHNldENyb3NzT3JpZ2luKGNyb3NzT3JpZ2luKXt0aGlzLmNyb3NzT3JpZ2luPWNyb3NzT3JpZ2luO3JldHVybiB0aGlzO30sc2V0UGF0aDpmdW5jdGlvbiBzZXRQYXRoKHBhdGgpe3RoaXMucGF0aD1wYXRoO3JldHVybiB0aGlzO30sc2V0UmVzb3VyY2VQYXRoOmZ1bmN0aW9uIHNldFJlc291cmNlUGF0aChyZXNvdXJjZVBhdGgpe3RoaXMucmVzb3VyY2VQYXRoPXJlc291cmNlUGF0aDtyZXR1cm4gdGhpczt9fSk7LyoqCiAgICogQGF1dGhvciBtcmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS8KICAgKi92YXIgbG9hZGluZz17fTtmdW5jdGlvbiBGaWxlTG9hZGVyKG1hbmFnZXIpe0xvYWRlci5jYWxsKHRoaXMsbWFuYWdlcik7fUZpbGVMb2FkZXIucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShMb2FkZXIucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6RmlsZUxvYWRlcixsb2FkOmZ1bmN0aW9uIGxvYWQodXJsLG9uTG9hZCxvblByb2dyZXNzLG9uRXJyb3Ipe2lmKHVybD09PXVuZGVmaW5lZCl7dXJsPScnO31pZih0aGlzLnBhdGghPT11bmRlZmluZWQpe3VybD10aGlzLnBhdGgrdXJsO311cmw9dGhpcy5tYW5hZ2VyLnJlc29sdmVVUkwodXJsKTt2YXIgc2NvcGU9dGhpczt2YXIgY2FjaGVkPUNhY2hlLmdldCh1cmwpO2lmKGNhY2hlZCE9PXVuZGVmaW5lZCl7c2NvcGUubWFuYWdlci5pdGVtU3RhcnQodXJsKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aWYob25Mb2FkKXtvbkxvYWQoY2FjaGVkKTt9c2NvcGUubWFuYWdlci5pdGVtRW5kKHVybCk7fSwwKTtyZXR1cm4gY2FjaGVkO30vLyBDaGVjayBpZiByZXF1ZXN0IGlzIGR1cGxpY2F0ZQppZihsb2FkaW5nW3VybF0hPT11bmRlZmluZWQpe2xvYWRpbmdbdXJsXS5wdXNoKHtvbkxvYWQ6b25Mb2FkLG9uUHJvZ3Jlc3M6b25Qcm9ncmVzcyxvbkVycm9yOm9uRXJyb3J9KTtyZXR1cm47fS8vIENoZWNrIGZvciBkYXRhOiBVUkkKdmFyIGRhdGFVcmlSZWdleD0vXmRhdGE6KC4qPykoO2Jhc2U2NCk/LCguKikkLzt2YXIgZGF0YVVyaVJlZ2V4UmVzdWx0PXVybC5tYXRjaChkYXRhVXJpUmVnZXgpOy8vIFNhZmFyaSBjYW4gbm90IGhhbmRsZSBEYXRhIFVSSXMgdGhyb3VnaCBYTUxIdHRwUmVxdWVzdCBzbyBwcm9jZXNzIG1hbnVhbGx5CmlmKGRhdGFVcmlSZWdleFJlc3VsdCl7dmFyIG1pbWVUeXBlPWRhdGFVcmlSZWdleFJlc3VsdFsxXTt2YXIgaXNCYXNlNjQ9ISFkYXRhVXJpUmVnZXhSZXN1bHRbMl07dmFyIGRhdGE9ZGF0YVVyaVJlZ2V4UmVzdWx0WzNdO2RhdGE9ZGVjb2RlVVJJQ29tcG9uZW50KGRhdGEpO2lmKGlzQmFzZTY0KXtkYXRhPWF0b2IoZGF0YSk7fXRyeXt2YXIgcmVzcG9uc2U7dmFyIHJlc3BvbnNlVHlwZT0odGhpcy5yZXNwb25zZVR5cGV8fCcnKS50b0xvd2VyQ2FzZSgpO3N3aXRjaChyZXNwb25zZVR5cGUpe2Nhc2UnYXJyYXlidWZmZXInOmNhc2UnYmxvYic6dmFyIHZpZXc9bmV3IFVpbnQ4QXJyYXkoZGF0YS5sZW5ndGgpO2Zvcih2YXIgaT0wO2k8ZGF0YS5sZW5ndGg7aSsrKXt2aWV3W2ldPWRhdGEuY2hhckNvZGVBdChpKTt9aWYocmVzcG9uc2VUeXBlPT09J2Jsb2InKXtyZXNwb25zZT1uZXcgQmxvYihbdmlldy5idWZmZXJdLHt0eXBlOm1pbWVUeXBlfSk7fWVsc2V7cmVzcG9uc2U9dmlldy5idWZmZXI7fWJyZWFrO2Nhc2UnZG9jdW1lbnQnOnZhciBwYXJzZXI9bmV3IERPTVBhcnNlcigpO3Jlc3BvbnNlPXBhcnNlci5wYXJzZUZyb21TdHJpbmcoZGF0YSxtaW1lVHlwZSk7YnJlYWs7Y2FzZSdqc29uJzpyZXNwb25zZT1KU09OLnBhcnNlKGRhdGEpO2JyZWFrO2RlZmF1bHQ6Ly8gJ3RleHQnIG9yIG90aGVyCnJlc3BvbnNlPWRhdGE7YnJlYWs7fS8vIFdhaXQgZm9yIG5leHQgYnJvd3NlciB0aWNrIGxpa2Ugc3RhbmRhcmQgWE1MSHR0cFJlcXVlc3QgZXZlbnQgZGlzcGF0Y2hpbmcgZG9lcwpzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aWYob25Mb2FkKXtvbkxvYWQocmVzcG9uc2UpO31zY29wZS5tYW5hZ2VyLml0ZW1FbmQodXJsKTt9LDApO31jYXRjaChlcnJvcil7Ly8gV2FpdCBmb3IgbmV4dCBicm93c2VyIHRpY2sgbGlrZSBzdGFuZGFyZCBYTUxIdHRwUmVxdWVzdCBldmVudCBkaXNwYXRjaGluZyBkb2VzCnNldFRpbWVvdXQoZnVuY3Rpb24oKXtpZihvbkVycm9yKXtvbkVycm9yKGVycm9yKTt9c2NvcGUubWFuYWdlci5pdGVtRXJyb3IodXJsKTtzY29wZS5tYW5hZ2VyLml0ZW1FbmQodXJsKTt9LDApO319ZWxzZXsvLyBJbml0aWFsaXNlIGFycmF5IGZvciBkdXBsaWNhdGUgcmVxdWVzdHMKbG9hZGluZ1t1cmxdPVtdO2xvYWRpbmdbdXJsXS5wdXNoKHtvbkxvYWQ6b25Mb2FkLG9uUHJvZ3Jlc3M6b25Qcm9ncmVzcyxvbkVycm9yOm9uRXJyb3J9KTt2YXIgcmVxdWVzdD1uZXcgWE1MSHR0cFJlcXVlc3QoKTtyZXF1ZXN0Lm9wZW4oJ0dFVCcsdXJsLHRydWUpO3JlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsZnVuY3Rpb24oZXZlbnQpe3ZhciByZXNwb25zZT10aGlzLnJlc3BvbnNlO3ZhciBjYWxsYmFja3M9bG9hZGluZ1t1cmxdO2RlbGV0ZSBsb2FkaW5nW3VybF07aWYodGhpcy5zdGF0dXM9PT0yMDB8fHRoaXMuc3RhdHVzPT09MCl7Ly8gU29tZSBicm93c2VycyByZXR1cm4gSFRUUCBTdGF0dXMgMCB3aGVuIHVzaW5nIG5vbi1odHRwIHByb3RvY29sCi8vIGUuZy4gJ2ZpbGU6Ly8nIG9yICdkYXRhOi8vJy4gSGFuZGxlIGFzIHN1Y2Nlc3MuCmlmKHRoaXMuc3RhdHVzPT09MCl7Y29uc29sZS53YXJuKCdUSFJFRS5GaWxlTG9hZGVyOiBIVFRQIFN0YXR1cyAwIHJlY2VpdmVkLicpO30vLyBBZGQgdG8gY2FjaGUgb25seSBvbiBIVFRQIHN1Y2Nlc3MsIHNvIHRoYXQgd2UgZG8gbm90IGNhY2hlCi8vIGVycm9yIHJlc3BvbnNlIGJvZGllcyBhcyBwcm9wZXIgcmVzcG9uc2VzIHRvIHJlcXVlc3RzLgpDYWNoZS5hZGQodXJsLHJlc3BvbnNlKTtmb3IodmFyIGk9MCxpbD1jYWxsYmFja3MubGVuZ3RoO2k8aWw7aSsrKXt2YXIgY2FsbGJhY2s9Y2FsbGJhY2tzW2ldO2lmKGNhbGxiYWNrLm9uTG9hZCl7Y2FsbGJhY2sub25Mb2FkKHJlc3BvbnNlKTt9fXNjb3BlLm1hbmFnZXIuaXRlbUVuZCh1cmwpO31lbHNle2Zvcih2YXIgaT0wLGlsPWNhbGxiYWNrcy5sZW5ndGg7aTxpbDtpKyspe3ZhciBjYWxsYmFjaz1jYWxsYmFja3NbaV07aWYoY2FsbGJhY2sub25FcnJvcil7Y2FsbGJhY2sub25FcnJvcihldmVudCk7fX1zY29wZS5tYW5hZ2VyLml0ZW1FcnJvcih1cmwpO3Njb3BlLm1hbmFnZXIuaXRlbUVuZCh1cmwpO319LGZhbHNlKTtyZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJyxmdW5jdGlvbihldmVudCl7dmFyIGNhbGxiYWNrcz1sb2FkaW5nW3VybF07Zm9yKHZhciBpPTAsaWw9Y2FsbGJhY2tzLmxlbmd0aDtpPGlsO2krKyl7dmFyIGNhbGxiYWNrPWNhbGxiYWNrc1tpXTtpZihjYWxsYmFjay5vblByb2dyZXNzKXtjYWxsYmFjay5vblByb2dyZXNzKGV2ZW50KTt9fX0sZmFsc2UpO3JlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLGZ1bmN0aW9uKGV2ZW50KXt2YXIgY2FsbGJhY2tzPWxvYWRpbmdbdXJsXTtkZWxldGUgbG9hZGluZ1t1cmxdO2Zvcih2YXIgaT0wLGlsPWNhbGxiYWNrcy5sZW5ndGg7aTxpbDtpKyspe3ZhciBjYWxsYmFjaz1jYWxsYmFja3NbaV07aWYoY2FsbGJhY2sub25FcnJvcil7Y2FsbGJhY2sub25FcnJvcihldmVudCk7fX1zY29wZS5tYW5hZ2VyLml0ZW1FcnJvcih1cmwpO3Njb3BlLm1hbmFnZXIuaXRlbUVuZCh1cmwpO30sZmFsc2UpO3JlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLGZ1bmN0aW9uKGV2ZW50KXt2YXIgY2FsbGJhY2tzPWxvYWRpbmdbdXJsXTtkZWxldGUgbG9hZGluZ1t1cmxdO2Zvcih2YXIgaT0wLGlsPWNhbGxiYWNrcy5sZW5ndGg7aTxpbDtpKyspe3ZhciBjYWxsYmFjaz1jYWxsYmFja3NbaV07aWYoY2FsbGJhY2sub25FcnJvcil7Y2FsbGJhY2sub25FcnJvcihldmVudCk7fX1zY29wZS5tYW5hZ2VyLml0ZW1FcnJvcih1cmwpO3Njb3BlLm1hbmFnZXIuaXRlbUVuZCh1cmwpO30sZmFsc2UpO2lmKHRoaXMucmVzcG9uc2VUeXBlIT09dW5kZWZpbmVkKXtyZXF1ZXN0LnJlc3BvbnNlVHlwZT10aGlzLnJlc3BvbnNlVHlwZTt9aWYodGhpcy53aXRoQ3JlZGVudGlhbHMhPT11bmRlZmluZWQpe3JlcXVlc3Qud2l0aENyZWRlbnRpYWxzPXRoaXMud2l0aENyZWRlbnRpYWxzO31pZihyZXF1ZXN0Lm92ZXJyaWRlTWltZVR5cGUpe3JlcXVlc3Qub3ZlcnJpZGVNaW1lVHlwZSh0aGlzLm1pbWVUeXBlIT09dW5kZWZpbmVkP3RoaXMubWltZVR5cGU6J3RleHQvcGxhaW4nKTt9Zm9yKHZhciBoZWFkZXIgaW4gdGhpcy5yZXF1ZXN0SGVhZGVyKXtyZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoaGVhZGVyLHRoaXMucmVxdWVzdEhlYWRlcltoZWFkZXJdKTt9cmVxdWVzdC5zZW5kKG51bGwpO31zY29wZS5tYW5hZ2VyLml0ZW1TdGFydCh1cmwpO3JldHVybiByZXF1ZXN0O30sc2V0UmVzcG9uc2VUeXBlOmZ1bmN0aW9uIHNldFJlc3BvbnNlVHlwZSh2YWx1ZSl7dGhpcy5yZXNwb25zZVR5cGU9dmFsdWU7cmV0dXJuIHRoaXM7fSxzZXRXaXRoQ3JlZGVudGlhbHM6ZnVuY3Rpb24gc2V0V2l0aENyZWRlbnRpYWxzKHZhbHVlKXt0aGlzLndpdGhDcmVkZW50aWFscz12YWx1ZTtyZXR1cm4gdGhpczt9LHNldE1pbWVUeXBlOmZ1bmN0aW9uIHNldE1pbWVUeXBlKHZhbHVlKXt0aGlzLm1pbWVUeXBlPXZhbHVlO3JldHVybiB0aGlzO30sc2V0UmVxdWVzdEhlYWRlcjpmdW5jdGlvbiBzZXRSZXF1ZXN0SGVhZGVyKHZhbHVlKXt0aGlzLnJlcXVlc3RIZWFkZXI9dmFsdWU7cmV0dXJuIHRoaXM7fX0pOy8qKgogICAqIEBhdXRob3IgYmhvdXN0b24gLyBodHRwOi8vY2xhcmEuaW8vCiAgICovZnVuY3Rpb24gQW5pbWF0aW9uTG9hZGVyKG1hbmFnZXIpe0xvYWRlci5jYWxsKHRoaXMsbWFuYWdlcik7fUFuaW1hdGlvbkxvYWRlci5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKExvYWRlci5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpBbmltYXRpb25Mb2FkZXIsbG9hZDpmdW5jdGlvbiBsb2FkKHVybCxvbkxvYWQsb25Qcm9ncmVzcyxvbkVycm9yKXt2YXIgc2NvcGU9dGhpczt2YXIgbG9hZGVyPW5ldyBGaWxlTG9hZGVyKHNjb3BlLm1hbmFnZXIpO2xvYWRlci5zZXRQYXRoKHNjb3BlLnBhdGgpO2xvYWRlci5sb2FkKHVybCxmdW5jdGlvbih0ZXh0KXtvbkxvYWQoc2NvcGUucGFyc2UoSlNPTi5wYXJzZSh0ZXh0KSkpO30sb25Qcm9ncmVzcyxvbkVycm9yKTt9LHBhcnNlOmZ1bmN0aW9uIHBhcnNlKGpzb24pe3ZhciBhbmltYXRpb25zPVtdO2Zvcih2YXIgaT0wO2k8anNvbi5sZW5ndGg7aSsrKXt2YXIgY2xpcD1BbmltYXRpb25DbGlwLnBhcnNlKGpzb25baV0pO2FuaW1hdGlvbnMucHVzaChjbGlwKTt9cmV0dXJuIGFuaW1hdGlvbnM7fX0pOy8qKgogICAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb20vCiAgICoKICAgKiBBYnN0cmFjdCBCYXNlIGNsYXNzIHRvIGJsb2NrIGJhc2VkIHRleHR1cmVzIGxvYWRlciAoZGRzLCBwdnIsIC4uLikKICAgKgogICAqIFN1YiBjbGFzc2VzIGhhdmUgdG8gaW1wbGVtZW50IHRoZSBwYXJzZSgpIG1ldGhvZCB3aGljaCB3aWxsIGJlIHVzZWQgaW4gbG9hZCgpLgogICAqL2Z1bmN0aW9uIENvbXByZXNzZWRUZXh0dXJlTG9hZGVyKG1hbmFnZXIpe0xvYWRlci5jYWxsKHRoaXMsbWFuYWdlcik7fUNvbXByZXNzZWRUZXh0dXJlTG9hZGVyLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoTG9hZGVyLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOkNvbXByZXNzZWRUZXh0dXJlTG9hZGVyLGxvYWQ6ZnVuY3Rpb24gbG9hZCh1cmwsb25Mb2FkLG9uUHJvZ3Jlc3Msb25FcnJvcil7dmFyIHNjb3BlPXRoaXM7dmFyIGltYWdlcz1bXTt2YXIgdGV4dHVyZT1uZXcgQ29tcHJlc3NlZFRleHR1cmUoKTt0ZXh0dXJlLmltYWdlPWltYWdlczt2YXIgbG9hZGVyPW5ldyBGaWxlTG9hZGVyKHRoaXMubWFuYWdlcik7bG9hZGVyLnNldFBhdGgodGhpcy5wYXRoKTtsb2FkZXIuc2V0UmVzcG9uc2VUeXBlKCdhcnJheWJ1ZmZlcicpO2Z1bmN0aW9uIGxvYWRUZXh0dXJlKGkpe2xvYWRlci5sb2FkKHVybFtpXSxmdW5jdGlvbihidWZmZXIpe3ZhciB0ZXhEYXRhcz1zY29wZS5wYXJzZShidWZmZXIsdHJ1ZSk7aW1hZ2VzW2ldPXt3aWR0aDp0ZXhEYXRhcy53aWR0aCxoZWlnaHQ6dGV4RGF0YXMuaGVpZ2h0LGZvcm1hdDp0ZXhEYXRhcy5mb3JtYXQsbWlwbWFwczp0ZXhEYXRhcy5taXBtYXBzfTtsb2FkZWQrPTE7aWYobG9hZGVkPT09Nil7aWYodGV4RGF0YXMubWlwbWFwQ291bnQ9PT0xKXt0ZXh0dXJlLm1pbkZpbHRlcj1MaW5lYXJGaWx0ZXI7fXRleHR1cmUuZm9ybWF0PXRleERhdGFzLmZvcm1hdDt0ZXh0dXJlLm5lZWRzVXBkYXRlPXRydWU7aWYob25Mb2FkKXtvbkxvYWQodGV4dHVyZSk7fX19LG9uUHJvZ3Jlc3Msb25FcnJvcik7fWlmKEFycmF5LmlzQXJyYXkodXJsKSl7dmFyIGxvYWRlZD0wO2Zvcih2YXIgaT0wLGlsPXVybC5sZW5ndGg7aTxpbDsrK2kpe2xvYWRUZXh0dXJlKGkpO319ZWxzZXsvLyBjb21wcmVzc2VkIGN1YmVtYXAgdGV4dHVyZSBzdG9yZWQgaW4gYSBzaW5nbGUgRERTIGZpbGUKbG9hZGVyLmxvYWQodXJsLGZ1bmN0aW9uKGJ1ZmZlcil7dmFyIHRleERhdGFzPXNjb3BlLnBhcnNlKGJ1ZmZlcix0cnVlKTtpZih0ZXhEYXRhcy5pc0N1YmVtYXApe3ZhciBmYWNlcz10ZXhEYXRhcy5taXBtYXBzLmxlbmd0aC90ZXhEYXRhcy5taXBtYXBDb3VudDtmb3IodmFyIGY9MDtmPGZhY2VzO2YrKyl7aW1hZ2VzW2ZdPXttaXBtYXBzOltdfTtmb3IodmFyIGk9MDtpPHRleERhdGFzLm1pcG1hcENvdW50O2krKyl7aW1hZ2VzW2ZdLm1pcG1hcHMucHVzaCh0ZXhEYXRhcy5taXBtYXBzW2YqdGV4RGF0YXMubWlwbWFwQ291bnQraV0pO2ltYWdlc1tmXS5mb3JtYXQ9dGV4RGF0YXMuZm9ybWF0O2ltYWdlc1tmXS53aWR0aD10ZXhEYXRhcy53aWR0aDtpbWFnZXNbZl0uaGVpZ2h0PXRleERhdGFzLmhlaWdodDt9fX1lbHNle3RleHR1cmUuaW1hZ2Uud2lkdGg9dGV4RGF0YXMud2lkdGg7dGV4dHVyZS5pbWFnZS5oZWlnaHQ9dGV4RGF0YXMuaGVpZ2h0O3RleHR1cmUubWlwbWFwcz10ZXhEYXRhcy5taXBtYXBzO31pZih0ZXhEYXRhcy5taXBtYXBDb3VudD09PTEpe3RleHR1cmUubWluRmlsdGVyPUxpbmVhckZpbHRlcjt9dGV4dHVyZS5mb3JtYXQ9dGV4RGF0YXMuZm9ybWF0O3RleHR1cmUubmVlZHNVcGRhdGU9dHJ1ZTtpZihvbkxvYWQpe29uTG9hZCh0ZXh0dXJlKTt9fSxvblByb2dyZXNzLG9uRXJyb3IpO31yZXR1cm4gdGV4dHVyZTt9fSk7LyoqCiAgICogQGF1dGhvciBOaWtvcyBNLiAvIGh0dHBzOi8vZ2l0aHViLmNvbS9mb28xMjMvCiAgICoKICAgKiBBYnN0cmFjdCBCYXNlIGNsYXNzIHRvIGxvYWQgZ2VuZXJpYyBiaW5hcnkgdGV4dHVyZXMgZm9ybWF0cyAocmdiZSwgaGRyLCAuLi4pCiAgICoKICAgKiBTdWIgY2xhc3NlcyBoYXZlIHRvIGltcGxlbWVudCB0aGUgcGFyc2UoKSBtZXRob2Qgd2hpY2ggd2lsbCBiZSB1c2VkIGluIGxvYWQoKS4KICAgKi9mdW5jdGlvbiBEYXRhVGV4dHVyZUxvYWRlcihtYW5hZ2VyKXtMb2FkZXIuY2FsbCh0aGlzLG1hbmFnZXIpO31EYXRhVGV4dHVyZUxvYWRlci5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKExvYWRlci5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpEYXRhVGV4dHVyZUxvYWRlcixsb2FkOmZ1bmN0aW9uIGxvYWQodXJsLG9uTG9hZCxvblByb2dyZXNzLG9uRXJyb3Ipe3ZhciBzY29wZT10aGlzO3ZhciB0ZXh0dXJlPW5ldyBEYXRhVGV4dHVyZSgpO3ZhciBsb2FkZXI9bmV3IEZpbGVMb2FkZXIodGhpcy5tYW5hZ2VyKTtsb2FkZXIuc2V0UmVzcG9uc2VUeXBlKCdhcnJheWJ1ZmZlcicpO2xvYWRlci5zZXRQYXRoKHRoaXMucGF0aCk7bG9hZGVyLmxvYWQodXJsLGZ1bmN0aW9uKGJ1ZmZlcil7dmFyIHRleERhdGE9c2NvcGUucGFyc2UoYnVmZmVyKTtpZighdGV4RGF0YSl7cmV0dXJuO31pZih0ZXhEYXRhLmltYWdlIT09dW5kZWZpbmVkKXt0ZXh0dXJlLmltYWdlPXRleERhdGEuaW1hZ2U7fWVsc2UgaWYodGV4RGF0YS5kYXRhIT09dW5kZWZpbmVkKXt0ZXh0dXJlLmltYWdlLndpZHRoPXRleERhdGEud2lkdGg7dGV4dHVyZS5pbWFnZS5oZWlnaHQ9dGV4RGF0YS5oZWlnaHQ7dGV4dHVyZS5pbWFnZS5kYXRhPXRleERhdGEuZGF0YTt9dGV4dHVyZS53cmFwUz10ZXhEYXRhLndyYXBTIT09dW5kZWZpbmVkP3RleERhdGEud3JhcFM6Q2xhbXBUb0VkZ2VXcmFwcGluZzt0ZXh0dXJlLndyYXBUPXRleERhdGEud3JhcFQhPT11bmRlZmluZWQ/dGV4RGF0YS53cmFwVDpDbGFtcFRvRWRnZVdyYXBwaW5nO3RleHR1cmUubWFnRmlsdGVyPXRleERhdGEubWFnRmlsdGVyIT09dW5kZWZpbmVkP3RleERhdGEubWFnRmlsdGVyOkxpbmVhckZpbHRlcjt0ZXh0dXJlLm1pbkZpbHRlcj10ZXhEYXRhLm1pbkZpbHRlciE9PXVuZGVmaW5lZD90ZXhEYXRhLm1pbkZpbHRlcjpMaW5lYXJGaWx0ZXI7dGV4dHVyZS5hbmlzb3Ryb3B5PXRleERhdGEuYW5pc290cm9weSE9PXVuZGVmaW5lZD90ZXhEYXRhLmFuaXNvdHJvcHk6MTtpZih0ZXhEYXRhLmZvcm1hdCE9PXVuZGVmaW5lZCl7dGV4dHVyZS5mb3JtYXQ9dGV4RGF0YS5mb3JtYXQ7fWlmKHRleERhdGEudHlwZSE9PXVuZGVmaW5lZCl7dGV4dHVyZS50eXBlPXRleERhdGEudHlwZTt9aWYodGV4RGF0YS5taXBtYXBzIT09dW5kZWZpbmVkKXt0ZXh0dXJlLm1pcG1hcHM9dGV4RGF0YS5taXBtYXBzO3RleHR1cmUubWluRmlsdGVyPUxpbmVhck1pcG1hcExpbmVhckZpbHRlcjsvLyBwcmVzdW1hYmx5Li4uCn1pZih0ZXhEYXRhLm1pcG1hcENvdW50PT09MSl7dGV4dHVyZS5taW5GaWx0ZXI9TGluZWFyRmlsdGVyO310ZXh0dXJlLm5lZWRzVXBkYXRlPXRydWU7aWYob25Mb2FkKXtvbkxvYWQodGV4dHVyZSx0ZXhEYXRhKTt9fSxvblByb2dyZXNzLG9uRXJyb3IpO3JldHVybiB0ZXh0dXJlO319KTsvKioKICAgKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tLwogICAqL2Z1bmN0aW9uIEltYWdlTG9hZGVyKG1hbmFnZXIpe0xvYWRlci5jYWxsKHRoaXMsbWFuYWdlcik7fUltYWdlTG9hZGVyLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoTG9hZGVyLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOkltYWdlTG9hZGVyLGxvYWQ6ZnVuY3Rpb24gbG9hZCh1cmwsb25Mb2FkLG9uUHJvZ3Jlc3Msb25FcnJvcil7aWYodGhpcy5wYXRoIT09dW5kZWZpbmVkKXt1cmw9dGhpcy5wYXRoK3VybDt9dXJsPXRoaXMubWFuYWdlci5yZXNvbHZlVVJMKHVybCk7dmFyIHNjb3BlPXRoaXM7dmFyIGNhY2hlZD1DYWNoZS5nZXQodXJsKTtpZihjYWNoZWQhPT11bmRlZmluZWQpe3Njb3BlLm1hbmFnZXIuaXRlbVN0YXJ0KHVybCk7c2V0VGltZW91dChmdW5jdGlvbigpe2lmKG9uTG9hZCl7b25Mb2FkKGNhY2hlZCk7fXNjb3BlLm1hbmFnZXIuaXRlbUVuZCh1cmwpO30sMCk7cmV0dXJuIGNhY2hlZDt9dmFyIGltYWdlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCcsJ2ltZycpO2Z1bmN0aW9uIG9uSW1hZ2VMb2FkKCl7aW1hZ2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZCcsb25JbWFnZUxvYWQsZmFsc2UpO2ltYWdlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJyxvbkltYWdlRXJyb3IsZmFsc2UpO0NhY2hlLmFkZCh1cmwsdGhpcyk7aWYob25Mb2FkKXtvbkxvYWQodGhpcyk7fXNjb3BlLm1hbmFnZXIuaXRlbUVuZCh1cmwpO31mdW5jdGlvbiBvbkltYWdlRXJyb3IoZXZlbnQpe2ltYWdlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLG9uSW1hZ2VMb2FkLGZhbHNlKTtpbWFnZS5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsb25JbWFnZUVycm9yLGZhbHNlKTtpZihvbkVycm9yKXtvbkVycm9yKGV2ZW50KTt9c2NvcGUubWFuYWdlci5pdGVtRXJyb3IodXJsKTtzY29wZS5tYW5hZ2VyLml0ZW1FbmQodXJsKTt9aW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsb25JbWFnZUxvYWQsZmFsc2UpO2ltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJyxvbkltYWdlRXJyb3IsZmFsc2UpO2lmKHVybC5zdWJzdHIoMCw1KSE9PSdkYXRhOicpe2lmKHRoaXMuY3Jvc3NPcmlnaW4hPT11bmRlZmluZWQpe2ltYWdlLmNyb3NzT3JpZ2luPXRoaXMuY3Jvc3NPcmlnaW47fX1zY29wZS5tYW5hZ2VyLml0ZW1TdGFydCh1cmwpO2ltYWdlLnNyYz11cmw7cmV0dXJuIGltYWdlO319KTsvKioKICAgKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tLwogICAqL2Z1bmN0aW9uIEN1YmVUZXh0dXJlTG9hZGVyKG1hbmFnZXIpe0xvYWRlci5jYWxsKHRoaXMsbWFuYWdlcik7fUN1YmVUZXh0dXJlTG9hZGVyLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoTG9hZGVyLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOkN1YmVUZXh0dXJlTG9hZGVyLGxvYWQ6ZnVuY3Rpb24gbG9hZCh1cmxzLG9uTG9hZCxvblByb2dyZXNzLG9uRXJyb3Ipe3ZhciB0ZXh0dXJlPW5ldyBDdWJlVGV4dHVyZSgpO3ZhciBsb2FkZXI9bmV3IEltYWdlTG9hZGVyKHRoaXMubWFuYWdlcik7bG9hZGVyLnNldENyb3NzT3JpZ2luKHRoaXMuY3Jvc3NPcmlnaW4pO2xvYWRlci5zZXRQYXRoKHRoaXMucGF0aCk7dmFyIGxvYWRlZD0wO2Z1bmN0aW9uIGxvYWRUZXh0dXJlKGkpe2xvYWRlci5sb2FkKHVybHNbaV0sZnVuY3Rpb24oaW1hZ2Upe3RleHR1cmUuaW1hZ2VzW2ldPWltYWdlO2xvYWRlZCsrO2lmKGxvYWRlZD09PTYpe3RleHR1cmUubmVlZHNVcGRhdGU9dHJ1ZTtpZihvbkxvYWQpe29uTG9hZCh0ZXh0dXJlKTt9fX0sdW5kZWZpbmVkLG9uRXJyb3IpO31mb3IodmFyIGk9MDtpPHVybHMubGVuZ3RoOysraSl7bG9hZFRleHR1cmUoaSk7fXJldHVybiB0ZXh0dXJlO319KTsvKioKICAgKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tLwogICAqL2Z1bmN0aW9uIFRleHR1cmVMb2FkZXIobWFuYWdlcil7TG9hZGVyLmNhbGwodGhpcyxtYW5hZ2VyKTt9VGV4dHVyZUxvYWRlci5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKExvYWRlci5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpUZXh0dXJlTG9hZGVyLGxvYWQ6ZnVuY3Rpb24gbG9hZCh1cmwsb25Mb2FkLG9uUHJvZ3Jlc3Msb25FcnJvcil7dmFyIHRleHR1cmU9bmV3IFRleHR1cmUoKTt2YXIgbG9hZGVyPW5ldyBJbWFnZUxvYWRlcih0aGlzLm1hbmFnZXIpO2xvYWRlci5zZXRDcm9zc09yaWdpbih0aGlzLmNyb3NzT3JpZ2luKTtsb2FkZXIuc2V0UGF0aCh0aGlzLnBhdGgpO2xvYWRlci5sb2FkKHVybCxmdW5jdGlvbihpbWFnZSl7dGV4dHVyZS5pbWFnZT1pbWFnZTsvLyBKUEVHcyBjYW4ndCBoYXZlIGFuIGFscGhhIGNoYW5uZWwsIHNvIG1lbW9yeSBjYW4gYmUgc2F2ZWQgYnkgc3RvcmluZyB0aGVtIGFzIFJHQi4KdmFyIGlzSlBFRz11cmwuc2VhcmNoKC9cLmpwZT9nKCR8XD8pL2kpPjB8fHVybC5zZWFyY2goL15kYXRhXDppbWFnZVwvanBlZy8pPT09MDt0ZXh0dXJlLmZvcm1hdD1pc0pQRUc/UkdCRm9ybWF0OlJHQkFGb3JtYXQ7dGV4dHVyZS5uZWVkc1VwZGF0ZT10cnVlO2lmKG9uTG9hZCE9PXVuZGVmaW5lZCl7b25Mb2FkKHRleHR1cmUpO319LG9uUHJvZ3Jlc3Msb25FcnJvcik7cmV0dXJuIHRleHR1cmU7fX0pOy8qKgogICAqIEBhdXRob3Igeno4NSAvIGh0dHA6Ly93d3cubGFiNGdhbWVzLm5ldC96ejg1L2Jsb2cKICAgKiBFeHRlbnNpYmxlIGN1cnZlIG9iamVjdAogICAqCiAgICogU29tZSBjb21tb24gb2YgY3VydmUgbWV0aG9kczoKICAgKiAuZ2V0UG9pbnQoIHQsIG9wdGlvbmFsVGFyZ2V0ICksIC5nZXRUYW5nZW50KCB0ICkKICAgKiAuZ2V0UG9pbnRBdCggdSwgb3B0aW9uYWxUYXJnZXQgKSwgLmdldFRhbmdlbnRBdCggdSApCiAgICogLmdldFBvaW50cygpLCAuZ2V0U3BhY2VkUG9pbnRzKCkKICAgKiAuZ2V0TGVuZ3RoKCkKICAgKiAudXBkYXRlQXJjTGVuZ3RocygpCiAgICoKICAgKiBUaGlzIGZvbGxvd2luZyBjdXJ2ZXMgaW5oZXJpdCBmcm9tIFRIUkVFLkN1cnZlOgogICAqCiAgICogLS0gMkQgY3VydmVzIC0tCiAgICogVEhSRUUuQXJjQ3VydmUKICAgKiBUSFJFRS5DdWJpY0JlemllckN1cnZlCiAgICogVEhSRUUuRWxsaXBzZUN1cnZlCiAgICogVEhSRUUuTGluZUN1cnZlCiAgICogVEhSRUUuUXVhZHJhdGljQmV6aWVyQ3VydmUKICAgKiBUSFJFRS5TcGxpbmVDdXJ2ZQogICAqCiAgICogLS0gM0QgY3VydmVzIC0tCiAgICogVEhSRUUuQ2F0bXVsbFJvbUN1cnZlMwogICAqIFRIUkVFLkN1YmljQmV6aWVyQ3VydmUzCiAgICogVEhSRUUuTGluZUN1cnZlMwogICAqIFRIUkVFLlF1YWRyYXRpY0JlemllckN1cnZlMwogICAqCiAgICogQSBzZXJpZXMgb2YgY3VydmVzIGNhbiBiZSByZXByZXNlbnRlZCBhcyBhIFRIUkVFLkN1cnZlUGF0aC4KICAgKgogICAqKi8gLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCiAgICoJQWJzdHJhY3QgQ3VydmUgYmFzZSBjbGFzcwogICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9mdW5jdGlvbiBDdXJ2ZSgpe3RoaXMudHlwZT0nQ3VydmUnO3RoaXMuYXJjTGVuZ3RoRGl2aXNpb25zPTIwMDt9T2JqZWN0LmFzc2lnbihDdXJ2ZS5wcm90b3R5cGUsey8vIFZpcnR1YWwgYmFzZSBjbGFzcyBtZXRob2QgdG8gb3ZlcndyaXRlIGFuZCBpbXBsZW1lbnQgaW4gc3ViY2xhc3NlcwovLwktIHQgWzAgLi4gMV0KZ2V0UG9pbnQ6ZnVuY3Rpb24vKiB0LCBvcHRpb25hbFRhcmdldCAqL2dldFBvaW50KCl7Y29uc29sZS53YXJuKCdUSFJFRS5DdXJ2ZTogLmdldFBvaW50KCkgbm90IGltcGxlbWVudGVkLicpO3JldHVybiBudWxsO30sLy8gR2V0IHBvaW50IGF0IHJlbGF0aXZlIHBvc2l0aW9uIGluIGN1cnZlIGFjY29yZGluZyB0byBhcmMgbGVuZ3RoCi8vIC0gdSBbMCAuLiAxXQpnZXRQb2ludEF0OmZ1bmN0aW9uIGdldFBvaW50QXQodSxvcHRpb25hbFRhcmdldCl7dmFyIHQ9dGhpcy5nZXRVdG9UbWFwcGluZyh1KTtyZXR1cm4gdGhpcy5nZXRQb2ludCh0LG9wdGlvbmFsVGFyZ2V0KTt9LC8vIEdldCBzZXF1ZW5jZSBvZiBwb2ludHMgdXNpbmcgZ2V0UG9pbnQoIHQgKQpnZXRQb2ludHM6ZnVuY3Rpb24gZ2V0UG9pbnRzKGRpdmlzaW9ucyl7aWYoZGl2aXNpb25zPT09dW5kZWZpbmVkKXtkaXZpc2lvbnM9NTt9dmFyIHBvaW50cz1bXTtmb3IodmFyIGQ9MDtkPD1kaXZpc2lvbnM7ZCsrKXtwb2ludHMucHVzaCh0aGlzLmdldFBvaW50KGQvZGl2aXNpb25zKSk7fXJldHVybiBwb2ludHM7fSwvLyBHZXQgc2VxdWVuY2Ugb2YgcG9pbnRzIHVzaW5nIGdldFBvaW50QXQoIHUgKQpnZXRTcGFjZWRQb2ludHM6ZnVuY3Rpb24gZ2V0U3BhY2VkUG9pbnRzKGRpdmlzaW9ucyl7aWYoZGl2aXNpb25zPT09dW5kZWZpbmVkKXtkaXZpc2lvbnM9NTt9dmFyIHBvaW50cz1bXTtmb3IodmFyIGQ9MDtkPD1kaXZpc2lvbnM7ZCsrKXtwb2ludHMucHVzaCh0aGlzLmdldFBvaW50QXQoZC9kaXZpc2lvbnMpKTt9cmV0dXJuIHBvaW50czt9LC8vIEdldCB0b3RhbCBjdXJ2ZSBhcmMgbGVuZ3RoCmdldExlbmd0aDpmdW5jdGlvbiBnZXRMZW5ndGgoKXt2YXIgbGVuZ3Rocz10aGlzLmdldExlbmd0aHMoKTtyZXR1cm4gbGVuZ3Roc1tsZW5ndGhzLmxlbmd0aC0xXTt9LC8vIEdldCBsaXN0IG9mIGN1bXVsYXRpdmUgc2VnbWVudCBsZW5ndGhzCmdldExlbmd0aHM6ZnVuY3Rpb24gZ2V0TGVuZ3RocyhkaXZpc2lvbnMpe2lmKGRpdmlzaW9ucz09PXVuZGVmaW5lZCl7ZGl2aXNpb25zPXRoaXMuYXJjTGVuZ3RoRGl2aXNpb25zO31pZih0aGlzLmNhY2hlQXJjTGVuZ3RocyYmdGhpcy5jYWNoZUFyY0xlbmd0aHMubGVuZ3RoPT09ZGl2aXNpb25zKzEmJiF0aGlzLm5lZWRzVXBkYXRlKXtyZXR1cm4gdGhpcy5jYWNoZUFyY0xlbmd0aHM7fXRoaXMubmVlZHNVcGRhdGU9ZmFsc2U7dmFyIGNhY2hlPVtdO3ZhciBjdXJyZW50LGxhc3Q9dGhpcy5nZXRQb2ludCgwKTt2YXIgcCxzdW09MDtjYWNoZS5wdXNoKDApO2ZvcihwPTE7cDw9ZGl2aXNpb25zO3ArKyl7Y3VycmVudD10aGlzLmdldFBvaW50KHAvZGl2aXNpb25zKTtzdW0rPWN1cnJlbnQuZGlzdGFuY2VUbyhsYXN0KTtjYWNoZS5wdXNoKHN1bSk7bGFzdD1jdXJyZW50O310aGlzLmNhY2hlQXJjTGVuZ3Rocz1jYWNoZTtyZXR1cm4gY2FjaGU7Ly8geyBzdW1zOiBjYWNoZSwgc3VtOiBzdW0gfTsgU3VtIGlzIGluIHRoZSBsYXN0IGVsZW1lbnQuCn0sdXBkYXRlQXJjTGVuZ3RoczpmdW5jdGlvbiB1cGRhdGVBcmNMZW5ndGhzKCl7dGhpcy5uZWVkc1VwZGF0ZT10cnVlO3RoaXMuZ2V0TGVuZ3RocygpO30sLy8gR2l2ZW4gdSAoIDAgLi4gMSApLCBnZXQgYSB0IHRvIGZpbmQgcC4gVGhpcyBnaXZlcyB5b3UgcG9pbnRzIHdoaWNoIGFyZSBlcXVpZGlzdGFudApnZXRVdG9UbWFwcGluZzpmdW5jdGlvbiBnZXRVdG9UbWFwcGluZyh1LGRpc3RhbmNlKXt2YXIgYXJjTGVuZ3Rocz10aGlzLmdldExlbmd0aHMoKTt2YXIgaT0wLGlsPWFyY0xlbmd0aHMubGVuZ3RoO3ZhciB0YXJnZXRBcmNMZW5ndGg7Ly8gVGhlIHRhcmdldGVkIHUgZGlzdGFuY2UgdmFsdWUgdG8gZ2V0CmlmKGRpc3RhbmNlKXt0YXJnZXRBcmNMZW5ndGg9ZGlzdGFuY2U7fWVsc2V7dGFyZ2V0QXJjTGVuZ3RoPXUqYXJjTGVuZ3Roc1tpbC0xXTt9Ly8gYmluYXJ5IHNlYXJjaCBmb3IgdGhlIGluZGV4IHdpdGggbGFyZ2VzdCB2YWx1ZSBzbWFsbGVyIHRoYW4gdGFyZ2V0IHUgZGlzdGFuY2UKdmFyIGxvdz0wLGhpZ2g9aWwtMSxjb21wYXJpc29uO3doaWxlKGxvdzw9aGlnaCl7aT1NYXRoLmZsb29yKGxvdysoaGlnaC1sb3cpLzIpOy8vIGxlc3MgbGlrZWx5IHRvIG92ZXJmbG93LCB0aG91Z2ggcHJvYmFibHkgbm90IGlzc3VlIGhlcmUsIEpTIGRvZXNuJ3QgcmVhbGx5IGhhdmUgaW50ZWdlcnMsIGFsbCBudW1iZXJzIGFyZSBmbG9hdHMKY29tcGFyaXNvbj1hcmNMZW5ndGhzW2ldLXRhcmdldEFyY0xlbmd0aDtpZihjb21wYXJpc29uPDApe2xvdz1pKzE7fWVsc2UgaWYoY29tcGFyaXNvbj4wKXtoaWdoPWktMTt9ZWxzZXtoaWdoPWk7YnJlYWs7Ly8gRE9ORQp9fWk9aGlnaDtpZihhcmNMZW5ndGhzW2ldPT09dGFyZ2V0QXJjTGVuZ3RoKXtyZXR1cm4gaS8oaWwtMSk7fS8vIHdlIGNvdWxkIGdldCBmaW5lciBncmFpbiBhdCBsZW5ndGhzLCBvciB1c2Ugc2ltcGxlIGludGVycG9sYXRpb24gYmV0d2VlbiB0d28gcG9pbnRzCnZhciBsZW5ndGhCZWZvcmU9YXJjTGVuZ3Roc1tpXTt2YXIgbGVuZ3RoQWZ0ZXI9YXJjTGVuZ3Roc1tpKzFdO3ZhciBzZWdtZW50TGVuZ3RoPWxlbmd0aEFmdGVyLWxlbmd0aEJlZm9yZTsvLyBkZXRlcm1pbmUgd2hlcmUgd2UgYXJlIGJldHdlZW4gdGhlICdiZWZvcmUnIGFuZCAnYWZ0ZXInIHBvaW50cwp2YXIgc2VnbWVudEZyYWN0aW9uPSh0YXJnZXRBcmNMZW5ndGgtbGVuZ3RoQmVmb3JlKS9zZWdtZW50TGVuZ3RoOy8vIGFkZCB0aGF0IGZyYWN0aW9uYWwgYW1vdW50IHRvIHQKdmFyIHQ9KGkrc2VnbWVudEZyYWN0aW9uKS8oaWwtMSk7cmV0dXJuIHQ7fSwvLyBSZXR1cm5zIGEgdW5pdCB2ZWN0b3IgdGFuZ2VudCBhdCB0Ci8vIEluIGNhc2UgYW55IHN1YiBjdXJ2ZSBkb2VzIG5vdCBpbXBsZW1lbnQgaXRzIHRhbmdlbnQgZGVyaXZhdGlvbiwKLy8gMiBwb2ludHMgYSBzbWFsbCBkZWx0YSBhcGFydCB3aWxsIGJlIHVzZWQgdG8gZmluZCBpdHMgZ3JhZGllbnQKLy8gd2hpY2ggc2VlbXMgdG8gZ2l2ZSBhIHJlYXNvbmFibGUgYXBwcm94aW1hdGlvbgpnZXRUYW5nZW50OmZ1bmN0aW9uIGdldFRhbmdlbnQodCl7dmFyIGRlbHRhPTAuMDAwMTt2YXIgdDE9dC1kZWx0YTt2YXIgdDI9dCtkZWx0YTsvLyBDYXBwaW5nIGluIGNhc2Ugb2YgZGFuZ2VyCmlmKHQxPDApe3QxPTA7fWlmKHQyPjEpe3QyPTE7fXZhciBwdDE9dGhpcy5nZXRQb2ludCh0MSk7dmFyIHB0Mj10aGlzLmdldFBvaW50KHQyKTt2YXIgdmVjPXB0Mi5jbG9uZSgpLnN1YihwdDEpO3JldHVybiB2ZWMubm9ybWFsaXplKCk7fSxnZXRUYW5nZW50QXQ6ZnVuY3Rpb24gZ2V0VGFuZ2VudEF0KHUpe3ZhciB0PXRoaXMuZ2V0VXRvVG1hcHBpbmcodSk7cmV0dXJuIHRoaXMuZ2V0VGFuZ2VudCh0KTt9LGNvbXB1dGVGcmVuZXRGcmFtZXM6ZnVuY3Rpb24gY29tcHV0ZUZyZW5ldEZyYW1lcyhzZWdtZW50cyxjbG9zZWQpey8vIHNlZSBodHRwOi8vd3d3LmNzLmluZGlhbmEuZWR1L3B1Yi90ZWNocmVwb3J0cy9UUjQyNS5wZGYKdmFyIG5vcm1hbD1uZXcgVmVjdG9yMygpO3ZhciB0YW5nZW50cz1bXTt2YXIgbm9ybWFscz1bXTt2YXIgYmlub3JtYWxzPVtdO3ZhciB2ZWM9bmV3IFZlY3RvcjMoKTt2YXIgbWF0PW5ldyBNYXRyaXg0KCk7dmFyIGksdSx0aGV0YTsvLyBjb21wdXRlIHRoZSB0YW5nZW50IHZlY3RvcnMgZm9yIGVhY2ggc2VnbWVudCBvbiB0aGUgY3VydmUKZm9yKGk9MDtpPD1zZWdtZW50cztpKyspe3U9aS9zZWdtZW50czt0YW5nZW50c1tpXT10aGlzLmdldFRhbmdlbnRBdCh1KTt0YW5nZW50c1tpXS5ub3JtYWxpemUoKTt9Ly8gc2VsZWN0IGFuIGluaXRpYWwgbm9ybWFsIHZlY3RvciBwZXJwZW5kaWN1bGFyIHRvIHRoZSBmaXJzdCB0YW5nZW50IHZlY3RvciwKLy8gYW5kIGluIHRoZSBkaXJlY3Rpb24gb2YgdGhlIG1pbmltdW0gdGFuZ2VudCB4eXogY29tcG9uZW50Cm5vcm1hbHNbMF09bmV3IFZlY3RvcjMoKTtiaW5vcm1hbHNbMF09bmV3IFZlY3RvcjMoKTt2YXIgbWluPU51bWJlci5NQVhfVkFMVUU7dmFyIHR4PU1hdGguYWJzKHRhbmdlbnRzWzBdLngpO3ZhciB0eT1NYXRoLmFicyh0YW5nZW50c1swXS55KTt2YXIgdHo9TWF0aC5hYnModGFuZ2VudHNbMF0ueik7aWYodHg8PW1pbil7bWluPXR4O25vcm1hbC5zZXQoMSwwLDApO31pZih0eTw9bWluKXttaW49dHk7bm9ybWFsLnNldCgwLDEsMCk7fWlmKHR6PD1taW4pe25vcm1hbC5zZXQoMCwwLDEpO312ZWMuY3Jvc3NWZWN0b3JzKHRhbmdlbnRzWzBdLG5vcm1hbCkubm9ybWFsaXplKCk7bm9ybWFsc1swXS5jcm9zc1ZlY3RvcnModGFuZ2VudHNbMF0sdmVjKTtiaW5vcm1hbHNbMF0uY3Jvc3NWZWN0b3JzKHRhbmdlbnRzWzBdLG5vcm1hbHNbMF0pOy8vIGNvbXB1dGUgdGhlIHNsb3dseS12YXJ5aW5nIG5vcm1hbCBhbmQgYmlub3JtYWwgdmVjdG9ycyBmb3IgZWFjaCBzZWdtZW50IG9uIHRoZSBjdXJ2ZQpmb3IoaT0xO2k8PXNlZ21lbnRzO2krKyl7bm9ybWFsc1tpXT1ub3JtYWxzW2ktMV0uY2xvbmUoKTtiaW5vcm1hbHNbaV09Ymlub3JtYWxzW2ktMV0uY2xvbmUoKTt2ZWMuY3Jvc3NWZWN0b3JzKHRhbmdlbnRzW2ktMV0sdGFuZ2VudHNbaV0pO2lmKHZlYy5sZW5ndGgoKT5OdW1iZXIuRVBTSUxPTil7dmVjLm5vcm1hbGl6ZSgpO3RoZXRhPU1hdGguYWNvcyhfTWF0aC5jbGFtcCh0YW5nZW50c1tpLTFdLmRvdCh0YW5nZW50c1tpXSksLTEsMSkpOy8vIGNsYW1wIGZvciBmbG9hdGluZyBwdCBlcnJvcnMKbm9ybWFsc1tpXS5hcHBseU1hdHJpeDQobWF0Lm1ha2VSb3RhdGlvbkF4aXModmVjLHRoZXRhKSk7fWJpbm9ybWFsc1tpXS5jcm9zc1ZlY3RvcnModGFuZ2VudHNbaV0sbm9ybWFsc1tpXSk7fS8vIGlmIHRoZSBjdXJ2ZSBpcyBjbG9zZWQsIHBvc3Rwcm9jZXNzIHRoZSB2ZWN0b3JzIHNvIHRoZSBmaXJzdCBhbmQgbGFzdCBub3JtYWwgdmVjdG9ycyBhcmUgdGhlIHNhbWUKaWYoY2xvc2VkPT09dHJ1ZSl7dGhldGE9TWF0aC5hY29zKF9NYXRoLmNsYW1wKG5vcm1hbHNbMF0uZG90KG5vcm1hbHNbc2VnbWVudHNdKSwtMSwxKSk7dGhldGEvPXNlZ21lbnRzO2lmKHRhbmdlbnRzWzBdLmRvdCh2ZWMuY3Jvc3NWZWN0b3JzKG5vcm1hbHNbMF0sbm9ybWFsc1tzZWdtZW50c10pKT4wKXt0aGV0YT0tdGhldGE7fWZvcihpPTE7aTw9c2VnbWVudHM7aSsrKXsvLyB0d2lzdCBhIGxpdHRsZS4uLgpub3JtYWxzW2ldLmFwcGx5TWF0cml4NChtYXQubWFrZVJvdGF0aW9uQXhpcyh0YW5nZW50c1tpXSx0aGV0YSppKSk7Ymlub3JtYWxzW2ldLmNyb3NzVmVjdG9ycyh0YW5nZW50c1tpXSxub3JtYWxzW2ldKTt9fXJldHVybnt0YW5nZW50czp0YW5nZW50cyxub3JtYWxzOm5vcm1hbHMsYmlub3JtYWxzOmJpbm9ybWFsc307fSxjbG9uZTpmdW5jdGlvbiBjbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmNvcHkodGhpcyk7fSxjb3B5OmZ1bmN0aW9uIGNvcHkoc291cmNlKXt0aGlzLmFyY0xlbmd0aERpdmlzaW9ucz1zb3VyY2UuYXJjTGVuZ3RoRGl2aXNpb25zO3JldHVybiB0aGlzO30sdG9KU09OOmZ1bmN0aW9uIHRvSlNPTigpe3ZhciBkYXRhPXttZXRhZGF0YTp7dmVyc2lvbjo0LjUsdHlwZTonQ3VydmUnLGdlbmVyYXRvcjonQ3VydmUudG9KU09OJ319O2RhdGEuYXJjTGVuZ3RoRGl2aXNpb25zPXRoaXMuYXJjTGVuZ3RoRGl2aXNpb25zO2RhdGEudHlwZT10aGlzLnR5cGU7cmV0dXJuIGRhdGE7fSxmcm9tSlNPTjpmdW5jdGlvbiBmcm9tSlNPTihqc29uKXt0aGlzLmFyY0xlbmd0aERpdmlzaW9ucz1qc29uLmFyY0xlbmd0aERpdmlzaW9ucztyZXR1cm4gdGhpczt9fSk7ZnVuY3Rpb24gRWxsaXBzZUN1cnZlKGFYLGFZLHhSYWRpdXMseVJhZGl1cyxhU3RhcnRBbmdsZSxhRW5kQW5nbGUsYUNsb2Nrd2lzZSxhUm90YXRpb24pe0N1cnZlLmNhbGwodGhpcyk7dGhpcy50eXBlPSdFbGxpcHNlQ3VydmUnO3RoaXMuYVg9YVh8fDA7dGhpcy5hWT1hWXx8MDt0aGlzLnhSYWRpdXM9eFJhZGl1c3x8MTt0aGlzLnlSYWRpdXM9eVJhZGl1c3x8MTt0aGlzLmFTdGFydEFuZ2xlPWFTdGFydEFuZ2xlfHwwO3RoaXMuYUVuZEFuZ2xlPWFFbmRBbmdsZXx8MipNYXRoLlBJO3RoaXMuYUNsb2Nrd2lzZT1hQ2xvY2t3aXNlfHxmYWxzZTt0aGlzLmFSb3RhdGlvbj1hUm90YXRpb258fDA7fUVsbGlwc2VDdXJ2ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShDdXJ2ZS5wcm90b3R5cGUpO0VsbGlwc2VDdXJ2ZS5wcm90b3R5cGUuY29uc3RydWN0b3I9RWxsaXBzZUN1cnZlO0VsbGlwc2VDdXJ2ZS5wcm90b3R5cGUuaXNFbGxpcHNlQ3VydmU9dHJ1ZTtFbGxpcHNlQ3VydmUucHJvdG90eXBlLmdldFBvaW50PWZ1bmN0aW9uKHQsb3B0aW9uYWxUYXJnZXQpe3ZhciBwb2ludD1vcHRpb25hbFRhcmdldHx8bmV3IFZlY3RvcjIoKTt2YXIgdHdvUGk9TWF0aC5QSSoyO3ZhciBkZWx0YUFuZ2xlPXRoaXMuYUVuZEFuZ2xlLXRoaXMuYVN0YXJ0QW5nbGU7dmFyIHNhbWVQb2ludHM9TWF0aC5hYnMoZGVsdGFBbmdsZSk8TnVtYmVyLkVQU0lMT047Ly8gZW5zdXJlcyB0aGF0IGRlbHRhQW5nbGUgaXMgMCAuLiAyIFBJCndoaWxlKGRlbHRhQW5nbGU8MCl7ZGVsdGFBbmdsZSs9dHdvUGk7fXdoaWxlKGRlbHRhQW5nbGU+dHdvUGkpe2RlbHRhQW5nbGUtPXR3b1BpO31pZihkZWx0YUFuZ2xlPE51bWJlci5FUFNJTE9OKXtpZihzYW1lUG9pbnRzKXtkZWx0YUFuZ2xlPTA7fWVsc2V7ZGVsdGFBbmdsZT10d29QaTt9fWlmKHRoaXMuYUNsb2Nrd2lzZT09PXRydWUmJiFzYW1lUG9pbnRzKXtpZihkZWx0YUFuZ2xlPT09dHdvUGkpe2RlbHRhQW5nbGU9LXR3b1BpO31lbHNle2RlbHRhQW5nbGU9ZGVsdGFBbmdsZS10d29QaTt9fXZhciBhbmdsZT10aGlzLmFTdGFydEFuZ2xlK3QqZGVsdGFBbmdsZTt2YXIgeD10aGlzLmFYK3RoaXMueFJhZGl1cypNYXRoLmNvcyhhbmdsZSk7dmFyIHk9dGhpcy5hWSt0aGlzLnlSYWRpdXMqTWF0aC5zaW4oYW5nbGUpO2lmKHRoaXMuYVJvdGF0aW9uIT09MCl7dmFyIGNvcz1NYXRoLmNvcyh0aGlzLmFSb3RhdGlvbik7dmFyIHNpbj1NYXRoLnNpbih0aGlzLmFSb3RhdGlvbik7dmFyIHR4PXgtdGhpcy5hWDt2YXIgdHk9eS10aGlzLmFZOy8vIFJvdGF0ZSB0aGUgcG9pbnQgYWJvdXQgdGhlIGNlbnRlciBvZiB0aGUgZWxsaXBzZS4KeD10eCpjb3MtdHkqc2luK3RoaXMuYVg7eT10eCpzaW4rdHkqY29zK3RoaXMuYVk7fXJldHVybiBwb2ludC5zZXQoeCx5KTt9O0VsbGlwc2VDdXJ2ZS5wcm90b3R5cGUuY29weT1mdW5jdGlvbihzb3VyY2Upe0N1cnZlLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyxzb3VyY2UpO3RoaXMuYVg9c291cmNlLmFYO3RoaXMuYVk9c291cmNlLmFZO3RoaXMueFJhZGl1cz1zb3VyY2UueFJhZGl1czt0aGlzLnlSYWRpdXM9c291cmNlLnlSYWRpdXM7dGhpcy5hU3RhcnRBbmdsZT1zb3VyY2UuYVN0YXJ0QW5nbGU7dGhpcy5hRW5kQW5nbGU9c291cmNlLmFFbmRBbmdsZTt0aGlzLmFDbG9ja3dpc2U9c291cmNlLmFDbG9ja3dpc2U7dGhpcy5hUm90YXRpb249c291cmNlLmFSb3RhdGlvbjtyZXR1cm4gdGhpczt9O0VsbGlwc2VDdXJ2ZS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7dmFyIGRhdGE9Q3VydmUucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMpO2RhdGEuYVg9dGhpcy5hWDtkYXRhLmFZPXRoaXMuYVk7ZGF0YS54UmFkaXVzPXRoaXMueFJhZGl1cztkYXRhLnlSYWRpdXM9dGhpcy55UmFkaXVzO2RhdGEuYVN0YXJ0QW5nbGU9dGhpcy5hU3RhcnRBbmdsZTtkYXRhLmFFbmRBbmdsZT10aGlzLmFFbmRBbmdsZTtkYXRhLmFDbG9ja3dpc2U9dGhpcy5hQ2xvY2t3aXNlO2RhdGEuYVJvdGF0aW9uPXRoaXMuYVJvdGF0aW9uO3JldHVybiBkYXRhO307RWxsaXBzZUN1cnZlLnByb3RvdHlwZS5mcm9tSlNPTj1mdW5jdGlvbihqc29uKXtDdXJ2ZS5wcm90b3R5cGUuZnJvbUpTT04uY2FsbCh0aGlzLGpzb24pO3RoaXMuYVg9anNvbi5hWDt0aGlzLmFZPWpzb24uYVk7dGhpcy54UmFkaXVzPWpzb24ueFJhZGl1czt0aGlzLnlSYWRpdXM9anNvbi55UmFkaXVzO3RoaXMuYVN0YXJ0QW5nbGU9anNvbi5hU3RhcnRBbmdsZTt0aGlzLmFFbmRBbmdsZT1qc29uLmFFbmRBbmdsZTt0aGlzLmFDbG9ja3dpc2U9anNvbi5hQ2xvY2t3aXNlO3RoaXMuYVJvdGF0aW9uPWpzb24uYVJvdGF0aW9uO3JldHVybiB0aGlzO307ZnVuY3Rpb24gQXJjQ3VydmUoYVgsYVksYVJhZGl1cyxhU3RhcnRBbmdsZSxhRW5kQW5nbGUsYUNsb2Nrd2lzZSl7RWxsaXBzZUN1cnZlLmNhbGwodGhpcyxhWCxhWSxhUmFkaXVzLGFSYWRpdXMsYVN0YXJ0QW5nbGUsYUVuZEFuZ2xlLGFDbG9ja3dpc2UpO3RoaXMudHlwZT0nQXJjQ3VydmUnO31BcmNDdXJ2ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShFbGxpcHNlQ3VydmUucHJvdG90eXBlKTtBcmNDdXJ2ZS5wcm90b3R5cGUuY29uc3RydWN0b3I9QXJjQ3VydmU7QXJjQ3VydmUucHJvdG90eXBlLmlzQXJjQ3VydmU9dHJ1ZTsvKioKICAgKiBAYXV0aG9yIHp6ODUgaHR0cHM6Ly9naXRodWIuY29tL3p6ODUKICAgKgogICAqIENlbnRyaXBldGFsIENhdG11bGxSb20gQ3VydmUgLSB3aGljaCBpcyB1c2VmdWwgZm9yIGF2b2lkaW5nCiAgICogY3VzcHMgYW5kIHNlbGYtaW50ZXJzZWN0aW9ucyBpbiBub24tdW5pZm9ybSBjYXRtdWxsIHJvbSBjdXJ2ZXMuCiAgICogaHR0cDovL3d3dy5jZW15dWtzZWwuY29tL3Jlc2VhcmNoL2NhdG11bGxyb21fcGFyYW0vY2F0bXVsbHJvbS5wZGYKICAgKgogICAqIGN1cnZlLnR5cGUgYWNjZXB0cyBjZW50cmlwZXRhbChkZWZhdWx0KSwgY2hvcmRhbCBhbmQgY2F0bXVsbHJvbQogICAqIGN1cnZlLnRlbnNpb24gaXMgdXNlZCBmb3IgY2F0bXVsbHJvbSB3aGljaCBkZWZhdWx0cyB0byAwLjUKICAgKi8gLyoKICBCYXNlZCBvbiBhbiBvcHRpbWl6ZWQgYysrIHNvbHV0aW9uIGluCiAgIC0gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy85NDg5NzM2L2NhdG11bGwtcm9tLWN1cnZlLXdpdGgtbm8tY3VzcHMtYW5kLW5vLXNlbGYtaW50ZXJzZWN0aW9ucy8KICAgLSBodHRwOi8vaWRlb25lLmNvbS9Ob0ViVk0KCiAgVGhpcyBDdWJpY1BvbHkgY2xhc3MgY291bGQgYmUgdXNlZCBmb3IgcmV1c2luZyBzb21lIHZhcmlhYmxlcyBhbmQgY2FsY3VsYXRpb25zLAogIGJ1dCBmb3IgdGhyZWUuanMgY3VydmUgdXNlLCBpdCBjb3VsZCBiZSBwb3NzaWJsZSBpbmxpbmVkIGFuZCBmbGF0dGVuIGludG8gYSBzaW5nbGUgZnVuY3Rpb24gY2FsbAogIHdoaWNoIGNhbiBiZSBwbGFjZWQgaW4gQ3VydmVVdGlscy4KICAqL2Z1bmN0aW9uIEN1YmljUG9seSgpe3ZhciBjMD0wLGMxPTAsYzI9MCxjMz0wOy8qCiAgICAgKiBDb21wdXRlIGNvZWZmaWNpZW50cyBmb3IgYSBjdWJpYyBwb2x5bm9taWFsCiAgICAgKiAgIHAocykgPSBjMCArIGMxKnMgKyBjMipzXjIgKyBjMypzXjMKICAgICAqIHN1Y2ggdGhhdAogICAgICogICBwKDApID0geDAsIHAoMSkgPSB4MQogICAgICogIGFuZAogICAgICogICBwJygwKSA9IHQwLCBwJygxKSA9IHQxLgogICAgICovZnVuY3Rpb24gaW5pdCh4MCx4MSx0MCx0MSl7YzA9eDA7YzE9dDA7YzI9LTMqeDArMyp4MS0yKnQwLXQxO2MzPTIqeDAtMip4MSt0MCt0MTt9cmV0dXJue2luaXRDYXRtdWxsUm9tOmZ1bmN0aW9uIGluaXRDYXRtdWxsUm9tKHgwLHgxLHgyLHgzLHRlbnNpb24pe2luaXQoeDEseDIsdGVuc2lvbiooeDIteDApLHRlbnNpb24qKHgzLXgxKSk7fSxpbml0Tm9udW5pZm9ybUNhdG11bGxSb206ZnVuY3Rpb24gaW5pdE5vbnVuaWZvcm1DYXRtdWxsUm9tKHgwLHgxLHgyLHgzLGR0MCxkdDEsZHQyKXsvLyBjb21wdXRlIHRhbmdlbnRzIHdoZW4gcGFyYW1ldGVyaXplZCBpbiBbdDEsdDJdCnZhciB0MT0oeDEteDApL2R0MC0oeDIteDApLyhkdDArZHQxKSsoeDIteDEpL2R0MTt2YXIgdDI9KHgyLXgxKS9kdDEtKHgzLXgxKS8oZHQxK2R0MikrKHgzLXgyKS9kdDI7Ly8gcmVzY2FsZSB0YW5nZW50cyBmb3IgcGFyYW1ldHJpemF0aW9uIGluIFswLDFdCnQxKj1kdDE7dDIqPWR0MTtpbml0KHgxLHgyLHQxLHQyKTt9LGNhbGM6ZnVuY3Rpb24gY2FsYyh0KXt2YXIgdDI9dCp0O3ZhciB0Mz10Mip0O3JldHVybiBjMCtjMSp0K2MyKnQyK2MzKnQzO319O30vLwp2YXIgdG1wPW5ldyBWZWN0b3IzKCk7dmFyIHB4PW5ldyBDdWJpY1BvbHkoKSxweT1uZXcgQ3ViaWNQb2x5KCkscHo9bmV3IEN1YmljUG9seSgpO2Z1bmN0aW9uIENhdG11bGxSb21DdXJ2ZTMocG9pbnRzLGNsb3NlZCxjdXJ2ZVR5cGUsdGVuc2lvbil7Q3VydmUuY2FsbCh0aGlzKTt0aGlzLnR5cGU9J0NhdG11bGxSb21DdXJ2ZTMnO3RoaXMucG9pbnRzPXBvaW50c3x8W107dGhpcy5jbG9zZWQ9Y2xvc2VkfHxmYWxzZTt0aGlzLmN1cnZlVHlwZT1jdXJ2ZVR5cGV8fCdjZW50cmlwZXRhbCc7dGhpcy50ZW5zaW9uPXRlbnNpb258fDAuNTt9Q2F0bXVsbFJvbUN1cnZlMy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShDdXJ2ZS5wcm90b3R5cGUpO0NhdG11bGxSb21DdXJ2ZTMucHJvdG90eXBlLmNvbnN0cnVjdG9yPUNhdG11bGxSb21DdXJ2ZTM7Q2F0bXVsbFJvbUN1cnZlMy5wcm90b3R5cGUuaXNDYXRtdWxsUm9tQ3VydmUzPXRydWU7Q2F0bXVsbFJvbUN1cnZlMy5wcm90b3R5cGUuZ2V0UG9pbnQ9ZnVuY3Rpb24odCxvcHRpb25hbFRhcmdldCl7dmFyIHBvaW50PW9wdGlvbmFsVGFyZ2V0fHxuZXcgVmVjdG9yMygpO3ZhciBwb2ludHM9dGhpcy5wb2ludHM7dmFyIGw9cG9pbnRzLmxlbmd0aDt2YXIgcD0obC0odGhpcy5jbG9zZWQ/MDoxKSkqdDt2YXIgaW50UG9pbnQ9TWF0aC5mbG9vcihwKTt2YXIgd2VpZ2h0PXAtaW50UG9pbnQ7aWYodGhpcy5jbG9zZWQpe2ludFBvaW50Kz1pbnRQb2ludD4wPzA6KE1hdGguZmxvb3IoTWF0aC5hYnMoaW50UG9pbnQpL2wpKzEpKmw7fWVsc2UgaWYod2VpZ2h0PT09MCYmaW50UG9pbnQ9PT1sLTEpe2ludFBvaW50PWwtMjt3ZWlnaHQ9MTt9dmFyIHAwLHAxLHAyLHAzOy8vIDQgcG9pbnRzCmlmKHRoaXMuY2xvc2VkfHxpbnRQb2ludD4wKXtwMD1wb2ludHNbKGludFBvaW50LTEpJWxdO31lbHNley8vIGV4dHJhcG9sYXRlIGZpcnN0IHBvaW50CnRtcC5zdWJWZWN0b3JzKHBvaW50c1swXSxwb2ludHNbMV0pLmFkZChwb2ludHNbMF0pO3AwPXRtcDt9cDE9cG9pbnRzW2ludFBvaW50JWxdO3AyPXBvaW50c1soaW50UG9pbnQrMSklbF07aWYodGhpcy5jbG9zZWR8fGludFBvaW50KzI8bCl7cDM9cG9pbnRzWyhpbnRQb2ludCsyKSVsXTt9ZWxzZXsvLyBleHRyYXBvbGF0ZSBsYXN0IHBvaW50CnRtcC5zdWJWZWN0b3JzKHBvaW50c1tsLTFdLHBvaW50c1tsLTJdKS5hZGQocG9pbnRzW2wtMV0pO3AzPXRtcDt9aWYodGhpcy5jdXJ2ZVR5cGU9PT0nY2VudHJpcGV0YWwnfHx0aGlzLmN1cnZlVHlwZT09PSdjaG9yZGFsJyl7Ly8gaW5pdCBDZW50cmlwZXRhbCAvIENob3JkYWwgQ2F0bXVsbC1Sb20KdmFyIHBvdz10aGlzLmN1cnZlVHlwZT09PSdjaG9yZGFsJz8wLjU6MC4yNTt2YXIgZHQwPU1hdGgucG93KHAwLmRpc3RhbmNlVG9TcXVhcmVkKHAxKSxwb3cpO3ZhciBkdDE9TWF0aC5wb3cocDEuZGlzdGFuY2VUb1NxdWFyZWQocDIpLHBvdyk7dmFyIGR0Mj1NYXRoLnBvdyhwMi5kaXN0YW5jZVRvU3F1YXJlZChwMykscG93KTsvLyBzYWZldHkgY2hlY2sgZm9yIHJlcGVhdGVkIHBvaW50cwppZihkdDE8MWUtNCl7ZHQxPTEuMDt9aWYoZHQwPDFlLTQpe2R0MD1kdDE7fWlmKGR0MjwxZS00KXtkdDI9ZHQxO31weC5pbml0Tm9udW5pZm9ybUNhdG11bGxSb20ocDAueCxwMS54LHAyLngscDMueCxkdDAsZHQxLGR0Mik7cHkuaW5pdE5vbnVuaWZvcm1DYXRtdWxsUm9tKHAwLnkscDEueSxwMi55LHAzLnksZHQwLGR0MSxkdDIpO3B6LmluaXROb251bmlmb3JtQ2F0bXVsbFJvbShwMC56LHAxLnoscDIueixwMy56LGR0MCxkdDEsZHQyKTt9ZWxzZSBpZih0aGlzLmN1cnZlVHlwZT09PSdjYXRtdWxscm9tJyl7cHguaW5pdENhdG11bGxSb20ocDAueCxwMS54LHAyLngscDMueCx0aGlzLnRlbnNpb24pO3B5LmluaXRDYXRtdWxsUm9tKHAwLnkscDEueSxwMi55LHAzLnksdGhpcy50ZW5zaW9uKTtwei5pbml0Q2F0bXVsbFJvbShwMC56LHAxLnoscDIueixwMy56LHRoaXMudGVuc2lvbik7fXBvaW50LnNldChweC5jYWxjKHdlaWdodCkscHkuY2FsYyh3ZWlnaHQpLHB6LmNhbGMod2VpZ2h0KSk7cmV0dXJuIHBvaW50O307Q2F0bXVsbFJvbUN1cnZlMy5wcm90b3R5cGUuY29weT1mdW5jdGlvbihzb3VyY2Upe0N1cnZlLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyxzb3VyY2UpO3RoaXMucG9pbnRzPVtdO2Zvcih2YXIgaT0wLGw9c291cmNlLnBvaW50cy5sZW5ndGg7aTxsO2krKyl7dmFyIHBvaW50PXNvdXJjZS5wb2ludHNbaV07dGhpcy5wb2ludHMucHVzaChwb2ludC5jbG9uZSgpKTt9dGhpcy5jbG9zZWQ9c291cmNlLmNsb3NlZDt0aGlzLmN1cnZlVHlwZT1zb3VyY2UuY3VydmVUeXBlO3RoaXMudGVuc2lvbj1zb3VyY2UudGVuc2lvbjtyZXR1cm4gdGhpczt9O0NhdG11bGxSb21DdXJ2ZTMucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3ZhciBkYXRhPUN1cnZlLnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzKTtkYXRhLnBvaW50cz1bXTtmb3IodmFyIGk9MCxsPXRoaXMucG9pbnRzLmxlbmd0aDtpPGw7aSsrKXt2YXIgcG9pbnQ9dGhpcy5wb2ludHNbaV07ZGF0YS5wb2ludHMucHVzaChwb2ludC50b0FycmF5KCkpO31kYXRhLmNsb3NlZD10aGlzLmNsb3NlZDtkYXRhLmN1cnZlVHlwZT10aGlzLmN1cnZlVHlwZTtkYXRhLnRlbnNpb249dGhpcy50ZW5zaW9uO3JldHVybiBkYXRhO307Q2F0bXVsbFJvbUN1cnZlMy5wcm90b3R5cGUuZnJvbUpTT049ZnVuY3Rpb24oanNvbil7Q3VydmUucHJvdG90eXBlLmZyb21KU09OLmNhbGwodGhpcyxqc29uKTt0aGlzLnBvaW50cz1bXTtmb3IodmFyIGk9MCxsPWpzb24ucG9pbnRzLmxlbmd0aDtpPGw7aSsrKXt2YXIgcG9pbnQ9anNvbi5wb2ludHNbaV07dGhpcy5wb2ludHMucHVzaChuZXcgVmVjdG9yMygpLmZyb21BcnJheShwb2ludCkpO310aGlzLmNsb3NlZD1qc29uLmNsb3NlZDt0aGlzLmN1cnZlVHlwZT1qc29uLmN1cnZlVHlwZTt0aGlzLnRlbnNpb249anNvbi50ZW5zaW9uO3JldHVybiB0aGlzO307LyoqCiAgICogQGF1dGhvciB6ejg1IC8gaHR0cDovL3d3dy5sYWI0Z2FtZXMubmV0L3p6ODUvYmxvZwogICAqCiAgICogQmV6aWVyIEN1cnZlcyBmb3JtdWxhcyBvYnRhaW5lZCBmcm9tCiAgICogaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Cw6l6aWVyX2N1cnZlCiAgICovZnVuY3Rpb24gQ2F0bXVsbFJvbSh0LHAwLHAxLHAyLHAzKXt2YXIgdjA9KHAyLXAwKSowLjU7dmFyIHYxPShwMy1wMSkqMC41O3ZhciB0Mj10KnQ7dmFyIHQzPXQqdDI7cmV0dXJuKDIqcDEtMipwMit2MCt2MSkqdDMrKC0zKnAxKzMqcDItMip2MC12MSkqdDIrdjAqdCtwMTt9Ly8KZnVuY3Rpb24gUXVhZHJhdGljQmV6aWVyUDAodCxwKXt2YXIgaz0xLXQ7cmV0dXJuIGsqaypwO31mdW5jdGlvbiBRdWFkcmF0aWNCZXppZXJQMSh0LHApe3JldHVybiAyKigxLXQpKnQqcDt9ZnVuY3Rpb24gUXVhZHJhdGljQmV6aWVyUDIodCxwKXtyZXR1cm4gdCp0KnA7fWZ1bmN0aW9uIFF1YWRyYXRpY0Jlemllcih0LHAwLHAxLHAyKXtyZXR1cm4gUXVhZHJhdGljQmV6aWVyUDAodCxwMCkrUXVhZHJhdGljQmV6aWVyUDEodCxwMSkrUXVhZHJhdGljQmV6aWVyUDIodCxwMik7fS8vCmZ1bmN0aW9uIEN1YmljQmV6aWVyUDAodCxwKXt2YXIgaz0xLXQ7cmV0dXJuIGsqayprKnA7fWZ1bmN0aW9uIEN1YmljQmV6aWVyUDEodCxwKXt2YXIgaz0xLXQ7cmV0dXJuIDMqayprKnQqcDt9ZnVuY3Rpb24gQ3ViaWNCZXppZXJQMih0LHApe3JldHVybiAzKigxLXQpKnQqdCpwO31mdW5jdGlvbiBDdWJpY0JlemllclAzKHQscCl7cmV0dXJuIHQqdCp0KnA7fWZ1bmN0aW9uIEN1YmljQmV6aWVyKHQscDAscDEscDIscDMpe3JldHVybiBDdWJpY0JlemllclAwKHQscDApK0N1YmljQmV6aWVyUDEodCxwMSkrQ3ViaWNCZXppZXJQMih0LHAyKStDdWJpY0JlemllclAzKHQscDMpO31mdW5jdGlvbiBDdWJpY0JlemllckN1cnZlKHYwLHYxLHYyLHYzKXtDdXJ2ZS5jYWxsKHRoaXMpO3RoaXMudHlwZT0nQ3ViaWNCZXppZXJDdXJ2ZSc7dGhpcy52MD12MHx8bmV3IFZlY3RvcjIoKTt0aGlzLnYxPXYxfHxuZXcgVmVjdG9yMigpO3RoaXMudjI9djJ8fG5ldyBWZWN0b3IyKCk7dGhpcy52Mz12M3x8bmV3IFZlY3RvcjIoKTt9Q3ViaWNCZXppZXJDdXJ2ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShDdXJ2ZS5wcm90b3R5cGUpO0N1YmljQmV6aWVyQ3VydmUucHJvdG90eXBlLmNvbnN0cnVjdG9yPUN1YmljQmV6aWVyQ3VydmU7Q3ViaWNCZXppZXJDdXJ2ZS5wcm90b3R5cGUuaXNDdWJpY0JlemllckN1cnZlPXRydWU7Q3ViaWNCZXppZXJDdXJ2ZS5wcm90b3R5cGUuZ2V0UG9pbnQ9ZnVuY3Rpb24odCxvcHRpb25hbFRhcmdldCl7dmFyIHBvaW50PW9wdGlvbmFsVGFyZ2V0fHxuZXcgVmVjdG9yMigpO3ZhciB2MD10aGlzLnYwLHYxPXRoaXMudjEsdjI9dGhpcy52Mix2Mz10aGlzLnYzO3BvaW50LnNldChDdWJpY0Jlemllcih0LHYwLngsdjEueCx2Mi54LHYzLngpLEN1YmljQmV6aWVyKHQsdjAueSx2MS55LHYyLnksdjMueSkpO3JldHVybiBwb2ludDt9O0N1YmljQmV6aWVyQ3VydmUucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oc291cmNlKXtDdXJ2ZS5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsc291cmNlKTt0aGlzLnYwLmNvcHkoc291cmNlLnYwKTt0aGlzLnYxLmNvcHkoc291cmNlLnYxKTt0aGlzLnYyLmNvcHkoc291cmNlLnYyKTt0aGlzLnYzLmNvcHkoc291cmNlLnYzKTtyZXR1cm4gdGhpczt9O0N1YmljQmV6aWVyQ3VydmUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3ZhciBkYXRhPUN1cnZlLnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzKTtkYXRhLnYwPXRoaXMudjAudG9BcnJheSgpO2RhdGEudjE9dGhpcy52MS50b0FycmF5KCk7ZGF0YS52Mj10aGlzLnYyLnRvQXJyYXkoKTtkYXRhLnYzPXRoaXMudjMudG9BcnJheSgpO3JldHVybiBkYXRhO307Q3ViaWNCZXppZXJDdXJ2ZS5wcm90b3R5cGUuZnJvbUpTT049ZnVuY3Rpb24oanNvbil7Q3VydmUucHJvdG90eXBlLmZyb21KU09OLmNhbGwodGhpcyxqc29uKTt0aGlzLnYwLmZyb21BcnJheShqc29uLnYwKTt0aGlzLnYxLmZyb21BcnJheShqc29uLnYxKTt0aGlzLnYyLmZyb21BcnJheShqc29uLnYyKTt0aGlzLnYzLmZyb21BcnJheShqc29uLnYzKTtyZXR1cm4gdGhpczt9O2Z1bmN0aW9uIEN1YmljQmV6aWVyQ3VydmUzKHYwLHYxLHYyLHYzKXtDdXJ2ZS5jYWxsKHRoaXMpO3RoaXMudHlwZT0nQ3ViaWNCZXppZXJDdXJ2ZTMnO3RoaXMudjA9djB8fG5ldyBWZWN0b3IzKCk7dGhpcy52MT12MXx8bmV3IFZlY3RvcjMoKTt0aGlzLnYyPXYyfHxuZXcgVmVjdG9yMygpO3RoaXMudjM9djN8fG5ldyBWZWN0b3IzKCk7fUN1YmljQmV6aWVyQ3VydmUzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEN1cnZlLnByb3RvdHlwZSk7Q3ViaWNCZXppZXJDdXJ2ZTMucHJvdG90eXBlLmNvbnN0cnVjdG9yPUN1YmljQmV6aWVyQ3VydmUzO0N1YmljQmV6aWVyQ3VydmUzLnByb3RvdHlwZS5pc0N1YmljQmV6aWVyQ3VydmUzPXRydWU7Q3ViaWNCZXppZXJDdXJ2ZTMucHJvdG90eXBlLmdldFBvaW50PWZ1bmN0aW9uKHQsb3B0aW9uYWxUYXJnZXQpe3ZhciBwb2ludD1vcHRpb25hbFRhcmdldHx8bmV3IFZlY3RvcjMoKTt2YXIgdjA9dGhpcy52MCx2MT10aGlzLnYxLHYyPXRoaXMudjIsdjM9dGhpcy52Mztwb2ludC5zZXQoQ3ViaWNCZXppZXIodCx2MC54LHYxLngsdjIueCx2My54KSxDdWJpY0Jlemllcih0LHYwLnksdjEueSx2Mi55LHYzLnkpLEN1YmljQmV6aWVyKHQsdjAueix2MS56LHYyLnosdjMueikpO3JldHVybiBwb2ludDt9O0N1YmljQmV6aWVyQ3VydmUzLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKHNvdXJjZSl7Q3VydmUucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHNvdXJjZSk7dGhpcy52MC5jb3B5KHNvdXJjZS52MCk7dGhpcy52MS5jb3B5KHNvdXJjZS52MSk7dGhpcy52Mi5jb3B5KHNvdXJjZS52Mik7dGhpcy52My5jb3B5KHNvdXJjZS52Myk7cmV0dXJuIHRoaXM7fTtDdWJpY0JlemllckN1cnZlMy5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7dmFyIGRhdGE9Q3VydmUucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMpO2RhdGEudjA9dGhpcy52MC50b0FycmF5KCk7ZGF0YS52MT10aGlzLnYxLnRvQXJyYXkoKTtkYXRhLnYyPXRoaXMudjIudG9BcnJheSgpO2RhdGEudjM9dGhpcy52My50b0FycmF5KCk7cmV0dXJuIGRhdGE7fTtDdWJpY0JlemllckN1cnZlMy5wcm90b3R5cGUuZnJvbUpTT049ZnVuY3Rpb24oanNvbil7Q3VydmUucHJvdG90eXBlLmZyb21KU09OLmNhbGwodGhpcyxqc29uKTt0aGlzLnYwLmZyb21BcnJheShqc29uLnYwKTt0aGlzLnYxLmZyb21BcnJheShqc29uLnYxKTt0aGlzLnYyLmZyb21BcnJheShqc29uLnYyKTt0aGlzLnYzLmZyb21BcnJheShqc29uLnYzKTtyZXR1cm4gdGhpczt9O2Z1bmN0aW9uIExpbmVDdXJ2ZSh2MSx2Mil7Q3VydmUuY2FsbCh0aGlzKTt0aGlzLnR5cGU9J0xpbmVDdXJ2ZSc7dGhpcy52MT12MXx8bmV3IFZlY3RvcjIoKTt0aGlzLnYyPXYyfHxuZXcgVmVjdG9yMigpO31MaW5lQ3VydmUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoQ3VydmUucHJvdG90eXBlKTtMaW5lQ3VydmUucHJvdG90eXBlLmNvbnN0cnVjdG9yPUxpbmVDdXJ2ZTtMaW5lQ3VydmUucHJvdG90eXBlLmlzTGluZUN1cnZlPXRydWU7TGluZUN1cnZlLnByb3RvdHlwZS5nZXRQb2ludD1mdW5jdGlvbih0LG9wdGlvbmFsVGFyZ2V0KXt2YXIgcG9pbnQ9b3B0aW9uYWxUYXJnZXR8fG5ldyBWZWN0b3IyKCk7aWYodD09PTEpe3BvaW50LmNvcHkodGhpcy52Mik7fWVsc2V7cG9pbnQuY29weSh0aGlzLnYyKS5zdWIodGhpcy52MSk7cG9pbnQubXVsdGlwbHlTY2FsYXIodCkuYWRkKHRoaXMudjEpO31yZXR1cm4gcG9pbnQ7fTsvLyBMaW5lIGN1cnZlIGlzIGxpbmVhciwgc28gd2UgY2FuIG92ZXJ3cml0ZSBkZWZhdWx0IGdldFBvaW50QXQKTGluZUN1cnZlLnByb3RvdHlwZS5nZXRQb2ludEF0PWZ1bmN0aW9uKHUsb3B0aW9uYWxUYXJnZXQpe3JldHVybiB0aGlzLmdldFBvaW50KHUsb3B0aW9uYWxUYXJnZXQpO307TGluZUN1cnZlLnByb3RvdHlwZS5nZXRUYW5nZW50PWZ1bmN0aW9uLyogdCAqLygpe3ZhciB0YW5nZW50PXRoaXMudjIuY2xvbmUoKS5zdWIodGhpcy52MSk7cmV0dXJuIHRhbmdlbnQubm9ybWFsaXplKCk7fTtMaW5lQ3VydmUucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oc291cmNlKXtDdXJ2ZS5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsc291cmNlKTt0aGlzLnYxLmNvcHkoc291cmNlLnYxKTt0aGlzLnYyLmNvcHkoc291cmNlLnYyKTtyZXR1cm4gdGhpczt9O0xpbmVDdXJ2ZS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7dmFyIGRhdGE9Q3VydmUucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMpO2RhdGEudjE9dGhpcy52MS50b0FycmF5KCk7ZGF0YS52Mj10aGlzLnYyLnRvQXJyYXkoKTtyZXR1cm4gZGF0YTt9O0xpbmVDdXJ2ZS5wcm90b3R5cGUuZnJvbUpTT049ZnVuY3Rpb24oanNvbil7Q3VydmUucHJvdG90eXBlLmZyb21KU09OLmNhbGwodGhpcyxqc29uKTt0aGlzLnYxLmZyb21BcnJheShqc29uLnYxKTt0aGlzLnYyLmZyb21BcnJheShqc29uLnYyKTtyZXR1cm4gdGhpczt9O2Z1bmN0aW9uIExpbmVDdXJ2ZTModjEsdjIpe0N1cnZlLmNhbGwodGhpcyk7dGhpcy50eXBlPSdMaW5lQ3VydmUzJzt0aGlzLnYxPXYxfHxuZXcgVmVjdG9yMygpO3RoaXMudjI9djJ8fG5ldyBWZWN0b3IzKCk7fUxpbmVDdXJ2ZTMucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoQ3VydmUucHJvdG90eXBlKTtMaW5lQ3VydmUzLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1MaW5lQ3VydmUzO0xpbmVDdXJ2ZTMucHJvdG90eXBlLmlzTGluZUN1cnZlMz10cnVlO0xpbmVDdXJ2ZTMucHJvdG90eXBlLmdldFBvaW50PWZ1bmN0aW9uKHQsb3B0aW9uYWxUYXJnZXQpe3ZhciBwb2ludD1vcHRpb25hbFRhcmdldHx8bmV3IFZlY3RvcjMoKTtpZih0PT09MSl7cG9pbnQuY29weSh0aGlzLnYyKTt9ZWxzZXtwb2ludC5jb3B5KHRoaXMudjIpLnN1Yih0aGlzLnYxKTtwb2ludC5tdWx0aXBseVNjYWxhcih0KS5hZGQodGhpcy52MSk7fXJldHVybiBwb2ludDt9Oy8vIExpbmUgY3VydmUgaXMgbGluZWFyLCBzbyB3ZSBjYW4gb3ZlcndyaXRlIGRlZmF1bHQgZ2V0UG9pbnRBdApMaW5lQ3VydmUzLnByb3RvdHlwZS5nZXRQb2ludEF0PWZ1bmN0aW9uKHUsb3B0aW9uYWxUYXJnZXQpe3JldHVybiB0aGlzLmdldFBvaW50KHUsb3B0aW9uYWxUYXJnZXQpO307TGluZUN1cnZlMy5wcm90b3R5cGUuY29weT1mdW5jdGlvbihzb3VyY2Upe0N1cnZlLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyxzb3VyY2UpO3RoaXMudjEuY29weShzb3VyY2UudjEpO3RoaXMudjIuY29weShzb3VyY2UudjIpO3JldHVybiB0aGlzO307TGluZUN1cnZlMy5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7dmFyIGRhdGE9Q3VydmUucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMpO2RhdGEudjE9dGhpcy52MS50b0FycmF5KCk7ZGF0YS52Mj10aGlzLnYyLnRvQXJyYXkoKTtyZXR1cm4gZGF0YTt9O0xpbmVDdXJ2ZTMucHJvdG90eXBlLmZyb21KU09OPWZ1bmN0aW9uKGpzb24pe0N1cnZlLnByb3RvdHlwZS5mcm9tSlNPTi5jYWxsKHRoaXMsanNvbik7dGhpcy52MS5mcm9tQXJyYXkoanNvbi52MSk7dGhpcy52Mi5mcm9tQXJyYXkoanNvbi52Mik7cmV0dXJuIHRoaXM7fTtmdW5jdGlvbiBRdWFkcmF0aWNCZXppZXJDdXJ2ZSh2MCx2MSx2Mil7Q3VydmUuY2FsbCh0aGlzKTt0aGlzLnR5cGU9J1F1YWRyYXRpY0JlemllckN1cnZlJzt0aGlzLnYwPXYwfHxuZXcgVmVjdG9yMigpO3RoaXMudjE9djF8fG5ldyBWZWN0b3IyKCk7dGhpcy52Mj12Mnx8bmV3IFZlY3RvcjIoKTt9UXVhZHJhdGljQmV6aWVyQ3VydmUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoQ3VydmUucHJvdG90eXBlKTtRdWFkcmF0aWNCZXppZXJDdXJ2ZS5wcm90b3R5cGUuY29uc3RydWN0b3I9UXVhZHJhdGljQmV6aWVyQ3VydmU7UXVhZHJhdGljQmV6aWVyQ3VydmUucHJvdG90eXBlLmlzUXVhZHJhdGljQmV6aWVyQ3VydmU9dHJ1ZTtRdWFkcmF0aWNCZXppZXJDdXJ2ZS5wcm90b3R5cGUuZ2V0UG9pbnQ9ZnVuY3Rpb24odCxvcHRpb25hbFRhcmdldCl7dmFyIHBvaW50PW9wdGlvbmFsVGFyZ2V0fHxuZXcgVmVjdG9yMigpO3ZhciB2MD10aGlzLnYwLHYxPXRoaXMudjEsdjI9dGhpcy52Mjtwb2ludC5zZXQoUXVhZHJhdGljQmV6aWVyKHQsdjAueCx2MS54LHYyLngpLFF1YWRyYXRpY0Jlemllcih0LHYwLnksdjEueSx2Mi55KSk7cmV0dXJuIHBvaW50O307UXVhZHJhdGljQmV6aWVyQ3VydmUucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oc291cmNlKXtDdXJ2ZS5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsc291cmNlKTt0aGlzLnYwLmNvcHkoc291cmNlLnYwKTt0aGlzLnYxLmNvcHkoc291cmNlLnYxKTt0aGlzLnYyLmNvcHkoc291cmNlLnYyKTtyZXR1cm4gdGhpczt9O1F1YWRyYXRpY0JlemllckN1cnZlLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXt2YXIgZGF0YT1DdXJ2ZS5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyk7ZGF0YS52MD10aGlzLnYwLnRvQXJyYXkoKTtkYXRhLnYxPXRoaXMudjEudG9BcnJheSgpO2RhdGEudjI9dGhpcy52Mi50b0FycmF5KCk7cmV0dXJuIGRhdGE7fTtRdWFkcmF0aWNCZXppZXJDdXJ2ZS5wcm90b3R5cGUuZnJvbUpTT049ZnVuY3Rpb24oanNvbil7Q3VydmUucHJvdG90eXBlLmZyb21KU09OLmNhbGwodGhpcyxqc29uKTt0aGlzLnYwLmZyb21BcnJheShqc29uLnYwKTt0aGlzLnYxLmZyb21BcnJheShqc29uLnYxKTt0aGlzLnYyLmZyb21BcnJheShqc29uLnYyKTtyZXR1cm4gdGhpczt9O2Z1bmN0aW9uIFF1YWRyYXRpY0JlemllckN1cnZlMyh2MCx2MSx2Mil7Q3VydmUuY2FsbCh0aGlzKTt0aGlzLnR5cGU9J1F1YWRyYXRpY0JlemllckN1cnZlMyc7dGhpcy52MD12MHx8bmV3IFZlY3RvcjMoKTt0aGlzLnYxPXYxfHxuZXcgVmVjdG9yMygpO3RoaXMudjI9djJ8fG5ldyBWZWN0b3IzKCk7fVF1YWRyYXRpY0JlemllckN1cnZlMy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShDdXJ2ZS5wcm90b3R5cGUpO1F1YWRyYXRpY0JlemllckN1cnZlMy5wcm90b3R5cGUuY29uc3RydWN0b3I9UXVhZHJhdGljQmV6aWVyQ3VydmUzO1F1YWRyYXRpY0JlemllckN1cnZlMy5wcm90b3R5cGUuaXNRdWFkcmF0aWNCZXppZXJDdXJ2ZTM9dHJ1ZTtRdWFkcmF0aWNCZXppZXJDdXJ2ZTMucHJvdG90eXBlLmdldFBvaW50PWZ1bmN0aW9uKHQsb3B0aW9uYWxUYXJnZXQpe3ZhciBwb2ludD1vcHRpb25hbFRhcmdldHx8bmV3IFZlY3RvcjMoKTt2YXIgdjA9dGhpcy52MCx2MT10aGlzLnYxLHYyPXRoaXMudjI7cG9pbnQuc2V0KFF1YWRyYXRpY0Jlemllcih0LHYwLngsdjEueCx2Mi54KSxRdWFkcmF0aWNCZXppZXIodCx2MC55LHYxLnksdjIueSksUXVhZHJhdGljQmV6aWVyKHQsdjAueix2MS56LHYyLnopKTtyZXR1cm4gcG9pbnQ7fTtRdWFkcmF0aWNCZXppZXJDdXJ2ZTMucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oc291cmNlKXtDdXJ2ZS5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsc291cmNlKTt0aGlzLnYwLmNvcHkoc291cmNlLnYwKTt0aGlzLnYxLmNvcHkoc291cmNlLnYxKTt0aGlzLnYyLmNvcHkoc291cmNlLnYyKTtyZXR1cm4gdGhpczt9O1F1YWRyYXRpY0JlemllckN1cnZlMy5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7dmFyIGRhdGE9Q3VydmUucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMpO2RhdGEudjA9dGhpcy52MC50b0FycmF5KCk7ZGF0YS52MT10aGlzLnYxLnRvQXJyYXkoKTtkYXRhLnYyPXRoaXMudjIudG9BcnJheSgpO3JldHVybiBkYXRhO307UXVhZHJhdGljQmV6aWVyQ3VydmUzLnByb3RvdHlwZS5mcm9tSlNPTj1mdW5jdGlvbihqc29uKXtDdXJ2ZS5wcm90b3R5cGUuZnJvbUpTT04uY2FsbCh0aGlzLGpzb24pO3RoaXMudjAuZnJvbUFycmF5KGpzb24udjApO3RoaXMudjEuZnJvbUFycmF5KGpzb24udjEpO3RoaXMudjIuZnJvbUFycmF5KGpzb24udjIpO3JldHVybiB0aGlzO307ZnVuY3Rpb24gU3BsaW5lQ3VydmUocG9pbnRzLyogYXJyYXkgb2YgVmVjdG9yMiAqLyl7Q3VydmUuY2FsbCh0aGlzKTt0aGlzLnR5cGU9J1NwbGluZUN1cnZlJzt0aGlzLnBvaW50cz1wb2ludHN8fFtdO31TcGxpbmVDdXJ2ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShDdXJ2ZS5wcm90b3R5cGUpO1NwbGluZUN1cnZlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1TcGxpbmVDdXJ2ZTtTcGxpbmVDdXJ2ZS5wcm90b3R5cGUuaXNTcGxpbmVDdXJ2ZT10cnVlO1NwbGluZUN1cnZlLnByb3RvdHlwZS5nZXRQb2ludD1mdW5jdGlvbih0LG9wdGlvbmFsVGFyZ2V0KXt2YXIgcG9pbnQ9b3B0aW9uYWxUYXJnZXR8fG5ldyBWZWN0b3IyKCk7dmFyIHBvaW50cz10aGlzLnBvaW50czt2YXIgcD0ocG9pbnRzLmxlbmd0aC0xKSp0O3ZhciBpbnRQb2ludD1NYXRoLmZsb29yKHApO3ZhciB3ZWlnaHQ9cC1pbnRQb2ludDt2YXIgcDA9cG9pbnRzW2ludFBvaW50PT09MD9pbnRQb2ludDppbnRQb2ludC0xXTt2YXIgcDE9cG9pbnRzW2ludFBvaW50XTt2YXIgcDI9cG9pbnRzW2ludFBvaW50PnBvaW50cy5sZW5ndGgtMj9wb2ludHMubGVuZ3RoLTE6aW50UG9pbnQrMV07dmFyIHAzPXBvaW50c1tpbnRQb2ludD5wb2ludHMubGVuZ3RoLTM/cG9pbnRzLmxlbmd0aC0xOmludFBvaW50KzJdO3BvaW50LnNldChDYXRtdWxsUm9tKHdlaWdodCxwMC54LHAxLngscDIueCxwMy54KSxDYXRtdWxsUm9tKHdlaWdodCxwMC55LHAxLnkscDIueSxwMy55KSk7cmV0dXJuIHBvaW50O307U3BsaW5lQ3VydmUucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oc291cmNlKXtDdXJ2ZS5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsc291cmNlKTt0aGlzLnBvaW50cz1bXTtmb3IodmFyIGk9MCxsPXNvdXJjZS5wb2ludHMubGVuZ3RoO2k8bDtpKyspe3ZhciBwb2ludD1zb3VyY2UucG9pbnRzW2ldO3RoaXMucG9pbnRzLnB1c2gocG9pbnQuY2xvbmUoKSk7fXJldHVybiB0aGlzO307U3BsaW5lQ3VydmUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3ZhciBkYXRhPUN1cnZlLnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzKTtkYXRhLnBvaW50cz1bXTtmb3IodmFyIGk9MCxsPXRoaXMucG9pbnRzLmxlbmd0aDtpPGw7aSsrKXt2YXIgcG9pbnQ9dGhpcy5wb2ludHNbaV07ZGF0YS5wb2ludHMucHVzaChwb2ludC50b0FycmF5KCkpO31yZXR1cm4gZGF0YTt9O1NwbGluZUN1cnZlLnByb3RvdHlwZS5mcm9tSlNPTj1mdW5jdGlvbihqc29uKXtDdXJ2ZS5wcm90b3R5cGUuZnJvbUpTT04uY2FsbCh0aGlzLGpzb24pO3RoaXMucG9pbnRzPVtdO2Zvcih2YXIgaT0wLGw9anNvbi5wb2ludHMubGVuZ3RoO2k8bDtpKyspe3ZhciBwb2ludD1qc29uLnBvaW50c1tpXTt0aGlzLnBvaW50cy5wdXNoKG5ldyBWZWN0b3IyKCkuZnJvbUFycmF5KHBvaW50KSk7fXJldHVybiB0aGlzO307dmFyIEN1cnZlcz0vKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsQXJjQ3VydmU6QXJjQ3VydmUsQ2F0bXVsbFJvbUN1cnZlMzpDYXRtdWxsUm9tQ3VydmUzLEN1YmljQmV6aWVyQ3VydmU6Q3ViaWNCZXppZXJDdXJ2ZSxDdWJpY0JlemllckN1cnZlMzpDdWJpY0JlemllckN1cnZlMyxFbGxpcHNlQ3VydmU6RWxsaXBzZUN1cnZlLExpbmVDdXJ2ZTpMaW5lQ3VydmUsTGluZUN1cnZlMzpMaW5lQ3VydmUzLFF1YWRyYXRpY0JlemllckN1cnZlOlF1YWRyYXRpY0JlemllckN1cnZlLFF1YWRyYXRpY0JlemllckN1cnZlMzpRdWFkcmF0aWNCZXppZXJDdXJ2ZTMsU3BsaW5lQ3VydmU6U3BsaW5lQ3VydmV9KTsvKioKICAgKiBAYXV0aG9yIHp6ODUgLyBodHRwOi8vd3d3LmxhYjRnYW1lcy5uZXQveno4NS9ibG9nCiAgICoKICAgKiovIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogICAqCUN1cnZlZCBQYXRoIC0gYSBjdXJ2ZSBwYXRoIGlzIHNpbXBseSBhIGFycmF5IG9mIGNvbm5lY3RlZAogICAqICBjdXJ2ZXMsIGJ1dCByZXRhaW5zIHRoZSBhcGkgb2YgYSBjdXJ2ZQogICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9mdW5jdGlvbiBDdXJ2ZVBhdGgoKXtDdXJ2ZS5jYWxsKHRoaXMpO3RoaXMudHlwZT0nQ3VydmVQYXRoJzt0aGlzLmN1cnZlcz1bXTt0aGlzLmF1dG9DbG9zZT1mYWxzZTsvLyBBdXRvbWF0aWNhbGx5IGNsb3NlcyB0aGUgcGF0aAp9Q3VydmVQYXRoLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoQ3VydmUucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6Q3VydmVQYXRoLGFkZDpmdW5jdGlvbiBhZGQoY3VydmUpe3RoaXMuY3VydmVzLnB1c2goY3VydmUpO30sY2xvc2VQYXRoOmZ1bmN0aW9uIGNsb3NlUGF0aCgpey8vIEFkZCBhIGxpbmUgY3VydmUgaWYgc3RhcnQgYW5kIGVuZCBvZiBsaW5lcyBhcmUgbm90IGNvbm5lY3RlZAp2YXIgc3RhcnRQb2ludD10aGlzLmN1cnZlc1swXS5nZXRQb2ludCgwKTt2YXIgZW5kUG9pbnQ9dGhpcy5jdXJ2ZXNbdGhpcy5jdXJ2ZXMubGVuZ3RoLTFdLmdldFBvaW50KDEpO2lmKCFzdGFydFBvaW50LmVxdWFscyhlbmRQb2ludCkpe3RoaXMuY3VydmVzLnB1c2gobmV3IExpbmVDdXJ2ZShlbmRQb2ludCxzdGFydFBvaW50KSk7fX0sLy8gVG8gZ2V0IGFjY3VyYXRlIHBvaW50IHdpdGggcmVmZXJlbmNlIHRvCi8vIGVudGlyZSBwYXRoIGRpc3RhbmNlIGF0IHRpbWUgdCwKLy8gZm9sbG93aW5nIGhhcyB0byBiZSBkb25lOgovLyAxLiBMZW5ndGggb2YgZWFjaCBzdWIgcGF0aCBoYXZlIHRvIGJlIGtub3duCi8vIDIuIExvY2F0ZSBhbmQgaWRlbnRpZnkgdHlwZSBvZiBjdXJ2ZQovLyAzLiBHZXQgdCBmb3IgdGhlIGN1cnZlCi8vIDQuIFJldHVybiBjdXJ2ZS5nZXRQb2ludEF0KHQnKQpnZXRQb2ludDpmdW5jdGlvbiBnZXRQb2ludCh0KXt2YXIgZD10KnRoaXMuZ2V0TGVuZ3RoKCk7dmFyIGN1cnZlTGVuZ3Rocz10aGlzLmdldEN1cnZlTGVuZ3RocygpO3ZhciBpPTA7Ly8gVG8gdGhpbmsgYWJvdXQgYm91bmRhcmllcyBwb2ludHMuCndoaWxlKGk8Y3VydmVMZW5ndGhzLmxlbmd0aCl7aWYoY3VydmVMZW5ndGhzW2ldPj1kKXt2YXIgZGlmZj1jdXJ2ZUxlbmd0aHNbaV0tZDt2YXIgY3VydmU9dGhpcy5jdXJ2ZXNbaV07dmFyIHNlZ21lbnRMZW5ndGg9Y3VydmUuZ2V0TGVuZ3RoKCk7dmFyIHU9c2VnbWVudExlbmd0aD09PTA/MDoxLWRpZmYvc2VnbWVudExlbmd0aDtyZXR1cm4gY3VydmUuZ2V0UG9pbnRBdCh1KTt9aSsrO31yZXR1cm4gbnVsbDsvLyBsb29wIHdoZXJlIHN1bSAhPSAwLCBzdW0gPiBkICwgc3VtKzEgPGQKfSwvLyBXZSBjYW5ub3QgdXNlIHRoZSBkZWZhdWx0IFRIUkVFLkN1cnZlIGdldFBvaW50KCkgd2l0aCBnZXRMZW5ndGgoKSBiZWNhdXNlIGluCi8vIFRIUkVFLkN1cnZlLCBnZXRMZW5ndGgoKSBkZXBlbmRzIG9uIGdldFBvaW50KCkgYnV0IGluIFRIUkVFLkN1cnZlUGF0aAovLyBnZXRQb2ludCgpIGRlcGVuZHMgb24gZ2V0TGVuZ3RoCmdldExlbmd0aDpmdW5jdGlvbiBnZXRMZW5ndGgoKXt2YXIgbGVucz10aGlzLmdldEN1cnZlTGVuZ3RocygpO3JldHVybiBsZW5zW2xlbnMubGVuZ3RoLTFdO30sLy8gY2FjaGVMZW5ndGhzIG11c3QgYmUgcmVjYWxjdWxhdGVkLgp1cGRhdGVBcmNMZW5ndGhzOmZ1bmN0aW9uIHVwZGF0ZUFyY0xlbmd0aHMoKXt0aGlzLm5lZWRzVXBkYXRlPXRydWU7dGhpcy5jYWNoZUxlbmd0aHM9bnVsbDt0aGlzLmdldEN1cnZlTGVuZ3RocygpO30sLy8gQ29tcHV0ZSBsZW5ndGhzIGFuZCBjYWNoZSB0aGVtCi8vIFdlIGNhbm5vdCBvdmVyd3JpdGUgZ2V0TGVuZ3RocygpIGJlY2F1c2UgVXRvVCBtYXBwaW5nIHVzZXMgaXQuCmdldEN1cnZlTGVuZ3RoczpmdW5jdGlvbiBnZXRDdXJ2ZUxlbmd0aHMoKXsvLyBXZSB1c2UgY2FjaGUgdmFsdWVzIGlmIGN1cnZlcyBhbmQgY2FjaGUgYXJyYXkgYXJlIHNhbWUgbGVuZ3RoCmlmKHRoaXMuY2FjaGVMZW5ndGhzJiZ0aGlzLmNhY2hlTGVuZ3Rocy5sZW5ndGg9PT10aGlzLmN1cnZlcy5sZW5ndGgpe3JldHVybiB0aGlzLmNhY2hlTGVuZ3Roczt9Ly8gR2V0IGxlbmd0aCBvZiBzdWItY3VydmUKLy8gUHVzaCBzdW1zIGludG8gY2FjaGVkIGFycmF5CnZhciBsZW5ndGhzPVtdLHN1bXM9MDtmb3IodmFyIGk9MCxsPXRoaXMuY3VydmVzLmxlbmd0aDtpPGw7aSsrKXtzdW1zKz10aGlzLmN1cnZlc1tpXS5nZXRMZW5ndGgoKTtsZW5ndGhzLnB1c2goc3Vtcyk7fXRoaXMuY2FjaGVMZW5ndGhzPWxlbmd0aHM7cmV0dXJuIGxlbmd0aHM7fSxnZXRTcGFjZWRQb2ludHM6ZnVuY3Rpb24gZ2V0U3BhY2VkUG9pbnRzKGRpdmlzaW9ucyl7aWYoZGl2aXNpb25zPT09dW5kZWZpbmVkKXtkaXZpc2lvbnM9NDA7fXZhciBwb2ludHM9W107Zm9yKHZhciBpPTA7aTw9ZGl2aXNpb25zO2krKyl7cG9pbnRzLnB1c2godGhpcy5nZXRQb2ludChpL2RpdmlzaW9ucykpO31pZih0aGlzLmF1dG9DbG9zZSl7cG9pbnRzLnB1c2gocG9pbnRzWzBdKTt9cmV0dXJuIHBvaW50czt9LGdldFBvaW50czpmdW5jdGlvbiBnZXRQb2ludHMoZGl2aXNpb25zKXtkaXZpc2lvbnM9ZGl2aXNpb25zfHwxMjt2YXIgcG9pbnRzPVtdLGxhc3Q7Zm9yKHZhciBpPTAsY3VydmVzPXRoaXMuY3VydmVzO2k8Y3VydmVzLmxlbmd0aDtpKyspe3ZhciBjdXJ2ZT1jdXJ2ZXNbaV07dmFyIHJlc29sdXRpb249Y3VydmUmJmN1cnZlLmlzRWxsaXBzZUN1cnZlP2RpdmlzaW9ucyoyOmN1cnZlJiYoY3VydmUuaXNMaW5lQ3VydmV8fGN1cnZlLmlzTGluZUN1cnZlMyk/MTpjdXJ2ZSYmY3VydmUuaXNTcGxpbmVDdXJ2ZT9kaXZpc2lvbnMqY3VydmUucG9pbnRzLmxlbmd0aDpkaXZpc2lvbnM7dmFyIHB0cz1jdXJ2ZS5nZXRQb2ludHMocmVzb2x1dGlvbik7Zm9yKHZhciBqPTA7ajxwdHMubGVuZ3RoO2orKyl7dmFyIHBvaW50PXB0c1tqXTtpZihsYXN0JiZsYXN0LmVxdWFscyhwb2ludCkpe2NvbnRpbnVlO30vLyBlbnN1cmVzIG5vIGNvbnNlY3V0aXZlIHBvaW50cyBhcmUgZHVwbGljYXRlcwpwb2ludHMucHVzaChwb2ludCk7bGFzdD1wb2ludDt9fWlmKHRoaXMuYXV0b0Nsb3NlJiZwb2ludHMubGVuZ3RoPjEmJiFwb2ludHNbcG9pbnRzLmxlbmd0aC0xXS5lcXVhbHMocG9pbnRzWzBdKSl7cG9pbnRzLnB1c2gocG9pbnRzWzBdKTt9cmV0dXJuIHBvaW50czt9LGNvcHk6ZnVuY3Rpb24gY29weShzb3VyY2Upe0N1cnZlLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyxzb3VyY2UpO3RoaXMuY3VydmVzPVtdO2Zvcih2YXIgaT0wLGw9c291cmNlLmN1cnZlcy5sZW5ndGg7aTxsO2krKyl7dmFyIGN1cnZlPXNvdXJjZS5jdXJ2ZXNbaV07dGhpcy5jdXJ2ZXMucHVzaChjdXJ2ZS5jbG9uZSgpKTt9dGhpcy5hdXRvQ2xvc2U9c291cmNlLmF1dG9DbG9zZTtyZXR1cm4gdGhpczt9LHRvSlNPTjpmdW5jdGlvbiB0b0pTT04oKXt2YXIgZGF0YT1DdXJ2ZS5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyk7ZGF0YS5hdXRvQ2xvc2U9dGhpcy5hdXRvQ2xvc2U7ZGF0YS5jdXJ2ZXM9W107Zm9yKHZhciBpPTAsbD10aGlzLmN1cnZlcy5sZW5ndGg7aTxsO2krKyl7dmFyIGN1cnZlPXRoaXMuY3VydmVzW2ldO2RhdGEuY3VydmVzLnB1c2goY3VydmUudG9KU09OKCkpO31yZXR1cm4gZGF0YTt9LGZyb21KU09OOmZ1bmN0aW9uIGZyb21KU09OKGpzb24pe0N1cnZlLnByb3RvdHlwZS5mcm9tSlNPTi5jYWxsKHRoaXMsanNvbik7dGhpcy5hdXRvQ2xvc2U9anNvbi5hdXRvQ2xvc2U7dGhpcy5jdXJ2ZXM9W107Zm9yKHZhciBpPTAsbD1qc29uLmN1cnZlcy5sZW5ndGg7aTxsO2krKyl7dmFyIGN1cnZlPWpzb24uY3VydmVzW2ldO3RoaXMuY3VydmVzLnB1c2gobmV3IEN1cnZlc1tjdXJ2ZS50eXBlXSgpLmZyb21KU09OKGN1cnZlKSk7fXJldHVybiB0aGlzO319KTsvKioKICAgKiBAYXV0aG9yIHp6ODUgLyBodHRwOi8vd3d3LmxhYjRnYW1lcy5uZXQveno4NS9ibG9nCiAgICogQ3JlYXRlcyBmcmVlIGZvcm0gMmQgcGF0aCB1c2luZyBzZXJpZXMgb2YgcG9pbnRzLCBsaW5lcyBvciBjdXJ2ZXMuCiAgICoqL2Z1bmN0aW9uIFBhdGgocG9pbnRzKXtDdXJ2ZVBhdGguY2FsbCh0aGlzKTt0aGlzLnR5cGU9J1BhdGgnO3RoaXMuY3VycmVudFBvaW50PW5ldyBWZWN0b3IyKCk7aWYocG9pbnRzKXt0aGlzLnNldEZyb21Qb2ludHMocG9pbnRzKTt9fVBhdGgucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShDdXJ2ZVBhdGgucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6UGF0aCxzZXRGcm9tUG9pbnRzOmZ1bmN0aW9uIHNldEZyb21Qb2ludHMocG9pbnRzKXt0aGlzLm1vdmVUbyhwb2ludHNbMF0ueCxwb2ludHNbMF0ueSk7Zm9yKHZhciBpPTEsbD1wb2ludHMubGVuZ3RoO2k8bDtpKyspe3RoaXMubGluZVRvKHBvaW50c1tpXS54LHBvaW50c1tpXS55KTt9cmV0dXJuIHRoaXM7fSxtb3ZlVG86ZnVuY3Rpb24gbW92ZVRvKHgseSl7dGhpcy5jdXJyZW50UG9pbnQuc2V0KHgseSk7Ly8gVE9ETyBjb25zaWRlciByZWZlcmVuY2luZyB2ZWN0b3JzIGluc3RlYWQgb2YgY29weWluZz8KcmV0dXJuIHRoaXM7fSxsaW5lVG86ZnVuY3Rpb24gbGluZVRvKHgseSl7dmFyIGN1cnZlPW5ldyBMaW5lQ3VydmUodGhpcy5jdXJyZW50UG9pbnQuY2xvbmUoKSxuZXcgVmVjdG9yMih4LHkpKTt0aGlzLmN1cnZlcy5wdXNoKGN1cnZlKTt0aGlzLmN1cnJlbnRQb2ludC5zZXQoeCx5KTtyZXR1cm4gdGhpczt9LHF1YWRyYXRpY0N1cnZlVG86ZnVuY3Rpb24gcXVhZHJhdGljQ3VydmVUbyhhQ1B4LGFDUHksYVgsYVkpe3ZhciBjdXJ2ZT1uZXcgUXVhZHJhdGljQmV6aWVyQ3VydmUodGhpcy5jdXJyZW50UG9pbnQuY2xvbmUoKSxuZXcgVmVjdG9yMihhQ1B4LGFDUHkpLG5ldyBWZWN0b3IyKGFYLGFZKSk7dGhpcy5jdXJ2ZXMucHVzaChjdXJ2ZSk7dGhpcy5jdXJyZW50UG9pbnQuc2V0KGFYLGFZKTtyZXR1cm4gdGhpczt9LGJlemllckN1cnZlVG86ZnVuY3Rpb24gYmV6aWVyQ3VydmVUbyhhQ1AxeCxhQ1AxeSxhQ1AyeCxhQ1AyeSxhWCxhWSl7dmFyIGN1cnZlPW5ldyBDdWJpY0JlemllckN1cnZlKHRoaXMuY3VycmVudFBvaW50LmNsb25lKCksbmV3IFZlY3RvcjIoYUNQMXgsYUNQMXkpLG5ldyBWZWN0b3IyKGFDUDJ4LGFDUDJ5KSxuZXcgVmVjdG9yMihhWCxhWSkpO3RoaXMuY3VydmVzLnB1c2goY3VydmUpO3RoaXMuY3VycmVudFBvaW50LnNldChhWCxhWSk7cmV0dXJuIHRoaXM7fSxzcGxpbmVUaHJ1OmZ1bmN0aW9uIHNwbGluZVRocnUocHRzLypBcnJheSBvZiBWZWN0b3IqLyl7dmFyIG5wdHM9W3RoaXMuY3VycmVudFBvaW50LmNsb25lKCldLmNvbmNhdChwdHMpO3ZhciBjdXJ2ZT1uZXcgU3BsaW5lQ3VydmUobnB0cyk7dGhpcy5jdXJ2ZXMucHVzaChjdXJ2ZSk7dGhpcy5jdXJyZW50UG9pbnQuY29weShwdHNbcHRzLmxlbmd0aC0xXSk7cmV0dXJuIHRoaXM7fSxhcmM6ZnVuY3Rpb24gYXJjKGFYLGFZLGFSYWRpdXMsYVN0YXJ0QW5nbGUsYUVuZEFuZ2xlLGFDbG9ja3dpc2Upe3ZhciB4MD10aGlzLmN1cnJlbnRQb2ludC54O3ZhciB5MD10aGlzLmN1cnJlbnRQb2ludC55O3RoaXMuYWJzYXJjKGFYK3gwLGFZK3kwLGFSYWRpdXMsYVN0YXJ0QW5nbGUsYUVuZEFuZ2xlLGFDbG9ja3dpc2UpO3JldHVybiB0aGlzO30sYWJzYXJjOmZ1bmN0aW9uIGFic2FyYyhhWCxhWSxhUmFkaXVzLGFTdGFydEFuZ2xlLGFFbmRBbmdsZSxhQ2xvY2t3aXNlKXt0aGlzLmFic2VsbGlwc2UoYVgsYVksYVJhZGl1cyxhUmFkaXVzLGFTdGFydEFuZ2xlLGFFbmRBbmdsZSxhQ2xvY2t3aXNlKTtyZXR1cm4gdGhpczt9LGVsbGlwc2U6ZnVuY3Rpb24gZWxsaXBzZShhWCxhWSx4UmFkaXVzLHlSYWRpdXMsYVN0YXJ0QW5nbGUsYUVuZEFuZ2xlLGFDbG9ja3dpc2UsYVJvdGF0aW9uKXt2YXIgeDA9dGhpcy5jdXJyZW50UG9pbnQueDt2YXIgeTA9dGhpcy5jdXJyZW50UG9pbnQueTt0aGlzLmFic2VsbGlwc2UoYVgreDAsYVkreTAseFJhZGl1cyx5UmFkaXVzLGFTdGFydEFuZ2xlLGFFbmRBbmdsZSxhQ2xvY2t3aXNlLGFSb3RhdGlvbik7cmV0dXJuIHRoaXM7fSxhYnNlbGxpcHNlOmZ1bmN0aW9uIGFic2VsbGlwc2UoYVgsYVkseFJhZGl1cyx5UmFkaXVzLGFTdGFydEFuZ2xlLGFFbmRBbmdsZSxhQ2xvY2t3aXNlLGFSb3RhdGlvbil7dmFyIGN1cnZlPW5ldyBFbGxpcHNlQ3VydmUoYVgsYVkseFJhZGl1cyx5UmFkaXVzLGFTdGFydEFuZ2xlLGFFbmRBbmdsZSxhQ2xvY2t3aXNlLGFSb3RhdGlvbik7aWYodGhpcy5jdXJ2ZXMubGVuZ3RoPjApey8vIGlmIGEgcHJldmlvdXMgY3VydmUgaXMgcHJlc2VudCwgYXR0ZW1wdCB0byBqb2luCnZhciBmaXJzdFBvaW50PWN1cnZlLmdldFBvaW50KDApO2lmKCFmaXJzdFBvaW50LmVxdWFscyh0aGlzLmN1cnJlbnRQb2ludCkpe3RoaXMubGluZVRvKGZpcnN0UG9pbnQueCxmaXJzdFBvaW50LnkpO319dGhpcy5jdXJ2ZXMucHVzaChjdXJ2ZSk7dmFyIGxhc3RQb2ludD1jdXJ2ZS5nZXRQb2ludCgxKTt0aGlzLmN1cnJlbnRQb2ludC5jb3B5KGxhc3RQb2ludCk7cmV0dXJuIHRoaXM7fSxjb3B5OmZ1bmN0aW9uIGNvcHkoc291cmNlKXtDdXJ2ZVBhdGgucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHNvdXJjZSk7dGhpcy5jdXJyZW50UG9pbnQuY29weShzb3VyY2UuY3VycmVudFBvaW50KTtyZXR1cm4gdGhpczt9LHRvSlNPTjpmdW5jdGlvbiB0b0pTT04oKXt2YXIgZGF0YT1DdXJ2ZVBhdGgucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMpO2RhdGEuY3VycmVudFBvaW50PXRoaXMuY3VycmVudFBvaW50LnRvQXJyYXkoKTtyZXR1cm4gZGF0YTt9LGZyb21KU09OOmZ1bmN0aW9uIGZyb21KU09OKGpzb24pe0N1cnZlUGF0aC5wcm90b3R5cGUuZnJvbUpTT04uY2FsbCh0aGlzLGpzb24pO3RoaXMuY3VycmVudFBvaW50LmZyb21BcnJheShqc29uLmN1cnJlbnRQb2ludCk7cmV0dXJuIHRoaXM7fX0pOy8qKgogICAqIEBhdXRob3Igeno4NSAvIGh0dHA6Ly93d3cubGFiNGdhbWVzLm5ldC96ejg1L2Jsb2cKICAgKiBEZWZpbmVzIGEgMmQgc2hhcGUgcGxhbmUgdXNpbmcgcGF0aHMuCiAgICoqLyAvLyBTVEVQIDEgQ3JlYXRlIGEgcGF0aC4KLy8gU1RFUCAyIFR1cm4gcGF0aCBpbnRvIHNoYXBlLgovLyBTVEVQIDMgRXh0cnVkZUdlb21ldHJ5IHRha2VzIGluIFNoYXBlL1NoYXBlcwovLyBTVEVQIDNhIC0gRXh0cmFjdCBwb2ludHMgZnJvbSBlYWNoIHNoYXBlLCB0dXJuIHRvIHZlcnRpY2VzCi8vIFNURVAgM2IgLSBUcmlhbmd1bGF0ZSBlYWNoIHNoYXBlLCBhZGQgZmFjZXMuCmZ1bmN0aW9uIFNoYXBlKHBvaW50cyl7UGF0aC5jYWxsKHRoaXMscG9pbnRzKTt0aGlzLnV1aWQ9X01hdGguZ2VuZXJhdGVVVUlEKCk7dGhpcy50eXBlPSdTaGFwZSc7dGhpcy5ob2xlcz1bXTt9U2hhcGUucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShQYXRoLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOlNoYXBlLGdldFBvaW50c0hvbGVzOmZ1bmN0aW9uIGdldFBvaW50c0hvbGVzKGRpdmlzaW9ucyl7dmFyIGhvbGVzUHRzPVtdO2Zvcih2YXIgaT0wLGw9dGhpcy5ob2xlcy5sZW5ndGg7aTxsO2krKyl7aG9sZXNQdHNbaV09dGhpcy5ob2xlc1tpXS5nZXRQb2ludHMoZGl2aXNpb25zKTt9cmV0dXJuIGhvbGVzUHRzO30sLy8gZ2V0IHBvaW50cyBvZiBzaGFwZSBhbmQgaG9sZXMgKGtleXBvaW50cyBiYXNlZCBvbiBzZWdtZW50cyBwYXJhbWV0ZXIpCmV4dHJhY3RQb2ludHM6ZnVuY3Rpb24gZXh0cmFjdFBvaW50cyhkaXZpc2lvbnMpe3JldHVybntzaGFwZTp0aGlzLmdldFBvaW50cyhkaXZpc2lvbnMpLGhvbGVzOnRoaXMuZ2V0UG9pbnRzSG9sZXMoZGl2aXNpb25zKX07fSxjb3B5OmZ1bmN0aW9uIGNvcHkoc291cmNlKXtQYXRoLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyxzb3VyY2UpO3RoaXMuaG9sZXM9W107Zm9yKHZhciBpPTAsbD1zb3VyY2UuaG9sZXMubGVuZ3RoO2k8bDtpKyspe3ZhciBob2xlPXNvdXJjZS5ob2xlc1tpXTt0aGlzLmhvbGVzLnB1c2goaG9sZS5jbG9uZSgpKTt9cmV0dXJuIHRoaXM7fSx0b0pTT046ZnVuY3Rpb24gdG9KU09OKCl7dmFyIGRhdGE9UGF0aC5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyk7ZGF0YS51dWlkPXRoaXMudXVpZDtkYXRhLmhvbGVzPVtdO2Zvcih2YXIgaT0wLGw9dGhpcy5ob2xlcy5sZW5ndGg7aTxsO2krKyl7dmFyIGhvbGU9dGhpcy5ob2xlc1tpXTtkYXRhLmhvbGVzLnB1c2goaG9sZS50b0pTT04oKSk7fXJldHVybiBkYXRhO30sZnJvbUpTT046ZnVuY3Rpb24gZnJvbUpTT04oanNvbil7UGF0aC5wcm90b3R5cGUuZnJvbUpTT04uY2FsbCh0aGlzLGpzb24pO3RoaXMudXVpZD1qc29uLnV1aWQ7dGhpcy5ob2xlcz1bXTtmb3IodmFyIGk9MCxsPWpzb24uaG9sZXMubGVuZ3RoO2k8bDtpKyspe3ZhciBob2xlPWpzb24uaG9sZXNbaV07dGhpcy5ob2xlcy5wdXNoKG5ldyBQYXRoKCkuZnJvbUpTT04oaG9sZSkpO31yZXR1cm4gdGhpczt9fSk7LyoqCiAgICogQGF1dGhvciBtcmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS8KICAgKiBAYXV0aG9yIGFsdGVyZWRxIC8gaHR0cDovL2FsdGVyZWRxdWFsaWEuY29tLwogICAqL2Z1bmN0aW9uIExpZ2h0KGNvbG9yLGludGVuc2l0eSl7T2JqZWN0M0QuY2FsbCh0aGlzKTt0aGlzLnR5cGU9J0xpZ2h0Jzt0aGlzLmNvbG9yPW5ldyBDb2xvcihjb2xvcik7dGhpcy5pbnRlbnNpdHk9aW50ZW5zaXR5IT09dW5kZWZpbmVkP2ludGVuc2l0eToxO3RoaXMucmVjZWl2ZVNoYWRvdz11bmRlZmluZWQ7fUxpZ2h0LnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoT2JqZWN0M0QucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6TGlnaHQsaXNMaWdodDp0cnVlLGNvcHk6ZnVuY3Rpb24gY29weShzb3VyY2Upe09iamVjdDNELnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyxzb3VyY2UpO3RoaXMuY29sb3IuY29weShzb3VyY2UuY29sb3IpO3RoaXMuaW50ZW5zaXR5PXNvdXJjZS5pbnRlbnNpdHk7cmV0dXJuIHRoaXM7fSx0b0pTT046ZnVuY3Rpb24gdG9KU09OKG1ldGEpe3ZhciBkYXRhPU9iamVjdDNELnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzLG1ldGEpO2RhdGEub2JqZWN0LmNvbG9yPXRoaXMuY29sb3IuZ2V0SGV4KCk7ZGF0YS5vYmplY3QuaW50ZW5zaXR5PXRoaXMuaW50ZW5zaXR5O2lmKHRoaXMuZ3JvdW5kQ29sb3IhPT11bmRlZmluZWQpe2RhdGEub2JqZWN0Lmdyb3VuZENvbG9yPXRoaXMuZ3JvdW5kQ29sb3IuZ2V0SGV4KCk7fWlmKHRoaXMuZGlzdGFuY2UhPT11bmRlZmluZWQpe2RhdGEub2JqZWN0LmRpc3RhbmNlPXRoaXMuZGlzdGFuY2U7fWlmKHRoaXMuYW5nbGUhPT11bmRlZmluZWQpe2RhdGEub2JqZWN0LmFuZ2xlPXRoaXMuYW5nbGU7fWlmKHRoaXMuZGVjYXkhPT11bmRlZmluZWQpe2RhdGEub2JqZWN0LmRlY2F5PXRoaXMuZGVjYXk7fWlmKHRoaXMucGVudW1icmEhPT11bmRlZmluZWQpe2RhdGEub2JqZWN0LnBlbnVtYnJhPXRoaXMucGVudW1icmE7fWlmKHRoaXMuc2hhZG93IT09dW5kZWZpbmVkKXtkYXRhLm9iamVjdC5zaGFkb3c9dGhpcy5zaGFkb3cudG9KU09OKCk7fXJldHVybiBkYXRhO319KTsvKioKICAgKiBAYXV0aG9yIGFsdGVyZWRxIC8gaHR0cDovL2FsdGVyZWRxdWFsaWEuY29tLwogICAqL2Z1bmN0aW9uIEhlbWlzcGhlcmVMaWdodChza3lDb2xvcixncm91bmRDb2xvcixpbnRlbnNpdHkpe0xpZ2h0LmNhbGwodGhpcyxza3lDb2xvcixpbnRlbnNpdHkpO3RoaXMudHlwZT0nSGVtaXNwaGVyZUxpZ2h0Jzt0aGlzLmNhc3RTaGFkb3c9dW5kZWZpbmVkO3RoaXMucG9zaXRpb24uY29weShPYmplY3QzRC5EZWZhdWx0VXApO3RoaXMudXBkYXRlTWF0cml4KCk7dGhpcy5ncm91bmRDb2xvcj1uZXcgQ29sb3IoZ3JvdW5kQ29sb3IpO31IZW1pc3BoZXJlTGlnaHQucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShMaWdodC5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpIZW1pc3BoZXJlTGlnaHQsaXNIZW1pc3BoZXJlTGlnaHQ6dHJ1ZSxjb3B5OmZ1bmN0aW9uIGNvcHkoc291cmNlKXtMaWdodC5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsc291cmNlKTt0aGlzLmdyb3VuZENvbG9yLmNvcHkoc291cmNlLmdyb3VuZENvbG9yKTtyZXR1cm4gdGhpczt9fSk7LyoqCiAgICogQGF1dGhvciBtcmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS8KICAgKi9mdW5jdGlvbiBMaWdodFNoYWRvdyhjYW1lcmEpe3RoaXMuY2FtZXJhPWNhbWVyYTt0aGlzLmJpYXM9MDt0aGlzLnJhZGl1cz0xO3RoaXMubWFwU2l6ZT1uZXcgVmVjdG9yMig1MTIsNTEyKTt0aGlzLm1hcD1udWxsO3RoaXMubWFwUGFzcz1udWxsO3RoaXMubWF0cml4PW5ldyBNYXRyaXg0KCk7dGhpcy5fZnJ1c3R1bT1uZXcgRnJ1c3R1bSgpO3RoaXMuX2ZyYW1lRXh0ZW50cz1uZXcgVmVjdG9yMigxLDEpO3RoaXMuX3ZpZXdwb3J0Q291bnQ9MTt0aGlzLl92aWV3cG9ydHM9W25ldyBWZWN0b3I0KDAsMCwxLDEpXTt9T2JqZWN0LmFzc2lnbihMaWdodFNoYWRvdy5wcm90b3R5cGUse19wcm9qU2NyZWVuTWF0cml4Om5ldyBNYXRyaXg0KCksX2xpZ2h0UG9zaXRpb25Xb3JsZDpuZXcgVmVjdG9yMygpLF9sb29rVGFyZ2V0Om5ldyBWZWN0b3IzKCksZ2V0Vmlld3BvcnRDb3VudDpmdW5jdGlvbiBnZXRWaWV3cG9ydENvdW50KCl7cmV0dXJuIHRoaXMuX3ZpZXdwb3J0Q291bnQ7fSxnZXRGcnVzdHVtOmZ1bmN0aW9uIGdldEZydXN0dW0oKXtyZXR1cm4gdGhpcy5fZnJ1c3R1bTt9LHVwZGF0ZU1hdHJpY2VzOmZ1bmN0aW9uIHVwZGF0ZU1hdHJpY2VzKGxpZ2h0KXt2YXIgc2hhZG93Q2FtZXJhPXRoaXMuY2FtZXJhLHNoYWRvd01hdHJpeD10aGlzLm1hdHJpeCxwcm9qU2NyZWVuTWF0cml4PXRoaXMuX3Byb2pTY3JlZW5NYXRyaXgsbG9va1RhcmdldD10aGlzLl9sb29rVGFyZ2V0LGxpZ2h0UG9zaXRpb25Xb3JsZD10aGlzLl9saWdodFBvc2l0aW9uV29ybGQ7bGlnaHRQb3NpdGlvbldvcmxkLnNldEZyb21NYXRyaXhQb3NpdGlvbihsaWdodC5tYXRyaXhXb3JsZCk7c2hhZG93Q2FtZXJhLnBvc2l0aW9uLmNvcHkobGlnaHRQb3NpdGlvbldvcmxkKTtsb29rVGFyZ2V0LnNldEZyb21NYXRyaXhQb3NpdGlvbihsaWdodC50YXJnZXQubWF0cml4V29ybGQpO3NoYWRvd0NhbWVyYS5sb29rQXQobG9va1RhcmdldCk7c2hhZG93Q2FtZXJhLnVwZGF0ZU1hdHJpeFdvcmxkKCk7cHJvalNjcmVlbk1hdHJpeC5tdWx0aXBseU1hdHJpY2VzKHNoYWRvd0NhbWVyYS5wcm9qZWN0aW9uTWF0cml4LHNoYWRvd0NhbWVyYS5tYXRyaXhXb3JsZEludmVyc2UpO3RoaXMuX2ZydXN0dW0uc2V0RnJvbU1hdHJpeChwcm9qU2NyZWVuTWF0cml4KTtzaGFkb3dNYXRyaXguc2V0KDAuNSwwLjAsMC4wLDAuNSwwLjAsMC41LDAuMCwwLjUsMC4wLDAuMCwwLjUsMC41LDAuMCwwLjAsMC4wLDEuMCk7c2hhZG93TWF0cml4Lm11bHRpcGx5KHNoYWRvd0NhbWVyYS5wcm9qZWN0aW9uTWF0cml4KTtzaGFkb3dNYXRyaXgubXVsdGlwbHkoc2hhZG93Q2FtZXJhLm1hdHJpeFdvcmxkSW52ZXJzZSk7fSxnZXRWaWV3cG9ydDpmdW5jdGlvbiBnZXRWaWV3cG9ydCh2aWV3cG9ydEluZGV4KXtyZXR1cm4gdGhpcy5fdmlld3BvcnRzW3ZpZXdwb3J0SW5kZXhdO30sZ2V0RnJhbWVFeHRlbnRzOmZ1bmN0aW9uIGdldEZyYW1lRXh0ZW50cygpe3JldHVybiB0aGlzLl9mcmFtZUV4dGVudHM7fSxjb3B5OmZ1bmN0aW9uIGNvcHkoc291cmNlKXt0aGlzLmNhbWVyYT1zb3VyY2UuY2FtZXJhLmNsb25lKCk7dGhpcy5iaWFzPXNvdXJjZS5iaWFzO3RoaXMucmFkaXVzPXNvdXJjZS5yYWRpdXM7dGhpcy5tYXBTaXplLmNvcHkoc291cmNlLm1hcFNpemUpO3JldHVybiB0aGlzO30sY2xvbmU6ZnVuY3Rpb24gY2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoKS5jb3B5KHRoaXMpO30sdG9KU09OOmZ1bmN0aW9uIHRvSlNPTigpe3ZhciBvYmplY3Q9e307aWYodGhpcy5iaWFzIT09MCl7b2JqZWN0LmJpYXM9dGhpcy5iaWFzO31pZih0aGlzLnJhZGl1cyE9PTEpe29iamVjdC5yYWRpdXM9dGhpcy5yYWRpdXM7fWlmKHRoaXMubWFwU2l6ZS54IT09NTEyfHx0aGlzLm1hcFNpemUueSE9PTUxMil7b2JqZWN0Lm1hcFNpemU9dGhpcy5tYXBTaXplLnRvQXJyYXkoKTt9b2JqZWN0LmNhbWVyYT10aGlzLmNhbWVyYS50b0pTT04oZmFsc2UpLm9iamVjdDtkZWxldGUgb2JqZWN0LmNhbWVyYS5tYXRyaXg7cmV0dXJuIG9iamVjdDt9fSk7LyoqCiAgICogQGF1dGhvciBtcmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS8KICAgKi9mdW5jdGlvbiBTcG90TGlnaHRTaGFkb3coKXtMaWdodFNoYWRvdy5jYWxsKHRoaXMsbmV3IFBlcnNwZWN0aXZlQ2FtZXJhKDUwLDEsMC41LDUwMCkpO31TcG90TGlnaHRTaGFkb3cucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShMaWdodFNoYWRvdy5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpTcG90TGlnaHRTaGFkb3csaXNTcG90TGlnaHRTaGFkb3c6dHJ1ZSx1cGRhdGVNYXRyaWNlczpmdW5jdGlvbiB1cGRhdGVNYXRyaWNlcyhsaWdodCl7dmFyIGNhbWVyYT10aGlzLmNhbWVyYTt2YXIgZm92PV9NYXRoLlJBRDJERUcqMipsaWdodC5hbmdsZTt2YXIgYXNwZWN0PXRoaXMubWFwU2l6ZS53aWR0aC90aGlzLm1hcFNpemUuaGVpZ2h0O3ZhciBmYXI9bGlnaHQuZGlzdGFuY2V8fGNhbWVyYS5mYXI7aWYoZm92IT09Y2FtZXJhLmZvdnx8YXNwZWN0IT09Y2FtZXJhLmFzcGVjdHx8ZmFyIT09Y2FtZXJhLmZhcil7Y2FtZXJhLmZvdj1mb3Y7Y2FtZXJhLmFzcGVjdD1hc3BlY3Q7Y2FtZXJhLmZhcj1mYXI7Y2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTt9TGlnaHRTaGFkb3cucHJvdG90eXBlLnVwZGF0ZU1hdHJpY2VzLmNhbGwodGhpcyxsaWdodCk7fX0pOy8qKgogICAqIEBhdXRob3IgYWx0ZXJlZHEgLyBodHRwOi8vYWx0ZXJlZHF1YWxpYS5jb20vCiAgICovZnVuY3Rpb24gU3BvdExpZ2h0KGNvbG9yLGludGVuc2l0eSxkaXN0YW5jZSxhbmdsZSxwZW51bWJyYSxkZWNheSl7TGlnaHQuY2FsbCh0aGlzLGNvbG9yLGludGVuc2l0eSk7dGhpcy50eXBlPSdTcG90TGlnaHQnO3RoaXMucG9zaXRpb24uY29weShPYmplY3QzRC5EZWZhdWx0VXApO3RoaXMudXBkYXRlTWF0cml4KCk7dGhpcy50YXJnZXQ9bmV3IE9iamVjdDNEKCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsJ3Bvd2VyJyx7Z2V0OmZ1bmN0aW9uIGdldCgpey8vIGludGVuc2l0eSA9IHBvd2VyIHBlciBzb2xpZCBhbmdsZS4KLy8gcmVmOiBlcXVhdGlvbiAoMTcpIGZyb20gaHR0cHM6Ly9zZWJsYWdhcmRlLmZpbGVzLndvcmRwcmVzcy5jb20vMjAxNS8wNy9jb3Vyc2Vfbm90ZXNfbW92aW5nX2Zyb3N0Yml0ZV90b19wYnJfdjMyLnBkZgpyZXR1cm4gdGhpcy5pbnRlbnNpdHkqTWF0aC5QSTt9LHNldDpmdW5jdGlvbiBzZXQocG93ZXIpey8vIGludGVuc2l0eSA9IHBvd2VyIHBlciBzb2xpZCBhbmdsZS4KLy8gcmVmOiBlcXVhdGlvbiAoMTcpIGZyb20gaHR0cHM6Ly9zZWJsYWdhcmRlLmZpbGVzLndvcmRwcmVzcy5jb20vMjAxNS8wNy9jb3Vyc2Vfbm90ZXNfbW92aW5nX2Zyb3N0Yml0ZV90b19wYnJfdjMyLnBkZgp0aGlzLmludGVuc2l0eT1wb3dlci9NYXRoLlBJO319KTt0aGlzLmRpc3RhbmNlPWRpc3RhbmNlIT09dW5kZWZpbmVkP2Rpc3RhbmNlOjA7dGhpcy5hbmdsZT1hbmdsZSE9PXVuZGVmaW5lZD9hbmdsZTpNYXRoLlBJLzM7dGhpcy5wZW51bWJyYT1wZW51bWJyYSE9PXVuZGVmaW5lZD9wZW51bWJyYTowO3RoaXMuZGVjYXk9ZGVjYXkhPT11bmRlZmluZWQ/ZGVjYXk6MTsvLyBmb3IgcGh5c2ljYWxseSBjb3JyZWN0IGxpZ2h0cywgc2hvdWxkIGJlIDIuCnRoaXMuc2hhZG93PW5ldyBTcG90TGlnaHRTaGFkb3coKTt9U3BvdExpZ2h0LnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoTGlnaHQucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6U3BvdExpZ2h0LGlzU3BvdExpZ2h0OnRydWUsY29weTpmdW5jdGlvbiBjb3B5KHNvdXJjZSl7TGlnaHQucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHNvdXJjZSk7dGhpcy5kaXN0YW5jZT1zb3VyY2UuZGlzdGFuY2U7dGhpcy5hbmdsZT1zb3VyY2UuYW5nbGU7dGhpcy5wZW51bWJyYT1zb3VyY2UucGVudW1icmE7dGhpcy5kZWNheT1zb3VyY2UuZGVjYXk7dGhpcy50YXJnZXQ9c291cmNlLnRhcmdldC5jbG9uZSgpO3RoaXMuc2hhZG93PXNvdXJjZS5zaGFkb3cuY2xvbmUoKTtyZXR1cm4gdGhpczt9fSk7ZnVuY3Rpb24gUG9pbnRMaWdodFNoYWRvdygpe0xpZ2h0U2hhZG93LmNhbGwodGhpcyxuZXcgUGVyc3BlY3RpdmVDYW1lcmEoOTAsMSwwLjUsNTAwKSk7dGhpcy5fZnJhbWVFeHRlbnRzPW5ldyBWZWN0b3IyKDQsMik7dGhpcy5fdmlld3BvcnRDb3VudD02O3RoaXMuX3ZpZXdwb3J0cz1bLy8gVGhlc2Ugdmlld3BvcnRzIG1hcCBhIGN1YmUtbWFwIG9udG8gYSAyRCB0ZXh0dXJlIHdpdGggdGhlCi8vIGZvbGxvd2luZyBvcmllbnRhdGlvbjoKLy8KLy8gIHh6WFoKLy8gICB5IFkKLy8KLy8gWCAtIFBvc2l0aXZlIHggZGlyZWN0aW9uCi8vIHggLSBOZWdhdGl2ZSB4IGRpcmVjdGlvbgovLyBZIC0gUG9zaXRpdmUgeSBkaXJlY3Rpb24KLy8geSAtIE5lZ2F0aXZlIHkgZGlyZWN0aW9uCi8vIFogLSBQb3NpdGl2ZSB6IGRpcmVjdGlvbgovLyB6IC0gTmVnYXRpdmUgeiBkaXJlY3Rpb24KLy8gcG9zaXRpdmUgWApuZXcgVmVjdG9yNCgyLDEsMSwxKSwvLyBuZWdhdGl2ZSBYCm5ldyBWZWN0b3I0KDAsMSwxLDEpLC8vIHBvc2l0aXZlIFoKbmV3IFZlY3RvcjQoMywxLDEsMSksLy8gbmVnYXRpdmUgWgpuZXcgVmVjdG9yNCgxLDEsMSwxKSwvLyBwb3NpdGl2ZSBZCm5ldyBWZWN0b3I0KDMsMCwxLDEpLC8vIG5lZ2F0aXZlIFkKbmV3IFZlY3RvcjQoMSwwLDEsMSldO3RoaXMuX2N1YmVEaXJlY3Rpb25zPVtuZXcgVmVjdG9yMygxLDAsMCksbmV3IFZlY3RvcjMoLTEsMCwwKSxuZXcgVmVjdG9yMygwLDAsMSksbmV3IFZlY3RvcjMoMCwwLC0xKSxuZXcgVmVjdG9yMygwLDEsMCksbmV3IFZlY3RvcjMoMCwtMSwwKV07dGhpcy5fY3ViZVVwcz1bbmV3IFZlY3RvcjMoMCwxLDApLG5ldyBWZWN0b3IzKDAsMSwwKSxuZXcgVmVjdG9yMygwLDEsMCksbmV3IFZlY3RvcjMoMCwxLDApLG5ldyBWZWN0b3IzKDAsMCwxKSxuZXcgVmVjdG9yMygwLDAsLTEpXTt9UG9pbnRMaWdodFNoYWRvdy5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKExpZ2h0U2hhZG93LnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOlBvaW50TGlnaHRTaGFkb3csaXNQb2ludExpZ2h0U2hhZG93OnRydWUsdXBkYXRlTWF0cmljZXM6ZnVuY3Rpb24gdXBkYXRlTWF0cmljZXMobGlnaHQsdmlld3BvcnRJbmRleCl7aWYodmlld3BvcnRJbmRleD09PXVuZGVmaW5lZCl7dmlld3BvcnRJbmRleD0wO312YXIgY2FtZXJhPXRoaXMuY2FtZXJhLHNoYWRvd01hdHJpeD10aGlzLm1hdHJpeCxsaWdodFBvc2l0aW9uV29ybGQ9dGhpcy5fbGlnaHRQb3NpdGlvbldvcmxkLGxvb2tUYXJnZXQ9dGhpcy5fbG9va1RhcmdldCxwcm9qU2NyZWVuTWF0cml4PXRoaXMuX3Byb2pTY3JlZW5NYXRyaXg7bGlnaHRQb3NpdGlvbldvcmxkLnNldEZyb21NYXRyaXhQb3NpdGlvbihsaWdodC5tYXRyaXhXb3JsZCk7Y2FtZXJhLnBvc2l0aW9uLmNvcHkobGlnaHRQb3NpdGlvbldvcmxkKTtsb29rVGFyZ2V0LmNvcHkoY2FtZXJhLnBvc2l0aW9uKTtsb29rVGFyZ2V0LmFkZCh0aGlzLl9jdWJlRGlyZWN0aW9uc1t2aWV3cG9ydEluZGV4XSk7Y2FtZXJhLnVwLmNvcHkodGhpcy5fY3ViZVVwc1t2aWV3cG9ydEluZGV4XSk7Y2FtZXJhLmxvb2tBdChsb29rVGFyZ2V0KTtjYW1lcmEudXBkYXRlTWF0cml4V29ybGQoKTtzaGFkb3dNYXRyaXgubWFrZVRyYW5zbGF0aW9uKC1saWdodFBvc2l0aW9uV29ybGQueCwtbGlnaHRQb3NpdGlvbldvcmxkLnksLWxpZ2h0UG9zaXRpb25Xb3JsZC56KTtwcm9qU2NyZWVuTWF0cml4Lm11bHRpcGx5TWF0cmljZXMoY2FtZXJhLnByb2plY3Rpb25NYXRyaXgsY2FtZXJhLm1hdHJpeFdvcmxkSW52ZXJzZSk7dGhpcy5fZnJ1c3R1bS5zZXRGcm9tTWF0cml4KHByb2pTY3JlZW5NYXRyaXgpO319KTsvKioKICAgKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tLwogICAqL2Z1bmN0aW9uIFBvaW50TGlnaHQoY29sb3IsaW50ZW5zaXR5LGRpc3RhbmNlLGRlY2F5KXtMaWdodC5jYWxsKHRoaXMsY29sb3IsaW50ZW5zaXR5KTt0aGlzLnR5cGU9J1BvaW50TGlnaHQnO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCdwb3dlcicse2dldDpmdW5jdGlvbiBnZXQoKXsvLyBpbnRlbnNpdHkgPSBwb3dlciBwZXIgc29saWQgYW5nbGUuCi8vIHJlZjogZXF1YXRpb24gKDE1KSBmcm9tIGh0dHBzOi8vc2VibGFnYXJkZS5maWxlcy53b3JkcHJlc3MuY29tLzIwMTUvMDcvY291cnNlX25vdGVzX21vdmluZ19mcm9zdGJpdGVfdG9fcGJyX3YzMi5wZGYKcmV0dXJuIHRoaXMuaW50ZW5zaXR5KjQqTWF0aC5QSTt9LHNldDpmdW5jdGlvbiBzZXQocG93ZXIpey8vIGludGVuc2l0eSA9IHBvd2VyIHBlciBzb2xpZCBhbmdsZS4KLy8gcmVmOiBlcXVhdGlvbiAoMTUpIGZyb20gaHR0cHM6Ly9zZWJsYWdhcmRlLmZpbGVzLndvcmRwcmVzcy5jb20vMjAxNS8wNy9jb3Vyc2Vfbm90ZXNfbW92aW5nX2Zyb3N0Yml0ZV90b19wYnJfdjMyLnBkZgp0aGlzLmludGVuc2l0eT1wb3dlci8oNCpNYXRoLlBJKTt9fSk7dGhpcy5kaXN0YW5jZT1kaXN0YW5jZSE9PXVuZGVmaW5lZD9kaXN0YW5jZTowO3RoaXMuZGVjYXk9ZGVjYXkhPT11bmRlZmluZWQ/ZGVjYXk6MTsvLyBmb3IgcGh5c2ljYWxseSBjb3JyZWN0IGxpZ2h0cywgc2hvdWxkIGJlIDIuCnRoaXMuc2hhZG93PW5ldyBQb2ludExpZ2h0U2hhZG93KCk7fVBvaW50TGlnaHQucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShMaWdodC5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpQb2ludExpZ2h0LGlzUG9pbnRMaWdodDp0cnVlLGNvcHk6ZnVuY3Rpb24gY29weShzb3VyY2Upe0xpZ2h0LnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyxzb3VyY2UpO3RoaXMuZGlzdGFuY2U9c291cmNlLmRpc3RhbmNlO3RoaXMuZGVjYXk9c291cmNlLmRlY2F5O3RoaXMuc2hhZG93PXNvdXJjZS5zaGFkb3cuY2xvbmUoKTtyZXR1cm4gdGhpczt9fSk7LyoqCiAgICogQGF1dGhvciBhbHRlcmVkcSAvIGh0dHA6Ly9hbHRlcmVkcXVhbGlhLmNvbS8KICAgKiBAYXV0aG9yIGFyb3NlIC8gaHR0cDovL2dpdGh1Yi5jb20vYXJvc2UKICAgKi9mdW5jdGlvbiBPcnRob2dyYXBoaWNDYW1lcmEobGVmdCxyaWdodCx0b3AsYm90dG9tLG5lYXIsZmFyKXtDYW1lcmEuY2FsbCh0aGlzKTt0aGlzLnR5cGU9J09ydGhvZ3JhcGhpY0NhbWVyYSc7dGhpcy56b29tPTE7dGhpcy52aWV3PW51bGw7dGhpcy5sZWZ0PWxlZnQhPT11bmRlZmluZWQ/bGVmdDotMTt0aGlzLnJpZ2h0PXJpZ2h0IT09dW5kZWZpbmVkP3JpZ2h0OjE7dGhpcy50b3A9dG9wIT09dW5kZWZpbmVkP3RvcDoxO3RoaXMuYm90dG9tPWJvdHRvbSE9PXVuZGVmaW5lZD9ib3R0b206LTE7dGhpcy5uZWFyPW5lYXIhPT11bmRlZmluZWQ/bmVhcjowLjE7dGhpcy5mYXI9ZmFyIT09dW5kZWZpbmVkP2ZhcjoyMDAwO3RoaXMudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO31PcnRob2dyYXBoaWNDYW1lcmEucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShDYW1lcmEucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6T3J0aG9ncmFwaGljQ2FtZXJhLGlzT3J0aG9ncmFwaGljQ2FtZXJhOnRydWUsY29weTpmdW5jdGlvbiBjb3B5KHNvdXJjZSxyZWN1cnNpdmUpe0NhbWVyYS5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsc291cmNlLHJlY3Vyc2l2ZSk7dGhpcy5sZWZ0PXNvdXJjZS5sZWZ0O3RoaXMucmlnaHQ9c291cmNlLnJpZ2h0O3RoaXMudG9wPXNvdXJjZS50b3A7dGhpcy5ib3R0b209c291cmNlLmJvdHRvbTt0aGlzLm5lYXI9c291cmNlLm5lYXI7dGhpcy5mYXI9c291cmNlLmZhcjt0aGlzLnpvb209c291cmNlLnpvb207dGhpcy52aWV3PXNvdXJjZS52aWV3PT09bnVsbD9udWxsOk9iamVjdC5hc3NpZ24oe30sc291cmNlLnZpZXcpO3JldHVybiB0aGlzO30sc2V0Vmlld09mZnNldDpmdW5jdGlvbiBzZXRWaWV3T2Zmc2V0KGZ1bGxXaWR0aCxmdWxsSGVpZ2h0LHgseSx3aWR0aCxoZWlnaHQpe2lmKHRoaXMudmlldz09PW51bGwpe3RoaXMudmlldz17ZW5hYmxlZDp0cnVlLGZ1bGxXaWR0aDoxLGZ1bGxIZWlnaHQ6MSxvZmZzZXRYOjAsb2Zmc2V0WTowLHdpZHRoOjEsaGVpZ2h0OjF9O310aGlzLnZpZXcuZW5hYmxlZD10cnVlO3RoaXMudmlldy5mdWxsV2lkdGg9ZnVsbFdpZHRoO3RoaXMudmlldy5mdWxsSGVpZ2h0PWZ1bGxIZWlnaHQ7dGhpcy52aWV3Lm9mZnNldFg9eDt0aGlzLnZpZXcub2Zmc2V0WT15O3RoaXMudmlldy53aWR0aD13aWR0aDt0aGlzLnZpZXcuaGVpZ2h0PWhlaWdodDt0aGlzLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTt9LGNsZWFyVmlld09mZnNldDpmdW5jdGlvbiBjbGVhclZpZXdPZmZzZXQoKXtpZih0aGlzLnZpZXchPT1udWxsKXt0aGlzLnZpZXcuZW5hYmxlZD1mYWxzZTt9dGhpcy51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7fSx1cGRhdGVQcm9qZWN0aW9uTWF0cml4OmZ1bmN0aW9uIHVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKXt2YXIgZHg9KHRoaXMucmlnaHQtdGhpcy5sZWZ0KS8oMip0aGlzLnpvb20pO3ZhciBkeT0odGhpcy50b3AtdGhpcy5ib3R0b20pLygyKnRoaXMuem9vbSk7dmFyIGN4PSh0aGlzLnJpZ2h0K3RoaXMubGVmdCkvMjt2YXIgY3k9KHRoaXMudG9wK3RoaXMuYm90dG9tKS8yO3ZhciBsZWZ0PWN4LWR4O3ZhciByaWdodD1jeCtkeDt2YXIgdG9wPWN5K2R5O3ZhciBib3R0b209Y3ktZHk7aWYodGhpcy52aWV3IT09bnVsbCYmdGhpcy52aWV3LmVuYWJsZWQpe3ZhciB6b29tVz10aGlzLnpvb20vKHRoaXMudmlldy53aWR0aC90aGlzLnZpZXcuZnVsbFdpZHRoKTt2YXIgem9vbUg9dGhpcy56b29tLyh0aGlzLnZpZXcuaGVpZ2h0L3RoaXMudmlldy5mdWxsSGVpZ2h0KTt2YXIgc2NhbGVXPSh0aGlzLnJpZ2h0LXRoaXMubGVmdCkvdGhpcy52aWV3LndpZHRoO3ZhciBzY2FsZUg9KHRoaXMudG9wLXRoaXMuYm90dG9tKS90aGlzLnZpZXcuaGVpZ2h0O2xlZnQrPXNjYWxlVyoodGhpcy52aWV3Lm9mZnNldFgvem9vbVcpO3JpZ2h0PWxlZnQrc2NhbGVXKih0aGlzLnZpZXcud2lkdGgvem9vbVcpO3RvcC09c2NhbGVIKih0aGlzLnZpZXcub2Zmc2V0WS96b29tSCk7Ym90dG9tPXRvcC1zY2FsZUgqKHRoaXMudmlldy5oZWlnaHQvem9vbUgpO310aGlzLnByb2plY3Rpb25NYXRyaXgubWFrZU9ydGhvZ3JhcGhpYyhsZWZ0LHJpZ2h0LHRvcCxib3R0b20sdGhpcy5uZWFyLHRoaXMuZmFyKTt0aGlzLnByb2plY3Rpb25NYXRyaXhJbnZlcnNlLmdldEludmVyc2UodGhpcy5wcm9qZWN0aW9uTWF0cml4KTt9LHRvSlNPTjpmdW5jdGlvbiB0b0pTT04obWV0YSl7dmFyIGRhdGE9T2JqZWN0M0QucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMsbWV0YSk7ZGF0YS5vYmplY3Quem9vbT10aGlzLnpvb207ZGF0YS5vYmplY3QubGVmdD10aGlzLmxlZnQ7ZGF0YS5vYmplY3QucmlnaHQ9dGhpcy5yaWdodDtkYXRhLm9iamVjdC50b3A9dGhpcy50b3A7ZGF0YS5vYmplY3QuYm90dG9tPXRoaXMuYm90dG9tO2RhdGEub2JqZWN0Lm5lYXI9dGhpcy5uZWFyO2RhdGEub2JqZWN0LmZhcj10aGlzLmZhcjtpZih0aGlzLnZpZXchPT1udWxsKXtkYXRhLm9iamVjdC52aWV3PU9iamVjdC5hc3NpZ24oe30sdGhpcy52aWV3KTt9cmV0dXJuIGRhdGE7fX0pOy8qKgogICAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb20vCiAgICovZnVuY3Rpb24gRGlyZWN0aW9uYWxMaWdodFNoYWRvdygpe0xpZ2h0U2hhZG93LmNhbGwodGhpcyxuZXcgT3J0aG9ncmFwaGljQ2FtZXJhKC01LDUsNSwtNSwwLjUsNTAwKSk7fURpcmVjdGlvbmFsTGlnaHRTaGFkb3cucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShMaWdodFNoYWRvdy5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpEaXJlY3Rpb25hbExpZ2h0U2hhZG93LGlzRGlyZWN0aW9uYWxMaWdodFNoYWRvdzp0cnVlLHVwZGF0ZU1hdHJpY2VzOmZ1bmN0aW9uIHVwZGF0ZU1hdHJpY2VzKGxpZ2h0KXtMaWdodFNoYWRvdy5wcm90b3R5cGUudXBkYXRlTWF0cmljZXMuY2FsbCh0aGlzLGxpZ2h0KTt9fSk7LyoqCiAgICogQGF1dGhvciBtcmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS8KICAgKiBAYXV0aG9yIGFsdGVyZWRxIC8gaHR0cDovL2FsdGVyZWRxdWFsaWEuY29tLwogICAqL2Z1bmN0aW9uIERpcmVjdGlvbmFsTGlnaHQoY29sb3IsaW50ZW5zaXR5KXtMaWdodC5jYWxsKHRoaXMsY29sb3IsaW50ZW5zaXR5KTt0aGlzLnR5cGU9J0RpcmVjdGlvbmFsTGlnaHQnO3RoaXMucG9zaXRpb24uY29weShPYmplY3QzRC5EZWZhdWx0VXApO3RoaXMudXBkYXRlTWF0cml4KCk7dGhpcy50YXJnZXQ9bmV3IE9iamVjdDNEKCk7dGhpcy5zaGFkb3c9bmV3IERpcmVjdGlvbmFsTGlnaHRTaGFkb3coKTt9RGlyZWN0aW9uYWxMaWdodC5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKExpZ2h0LnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOkRpcmVjdGlvbmFsTGlnaHQsaXNEaXJlY3Rpb25hbExpZ2h0OnRydWUsY29weTpmdW5jdGlvbiBjb3B5KHNvdXJjZSl7TGlnaHQucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHNvdXJjZSk7dGhpcy50YXJnZXQ9c291cmNlLnRhcmdldC5jbG9uZSgpO3RoaXMuc2hhZG93PXNvdXJjZS5zaGFkb3cuY2xvbmUoKTtyZXR1cm4gdGhpczt9fSk7LyoqCiAgICogQGF1dGhvciBtcmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS8KICAgKi9mdW5jdGlvbiBBbWJpZW50TGlnaHQoY29sb3IsaW50ZW5zaXR5KXtMaWdodC5jYWxsKHRoaXMsY29sb3IsaW50ZW5zaXR5KTt0aGlzLnR5cGU9J0FtYmllbnRMaWdodCc7dGhpcy5jYXN0U2hhZG93PXVuZGVmaW5lZDt9QW1iaWVudExpZ2h0LnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoTGlnaHQucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6QW1iaWVudExpZ2h0LGlzQW1iaWVudExpZ2h0OnRydWV9KTsvKioKICAgKiBAYXV0aG9yIGFiZWxuYXRpb24gLyBodHRwOi8vZ2l0aHViLmNvbS9hYmVsbmF0aW9uCiAgICovZnVuY3Rpb24gUmVjdEFyZWFMaWdodChjb2xvcixpbnRlbnNpdHksd2lkdGgsaGVpZ2h0KXtMaWdodC5jYWxsKHRoaXMsY29sb3IsaW50ZW5zaXR5KTt0aGlzLnR5cGU9J1JlY3RBcmVhTGlnaHQnO3RoaXMud2lkdGg9d2lkdGghPT11bmRlZmluZWQ/d2lkdGg6MTA7dGhpcy5oZWlnaHQ9aGVpZ2h0IT09dW5kZWZpbmVkP2hlaWdodDoxMDt9UmVjdEFyZWFMaWdodC5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKExpZ2h0LnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOlJlY3RBcmVhTGlnaHQsaXNSZWN0QXJlYUxpZ2h0OnRydWUsY29weTpmdW5jdGlvbiBjb3B5KHNvdXJjZSl7TGlnaHQucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHNvdXJjZSk7dGhpcy53aWR0aD1zb3VyY2Uud2lkdGg7dGhpcy5oZWlnaHQ9c291cmNlLmhlaWdodDtyZXR1cm4gdGhpczt9LHRvSlNPTjpmdW5jdGlvbiB0b0pTT04obWV0YSl7dmFyIGRhdGE9TGlnaHQucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMsbWV0YSk7ZGF0YS5vYmplY3Qud2lkdGg9dGhpcy53aWR0aDtkYXRhLm9iamVjdC5oZWlnaHQ9dGhpcy5oZWlnaHQ7cmV0dXJuIGRhdGE7fX0pOy8qKgogICAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb20vCiAgICovZnVuY3Rpb24gTWF0ZXJpYWxMb2FkZXIobWFuYWdlcil7TG9hZGVyLmNhbGwodGhpcyxtYW5hZ2VyKTt0aGlzLnRleHR1cmVzPXt9O31NYXRlcmlhbExvYWRlci5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKExvYWRlci5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpNYXRlcmlhbExvYWRlcixsb2FkOmZ1bmN0aW9uIGxvYWQodXJsLG9uTG9hZCxvblByb2dyZXNzLG9uRXJyb3Ipe3ZhciBzY29wZT10aGlzO3ZhciBsb2FkZXI9bmV3IEZpbGVMb2FkZXIoc2NvcGUubWFuYWdlcik7bG9hZGVyLnNldFBhdGgoc2NvcGUucGF0aCk7bG9hZGVyLmxvYWQodXJsLGZ1bmN0aW9uKHRleHQpe29uTG9hZChzY29wZS5wYXJzZShKU09OLnBhcnNlKHRleHQpKSk7fSxvblByb2dyZXNzLG9uRXJyb3IpO30scGFyc2U6ZnVuY3Rpb24gcGFyc2UoanNvbil7dmFyIHRleHR1cmVzPXRoaXMudGV4dHVyZXM7ZnVuY3Rpb24gZ2V0VGV4dHVyZShuYW1lKXtpZih0ZXh0dXJlc1tuYW1lXT09PXVuZGVmaW5lZCl7Y29uc29sZS53YXJuKCdUSFJFRS5NYXRlcmlhbExvYWRlcjogVW5kZWZpbmVkIHRleHR1cmUnLG5hbWUpO31yZXR1cm4gdGV4dHVyZXNbbmFtZV07fXZhciBtYXRlcmlhbD1uZXcgTWF0ZXJpYWxzW2pzb24udHlwZV0oKTtpZihqc29uLnV1aWQhPT11bmRlZmluZWQpe21hdGVyaWFsLnV1aWQ9anNvbi51dWlkO31pZihqc29uLm5hbWUhPT11bmRlZmluZWQpe21hdGVyaWFsLm5hbWU9anNvbi5uYW1lO31pZihqc29uLmNvbG9yIT09dW5kZWZpbmVkKXttYXRlcmlhbC5jb2xvci5zZXRIZXgoanNvbi5jb2xvcik7fWlmKGpzb24ucm91Z2huZXNzIT09dW5kZWZpbmVkKXttYXRlcmlhbC5yb3VnaG5lc3M9anNvbi5yb3VnaG5lc3M7fWlmKGpzb24ubWV0YWxuZXNzIT09dW5kZWZpbmVkKXttYXRlcmlhbC5tZXRhbG5lc3M9anNvbi5tZXRhbG5lc3M7fWlmKGpzb24uc2hlZW4hPT11bmRlZmluZWQpe21hdGVyaWFsLnNoZWVuPW5ldyBDb2xvcigpLnNldEhleChqc29uLnNoZWVuKTt9aWYoanNvbi5lbWlzc2l2ZSE9PXVuZGVmaW5lZCl7bWF0ZXJpYWwuZW1pc3NpdmUuc2V0SGV4KGpzb24uZW1pc3NpdmUpO31pZihqc29uLnNwZWN1bGFyIT09dW5kZWZpbmVkKXttYXRlcmlhbC5zcGVjdWxhci5zZXRIZXgoanNvbi5zcGVjdWxhcik7fWlmKGpzb24uc2hpbmluZXNzIT09dW5kZWZpbmVkKXttYXRlcmlhbC5zaGluaW5lc3M9anNvbi5zaGluaW5lc3M7fWlmKGpzb24uY2xlYXJjb2F0IT09dW5kZWZpbmVkKXttYXRlcmlhbC5jbGVhcmNvYXQ9anNvbi5jbGVhcmNvYXQ7fWlmKGpzb24uY2xlYXJjb2F0Um91Z2huZXNzIT09dW5kZWZpbmVkKXttYXRlcmlhbC5jbGVhcmNvYXRSb3VnaG5lc3M9anNvbi5jbGVhcmNvYXRSb3VnaG5lc3M7fWlmKGpzb24udmVydGV4Q29sb3JzIT09dW5kZWZpbmVkKXttYXRlcmlhbC52ZXJ0ZXhDb2xvcnM9anNvbi52ZXJ0ZXhDb2xvcnM7fWlmKGpzb24uZm9nIT09dW5kZWZpbmVkKXttYXRlcmlhbC5mb2c9anNvbi5mb2c7fWlmKGpzb24uZmxhdFNoYWRpbmchPT11bmRlZmluZWQpe21hdGVyaWFsLmZsYXRTaGFkaW5nPWpzb24uZmxhdFNoYWRpbmc7fWlmKGpzb24uYmxlbmRpbmchPT11bmRlZmluZWQpe21hdGVyaWFsLmJsZW5kaW5nPWpzb24uYmxlbmRpbmc7fWlmKGpzb24uY29tYmluZSE9PXVuZGVmaW5lZCl7bWF0ZXJpYWwuY29tYmluZT1qc29uLmNvbWJpbmU7fWlmKGpzb24uc2lkZSE9PXVuZGVmaW5lZCl7bWF0ZXJpYWwuc2lkZT1qc29uLnNpZGU7fWlmKGpzb24ub3BhY2l0eSE9PXVuZGVmaW5lZCl7bWF0ZXJpYWwub3BhY2l0eT1qc29uLm9wYWNpdHk7fWlmKGpzb24udHJhbnNwYXJlbnQhPT11bmRlZmluZWQpe21hdGVyaWFsLnRyYW5zcGFyZW50PWpzb24udHJhbnNwYXJlbnQ7fWlmKGpzb24uYWxwaGFUZXN0IT09dW5kZWZpbmVkKXttYXRlcmlhbC5hbHBoYVRlc3Q9anNvbi5hbHBoYVRlc3Q7fWlmKGpzb24uZGVwdGhUZXN0IT09dW5kZWZpbmVkKXttYXRlcmlhbC5kZXB0aFRlc3Q9anNvbi5kZXB0aFRlc3Q7fWlmKGpzb24uZGVwdGhXcml0ZSE9PXVuZGVmaW5lZCl7bWF0ZXJpYWwuZGVwdGhXcml0ZT1qc29uLmRlcHRoV3JpdGU7fWlmKGpzb24uY29sb3JXcml0ZSE9PXVuZGVmaW5lZCl7bWF0ZXJpYWwuY29sb3JXcml0ZT1qc29uLmNvbG9yV3JpdGU7fWlmKGpzb24uc3RlbmNpbFdyaXRlIT09dW5kZWZpbmVkKXttYXRlcmlhbC5zdGVuY2lsV3JpdGU9anNvbi5zdGVuY2lsV3JpdGU7fWlmKGpzb24uc3RlbmNpbFdyaXRlTWFzayE9PXVuZGVmaW5lZCl7bWF0ZXJpYWwuc3RlbmNpbFdyaXRlTWFzaz1qc29uLnN0ZW5jaWxXcml0ZU1hc2s7fWlmKGpzb24uc3RlbmNpbEZ1bmMhPT11bmRlZmluZWQpe21hdGVyaWFsLnN0ZW5jaWxGdW5jPWpzb24uc3RlbmNpbEZ1bmM7fWlmKGpzb24uc3RlbmNpbFJlZiE9PXVuZGVmaW5lZCl7bWF0ZXJpYWwuc3RlbmNpbFJlZj1qc29uLnN0ZW5jaWxSZWY7fWlmKGpzb24uc3RlbmNpbEZ1bmNNYXNrIT09dW5kZWZpbmVkKXttYXRlcmlhbC5zdGVuY2lsRnVuY01hc2s9anNvbi5zdGVuY2lsRnVuY01hc2s7fWlmKGpzb24uc3RlbmNpbEZhaWwhPT11bmRlZmluZWQpe21hdGVyaWFsLnN0ZW5jaWxGYWlsPWpzb24uc3RlbmNpbEZhaWw7fWlmKGpzb24uc3RlbmNpbFpGYWlsIT09dW5kZWZpbmVkKXttYXRlcmlhbC5zdGVuY2lsWkZhaWw9anNvbi5zdGVuY2lsWkZhaWw7fWlmKGpzb24uc3RlbmNpbFpQYXNzIT09dW5kZWZpbmVkKXttYXRlcmlhbC5zdGVuY2lsWlBhc3M9anNvbi5zdGVuY2lsWlBhc3M7fWlmKGpzb24ud2lyZWZyYW1lIT09dW5kZWZpbmVkKXttYXRlcmlhbC53aXJlZnJhbWU9anNvbi53aXJlZnJhbWU7fWlmKGpzb24ud2lyZWZyYW1lTGluZXdpZHRoIT09dW5kZWZpbmVkKXttYXRlcmlhbC53aXJlZnJhbWVMaW5ld2lkdGg9anNvbi53aXJlZnJhbWVMaW5ld2lkdGg7fWlmKGpzb24ud2lyZWZyYW1lTGluZWNhcCE9PXVuZGVmaW5lZCl7bWF0ZXJpYWwud2lyZWZyYW1lTGluZWNhcD1qc29uLndpcmVmcmFtZUxpbmVjYXA7fWlmKGpzb24ud2lyZWZyYW1lTGluZWpvaW4hPT11bmRlZmluZWQpe21hdGVyaWFsLndpcmVmcmFtZUxpbmVqb2luPWpzb24ud2lyZWZyYW1lTGluZWpvaW47fWlmKGpzb24ucm90YXRpb24hPT11bmRlZmluZWQpe21hdGVyaWFsLnJvdGF0aW9uPWpzb24ucm90YXRpb247fWlmKGpzb24ubGluZXdpZHRoIT09MSl7bWF0ZXJpYWwubGluZXdpZHRoPWpzb24ubGluZXdpZHRoO31pZihqc29uLmRhc2hTaXplIT09dW5kZWZpbmVkKXttYXRlcmlhbC5kYXNoU2l6ZT1qc29uLmRhc2hTaXplO31pZihqc29uLmdhcFNpemUhPT11bmRlZmluZWQpe21hdGVyaWFsLmdhcFNpemU9anNvbi5nYXBTaXplO31pZihqc29uLnNjYWxlIT09dW5kZWZpbmVkKXttYXRlcmlhbC5zY2FsZT1qc29uLnNjYWxlO31pZihqc29uLnBvbHlnb25PZmZzZXQhPT11bmRlZmluZWQpe21hdGVyaWFsLnBvbHlnb25PZmZzZXQ9anNvbi5wb2x5Z29uT2Zmc2V0O31pZihqc29uLnBvbHlnb25PZmZzZXRGYWN0b3IhPT11bmRlZmluZWQpe21hdGVyaWFsLnBvbHlnb25PZmZzZXRGYWN0b3I9anNvbi5wb2x5Z29uT2Zmc2V0RmFjdG9yO31pZihqc29uLnBvbHlnb25PZmZzZXRVbml0cyE9PXVuZGVmaW5lZCl7bWF0ZXJpYWwucG9seWdvbk9mZnNldFVuaXRzPWpzb24ucG9seWdvbk9mZnNldFVuaXRzO31pZihqc29uLnNraW5uaW5nIT09dW5kZWZpbmVkKXttYXRlcmlhbC5za2lubmluZz1qc29uLnNraW5uaW5nO31pZihqc29uLm1vcnBoVGFyZ2V0cyE9PXVuZGVmaW5lZCl7bWF0ZXJpYWwubW9ycGhUYXJnZXRzPWpzb24ubW9ycGhUYXJnZXRzO31pZihqc29uLm1vcnBoTm9ybWFscyE9PXVuZGVmaW5lZCl7bWF0ZXJpYWwubW9ycGhOb3JtYWxzPWpzb24ubW9ycGhOb3JtYWxzO31pZihqc29uLmRpdGhlcmluZyE9PXVuZGVmaW5lZCl7bWF0ZXJpYWwuZGl0aGVyaW5nPWpzb24uZGl0aGVyaW5nO31pZihqc29uLnZpc2libGUhPT11bmRlZmluZWQpe21hdGVyaWFsLnZpc2libGU9anNvbi52aXNpYmxlO31pZihqc29uLnRvbmVNYXBwZWQhPT11bmRlZmluZWQpe21hdGVyaWFsLnRvbmVNYXBwZWQ9anNvbi50b25lTWFwcGVkO31pZihqc29uLnVzZXJEYXRhIT09dW5kZWZpbmVkKXttYXRlcmlhbC51c2VyRGF0YT1qc29uLnVzZXJEYXRhO30vLyBTaGFkZXIgTWF0ZXJpYWwKaWYoanNvbi51bmlmb3JtcyE9PXVuZGVmaW5lZCl7Zm9yKHZhciBuYW1lIGluIGpzb24udW5pZm9ybXMpe3ZhciB1bmlmb3JtPWpzb24udW5pZm9ybXNbbmFtZV07bWF0ZXJpYWwudW5pZm9ybXNbbmFtZV09e307c3dpdGNoKHVuaWZvcm0udHlwZSl7Y2FzZSd0JzptYXRlcmlhbC51bmlmb3Jtc1tuYW1lXS52YWx1ZT1nZXRUZXh0dXJlKHVuaWZvcm0udmFsdWUpO2JyZWFrO2Nhc2UnYyc6bWF0ZXJpYWwudW5pZm9ybXNbbmFtZV0udmFsdWU9bmV3IENvbG9yKCkuc2V0SGV4KHVuaWZvcm0udmFsdWUpO2JyZWFrO2Nhc2UndjInOm1hdGVyaWFsLnVuaWZvcm1zW25hbWVdLnZhbHVlPW5ldyBWZWN0b3IyKCkuZnJvbUFycmF5KHVuaWZvcm0udmFsdWUpO2JyZWFrO2Nhc2UndjMnOm1hdGVyaWFsLnVuaWZvcm1zW25hbWVdLnZhbHVlPW5ldyBWZWN0b3IzKCkuZnJvbUFycmF5KHVuaWZvcm0udmFsdWUpO2JyZWFrO2Nhc2UndjQnOm1hdGVyaWFsLnVuaWZvcm1zW25hbWVdLnZhbHVlPW5ldyBWZWN0b3I0KCkuZnJvbUFycmF5KHVuaWZvcm0udmFsdWUpO2JyZWFrO2Nhc2UnbTMnOm1hdGVyaWFsLnVuaWZvcm1zW25hbWVdLnZhbHVlPW5ldyBNYXRyaXgzKCkuZnJvbUFycmF5KHVuaWZvcm0udmFsdWUpO2Nhc2UnbTQnOm1hdGVyaWFsLnVuaWZvcm1zW25hbWVdLnZhbHVlPW5ldyBNYXRyaXg0KCkuZnJvbUFycmF5KHVuaWZvcm0udmFsdWUpO2JyZWFrO2RlZmF1bHQ6bWF0ZXJpYWwudW5pZm9ybXNbbmFtZV0udmFsdWU9dW5pZm9ybS52YWx1ZTt9fX1pZihqc29uLmRlZmluZXMhPT11bmRlZmluZWQpe21hdGVyaWFsLmRlZmluZXM9anNvbi5kZWZpbmVzO31pZihqc29uLnZlcnRleFNoYWRlciE9PXVuZGVmaW5lZCl7bWF0ZXJpYWwudmVydGV4U2hhZGVyPWpzb24udmVydGV4U2hhZGVyO31pZihqc29uLmZyYWdtZW50U2hhZGVyIT09dW5kZWZpbmVkKXttYXRlcmlhbC5mcmFnbWVudFNoYWRlcj1qc29uLmZyYWdtZW50U2hhZGVyO31pZihqc29uLmV4dGVuc2lvbnMhPT11bmRlZmluZWQpe2Zvcih2YXIga2V5IGluIGpzb24uZXh0ZW5zaW9ucyl7bWF0ZXJpYWwuZXh0ZW5zaW9uc1trZXldPWpzb24uZXh0ZW5zaW9uc1trZXldO319Ly8gRGVwcmVjYXRlZAppZihqc29uLnNoYWRpbmchPT11bmRlZmluZWQpe21hdGVyaWFsLmZsYXRTaGFkaW5nPWpzb24uc2hhZGluZz09PTE7fS8vIFRIUkVFLkZsYXRTaGFkaW5nCi8vIGZvciBQb2ludHNNYXRlcmlhbAppZihqc29uLnNpemUhPT11bmRlZmluZWQpe21hdGVyaWFsLnNpemU9anNvbi5zaXplO31pZihqc29uLnNpemVBdHRlbnVhdGlvbiE9PXVuZGVmaW5lZCl7bWF0ZXJpYWwuc2l6ZUF0dGVudWF0aW9uPWpzb24uc2l6ZUF0dGVudWF0aW9uO30vLyBtYXBzCmlmKGpzb24ubWFwIT09dW5kZWZpbmVkKXttYXRlcmlhbC5tYXA9Z2V0VGV4dHVyZShqc29uLm1hcCk7fWlmKGpzb24ubWF0Y2FwIT09dW5kZWZpbmVkKXttYXRlcmlhbC5tYXRjYXA9Z2V0VGV4dHVyZShqc29uLm1hdGNhcCk7fWlmKGpzb24uYWxwaGFNYXAhPT11bmRlZmluZWQpe21hdGVyaWFsLmFscGhhTWFwPWdldFRleHR1cmUoanNvbi5hbHBoYU1hcCk7bWF0ZXJpYWwudHJhbnNwYXJlbnQ9dHJ1ZTt9aWYoanNvbi5idW1wTWFwIT09dW5kZWZpbmVkKXttYXRlcmlhbC5idW1wTWFwPWdldFRleHR1cmUoanNvbi5idW1wTWFwKTt9aWYoanNvbi5idW1wU2NhbGUhPT11bmRlZmluZWQpe21hdGVyaWFsLmJ1bXBTY2FsZT1qc29uLmJ1bXBTY2FsZTt9aWYoanNvbi5ub3JtYWxNYXAhPT11bmRlZmluZWQpe21hdGVyaWFsLm5vcm1hbE1hcD1nZXRUZXh0dXJlKGpzb24ubm9ybWFsTWFwKTt9aWYoanNvbi5ub3JtYWxNYXBUeXBlIT09dW5kZWZpbmVkKXttYXRlcmlhbC5ub3JtYWxNYXBUeXBlPWpzb24ubm9ybWFsTWFwVHlwZTt9aWYoanNvbi5ub3JtYWxTY2FsZSE9PXVuZGVmaW5lZCl7dmFyIG5vcm1hbFNjYWxlPWpzb24ubm9ybWFsU2NhbGU7aWYoQXJyYXkuaXNBcnJheShub3JtYWxTY2FsZSk9PT1mYWxzZSl7Ly8gQmxlbmRlciBleHBvcnRlciB1c2VkIHRvIGV4cG9ydCBhIHNjYWxhci4gU2VlICM3NDU5Cm5vcm1hbFNjYWxlPVtub3JtYWxTY2FsZSxub3JtYWxTY2FsZV07fW1hdGVyaWFsLm5vcm1hbFNjYWxlPW5ldyBWZWN0b3IyKCkuZnJvbUFycmF5KG5vcm1hbFNjYWxlKTt9aWYoanNvbi5kaXNwbGFjZW1lbnRNYXAhPT11bmRlZmluZWQpe21hdGVyaWFsLmRpc3BsYWNlbWVudE1hcD1nZXRUZXh0dXJlKGpzb24uZGlzcGxhY2VtZW50TWFwKTt9aWYoanNvbi5kaXNwbGFjZW1lbnRTY2FsZSE9PXVuZGVmaW5lZCl7bWF0ZXJpYWwuZGlzcGxhY2VtZW50U2NhbGU9anNvbi5kaXNwbGFjZW1lbnRTY2FsZTt9aWYoanNvbi5kaXNwbGFjZW1lbnRCaWFzIT09dW5kZWZpbmVkKXttYXRlcmlhbC5kaXNwbGFjZW1lbnRCaWFzPWpzb24uZGlzcGxhY2VtZW50Qmlhczt9aWYoanNvbi5yb3VnaG5lc3NNYXAhPT11bmRlZmluZWQpe21hdGVyaWFsLnJvdWdobmVzc01hcD1nZXRUZXh0dXJlKGpzb24ucm91Z2huZXNzTWFwKTt9aWYoanNvbi5tZXRhbG5lc3NNYXAhPT11bmRlZmluZWQpe21hdGVyaWFsLm1ldGFsbmVzc01hcD1nZXRUZXh0dXJlKGpzb24ubWV0YWxuZXNzTWFwKTt9aWYoanNvbi5lbWlzc2l2ZU1hcCE9PXVuZGVmaW5lZCl7bWF0ZXJpYWwuZW1pc3NpdmVNYXA9Z2V0VGV4dHVyZShqc29uLmVtaXNzaXZlTWFwKTt9aWYoanNvbi5lbWlzc2l2ZUludGVuc2l0eSE9PXVuZGVmaW5lZCl7bWF0ZXJpYWwuZW1pc3NpdmVJbnRlbnNpdHk9anNvbi5lbWlzc2l2ZUludGVuc2l0eTt9aWYoanNvbi5zcGVjdWxhck1hcCE9PXVuZGVmaW5lZCl7bWF0ZXJpYWwuc3BlY3VsYXJNYXA9Z2V0VGV4dHVyZShqc29uLnNwZWN1bGFyTWFwKTt9aWYoanNvbi5lbnZNYXAhPT11bmRlZmluZWQpe21hdGVyaWFsLmVudk1hcD1nZXRUZXh0dXJlKGpzb24uZW52TWFwKTt9aWYoanNvbi5lbnZNYXBJbnRlbnNpdHkhPT11bmRlZmluZWQpe21hdGVyaWFsLmVudk1hcEludGVuc2l0eT1qc29uLmVudk1hcEludGVuc2l0eTt9aWYoanNvbi5yZWZsZWN0aXZpdHkhPT11bmRlZmluZWQpe21hdGVyaWFsLnJlZmxlY3Rpdml0eT1qc29uLnJlZmxlY3Rpdml0eTt9aWYoanNvbi5yZWZyYWN0aW9uUmF0aW8hPT11bmRlZmluZWQpe21hdGVyaWFsLnJlZnJhY3Rpb25SYXRpbz1qc29uLnJlZnJhY3Rpb25SYXRpbzt9aWYoanNvbi5saWdodE1hcCE9PXVuZGVmaW5lZCl7bWF0ZXJpYWwubGlnaHRNYXA9Z2V0VGV4dHVyZShqc29uLmxpZ2h0TWFwKTt9aWYoanNvbi5saWdodE1hcEludGVuc2l0eSE9PXVuZGVmaW5lZCl7bWF0ZXJpYWwubGlnaHRNYXBJbnRlbnNpdHk9anNvbi5saWdodE1hcEludGVuc2l0eTt9aWYoanNvbi5hb01hcCE9PXVuZGVmaW5lZCl7bWF0ZXJpYWwuYW9NYXA9Z2V0VGV4dHVyZShqc29uLmFvTWFwKTt9aWYoanNvbi5hb01hcEludGVuc2l0eSE9PXVuZGVmaW5lZCl7bWF0ZXJpYWwuYW9NYXBJbnRlbnNpdHk9anNvbi5hb01hcEludGVuc2l0eTt9aWYoanNvbi5ncmFkaWVudE1hcCE9PXVuZGVmaW5lZCl7bWF0ZXJpYWwuZ3JhZGllbnRNYXA9Z2V0VGV4dHVyZShqc29uLmdyYWRpZW50TWFwKTt9aWYoanNvbi5jbGVhcmNvYXROb3JtYWxNYXAhPT11bmRlZmluZWQpe21hdGVyaWFsLmNsZWFyY29hdE5vcm1hbE1hcD1nZXRUZXh0dXJlKGpzb24uY2xlYXJjb2F0Tm9ybWFsTWFwKTt9aWYoanNvbi5jbGVhcmNvYXROb3JtYWxTY2FsZSE9PXVuZGVmaW5lZCl7bWF0ZXJpYWwuY2xlYXJjb2F0Tm9ybWFsU2NhbGU9bmV3IFZlY3RvcjIoKS5mcm9tQXJyYXkoanNvbi5jbGVhcmNvYXROb3JtYWxTY2FsZSk7fXJldHVybiBtYXRlcmlhbDt9LHNldFRleHR1cmVzOmZ1bmN0aW9uIHNldFRleHR1cmVzKHZhbHVlKXt0aGlzLnRleHR1cmVzPXZhbHVlO3JldHVybiB0aGlzO319KTsvKioKICAgKiBAYXV0aG9yIERvbiBNY0N1cmR5IC8gaHR0cHM6Ly93d3cuZG9ubWNjdXJkeS5jb20KICAgKi92YXIgTG9hZGVyVXRpbHM9e2RlY29kZVRleHQ6ZnVuY3Rpb24gZGVjb2RlVGV4dChhcnJheSl7aWYodHlwZW9mIFRleHREZWNvZGVyIT09J3VuZGVmaW5lZCcpe3JldHVybiBuZXcgVGV4dERlY29kZXIoKS5kZWNvZGUoYXJyYXkpO30vLyBBdm9pZCB0aGUgU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCBhcnJheSkgc2hvcnRjdXQsIHdoaWNoCi8vIHRocm93cyBhICJtYXhpbXVtIGNhbGwgc3RhY2sgc2l6ZSBleGNlZWRlZCIgZXJyb3IgZm9yIGxhcmdlIGFycmF5cy4KdmFyIHM9Jyc7Zm9yKHZhciBpPTAsaWw9YXJyYXkubGVuZ3RoO2k8aWw7aSsrKXsvLyBJbXBsaWNpdGx5IGFzc3VtZXMgbGl0dGxlLWVuZGlhbi4Kcys9U3RyaW5nLmZyb21DaGFyQ29kZShhcnJheVtpXSk7fXRyeXsvLyBtZXJnZXMgbXVsdGktYnl0ZSB1dGYtOCBjaGFyYWN0ZXJzLgpyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGVzY2FwZShzKSk7fWNhdGNoKGUpey8vIHNlZSAjMTYzNTgKcmV0dXJuIHM7fX0sZXh0cmFjdFVybEJhc2U6ZnVuY3Rpb24gZXh0cmFjdFVybEJhc2UodXJsKXt2YXIgaW5kZXg9dXJsLmxhc3RJbmRleE9mKCcvJyk7aWYoaW5kZXg9PT0tMSl7cmV0dXJuJy4vJzt9cmV0dXJuIHVybC5zdWJzdHIoMCxpbmRleCsxKTt9fTsvKioKICAgKiBAYXV0aG9yIGJlbmFhZGFtcyAvIGh0dHBzOi8vdHdpdHRlci5jb20vYmVuX2FfYWRhbXMKICAgKi9mdW5jdGlvbiBJbnN0YW5jZWRCdWZmZXJHZW9tZXRyeSgpe0J1ZmZlckdlb21ldHJ5LmNhbGwodGhpcyk7dGhpcy50eXBlPSdJbnN0YW5jZWRCdWZmZXJHZW9tZXRyeSc7dGhpcy5tYXhJbnN0YW5jZWRDb3VudD11bmRlZmluZWQ7fUluc3RhbmNlZEJ1ZmZlckdlb21ldHJ5LnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoQnVmZmVyR2VvbWV0cnkucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6SW5zdGFuY2VkQnVmZmVyR2VvbWV0cnksaXNJbnN0YW5jZWRCdWZmZXJHZW9tZXRyeTp0cnVlLGNvcHk6ZnVuY3Rpb24gY29weShzb3VyY2Upe0J1ZmZlckdlb21ldHJ5LnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyxzb3VyY2UpO3RoaXMubWF4SW5zdGFuY2VkQ291bnQ9c291cmNlLm1heEluc3RhbmNlZENvdW50O3JldHVybiB0aGlzO30sY2xvbmU6ZnVuY3Rpb24gY2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoKS5jb3B5KHRoaXMpO30sdG9KU09OOmZ1bmN0aW9uIHRvSlNPTigpe3ZhciBkYXRhPUJ1ZmZlckdlb21ldHJ5LnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzKTtkYXRhLm1heEluc3RhbmNlZENvdW50PXRoaXMubWF4SW5zdGFuY2VkQ291bnQ7ZGF0YS5pc0luc3RhbmNlZEJ1ZmZlckdlb21ldHJ5PXRydWU7cmV0dXJuIGRhdGE7fX0pOy8qKgogICAqIEBhdXRob3IgYmVuYWFkYW1zIC8gaHR0cHM6Ly90d2l0dGVyLmNvbS9iZW5fYV9hZGFtcwogICAqL2Z1bmN0aW9uIEluc3RhbmNlZEJ1ZmZlckF0dHJpYnV0ZShhcnJheSxpdGVtU2l6ZSxub3JtYWxpemVkLG1lc2hQZXJBdHRyaWJ1dGUpe2lmKHR5cGVvZiBub3JtYWxpemVkPT09J251bWJlcicpe21lc2hQZXJBdHRyaWJ1dGU9bm9ybWFsaXplZDtub3JtYWxpemVkPWZhbHNlO2NvbnNvbGUuZXJyb3IoJ1RIUkVFLkluc3RhbmNlZEJ1ZmZlckF0dHJpYnV0ZTogVGhlIGNvbnN0cnVjdG9yIG5vdyBleHBlY3RzIG5vcm1hbGl6ZWQgYXMgdGhlIHRoaXJkIGFyZ3VtZW50LicpO31CdWZmZXJBdHRyaWJ1dGUuY2FsbCh0aGlzLGFycmF5LGl0ZW1TaXplLG5vcm1hbGl6ZWQpO3RoaXMubWVzaFBlckF0dHJpYnV0ZT1tZXNoUGVyQXR0cmlidXRlfHwxO31JbnN0YW5jZWRCdWZmZXJBdHRyaWJ1dGUucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShCdWZmZXJBdHRyaWJ1dGUucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6SW5zdGFuY2VkQnVmZmVyQXR0cmlidXRlLGlzSW5zdGFuY2VkQnVmZmVyQXR0cmlidXRlOnRydWUsY29weTpmdW5jdGlvbiBjb3B5KHNvdXJjZSl7QnVmZmVyQXR0cmlidXRlLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyxzb3VyY2UpO3RoaXMubWVzaFBlckF0dHJpYnV0ZT1zb3VyY2UubWVzaFBlckF0dHJpYnV0ZTtyZXR1cm4gdGhpczt9LHRvSlNPTjpmdW5jdGlvbiB0b0pTT04oKXt2YXIgZGF0YT1CdWZmZXJBdHRyaWJ1dGUucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMpO2RhdGEubWVzaFBlckF0dHJpYnV0ZT10aGlzLm1lc2hQZXJBdHRyaWJ1dGU7ZGF0YS5pc0luc3RhbmNlZEJ1ZmZlckF0dHJpYnV0ZT10cnVlO3JldHVybiBkYXRhO319KTsvKioKICAgKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tLwogICAqL2Z1bmN0aW9uIEJ1ZmZlckdlb21ldHJ5TG9hZGVyKG1hbmFnZXIpe0xvYWRlci5jYWxsKHRoaXMsbWFuYWdlcik7fUJ1ZmZlckdlb21ldHJ5TG9hZGVyLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoTG9hZGVyLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOkJ1ZmZlckdlb21ldHJ5TG9hZGVyLGxvYWQ6ZnVuY3Rpb24gbG9hZCh1cmwsb25Mb2FkLG9uUHJvZ3Jlc3Msb25FcnJvcil7dmFyIHNjb3BlPXRoaXM7dmFyIGxvYWRlcj1uZXcgRmlsZUxvYWRlcihzY29wZS5tYW5hZ2VyKTtsb2FkZXIuc2V0UGF0aChzY29wZS5wYXRoKTtsb2FkZXIubG9hZCh1cmwsZnVuY3Rpb24odGV4dCl7b25Mb2FkKHNjb3BlLnBhcnNlKEpTT04ucGFyc2UodGV4dCkpKTt9LG9uUHJvZ3Jlc3Msb25FcnJvcik7fSxwYXJzZTpmdW5jdGlvbiBwYXJzZShqc29uKXt2YXIgZ2VvbWV0cnk9anNvbi5pc0luc3RhbmNlZEJ1ZmZlckdlb21ldHJ5P25ldyBJbnN0YW5jZWRCdWZmZXJHZW9tZXRyeSgpOm5ldyBCdWZmZXJHZW9tZXRyeSgpO3ZhciBpbmRleD1qc29uLmRhdGEuaW5kZXg7aWYoaW5kZXghPT11bmRlZmluZWQpe3ZhciB0eXBlZEFycmF5PW5ldyBUWVBFRF9BUlJBWVNbaW5kZXgudHlwZV0oaW5kZXguYXJyYXkpO2dlb21ldHJ5LnNldEluZGV4KG5ldyBCdWZmZXJBdHRyaWJ1dGUodHlwZWRBcnJheSwxKSk7fXZhciBhdHRyaWJ1dGVzPWpzb24uZGF0YS5hdHRyaWJ1dGVzO2Zvcih2YXIga2V5IGluIGF0dHJpYnV0ZXMpe3ZhciBhdHRyaWJ1dGU9YXR0cmlidXRlc1trZXldO3ZhciB0eXBlZEFycmF5PW5ldyBUWVBFRF9BUlJBWVNbYXR0cmlidXRlLnR5cGVdKGF0dHJpYnV0ZS5hcnJheSk7dmFyIGJ1ZmZlckF0dHJpYnV0ZUNvbnN0cj1hdHRyaWJ1dGUuaXNJbnN0YW5jZWRCdWZmZXJBdHRyaWJ1dGU/SW5zdGFuY2VkQnVmZmVyQXR0cmlidXRlOkJ1ZmZlckF0dHJpYnV0ZTt2YXIgYnVmZmVyQXR0cmlidXRlPW5ldyBidWZmZXJBdHRyaWJ1dGVDb25zdHIodHlwZWRBcnJheSxhdHRyaWJ1dGUuaXRlbVNpemUsYXR0cmlidXRlLm5vcm1hbGl6ZWQpO2lmKGF0dHJpYnV0ZS5uYW1lIT09dW5kZWZpbmVkKXtidWZmZXJBdHRyaWJ1dGUubmFtZT1hdHRyaWJ1dGUubmFtZTt9Z2VvbWV0cnkuc2V0QXR0cmlidXRlKGtleSxidWZmZXJBdHRyaWJ1dGUpO312YXIgbW9ycGhBdHRyaWJ1dGVzPWpzb24uZGF0YS5tb3JwaEF0dHJpYnV0ZXM7aWYobW9ycGhBdHRyaWJ1dGVzKXtmb3IodmFyIGtleSBpbiBtb3JwaEF0dHJpYnV0ZXMpe3ZhciBhdHRyaWJ1dGVBcnJheT1tb3JwaEF0dHJpYnV0ZXNba2V5XTt2YXIgYXJyYXk9W107Zm9yKHZhciBpPTAsaWw9YXR0cmlidXRlQXJyYXkubGVuZ3RoO2k8aWw7aSsrKXt2YXIgYXR0cmlidXRlPWF0dHJpYnV0ZUFycmF5W2ldO3ZhciB0eXBlZEFycmF5PW5ldyBUWVBFRF9BUlJBWVNbYXR0cmlidXRlLnR5cGVdKGF0dHJpYnV0ZS5hcnJheSk7dmFyIGJ1ZmZlckF0dHJpYnV0ZT1uZXcgQnVmZmVyQXR0cmlidXRlKHR5cGVkQXJyYXksYXR0cmlidXRlLml0ZW1TaXplLGF0dHJpYnV0ZS5ub3JtYWxpemVkKTtpZihhdHRyaWJ1dGUubmFtZSE9PXVuZGVmaW5lZCl7YnVmZmVyQXR0cmlidXRlLm5hbWU9YXR0cmlidXRlLm5hbWU7fWFycmF5LnB1c2goYnVmZmVyQXR0cmlidXRlKTt9Z2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzW2tleV09YXJyYXk7fX12YXIgbW9ycGhUYXJnZXRzUmVsYXRpdmU9anNvbi5kYXRhLm1vcnBoVGFyZ2V0c1JlbGF0aXZlO2lmKG1vcnBoVGFyZ2V0c1JlbGF0aXZlKXtnZW9tZXRyeS5tb3JwaFRhcmdldHNSZWxhdGl2ZT10cnVlO312YXIgZ3JvdXBzPWpzb24uZGF0YS5ncm91cHN8fGpzb24uZGF0YS5kcmF3Y2FsbHN8fGpzb24uZGF0YS5vZmZzZXRzO2lmKGdyb3VwcyE9PXVuZGVmaW5lZCl7Zm9yKHZhciBpPTAsbj1ncm91cHMubGVuZ3RoO2khPT1uOysraSl7dmFyIGdyb3VwPWdyb3Vwc1tpXTtnZW9tZXRyeS5hZGRHcm91cChncm91cC5zdGFydCxncm91cC5jb3VudCxncm91cC5tYXRlcmlhbEluZGV4KTt9fXZhciBib3VuZGluZ1NwaGVyZT1qc29uLmRhdGEuYm91bmRpbmdTcGhlcmU7aWYoYm91bmRpbmdTcGhlcmUhPT11bmRlZmluZWQpe3ZhciBjZW50ZXI9bmV3IFZlY3RvcjMoKTtpZihib3VuZGluZ1NwaGVyZS5jZW50ZXIhPT11bmRlZmluZWQpe2NlbnRlci5mcm9tQXJyYXkoYm91bmRpbmdTcGhlcmUuY2VudGVyKTt9Z2VvbWV0cnkuYm91bmRpbmdTcGhlcmU9bmV3IFNwaGVyZShjZW50ZXIsYm91bmRpbmdTcGhlcmUucmFkaXVzKTt9aWYoanNvbi5uYW1lKXtnZW9tZXRyeS5uYW1lPWpzb24ubmFtZTt9aWYoanNvbi51c2VyRGF0YSl7Z2VvbWV0cnkudXNlckRhdGE9anNvbi51c2VyRGF0YTt9cmV0dXJuIGdlb21ldHJ5O319KTt2YXIgVFlQRURfQVJSQVlTPXtJbnQ4QXJyYXk6SW50OEFycmF5LFVpbnQ4QXJyYXk6VWludDhBcnJheSwvLyBXb3JrYXJvdW5kIGZvciBJRTExIHByZSBLQjI5Mjk0MzcuIFNlZSAjMTE0NDAKVWludDhDbGFtcGVkQXJyYXk6dHlwZW9mIFVpbnQ4Q2xhbXBlZEFycmF5IT09J3VuZGVmaW5lZCc/VWludDhDbGFtcGVkQXJyYXk6VWludDhBcnJheSxJbnQxNkFycmF5OkludDE2QXJyYXksVWludDE2QXJyYXk6VWludDE2QXJyYXksSW50MzJBcnJheTpJbnQzMkFycmF5LFVpbnQzMkFycmF5OlVpbnQzMkFycmF5LEZsb2F0MzJBcnJheTpGbG9hdDMyQXJyYXksRmxvYXQ2NEFycmF5OkZsb2F0NjRBcnJheX07LyoqCiAgICogQGF1dGhvciBtcmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS8KICAgKi9mdW5jdGlvbiBPYmplY3RMb2FkZXIobWFuYWdlcil7TG9hZGVyLmNhbGwodGhpcyxtYW5hZ2VyKTt9T2JqZWN0TG9hZGVyLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoTG9hZGVyLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOk9iamVjdExvYWRlcixsb2FkOmZ1bmN0aW9uIGxvYWQodXJsLG9uTG9hZCxvblByb2dyZXNzLG9uRXJyb3Ipe3ZhciBzY29wZT10aGlzO3ZhciBwYXRoPXRoaXMucGF0aD09PScnP0xvYWRlclV0aWxzLmV4dHJhY3RVcmxCYXNlKHVybCk6dGhpcy5wYXRoO3RoaXMucmVzb3VyY2VQYXRoPXRoaXMucmVzb3VyY2VQYXRofHxwYXRoO3ZhciBsb2FkZXI9bmV3IEZpbGVMb2FkZXIoc2NvcGUubWFuYWdlcik7bG9hZGVyLnNldFBhdGgodGhpcy5wYXRoKTtsb2FkZXIubG9hZCh1cmwsZnVuY3Rpb24odGV4dCl7dmFyIGpzb249bnVsbDt0cnl7anNvbj1KU09OLnBhcnNlKHRleHQpO31jYXRjaChlcnJvcil7aWYob25FcnJvciE9PXVuZGVmaW5lZCl7b25FcnJvcihlcnJvcik7fWNvbnNvbGUuZXJyb3IoJ1RIUkVFOk9iamVjdExvYWRlcjogQ2FuXCd0IHBhcnNlICcrdXJsKycuJyxlcnJvci5tZXNzYWdlKTtyZXR1cm47fXZhciBtZXRhZGF0YT1qc29uLm1ldGFkYXRhO2lmKG1ldGFkYXRhPT09dW5kZWZpbmVkfHxtZXRhZGF0YS50eXBlPT09dW5kZWZpbmVkfHxtZXRhZGF0YS50eXBlLnRvTG93ZXJDYXNlKCk9PT0nZ2VvbWV0cnknKXtjb25zb2xlLmVycm9yKCdUSFJFRS5PYmplY3RMb2FkZXI6IENhblwndCBsb2FkICcrdXJsKTtyZXR1cm47fXNjb3BlLnBhcnNlKGpzb24sb25Mb2FkKTt9LG9uUHJvZ3Jlc3Msb25FcnJvcik7fSxwYXJzZTpmdW5jdGlvbiBwYXJzZShqc29uLG9uTG9hZCl7dmFyIHNoYXBlcz10aGlzLnBhcnNlU2hhcGUoanNvbi5zaGFwZXMpO3ZhciBnZW9tZXRyaWVzPXRoaXMucGFyc2VHZW9tZXRyaWVzKGpzb24uZ2VvbWV0cmllcyxzaGFwZXMpO3ZhciBpbWFnZXM9dGhpcy5wYXJzZUltYWdlcyhqc29uLmltYWdlcyxmdW5jdGlvbigpe2lmKG9uTG9hZCE9PXVuZGVmaW5lZCl7b25Mb2FkKG9iamVjdCk7fX0pO3ZhciB0ZXh0dXJlcz10aGlzLnBhcnNlVGV4dHVyZXMoanNvbi50ZXh0dXJlcyxpbWFnZXMpO3ZhciBtYXRlcmlhbHM9dGhpcy5wYXJzZU1hdGVyaWFscyhqc29uLm1hdGVyaWFscyx0ZXh0dXJlcyk7dmFyIG9iamVjdD10aGlzLnBhcnNlT2JqZWN0KGpzb24ub2JqZWN0LGdlb21ldHJpZXMsbWF0ZXJpYWxzKTtpZihqc29uLmFuaW1hdGlvbnMpe29iamVjdC5hbmltYXRpb25zPXRoaXMucGFyc2VBbmltYXRpb25zKGpzb24uYW5pbWF0aW9ucyk7fWlmKGpzb24uaW1hZ2VzPT09dW5kZWZpbmVkfHxqc29uLmltYWdlcy5sZW5ndGg9PT0wKXtpZihvbkxvYWQhPT11bmRlZmluZWQpe29uTG9hZChvYmplY3QpO319cmV0dXJuIG9iamVjdDt9LHBhcnNlU2hhcGU6ZnVuY3Rpb24gcGFyc2VTaGFwZShqc29uKXt2YXIgc2hhcGVzPXt9O2lmKGpzb24hPT11bmRlZmluZWQpe2Zvcih2YXIgaT0wLGw9anNvbi5sZW5ndGg7aTxsO2krKyl7dmFyIHNoYXBlPW5ldyBTaGFwZSgpLmZyb21KU09OKGpzb25baV0pO3NoYXBlc1tzaGFwZS51dWlkXT1zaGFwZTt9fXJldHVybiBzaGFwZXM7fSxwYXJzZUdlb21ldHJpZXM6ZnVuY3Rpb24gcGFyc2VHZW9tZXRyaWVzKGpzb24sc2hhcGVzKXt2YXIgZ2VvbWV0cmllcz17fTtpZihqc29uIT09dW5kZWZpbmVkKXt2YXIgYnVmZmVyR2VvbWV0cnlMb2FkZXI9bmV3IEJ1ZmZlckdlb21ldHJ5TG9hZGVyKCk7Zm9yKHZhciBpPTAsbD1qc29uLmxlbmd0aDtpPGw7aSsrKXt2YXIgZ2VvbWV0cnk7dmFyIGRhdGE9anNvbltpXTtzd2l0Y2goZGF0YS50eXBlKXtjYXNlJ1BsYW5lR2VvbWV0cnknOmNhc2UnUGxhbmVCdWZmZXJHZW9tZXRyeSc6Z2VvbWV0cnk9bmV3IEdlb21ldHJpZXNbZGF0YS50eXBlXShkYXRhLndpZHRoLGRhdGEuaGVpZ2h0LGRhdGEud2lkdGhTZWdtZW50cyxkYXRhLmhlaWdodFNlZ21lbnRzKTticmVhaztjYXNlJ0JveEdlb21ldHJ5JzpjYXNlJ0JveEJ1ZmZlckdlb21ldHJ5JzpjYXNlJ0N1YmVHZW9tZXRyeSc6Ly8gYmFja3dhcmRzIGNvbXBhdGlibGUKZ2VvbWV0cnk9bmV3IEdlb21ldHJpZXNbZGF0YS50eXBlXShkYXRhLndpZHRoLGRhdGEuaGVpZ2h0LGRhdGEuZGVwdGgsZGF0YS53aWR0aFNlZ21lbnRzLGRhdGEuaGVpZ2h0U2VnbWVudHMsZGF0YS5kZXB0aFNlZ21lbnRzKTticmVhaztjYXNlJ0NpcmNsZUdlb21ldHJ5JzpjYXNlJ0NpcmNsZUJ1ZmZlckdlb21ldHJ5JzpnZW9tZXRyeT1uZXcgR2VvbWV0cmllc1tkYXRhLnR5cGVdKGRhdGEucmFkaXVzLGRhdGEuc2VnbWVudHMsZGF0YS50aGV0YVN0YXJ0LGRhdGEudGhldGFMZW5ndGgpO2JyZWFrO2Nhc2UnQ3lsaW5kZXJHZW9tZXRyeSc6Y2FzZSdDeWxpbmRlckJ1ZmZlckdlb21ldHJ5JzpnZW9tZXRyeT1uZXcgR2VvbWV0cmllc1tkYXRhLnR5cGVdKGRhdGEucmFkaXVzVG9wLGRhdGEucmFkaXVzQm90dG9tLGRhdGEuaGVpZ2h0LGRhdGEucmFkaWFsU2VnbWVudHMsZGF0YS5oZWlnaHRTZWdtZW50cyxkYXRhLm9wZW5FbmRlZCxkYXRhLnRoZXRhU3RhcnQsZGF0YS50aGV0YUxlbmd0aCk7YnJlYWs7Y2FzZSdDb25lR2VvbWV0cnknOmNhc2UnQ29uZUJ1ZmZlckdlb21ldHJ5JzpnZW9tZXRyeT1uZXcgR2VvbWV0cmllc1tkYXRhLnR5cGVdKGRhdGEucmFkaXVzLGRhdGEuaGVpZ2h0LGRhdGEucmFkaWFsU2VnbWVudHMsZGF0YS5oZWlnaHRTZWdtZW50cyxkYXRhLm9wZW5FbmRlZCxkYXRhLnRoZXRhU3RhcnQsZGF0YS50aGV0YUxlbmd0aCk7YnJlYWs7Y2FzZSdTcGhlcmVHZW9tZXRyeSc6Y2FzZSdTcGhlcmVCdWZmZXJHZW9tZXRyeSc6Z2VvbWV0cnk9bmV3IEdlb21ldHJpZXNbZGF0YS50eXBlXShkYXRhLnJhZGl1cyxkYXRhLndpZHRoU2VnbWVudHMsZGF0YS5oZWlnaHRTZWdtZW50cyxkYXRhLnBoaVN0YXJ0LGRhdGEucGhpTGVuZ3RoLGRhdGEudGhldGFTdGFydCxkYXRhLnRoZXRhTGVuZ3RoKTticmVhaztjYXNlJ0RvZGVjYWhlZHJvbkdlb21ldHJ5JzpjYXNlJ0RvZGVjYWhlZHJvbkJ1ZmZlckdlb21ldHJ5JzpjYXNlJ0ljb3NhaGVkcm9uR2VvbWV0cnknOmNhc2UnSWNvc2FoZWRyb25CdWZmZXJHZW9tZXRyeSc6Y2FzZSdPY3RhaGVkcm9uR2VvbWV0cnknOmNhc2UnT2N0YWhlZHJvbkJ1ZmZlckdlb21ldHJ5JzpjYXNlJ1RldHJhaGVkcm9uR2VvbWV0cnknOmNhc2UnVGV0cmFoZWRyb25CdWZmZXJHZW9tZXRyeSc6Z2VvbWV0cnk9bmV3IEdlb21ldHJpZXNbZGF0YS50eXBlXShkYXRhLnJhZGl1cyxkYXRhLmRldGFpbCk7YnJlYWs7Y2FzZSdSaW5nR2VvbWV0cnknOmNhc2UnUmluZ0J1ZmZlckdlb21ldHJ5JzpnZW9tZXRyeT1uZXcgR2VvbWV0cmllc1tkYXRhLnR5cGVdKGRhdGEuaW5uZXJSYWRpdXMsZGF0YS5vdXRlclJhZGl1cyxkYXRhLnRoZXRhU2VnbWVudHMsZGF0YS5waGlTZWdtZW50cyxkYXRhLnRoZXRhU3RhcnQsZGF0YS50aGV0YUxlbmd0aCk7YnJlYWs7Y2FzZSdUb3J1c0dlb21ldHJ5JzpjYXNlJ1RvcnVzQnVmZmVyR2VvbWV0cnknOmdlb21ldHJ5PW5ldyBHZW9tZXRyaWVzW2RhdGEudHlwZV0oZGF0YS5yYWRpdXMsZGF0YS50dWJlLGRhdGEucmFkaWFsU2VnbWVudHMsZGF0YS50dWJ1bGFyU2VnbWVudHMsZGF0YS5hcmMpO2JyZWFrO2Nhc2UnVG9ydXNLbm90R2VvbWV0cnknOmNhc2UnVG9ydXNLbm90QnVmZmVyR2VvbWV0cnknOmdlb21ldHJ5PW5ldyBHZW9tZXRyaWVzW2RhdGEudHlwZV0oZGF0YS5yYWRpdXMsZGF0YS50dWJlLGRhdGEudHVidWxhclNlZ21lbnRzLGRhdGEucmFkaWFsU2VnbWVudHMsZGF0YS5wLGRhdGEucSk7YnJlYWs7Y2FzZSdUdWJlR2VvbWV0cnknOmNhc2UnVHViZUJ1ZmZlckdlb21ldHJ5JzovLyBUaGlzIG9ubHkgd29ya3MgZm9yIGJ1aWx0LWluIGN1cnZlcyAoZS5nLiBDYXRtdWxsUm9tQ3VydmUzKS4KLy8gVXNlciBkZWZpbmVkIGN1cnZlcyBvciBpbnN0YW5jZXMgb2YgQ3VydmVQYXRoIHdpbGwgbm90IGJlIGRlc2VyaWFsaXplZC4KZ2VvbWV0cnk9bmV3IEdlb21ldHJpZXNbZGF0YS50eXBlXShuZXcgQ3VydmVzW2RhdGEucGF0aC50eXBlXSgpLmZyb21KU09OKGRhdGEucGF0aCksZGF0YS50dWJ1bGFyU2VnbWVudHMsZGF0YS5yYWRpdXMsZGF0YS5yYWRpYWxTZWdtZW50cyxkYXRhLmNsb3NlZCk7YnJlYWs7Y2FzZSdMYXRoZUdlb21ldHJ5JzpjYXNlJ0xhdGhlQnVmZmVyR2VvbWV0cnknOmdlb21ldHJ5PW5ldyBHZW9tZXRyaWVzW2RhdGEudHlwZV0oZGF0YS5wb2ludHMsZGF0YS5zZWdtZW50cyxkYXRhLnBoaVN0YXJ0LGRhdGEucGhpTGVuZ3RoKTticmVhaztjYXNlJ1BvbHloZWRyb25HZW9tZXRyeSc6Y2FzZSdQb2x5aGVkcm9uQnVmZmVyR2VvbWV0cnknOmdlb21ldHJ5PW5ldyBHZW9tZXRyaWVzW2RhdGEudHlwZV0oZGF0YS52ZXJ0aWNlcyxkYXRhLmluZGljZXMsZGF0YS5yYWRpdXMsZGF0YS5kZXRhaWxzKTticmVhaztjYXNlJ1NoYXBlR2VvbWV0cnknOmNhc2UnU2hhcGVCdWZmZXJHZW9tZXRyeSc6dmFyIGdlb21ldHJ5U2hhcGVzPVtdO2Zvcih2YXIgaj0wLGpsPWRhdGEuc2hhcGVzLmxlbmd0aDtqPGpsO2orKyl7dmFyIHNoYXBlPXNoYXBlc1tkYXRhLnNoYXBlc1tqXV07Z2VvbWV0cnlTaGFwZXMucHVzaChzaGFwZSk7fWdlb21ldHJ5PW5ldyBHZW9tZXRyaWVzW2RhdGEudHlwZV0oZ2VvbWV0cnlTaGFwZXMsZGF0YS5jdXJ2ZVNlZ21lbnRzKTticmVhaztjYXNlJ0V4dHJ1ZGVHZW9tZXRyeSc6Y2FzZSdFeHRydWRlQnVmZmVyR2VvbWV0cnknOnZhciBnZW9tZXRyeVNoYXBlcz1bXTtmb3IodmFyIGo9MCxqbD1kYXRhLnNoYXBlcy5sZW5ndGg7ajxqbDtqKyspe3ZhciBzaGFwZT1zaGFwZXNbZGF0YS5zaGFwZXNbal1dO2dlb21ldHJ5U2hhcGVzLnB1c2goc2hhcGUpO312YXIgZXh0cnVkZVBhdGg9ZGF0YS5vcHRpb25zLmV4dHJ1ZGVQYXRoO2lmKGV4dHJ1ZGVQYXRoIT09dW5kZWZpbmVkKXtkYXRhLm9wdGlvbnMuZXh0cnVkZVBhdGg9bmV3IEN1cnZlc1tleHRydWRlUGF0aC50eXBlXSgpLmZyb21KU09OKGV4dHJ1ZGVQYXRoKTt9Z2VvbWV0cnk9bmV3IEdlb21ldHJpZXNbZGF0YS50eXBlXShnZW9tZXRyeVNoYXBlcyxkYXRhLm9wdGlvbnMpO2JyZWFrO2Nhc2UnQnVmZmVyR2VvbWV0cnknOmNhc2UnSW5zdGFuY2VkQnVmZmVyR2VvbWV0cnknOmdlb21ldHJ5PWJ1ZmZlckdlb21ldHJ5TG9hZGVyLnBhcnNlKGRhdGEpO2JyZWFrO2Nhc2UnR2VvbWV0cnknOmlmKCdUSFJFRSdpbiB3aW5kb3cmJidMZWdhY3lKU09OTG9hZGVyJ2luIFRIUkVFKXt2YXIgZ2VvbWV0cnlMb2FkZXI9bmV3IFRIUkVFLkxlZ2FjeUpTT05Mb2FkZXIoKTtnZW9tZXRyeT1nZW9tZXRyeUxvYWRlci5wYXJzZShkYXRhLHRoaXMucmVzb3VyY2VQYXRoKS5nZW9tZXRyeTt9ZWxzZXtjb25zb2xlLmVycm9yKCdUSFJFRS5PYmplY3RMb2FkZXI6IFlvdSBoYXZlIHRvIGltcG9ydCBMZWdhY3lKU09OTG9hZGVyIGluIG9yZGVyIGxvYWQgZ2VvbWV0cnkgZGF0YSBvZiB0eXBlICJHZW9tZXRyeSIuJyk7fWJyZWFrO2RlZmF1bHQ6Y29uc29sZS53YXJuKCdUSFJFRS5PYmplY3RMb2FkZXI6IFVuc3VwcG9ydGVkIGdlb21ldHJ5IHR5cGUgIicrZGF0YS50eXBlKyciJyk7Y29udGludWU7fWdlb21ldHJ5LnV1aWQ9ZGF0YS51dWlkO2lmKGRhdGEubmFtZSE9PXVuZGVmaW5lZCl7Z2VvbWV0cnkubmFtZT1kYXRhLm5hbWU7fWlmKGdlb21ldHJ5LmlzQnVmZmVyR2VvbWV0cnk9PT10cnVlJiZkYXRhLnVzZXJEYXRhIT09dW5kZWZpbmVkKXtnZW9tZXRyeS51c2VyRGF0YT1kYXRhLnVzZXJEYXRhO31nZW9tZXRyaWVzW2RhdGEudXVpZF09Z2VvbWV0cnk7fX1yZXR1cm4gZ2VvbWV0cmllczt9LHBhcnNlTWF0ZXJpYWxzOmZ1bmN0aW9uIHBhcnNlTWF0ZXJpYWxzKGpzb24sdGV4dHVyZXMpe3ZhciBjYWNoZT17fTsvLyBNdWx0aU1hdGVyaWFsCnZhciBtYXRlcmlhbHM9e307aWYoanNvbiE9PXVuZGVmaW5lZCl7dmFyIGxvYWRlcj1uZXcgTWF0ZXJpYWxMb2FkZXIoKTtsb2FkZXIuc2V0VGV4dHVyZXModGV4dHVyZXMpO2Zvcih2YXIgaT0wLGw9anNvbi5sZW5ndGg7aTxsO2krKyl7dmFyIGRhdGE9anNvbltpXTtpZihkYXRhLnR5cGU9PT0nTXVsdGlNYXRlcmlhbCcpey8vIERlcHJlY2F0ZWQKdmFyIGFycmF5PVtdO2Zvcih2YXIgaj0wO2o8ZGF0YS5tYXRlcmlhbHMubGVuZ3RoO2orKyl7dmFyIG1hdGVyaWFsPWRhdGEubWF0ZXJpYWxzW2pdO2lmKGNhY2hlW21hdGVyaWFsLnV1aWRdPT09dW5kZWZpbmVkKXtjYWNoZVttYXRlcmlhbC51dWlkXT1sb2FkZXIucGFyc2UobWF0ZXJpYWwpO31hcnJheS5wdXNoKGNhY2hlW21hdGVyaWFsLnV1aWRdKTt9bWF0ZXJpYWxzW2RhdGEudXVpZF09YXJyYXk7fWVsc2V7aWYoY2FjaGVbZGF0YS51dWlkXT09PXVuZGVmaW5lZCl7Y2FjaGVbZGF0YS51dWlkXT1sb2FkZXIucGFyc2UoZGF0YSk7fW1hdGVyaWFsc1tkYXRhLnV1aWRdPWNhY2hlW2RhdGEudXVpZF07fX19cmV0dXJuIG1hdGVyaWFsczt9LHBhcnNlQW5pbWF0aW9uczpmdW5jdGlvbiBwYXJzZUFuaW1hdGlvbnMoanNvbil7dmFyIGFuaW1hdGlvbnM9W107Zm9yKHZhciBpPTA7aTxqc29uLmxlbmd0aDtpKyspe3ZhciBkYXRhPWpzb25baV07dmFyIGNsaXA9QW5pbWF0aW9uQ2xpcC5wYXJzZShkYXRhKTtpZihkYXRhLnV1aWQhPT11bmRlZmluZWQpe2NsaXAudXVpZD1kYXRhLnV1aWQ7fWFuaW1hdGlvbnMucHVzaChjbGlwKTt9cmV0dXJuIGFuaW1hdGlvbnM7fSxwYXJzZUltYWdlczpmdW5jdGlvbiBwYXJzZUltYWdlcyhqc29uLG9uTG9hZCl7dmFyIHNjb3BlPXRoaXM7dmFyIGltYWdlcz17fTtmdW5jdGlvbiBsb2FkSW1hZ2UodXJsKXtzY29wZS5tYW5hZ2VyLml0ZW1TdGFydCh1cmwpO3JldHVybiBsb2FkZXIubG9hZCh1cmwsZnVuY3Rpb24oKXtzY29wZS5tYW5hZ2VyLml0ZW1FbmQodXJsKTt9LHVuZGVmaW5lZCxmdW5jdGlvbigpe3Njb3BlLm1hbmFnZXIuaXRlbUVycm9yKHVybCk7c2NvcGUubWFuYWdlci5pdGVtRW5kKHVybCk7fSk7fWlmKGpzb24hPT11bmRlZmluZWQmJmpzb24ubGVuZ3RoPjApe3ZhciBtYW5hZ2VyPW5ldyBMb2FkaW5nTWFuYWdlcihvbkxvYWQpO3ZhciBsb2FkZXI9bmV3IEltYWdlTG9hZGVyKG1hbmFnZXIpO2xvYWRlci5zZXRDcm9zc09yaWdpbih0aGlzLmNyb3NzT3JpZ2luKTtmb3IodmFyIGk9MCxpbD1qc29uLmxlbmd0aDtpPGlsO2krKyl7dmFyIGltYWdlPWpzb25baV07dmFyIHVybD1pbWFnZS51cmw7aWYoQXJyYXkuaXNBcnJheSh1cmwpKXsvLyBsb2FkIGFycmF5IG9mIGltYWdlcyBlLmcgQ3ViZVRleHR1cmUKaW1hZ2VzW2ltYWdlLnV1aWRdPVtdO2Zvcih2YXIgaj0wLGpsPXVybC5sZW5ndGg7ajxqbDtqKyspe3ZhciBjdXJyZW50VXJsPXVybFtqXTt2YXIgcGF0aD0vXihcL1wvKXwoW2Etel0rOihcL1wvKT8pL2kudGVzdChjdXJyZW50VXJsKT9jdXJyZW50VXJsOnNjb3BlLnJlc291cmNlUGF0aCtjdXJyZW50VXJsO2ltYWdlc1tpbWFnZS51dWlkXS5wdXNoKGxvYWRJbWFnZShwYXRoKSk7fX1lbHNley8vIGxvYWQgc2luZ2xlIGltYWdlCnZhciBwYXRoPS9eKFwvXC8pfChbYS16XSs6KFwvXC8pPykvaS50ZXN0KGltYWdlLnVybCk/aW1hZ2UudXJsOnNjb3BlLnJlc291cmNlUGF0aCtpbWFnZS51cmw7aW1hZ2VzW2ltYWdlLnV1aWRdPWxvYWRJbWFnZShwYXRoKTt9fX1yZXR1cm4gaW1hZ2VzO30scGFyc2VUZXh0dXJlczpmdW5jdGlvbiBwYXJzZVRleHR1cmVzKGpzb24saW1hZ2VzKXtmdW5jdGlvbiBwYXJzZUNvbnN0YW50KHZhbHVlLHR5cGUpe2lmKHR5cGVvZiB2YWx1ZT09PSdudW1iZXInKXtyZXR1cm4gdmFsdWU7fWNvbnNvbGUud2FybignVEhSRUUuT2JqZWN0TG9hZGVyLnBhcnNlVGV4dHVyZTogQ29uc3RhbnQgc2hvdWxkIGJlIGluIG51bWVyaWMgZm9ybS4nLHZhbHVlKTtyZXR1cm4gdHlwZVt2YWx1ZV07fXZhciB0ZXh0dXJlcz17fTtpZihqc29uIT09dW5kZWZpbmVkKXtmb3IodmFyIGk9MCxsPWpzb24ubGVuZ3RoO2k8bDtpKyspe3ZhciBkYXRhPWpzb25baV07aWYoZGF0YS5pbWFnZT09PXVuZGVmaW5lZCl7Y29uc29sZS53YXJuKCdUSFJFRS5PYmplY3RMb2FkZXI6IE5vICJpbWFnZSIgc3BlY2lmaWVkIGZvcicsZGF0YS51dWlkKTt9aWYoaW1hZ2VzW2RhdGEuaW1hZ2VdPT09dW5kZWZpbmVkKXtjb25zb2xlLndhcm4oJ1RIUkVFLk9iamVjdExvYWRlcjogVW5kZWZpbmVkIGltYWdlJyxkYXRhLmltYWdlKTt9dmFyIHRleHR1cmU7aWYoQXJyYXkuaXNBcnJheShpbWFnZXNbZGF0YS5pbWFnZV0pKXt0ZXh0dXJlPW5ldyBDdWJlVGV4dHVyZShpbWFnZXNbZGF0YS5pbWFnZV0pO31lbHNle3RleHR1cmU9bmV3IFRleHR1cmUoaW1hZ2VzW2RhdGEuaW1hZ2VdKTt9dGV4dHVyZS5uZWVkc1VwZGF0ZT10cnVlO3RleHR1cmUudXVpZD1kYXRhLnV1aWQ7aWYoZGF0YS5uYW1lIT09dW5kZWZpbmVkKXt0ZXh0dXJlLm5hbWU9ZGF0YS5uYW1lO31pZihkYXRhLm1hcHBpbmchPT11bmRlZmluZWQpe3RleHR1cmUubWFwcGluZz1wYXJzZUNvbnN0YW50KGRhdGEubWFwcGluZyxURVhUVVJFX01BUFBJTkcpO31pZihkYXRhLm9mZnNldCE9PXVuZGVmaW5lZCl7dGV4dHVyZS5vZmZzZXQuZnJvbUFycmF5KGRhdGEub2Zmc2V0KTt9aWYoZGF0YS5yZXBlYXQhPT11bmRlZmluZWQpe3RleHR1cmUucmVwZWF0LmZyb21BcnJheShkYXRhLnJlcGVhdCk7fWlmKGRhdGEuY2VudGVyIT09dW5kZWZpbmVkKXt0ZXh0dXJlLmNlbnRlci5mcm9tQXJyYXkoZGF0YS5jZW50ZXIpO31pZihkYXRhLnJvdGF0aW9uIT09dW5kZWZpbmVkKXt0ZXh0dXJlLnJvdGF0aW9uPWRhdGEucm90YXRpb247fWlmKGRhdGEud3JhcCE9PXVuZGVmaW5lZCl7dGV4dHVyZS53cmFwUz1wYXJzZUNvbnN0YW50KGRhdGEud3JhcFswXSxURVhUVVJFX1dSQVBQSU5HKTt0ZXh0dXJlLndyYXBUPXBhcnNlQ29uc3RhbnQoZGF0YS53cmFwWzFdLFRFWFRVUkVfV1JBUFBJTkcpO31pZihkYXRhLmZvcm1hdCE9PXVuZGVmaW5lZCl7dGV4dHVyZS5mb3JtYXQ9ZGF0YS5mb3JtYXQ7fWlmKGRhdGEudHlwZSE9PXVuZGVmaW5lZCl7dGV4dHVyZS50eXBlPWRhdGEudHlwZTt9aWYoZGF0YS5lbmNvZGluZyE9PXVuZGVmaW5lZCl7dGV4dHVyZS5lbmNvZGluZz1kYXRhLmVuY29kaW5nO31pZihkYXRhLm1pbkZpbHRlciE9PXVuZGVmaW5lZCl7dGV4dHVyZS5taW5GaWx0ZXI9cGFyc2VDb25zdGFudChkYXRhLm1pbkZpbHRlcixURVhUVVJFX0ZJTFRFUik7fWlmKGRhdGEubWFnRmlsdGVyIT09dW5kZWZpbmVkKXt0ZXh0dXJlLm1hZ0ZpbHRlcj1wYXJzZUNvbnN0YW50KGRhdGEubWFnRmlsdGVyLFRFWFRVUkVfRklMVEVSKTt9aWYoZGF0YS5hbmlzb3Ryb3B5IT09dW5kZWZpbmVkKXt0ZXh0dXJlLmFuaXNvdHJvcHk9ZGF0YS5hbmlzb3Ryb3B5O31pZihkYXRhLmZsaXBZIT09dW5kZWZpbmVkKXt0ZXh0dXJlLmZsaXBZPWRhdGEuZmxpcFk7fWlmKGRhdGEucHJlbXVsdGlwbHlBbHBoYSE9PXVuZGVmaW5lZCl7dGV4dHVyZS5wcmVtdWx0aXBseUFscGhhPWRhdGEucHJlbXVsdGlwbHlBbHBoYTt9aWYoZGF0YS51bnBhY2tBbGlnbm1lbnQhPT11bmRlZmluZWQpe3RleHR1cmUudW5wYWNrQWxpZ25tZW50PWRhdGEudW5wYWNrQWxpZ25tZW50O310ZXh0dXJlc1tkYXRhLnV1aWRdPXRleHR1cmU7fX1yZXR1cm4gdGV4dHVyZXM7fSxwYXJzZU9iamVjdDpmdW5jdGlvbiBwYXJzZU9iamVjdChkYXRhLGdlb21ldHJpZXMsbWF0ZXJpYWxzKXt2YXIgb2JqZWN0O2Z1bmN0aW9uIGdldEdlb21ldHJ5KG5hbWUpe2lmKGdlb21ldHJpZXNbbmFtZV09PT11bmRlZmluZWQpe2NvbnNvbGUud2FybignVEhSRUUuT2JqZWN0TG9hZGVyOiBVbmRlZmluZWQgZ2VvbWV0cnknLG5hbWUpO31yZXR1cm4gZ2VvbWV0cmllc1tuYW1lXTt9ZnVuY3Rpb24gZ2V0TWF0ZXJpYWwobmFtZSl7aWYobmFtZT09PXVuZGVmaW5lZCl7cmV0dXJuIHVuZGVmaW5lZDt9aWYoQXJyYXkuaXNBcnJheShuYW1lKSl7dmFyIGFycmF5PVtdO2Zvcih2YXIgaT0wLGw9bmFtZS5sZW5ndGg7aTxsO2krKyl7dmFyIHV1aWQ9bmFtZVtpXTtpZihtYXRlcmlhbHNbdXVpZF09PT11bmRlZmluZWQpe2NvbnNvbGUud2FybignVEhSRUUuT2JqZWN0TG9hZGVyOiBVbmRlZmluZWQgbWF0ZXJpYWwnLHV1aWQpO31hcnJheS5wdXNoKG1hdGVyaWFsc1t1dWlkXSk7fXJldHVybiBhcnJheTt9aWYobWF0ZXJpYWxzW25hbWVdPT09dW5kZWZpbmVkKXtjb25zb2xlLndhcm4oJ1RIUkVFLk9iamVjdExvYWRlcjogVW5kZWZpbmVkIG1hdGVyaWFsJyxuYW1lKTt9cmV0dXJuIG1hdGVyaWFsc1tuYW1lXTt9c3dpdGNoKGRhdGEudHlwZSl7Y2FzZSdTY2VuZSc6b2JqZWN0PW5ldyBTY2VuZSgpO2lmKGRhdGEuYmFja2dyb3VuZCE9PXVuZGVmaW5lZCl7aWYoTnVtYmVyLmlzSW50ZWdlcihkYXRhLmJhY2tncm91bmQpKXtvYmplY3QuYmFja2dyb3VuZD1uZXcgQ29sb3IoZGF0YS5iYWNrZ3JvdW5kKTt9fWlmKGRhdGEuZm9nIT09dW5kZWZpbmVkKXtpZihkYXRhLmZvZy50eXBlPT09J0ZvZycpe29iamVjdC5mb2c9bmV3IEZvZyhkYXRhLmZvZy5jb2xvcixkYXRhLmZvZy5uZWFyLGRhdGEuZm9nLmZhcik7fWVsc2UgaWYoZGF0YS5mb2cudHlwZT09PSdGb2dFeHAyJyl7b2JqZWN0LmZvZz1uZXcgRm9nRXhwMihkYXRhLmZvZy5jb2xvcixkYXRhLmZvZy5kZW5zaXR5KTt9fWJyZWFrO2Nhc2UnUGVyc3BlY3RpdmVDYW1lcmEnOm9iamVjdD1uZXcgUGVyc3BlY3RpdmVDYW1lcmEoZGF0YS5mb3YsZGF0YS5hc3BlY3QsZGF0YS5uZWFyLGRhdGEuZmFyKTtpZihkYXRhLmZvY3VzIT09dW5kZWZpbmVkKXtvYmplY3QuZm9jdXM9ZGF0YS5mb2N1czt9aWYoZGF0YS56b29tIT09dW5kZWZpbmVkKXtvYmplY3Quem9vbT1kYXRhLnpvb207fWlmKGRhdGEuZmlsbUdhdWdlIT09dW5kZWZpbmVkKXtvYmplY3QuZmlsbUdhdWdlPWRhdGEuZmlsbUdhdWdlO31pZihkYXRhLmZpbG1PZmZzZXQhPT11bmRlZmluZWQpe29iamVjdC5maWxtT2Zmc2V0PWRhdGEuZmlsbU9mZnNldDt9aWYoZGF0YS52aWV3IT09dW5kZWZpbmVkKXtvYmplY3Qudmlldz1PYmplY3QuYXNzaWduKHt9LGRhdGEudmlldyk7fWJyZWFrO2Nhc2UnT3J0aG9ncmFwaGljQ2FtZXJhJzpvYmplY3Q9bmV3IE9ydGhvZ3JhcGhpY0NhbWVyYShkYXRhLmxlZnQsZGF0YS5yaWdodCxkYXRhLnRvcCxkYXRhLmJvdHRvbSxkYXRhLm5lYXIsZGF0YS5mYXIpO2lmKGRhdGEuem9vbSE9PXVuZGVmaW5lZCl7b2JqZWN0Lnpvb209ZGF0YS56b29tO31pZihkYXRhLnZpZXchPT11bmRlZmluZWQpe29iamVjdC52aWV3PU9iamVjdC5hc3NpZ24oe30sZGF0YS52aWV3KTt9YnJlYWs7Y2FzZSdBbWJpZW50TGlnaHQnOm9iamVjdD1uZXcgQW1iaWVudExpZ2h0KGRhdGEuY29sb3IsZGF0YS5pbnRlbnNpdHkpO2JyZWFrO2Nhc2UnRGlyZWN0aW9uYWxMaWdodCc6b2JqZWN0PW5ldyBEaXJlY3Rpb25hbExpZ2h0KGRhdGEuY29sb3IsZGF0YS5pbnRlbnNpdHkpO2JyZWFrO2Nhc2UnUG9pbnRMaWdodCc6b2JqZWN0PW5ldyBQb2ludExpZ2h0KGRhdGEuY29sb3IsZGF0YS5pbnRlbnNpdHksZGF0YS5kaXN0YW5jZSxkYXRhLmRlY2F5KTticmVhaztjYXNlJ1JlY3RBcmVhTGlnaHQnOm9iamVjdD1uZXcgUmVjdEFyZWFMaWdodChkYXRhLmNvbG9yLGRhdGEuaW50ZW5zaXR5LGRhdGEud2lkdGgsZGF0YS5oZWlnaHQpO2JyZWFrO2Nhc2UnU3BvdExpZ2h0JzpvYmplY3Q9bmV3IFNwb3RMaWdodChkYXRhLmNvbG9yLGRhdGEuaW50ZW5zaXR5LGRhdGEuZGlzdGFuY2UsZGF0YS5hbmdsZSxkYXRhLnBlbnVtYnJhLGRhdGEuZGVjYXkpO2JyZWFrO2Nhc2UnSGVtaXNwaGVyZUxpZ2h0JzpvYmplY3Q9bmV3IEhlbWlzcGhlcmVMaWdodChkYXRhLmNvbG9yLGRhdGEuZ3JvdW5kQ29sb3IsZGF0YS5pbnRlbnNpdHkpO2JyZWFrO2Nhc2UnU2tpbm5lZE1lc2gnOmNvbnNvbGUud2FybignVEhSRUUuT2JqZWN0TG9hZGVyLnBhcnNlT2JqZWN0KCkgZG9lcyBub3Qgc3VwcG9ydCBTa2lubmVkTWVzaCB5ZXQuJyk7Y2FzZSdNZXNoJzp2YXIgZ2VvbWV0cnk9Z2V0R2VvbWV0cnkoZGF0YS5nZW9tZXRyeSk7dmFyIG1hdGVyaWFsPWdldE1hdGVyaWFsKGRhdGEubWF0ZXJpYWwpO2lmKGdlb21ldHJ5LmJvbmVzJiZnZW9tZXRyeS5ib25lcy5sZW5ndGg+MCl7b2JqZWN0PW5ldyBTa2lubmVkTWVzaChnZW9tZXRyeSxtYXRlcmlhbCk7fWVsc2V7b2JqZWN0PW5ldyBNZXNoKGdlb21ldHJ5LG1hdGVyaWFsKTt9YnJlYWs7Y2FzZSdJbnN0YW5jZWRNZXNoJzp2YXIgZ2VvbWV0cnk9Z2V0R2VvbWV0cnkoZGF0YS5nZW9tZXRyeSk7dmFyIG1hdGVyaWFsPWdldE1hdGVyaWFsKGRhdGEubWF0ZXJpYWwpO3ZhciBjb3VudD1kYXRhLmNvdW50O3ZhciBpbnN0YW5jZU1hdHJpeD1kYXRhLmluc3RhbmNlTWF0cml4O29iamVjdD1uZXcgSW5zdGFuY2VkTWVzaChnZW9tZXRyeSxtYXRlcmlhbCxjb3VudCk7b2JqZWN0Lmluc3RhbmNlTWF0cml4PW5ldyBCdWZmZXJBdHRyaWJ1dGUobmV3IEZsb2F0MzJBcnJheShpbnN0YW5jZU1hdHJpeC5hcnJheSksMTYpO2JyZWFrO2Nhc2UnTE9EJzpvYmplY3Q9bmV3IExPRCgpO2JyZWFrO2Nhc2UnTGluZSc6b2JqZWN0PW5ldyBMaW5lKGdldEdlb21ldHJ5KGRhdGEuZ2VvbWV0cnkpLGdldE1hdGVyaWFsKGRhdGEubWF0ZXJpYWwpLGRhdGEubW9kZSk7YnJlYWs7Y2FzZSdMaW5lTG9vcCc6b2JqZWN0PW5ldyBMaW5lTG9vcChnZXRHZW9tZXRyeShkYXRhLmdlb21ldHJ5KSxnZXRNYXRlcmlhbChkYXRhLm1hdGVyaWFsKSk7YnJlYWs7Y2FzZSdMaW5lU2VnbWVudHMnOm9iamVjdD1uZXcgTGluZVNlZ21lbnRzKGdldEdlb21ldHJ5KGRhdGEuZ2VvbWV0cnkpLGdldE1hdGVyaWFsKGRhdGEubWF0ZXJpYWwpKTticmVhaztjYXNlJ1BvaW50Q2xvdWQnOmNhc2UnUG9pbnRzJzpvYmplY3Q9bmV3IFBvaW50cyhnZXRHZW9tZXRyeShkYXRhLmdlb21ldHJ5KSxnZXRNYXRlcmlhbChkYXRhLm1hdGVyaWFsKSk7YnJlYWs7Y2FzZSdTcHJpdGUnOm9iamVjdD1uZXcgU3ByaXRlKGdldE1hdGVyaWFsKGRhdGEubWF0ZXJpYWwpKTticmVhaztjYXNlJ0dyb3VwJzpvYmplY3Q9bmV3IEdyb3VwKCk7YnJlYWs7ZGVmYXVsdDpvYmplY3Q9bmV3IE9iamVjdDNEKCk7fW9iamVjdC51dWlkPWRhdGEudXVpZDtpZihkYXRhLm5hbWUhPT11bmRlZmluZWQpe29iamVjdC5uYW1lPWRhdGEubmFtZTt9aWYoZGF0YS5tYXRyaXghPT11bmRlZmluZWQpe29iamVjdC5tYXRyaXguZnJvbUFycmF5KGRhdGEubWF0cml4KTtpZihkYXRhLm1hdHJpeEF1dG9VcGRhdGUhPT11bmRlZmluZWQpe29iamVjdC5tYXRyaXhBdXRvVXBkYXRlPWRhdGEubWF0cml4QXV0b1VwZGF0ZTt9aWYob2JqZWN0Lm1hdHJpeEF1dG9VcGRhdGUpe29iamVjdC5tYXRyaXguZGVjb21wb3NlKG9iamVjdC5wb3NpdGlvbixvYmplY3QucXVhdGVybmlvbixvYmplY3Quc2NhbGUpO319ZWxzZXtpZihkYXRhLnBvc2l0aW9uIT09dW5kZWZpbmVkKXtvYmplY3QucG9zaXRpb24uZnJvbUFycmF5KGRhdGEucG9zaXRpb24pO31pZihkYXRhLnJvdGF0aW9uIT09dW5kZWZpbmVkKXtvYmplY3Qucm90YXRpb24uZnJvbUFycmF5KGRhdGEucm90YXRpb24pO31pZihkYXRhLnF1YXRlcm5pb24hPT11bmRlZmluZWQpe29iamVjdC5xdWF0ZXJuaW9uLmZyb21BcnJheShkYXRhLnF1YXRlcm5pb24pO31pZihkYXRhLnNjYWxlIT09dW5kZWZpbmVkKXtvYmplY3Quc2NhbGUuZnJvbUFycmF5KGRhdGEuc2NhbGUpO319aWYoZGF0YS5jYXN0U2hhZG93IT09dW5kZWZpbmVkKXtvYmplY3QuY2FzdFNoYWRvdz1kYXRhLmNhc3RTaGFkb3c7fWlmKGRhdGEucmVjZWl2ZVNoYWRvdyE9PXVuZGVmaW5lZCl7b2JqZWN0LnJlY2VpdmVTaGFkb3c9ZGF0YS5yZWNlaXZlU2hhZG93O31pZihkYXRhLnNoYWRvdyl7aWYoZGF0YS5zaGFkb3cuYmlhcyE9PXVuZGVmaW5lZCl7b2JqZWN0LnNoYWRvdy5iaWFzPWRhdGEuc2hhZG93LmJpYXM7fWlmKGRhdGEuc2hhZG93LnJhZGl1cyE9PXVuZGVmaW5lZCl7b2JqZWN0LnNoYWRvdy5yYWRpdXM9ZGF0YS5zaGFkb3cucmFkaXVzO31pZihkYXRhLnNoYWRvdy5tYXBTaXplIT09dW5kZWZpbmVkKXtvYmplY3Quc2hhZG93Lm1hcFNpemUuZnJvbUFycmF5KGRhdGEuc2hhZG93Lm1hcFNpemUpO31pZihkYXRhLnNoYWRvdy5jYW1lcmEhPT11bmRlZmluZWQpe29iamVjdC5zaGFkb3cuY2FtZXJhPXRoaXMucGFyc2VPYmplY3QoZGF0YS5zaGFkb3cuY2FtZXJhKTt9fWlmKGRhdGEudmlzaWJsZSE9PXVuZGVmaW5lZCl7b2JqZWN0LnZpc2libGU9ZGF0YS52aXNpYmxlO31pZihkYXRhLmZydXN0dW1DdWxsZWQhPT11bmRlZmluZWQpe29iamVjdC5mcnVzdHVtQ3VsbGVkPWRhdGEuZnJ1c3R1bUN1bGxlZDt9aWYoZGF0YS5yZW5kZXJPcmRlciE9PXVuZGVmaW5lZCl7b2JqZWN0LnJlbmRlck9yZGVyPWRhdGEucmVuZGVyT3JkZXI7fWlmKGRhdGEudXNlckRhdGEhPT11bmRlZmluZWQpe29iamVjdC51c2VyRGF0YT1kYXRhLnVzZXJEYXRhO31pZihkYXRhLmxheWVycyE9PXVuZGVmaW5lZCl7b2JqZWN0LmxheWVycy5tYXNrPWRhdGEubGF5ZXJzO31pZihkYXRhLmNoaWxkcmVuIT09dW5kZWZpbmVkKXt2YXIgY2hpbGRyZW49ZGF0YS5jaGlsZHJlbjtmb3IodmFyIGk9MDtpPGNoaWxkcmVuLmxlbmd0aDtpKyspe29iamVjdC5hZGQodGhpcy5wYXJzZU9iamVjdChjaGlsZHJlbltpXSxnZW9tZXRyaWVzLG1hdGVyaWFscykpO319aWYoZGF0YS50eXBlPT09J0xPRCcpe2lmKGRhdGEuYXV0b1VwZGF0ZSE9PXVuZGVmaW5lZCl7b2JqZWN0LmF1dG9VcGRhdGU9ZGF0YS5hdXRvVXBkYXRlO312YXIgbGV2ZWxzPWRhdGEubGV2ZWxzO2Zvcih2YXIgbD0wO2w8bGV2ZWxzLmxlbmd0aDtsKyspe3ZhciBsZXZlbD1sZXZlbHNbbF07dmFyIGNoaWxkPW9iamVjdC5nZXRPYmplY3RCeVByb3BlcnR5KCd1dWlkJyxsZXZlbC5vYmplY3QpO2lmKGNoaWxkIT09dW5kZWZpbmVkKXtvYmplY3QuYWRkTGV2ZWwoY2hpbGQsbGV2ZWwuZGlzdGFuY2UpO319fXJldHVybiBvYmplY3Q7fX0pO3ZhciBURVhUVVJFX01BUFBJTkc9e1VWTWFwcGluZzpVVk1hcHBpbmcsQ3ViZVJlZmxlY3Rpb25NYXBwaW5nOkN1YmVSZWZsZWN0aW9uTWFwcGluZyxDdWJlUmVmcmFjdGlvbk1hcHBpbmc6Q3ViZVJlZnJhY3Rpb25NYXBwaW5nLEVxdWlyZWN0YW5ndWxhclJlZmxlY3Rpb25NYXBwaW5nOkVxdWlyZWN0YW5ndWxhclJlZmxlY3Rpb25NYXBwaW5nLEVxdWlyZWN0YW5ndWxhclJlZnJhY3Rpb25NYXBwaW5nOkVxdWlyZWN0YW5ndWxhclJlZnJhY3Rpb25NYXBwaW5nLFNwaGVyaWNhbFJlZmxlY3Rpb25NYXBwaW5nOlNwaGVyaWNhbFJlZmxlY3Rpb25NYXBwaW5nLEN1YmVVVlJlZmxlY3Rpb25NYXBwaW5nOkN1YmVVVlJlZmxlY3Rpb25NYXBwaW5nLEN1YmVVVlJlZnJhY3Rpb25NYXBwaW5nOkN1YmVVVlJlZnJhY3Rpb25NYXBwaW5nfTt2YXIgVEVYVFVSRV9XUkFQUElORz17UmVwZWF0V3JhcHBpbmc6UmVwZWF0V3JhcHBpbmcsQ2xhbXBUb0VkZ2VXcmFwcGluZzpDbGFtcFRvRWRnZVdyYXBwaW5nLE1pcnJvcmVkUmVwZWF0V3JhcHBpbmc6TWlycm9yZWRSZXBlYXRXcmFwcGluZ307dmFyIFRFWFRVUkVfRklMVEVSPXtOZWFyZXN0RmlsdGVyOk5lYXJlc3RGaWx0ZXIsTmVhcmVzdE1pcG1hcE5lYXJlc3RGaWx0ZXI6TmVhcmVzdE1pcG1hcE5lYXJlc3RGaWx0ZXIsTmVhcmVzdE1pcG1hcExpbmVhckZpbHRlcjpOZWFyZXN0TWlwbWFwTGluZWFyRmlsdGVyLExpbmVhckZpbHRlcjpMaW5lYXJGaWx0ZXIsTGluZWFyTWlwbWFwTmVhcmVzdEZpbHRlcjpMaW5lYXJNaXBtYXBOZWFyZXN0RmlsdGVyLExpbmVhck1pcG1hcExpbmVhckZpbHRlcjpMaW5lYXJNaXBtYXBMaW5lYXJGaWx0ZXJ9Oy8qKgogICAqIEBhdXRob3IgdGhlc3BpdGUgLyBodHRwOi8vY2xpY2t0b3JlbGVhc2UuY29tLwogICAqL2Z1bmN0aW9uIEltYWdlQml0bWFwTG9hZGVyKG1hbmFnZXIpe2lmKHR5cGVvZiBjcmVhdGVJbWFnZUJpdG1hcD09PSd1bmRlZmluZWQnKXtjb25zb2xlLndhcm4oJ1RIUkVFLkltYWdlQml0bWFwTG9hZGVyOiBjcmVhdGVJbWFnZUJpdG1hcCgpIG5vdCBzdXBwb3J0ZWQuJyk7fWlmKHR5cGVvZiBmZXRjaD09PSd1bmRlZmluZWQnKXtjb25zb2xlLndhcm4oJ1RIUkVFLkltYWdlQml0bWFwTG9hZGVyOiBmZXRjaCgpIG5vdCBzdXBwb3J0ZWQuJyk7fUxvYWRlci5jYWxsKHRoaXMsbWFuYWdlcik7dGhpcy5vcHRpb25zPXVuZGVmaW5lZDt9SW1hZ2VCaXRtYXBMb2FkZXIucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShMb2FkZXIucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6SW1hZ2VCaXRtYXBMb2FkZXIsc2V0T3B0aW9uczpmdW5jdGlvbiBzZXRPcHRpb25zKG9wdGlvbnMpe3RoaXMub3B0aW9ucz1vcHRpb25zO3JldHVybiB0aGlzO30sbG9hZDpmdW5jdGlvbiBsb2FkKHVybCxvbkxvYWQsb25Qcm9ncmVzcyxvbkVycm9yKXtpZih1cmw9PT11bmRlZmluZWQpe3VybD0nJzt9aWYodGhpcy5wYXRoIT09dW5kZWZpbmVkKXt1cmw9dGhpcy5wYXRoK3VybDt9dXJsPXRoaXMubWFuYWdlci5yZXNvbHZlVVJMKHVybCk7dmFyIHNjb3BlPXRoaXM7dmFyIGNhY2hlZD1DYWNoZS5nZXQodXJsKTtpZihjYWNoZWQhPT11bmRlZmluZWQpe3Njb3BlLm1hbmFnZXIuaXRlbVN0YXJ0KHVybCk7c2V0VGltZW91dChmdW5jdGlvbigpe2lmKG9uTG9hZCl7b25Mb2FkKGNhY2hlZCk7fXNjb3BlLm1hbmFnZXIuaXRlbUVuZCh1cmwpO30sMCk7cmV0dXJuIGNhY2hlZDt9ZmV0Y2godXJsKS50aGVuKGZ1bmN0aW9uKHJlcyl7cmV0dXJuIHJlcy5ibG9iKCk7fSkudGhlbihmdW5jdGlvbihibG9iKXtpZihzY29wZS5vcHRpb25zPT09dW5kZWZpbmVkKXsvLyBXb3JrYXJvdW5kIGZvciBGaXJlRm94LiBJdCBjYXVzZXMgYW4gZXJyb3IgaWYgeW91IHBhc3Mgb3B0aW9ucy4KcmV0dXJuIGNyZWF0ZUltYWdlQml0bWFwKGJsb2IpO31lbHNle3JldHVybiBjcmVhdGVJbWFnZUJpdG1hcChibG9iLHNjb3BlLm9wdGlvbnMpO319KS50aGVuKGZ1bmN0aW9uKGltYWdlQml0bWFwKXtDYWNoZS5hZGQodXJsLGltYWdlQml0bWFwKTtpZihvbkxvYWQpe29uTG9hZChpbWFnZUJpdG1hcCk7fXNjb3BlLm1hbmFnZXIuaXRlbUVuZCh1cmwpO30pLmNhdGNoKGZ1bmN0aW9uKGUpe2lmKG9uRXJyb3Ipe29uRXJyb3IoZSk7fXNjb3BlLm1hbmFnZXIuaXRlbUVycm9yKHVybCk7c2NvcGUubWFuYWdlci5pdGVtRW5kKHVybCk7fSk7c2NvcGUubWFuYWdlci5pdGVtU3RhcnQodXJsKTt9fSk7LyoqCiAgICogQGF1dGhvciB6ejg1IC8gaHR0cDovL3d3dy5sYWI0Z2FtZXMubmV0L3p6ODUvYmxvZwogICAqIG1pbmltYWwgY2xhc3MgZm9yIHByb3hpbmcgZnVuY3Rpb25zIHRvIFBhdGguIFJlcGxhY2VzIG9sZCAiZXh0cmFjdFN1YnBhdGhzKCkiCiAgICoqL2Z1bmN0aW9uIFNoYXBlUGF0aCgpe3RoaXMudHlwZT0nU2hhcGVQYXRoJzt0aGlzLmNvbG9yPW5ldyBDb2xvcigpO3RoaXMuc3ViUGF0aHM9W107dGhpcy5jdXJyZW50UGF0aD1udWxsO31PYmplY3QuYXNzaWduKFNoYXBlUGF0aC5wcm90b3R5cGUse21vdmVUbzpmdW5jdGlvbiBtb3ZlVG8oeCx5KXt0aGlzLmN1cnJlbnRQYXRoPW5ldyBQYXRoKCk7dGhpcy5zdWJQYXRocy5wdXNoKHRoaXMuY3VycmVudFBhdGgpO3RoaXMuY3VycmVudFBhdGgubW92ZVRvKHgseSk7cmV0dXJuIHRoaXM7fSxsaW5lVG86ZnVuY3Rpb24gbGluZVRvKHgseSl7dGhpcy5jdXJyZW50UGF0aC5saW5lVG8oeCx5KTtyZXR1cm4gdGhpczt9LHF1YWRyYXRpY0N1cnZlVG86ZnVuY3Rpb24gcXVhZHJhdGljQ3VydmVUbyhhQ1B4LGFDUHksYVgsYVkpe3RoaXMuY3VycmVudFBhdGgucXVhZHJhdGljQ3VydmVUbyhhQ1B4LGFDUHksYVgsYVkpO3JldHVybiB0aGlzO30sYmV6aWVyQ3VydmVUbzpmdW5jdGlvbiBiZXppZXJDdXJ2ZVRvKGFDUDF4LGFDUDF5LGFDUDJ4LGFDUDJ5LGFYLGFZKXt0aGlzLmN1cnJlbnRQYXRoLmJlemllckN1cnZlVG8oYUNQMXgsYUNQMXksYUNQMngsYUNQMnksYVgsYVkpO3JldHVybiB0aGlzO30sc3BsaW5lVGhydTpmdW5jdGlvbiBzcGxpbmVUaHJ1KHB0cyl7dGhpcy5jdXJyZW50UGF0aC5zcGxpbmVUaHJ1KHB0cyk7cmV0dXJuIHRoaXM7fSx0b1NoYXBlczpmdW5jdGlvbiB0b1NoYXBlcyhpc0NDVyxub0hvbGVzKXtmdW5jdGlvbiB0b1NoYXBlc05vSG9sZXMoaW5TdWJwYXRocyl7dmFyIHNoYXBlcz1bXTtmb3IodmFyIGk9MCxsPWluU3VicGF0aHMubGVuZ3RoO2k8bDtpKyspe3ZhciB0bXBQYXRoPWluU3VicGF0aHNbaV07dmFyIHRtcFNoYXBlPW5ldyBTaGFwZSgpO3RtcFNoYXBlLmN1cnZlcz10bXBQYXRoLmN1cnZlcztzaGFwZXMucHVzaCh0bXBTaGFwZSk7fXJldHVybiBzaGFwZXM7fWZ1bmN0aW9uIGlzUG9pbnRJbnNpZGVQb2x5Z29uKGluUHQsaW5Qb2x5Z29uKXt2YXIgcG9seUxlbj1pblBvbHlnb24ubGVuZ3RoOy8vIGluUHQgb24gcG9seWdvbiBjb250b3VyID0+IGltbWVkaWF0ZSBzdWNjZXNzICAgIG9yCi8vIHRvZ2dsaW5nIG9mIGluc2lkZS9vdXRzaWRlIGF0IGV2ZXJ5IHNpbmdsZSEgaW50ZXJzZWN0aW9uIHBvaW50IG9mIGFuIGVkZ2UKLy8gIHdpdGggdGhlIGhvcml6b250YWwgbGluZSB0aHJvdWdoIGluUHQsIGxlZnQgb2YgaW5QdAovLyAgbm90IGNvdW50aW5nIGxvd2VyWSBlbmRwb2ludHMgb2YgZWRnZXMgYW5kIHdob2xlIGVkZ2VzIG9uIHRoYXQgbGluZQp2YXIgaW5zaWRlPWZhbHNlO2Zvcih2YXIgcD1wb2x5TGVuLTEscT0wO3E8cG9seUxlbjtwPXErKyl7dmFyIGVkZ2VMb3dQdD1pblBvbHlnb25bcF07dmFyIGVkZ2VIaWdoUHQ9aW5Qb2x5Z29uW3FdO3ZhciBlZGdlRHg9ZWRnZUhpZ2hQdC54LWVkZ2VMb3dQdC54O3ZhciBlZGdlRHk9ZWRnZUhpZ2hQdC55LWVkZ2VMb3dQdC55O2lmKE1hdGguYWJzKGVkZ2VEeSk+TnVtYmVyLkVQU0lMT04pey8vIG5vdCBwYXJhbGxlbAppZihlZGdlRHk8MCl7ZWRnZUxvd1B0PWluUG9seWdvbltxXTtlZGdlRHg9LWVkZ2VEeDtlZGdlSGlnaFB0PWluUG9seWdvbltwXTtlZGdlRHk9LWVkZ2VEeTt9aWYoaW5QdC55PGVkZ2VMb3dQdC55fHxpblB0Lnk+ZWRnZUhpZ2hQdC55KXtjb250aW51ZTt9aWYoaW5QdC55PT09ZWRnZUxvd1B0Lnkpe2lmKGluUHQueD09PWVkZ2VMb3dQdC54KXtyZXR1cm4gdHJ1ZTt9Ly8gaW5QdCBpcyBvbiBjb250b3VyID8KLy8gY29udGludWU7CQkJCS8vIG5vIGludGVyc2VjdGlvbiBvciBlZGdlTG93UHQgPT4gZG9lc24ndCBjb3VudCAhISEKfWVsc2V7dmFyIHBlcnBFZGdlPWVkZ2VEeSooaW5QdC54LWVkZ2VMb3dQdC54KS1lZGdlRHgqKGluUHQueS1lZGdlTG93UHQueSk7aWYocGVycEVkZ2U9PT0wKXtyZXR1cm4gdHJ1ZTt9Ly8gaW5QdCBpcyBvbiBjb250b3VyID8KaWYocGVycEVkZ2U8MCl7Y29udGludWU7fWluc2lkZT0haW5zaWRlOy8vIHRydWUgaW50ZXJzZWN0aW9uIGxlZnQgb2YgaW5QdAp9fWVsc2V7Ly8gcGFyYWxsZWwgb3IgY29sbGluZWFyCmlmKGluUHQueSE9PWVkZ2VMb3dQdC55KXtjb250aW51ZTt9Ly8gcGFyYWxsZWwKLy8gZWRnZSBsaWVzIG9uIHRoZSBzYW1lIGhvcml6b250YWwgbGluZSBhcyBpblB0CmlmKGVkZ2VIaWdoUHQueDw9aW5QdC54JiZpblB0Lng8PWVkZ2VMb3dQdC54fHxlZGdlTG93UHQueDw9aW5QdC54JiZpblB0Lng8PWVkZ2VIaWdoUHQueCl7cmV0dXJuIHRydWU7fS8vIGluUHQ6IFBvaW50IG9uIGNvbnRvdXIgIQovLyBjb250aW51ZTsKfX1yZXR1cm4gaW5zaWRlO312YXIgaXNDbG9ja1dpc2U9U2hhcGVVdGlscy5pc0Nsb2NrV2lzZTt2YXIgc3ViUGF0aHM9dGhpcy5zdWJQYXRocztpZihzdWJQYXRocy5sZW5ndGg9PT0wKXtyZXR1cm5bXTt9aWYobm9Ib2xlcz09PXRydWUpe3JldHVybiB0b1NoYXBlc05vSG9sZXMoc3ViUGF0aHMpO312YXIgc29saWQsdG1wUGF0aCx0bXBTaGFwZSxzaGFwZXM9W107aWYoc3ViUGF0aHMubGVuZ3RoPT09MSl7dG1wUGF0aD1zdWJQYXRoc1swXTt0bXBTaGFwZT1uZXcgU2hhcGUoKTt0bXBTaGFwZS5jdXJ2ZXM9dG1wUGF0aC5jdXJ2ZXM7c2hhcGVzLnB1c2godG1wU2hhcGUpO3JldHVybiBzaGFwZXM7fXZhciBob2xlc0ZpcnN0PSFpc0Nsb2NrV2lzZShzdWJQYXRoc1swXS5nZXRQb2ludHMoKSk7aG9sZXNGaXJzdD1pc0NDVz8haG9sZXNGaXJzdDpob2xlc0ZpcnN0Oy8vIGNvbnNvbGUubG9nKCJIb2xlcyBmaXJzdCIsIGhvbGVzRmlyc3QpOwp2YXIgYmV0dGVyU2hhcGVIb2xlcz1bXTt2YXIgbmV3U2hhcGVzPVtdO3ZhciBuZXdTaGFwZUhvbGVzPVtdO3ZhciBtYWluSWR4PTA7dmFyIHRtcFBvaW50cztuZXdTaGFwZXNbbWFpbklkeF09dW5kZWZpbmVkO25ld1NoYXBlSG9sZXNbbWFpbklkeF09W107Zm9yKHZhciBpPTAsbD1zdWJQYXRocy5sZW5ndGg7aTxsO2krKyl7dG1wUGF0aD1zdWJQYXRoc1tpXTt0bXBQb2ludHM9dG1wUGF0aC5nZXRQb2ludHMoKTtzb2xpZD1pc0Nsb2NrV2lzZSh0bXBQb2ludHMpO3NvbGlkPWlzQ0NXPyFzb2xpZDpzb2xpZDtpZihzb2xpZCl7aWYoIWhvbGVzRmlyc3QmJm5ld1NoYXBlc1ttYWluSWR4XSl7bWFpbklkeCsrO31uZXdTaGFwZXNbbWFpbklkeF09e3M6bmV3IFNoYXBlKCkscDp0bXBQb2ludHN9O25ld1NoYXBlc1ttYWluSWR4XS5zLmN1cnZlcz10bXBQYXRoLmN1cnZlcztpZihob2xlc0ZpcnN0KXttYWluSWR4Kys7fW5ld1NoYXBlSG9sZXNbbWFpbklkeF09W107Ly9jb25zb2xlLmxvZygnY3cnLCBpKTsKfWVsc2V7bmV3U2hhcGVIb2xlc1ttYWluSWR4XS5wdXNoKHtoOnRtcFBhdGgscDp0bXBQb2ludHNbMF19KTsvL2NvbnNvbGUubG9nKCdjY3cnLCBpKTsKfX0vLyBvbmx5IEhvbGVzPyAtPiBwcm9iYWJseSBhbGwgU2hhcGVzIHdpdGggd3Jvbmcgb3JpZW50YXRpb24KaWYoIW5ld1NoYXBlc1swXSl7cmV0dXJuIHRvU2hhcGVzTm9Ib2xlcyhzdWJQYXRocyk7fWlmKG5ld1NoYXBlcy5sZW5ndGg+MSl7dmFyIGFtYmlndW91cz1mYWxzZTt2YXIgdG9DaGFuZ2U9W107Zm9yKHZhciBzSWR4PTAsc0xlbj1uZXdTaGFwZXMubGVuZ3RoO3NJZHg8c0xlbjtzSWR4Kyspe2JldHRlclNoYXBlSG9sZXNbc0lkeF09W107fWZvcih2YXIgc0lkeD0wLHNMZW49bmV3U2hhcGVzLmxlbmd0aDtzSWR4PHNMZW47c0lkeCsrKXt2YXIgc2hvPW5ld1NoYXBlSG9sZXNbc0lkeF07Zm9yKHZhciBoSWR4PTA7aElkeDxzaG8ubGVuZ3RoO2hJZHgrKyl7dmFyIGhvPXNob1toSWR4XTt2YXIgaG9sZV91bmFzc2lnbmVkPXRydWU7Zm9yKHZhciBzMklkeD0wO3MySWR4PG5ld1NoYXBlcy5sZW5ndGg7czJJZHgrKyl7aWYoaXNQb2ludEluc2lkZVBvbHlnb24oaG8ucCxuZXdTaGFwZXNbczJJZHhdLnApKXtpZihzSWR4IT09czJJZHgpe3RvQ2hhbmdlLnB1c2goe2Zyb21zOnNJZHgsdG9zOnMySWR4LGhvbGU6aElkeH0pO31pZihob2xlX3VuYXNzaWduZWQpe2hvbGVfdW5hc3NpZ25lZD1mYWxzZTtiZXR0ZXJTaGFwZUhvbGVzW3MySWR4XS5wdXNoKGhvKTt9ZWxzZXthbWJpZ3VvdXM9dHJ1ZTt9fX1pZihob2xlX3VuYXNzaWduZWQpe2JldHRlclNoYXBlSG9sZXNbc0lkeF0ucHVzaChobyk7fX19Ly8gY29uc29sZS5sb2coImFtYmlndW91czogIiwgYW1iaWd1b3VzKTsKaWYodG9DaGFuZ2UubGVuZ3RoPjApey8vIGNvbnNvbGUubG9nKCJ0byBjaGFuZ2U6ICIsIHRvQ2hhbmdlKTsKaWYoIWFtYmlndW91cyl7bmV3U2hhcGVIb2xlcz1iZXR0ZXJTaGFwZUhvbGVzO319fXZhciB0bXBIb2xlcztmb3IodmFyIGk9MCxpbD1uZXdTaGFwZXMubGVuZ3RoO2k8aWw7aSsrKXt0bXBTaGFwZT1uZXdTaGFwZXNbaV0ucztzaGFwZXMucHVzaCh0bXBTaGFwZSk7dG1wSG9sZXM9bmV3U2hhcGVIb2xlc1tpXTtmb3IodmFyIGo9MCxqbD10bXBIb2xlcy5sZW5ndGg7ajxqbDtqKyspe3RtcFNoYXBlLmhvbGVzLnB1c2godG1wSG9sZXNbal0uaCk7fX0vL2NvbnNvbGUubG9nKCJzaGFwZSIsIHNoYXBlcyk7CnJldHVybiBzaGFwZXM7fX0pOy8qKgogICAqIEBhdXRob3Igeno4NSAvIGh0dHA6Ly93d3cubGFiNGdhbWVzLm5ldC96ejg1L2Jsb2cKICAgKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tLwogICAqL2Z1bmN0aW9uIEZvbnQoZGF0YSl7dGhpcy50eXBlPSdGb250Jzt0aGlzLmRhdGE9ZGF0YTt9T2JqZWN0LmFzc2lnbihGb250LnByb3RvdHlwZSx7aXNGb250OnRydWUsZ2VuZXJhdGVTaGFwZXM6ZnVuY3Rpb24gZ2VuZXJhdGVTaGFwZXModGV4dCxzaXplKXtpZihzaXplPT09dW5kZWZpbmVkKXtzaXplPTEwMDt9dmFyIHNoYXBlcz1bXTt2YXIgcGF0aHM9Y3JlYXRlUGF0aHModGV4dCxzaXplLHRoaXMuZGF0YSk7Zm9yKHZhciBwPTAscGw9cGF0aHMubGVuZ3RoO3A8cGw7cCsrKXtBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShzaGFwZXMscGF0aHNbcF0udG9TaGFwZXMoKSk7fXJldHVybiBzaGFwZXM7fX0pO2Z1bmN0aW9uIGNyZWF0ZVBhdGhzKHRleHQsc2l6ZSxkYXRhKXt2YXIgY2hhcnM9QXJyYXkuZnJvbT9BcnJheS5mcm9tKHRleHQpOlN0cmluZyh0ZXh0KS5zcGxpdCgnJyk7Ly8gc2VlICMxMzk4OAp2YXIgc2NhbGU9c2l6ZS9kYXRhLnJlc29sdXRpb247dmFyIGxpbmVfaGVpZ2h0PShkYXRhLmJvdW5kaW5nQm94LnlNYXgtZGF0YS5ib3VuZGluZ0JveC55TWluK2RhdGEudW5kZXJsaW5lVGhpY2tuZXNzKSpzY2FsZTt2YXIgcGF0aHM9W107dmFyIG9mZnNldFg9MCxvZmZzZXRZPTA7Zm9yKHZhciBpPTA7aTxjaGFycy5sZW5ndGg7aSsrKXt2YXIgY2hhcj1jaGFyc1tpXTtpZihjaGFyPT09J1xuJyl7b2Zmc2V0WD0wO29mZnNldFktPWxpbmVfaGVpZ2h0O31lbHNle3ZhciByZXQ9Y3JlYXRlUGF0aChjaGFyLHNjYWxlLG9mZnNldFgsb2Zmc2V0WSxkYXRhKTtvZmZzZXRYKz1yZXQub2Zmc2V0WDtwYXRocy5wdXNoKHJldC5wYXRoKTt9fXJldHVybiBwYXRoczt9ZnVuY3Rpb24gY3JlYXRlUGF0aChjaGFyLHNjYWxlLG9mZnNldFgsb2Zmc2V0WSxkYXRhKXt2YXIgZ2x5cGg9ZGF0YS5nbHlwaHNbY2hhcl18fGRhdGEuZ2x5cGhzWyc/J107aWYoIWdseXBoKXtjb25zb2xlLmVycm9yKCdUSFJFRS5Gb250OiBjaGFyYWN0ZXIgIicrY2hhcisnIiBkb2VzIG5vdCBleGlzdHMgaW4gZm9udCBmYW1pbHkgJytkYXRhLmZhbWlseU5hbWUrJy4nKTtyZXR1cm47fXZhciBwYXRoPW5ldyBTaGFwZVBhdGgoKTt2YXIgeCx5LGNweCxjcHksY3B4MSxjcHkxLGNweDIsY3B5MjtpZihnbHlwaC5vKXt2YXIgb3V0bGluZT1nbHlwaC5fY2FjaGVkT3V0bGluZXx8KGdseXBoLl9jYWNoZWRPdXRsaW5lPWdseXBoLm8uc3BsaXQoJyAnKSk7Zm9yKHZhciBpPTAsbD1vdXRsaW5lLmxlbmd0aDtpPGw7KXt2YXIgYWN0aW9uPW91dGxpbmVbaSsrXTtzd2l0Y2goYWN0aW9uKXtjYXNlJ20nOi8vIG1vdmVUbwp4PW91dGxpbmVbaSsrXSpzY2FsZStvZmZzZXRYO3k9b3V0bGluZVtpKytdKnNjYWxlK29mZnNldFk7cGF0aC5tb3ZlVG8oeCx5KTticmVhaztjYXNlJ2wnOi8vIGxpbmVUbwp4PW91dGxpbmVbaSsrXSpzY2FsZStvZmZzZXRYO3k9b3V0bGluZVtpKytdKnNjYWxlK29mZnNldFk7cGF0aC5saW5lVG8oeCx5KTticmVhaztjYXNlJ3EnOi8vIHF1YWRyYXRpY0N1cnZlVG8KY3B4PW91dGxpbmVbaSsrXSpzY2FsZStvZmZzZXRYO2NweT1vdXRsaW5lW2krK10qc2NhbGUrb2Zmc2V0WTtjcHgxPW91dGxpbmVbaSsrXSpzY2FsZStvZmZzZXRYO2NweTE9b3V0bGluZVtpKytdKnNjYWxlK29mZnNldFk7cGF0aC5xdWFkcmF0aWNDdXJ2ZVRvKGNweDEsY3B5MSxjcHgsY3B5KTticmVhaztjYXNlJ2InOi8vIGJlemllckN1cnZlVG8KY3B4PW91dGxpbmVbaSsrXSpzY2FsZStvZmZzZXRYO2NweT1vdXRsaW5lW2krK10qc2NhbGUrb2Zmc2V0WTtjcHgxPW91dGxpbmVbaSsrXSpzY2FsZStvZmZzZXRYO2NweTE9b3V0bGluZVtpKytdKnNjYWxlK29mZnNldFk7Y3B4Mj1vdXRsaW5lW2krK10qc2NhbGUrb2Zmc2V0WDtjcHkyPW91dGxpbmVbaSsrXSpzY2FsZStvZmZzZXRZO3BhdGguYmV6aWVyQ3VydmVUbyhjcHgxLGNweTEsY3B4MixjcHkyLGNweCxjcHkpO2JyZWFrO319fXJldHVybntvZmZzZXRYOmdseXBoLmhhKnNjYWxlLHBhdGg6cGF0aH07fS8qKgogICAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb20vCiAgICovZnVuY3Rpb24gRm9udExvYWRlcihtYW5hZ2VyKXtMb2FkZXIuY2FsbCh0aGlzLG1hbmFnZXIpO31Gb250TG9hZGVyLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoTG9hZGVyLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOkZvbnRMb2FkZXIsbG9hZDpmdW5jdGlvbiBsb2FkKHVybCxvbkxvYWQsb25Qcm9ncmVzcyxvbkVycm9yKXt2YXIgc2NvcGU9dGhpczt2YXIgbG9hZGVyPW5ldyBGaWxlTG9hZGVyKHRoaXMubWFuYWdlcik7bG9hZGVyLnNldFBhdGgodGhpcy5wYXRoKTtsb2FkZXIubG9hZCh1cmwsZnVuY3Rpb24odGV4dCl7dmFyIGpzb247dHJ5e2pzb249SlNPTi5wYXJzZSh0ZXh0KTt9Y2F0Y2goZSl7Y29uc29sZS53YXJuKCdUSFJFRS5Gb250TG9hZGVyOiB0eXBlZmFjZS5qcyBzdXBwb3J0IGlzIGJlaW5nIGRlcHJlY2F0ZWQuIFVzZSB0eXBlZmFjZS5qc29uIGluc3RlYWQuJyk7anNvbj1KU09OLnBhcnNlKHRleHQuc3Vic3RyaW5nKDY1LHRleHQubGVuZ3RoLTIpKTt9dmFyIGZvbnQ9c2NvcGUucGFyc2UoanNvbik7aWYob25Mb2FkKXtvbkxvYWQoZm9udCk7fX0sb25Qcm9ncmVzcyxvbkVycm9yKTt9LHBhcnNlOmZ1bmN0aW9uIHBhcnNlKGpzb24pe3JldHVybiBuZXcgRm9udChqc29uKTt9fSk7LyoqCiAgICogQGF1dGhvciBtcmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS8KICAgKi92YXIgX2NvbnRleHQ7dmFyIEF1ZGlvQ29udGV4dD17Z2V0Q29udGV4dDpmdW5jdGlvbiBnZXRDb250ZXh0KCl7aWYoX2NvbnRleHQ9PT11bmRlZmluZWQpe19jb250ZXh0PW5ldyh3aW5kb3cuQXVkaW9Db250ZXh0fHx3aW5kb3cud2Via2l0QXVkaW9Db250ZXh0KSgpO31yZXR1cm4gX2NvbnRleHQ7fSxzZXRDb250ZXh0OmZ1bmN0aW9uIHNldENvbnRleHQodmFsdWUpe19jb250ZXh0PXZhbHVlO319Oy8qKgogICAqIEBhdXRob3IgUmVlY2UgQWFyb24gTGVjcml2YWluIC8gaHR0cDovL3JlZWNlbm90ZXMuY29tLwogICAqL2Z1bmN0aW9uIEF1ZGlvTG9hZGVyKG1hbmFnZXIpe0xvYWRlci5jYWxsKHRoaXMsbWFuYWdlcik7fUF1ZGlvTG9hZGVyLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoTG9hZGVyLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOkF1ZGlvTG9hZGVyLGxvYWQ6ZnVuY3Rpb24gbG9hZCh1cmwsb25Mb2FkLG9uUHJvZ3Jlc3Msb25FcnJvcil7dmFyIGxvYWRlcj1uZXcgRmlsZUxvYWRlcih0aGlzLm1hbmFnZXIpO2xvYWRlci5zZXRSZXNwb25zZVR5cGUoJ2FycmF5YnVmZmVyJyk7bG9hZGVyLnNldFBhdGgodGhpcy5wYXRoKTtsb2FkZXIubG9hZCh1cmwsZnVuY3Rpb24oYnVmZmVyKXsvLyBDcmVhdGUgYSBjb3B5IG9mIHRoZSBidWZmZXIuIFRoZSBgZGVjb2RlQXVkaW9EYXRhYCBtZXRob2QKLy8gZGV0YWNoZXMgdGhlIGJ1ZmZlciB3aGVuIGNvbXBsZXRlLCBwcmV2ZW50aW5nIHJldXNlLgp2YXIgYnVmZmVyQ29weT1idWZmZXIuc2xpY2UoMCk7dmFyIGNvbnRleHQ9QXVkaW9Db250ZXh0LmdldENvbnRleHQoKTtjb250ZXh0LmRlY29kZUF1ZGlvRGF0YShidWZmZXJDb3B5LGZ1bmN0aW9uKGF1ZGlvQnVmZmVyKXtvbkxvYWQoYXVkaW9CdWZmZXIpO30pO30sb25Qcm9ncmVzcyxvbkVycm9yKTt9fSk7LyoqCiAgICogQGF1dGhvciBiaG91c3RvbiAvIGh0dHA6Ly9jbGFyYS5pbwogICAqIEBhdXRob3IgV2VzdExhbmdsZXkgLyBodHRwOi8vZ2l0aHViLmNvbS9XZXN0TGFuZ2xleQogICAqCiAgICogUHJpbWFyeSByZWZlcmVuY2U6CiAgICogICBodHRwczovL2dyYXBoaWNzLnN0YW5mb3JkLmVkdS9wYXBlcnMvZW52bWFwL2Vudm1hcC5wZGYKICAgKgogICAqIFNlY29uZGFyeSByZWZlcmVuY2U6CiAgICogICBodHRwczovL3d3dy5wcHNsb2FuLm9yZy9wdWJsaWNhdGlvbnMvU3R1cGlkU0gzNi5wZGYKICAgKi8gLy8gMy1iYW5kIFNIIGRlZmluZWQgYnkgOSBjb2VmZmljaWVudHMKZnVuY3Rpb24gU3BoZXJpY2FsSGFybW9uaWNzMygpe3RoaXMuY29lZmZpY2llbnRzPVtdO2Zvcih2YXIgaT0wO2k8OTtpKyspe3RoaXMuY29lZmZpY2llbnRzLnB1c2gobmV3IFZlY3RvcjMoKSk7fX1PYmplY3QuYXNzaWduKFNwaGVyaWNhbEhhcm1vbmljczMucHJvdG90eXBlLHtpc1NwaGVyaWNhbEhhcm1vbmljczM6dHJ1ZSxzZXQ6ZnVuY3Rpb24gc2V0KGNvZWZmaWNpZW50cyl7Zm9yKHZhciBpPTA7aTw5O2krKyl7dGhpcy5jb2VmZmljaWVudHNbaV0uY29weShjb2VmZmljaWVudHNbaV0pO31yZXR1cm4gdGhpczt9LHplcm86ZnVuY3Rpb24gemVybygpe2Zvcih2YXIgaT0wO2k8OTtpKyspe3RoaXMuY29lZmZpY2llbnRzW2ldLnNldCgwLDAsMCk7fXJldHVybiB0aGlzO30sLy8gZ2V0IHRoZSByYWRpYW5jZSBpbiB0aGUgZGlyZWN0aW9uIG9mIHRoZSBub3JtYWwKLy8gdGFyZ2V0IGlzIGEgVmVjdG9yMwpnZXRBdDpmdW5jdGlvbiBnZXRBdChub3JtYWwsdGFyZ2V0KXsvLyBub3JtYWwgaXMgYXNzdW1lZCB0byBiZSB1bml0IGxlbmd0aAp2YXIgeD1ub3JtYWwueCx5PW5vcm1hbC55LHo9bm9ybWFsLno7dmFyIGNvZWZmPXRoaXMuY29lZmZpY2llbnRzOy8vIGJhbmQgMAp0YXJnZXQuY29weShjb2VmZlswXSkubXVsdGlwbHlTY2FsYXIoMC4yODIwOTUpOy8vIGJhbmQgMQp0YXJnZXQuYWRkU2NhbGUoY29lZmZbMV0sMC40ODg2MDMqeSk7dGFyZ2V0LmFkZFNjYWxlKGNvZWZmWzJdLDAuNDg4NjAzKnopO3RhcmdldC5hZGRTY2FsZShjb2VmZlszXSwwLjQ4ODYwMyp4KTsvLyBiYW5kIDIKdGFyZ2V0LmFkZFNjYWxlKGNvZWZmWzRdLDEuMDkyNTQ4Kih4KnkpKTt0YXJnZXQuYWRkU2NhbGUoY29lZmZbNV0sMS4wOTI1NDgqKHkqeikpO3RhcmdldC5hZGRTY2FsZShjb2VmZls2XSwwLjMxNTM5MiooMy4wKnoqei0xLjApKTt0YXJnZXQuYWRkU2NhbGUoY29lZmZbN10sMS4wOTI1NDgqKHgqeikpO3RhcmdldC5hZGRTY2FsZShjb2VmZls4XSwwLjU0NjI3NCooeCp4LXkqeSkpO3JldHVybiB0YXJnZXQ7fSwvLyBnZXQgdGhlIGlycmFkaWFuY2UgKHJhZGlhbmNlIGNvbnZvbHZlZCB3aXRoIGNvc2luZSBsb2JlKSBpbiB0aGUgZGlyZWN0aW9uIG9mIHRoZSBub3JtYWwKLy8gdGFyZ2V0IGlzIGEgVmVjdG9yMwovLyBodHRwczovL2dyYXBoaWNzLnN0YW5mb3JkLmVkdS9wYXBlcnMvZW52bWFwL2Vudm1hcC5wZGYKZ2V0SXJyYWRpYW5jZUF0OmZ1bmN0aW9uIGdldElycmFkaWFuY2VBdChub3JtYWwsdGFyZ2V0KXsvLyBub3JtYWwgaXMgYXNzdW1lZCB0byBiZSB1bml0IGxlbmd0aAp2YXIgeD1ub3JtYWwueCx5PW5vcm1hbC55LHo9bm9ybWFsLno7dmFyIGNvZWZmPXRoaXMuY29lZmZpY2llbnRzOy8vIGJhbmQgMAp0YXJnZXQuY29weShjb2VmZlswXSkubXVsdGlwbHlTY2FsYXIoMC44ODYyMjcpOy8vIM+AICogMC4yODIwOTUKLy8gYmFuZCAxCnRhcmdldC5hZGRTY2FsZShjb2VmZlsxXSwyLjAqMC41MTE2NjQqeSk7Ly8gKCAyICogz4AgLyAzICkgKiAwLjQ4ODYwMwp0YXJnZXQuYWRkU2NhbGUoY29lZmZbMl0sMi4wKjAuNTExNjY0KnopO3RhcmdldC5hZGRTY2FsZShjb2VmZlszXSwyLjAqMC41MTE2NjQqeCk7Ly8gYmFuZCAyCnRhcmdldC5hZGRTY2FsZShjb2VmZls0XSwyLjAqMC40MjkwNDMqeCp5KTsvLyAoIM+AIC8gNCApICogMS4wOTI1NDgKdGFyZ2V0LmFkZFNjYWxlKGNvZWZmWzVdLDIuMCowLjQyOTA0Myp5KnopO3RhcmdldC5hZGRTY2FsZShjb2VmZls2XSwwLjc0MzEyNSp6KnotMC4yNDc3MDgpOy8vICggz4AgLyA0ICkgKiAwLjMxNTM5MiAqIDMKdGFyZ2V0LmFkZFNjYWxlKGNvZWZmWzddLDIuMCowLjQyOTA0Myp4KnopO3RhcmdldC5hZGRTY2FsZShjb2VmZls4XSwwLjQyOTA0MyooeCp4LXkqeSkpOy8vICggz4AgLyA0ICkgKiAwLjU0NjI3NApyZXR1cm4gdGFyZ2V0O30sYWRkOmZ1bmN0aW9uIGFkZChzaCl7Zm9yKHZhciBpPTA7aTw5O2krKyl7dGhpcy5jb2VmZmljaWVudHNbaV0uYWRkKHNoLmNvZWZmaWNpZW50c1tpXSk7fXJldHVybiB0aGlzO30sc2NhbGU6ZnVuY3Rpb24gc2NhbGUocyl7Zm9yKHZhciBpPTA7aTw5O2krKyl7dGhpcy5jb2VmZmljaWVudHNbaV0ubXVsdGlwbHlTY2FsYXIocyk7fXJldHVybiB0aGlzO30sbGVycDpmdW5jdGlvbiBsZXJwKHNoLGFscGhhKXtmb3IodmFyIGk9MDtpPDk7aSsrKXt0aGlzLmNvZWZmaWNpZW50c1tpXS5sZXJwKHNoLmNvZWZmaWNpZW50c1tpXSxhbHBoYSk7fXJldHVybiB0aGlzO30sZXF1YWxzOmZ1bmN0aW9uIGVxdWFscyhzaCl7Zm9yKHZhciBpPTA7aTw5O2krKyl7aWYoIXRoaXMuY29lZmZpY2llbnRzW2ldLmVxdWFscyhzaC5jb2VmZmljaWVudHNbaV0pKXtyZXR1cm4gZmFsc2U7fX1yZXR1cm4gdHJ1ZTt9LGNvcHk6ZnVuY3Rpb24gY29weShzaCl7cmV0dXJuIHRoaXMuc2V0KHNoLmNvZWZmaWNpZW50cyk7fSxjbG9uZTpmdW5jdGlvbiBjbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmNvcHkodGhpcyk7fSxmcm9tQXJyYXk6ZnVuY3Rpb24gZnJvbUFycmF5KGFycmF5LG9mZnNldCl7aWYob2Zmc2V0PT09dW5kZWZpbmVkKXtvZmZzZXQ9MDt9dmFyIGNvZWZmaWNpZW50cz10aGlzLmNvZWZmaWNpZW50cztmb3IodmFyIGk9MDtpPDk7aSsrKXtjb2VmZmljaWVudHNbaV0uZnJvbUFycmF5KGFycmF5LG9mZnNldCtpKjMpO31yZXR1cm4gdGhpczt9LHRvQXJyYXk6ZnVuY3Rpb24gdG9BcnJheShhcnJheSxvZmZzZXQpe2lmKGFycmF5PT09dW5kZWZpbmVkKXthcnJheT1bXTt9aWYob2Zmc2V0PT09dW5kZWZpbmVkKXtvZmZzZXQ9MDt9dmFyIGNvZWZmaWNpZW50cz10aGlzLmNvZWZmaWNpZW50cztmb3IodmFyIGk9MDtpPDk7aSsrKXtjb2VmZmljaWVudHNbaV0udG9BcnJheShhcnJheSxvZmZzZXQraSozKTt9cmV0dXJuIGFycmF5O319KTtPYmplY3QuYXNzaWduKFNwaGVyaWNhbEhhcm1vbmljczMsey8vIGV2YWx1YXRlIHRoZSBiYXNpcyBmdW5jdGlvbnMKLy8gc2hCYXNpcyBpcyBhbiBBcnJheVsgOSBdCmdldEJhc2lzQXQ6ZnVuY3Rpb24gZ2V0QmFzaXNBdChub3JtYWwsc2hCYXNpcyl7Ly8gbm9ybWFsIGlzIGFzc3VtZWQgdG8gYmUgdW5pdCBsZW5ndGgKdmFyIHg9bm9ybWFsLngseT1ub3JtYWwueSx6PW5vcm1hbC56Oy8vIGJhbmQgMApzaEJhc2lzWzBdPTAuMjgyMDk1Oy8vIGJhbmQgMQpzaEJhc2lzWzFdPTAuNDg4NjAzKnk7c2hCYXNpc1syXT0wLjQ4ODYwMyp6O3NoQmFzaXNbM109MC40ODg2MDMqeDsvLyBiYW5kIDIKc2hCYXNpc1s0XT0xLjA5MjU0OCp4Knk7c2hCYXNpc1s1XT0xLjA5MjU0OCp5Kno7c2hCYXNpc1s2XT0wLjMxNTM5MiooMyp6KnotMSk7c2hCYXNpc1s3XT0xLjA5MjU0OCp4Kno7c2hCYXNpc1s4XT0wLjU0NjI3NCooeCp4LXkqeSk7fX0pOy8qKgogICAqIEBhdXRob3IgV2VzdExhbmdsZXkgLyBodHRwOi8vZ2l0aHViLmNvbS9XZXN0TGFuZ2xleQogICAqCiAgICogQSBMaWdodFByb2JlIGlzIGEgc291cmNlIG9mIGluZGlyZWN0LWRpZmZ1c2UgbGlnaHQKICAgKi9mdW5jdGlvbiBMaWdodFByb2JlKHNoLGludGVuc2l0eSl7TGlnaHQuY2FsbCh0aGlzLHVuZGVmaW5lZCxpbnRlbnNpdHkpO3RoaXMuc2g9c2ghPT11bmRlZmluZWQ/c2g6bmV3IFNwaGVyaWNhbEhhcm1vbmljczMoKTt9TGlnaHRQcm9iZS5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKExpZ2h0LnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOkxpZ2h0UHJvYmUsaXNMaWdodFByb2JlOnRydWUsY29weTpmdW5jdGlvbiBjb3B5KHNvdXJjZSl7TGlnaHQucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHNvdXJjZSk7dGhpcy5zaC5jb3B5KHNvdXJjZS5zaCk7dGhpcy5pbnRlbnNpdHk9c291cmNlLmludGVuc2l0eTtyZXR1cm4gdGhpczt9LHRvSlNPTjpmdW5jdGlvbiB0b0pTT04obWV0YSl7dmFyIGRhdGE9TGlnaHQucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMsbWV0YSk7Ly8gZGF0YS5zaCA9IHRoaXMuc2gudG9BcnJheSgpOyAvLyB0b2RvCnJldHVybiBkYXRhO319KTsvKioKICAgKiBAYXV0aG9yIFdlc3RMYW5nbGV5IC8gaHR0cDovL2dpdGh1Yi5jb20vV2VzdExhbmdsZXkKICAgKi9mdW5jdGlvbiBIZW1pc3BoZXJlTGlnaHRQcm9iZShza3lDb2xvcixncm91bmRDb2xvcixpbnRlbnNpdHkpe0xpZ2h0UHJvYmUuY2FsbCh0aGlzLHVuZGVmaW5lZCxpbnRlbnNpdHkpO3ZhciBjb2xvcjE9bmV3IENvbG9yKCkuc2V0KHNreUNvbG9yKTt2YXIgY29sb3IyPW5ldyBDb2xvcigpLnNldChncm91bmRDb2xvcik7dmFyIHNreT1uZXcgVmVjdG9yMyhjb2xvcjEucixjb2xvcjEuZyxjb2xvcjEuYik7dmFyIGdyb3VuZD1uZXcgVmVjdG9yMyhjb2xvcjIucixjb2xvcjIuZyxjb2xvcjIuYik7Ly8gd2l0aG91dCBleHRyYSBmYWN0b3Igb2YgUEkgaW4gdGhlIHNoYWRlciwgc2hvdWxkID0gMSAvIE1hdGguc3FydCggTWF0aC5QSSApOwp2YXIgYzA9TWF0aC5zcXJ0KE1hdGguUEkpO3ZhciBjMT1jMCpNYXRoLnNxcnQoMC43NSk7dGhpcy5zaC5jb2VmZmljaWVudHNbMF0uY29weShza3kpLmFkZChncm91bmQpLm11bHRpcGx5U2NhbGFyKGMwKTt0aGlzLnNoLmNvZWZmaWNpZW50c1sxXS5jb3B5KHNreSkuc3ViKGdyb3VuZCkubXVsdGlwbHlTY2FsYXIoYzEpO31IZW1pc3BoZXJlTGlnaHRQcm9iZS5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKExpZ2h0UHJvYmUucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6SGVtaXNwaGVyZUxpZ2h0UHJvYmUsaXNIZW1pc3BoZXJlTGlnaHRQcm9iZTp0cnVlLGNvcHk6ZnVuY3Rpb24gY29weShzb3VyY2Upey8vIG1vZGlmeWluZyBjb2xvcnMgbm90IGN1cnJlbnRseSBzdXBwb3J0ZWQKTGlnaHRQcm9iZS5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsc291cmNlKTtyZXR1cm4gdGhpczt9LHRvSlNPTjpmdW5jdGlvbiB0b0pTT04obWV0YSl7dmFyIGRhdGE9TGlnaHRQcm9iZS5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyxtZXRhKTsvLyBkYXRhLnNoID0gdGhpcy5zaC50b0FycmF5KCk7IC8vIHRvZG8KcmV0dXJuIGRhdGE7fX0pOy8qKgogICAqIEBhdXRob3IgV2VzdExhbmdsZXkgLyBodHRwOi8vZ2l0aHViLmNvbS9XZXN0TGFuZ2xleQogICAqL2Z1bmN0aW9uIEFtYmllbnRMaWdodFByb2JlKGNvbG9yLGludGVuc2l0eSl7TGlnaHRQcm9iZS5jYWxsKHRoaXMsdW5kZWZpbmVkLGludGVuc2l0eSk7dmFyIGNvbG9yMT1uZXcgQ29sb3IoKS5zZXQoY29sb3IpOy8vIHdpdGhvdXQgZXh0cmEgZmFjdG9yIG9mIFBJIGluIHRoZSBzaGFkZXIsIHdvdWxkIGJlIDIgLyBNYXRoLnNxcnQoIE1hdGguUEkgKTsKdGhpcy5zaC5jb2VmZmljaWVudHNbMF0uc2V0KGNvbG9yMS5yLGNvbG9yMS5nLGNvbG9yMS5iKS5tdWx0aXBseVNjYWxhcigyKk1hdGguc3FydChNYXRoLlBJKSk7fUFtYmllbnRMaWdodFByb2JlLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoTGlnaHRQcm9iZS5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpBbWJpZW50TGlnaHRQcm9iZSxpc0FtYmllbnRMaWdodFByb2JlOnRydWUsY29weTpmdW5jdGlvbiBjb3B5KHNvdXJjZSl7Ly8gbW9kaWZ5aW5nIGNvbG9yIG5vdCBjdXJyZW50bHkgc3VwcG9ydGVkCkxpZ2h0UHJvYmUucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHNvdXJjZSk7cmV0dXJuIHRoaXM7fSx0b0pTT046ZnVuY3Rpb24gdG9KU09OKG1ldGEpe3ZhciBkYXRhPUxpZ2h0UHJvYmUucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMsbWV0YSk7Ly8gZGF0YS5zaCA9IHRoaXMuc2gudG9BcnJheSgpOyAvLyB0b2RvCnJldHVybiBkYXRhO319KTt2YXIgX2V5ZVJpZ2h0PW5ldyBNYXRyaXg0KCk7dmFyIF9leWVMZWZ0PW5ldyBNYXRyaXg0KCk7LyoqCiAgICogQGF1dGhvciBtcmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS8KICAgKi9mdW5jdGlvbiBTdGVyZW9DYW1lcmEoKXt0aGlzLnR5cGU9J1N0ZXJlb0NhbWVyYSc7dGhpcy5hc3BlY3Q9MTt0aGlzLmV5ZVNlcD0wLjA2NDt0aGlzLmNhbWVyYUw9bmV3IFBlcnNwZWN0aXZlQ2FtZXJhKCk7dGhpcy5jYW1lcmFMLmxheWVycy5lbmFibGUoMSk7dGhpcy5jYW1lcmFMLm1hdHJpeEF1dG9VcGRhdGU9ZmFsc2U7dGhpcy5jYW1lcmFSPW5ldyBQZXJzcGVjdGl2ZUNhbWVyYSgpO3RoaXMuY2FtZXJhUi5sYXllcnMuZW5hYmxlKDIpO3RoaXMuY2FtZXJhUi5tYXRyaXhBdXRvVXBkYXRlPWZhbHNlO3RoaXMuX2NhY2hlPXtmb2N1czpudWxsLGZvdjpudWxsLGFzcGVjdDpudWxsLG5lYXI6bnVsbCxmYXI6bnVsbCx6b29tOm51bGwsZXllU2VwOm51bGx9O31PYmplY3QuYXNzaWduKFN0ZXJlb0NhbWVyYS5wcm90b3R5cGUse3VwZGF0ZTpmdW5jdGlvbiB1cGRhdGUoY2FtZXJhKXt2YXIgY2FjaGU9dGhpcy5fY2FjaGU7dmFyIG5lZWRzVXBkYXRlPWNhY2hlLmZvY3VzIT09Y2FtZXJhLmZvY3VzfHxjYWNoZS5mb3YhPT1jYW1lcmEuZm92fHxjYWNoZS5hc3BlY3QhPT1jYW1lcmEuYXNwZWN0KnRoaXMuYXNwZWN0fHxjYWNoZS5uZWFyIT09Y2FtZXJhLm5lYXJ8fGNhY2hlLmZhciE9PWNhbWVyYS5mYXJ8fGNhY2hlLnpvb20hPT1jYW1lcmEuem9vbXx8Y2FjaGUuZXllU2VwIT09dGhpcy5leWVTZXA7aWYobmVlZHNVcGRhdGUpe2NhY2hlLmZvY3VzPWNhbWVyYS5mb2N1cztjYWNoZS5mb3Y9Y2FtZXJhLmZvdjtjYWNoZS5hc3BlY3Q9Y2FtZXJhLmFzcGVjdCp0aGlzLmFzcGVjdDtjYWNoZS5uZWFyPWNhbWVyYS5uZWFyO2NhY2hlLmZhcj1jYW1lcmEuZmFyO2NhY2hlLnpvb209Y2FtZXJhLnpvb207Y2FjaGUuZXllU2VwPXRoaXMuZXllU2VwOy8vIE9mZi1heGlzIHN0ZXJlb3Njb3BpYyBlZmZlY3QgYmFzZWQgb24KLy8gaHR0cDovL3BhdWxib3Vya2UubmV0L3N0ZXJlb2dyYXBoaWNzL3N0ZXJlb3JlbmRlci8KdmFyIHByb2plY3Rpb25NYXRyaXg9Y2FtZXJhLnByb2plY3Rpb25NYXRyaXguY2xvbmUoKTt2YXIgZXllU2VwSGFsZj1jYWNoZS5leWVTZXAvMjt2YXIgZXllU2VwT25Qcm9qZWN0aW9uPWV5ZVNlcEhhbGYqY2FjaGUubmVhci9jYWNoZS5mb2N1czt2YXIgeW1heD1jYWNoZS5uZWFyKk1hdGgudGFuKF9NYXRoLkRFRzJSQUQqY2FjaGUuZm92KjAuNSkvY2FjaGUuem9vbTt2YXIgeG1pbix4bWF4Oy8vIHRyYW5zbGF0ZSB4T2Zmc2V0Cl9leWVMZWZ0LmVsZW1lbnRzWzEyXT0tZXllU2VwSGFsZjtfZXllUmlnaHQuZWxlbWVudHNbMTJdPWV5ZVNlcEhhbGY7Ly8gZm9yIGxlZnQgZXllCnhtaW49LXltYXgqY2FjaGUuYXNwZWN0K2V5ZVNlcE9uUHJvamVjdGlvbjt4bWF4PXltYXgqY2FjaGUuYXNwZWN0K2V5ZVNlcE9uUHJvamVjdGlvbjtwcm9qZWN0aW9uTWF0cml4LmVsZW1lbnRzWzBdPTIqY2FjaGUubmVhci8oeG1heC14bWluKTtwcm9qZWN0aW9uTWF0cml4LmVsZW1lbnRzWzhdPSh4bWF4K3htaW4pLyh4bWF4LXhtaW4pO3RoaXMuY2FtZXJhTC5wcm9qZWN0aW9uTWF0cml4LmNvcHkocHJvamVjdGlvbk1hdHJpeCk7Ly8gZm9yIHJpZ2h0IGV5ZQp4bWluPS15bWF4KmNhY2hlLmFzcGVjdC1leWVTZXBPblByb2plY3Rpb247eG1heD15bWF4KmNhY2hlLmFzcGVjdC1leWVTZXBPblByb2plY3Rpb247cHJvamVjdGlvbk1hdHJpeC5lbGVtZW50c1swXT0yKmNhY2hlLm5lYXIvKHhtYXgteG1pbik7cHJvamVjdGlvbk1hdHJpeC5lbGVtZW50c1s4XT0oeG1heCt4bWluKS8oeG1heC14bWluKTt0aGlzLmNhbWVyYVIucHJvamVjdGlvbk1hdHJpeC5jb3B5KHByb2plY3Rpb25NYXRyaXgpO310aGlzLmNhbWVyYUwubWF0cml4V29ybGQuY29weShjYW1lcmEubWF0cml4V29ybGQpLm11bHRpcGx5KF9leWVMZWZ0KTt0aGlzLmNhbWVyYVIubWF0cml4V29ybGQuY29weShjYW1lcmEubWF0cml4V29ybGQpLm11bHRpcGx5KF9leWVSaWdodCk7fX0pOy8qKgogICAqIEBhdXRob3IgYWx0ZXJlZHEgLyBodHRwOi8vYWx0ZXJlZHF1YWxpYS5jb20vCiAgICovZnVuY3Rpb24gQ2xvY2soYXV0b1N0YXJ0KXt0aGlzLmF1dG9TdGFydD1hdXRvU3RhcnQhPT11bmRlZmluZWQ/YXV0b1N0YXJ0OnRydWU7dGhpcy5zdGFydFRpbWU9MDt0aGlzLm9sZFRpbWU9MDt0aGlzLmVsYXBzZWRUaW1lPTA7dGhpcy5ydW5uaW5nPWZhbHNlO31PYmplY3QuYXNzaWduKENsb2NrLnByb3RvdHlwZSx7c3RhcnQ6ZnVuY3Rpb24gc3RhcnQoKXt0aGlzLnN0YXJ0VGltZT0odHlwZW9mIHBlcmZvcm1hbmNlPT09J3VuZGVmaW5lZCc/RGF0ZTpwZXJmb3JtYW5jZSkubm93KCk7Ly8gc2VlICMxMDczMgp0aGlzLm9sZFRpbWU9dGhpcy5zdGFydFRpbWU7dGhpcy5lbGFwc2VkVGltZT0wO3RoaXMucnVubmluZz10cnVlO30sc3RvcDpmdW5jdGlvbiBzdG9wKCl7dGhpcy5nZXRFbGFwc2VkVGltZSgpO3RoaXMucnVubmluZz1mYWxzZTt0aGlzLmF1dG9TdGFydD1mYWxzZTt9LGdldEVsYXBzZWRUaW1lOmZ1bmN0aW9uIGdldEVsYXBzZWRUaW1lKCl7dGhpcy5nZXREZWx0YSgpO3JldHVybiB0aGlzLmVsYXBzZWRUaW1lO30sZ2V0RGVsdGE6ZnVuY3Rpb24gZ2V0RGVsdGEoKXt2YXIgZGlmZj0wO2lmKHRoaXMuYXV0b1N0YXJ0JiYhdGhpcy5ydW5uaW5nKXt0aGlzLnN0YXJ0KCk7cmV0dXJuIDA7fWlmKHRoaXMucnVubmluZyl7dmFyIG5ld1RpbWU9KHR5cGVvZiBwZXJmb3JtYW5jZT09PSd1bmRlZmluZWQnP0RhdGU6cGVyZm9ybWFuY2UpLm5vdygpO2RpZmY9KG5ld1RpbWUtdGhpcy5vbGRUaW1lKS8xMDAwO3RoaXMub2xkVGltZT1uZXdUaW1lO3RoaXMuZWxhcHNlZFRpbWUrPWRpZmY7fXJldHVybiBkaWZmO319KTsvKioKICAgKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tLwogICAqL3ZhciBfcG9zaXRpb24kMj1uZXcgVmVjdG9yMygpO3ZhciBfcXVhdGVybmlvbiQzPW5ldyBRdWF0ZXJuaW9uKCk7dmFyIF9zY2FsZSQxPW5ldyBWZWN0b3IzKCk7dmFyIF9vcmllbnRhdGlvbj1uZXcgVmVjdG9yMygpO2Z1bmN0aW9uIEF1ZGlvTGlzdGVuZXIoKXtPYmplY3QzRC5jYWxsKHRoaXMpO3RoaXMudHlwZT0nQXVkaW9MaXN0ZW5lcic7dGhpcy5jb250ZXh0PUF1ZGlvQ29udGV4dC5nZXRDb250ZXh0KCk7dGhpcy5nYWluPXRoaXMuY29udGV4dC5jcmVhdGVHYWluKCk7dGhpcy5nYWluLmNvbm5lY3QodGhpcy5jb250ZXh0LmRlc3RpbmF0aW9uKTt0aGlzLmZpbHRlcj1udWxsO3RoaXMudGltZURlbHRhPTA7Ly8gcHJpdmF0ZQp0aGlzLl9jbG9jaz1uZXcgQ2xvY2soKTt9QXVkaW9MaXN0ZW5lci5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKE9iamVjdDNELnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOkF1ZGlvTGlzdGVuZXIsZ2V0SW5wdXQ6ZnVuY3Rpb24gZ2V0SW5wdXQoKXtyZXR1cm4gdGhpcy5nYWluO30scmVtb3ZlRmlsdGVyOmZ1bmN0aW9uIHJlbW92ZUZpbHRlcigpe2lmKHRoaXMuZmlsdGVyIT09bnVsbCl7dGhpcy5nYWluLmRpc2Nvbm5lY3QodGhpcy5maWx0ZXIpO3RoaXMuZmlsdGVyLmRpc2Nvbm5lY3QodGhpcy5jb250ZXh0LmRlc3RpbmF0aW9uKTt0aGlzLmdhaW4uY29ubmVjdCh0aGlzLmNvbnRleHQuZGVzdGluYXRpb24pO3RoaXMuZmlsdGVyPW51bGw7fXJldHVybiB0aGlzO30sZ2V0RmlsdGVyOmZ1bmN0aW9uIGdldEZpbHRlcigpe3JldHVybiB0aGlzLmZpbHRlcjt9LHNldEZpbHRlcjpmdW5jdGlvbiBzZXRGaWx0ZXIodmFsdWUpe2lmKHRoaXMuZmlsdGVyIT09bnVsbCl7dGhpcy5nYWluLmRpc2Nvbm5lY3QodGhpcy5maWx0ZXIpO3RoaXMuZmlsdGVyLmRpc2Nvbm5lY3QodGhpcy5jb250ZXh0LmRlc3RpbmF0aW9uKTt9ZWxzZXt0aGlzLmdhaW4uZGlzY29ubmVjdCh0aGlzLmNvbnRleHQuZGVzdGluYXRpb24pO310aGlzLmZpbHRlcj12YWx1ZTt0aGlzLmdhaW4uY29ubmVjdCh0aGlzLmZpbHRlcik7dGhpcy5maWx0ZXIuY29ubmVjdCh0aGlzLmNvbnRleHQuZGVzdGluYXRpb24pO3JldHVybiB0aGlzO30sZ2V0TWFzdGVyVm9sdW1lOmZ1bmN0aW9uIGdldE1hc3RlclZvbHVtZSgpe3JldHVybiB0aGlzLmdhaW4uZ2Fpbi52YWx1ZTt9LHNldE1hc3RlclZvbHVtZTpmdW5jdGlvbiBzZXRNYXN0ZXJWb2x1bWUodmFsdWUpe3RoaXMuZ2Fpbi5nYWluLnNldFRhcmdldEF0VGltZSh2YWx1ZSx0aGlzLmNvbnRleHQuY3VycmVudFRpbWUsMC4wMSk7cmV0dXJuIHRoaXM7fSx1cGRhdGVNYXRyaXhXb3JsZDpmdW5jdGlvbiB1cGRhdGVNYXRyaXhXb3JsZChmb3JjZSl7T2JqZWN0M0QucHJvdG90eXBlLnVwZGF0ZU1hdHJpeFdvcmxkLmNhbGwodGhpcyxmb3JjZSk7dmFyIGxpc3RlbmVyPXRoaXMuY29udGV4dC5saXN0ZW5lcjt2YXIgdXA9dGhpcy51cDt0aGlzLnRpbWVEZWx0YT10aGlzLl9jbG9jay5nZXREZWx0YSgpO3RoaXMubWF0cml4V29ybGQuZGVjb21wb3NlKF9wb3NpdGlvbiQyLF9xdWF0ZXJuaW9uJDMsX3NjYWxlJDEpO19vcmllbnRhdGlvbi5zZXQoMCwwLC0xKS5hcHBseVF1YXRlcm5pb24oX3F1YXRlcm5pb24kMyk7aWYobGlzdGVuZXIucG9zaXRpb25YKXsvLyBjb2RlIHBhdGggZm9yIENocm9tZSAoc2VlICMxNDM5MykKdmFyIGVuZFRpbWU9dGhpcy5jb250ZXh0LmN1cnJlbnRUaW1lK3RoaXMudGltZURlbHRhO2xpc3RlbmVyLnBvc2l0aW9uWC5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZShfcG9zaXRpb24kMi54LGVuZFRpbWUpO2xpc3RlbmVyLnBvc2l0aW9uWS5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZShfcG9zaXRpb24kMi55LGVuZFRpbWUpO2xpc3RlbmVyLnBvc2l0aW9uWi5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZShfcG9zaXRpb24kMi56LGVuZFRpbWUpO2xpc3RlbmVyLmZvcndhcmRYLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKF9vcmllbnRhdGlvbi54LGVuZFRpbWUpO2xpc3RlbmVyLmZvcndhcmRZLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKF9vcmllbnRhdGlvbi55LGVuZFRpbWUpO2xpc3RlbmVyLmZvcndhcmRaLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKF9vcmllbnRhdGlvbi56LGVuZFRpbWUpO2xpc3RlbmVyLnVwWC5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSh1cC54LGVuZFRpbWUpO2xpc3RlbmVyLnVwWS5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSh1cC55LGVuZFRpbWUpO2xpc3RlbmVyLnVwWi5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSh1cC56LGVuZFRpbWUpO31lbHNle2xpc3RlbmVyLnNldFBvc2l0aW9uKF9wb3NpdGlvbiQyLngsX3Bvc2l0aW9uJDIueSxfcG9zaXRpb24kMi56KTtsaXN0ZW5lci5zZXRPcmllbnRhdGlvbihfb3JpZW50YXRpb24ueCxfb3JpZW50YXRpb24ueSxfb3JpZW50YXRpb24ueix1cC54LHVwLnksdXAueik7fX19KTsvKioKICAgKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tLwogICAqIEBhdXRob3IgUmVlY2UgQWFyb24gTGVjcml2YWluIC8gaHR0cDovL3JlZWNlbm90ZXMuY29tLwogICAqL2Z1bmN0aW9uIEF1ZGlvKGxpc3RlbmVyKXtPYmplY3QzRC5jYWxsKHRoaXMpO3RoaXMudHlwZT0nQXVkaW8nO3RoaXMubGlzdGVuZXI9bGlzdGVuZXI7dGhpcy5jb250ZXh0PWxpc3RlbmVyLmNvbnRleHQ7dGhpcy5nYWluPXRoaXMuY29udGV4dC5jcmVhdGVHYWluKCk7dGhpcy5nYWluLmNvbm5lY3QobGlzdGVuZXIuZ2V0SW5wdXQoKSk7dGhpcy5hdXRvcGxheT1mYWxzZTt0aGlzLmJ1ZmZlcj1udWxsO3RoaXMuZGV0dW5lPTA7dGhpcy5sb29wPWZhbHNlO3RoaXMubG9vcFN0YXJ0PTA7dGhpcy5sb29wRW5kPTA7dGhpcy5vZmZzZXQ9MDt0aGlzLmR1cmF0aW9uPXVuZGVmaW5lZDt0aGlzLnBsYXliYWNrUmF0ZT0xO3RoaXMuaXNQbGF5aW5nPWZhbHNlO3RoaXMuaGFzUGxheWJhY2tDb250cm9sPXRydWU7dGhpcy5zb3VyY2VUeXBlPSdlbXB0eSc7dGhpcy5fc3RhcnRlZEF0PTA7dGhpcy5fcGF1c2VkQXQ9MDt0aGlzLmZpbHRlcnM9W107fUF1ZGlvLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoT2JqZWN0M0QucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6QXVkaW8sZ2V0T3V0cHV0OmZ1bmN0aW9uIGdldE91dHB1dCgpe3JldHVybiB0aGlzLmdhaW47fSxzZXROb2RlU291cmNlOmZ1bmN0aW9uIHNldE5vZGVTb3VyY2UoYXVkaW9Ob2RlKXt0aGlzLmhhc1BsYXliYWNrQ29udHJvbD1mYWxzZTt0aGlzLnNvdXJjZVR5cGU9J2F1ZGlvTm9kZSc7dGhpcy5zb3VyY2U9YXVkaW9Ob2RlO3RoaXMuY29ubmVjdCgpO3JldHVybiB0aGlzO30sc2V0TWVkaWFFbGVtZW50U291cmNlOmZ1bmN0aW9uIHNldE1lZGlhRWxlbWVudFNvdXJjZShtZWRpYUVsZW1lbnQpe3RoaXMuaGFzUGxheWJhY2tDb250cm9sPWZhbHNlO3RoaXMuc291cmNlVHlwZT0nbWVkaWFOb2RlJzt0aGlzLnNvdXJjZT10aGlzLmNvbnRleHQuY3JlYXRlTWVkaWFFbGVtZW50U291cmNlKG1lZGlhRWxlbWVudCk7dGhpcy5jb25uZWN0KCk7cmV0dXJuIHRoaXM7fSxzZXRNZWRpYVN0cmVhbVNvdXJjZTpmdW5jdGlvbiBzZXRNZWRpYVN0cmVhbVNvdXJjZShtZWRpYVN0cmVhbSl7dGhpcy5oYXNQbGF5YmFja0NvbnRyb2w9ZmFsc2U7dGhpcy5zb3VyY2VUeXBlPSdtZWRpYVN0cmVhbU5vZGUnO3RoaXMuc291cmNlPXRoaXMuY29udGV4dC5jcmVhdGVNZWRpYVN0cmVhbVNvdXJjZShtZWRpYVN0cmVhbSk7dGhpcy5jb25uZWN0KCk7cmV0dXJuIHRoaXM7fSxzZXRCdWZmZXI6ZnVuY3Rpb24gc2V0QnVmZmVyKGF1ZGlvQnVmZmVyKXt0aGlzLmJ1ZmZlcj1hdWRpb0J1ZmZlcjt0aGlzLnNvdXJjZVR5cGU9J2J1ZmZlcic7aWYodGhpcy5hdXRvcGxheSl7dGhpcy5wbGF5KCk7fXJldHVybiB0aGlzO30scGxheTpmdW5jdGlvbiBwbGF5KGRlbGF5KXtpZihkZWxheT09PXVuZGVmaW5lZCl7ZGVsYXk9MDt9aWYodGhpcy5pc1BsYXlpbmc9PT10cnVlKXtjb25zb2xlLndhcm4oJ1RIUkVFLkF1ZGlvOiBBdWRpbyBpcyBhbHJlYWR5IHBsYXlpbmcuJyk7cmV0dXJuO31pZih0aGlzLmhhc1BsYXliYWNrQ29udHJvbD09PWZhbHNlKXtjb25zb2xlLndhcm4oJ1RIUkVFLkF1ZGlvOiB0aGlzIEF1ZGlvIGhhcyBubyBwbGF5YmFjayBjb250cm9sLicpO3JldHVybjt9dGhpcy5fc3RhcnRlZEF0PXRoaXMuY29udGV4dC5jdXJyZW50VGltZStkZWxheTt2YXIgc291cmNlPXRoaXMuY29udGV4dC5jcmVhdGVCdWZmZXJTb3VyY2UoKTtzb3VyY2UuYnVmZmVyPXRoaXMuYnVmZmVyO3NvdXJjZS5sb29wPXRoaXMubG9vcDtzb3VyY2UubG9vcFN0YXJ0PXRoaXMubG9vcFN0YXJ0O3NvdXJjZS5sb29wRW5kPXRoaXMubG9vcEVuZDtzb3VyY2Uub25lbmRlZD10aGlzLm9uRW5kZWQuYmluZCh0aGlzKTtzb3VyY2Uuc3RhcnQodGhpcy5fc3RhcnRlZEF0LHRoaXMuX3BhdXNlZEF0K3RoaXMub2Zmc2V0LHRoaXMuZHVyYXRpb24pO3RoaXMuaXNQbGF5aW5nPXRydWU7dGhpcy5zb3VyY2U9c291cmNlO3RoaXMuc2V0RGV0dW5lKHRoaXMuZGV0dW5lKTt0aGlzLnNldFBsYXliYWNrUmF0ZSh0aGlzLnBsYXliYWNrUmF0ZSk7cmV0dXJuIHRoaXMuY29ubmVjdCgpO30scGF1c2U6ZnVuY3Rpb24gcGF1c2UoKXtpZih0aGlzLmhhc1BsYXliYWNrQ29udHJvbD09PWZhbHNlKXtjb25zb2xlLndhcm4oJ1RIUkVFLkF1ZGlvOiB0aGlzIEF1ZGlvIGhhcyBubyBwbGF5YmFjayBjb250cm9sLicpO3JldHVybjt9aWYodGhpcy5pc1BsYXlpbmc9PT10cnVlKXt0aGlzLl9wYXVzZWRBdD0odGhpcy5jb250ZXh0LmN1cnJlbnRUaW1lLXRoaXMuX3N0YXJ0ZWRBdCkqdGhpcy5wbGF5YmFja1JhdGU7dGhpcy5zb3VyY2Uuc3RvcCgpO3RoaXMuc291cmNlLm9uZW5kZWQ9bnVsbDt0aGlzLmlzUGxheWluZz1mYWxzZTt9cmV0dXJuIHRoaXM7fSxzdG9wOmZ1bmN0aW9uIHN0b3AoKXtpZih0aGlzLmhhc1BsYXliYWNrQ29udHJvbD09PWZhbHNlKXtjb25zb2xlLndhcm4oJ1RIUkVFLkF1ZGlvOiB0aGlzIEF1ZGlvIGhhcyBubyBwbGF5YmFjayBjb250cm9sLicpO3JldHVybjt9dGhpcy5fcGF1c2VkQXQ9MDt0aGlzLnNvdXJjZS5zdG9wKCk7dGhpcy5zb3VyY2Uub25lbmRlZD1udWxsO3RoaXMuaXNQbGF5aW5nPWZhbHNlO3JldHVybiB0aGlzO30sY29ubmVjdDpmdW5jdGlvbiBjb25uZWN0KCl7aWYodGhpcy5maWx0ZXJzLmxlbmd0aD4wKXt0aGlzLnNvdXJjZS5jb25uZWN0KHRoaXMuZmlsdGVyc1swXSk7Zm9yKHZhciBpPTEsbD10aGlzLmZpbHRlcnMubGVuZ3RoO2k8bDtpKyspe3RoaXMuZmlsdGVyc1tpLTFdLmNvbm5lY3QodGhpcy5maWx0ZXJzW2ldKTt9dGhpcy5maWx0ZXJzW3RoaXMuZmlsdGVycy5sZW5ndGgtMV0uY29ubmVjdCh0aGlzLmdldE91dHB1dCgpKTt9ZWxzZXt0aGlzLnNvdXJjZS5jb25uZWN0KHRoaXMuZ2V0T3V0cHV0KCkpO31yZXR1cm4gdGhpczt9LGRpc2Nvbm5lY3Q6ZnVuY3Rpb24gZGlzY29ubmVjdCgpe2lmKHRoaXMuZmlsdGVycy5sZW5ndGg+MCl7dGhpcy5zb3VyY2UuZGlzY29ubmVjdCh0aGlzLmZpbHRlcnNbMF0pO2Zvcih2YXIgaT0xLGw9dGhpcy5maWx0ZXJzLmxlbmd0aDtpPGw7aSsrKXt0aGlzLmZpbHRlcnNbaS0xXS5kaXNjb25uZWN0KHRoaXMuZmlsdGVyc1tpXSk7fXRoaXMuZmlsdGVyc1t0aGlzLmZpbHRlcnMubGVuZ3RoLTFdLmRpc2Nvbm5lY3QodGhpcy5nZXRPdXRwdXQoKSk7fWVsc2V7dGhpcy5zb3VyY2UuZGlzY29ubmVjdCh0aGlzLmdldE91dHB1dCgpKTt9cmV0dXJuIHRoaXM7fSxnZXRGaWx0ZXJzOmZ1bmN0aW9uIGdldEZpbHRlcnMoKXtyZXR1cm4gdGhpcy5maWx0ZXJzO30sc2V0RmlsdGVyczpmdW5jdGlvbiBzZXRGaWx0ZXJzKHZhbHVlKXtpZighdmFsdWUpe3ZhbHVlPVtdO31pZih0aGlzLmlzUGxheWluZz09PXRydWUpe3RoaXMuZGlzY29ubmVjdCgpO3RoaXMuZmlsdGVycz12YWx1ZTt0aGlzLmNvbm5lY3QoKTt9ZWxzZXt0aGlzLmZpbHRlcnM9dmFsdWU7fXJldHVybiB0aGlzO30sc2V0RGV0dW5lOmZ1bmN0aW9uIHNldERldHVuZSh2YWx1ZSl7dGhpcy5kZXR1bmU9dmFsdWU7aWYodGhpcy5zb3VyY2UuZGV0dW5lPT09dW5kZWZpbmVkKXtyZXR1cm47fS8vIG9ubHkgc2V0IGRldHVuZSB3aGVuIGF2YWlsYWJsZQppZih0aGlzLmlzUGxheWluZz09PXRydWUpe3RoaXMuc291cmNlLmRldHVuZS5zZXRUYXJnZXRBdFRpbWUodGhpcy5kZXR1bmUsdGhpcy5jb250ZXh0LmN1cnJlbnRUaW1lLDAuMDEpO31yZXR1cm4gdGhpczt9LGdldERldHVuZTpmdW5jdGlvbiBnZXREZXR1bmUoKXtyZXR1cm4gdGhpcy5kZXR1bmU7fSxnZXRGaWx0ZXI6ZnVuY3Rpb24gZ2V0RmlsdGVyKCl7cmV0dXJuIHRoaXMuZ2V0RmlsdGVycygpWzBdO30sc2V0RmlsdGVyOmZ1bmN0aW9uIHNldEZpbHRlcihmaWx0ZXIpe3JldHVybiB0aGlzLnNldEZpbHRlcnMoZmlsdGVyP1tmaWx0ZXJdOltdKTt9LHNldFBsYXliYWNrUmF0ZTpmdW5jdGlvbiBzZXRQbGF5YmFja1JhdGUodmFsdWUpe2lmKHRoaXMuaGFzUGxheWJhY2tDb250cm9sPT09ZmFsc2Upe2NvbnNvbGUud2FybignVEhSRUUuQXVkaW86IHRoaXMgQXVkaW8gaGFzIG5vIHBsYXliYWNrIGNvbnRyb2wuJyk7cmV0dXJuO310aGlzLnBsYXliYWNrUmF0ZT12YWx1ZTtpZih0aGlzLmlzUGxheWluZz09PXRydWUpe3RoaXMuc291cmNlLnBsYXliYWNrUmF0ZS5zZXRUYXJnZXRBdFRpbWUodGhpcy5wbGF5YmFja1JhdGUsdGhpcy5jb250ZXh0LmN1cnJlbnRUaW1lLDAuMDEpO31yZXR1cm4gdGhpczt9LGdldFBsYXliYWNrUmF0ZTpmdW5jdGlvbiBnZXRQbGF5YmFja1JhdGUoKXtyZXR1cm4gdGhpcy5wbGF5YmFja1JhdGU7fSxvbkVuZGVkOmZ1bmN0aW9uIG9uRW5kZWQoKXt0aGlzLmlzUGxheWluZz1mYWxzZTt9LGdldExvb3A6ZnVuY3Rpb24gZ2V0TG9vcCgpe2lmKHRoaXMuaGFzUGxheWJhY2tDb250cm9sPT09ZmFsc2Upe2NvbnNvbGUud2FybignVEhSRUUuQXVkaW86IHRoaXMgQXVkaW8gaGFzIG5vIHBsYXliYWNrIGNvbnRyb2wuJyk7cmV0dXJuIGZhbHNlO31yZXR1cm4gdGhpcy5sb29wO30sc2V0TG9vcDpmdW5jdGlvbiBzZXRMb29wKHZhbHVlKXtpZih0aGlzLmhhc1BsYXliYWNrQ29udHJvbD09PWZhbHNlKXtjb25zb2xlLndhcm4oJ1RIUkVFLkF1ZGlvOiB0aGlzIEF1ZGlvIGhhcyBubyBwbGF5YmFjayBjb250cm9sLicpO3JldHVybjt9dGhpcy5sb29wPXZhbHVlO2lmKHRoaXMuaXNQbGF5aW5nPT09dHJ1ZSl7dGhpcy5zb3VyY2UubG9vcD10aGlzLmxvb3A7fXJldHVybiB0aGlzO30sc2V0TG9vcFN0YXJ0OmZ1bmN0aW9uIHNldExvb3BTdGFydCh2YWx1ZSl7dGhpcy5sb29wU3RhcnQ9dmFsdWU7cmV0dXJuIHRoaXM7fSxzZXRMb29wRW5kOmZ1bmN0aW9uIHNldExvb3BFbmQodmFsdWUpe3RoaXMubG9vcEVuZD12YWx1ZTtyZXR1cm4gdGhpczt9LGdldFZvbHVtZTpmdW5jdGlvbiBnZXRWb2x1bWUoKXtyZXR1cm4gdGhpcy5nYWluLmdhaW4udmFsdWU7fSxzZXRWb2x1bWU6ZnVuY3Rpb24gc2V0Vm9sdW1lKHZhbHVlKXt0aGlzLmdhaW4uZ2Fpbi5zZXRUYXJnZXRBdFRpbWUodmFsdWUsdGhpcy5jb250ZXh0LmN1cnJlbnRUaW1lLDAuMDEpO3JldHVybiB0aGlzO319KTsvKioKICAgKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tLwogICAqL3ZhciBfcG9zaXRpb24kMz1uZXcgVmVjdG9yMygpO3ZhciBfcXVhdGVybmlvbiQ0PW5ldyBRdWF0ZXJuaW9uKCk7dmFyIF9zY2FsZSQyPW5ldyBWZWN0b3IzKCk7dmFyIF9vcmllbnRhdGlvbiQxPW5ldyBWZWN0b3IzKCk7ZnVuY3Rpb24gUG9zaXRpb25hbEF1ZGlvKGxpc3RlbmVyKXtBdWRpby5jYWxsKHRoaXMsbGlzdGVuZXIpO3RoaXMucGFubmVyPXRoaXMuY29udGV4dC5jcmVhdGVQYW5uZXIoKTt0aGlzLnBhbm5lci5wYW5uaW5nTW9kZWw9J0hSVEYnO3RoaXMucGFubmVyLmNvbm5lY3QodGhpcy5nYWluKTt9UG9zaXRpb25hbEF1ZGlvLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoQXVkaW8ucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6UG9zaXRpb25hbEF1ZGlvLGdldE91dHB1dDpmdW5jdGlvbiBnZXRPdXRwdXQoKXtyZXR1cm4gdGhpcy5wYW5uZXI7fSxnZXRSZWZEaXN0YW5jZTpmdW5jdGlvbiBnZXRSZWZEaXN0YW5jZSgpe3JldHVybiB0aGlzLnBhbm5lci5yZWZEaXN0YW5jZTt9LHNldFJlZkRpc3RhbmNlOmZ1bmN0aW9uIHNldFJlZkRpc3RhbmNlKHZhbHVlKXt0aGlzLnBhbm5lci5yZWZEaXN0YW5jZT12YWx1ZTtyZXR1cm4gdGhpczt9LGdldFJvbGxvZmZGYWN0b3I6ZnVuY3Rpb24gZ2V0Um9sbG9mZkZhY3Rvcigpe3JldHVybiB0aGlzLnBhbm5lci5yb2xsb2ZmRmFjdG9yO30sc2V0Um9sbG9mZkZhY3RvcjpmdW5jdGlvbiBzZXRSb2xsb2ZmRmFjdG9yKHZhbHVlKXt0aGlzLnBhbm5lci5yb2xsb2ZmRmFjdG9yPXZhbHVlO3JldHVybiB0aGlzO30sZ2V0RGlzdGFuY2VNb2RlbDpmdW5jdGlvbiBnZXREaXN0YW5jZU1vZGVsKCl7cmV0dXJuIHRoaXMucGFubmVyLmRpc3RhbmNlTW9kZWw7fSxzZXREaXN0YW5jZU1vZGVsOmZ1bmN0aW9uIHNldERpc3RhbmNlTW9kZWwodmFsdWUpe3RoaXMucGFubmVyLmRpc3RhbmNlTW9kZWw9dmFsdWU7cmV0dXJuIHRoaXM7fSxnZXRNYXhEaXN0YW5jZTpmdW5jdGlvbiBnZXRNYXhEaXN0YW5jZSgpe3JldHVybiB0aGlzLnBhbm5lci5tYXhEaXN0YW5jZTt9LHNldE1heERpc3RhbmNlOmZ1bmN0aW9uIHNldE1heERpc3RhbmNlKHZhbHVlKXt0aGlzLnBhbm5lci5tYXhEaXN0YW5jZT12YWx1ZTtyZXR1cm4gdGhpczt9LHNldERpcmVjdGlvbmFsQ29uZTpmdW5jdGlvbiBzZXREaXJlY3Rpb25hbENvbmUoY29uZUlubmVyQW5nbGUsY29uZU91dGVyQW5nbGUsY29uZU91dGVyR2Fpbil7dGhpcy5wYW5uZXIuY29uZUlubmVyQW5nbGU9Y29uZUlubmVyQW5nbGU7dGhpcy5wYW5uZXIuY29uZU91dGVyQW5nbGU9Y29uZU91dGVyQW5nbGU7dGhpcy5wYW5uZXIuY29uZU91dGVyR2Fpbj1jb25lT3V0ZXJHYWluO3JldHVybiB0aGlzO30sdXBkYXRlTWF0cml4V29ybGQ6ZnVuY3Rpb24gdXBkYXRlTWF0cml4V29ybGQoZm9yY2Upe09iamVjdDNELnByb3RvdHlwZS51cGRhdGVNYXRyaXhXb3JsZC5jYWxsKHRoaXMsZm9yY2UpO2lmKHRoaXMuaGFzUGxheWJhY2tDb250cm9sPT09dHJ1ZSYmdGhpcy5pc1BsYXlpbmc9PT1mYWxzZSl7cmV0dXJuO310aGlzLm1hdHJpeFdvcmxkLmRlY29tcG9zZShfcG9zaXRpb24kMyxfcXVhdGVybmlvbiQ0LF9zY2FsZSQyKTtfb3JpZW50YXRpb24kMS5zZXQoMCwwLDEpLmFwcGx5UXVhdGVybmlvbihfcXVhdGVybmlvbiQ0KTt2YXIgcGFubmVyPXRoaXMucGFubmVyO2lmKHBhbm5lci5wb3NpdGlvblgpey8vIGNvZGUgcGF0aCBmb3IgQ2hyb21lIGFuZCBGaXJlZm94IChzZWUgIzE0MzkzKQp2YXIgZW5kVGltZT10aGlzLmNvbnRleHQuY3VycmVudFRpbWUrdGhpcy5saXN0ZW5lci50aW1lRGVsdGE7cGFubmVyLnBvc2l0aW9uWC5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZShfcG9zaXRpb24kMy54LGVuZFRpbWUpO3Bhbm5lci5wb3NpdGlvblkubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUoX3Bvc2l0aW9uJDMueSxlbmRUaW1lKTtwYW5uZXIucG9zaXRpb25aLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKF9wb3NpdGlvbiQzLnosZW5kVGltZSk7cGFubmVyLm9yaWVudGF0aW9uWC5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZShfb3JpZW50YXRpb24kMS54LGVuZFRpbWUpO3Bhbm5lci5vcmllbnRhdGlvblkubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUoX29yaWVudGF0aW9uJDEueSxlbmRUaW1lKTtwYW5uZXIub3JpZW50YXRpb25aLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKF9vcmllbnRhdGlvbiQxLnosZW5kVGltZSk7fWVsc2V7cGFubmVyLnNldFBvc2l0aW9uKF9wb3NpdGlvbiQzLngsX3Bvc2l0aW9uJDMueSxfcG9zaXRpb24kMy56KTtwYW5uZXIuc2V0T3JpZW50YXRpb24oX29yaWVudGF0aW9uJDEueCxfb3JpZW50YXRpb24kMS55LF9vcmllbnRhdGlvbiQxLnopO319fSk7LyoqCiAgICogQGF1dGhvciBtcmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS8KICAgKi9mdW5jdGlvbiBBdWRpb0FuYWx5c2VyKGF1ZGlvLGZmdFNpemUpe3RoaXMuYW5hbHlzZXI9YXVkaW8uY29udGV4dC5jcmVhdGVBbmFseXNlcigpO3RoaXMuYW5hbHlzZXIuZmZ0U2l6ZT1mZnRTaXplIT09dW5kZWZpbmVkP2ZmdFNpemU6MjA0ODt0aGlzLmRhdGE9bmV3IFVpbnQ4QXJyYXkodGhpcy5hbmFseXNlci5mcmVxdWVuY3lCaW5Db3VudCk7YXVkaW8uZ2V0T3V0cHV0KCkuY29ubmVjdCh0aGlzLmFuYWx5c2VyKTt9T2JqZWN0LmFzc2lnbihBdWRpb0FuYWx5c2VyLnByb3RvdHlwZSx7Z2V0RnJlcXVlbmN5RGF0YTpmdW5jdGlvbiBnZXRGcmVxdWVuY3lEYXRhKCl7dGhpcy5hbmFseXNlci5nZXRCeXRlRnJlcXVlbmN5RGF0YSh0aGlzLmRhdGEpO3JldHVybiB0aGlzLmRhdGE7fSxnZXRBdmVyYWdlRnJlcXVlbmN5OmZ1bmN0aW9uIGdldEF2ZXJhZ2VGcmVxdWVuY3koKXt2YXIgdmFsdWU9MCxkYXRhPXRoaXMuZ2V0RnJlcXVlbmN5RGF0YSgpO2Zvcih2YXIgaT0wO2k8ZGF0YS5sZW5ndGg7aSsrKXt2YWx1ZSs9ZGF0YVtpXTt9cmV0dXJuIHZhbHVlL2RhdGEubGVuZ3RoO319KTsvKioKICAgKgogICAqIEJ1ZmZlcmVkIHNjZW5lIGdyYXBoIHByb3BlcnR5IHRoYXQgYWxsb3dzIHdlaWdodGVkIGFjY3VtdWxhdGlvbi4KICAgKgogICAqCiAgICogQGF1dGhvciBCZW4gSG91c3RvbiAvIGh0dHA6Ly9jbGFyYS5pby8KICAgKiBAYXV0aG9yIERhdmlkIFNhcm5vIC8gaHR0cDovL2xpZ2h0aGF1cy51cy8KICAgKiBAYXV0aG9yIHRzY2h3CiAgICovZnVuY3Rpb24gUHJvcGVydHlNaXhlcihiaW5kaW5nLHR5cGVOYW1lLHZhbHVlU2l6ZSl7dGhpcy5iaW5kaW5nPWJpbmRpbmc7dGhpcy52YWx1ZVNpemU9dmFsdWVTaXplO3ZhciBidWZmZXJUeXBlPUZsb2F0NjRBcnJheSxtaXhGdW5jdGlvbjtzd2l0Y2godHlwZU5hbWUpe2Nhc2UncXVhdGVybmlvbic6bWl4RnVuY3Rpb249dGhpcy5fc2xlcnA7YnJlYWs7Y2FzZSdzdHJpbmcnOmNhc2UnYm9vbCc6YnVmZmVyVHlwZT1BcnJheTttaXhGdW5jdGlvbj10aGlzLl9zZWxlY3Q7YnJlYWs7ZGVmYXVsdDptaXhGdW5jdGlvbj10aGlzLl9sZXJwO310aGlzLmJ1ZmZlcj1uZXcgYnVmZmVyVHlwZSh2YWx1ZVNpemUqNCk7Ly8gbGF5b3V0OiBbIGluY29taW5nIHwgYWNjdTAgfCBhY2N1MSB8IG9yaWcgXQovLwovLyBpbnRlcnBvbGF0b3JzIGNhbiB1c2UgLmJ1ZmZlciBhcyB0aGVpciAucmVzdWx0Ci8vIHRoZSBkYXRhIHRoZW4gZ29lcyB0byAnaW5jb21pbmcnCi8vCi8vICdhY2N1MCcgYW5kICdhY2N1MScgYXJlIHVzZWQgZnJhbWUtaW50ZXJsZWF2ZWQgZm9yCi8vIHRoZSBjdW11bGF0aXZlIHJlc3VsdCBhbmQgYXJlIGNvbXBhcmVkIHRvIGRldGVjdAovLyBjaGFuZ2VzCi8vCi8vICdvcmlnJyBzdG9yZXMgdGhlIG9yaWdpbmFsIHN0YXRlIG9mIHRoZSBwcm9wZXJ0eQp0aGlzLl9taXhCdWZmZXJSZWdpb249bWl4RnVuY3Rpb247dGhpcy5jdW11bGF0aXZlV2VpZ2h0PTA7dGhpcy51c2VDb3VudD0wO3RoaXMucmVmZXJlbmNlQ291bnQ9MDt9T2JqZWN0LmFzc2lnbihQcm9wZXJ0eU1peGVyLnByb3RvdHlwZSx7Ly8gYWNjdW11bGF0ZSBkYXRhIGluIHRoZSAnaW5jb21pbmcnIHJlZ2lvbiBpbnRvICdhY2N1PGk+JwphY2N1bXVsYXRlOmZ1bmN0aW9uIGFjY3VtdWxhdGUoYWNjdUluZGV4LHdlaWdodCl7Ly8gbm90ZTogaGFwcGlseSBhY2N1bXVsYXRpbmcgbm90aGluZyB3aGVuIHdlaWdodCA9IDAsIHRoZSBjYWxsZXIga25vd3MKLy8gdGhlIHdlaWdodCBhbmQgc2hvdWxkbid0IGhhdmUgbWFkZSB0aGUgY2FsbCBpbiB0aGUgZmlyc3QgcGxhY2UKdmFyIGJ1ZmZlcj10aGlzLmJ1ZmZlcixzdHJpZGU9dGhpcy52YWx1ZVNpemUsb2Zmc2V0PWFjY3VJbmRleCpzdHJpZGUrc3RyaWRlLGN1cnJlbnRXZWlnaHQ9dGhpcy5jdW11bGF0aXZlV2VpZ2h0O2lmKGN1cnJlbnRXZWlnaHQ9PT0wKXsvLyBhY2N1TiA6PSBpbmNvbWluZyAqIHdlaWdodApmb3IodmFyIGk9MDtpIT09c3RyaWRlOysraSl7YnVmZmVyW29mZnNldCtpXT1idWZmZXJbaV07fWN1cnJlbnRXZWlnaHQ9d2VpZ2h0O31lbHNley8vIGFjY3VOIDo9IGFjY3VOICsgaW5jb21pbmcgKiB3ZWlnaHQKY3VycmVudFdlaWdodCs9d2VpZ2h0O3ZhciBtaXg9d2VpZ2h0L2N1cnJlbnRXZWlnaHQ7dGhpcy5fbWl4QnVmZmVyUmVnaW9uKGJ1ZmZlcixvZmZzZXQsMCxtaXgsc3RyaWRlKTt9dGhpcy5jdW11bGF0aXZlV2VpZ2h0PWN1cnJlbnRXZWlnaHQ7fSwvLyBhcHBseSB0aGUgc3RhdGUgb2YgJ2FjY3U8aT4nIHRvIHRoZSBiaW5kaW5nIHdoZW4gYWNjdXMgZGlmZmVyCmFwcGx5OmZ1bmN0aW9uIGFwcGx5KGFjY3VJbmRleCl7dmFyIHN0cmlkZT10aGlzLnZhbHVlU2l6ZSxidWZmZXI9dGhpcy5idWZmZXIsb2Zmc2V0PWFjY3VJbmRleCpzdHJpZGUrc3RyaWRlLHdlaWdodD10aGlzLmN1bXVsYXRpdmVXZWlnaHQsYmluZGluZz10aGlzLmJpbmRpbmc7dGhpcy5jdW11bGF0aXZlV2VpZ2h0PTA7aWYod2VpZ2h0PDEpey8vIGFjY3VOIDo9IGFjY3VOICsgb3JpZ2luYWwgKiAoIDEgLSBjdW11bGF0aXZlV2VpZ2h0ICkKdmFyIG9yaWdpbmFsVmFsdWVPZmZzZXQ9c3RyaWRlKjM7dGhpcy5fbWl4QnVmZmVyUmVnaW9uKGJ1ZmZlcixvZmZzZXQsb3JpZ2luYWxWYWx1ZU9mZnNldCwxLXdlaWdodCxzdHJpZGUpO31mb3IodmFyIGk9c3RyaWRlLGU9c3RyaWRlK3N0cmlkZTtpIT09ZTsrK2kpe2lmKGJ1ZmZlcltpXSE9PWJ1ZmZlcltpK3N0cmlkZV0pey8vIHZhbHVlIGhhcyBjaGFuZ2VkIC0+IHVwZGF0ZSBzY2VuZSBncmFwaApiaW5kaW5nLnNldFZhbHVlKGJ1ZmZlcixvZmZzZXQpO2JyZWFrO319fSwvLyByZW1lbWJlciB0aGUgc3RhdGUgb2YgdGhlIGJvdW5kIHByb3BlcnR5IGFuZCBjb3B5IGl0IHRvIGJvdGggYWNjdXMKc2F2ZU9yaWdpbmFsU3RhdGU6ZnVuY3Rpb24gc2F2ZU9yaWdpbmFsU3RhdGUoKXt2YXIgYmluZGluZz10aGlzLmJpbmRpbmc7dmFyIGJ1ZmZlcj10aGlzLmJ1ZmZlcixzdHJpZGU9dGhpcy52YWx1ZVNpemUsb3JpZ2luYWxWYWx1ZU9mZnNldD1zdHJpZGUqMztiaW5kaW5nLmdldFZhbHVlKGJ1ZmZlcixvcmlnaW5hbFZhbHVlT2Zmc2V0KTsvLyBhY2N1WzAuLjFdIDo9IG9yaWcgLS0gaW5pdGlhbGx5IGRldGVjdCBjaGFuZ2VzIGFnYWluc3QgdGhlIG9yaWdpbmFsCmZvcih2YXIgaT1zdHJpZGUsZT1vcmlnaW5hbFZhbHVlT2Zmc2V0O2khPT1lOysraSl7YnVmZmVyW2ldPWJ1ZmZlcltvcmlnaW5hbFZhbHVlT2Zmc2V0K2klc3RyaWRlXTt9dGhpcy5jdW11bGF0aXZlV2VpZ2h0PTA7fSwvLyBhcHBseSB0aGUgc3RhdGUgcHJldmlvdXNseSB0YWtlbiB2aWEgJ3NhdmVPcmlnaW5hbFN0YXRlJyB0byB0aGUgYmluZGluZwpyZXN0b3JlT3JpZ2luYWxTdGF0ZTpmdW5jdGlvbiByZXN0b3JlT3JpZ2luYWxTdGF0ZSgpe3ZhciBvcmlnaW5hbFZhbHVlT2Zmc2V0PXRoaXMudmFsdWVTaXplKjM7dGhpcy5iaW5kaW5nLnNldFZhbHVlKHRoaXMuYnVmZmVyLG9yaWdpbmFsVmFsdWVPZmZzZXQpO30sLy8gbWl4IGZ1bmN0aW9ucwpfc2VsZWN0OmZ1bmN0aW9uIF9zZWxlY3QoYnVmZmVyLGRzdE9mZnNldCxzcmNPZmZzZXQsdCxzdHJpZGUpe2lmKHQ+PTAuNSl7Zm9yKHZhciBpPTA7aSE9PXN0cmlkZTsrK2kpe2J1ZmZlcltkc3RPZmZzZXQraV09YnVmZmVyW3NyY09mZnNldCtpXTt9fX0sX3NsZXJwOmZ1bmN0aW9uIF9zbGVycChidWZmZXIsZHN0T2Zmc2V0LHNyY09mZnNldCx0KXtRdWF0ZXJuaW9uLnNsZXJwRmxhdChidWZmZXIsZHN0T2Zmc2V0LGJ1ZmZlcixkc3RPZmZzZXQsYnVmZmVyLHNyY09mZnNldCx0KTt9LF9sZXJwOmZ1bmN0aW9uIF9sZXJwKGJ1ZmZlcixkc3RPZmZzZXQsc3JjT2Zmc2V0LHQsc3RyaWRlKXt2YXIgcz0xLXQ7Zm9yKHZhciBpPTA7aSE9PXN0cmlkZTsrK2kpe3ZhciBqPWRzdE9mZnNldCtpO2J1ZmZlcltqXT1idWZmZXJbal0qcytidWZmZXJbc3JjT2Zmc2V0K2ldKnQ7fX19KTsvKioKICAgKgogICAqIEEgcmVmZXJlbmNlIHRvIGEgcmVhbCBwcm9wZXJ0eSBpbiB0aGUgc2NlbmUgZ3JhcGguCiAgICoKICAgKgogICAqIEBhdXRob3IgQmVuIEhvdXN0b24gLyBodHRwOi8vY2xhcmEuaW8vCiAgICogQGF1dGhvciBEYXZpZCBTYXJubyAvIGh0dHA6Ly9saWdodGhhdXMudXMvCiAgICogQGF1dGhvciB0c2NodwogICAqLyAvLyBDaGFyYWN0ZXJzIFtdLjovIGFyZSByZXNlcnZlZCBmb3IgdHJhY2sgYmluZGluZyBzeW50YXguCnZhciBfUkVTRVJWRURfQ0hBUlNfUkU9J1xcW1xcXVxcLjpcXC8nO3ZhciBfcmVzZXJ2ZWRSZT1uZXcgUmVnRXhwKCdbJytfUkVTRVJWRURfQ0hBUlNfUkUrJ10nLCdnJyk7Ly8gQXR0ZW1wdHMgdG8gYWxsb3cgbm9kZSBuYW1lcyBmcm9tIGFueSBsYW5ndWFnZS4gRVM1J3MgYFx3YCByZWdleHAgbWF0Y2hlcwovLyBvbmx5IGxhdGluIGNoYXJhY3RlcnMsIGFuZCB0aGUgdW5pY29kZSBccHtMfSBpcyBub3QgeWV0IHN1cHBvcnRlZC4gU28KLy8gaW5zdGVhZCwgd2UgZXhjbHVkZSByZXNlcnZlZCBjaGFyYWN0ZXJzIGFuZCBtYXRjaCBldmVyeXRoaW5nIGVsc2UuCnZhciBfd29yZENoYXI9J1teJytfUkVTRVJWRURfQ0hBUlNfUkUrJ10nO3ZhciBfd29yZENoYXJPckRvdD0nW14nK19SRVNFUlZFRF9DSEFSU19SRS5yZXBsYWNlKCdcXC4nLCcnKSsnXSc7Ly8gUGFyZW50IGRpcmVjdG9yaWVzLCBkZWxpbWl0ZWQgYnkgJy8nIG9yICc6Jy4gQ3VycmVudGx5IHVudXNlZCwgYnV0IG11c3QKLy8gYmUgbWF0Y2hlZCB0byBwYXJzZSB0aGUgcmVzdCBvZiB0aGUgdHJhY2sgbmFtZS4KdmFyIF9kaXJlY3RvcnlSZT0vKCg/OldDK1tcLzpdKSopLy5zb3VyY2UucmVwbGFjZSgnV0MnLF93b3JkQ2hhcik7Ly8gVGFyZ2V0IG5vZGUuIE1heSBjb250YWluIHdvcmQgY2hhcmFjdGVycyAoYS16QS1aMC05XykgYW5kICcuJyBvciAnLScuCnZhciBfbm9kZVJlPS8oV0NPRCspPy8uc291cmNlLnJlcGxhY2UoJ1dDT0QnLF93b3JkQ2hhck9yRG90KTsvLyBPYmplY3Qgb24gdGFyZ2V0IG5vZGUsIGFuZCBhY2Nlc3Nvci4gTWF5IG5vdCBjb250YWluIHJlc2VydmVkCi8vIGNoYXJhY3RlcnMuIEFjY2Vzc29yIG1heSBjb250YWluIGFueSBjaGFyYWN0ZXIgZXhjZXB0IGNsb3NpbmcgYnJhY2tldC4KdmFyIF9vYmplY3RSZT0vKD86XC4oV0MrKSg/OlxbKC4rKVxdKT8pPy8uc291cmNlLnJlcGxhY2UoJ1dDJyxfd29yZENoYXIpOy8vIFByb3BlcnR5IGFuZCBhY2Nlc3Nvci4gTWF5IG5vdCBjb250YWluIHJlc2VydmVkIGNoYXJhY3RlcnMuIEFjY2Vzc29yIG1heQovLyBjb250YWluIGFueSBub24tYnJhY2tldCBjaGFyYWN0ZXJzLgp2YXIgX3Byb3BlcnR5UmU9L1wuKFdDKykoPzpcWyguKylcXSk/Ly5zb3VyY2UucmVwbGFjZSgnV0MnLF93b3JkQ2hhcik7dmFyIF90cmFja1JlPW5ldyBSZWdFeHAoJycrJ14nK19kaXJlY3RvcnlSZStfbm9kZVJlK19vYmplY3RSZStfcHJvcGVydHlSZSsnJCcpO3ZhciBfc3VwcG9ydGVkT2JqZWN0TmFtZXM9WydtYXRlcmlhbCcsJ21hdGVyaWFscycsJ2JvbmVzJ107ZnVuY3Rpb24gQ29tcG9zaXRlKHRhcmdldEdyb3VwLHBhdGgsb3B0aW9uYWxQYXJzZWRQYXRoKXt2YXIgcGFyc2VkUGF0aD1vcHRpb25hbFBhcnNlZFBhdGh8fFByb3BlcnR5QmluZGluZy5wYXJzZVRyYWNrTmFtZShwYXRoKTt0aGlzLl90YXJnZXRHcm91cD10YXJnZXRHcm91cDt0aGlzLl9iaW5kaW5ncz10YXJnZXRHcm91cC5zdWJzY3JpYmVfKHBhdGgscGFyc2VkUGF0aCk7fU9iamVjdC5hc3NpZ24oQ29tcG9zaXRlLnByb3RvdHlwZSx7Z2V0VmFsdWU6ZnVuY3Rpb24gZ2V0VmFsdWUoYXJyYXksb2Zmc2V0KXt0aGlzLmJpbmQoKTsvLyBiaW5kIGFsbCBiaW5kaW5nCnZhciBmaXJzdFZhbGlkSW5kZXg9dGhpcy5fdGFyZ2V0R3JvdXAubkNhY2hlZE9iamVjdHNfLGJpbmRpbmc9dGhpcy5fYmluZGluZ3NbZmlyc3RWYWxpZEluZGV4XTsvLyBhbmQgb25seSBjYWxsIC5nZXRWYWx1ZSBvbiB0aGUgZmlyc3QKaWYoYmluZGluZyE9PXVuZGVmaW5lZCl7YmluZGluZy5nZXRWYWx1ZShhcnJheSxvZmZzZXQpO319LHNldFZhbHVlOmZ1bmN0aW9uIHNldFZhbHVlKGFycmF5LG9mZnNldCl7dmFyIGJpbmRpbmdzPXRoaXMuX2JpbmRpbmdzO2Zvcih2YXIgaT10aGlzLl90YXJnZXRHcm91cC5uQ2FjaGVkT2JqZWN0c18sbj1iaW5kaW5ncy5sZW5ndGg7aSE9PW47KytpKXtiaW5kaW5nc1tpXS5zZXRWYWx1ZShhcnJheSxvZmZzZXQpO319LGJpbmQ6ZnVuY3Rpb24gYmluZCgpe3ZhciBiaW5kaW5ncz10aGlzLl9iaW5kaW5ncztmb3IodmFyIGk9dGhpcy5fdGFyZ2V0R3JvdXAubkNhY2hlZE9iamVjdHNfLG49YmluZGluZ3MubGVuZ3RoO2khPT1uOysraSl7YmluZGluZ3NbaV0uYmluZCgpO319LHVuYmluZDpmdW5jdGlvbiB1bmJpbmQoKXt2YXIgYmluZGluZ3M9dGhpcy5fYmluZGluZ3M7Zm9yKHZhciBpPXRoaXMuX3RhcmdldEdyb3VwLm5DYWNoZWRPYmplY3RzXyxuPWJpbmRpbmdzLmxlbmd0aDtpIT09bjsrK2kpe2JpbmRpbmdzW2ldLnVuYmluZCgpO319fSk7ZnVuY3Rpb24gUHJvcGVydHlCaW5kaW5nKHJvb3ROb2RlLHBhdGgscGFyc2VkUGF0aCl7dGhpcy5wYXRoPXBhdGg7dGhpcy5wYXJzZWRQYXRoPXBhcnNlZFBhdGh8fFByb3BlcnR5QmluZGluZy5wYXJzZVRyYWNrTmFtZShwYXRoKTt0aGlzLm5vZGU9UHJvcGVydHlCaW5kaW5nLmZpbmROb2RlKHJvb3ROb2RlLHRoaXMucGFyc2VkUGF0aC5ub2RlTmFtZSl8fHJvb3ROb2RlO3RoaXMucm9vdE5vZGU9cm9vdE5vZGU7fU9iamVjdC5hc3NpZ24oUHJvcGVydHlCaW5kaW5nLHtDb21wb3NpdGU6Q29tcG9zaXRlLGNyZWF0ZTpmdW5jdGlvbiBjcmVhdGUocm9vdCxwYXRoLHBhcnNlZFBhdGgpe2lmKCEocm9vdCYmcm9vdC5pc0FuaW1hdGlvbk9iamVjdEdyb3VwKSl7cmV0dXJuIG5ldyBQcm9wZXJ0eUJpbmRpbmcocm9vdCxwYXRoLHBhcnNlZFBhdGgpO31lbHNle3JldHVybiBuZXcgUHJvcGVydHlCaW5kaW5nLkNvbXBvc2l0ZShyb290LHBhdGgscGFyc2VkUGF0aCk7fX0sLyoqCiAgICAgKiBSZXBsYWNlcyBzcGFjZXMgd2l0aCB1bmRlcnNjb3JlcyBhbmQgcmVtb3ZlcyB1bnN1cHBvcnRlZCBjaGFyYWN0ZXJzIGZyb20KICAgICAqIG5vZGUgbmFtZXMsIHRvIGVuc3VyZSBjb21wYXRpYmlsaXR5IHdpdGggcGFyc2VUcmFja05hbWUoKS4KICAgICAqCiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBOb2RlIG5hbWUgdG8gYmUgc2FuaXRpemVkLgogICAgICogQHJldHVybiB7c3RyaW5nfQogICAgICovc2FuaXRpemVOb2RlTmFtZTpmdW5jdGlvbiBzYW5pdGl6ZU5vZGVOYW1lKG5hbWUpe3JldHVybiBuYW1lLnJlcGxhY2UoL1xzL2csJ18nKS5yZXBsYWNlKF9yZXNlcnZlZFJlLCcnKTt9LHBhcnNlVHJhY2tOYW1lOmZ1bmN0aW9uIHBhcnNlVHJhY2tOYW1lKHRyYWNrTmFtZSl7dmFyIG1hdGNoZXM9X3RyYWNrUmUuZXhlYyh0cmFja05hbWUpO2lmKCFtYXRjaGVzKXt0aHJvdyBuZXcgRXJyb3IoJ1Byb3BlcnR5QmluZGluZzogQ2Fubm90IHBhcnNlIHRyYWNrTmFtZTogJyt0cmFja05hbWUpO312YXIgcmVzdWx0cz17Ly8gZGlyZWN0b3J5TmFtZTogbWF0Y2hlc1sgMSBdLCAvLyAodHNjaHcpIGN1cnJlbnRseSB1bnVzZWQKbm9kZU5hbWU6bWF0Y2hlc1syXSxvYmplY3ROYW1lOm1hdGNoZXNbM10sb2JqZWN0SW5kZXg6bWF0Y2hlc1s0XSxwcm9wZXJ0eU5hbWU6bWF0Y2hlc1s1XSwvLyByZXF1aXJlZApwcm9wZXJ0eUluZGV4Om1hdGNoZXNbNl19O3ZhciBsYXN0RG90PXJlc3VsdHMubm9kZU5hbWUmJnJlc3VsdHMubm9kZU5hbWUubGFzdEluZGV4T2YoJy4nKTtpZihsYXN0RG90IT09dW5kZWZpbmVkJiZsYXN0RG90IT09LTEpe3ZhciBvYmplY3ROYW1lPXJlc3VsdHMubm9kZU5hbWUuc3Vic3RyaW5nKGxhc3REb3QrMSk7Ly8gT2JqZWN0IG5hbWVzIG11c3QgYmUgY2hlY2tlZCBhZ2FpbnN0IGEgd2hpdGVsaXN0LiBPdGhlcndpc2UsIHRoZXJlCi8vIGlzIG5vIHdheSB0byBwYXJzZSAnZm9vLmJhci5iYXonOiAnYmF6JyBtdXN0IGJlIGEgcHJvcGVydHksIGJ1dAovLyAnYmFyJyBjb3VsZCBiZSB0aGUgb2JqZWN0TmFtZSwgb3IgcGFydCBvZiBhIG5vZGVOYW1lICh3aGljaCBjYW4KLy8gaW5jbHVkZSAnLicgY2hhcmFjdGVycykuCmlmKF9zdXBwb3J0ZWRPYmplY3ROYW1lcy5pbmRleE9mKG9iamVjdE5hbWUpIT09LTEpe3Jlc3VsdHMubm9kZU5hbWU9cmVzdWx0cy5ub2RlTmFtZS5zdWJzdHJpbmcoMCxsYXN0RG90KTtyZXN1bHRzLm9iamVjdE5hbWU9b2JqZWN0TmFtZTt9fWlmKHJlc3VsdHMucHJvcGVydHlOYW1lPT09bnVsbHx8cmVzdWx0cy5wcm9wZXJ0eU5hbWUubGVuZ3RoPT09MCl7dGhyb3cgbmV3IEVycm9yKCdQcm9wZXJ0eUJpbmRpbmc6IGNhbiBub3QgcGFyc2UgcHJvcGVydHlOYW1lIGZyb20gdHJhY2tOYW1lOiAnK3RyYWNrTmFtZSk7fXJldHVybiByZXN1bHRzO30sZmluZE5vZGU6ZnVuY3Rpb24gZmluZE5vZGUocm9vdCxub2RlTmFtZSl7aWYoIW5vZGVOYW1lfHxub2RlTmFtZT09PSIifHxub2RlTmFtZT09PSJyb290Inx8bm9kZU5hbWU9PT0iLiJ8fG5vZGVOYW1lPT09LTF8fG5vZGVOYW1lPT09cm9vdC5uYW1lfHxub2RlTmFtZT09PXJvb3QudXVpZCl7cmV0dXJuIHJvb3Q7fS8vIHNlYXJjaCBpbnRvIHNrZWxldG9uIGJvbmVzLgppZihyb290LnNrZWxldG9uKXt2YXIgYm9uZT1yb290LnNrZWxldG9uLmdldEJvbmVCeU5hbWUobm9kZU5hbWUpO2lmKGJvbmUhPT11bmRlZmluZWQpe3JldHVybiBib25lO319Ly8gc2VhcmNoIGludG8gbm9kZSBzdWJ0cmVlLgppZihyb290LmNoaWxkcmVuKXt2YXIgc2VhcmNoTm9kZVN1YnRyZWU9ZnVuY3Rpb24gc2VhcmNoTm9kZVN1YnRyZWUoY2hpbGRyZW4pe2Zvcih2YXIgaT0wO2k8Y2hpbGRyZW4ubGVuZ3RoO2krKyl7dmFyIGNoaWxkTm9kZT1jaGlsZHJlbltpXTtpZihjaGlsZE5vZGUubmFtZT09PW5vZGVOYW1lfHxjaGlsZE5vZGUudXVpZD09PW5vZGVOYW1lKXtyZXR1cm4gY2hpbGROb2RlO312YXIgcmVzdWx0PXNlYXJjaE5vZGVTdWJ0cmVlKGNoaWxkTm9kZS5jaGlsZHJlbik7aWYocmVzdWx0KXtyZXR1cm4gcmVzdWx0O319cmV0dXJuIG51bGw7fTt2YXIgc3ViVHJlZU5vZGU9c2VhcmNoTm9kZVN1YnRyZWUocm9vdC5jaGlsZHJlbik7aWYoc3ViVHJlZU5vZGUpe3JldHVybiBzdWJUcmVlTm9kZTt9fXJldHVybiBudWxsO319KTtPYmplY3QuYXNzaWduKFByb3BlcnR5QmluZGluZy5wcm90b3R5cGUsey8vIHByb3RvdHlwZSwgY29udGludWVkCi8vIHRoZXNlIGFyZSB1c2VkIHRvICJiaW5kIiBhIG5vbmV4aXN0ZW50IHByb3BlcnR5Cl9nZXRWYWx1ZV91bmF2YWlsYWJsZTpmdW5jdGlvbiBfZ2V0VmFsdWVfdW5hdmFpbGFibGUoKXt9LF9zZXRWYWx1ZV91bmF2YWlsYWJsZTpmdW5jdGlvbiBfc2V0VmFsdWVfdW5hdmFpbGFibGUoKXt9LEJpbmRpbmdUeXBlOntEaXJlY3Q6MCxFbnRpcmVBcnJheToxLEFycmF5RWxlbWVudDoyLEhhc0Zyb21Ub0FycmF5OjN9LFZlcnNpb25pbmc6e05vbmU6MCxOZWVkc1VwZGF0ZToxLE1hdHJpeFdvcmxkTmVlZHNVcGRhdGU6Mn0sR2V0dGVyQnlCaW5kaW5nVHlwZTpbZnVuY3Rpb24gZ2V0VmFsdWVfZGlyZWN0KGJ1ZmZlcixvZmZzZXQpe2J1ZmZlcltvZmZzZXRdPXRoaXMubm9kZVt0aGlzLnByb3BlcnR5TmFtZV07fSxmdW5jdGlvbiBnZXRWYWx1ZV9hcnJheShidWZmZXIsb2Zmc2V0KXt2YXIgc291cmNlPXRoaXMucmVzb2x2ZWRQcm9wZXJ0eTtmb3IodmFyIGk9MCxuPXNvdXJjZS5sZW5ndGg7aSE9PW47KytpKXtidWZmZXJbb2Zmc2V0KytdPXNvdXJjZVtpXTt9fSxmdW5jdGlvbiBnZXRWYWx1ZV9hcnJheUVsZW1lbnQoYnVmZmVyLG9mZnNldCl7YnVmZmVyW29mZnNldF09dGhpcy5yZXNvbHZlZFByb3BlcnR5W3RoaXMucHJvcGVydHlJbmRleF07fSxmdW5jdGlvbiBnZXRWYWx1ZV90b0FycmF5KGJ1ZmZlcixvZmZzZXQpe3RoaXMucmVzb2x2ZWRQcm9wZXJ0eS50b0FycmF5KGJ1ZmZlcixvZmZzZXQpO31dLFNldHRlckJ5QmluZGluZ1R5cGVBbmRWZXJzaW9uaW5nOltbLy8gRGlyZWN0CmZ1bmN0aW9uIHNldFZhbHVlX2RpcmVjdChidWZmZXIsb2Zmc2V0KXt0aGlzLnRhcmdldE9iamVjdFt0aGlzLnByb3BlcnR5TmFtZV09YnVmZmVyW29mZnNldF07fSxmdW5jdGlvbiBzZXRWYWx1ZV9kaXJlY3Rfc2V0TmVlZHNVcGRhdGUoYnVmZmVyLG9mZnNldCl7dGhpcy50YXJnZXRPYmplY3RbdGhpcy5wcm9wZXJ0eU5hbWVdPWJ1ZmZlcltvZmZzZXRdO3RoaXMudGFyZ2V0T2JqZWN0Lm5lZWRzVXBkYXRlPXRydWU7fSxmdW5jdGlvbiBzZXRWYWx1ZV9kaXJlY3Rfc2V0TWF0cml4V29ybGROZWVkc1VwZGF0ZShidWZmZXIsb2Zmc2V0KXt0aGlzLnRhcmdldE9iamVjdFt0aGlzLnByb3BlcnR5TmFtZV09YnVmZmVyW29mZnNldF07dGhpcy50YXJnZXRPYmplY3QubWF0cml4V29ybGROZWVkc1VwZGF0ZT10cnVlO31dLFsvLyBFbnRpcmVBcnJheQpmdW5jdGlvbiBzZXRWYWx1ZV9hcnJheShidWZmZXIsb2Zmc2V0KXt2YXIgZGVzdD10aGlzLnJlc29sdmVkUHJvcGVydHk7Zm9yKHZhciBpPTAsbj1kZXN0Lmxlbmd0aDtpIT09bjsrK2kpe2Rlc3RbaV09YnVmZmVyW29mZnNldCsrXTt9fSxmdW5jdGlvbiBzZXRWYWx1ZV9hcnJheV9zZXROZWVkc1VwZGF0ZShidWZmZXIsb2Zmc2V0KXt2YXIgZGVzdD10aGlzLnJlc29sdmVkUHJvcGVydHk7Zm9yKHZhciBpPTAsbj1kZXN0Lmxlbmd0aDtpIT09bjsrK2kpe2Rlc3RbaV09YnVmZmVyW29mZnNldCsrXTt9dGhpcy50YXJnZXRPYmplY3QubmVlZHNVcGRhdGU9dHJ1ZTt9LGZ1bmN0aW9uIHNldFZhbHVlX2FycmF5X3NldE1hdHJpeFdvcmxkTmVlZHNVcGRhdGUoYnVmZmVyLG9mZnNldCl7dmFyIGRlc3Q9dGhpcy5yZXNvbHZlZFByb3BlcnR5O2Zvcih2YXIgaT0wLG49ZGVzdC5sZW5ndGg7aSE9PW47KytpKXtkZXN0W2ldPWJ1ZmZlcltvZmZzZXQrK107fXRoaXMudGFyZ2V0T2JqZWN0Lm1hdHJpeFdvcmxkTmVlZHNVcGRhdGU9dHJ1ZTt9XSxbLy8gQXJyYXlFbGVtZW50CmZ1bmN0aW9uIHNldFZhbHVlX2FycmF5RWxlbWVudChidWZmZXIsb2Zmc2V0KXt0aGlzLnJlc29sdmVkUHJvcGVydHlbdGhpcy5wcm9wZXJ0eUluZGV4XT1idWZmZXJbb2Zmc2V0XTt9LGZ1bmN0aW9uIHNldFZhbHVlX2FycmF5RWxlbWVudF9zZXROZWVkc1VwZGF0ZShidWZmZXIsb2Zmc2V0KXt0aGlzLnJlc29sdmVkUHJvcGVydHlbdGhpcy5wcm9wZXJ0eUluZGV4XT1idWZmZXJbb2Zmc2V0XTt0aGlzLnRhcmdldE9iamVjdC5uZWVkc1VwZGF0ZT10cnVlO30sZnVuY3Rpb24gc2V0VmFsdWVfYXJyYXlFbGVtZW50X3NldE1hdHJpeFdvcmxkTmVlZHNVcGRhdGUoYnVmZmVyLG9mZnNldCl7dGhpcy5yZXNvbHZlZFByb3BlcnR5W3RoaXMucHJvcGVydHlJbmRleF09YnVmZmVyW29mZnNldF07dGhpcy50YXJnZXRPYmplY3QubWF0cml4V29ybGROZWVkc1VwZGF0ZT10cnVlO31dLFsvLyBIYXNUb0Zyb21BcnJheQpmdW5jdGlvbiBzZXRWYWx1ZV9mcm9tQXJyYXkoYnVmZmVyLG9mZnNldCl7dGhpcy5yZXNvbHZlZFByb3BlcnR5LmZyb21BcnJheShidWZmZXIsb2Zmc2V0KTt9LGZ1bmN0aW9uIHNldFZhbHVlX2Zyb21BcnJheV9zZXROZWVkc1VwZGF0ZShidWZmZXIsb2Zmc2V0KXt0aGlzLnJlc29sdmVkUHJvcGVydHkuZnJvbUFycmF5KGJ1ZmZlcixvZmZzZXQpO3RoaXMudGFyZ2V0T2JqZWN0Lm5lZWRzVXBkYXRlPXRydWU7fSxmdW5jdGlvbiBzZXRWYWx1ZV9mcm9tQXJyYXlfc2V0TWF0cml4V29ybGROZWVkc1VwZGF0ZShidWZmZXIsb2Zmc2V0KXt0aGlzLnJlc29sdmVkUHJvcGVydHkuZnJvbUFycmF5KGJ1ZmZlcixvZmZzZXQpO3RoaXMudGFyZ2V0T2JqZWN0Lm1hdHJpeFdvcmxkTmVlZHNVcGRhdGU9dHJ1ZTt9XV0sZ2V0VmFsdWU6ZnVuY3Rpb24gZ2V0VmFsdWVfdW5ib3VuZCh0YXJnZXRBcnJheSxvZmZzZXQpe3RoaXMuYmluZCgpO3RoaXMuZ2V0VmFsdWUodGFyZ2V0QXJyYXksb2Zmc2V0KTsvLyBOb3RlOiBUaGlzIGNsYXNzIHVzZXMgYSBTdGF0ZSBwYXR0ZXJuIG9uIGEgcGVyLW1ldGhvZCBiYXNpczoKLy8gJ2JpbmQnIHNldHMgJ3RoaXMuZ2V0VmFsdWUnIC8gJ3NldFZhbHVlJyBhbmQgc2hhZG93cyB0aGUKLy8gcHJvdG90eXBlIHZlcnNpb24gb2YgdGhlc2UgbWV0aG9kcyB3aXRoIG9uZSB0aGF0IHJlcHJlc2VudHMKLy8gdGhlIGJvdW5kIHN0YXRlLiBXaGVuIHRoZSBwcm9wZXJ0eSBpcyBub3QgZm91bmQsIHRoZSBtZXRob2RzCi8vIGJlY29tZSBuby1vcHMuCn0sc2V0VmFsdWU6ZnVuY3Rpb24gZ2V0VmFsdWVfdW5ib3VuZChzb3VyY2VBcnJheSxvZmZzZXQpe3RoaXMuYmluZCgpO3RoaXMuc2V0VmFsdWUoc291cmNlQXJyYXksb2Zmc2V0KTt9LC8vIGNyZWF0ZSBnZXR0ZXIgLyBzZXR0ZXIgcGFpciBmb3IgYSBwcm9wZXJ0eSBpbiB0aGUgc2NlbmUgZ3JhcGgKYmluZDpmdW5jdGlvbiBiaW5kKCl7dmFyIHRhcmdldE9iamVjdD10aGlzLm5vZGUscGFyc2VkUGF0aD10aGlzLnBhcnNlZFBhdGgsb2JqZWN0TmFtZT1wYXJzZWRQYXRoLm9iamVjdE5hbWUscHJvcGVydHlOYW1lPXBhcnNlZFBhdGgucHJvcGVydHlOYW1lLHByb3BlcnR5SW5kZXg9cGFyc2VkUGF0aC5wcm9wZXJ0eUluZGV4O2lmKCF0YXJnZXRPYmplY3Qpe3RhcmdldE9iamVjdD1Qcm9wZXJ0eUJpbmRpbmcuZmluZE5vZGUodGhpcy5yb290Tm9kZSxwYXJzZWRQYXRoLm5vZGVOYW1lKXx8dGhpcy5yb290Tm9kZTt0aGlzLm5vZGU9dGFyZ2V0T2JqZWN0O30vLyBzZXQgZmFpbCBzdGF0ZSBzbyB3ZSBjYW4ganVzdCAncmV0dXJuJyBvbiBlcnJvcgp0aGlzLmdldFZhbHVlPXRoaXMuX2dldFZhbHVlX3VuYXZhaWxhYmxlO3RoaXMuc2V0VmFsdWU9dGhpcy5fc2V0VmFsdWVfdW5hdmFpbGFibGU7Ly8gZW5zdXJlIHRoZXJlIGlzIGEgdmFsdWUgbm9kZQppZighdGFyZ2V0T2JqZWN0KXtjb25zb2xlLmVycm9yKCdUSFJFRS5Qcm9wZXJ0eUJpbmRpbmc6IFRyeWluZyB0byB1cGRhdGUgbm9kZSBmb3IgdHJhY2s6ICcrdGhpcy5wYXRoKycgYnV0IGl0IHdhc25cJ3QgZm91bmQuJyk7cmV0dXJuO31pZihvYmplY3ROYW1lKXt2YXIgb2JqZWN0SW5kZXg9cGFyc2VkUGF0aC5vYmplY3RJbmRleDsvLyBzcGVjaWFsIGNhc2VzIHdlcmUgd2UgbmVlZCB0byByZWFjaCBkZWVwZXIgaW50byB0aGUgaGllcmFyY2h5IHRvIGdldCB0aGUgZmFjZSBtYXRlcmlhbHMuLi4uCnN3aXRjaChvYmplY3ROYW1lKXtjYXNlJ21hdGVyaWFscyc6aWYoIXRhcmdldE9iamVjdC5tYXRlcmlhbCl7Y29uc29sZS5lcnJvcignVEhSRUUuUHJvcGVydHlCaW5kaW5nOiBDYW4gbm90IGJpbmQgdG8gbWF0ZXJpYWwgYXMgbm9kZSBkb2VzIG5vdCBoYXZlIGEgbWF0ZXJpYWwuJyx0aGlzKTtyZXR1cm47fWlmKCF0YXJnZXRPYmplY3QubWF0ZXJpYWwubWF0ZXJpYWxzKXtjb25zb2xlLmVycm9yKCdUSFJFRS5Qcm9wZXJ0eUJpbmRpbmc6IENhbiBub3QgYmluZCB0byBtYXRlcmlhbC5tYXRlcmlhbHMgYXMgbm9kZS5tYXRlcmlhbCBkb2VzIG5vdCBoYXZlIGEgbWF0ZXJpYWxzIGFycmF5LicsdGhpcyk7cmV0dXJuO310YXJnZXRPYmplY3Q9dGFyZ2V0T2JqZWN0Lm1hdGVyaWFsLm1hdGVyaWFsczticmVhaztjYXNlJ2JvbmVzJzppZighdGFyZ2V0T2JqZWN0LnNrZWxldG9uKXtjb25zb2xlLmVycm9yKCdUSFJFRS5Qcm9wZXJ0eUJpbmRpbmc6IENhbiBub3QgYmluZCB0byBib25lcyBhcyBub2RlIGRvZXMgbm90IGhhdmUgYSBza2VsZXRvbi4nLHRoaXMpO3JldHVybjt9Ly8gcG90ZW50aWFsIGZ1dHVyZSBvcHRpbWl6YXRpb246IHNraXAgdGhpcyBpZiBwcm9wZXJ0eUluZGV4IGlzIGFscmVhZHkgYW4gaW50ZWdlcgovLyBhbmQgY29udmVydCB0aGUgaW50ZWdlciBzdHJpbmcgdG8gYSB0cnVlIGludGVnZXIuCnRhcmdldE9iamVjdD10YXJnZXRPYmplY3Quc2tlbGV0b24uYm9uZXM7Ly8gc3VwcG9ydCByZXNvbHZpbmcgbW9ycGhUYXJnZXQgbmFtZXMgaW50byBpbmRpY2VzLgpmb3IodmFyIGk9MDtpPHRhcmdldE9iamVjdC5sZW5ndGg7aSsrKXtpZih0YXJnZXRPYmplY3RbaV0ubmFtZT09PW9iamVjdEluZGV4KXtvYmplY3RJbmRleD1pO2JyZWFrO319YnJlYWs7ZGVmYXVsdDppZih0YXJnZXRPYmplY3Rbb2JqZWN0TmFtZV09PT11bmRlZmluZWQpe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLlByb3BlcnR5QmluZGluZzogQ2FuIG5vdCBiaW5kIHRvIG9iamVjdE5hbWUgb2Ygbm9kZSB1bmRlZmluZWQuJyx0aGlzKTtyZXR1cm47fXRhcmdldE9iamVjdD10YXJnZXRPYmplY3Rbb2JqZWN0TmFtZV07fWlmKG9iamVjdEluZGV4IT09dW5kZWZpbmVkKXtpZih0YXJnZXRPYmplY3Rbb2JqZWN0SW5kZXhdPT09dW5kZWZpbmVkKXtjb25zb2xlLmVycm9yKCdUSFJFRS5Qcm9wZXJ0eUJpbmRpbmc6IFRyeWluZyB0byBiaW5kIHRvIG9iamVjdEluZGV4IG9mIG9iamVjdE5hbWUsIGJ1dCBpcyB1bmRlZmluZWQuJyx0aGlzLHRhcmdldE9iamVjdCk7cmV0dXJuO310YXJnZXRPYmplY3Q9dGFyZ2V0T2JqZWN0W29iamVjdEluZGV4XTt9fS8vIHJlc29sdmUgcHJvcGVydHkKdmFyIG5vZGVQcm9wZXJ0eT10YXJnZXRPYmplY3RbcHJvcGVydHlOYW1lXTtpZihub2RlUHJvcGVydHk9PT11bmRlZmluZWQpe3ZhciBub2RlTmFtZT1wYXJzZWRQYXRoLm5vZGVOYW1lO2NvbnNvbGUuZXJyb3IoJ1RIUkVFLlByb3BlcnR5QmluZGluZzogVHJ5aW5nIHRvIHVwZGF0ZSBwcm9wZXJ0eSBmb3IgdHJhY2s6ICcrbm9kZU5hbWUrJy4nK3Byb3BlcnR5TmFtZSsnIGJ1dCBpdCB3YXNuXCd0IGZvdW5kLicsdGFyZ2V0T2JqZWN0KTtyZXR1cm47fS8vIGRldGVybWluZSB2ZXJzaW9uaW5nIHNjaGVtZQp2YXIgdmVyc2lvbmluZz10aGlzLlZlcnNpb25pbmcuTm9uZTt0aGlzLnRhcmdldE9iamVjdD10YXJnZXRPYmplY3Q7aWYodGFyZ2V0T2JqZWN0Lm5lZWRzVXBkYXRlIT09dW5kZWZpbmVkKXsvLyBtYXRlcmlhbAp2ZXJzaW9uaW5nPXRoaXMuVmVyc2lvbmluZy5OZWVkc1VwZGF0ZTt9ZWxzZSBpZih0YXJnZXRPYmplY3QubWF0cml4V29ybGROZWVkc1VwZGF0ZSE9PXVuZGVmaW5lZCl7Ly8gbm9kZSB0cmFuc2Zvcm0KdmVyc2lvbmluZz10aGlzLlZlcnNpb25pbmcuTWF0cml4V29ybGROZWVkc1VwZGF0ZTt9Ly8gZGV0ZXJtaW5lIGhvdyB0aGUgcHJvcGVydHkgZ2V0cyBib3VuZAp2YXIgYmluZGluZ1R5cGU9dGhpcy5CaW5kaW5nVHlwZS5EaXJlY3Q7aWYocHJvcGVydHlJbmRleCE9PXVuZGVmaW5lZCl7Ly8gYWNjZXNzIGEgc3ViIGVsZW1lbnQgb2YgdGhlIHByb3BlcnR5IGFycmF5IChvbmx5IHByaW1pdGl2ZXMgYXJlIHN1cHBvcnRlZCByaWdodCBub3cpCmlmKHByb3BlcnR5TmFtZT09PSJtb3JwaFRhcmdldEluZmx1ZW5jZXMiKXsvLyBwb3RlbnRpYWwgb3B0aW1pemF0aW9uLCBza2lwIHRoaXMgaWYgcHJvcGVydHlJbmRleCBpcyBhbHJlYWR5IGFuIGludGVnZXIsIGFuZCBjb252ZXJ0IHRoZSBpbnRlZ2VyIHN0cmluZyB0byBhIHRydWUgaW50ZWdlci4KLy8gc3VwcG9ydCByZXNvbHZpbmcgbW9ycGhUYXJnZXQgbmFtZXMgaW50byBpbmRpY2VzLgppZighdGFyZ2V0T2JqZWN0Lmdlb21ldHJ5KXtjb25zb2xlLmVycm9yKCdUSFJFRS5Qcm9wZXJ0eUJpbmRpbmc6IENhbiBub3QgYmluZCB0byBtb3JwaFRhcmdldEluZmx1ZW5jZXMgYmVjYXVzZSBub2RlIGRvZXMgbm90IGhhdmUgYSBnZW9tZXRyeS4nLHRoaXMpO3JldHVybjt9aWYodGFyZ2V0T2JqZWN0Lmdlb21ldHJ5LmlzQnVmZmVyR2VvbWV0cnkpe2lmKCF0YXJnZXRPYmplY3QuZ2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzKXtjb25zb2xlLmVycm9yKCdUSFJFRS5Qcm9wZXJ0eUJpbmRpbmc6IENhbiBub3QgYmluZCB0byBtb3JwaFRhcmdldEluZmx1ZW5jZXMgYmVjYXVzZSBub2RlIGRvZXMgbm90IGhhdmUgYSBnZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXMuJyx0aGlzKTtyZXR1cm47fWZvcih2YXIgaT0wO2k8dGhpcy5ub2RlLmdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlcy5wb3NpdGlvbi5sZW5ndGg7aSsrKXtpZih0YXJnZXRPYmplY3QuZ2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzLnBvc2l0aW9uW2ldLm5hbWU9PT1wcm9wZXJ0eUluZGV4KXtwcm9wZXJ0eUluZGV4PWk7YnJlYWs7fX19ZWxzZXtpZighdGFyZ2V0T2JqZWN0Lmdlb21ldHJ5Lm1vcnBoVGFyZ2V0cyl7Y29uc29sZS5lcnJvcignVEhSRUUuUHJvcGVydHlCaW5kaW5nOiBDYW4gbm90IGJpbmQgdG8gbW9ycGhUYXJnZXRJbmZsdWVuY2VzIGJlY2F1c2Ugbm9kZSBkb2VzIG5vdCBoYXZlIGEgZ2VvbWV0cnkubW9ycGhUYXJnZXRzLicsdGhpcyk7cmV0dXJuO31mb3IodmFyIGk9MDtpPHRoaXMubm9kZS5nZW9tZXRyeS5tb3JwaFRhcmdldHMubGVuZ3RoO2krKyl7aWYodGFyZ2V0T2JqZWN0Lmdlb21ldHJ5Lm1vcnBoVGFyZ2V0c1tpXS5uYW1lPT09cHJvcGVydHlJbmRleCl7cHJvcGVydHlJbmRleD1pO2JyZWFrO319fX1iaW5kaW5nVHlwZT10aGlzLkJpbmRpbmdUeXBlLkFycmF5RWxlbWVudDt0aGlzLnJlc29sdmVkUHJvcGVydHk9bm9kZVByb3BlcnR5O3RoaXMucHJvcGVydHlJbmRleD1wcm9wZXJ0eUluZGV4O31lbHNlIGlmKG5vZGVQcm9wZXJ0eS5mcm9tQXJyYXkhPT11bmRlZmluZWQmJm5vZGVQcm9wZXJ0eS50b0FycmF5IT09dW5kZWZpbmVkKXsvLyBtdXN0IHVzZSBjb3B5IGZvciBPYmplY3QzRC5FdWxlci9RdWF0ZXJuaW9uCmJpbmRpbmdUeXBlPXRoaXMuQmluZGluZ1R5cGUuSGFzRnJvbVRvQXJyYXk7dGhpcy5yZXNvbHZlZFByb3BlcnR5PW5vZGVQcm9wZXJ0eTt9ZWxzZSBpZihBcnJheS5pc0FycmF5KG5vZGVQcm9wZXJ0eSkpe2JpbmRpbmdUeXBlPXRoaXMuQmluZGluZ1R5cGUuRW50aXJlQXJyYXk7dGhpcy5yZXNvbHZlZFByb3BlcnR5PW5vZGVQcm9wZXJ0eTt9ZWxzZXt0aGlzLnByb3BlcnR5TmFtZT1wcm9wZXJ0eU5hbWU7fS8vIHNlbGVjdCBnZXR0ZXIgLyBzZXR0ZXIKdGhpcy5nZXRWYWx1ZT10aGlzLkdldHRlckJ5QmluZGluZ1R5cGVbYmluZGluZ1R5cGVdO3RoaXMuc2V0VmFsdWU9dGhpcy5TZXR0ZXJCeUJpbmRpbmdUeXBlQW5kVmVyc2lvbmluZ1tiaW5kaW5nVHlwZV1bdmVyc2lvbmluZ107fSx1bmJpbmQ6ZnVuY3Rpb24gdW5iaW5kKCl7dGhpcy5ub2RlPW51bGw7Ly8gYmFjayB0byB0aGUgcHJvdG90eXBlIHZlcnNpb24gb2YgZ2V0VmFsdWUgLyBzZXRWYWx1ZQovLyBub3RlOiBhdm9pZGluZyB0byBtdXRhdGUgdGhlIHNoYXBlIG9mICd0aGlzJyB2aWEgJ2RlbGV0ZScKdGhpcy5nZXRWYWx1ZT10aGlzLl9nZXRWYWx1ZV91bmJvdW5kO3RoaXMuc2V0VmFsdWU9dGhpcy5fc2V0VmFsdWVfdW5ib3VuZDt9fSk7Ly8hXCBERUNMQVJFIEFMSUFTIEFGVEVSIGFzc2lnbiBwcm90b3R5cGUgIQpPYmplY3QuYXNzaWduKFByb3BlcnR5QmluZGluZy5wcm90b3R5cGUsey8vIGluaXRpYWwgc3RhdGUgb2YgdGhlc2UgbWV0aG9kcyB0aGF0IGNhbGxzICdiaW5kJwpfZ2V0VmFsdWVfdW5ib3VuZDpQcm9wZXJ0eUJpbmRpbmcucHJvdG90eXBlLmdldFZhbHVlLF9zZXRWYWx1ZV91bmJvdW5kOlByb3BlcnR5QmluZGluZy5wcm90b3R5cGUuc2V0VmFsdWV9KTsvKioKICAgKgogICAqIEEgZ3JvdXAgb2Ygb2JqZWN0cyB0aGF0IHJlY2VpdmVzIGEgc2hhcmVkIGFuaW1hdGlvbiBzdGF0ZS4KICAgKgogICAqIFVzYWdlOgogICAqCiAgICogIC0gQWRkIG9iamVjdHMgeW91IHdvdWxkIG90aGVyd2lzZSBwYXNzIGFzICdyb290JyB0byB0aGUKICAgKiAgICBjb25zdHJ1Y3RvciBvciB0aGUgLmNsaXBBY3Rpb24gbWV0aG9kIG9mIEFuaW1hdGlvbk1peGVyLgogICAqCiAgICogIC0gSW5zdGVhZCBwYXNzIHRoaXMgb2JqZWN0IGFzICdyb290Jy4KICAgKgogICAqICAtIFlvdSBjYW4gYWxzbyBhZGQgYW5kIHJlbW92ZSBvYmplY3RzIGxhdGVyIHdoZW4gdGhlIG1peGVyCiAgICogICAgaXMgcnVubmluZy4KICAgKgogICAqIE5vdGU6CiAgICoKICAgKiAgICBPYmplY3RzIG9mIHRoaXMgY2xhc3MgYXBwZWFyIGFzIG9uZSBvYmplY3QgdG8gdGhlIG1peGVyLAogICAqICAgIHNvIGNhY2hlIGNvbnRyb2wgb2YgdGhlIGluZGl2aWR1YWwgb2JqZWN0cyBtdXN0IGJlIGRvbmUKICAgKiAgICBvbiB0aGUgZ3JvdXAuCiAgICoKICAgKiBMaW1pdGF0aW9uOgogICAqCiAgICogIC0gVGhlIGFuaW1hdGVkIHByb3BlcnRpZXMgbXVzdCBiZSBjb21wYXRpYmxlIGFtb25nIHRoZQogICAqICAgIGFsbCBvYmplY3RzIGluIHRoZSBncm91cC4KICAgKgogICAqICAtIEEgc2luZ2xlIHByb3BlcnR5IGNhbiBlaXRoZXIgYmUgY29udHJvbGxlZCB0aHJvdWdoIGEKICAgKiAgICB0YXJnZXQgZ3JvdXAgb3IgZGlyZWN0bHksIGJ1dCBub3QgYm90aC4KICAgKgogICAqIEBhdXRob3IgdHNjaHcKICAgKi9mdW5jdGlvbiBBbmltYXRpb25PYmplY3RHcm91cCgpe3RoaXMudXVpZD1fTWF0aC5nZW5lcmF0ZVVVSUQoKTsvLyBjYWNoZWQgb2JqZWN0cyBmb2xsb3dlZCBieSB0aGUgYWN0aXZlIG9uZXMKdGhpcy5fb2JqZWN0cz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO3RoaXMubkNhY2hlZE9iamVjdHNfPTA7Ly8gdGhyZXNob2xkCi8vIG5vdGU6IHJlYWQgYnkgUHJvcGVydHlCaW5kaW5nLkNvbXBvc2l0ZQp2YXIgaW5kaWNlcz17fTt0aGlzLl9pbmRpY2VzQnlVVUlEPWluZGljZXM7Ly8gZm9yIGJvb2trZWVwaW5nCmZvcih2YXIgaT0wLG49YXJndW1lbnRzLmxlbmd0aDtpIT09bjsrK2kpe2luZGljZXNbYXJndW1lbnRzW2ldLnV1aWRdPWk7fXRoaXMuX3BhdGhzPVtdOy8vIGluc2lkZTogc3RyaW5nCnRoaXMuX3BhcnNlZFBhdGhzPVtdOy8vIGluc2lkZTogeyB3ZSBkb24ndCBjYXJlLCBoZXJlIH0KdGhpcy5fYmluZGluZ3M9W107Ly8gaW5zaWRlOiBBcnJheTwgUHJvcGVydHlCaW5kaW5nID4KdGhpcy5fYmluZGluZ3NJbmRpY2VzQnlQYXRoPXt9Oy8vIGluc2lkZTogaW5kaWNlcyBpbiB0aGVzZSBhcnJheXMKdmFyIHNjb3BlPXRoaXM7dGhpcy5zdGF0cz17b2JqZWN0czp7Z2V0IHRvdGFsKCl7cmV0dXJuIHNjb3BlLl9vYmplY3RzLmxlbmd0aDt9LGdldCBpblVzZSgpe3JldHVybiB0aGlzLnRvdGFsLXNjb3BlLm5DYWNoZWRPYmplY3RzXzt9fSxnZXQgYmluZGluZ3NQZXJPYmplY3QoKXtyZXR1cm4gc2NvcGUuX2JpbmRpbmdzLmxlbmd0aDt9fTt9T2JqZWN0LmFzc2lnbihBbmltYXRpb25PYmplY3RHcm91cC5wcm90b3R5cGUse2lzQW5pbWF0aW9uT2JqZWN0R3JvdXA6dHJ1ZSxhZGQ6ZnVuY3Rpb24gYWRkKCl7dmFyIG9iamVjdHM9dGhpcy5fb2JqZWN0cyxuT2JqZWN0cz1vYmplY3RzLmxlbmd0aCxuQ2FjaGVkT2JqZWN0cz10aGlzLm5DYWNoZWRPYmplY3RzXyxpbmRpY2VzQnlVVUlEPXRoaXMuX2luZGljZXNCeVVVSUQscGF0aHM9dGhpcy5fcGF0aHMscGFyc2VkUGF0aHM9dGhpcy5fcGFyc2VkUGF0aHMsYmluZGluZ3M9dGhpcy5fYmluZGluZ3MsbkJpbmRpbmdzPWJpbmRpbmdzLmxlbmd0aCxrbm93bk9iamVjdD11bmRlZmluZWQ7Zm9yKHZhciBpPTAsbj1hcmd1bWVudHMubGVuZ3RoO2khPT1uOysraSl7dmFyIG9iamVjdD1hcmd1bWVudHNbaV0sdXVpZD1vYmplY3QudXVpZCxpbmRleD1pbmRpY2VzQnlVVUlEW3V1aWRdO2lmKGluZGV4PT09dW5kZWZpbmVkKXsvLyB1bmtub3duIG9iamVjdCAtPiBhZGQgaXQgdG8gdGhlIEFDVElWRSByZWdpb24KaW5kZXg9bk9iamVjdHMrKztpbmRpY2VzQnlVVUlEW3V1aWRdPWluZGV4O29iamVjdHMucHVzaChvYmplY3QpOy8vIGFjY291bnRpbmcgaXMgZG9uZSwgbm93IGRvIHRoZSBzYW1lIGZvciBhbGwgYmluZGluZ3MKZm9yKHZhciBqPTAsbT1uQmluZGluZ3M7aiE9PW07KytqKXtiaW5kaW5nc1tqXS5wdXNoKG5ldyBQcm9wZXJ0eUJpbmRpbmcob2JqZWN0LHBhdGhzW2pdLHBhcnNlZFBhdGhzW2pdKSk7fX1lbHNlIGlmKGluZGV4PG5DYWNoZWRPYmplY3RzKXtrbm93bk9iamVjdD1vYmplY3RzW2luZGV4XTsvLyBtb3ZlIGV4aXN0aW5nIG9iamVjdCB0byB0aGUgQUNUSVZFIHJlZ2lvbgp2YXIgZmlyc3RBY3RpdmVJbmRleD0tLW5DYWNoZWRPYmplY3RzLGxhc3RDYWNoZWRPYmplY3Q9b2JqZWN0c1tmaXJzdEFjdGl2ZUluZGV4XTtpbmRpY2VzQnlVVUlEW2xhc3RDYWNoZWRPYmplY3QudXVpZF09aW5kZXg7b2JqZWN0c1tpbmRleF09bGFzdENhY2hlZE9iamVjdDtpbmRpY2VzQnlVVUlEW3V1aWRdPWZpcnN0QWN0aXZlSW5kZXg7b2JqZWN0c1tmaXJzdEFjdGl2ZUluZGV4XT1vYmplY3Q7Ly8gYWNjb3VudGluZyBpcyBkb25lLCBub3cgZG8gdGhlIHNhbWUgZm9yIGFsbCBiaW5kaW5ncwpmb3IodmFyIGo9MCxtPW5CaW5kaW5ncztqIT09bTsrK2ope3ZhciBiaW5kaW5nc0ZvclBhdGg9YmluZGluZ3Nbal0sbGFzdENhY2hlZD1iaW5kaW5nc0ZvclBhdGhbZmlyc3RBY3RpdmVJbmRleF0sYmluZGluZz1iaW5kaW5nc0ZvclBhdGhbaW5kZXhdO2JpbmRpbmdzRm9yUGF0aFtpbmRleF09bGFzdENhY2hlZDtpZihiaW5kaW5nPT09dW5kZWZpbmVkKXsvLyBzaW5jZSB3ZSBkbyBub3QgYm90aGVyIHRvIGNyZWF0ZSBuZXcgYmluZGluZ3MKLy8gZm9yIG9iamVjdHMgdGhhdCBhcmUgY2FjaGVkLCB0aGUgYmluZGluZyBtYXkKLy8gb3IgbWF5IG5vdCBleGlzdApiaW5kaW5nPW5ldyBQcm9wZXJ0eUJpbmRpbmcob2JqZWN0LHBhdGhzW2pdLHBhcnNlZFBhdGhzW2pdKTt9YmluZGluZ3NGb3JQYXRoW2ZpcnN0QWN0aXZlSW5kZXhdPWJpbmRpbmc7fX1lbHNlIGlmKG9iamVjdHNbaW5kZXhdIT09a25vd25PYmplY3Qpe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLkFuaW1hdGlvbk9iamVjdEdyb3VwOiBEaWZmZXJlbnQgb2JqZWN0cyB3aXRoIHRoZSBzYW1lIFVVSUQgJysnZGV0ZWN0ZWQuIENsZWFuIHRoZSBjYWNoZXMgb3IgcmVjcmVhdGUgeW91ciBpbmZyYXN0cnVjdHVyZSB3aGVuIHJlbG9hZGluZyBzY2VuZXMuJyk7fS8vIGVsc2UgdGhlIG9iamVjdCBpcyBhbHJlYWR5IHdoZXJlIHdlIHdhbnQgaXQgdG8gYmUKfS8vIGZvciBhcmd1bWVudHMKdGhpcy5uQ2FjaGVkT2JqZWN0c189bkNhY2hlZE9iamVjdHM7fSxyZW1vdmU6ZnVuY3Rpb24gcmVtb3ZlKCl7dmFyIG9iamVjdHM9dGhpcy5fb2JqZWN0cyxuQ2FjaGVkT2JqZWN0cz10aGlzLm5DYWNoZWRPYmplY3RzXyxpbmRpY2VzQnlVVUlEPXRoaXMuX2luZGljZXNCeVVVSUQsYmluZGluZ3M9dGhpcy5fYmluZGluZ3MsbkJpbmRpbmdzPWJpbmRpbmdzLmxlbmd0aDtmb3IodmFyIGk9MCxuPWFyZ3VtZW50cy5sZW5ndGg7aSE9PW47KytpKXt2YXIgb2JqZWN0PWFyZ3VtZW50c1tpXSx1dWlkPW9iamVjdC51dWlkLGluZGV4PWluZGljZXNCeVVVSURbdXVpZF07aWYoaW5kZXghPT11bmRlZmluZWQmJmluZGV4Pj1uQ2FjaGVkT2JqZWN0cyl7Ly8gbW92ZSBleGlzdGluZyBvYmplY3QgaW50byB0aGUgQ0FDSEVEIHJlZ2lvbgp2YXIgbGFzdENhY2hlZEluZGV4PW5DYWNoZWRPYmplY3RzKyssZmlyc3RBY3RpdmVPYmplY3Q9b2JqZWN0c1tsYXN0Q2FjaGVkSW5kZXhdO2luZGljZXNCeVVVSURbZmlyc3RBY3RpdmVPYmplY3QudXVpZF09aW5kZXg7b2JqZWN0c1tpbmRleF09Zmlyc3RBY3RpdmVPYmplY3Q7aW5kaWNlc0J5VVVJRFt1dWlkXT1sYXN0Q2FjaGVkSW5kZXg7b2JqZWN0c1tsYXN0Q2FjaGVkSW5kZXhdPW9iamVjdDsvLyBhY2NvdW50aW5nIGlzIGRvbmUsIG5vdyBkbyB0aGUgc2FtZSBmb3IgYWxsIGJpbmRpbmdzCmZvcih2YXIgaj0wLG09bkJpbmRpbmdzO2ohPT1tOysrail7dmFyIGJpbmRpbmdzRm9yUGF0aD1iaW5kaW5nc1tqXSxmaXJzdEFjdGl2ZT1iaW5kaW5nc0ZvclBhdGhbbGFzdENhY2hlZEluZGV4XSxiaW5kaW5nPWJpbmRpbmdzRm9yUGF0aFtpbmRleF07YmluZGluZ3NGb3JQYXRoW2luZGV4XT1maXJzdEFjdGl2ZTtiaW5kaW5nc0ZvclBhdGhbbGFzdENhY2hlZEluZGV4XT1iaW5kaW5nO319fS8vIGZvciBhcmd1bWVudHMKdGhpcy5uQ2FjaGVkT2JqZWN0c189bkNhY2hlZE9iamVjdHM7fSwvLyByZW1vdmUgJiBmb3JnZXQKdW5jYWNoZTpmdW5jdGlvbiB1bmNhY2hlKCl7dmFyIG9iamVjdHM9dGhpcy5fb2JqZWN0cyxuT2JqZWN0cz1vYmplY3RzLmxlbmd0aCxuQ2FjaGVkT2JqZWN0cz10aGlzLm5DYWNoZWRPYmplY3RzXyxpbmRpY2VzQnlVVUlEPXRoaXMuX2luZGljZXNCeVVVSUQsYmluZGluZ3M9dGhpcy5fYmluZGluZ3MsbkJpbmRpbmdzPWJpbmRpbmdzLmxlbmd0aDtmb3IodmFyIGk9MCxuPWFyZ3VtZW50cy5sZW5ndGg7aSE9PW47KytpKXt2YXIgb2JqZWN0PWFyZ3VtZW50c1tpXSx1dWlkPW9iamVjdC51dWlkLGluZGV4PWluZGljZXNCeVVVSURbdXVpZF07aWYoaW5kZXghPT11bmRlZmluZWQpe2RlbGV0ZSBpbmRpY2VzQnlVVUlEW3V1aWRdO2lmKGluZGV4PG5DYWNoZWRPYmplY3RzKXsvLyBvYmplY3QgaXMgY2FjaGVkLCBzaHJpbmsgdGhlIENBQ0hFRCByZWdpb24KdmFyIGZpcnN0QWN0aXZlSW5kZXg9LS1uQ2FjaGVkT2JqZWN0cyxsYXN0Q2FjaGVkT2JqZWN0PW9iamVjdHNbZmlyc3RBY3RpdmVJbmRleF0sbGFzdEluZGV4PS0tbk9iamVjdHMsbGFzdE9iamVjdD1vYmplY3RzW2xhc3RJbmRleF07Ly8gbGFzdCBjYWNoZWQgb2JqZWN0IHRha2VzIHRoaXMgb2JqZWN0J3MgcGxhY2UKaW5kaWNlc0J5VVVJRFtsYXN0Q2FjaGVkT2JqZWN0LnV1aWRdPWluZGV4O29iamVjdHNbaW5kZXhdPWxhc3RDYWNoZWRPYmplY3Q7Ly8gbGFzdCBvYmplY3QgZ29lcyB0byB0aGUgYWN0aXZhdGVkIHNsb3QgYW5kIHBvcAppbmRpY2VzQnlVVUlEW2xhc3RPYmplY3QudXVpZF09Zmlyc3RBY3RpdmVJbmRleDtvYmplY3RzW2ZpcnN0QWN0aXZlSW5kZXhdPWxhc3RPYmplY3Q7b2JqZWN0cy5wb3AoKTsvLyBhY2NvdW50aW5nIGlzIGRvbmUsIG5vdyBkbyB0aGUgc2FtZSBmb3IgYWxsIGJpbmRpbmdzCmZvcih2YXIgaj0wLG09bkJpbmRpbmdzO2ohPT1tOysrail7dmFyIGJpbmRpbmdzRm9yUGF0aD1iaW5kaW5nc1tqXSxsYXN0Q2FjaGVkPWJpbmRpbmdzRm9yUGF0aFtmaXJzdEFjdGl2ZUluZGV4XSxsYXN0PWJpbmRpbmdzRm9yUGF0aFtsYXN0SW5kZXhdO2JpbmRpbmdzRm9yUGF0aFtpbmRleF09bGFzdENhY2hlZDtiaW5kaW5nc0ZvclBhdGhbZmlyc3RBY3RpdmVJbmRleF09bGFzdDtiaW5kaW5nc0ZvclBhdGgucG9wKCk7fX1lbHNley8vIG9iamVjdCBpcyBhY3RpdmUsIGp1c3Qgc3dhcCB3aXRoIHRoZSBsYXN0IGFuZCBwb3AKdmFyIGxhc3RJbmRleD0tLW5PYmplY3RzLGxhc3RPYmplY3Q9b2JqZWN0c1tsYXN0SW5kZXhdO2luZGljZXNCeVVVSURbbGFzdE9iamVjdC51dWlkXT1pbmRleDtvYmplY3RzW2luZGV4XT1sYXN0T2JqZWN0O29iamVjdHMucG9wKCk7Ly8gYWNjb3VudGluZyBpcyBkb25lLCBub3cgZG8gdGhlIHNhbWUgZm9yIGFsbCBiaW5kaW5ncwpmb3IodmFyIGo9MCxtPW5CaW5kaW5ncztqIT09bTsrK2ope3ZhciBiaW5kaW5nc0ZvclBhdGg9YmluZGluZ3Nbal07YmluZGluZ3NGb3JQYXRoW2luZGV4XT1iaW5kaW5nc0ZvclBhdGhbbGFzdEluZGV4XTtiaW5kaW5nc0ZvclBhdGgucG9wKCk7fX0vLyBjYWNoZWQgb3IgYWN0aXZlCn0vLyBpZiBvYmplY3QgaXMga25vd24KfS8vIGZvciBhcmd1bWVudHMKdGhpcy5uQ2FjaGVkT2JqZWN0c189bkNhY2hlZE9iamVjdHM7fSwvLyBJbnRlcm5hbCBpbnRlcmZhY2UgdXNlZCBieSBiZWZyaWVuZGVkIFByb3BlcnR5QmluZGluZy5Db21wb3NpdGU6CnN1YnNjcmliZV86ZnVuY3Rpb24gc3Vic2NyaWJlXyhwYXRoLHBhcnNlZFBhdGgpey8vIHJldHVybnMgYW4gYXJyYXkgb2YgYmluZGluZ3MgZm9yIHRoZSBnaXZlbiBwYXRoIHRoYXQgaXMgY2hhbmdlZAovLyBhY2NvcmRpbmcgdG8gdGhlIGNvbnRhaW5lZCBvYmplY3RzIGluIHRoZSBncm91cAp2YXIgaW5kaWNlc0J5UGF0aD10aGlzLl9iaW5kaW5nc0luZGljZXNCeVBhdGgsaW5kZXg9aW5kaWNlc0J5UGF0aFtwYXRoXSxiaW5kaW5ncz10aGlzLl9iaW5kaW5ncztpZihpbmRleCE9PXVuZGVmaW5lZCl7cmV0dXJuIGJpbmRpbmdzW2luZGV4XTt9dmFyIHBhdGhzPXRoaXMuX3BhdGhzLHBhcnNlZFBhdGhzPXRoaXMuX3BhcnNlZFBhdGhzLG9iamVjdHM9dGhpcy5fb2JqZWN0cyxuT2JqZWN0cz1vYmplY3RzLmxlbmd0aCxuQ2FjaGVkT2JqZWN0cz10aGlzLm5DYWNoZWRPYmplY3RzXyxiaW5kaW5nc0ZvclBhdGg9bmV3IEFycmF5KG5PYmplY3RzKTtpbmRleD1iaW5kaW5ncy5sZW5ndGg7aW5kaWNlc0J5UGF0aFtwYXRoXT1pbmRleDtwYXRocy5wdXNoKHBhdGgpO3BhcnNlZFBhdGhzLnB1c2gocGFyc2VkUGF0aCk7YmluZGluZ3MucHVzaChiaW5kaW5nc0ZvclBhdGgpO2Zvcih2YXIgaT1uQ2FjaGVkT2JqZWN0cyxuPW9iamVjdHMubGVuZ3RoO2khPT1uOysraSl7dmFyIG9iamVjdD1vYmplY3RzW2ldO2JpbmRpbmdzRm9yUGF0aFtpXT1uZXcgUHJvcGVydHlCaW5kaW5nKG9iamVjdCxwYXRoLHBhcnNlZFBhdGgpO31yZXR1cm4gYmluZGluZ3NGb3JQYXRoO30sdW5zdWJzY3JpYmVfOmZ1bmN0aW9uIHVuc3Vic2NyaWJlXyhwYXRoKXsvLyB0ZWxscyB0aGUgZ3JvdXAgdG8gZm9yZ2V0IGFib3V0IGEgcHJvcGVydHkgcGF0aCBhbmQgbm8gbG9uZ2VyCi8vIHVwZGF0ZSB0aGUgYXJyYXkgcHJldmlvdXNseSBvYnRhaW5lZCB3aXRoICdzdWJzY3JpYmVfJwp2YXIgaW5kaWNlc0J5UGF0aD10aGlzLl9iaW5kaW5nc0luZGljZXNCeVBhdGgsaW5kZXg9aW5kaWNlc0J5UGF0aFtwYXRoXTtpZihpbmRleCE9PXVuZGVmaW5lZCl7dmFyIHBhdGhzPXRoaXMuX3BhdGhzLHBhcnNlZFBhdGhzPXRoaXMuX3BhcnNlZFBhdGhzLGJpbmRpbmdzPXRoaXMuX2JpbmRpbmdzLGxhc3RCaW5kaW5nc0luZGV4PWJpbmRpbmdzLmxlbmd0aC0xLGxhc3RCaW5kaW5ncz1iaW5kaW5nc1tsYXN0QmluZGluZ3NJbmRleF0sbGFzdEJpbmRpbmdzUGF0aD1wYXRoW2xhc3RCaW5kaW5nc0luZGV4XTtpbmRpY2VzQnlQYXRoW2xhc3RCaW5kaW5nc1BhdGhdPWluZGV4O2JpbmRpbmdzW2luZGV4XT1sYXN0QmluZGluZ3M7YmluZGluZ3MucG9wKCk7cGFyc2VkUGF0aHNbaW5kZXhdPXBhcnNlZFBhdGhzW2xhc3RCaW5kaW5nc0luZGV4XTtwYXJzZWRQYXRocy5wb3AoKTtwYXRoc1tpbmRleF09cGF0aHNbbGFzdEJpbmRpbmdzSW5kZXhdO3BhdGhzLnBvcCgpO319fSk7LyoqCiAgICoKICAgKiBBY3Rpb24gcHJvdmlkZWQgYnkgQW5pbWF0aW9uTWl4ZXIgZm9yIHNjaGVkdWxpbmcgY2xpcCBwbGF5YmFjayBvbiBzcGVjaWZpYwogICAqIG9iamVjdHMuCiAgICoKICAgKiBAYXV0aG9yIEJlbiBIb3VzdG9uIC8gaHR0cDovL2NsYXJhLmlvLwogICAqIEBhdXRob3IgRGF2aWQgU2Fybm8gLyBodHRwOi8vbGlnaHRoYXVzLnVzLwogICAqIEBhdXRob3IgdHNjaHcKICAgKgogICAqL2Z1bmN0aW9uIEFuaW1hdGlvbkFjdGlvbihtaXhlcixjbGlwLGxvY2FsUm9vdCl7dGhpcy5fbWl4ZXI9bWl4ZXI7dGhpcy5fY2xpcD1jbGlwO3RoaXMuX2xvY2FsUm9vdD1sb2NhbFJvb3R8fG51bGw7dmFyIHRyYWNrcz1jbGlwLnRyYWNrcyxuVHJhY2tzPXRyYWNrcy5sZW5ndGgsaW50ZXJwb2xhbnRzPW5ldyBBcnJheShuVHJhY2tzKTt2YXIgaW50ZXJwb2xhbnRTZXR0aW5ncz17ZW5kaW5nU3RhcnQ6WmVyb0N1cnZhdHVyZUVuZGluZyxlbmRpbmdFbmQ6WmVyb0N1cnZhdHVyZUVuZGluZ307Zm9yKHZhciBpPTA7aSE9PW5UcmFja3M7KytpKXt2YXIgaW50ZXJwb2xhbnQ9dHJhY2tzW2ldLmNyZWF0ZUludGVycG9sYW50KG51bGwpO2ludGVycG9sYW50c1tpXT1pbnRlcnBvbGFudDtpbnRlcnBvbGFudC5zZXR0aW5ncz1pbnRlcnBvbGFudFNldHRpbmdzO310aGlzLl9pbnRlcnBvbGFudFNldHRpbmdzPWludGVycG9sYW50U2V0dGluZ3M7dGhpcy5faW50ZXJwb2xhbnRzPWludGVycG9sYW50czsvLyBib3VuZCBieSB0aGUgbWl4ZXIKLy8gaW5zaWRlOiBQcm9wZXJ0eU1peGVyIChtYW5hZ2VkIGJ5IHRoZSBtaXhlcikKdGhpcy5fcHJvcGVydHlCaW5kaW5ncz1uZXcgQXJyYXkoblRyYWNrcyk7dGhpcy5fY2FjaGVJbmRleD1udWxsOy8vIGZvciB0aGUgbWVtb3J5IG1hbmFnZXIKdGhpcy5fYnlDbGlwQ2FjaGVJbmRleD1udWxsOy8vIGZvciB0aGUgbWVtb3J5IG1hbmFnZXIKdGhpcy5fdGltZVNjYWxlSW50ZXJwb2xhbnQ9bnVsbDt0aGlzLl93ZWlnaHRJbnRlcnBvbGFudD1udWxsO3RoaXMubG9vcD1Mb29wUmVwZWF0O3RoaXMuX2xvb3BDb3VudD0tMTsvLyBnbG9iYWwgbWl4ZXIgdGltZSB3aGVuIHRoZSBhY3Rpb24gaXMgdG8gYmUgc3RhcnRlZAovLyBpdCdzIHNldCBiYWNrIHRvICdudWxsJyB1cG9uIHN0YXJ0IG9mIHRoZSBhY3Rpb24KdGhpcy5fc3RhcnRUaW1lPW51bGw7Ly8gc2NhbGVkIGxvY2FsIHRpbWUgb2YgdGhlIGFjdGlvbgovLyBnZXRzIGNsYW1wZWQgb3Igd3JhcHBlZCB0byAwLi5jbGlwLmR1cmF0aW9uIGFjY29yZGluZyB0byBsb29wCnRoaXMudGltZT0wO3RoaXMudGltZVNjYWxlPTE7dGhpcy5fZWZmZWN0aXZlVGltZVNjYWxlPTE7dGhpcy53ZWlnaHQ9MTt0aGlzLl9lZmZlY3RpdmVXZWlnaHQ9MTt0aGlzLnJlcGV0aXRpb25zPUluZmluaXR5Oy8vIG5vLiBvZiByZXBldGl0aW9ucyB3aGVuIGxvb3BpbmcKdGhpcy5wYXVzZWQ9ZmFsc2U7Ly8gdHJ1ZSAtPiB6ZXJvIGVmZmVjdGl2ZSB0aW1lIHNjYWxlCnRoaXMuZW5hYmxlZD10cnVlOy8vIGZhbHNlIC0+IHplcm8gZWZmZWN0aXZlIHdlaWdodAp0aGlzLmNsYW1wV2hlbkZpbmlzaGVkPWZhbHNlOy8vIGtlZXAgZmVlZGluZyB0aGUgbGFzdCBmcmFtZT8KdGhpcy56ZXJvU2xvcGVBdFN0YXJ0PXRydWU7Ly8gZm9yIHNtb290aCBpbnRlcnBvbGF0aW9uIHcvbyBzZXBhcmF0ZQp0aGlzLnplcm9TbG9wZUF0RW5kPXRydWU7Ly8gY2xpcHMgZm9yIHN0YXJ0LCBsb29wIGFuZCBlbmQKfU9iamVjdC5hc3NpZ24oQW5pbWF0aW9uQWN0aW9uLnByb3RvdHlwZSx7Ly8gU3RhdGUgJiBTY2hlZHVsaW5nCnBsYXk6ZnVuY3Rpb24gcGxheSgpe3RoaXMuX21peGVyLl9hY3RpdmF0ZUFjdGlvbih0aGlzKTtyZXR1cm4gdGhpczt9LHN0b3A6ZnVuY3Rpb24gc3RvcCgpe3RoaXMuX21peGVyLl9kZWFjdGl2YXRlQWN0aW9uKHRoaXMpO3JldHVybiB0aGlzLnJlc2V0KCk7fSxyZXNldDpmdW5jdGlvbiByZXNldCgpe3RoaXMucGF1c2VkPWZhbHNlO3RoaXMuZW5hYmxlZD10cnVlO3RoaXMudGltZT0wOy8vIHJlc3RhcnQgY2xpcAp0aGlzLl9sb29wQ291bnQ9LTE7Ly8gZm9yZ2V0IHByZXZpb3VzIGxvb3BzCnRoaXMuX3N0YXJ0VGltZT1udWxsOy8vIGZvcmdldCBzY2hlZHVsaW5nCnJldHVybiB0aGlzLnN0b3BGYWRpbmcoKS5zdG9wV2FycGluZygpO30saXNSdW5uaW5nOmZ1bmN0aW9uIGlzUnVubmluZygpe3JldHVybiB0aGlzLmVuYWJsZWQmJiF0aGlzLnBhdXNlZCYmdGhpcy50aW1lU2NhbGUhPT0wJiZ0aGlzLl9zdGFydFRpbWU9PT1udWxsJiZ0aGlzLl9taXhlci5faXNBY3RpdmVBY3Rpb24odGhpcyk7fSwvLyByZXR1cm4gdHJ1ZSB3aGVuIHBsYXkgaGFzIGJlZW4gY2FsbGVkCmlzU2NoZWR1bGVkOmZ1bmN0aW9uIGlzU2NoZWR1bGVkKCl7cmV0dXJuIHRoaXMuX21peGVyLl9pc0FjdGl2ZUFjdGlvbih0aGlzKTt9LHN0YXJ0QXQ6ZnVuY3Rpb24gc3RhcnRBdCh0aW1lKXt0aGlzLl9zdGFydFRpbWU9dGltZTtyZXR1cm4gdGhpczt9LHNldExvb3A6ZnVuY3Rpb24gc2V0TG9vcChtb2RlLHJlcGV0aXRpb25zKXt0aGlzLmxvb3A9bW9kZTt0aGlzLnJlcGV0aXRpb25zPXJlcGV0aXRpb25zO3JldHVybiB0aGlzO30sLy8gV2VpZ2h0Ci8vIHNldCB0aGUgd2VpZ2h0IHN0b3BwaW5nIGFueSBzY2hlZHVsZWQgZmFkaW5nCi8vIGFsdGhvdWdoIC5lbmFibGVkID0gZmFsc2UgeWllbGRzIGFuIGVmZmVjdGl2ZSB3ZWlnaHQgb2YgemVybywgdGhpcwovLyBtZXRob2QgZG9lcyAqbm90KiBjaGFuZ2UgLmVuYWJsZWQsIGJlY2F1c2UgaXQgd291bGQgYmUgY29uZnVzaW5nCnNldEVmZmVjdGl2ZVdlaWdodDpmdW5jdGlvbiBzZXRFZmZlY3RpdmVXZWlnaHQod2VpZ2h0KXt0aGlzLndlaWdodD13ZWlnaHQ7Ly8gbm90ZTogc2FtZSBsb2dpYyBhcyB3aGVuIHVwZGF0ZWQgYXQgcnVudGltZQp0aGlzLl9lZmZlY3RpdmVXZWlnaHQ9dGhpcy5lbmFibGVkP3dlaWdodDowO3JldHVybiB0aGlzLnN0b3BGYWRpbmcoKTt9LC8vIHJldHVybiB0aGUgd2VpZ2h0IGNvbnNpZGVyaW5nIGZhZGluZyBhbmQgLmVuYWJsZWQKZ2V0RWZmZWN0aXZlV2VpZ2h0OmZ1bmN0aW9uIGdldEVmZmVjdGl2ZVdlaWdodCgpe3JldHVybiB0aGlzLl9lZmZlY3RpdmVXZWlnaHQ7fSxmYWRlSW46ZnVuY3Rpb24gZmFkZUluKGR1cmF0aW9uKXtyZXR1cm4gdGhpcy5fc2NoZWR1bGVGYWRpbmcoZHVyYXRpb24sMCwxKTt9LGZhZGVPdXQ6ZnVuY3Rpb24gZmFkZU91dChkdXJhdGlvbil7cmV0dXJuIHRoaXMuX3NjaGVkdWxlRmFkaW5nKGR1cmF0aW9uLDEsMCk7fSxjcm9zc0ZhZGVGcm9tOmZ1bmN0aW9uIGNyb3NzRmFkZUZyb20oZmFkZU91dEFjdGlvbixkdXJhdGlvbix3YXJwKXtmYWRlT3V0QWN0aW9uLmZhZGVPdXQoZHVyYXRpb24pO3RoaXMuZmFkZUluKGR1cmF0aW9uKTtpZih3YXJwKXt2YXIgZmFkZUluRHVyYXRpb249dGhpcy5fY2xpcC5kdXJhdGlvbixmYWRlT3V0RHVyYXRpb249ZmFkZU91dEFjdGlvbi5fY2xpcC5kdXJhdGlvbixzdGFydEVuZFJhdGlvPWZhZGVPdXREdXJhdGlvbi9mYWRlSW5EdXJhdGlvbixlbmRTdGFydFJhdGlvPWZhZGVJbkR1cmF0aW9uL2ZhZGVPdXREdXJhdGlvbjtmYWRlT3V0QWN0aW9uLndhcnAoMS4wLHN0YXJ0RW5kUmF0aW8sZHVyYXRpb24pO3RoaXMud2FycChlbmRTdGFydFJhdGlvLDEuMCxkdXJhdGlvbik7fXJldHVybiB0aGlzO30sY3Jvc3NGYWRlVG86ZnVuY3Rpb24gY3Jvc3NGYWRlVG8oZmFkZUluQWN0aW9uLGR1cmF0aW9uLHdhcnApe3JldHVybiBmYWRlSW5BY3Rpb24uY3Jvc3NGYWRlRnJvbSh0aGlzLGR1cmF0aW9uLHdhcnApO30sc3RvcEZhZGluZzpmdW5jdGlvbiBzdG9wRmFkaW5nKCl7dmFyIHdlaWdodEludGVycG9sYW50PXRoaXMuX3dlaWdodEludGVycG9sYW50O2lmKHdlaWdodEludGVycG9sYW50IT09bnVsbCl7dGhpcy5fd2VpZ2h0SW50ZXJwb2xhbnQ9bnVsbDt0aGlzLl9taXhlci5fdGFrZUJhY2tDb250cm9sSW50ZXJwb2xhbnQod2VpZ2h0SW50ZXJwb2xhbnQpO31yZXR1cm4gdGhpczt9LC8vIFRpbWUgU2NhbGUgQ29udHJvbAovLyBzZXQgdGhlIHRpbWUgc2NhbGUgc3RvcHBpbmcgYW55IHNjaGVkdWxlZCB3YXJwaW5nCi8vIGFsdGhvdWdoIC5wYXVzZWQgPSB0cnVlIHlpZWxkcyBhbiBlZmZlY3RpdmUgdGltZSBzY2FsZSBvZiB6ZXJvLCB0aGlzCi8vIG1ldGhvZCBkb2VzICpub3QqIGNoYW5nZSAucGF1c2VkLCBiZWNhdXNlIGl0IHdvdWxkIGJlIGNvbmZ1c2luZwpzZXRFZmZlY3RpdmVUaW1lU2NhbGU6ZnVuY3Rpb24gc2V0RWZmZWN0aXZlVGltZVNjYWxlKHRpbWVTY2FsZSl7dGhpcy50aW1lU2NhbGU9dGltZVNjYWxlO3RoaXMuX2VmZmVjdGl2ZVRpbWVTY2FsZT10aGlzLnBhdXNlZD8wOnRpbWVTY2FsZTtyZXR1cm4gdGhpcy5zdG9wV2FycGluZygpO30sLy8gcmV0dXJuIHRoZSB0aW1lIHNjYWxlIGNvbnNpZGVyaW5nIHdhcnBpbmcgYW5kIC5wYXVzZWQKZ2V0RWZmZWN0aXZlVGltZVNjYWxlOmZ1bmN0aW9uIGdldEVmZmVjdGl2ZVRpbWVTY2FsZSgpe3JldHVybiB0aGlzLl9lZmZlY3RpdmVUaW1lU2NhbGU7fSxzZXREdXJhdGlvbjpmdW5jdGlvbiBzZXREdXJhdGlvbihkdXJhdGlvbil7dGhpcy50aW1lU2NhbGU9dGhpcy5fY2xpcC5kdXJhdGlvbi9kdXJhdGlvbjtyZXR1cm4gdGhpcy5zdG9wV2FycGluZygpO30sc3luY1dpdGg6ZnVuY3Rpb24gc3luY1dpdGgoYWN0aW9uKXt0aGlzLnRpbWU9YWN0aW9uLnRpbWU7dGhpcy50aW1lU2NhbGU9YWN0aW9uLnRpbWVTY2FsZTtyZXR1cm4gdGhpcy5zdG9wV2FycGluZygpO30saGFsdDpmdW5jdGlvbiBoYWx0KGR1cmF0aW9uKXtyZXR1cm4gdGhpcy53YXJwKHRoaXMuX2VmZmVjdGl2ZVRpbWVTY2FsZSwwLGR1cmF0aW9uKTt9LHdhcnA6ZnVuY3Rpb24gd2FycChzdGFydFRpbWVTY2FsZSxlbmRUaW1lU2NhbGUsZHVyYXRpb24pe3ZhciBtaXhlcj10aGlzLl9taXhlcixub3c9bWl4ZXIudGltZSxpbnRlcnBvbGFudD10aGlzLl90aW1lU2NhbGVJbnRlcnBvbGFudCx0aW1lU2NhbGU9dGhpcy50aW1lU2NhbGU7aWYoaW50ZXJwb2xhbnQ9PT1udWxsKXtpbnRlcnBvbGFudD1taXhlci5fbGVuZENvbnRyb2xJbnRlcnBvbGFudCgpO3RoaXMuX3RpbWVTY2FsZUludGVycG9sYW50PWludGVycG9sYW50O312YXIgdGltZXM9aW50ZXJwb2xhbnQucGFyYW1ldGVyUG9zaXRpb25zLHZhbHVlcz1pbnRlcnBvbGFudC5zYW1wbGVWYWx1ZXM7dGltZXNbMF09bm93O3RpbWVzWzFdPW5vdytkdXJhdGlvbjt2YWx1ZXNbMF09c3RhcnRUaW1lU2NhbGUvdGltZVNjYWxlO3ZhbHVlc1sxXT1lbmRUaW1lU2NhbGUvdGltZVNjYWxlO3JldHVybiB0aGlzO30sc3RvcFdhcnBpbmc6ZnVuY3Rpb24gc3RvcFdhcnBpbmcoKXt2YXIgdGltZVNjYWxlSW50ZXJwb2xhbnQ9dGhpcy5fdGltZVNjYWxlSW50ZXJwb2xhbnQ7aWYodGltZVNjYWxlSW50ZXJwb2xhbnQhPT1udWxsKXt0aGlzLl90aW1lU2NhbGVJbnRlcnBvbGFudD1udWxsO3RoaXMuX21peGVyLl90YWtlQmFja0NvbnRyb2xJbnRlcnBvbGFudCh0aW1lU2NhbGVJbnRlcnBvbGFudCk7fXJldHVybiB0aGlzO30sLy8gT2JqZWN0IEFjY2Vzc29ycwpnZXRNaXhlcjpmdW5jdGlvbiBnZXRNaXhlcigpe3JldHVybiB0aGlzLl9taXhlcjt9LGdldENsaXA6ZnVuY3Rpb24gZ2V0Q2xpcCgpe3JldHVybiB0aGlzLl9jbGlwO30sZ2V0Um9vdDpmdW5jdGlvbiBnZXRSb290KCl7cmV0dXJuIHRoaXMuX2xvY2FsUm9vdHx8dGhpcy5fbWl4ZXIuX3Jvb3Q7fSwvLyBJbnRlcm5hCl91cGRhdGU6ZnVuY3Rpb24gX3VwZGF0ZSh0aW1lLGRlbHRhVGltZSx0aW1lRGlyZWN0aW9uLGFjY3VJbmRleCl7Ly8gY2FsbGVkIGJ5IHRoZSBtaXhlcgppZighdGhpcy5lbmFibGVkKXsvLyBjYWxsIC5fdXBkYXRlV2VpZ2h0KCkgdG8gdXBkYXRlIC5fZWZmZWN0aXZlV2VpZ2h0CnRoaXMuX3VwZGF0ZVdlaWdodCh0aW1lKTtyZXR1cm47fXZhciBzdGFydFRpbWU9dGhpcy5fc3RhcnRUaW1lO2lmKHN0YXJ0VGltZSE9PW51bGwpey8vIGNoZWNrIGZvciBzY2hlZHVsZWQgc3RhcnQgb2YgYWN0aW9uCnZhciB0aW1lUnVubmluZz0odGltZS1zdGFydFRpbWUpKnRpbWVEaXJlY3Rpb247aWYodGltZVJ1bm5pbmc8MHx8dGltZURpcmVjdGlvbj09PTApe3JldHVybjsvLyB5ZXQgdG8gY29tZSAvIGRvbid0IGRlY2lkZSB3aGVuIGRlbHRhID0gMAp9Ly8gc3RhcnQKdGhpcy5fc3RhcnRUaW1lPW51bGw7Ly8gdW5zY2hlZHVsZQpkZWx0YVRpbWU9dGltZURpcmVjdGlvbip0aW1lUnVubmluZzt9Ly8gYXBwbHkgdGltZSBzY2FsZSBhbmQgYWR2YW5jZSB0aW1lCmRlbHRhVGltZSo9dGhpcy5fdXBkYXRlVGltZVNjYWxlKHRpbWUpO3ZhciBjbGlwVGltZT10aGlzLl91cGRhdGVUaW1lKGRlbHRhVGltZSk7Ly8gbm90ZTogX3VwZGF0ZVRpbWUgbWF5IGRpc2FibGUgdGhlIGFjdGlvbiByZXN1bHRpbmcgaW4KLy8gYW4gZWZmZWN0aXZlIHdlaWdodCBvZiAwCnZhciB3ZWlnaHQ9dGhpcy5fdXBkYXRlV2VpZ2h0KHRpbWUpO2lmKHdlaWdodD4wKXt2YXIgaW50ZXJwb2xhbnRzPXRoaXMuX2ludGVycG9sYW50czt2YXIgcHJvcGVydHlNaXhlcnM9dGhpcy5fcHJvcGVydHlCaW5kaW5ncztmb3IodmFyIGo9MCxtPWludGVycG9sYW50cy5sZW5ndGg7aiE9PW07KytqKXtpbnRlcnBvbGFudHNbal0uZXZhbHVhdGUoY2xpcFRpbWUpO3Byb3BlcnR5TWl4ZXJzW2pdLmFjY3VtdWxhdGUoYWNjdUluZGV4LHdlaWdodCk7fX19LF91cGRhdGVXZWlnaHQ6ZnVuY3Rpb24gX3VwZGF0ZVdlaWdodCh0aW1lKXt2YXIgd2VpZ2h0PTA7aWYodGhpcy5lbmFibGVkKXt3ZWlnaHQ9dGhpcy53ZWlnaHQ7dmFyIGludGVycG9sYW50PXRoaXMuX3dlaWdodEludGVycG9sYW50O2lmKGludGVycG9sYW50IT09bnVsbCl7dmFyIGludGVycG9sYW50VmFsdWU9aW50ZXJwb2xhbnQuZXZhbHVhdGUodGltZSlbMF07d2VpZ2h0Kj1pbnRlcnBvbGFudFZhbHVlO2lmKHRpbWU+aW50ZXJwb2xhbnQucGFyYW1ldGVyUG9zaXRpb25zWzFdKXt0aGlzLnN0b3BGYWRpbmcoKTtpZihpbnRlcnBvbGFudFZhbHVlPT09MCl7Ly8gZmFkZWQgb3V0LCBkaXNhYmxlCnRoaXMuZW5hYmxlZD1mYWxzZTt9fX19dGhpcy5fZWZmZWN0aXZlV2VpZ2h0PXdlaWdodDtyZXR1cm4gd2VpZ2h0O30sX3VwZGF0ZVRpbWVTY2FsZTpmdW5jdGlvbiBfdXBkYXRlVGltZVNjYWxlKHRpbWUpe3ZhciB0aW1lU2NhbGU9MDtpZighdGhpcy5wYXVzZWQpe3RpbWVTY2FsZT10aGlzLnRpbWVTY2FsZTt2YXIgaW50ZXJwb2xhbnQ9dGhpcy5fdGltZVNjYWxlSW50ZXJwb2xhbnQ7aWYoaW50ZXJwb2xhbnQhPT1udWxsKXt2YXIgaW50ZXJwb2xhbnRWYWx1ZT1pbnRlcnBvbGFudC5ldmFsdWF0ZSh0aW1lKVswXTt0aW1lU2NhbGUqPWludGVycG9sYW50VmFsdWU7aWYodGltZT5pbnRlcnBvbGFudC5wYXJhbWV0ZXJQb3NpdGlvbnNbMV0pe3RoaXMuc3RvcFdhcnBpbmcoKTtpZih0aW1lU2NhbGU9PT0wKXsvLyBtb3Rpb24gaGFzIGhhbHRlZCwgcGF1c2UKdGhpcy5wYXVzZWQ9dHJ1ZTt9ZWxzZXsvLyB3YXJwIGRvbmUgLSBhcHBseSBmaW5hbCB0aW1lIHNjYWxlCnRoaXMudGltZVNjYWxlPXRpbWVTY2FsZTt9fX19dGhpcy5fZWZmZWN0aXZlVGltZVNjYWxlPXRpbWVTY2FsZTtyZXR1cm4gdGltZVNjYWxlO30sX3VwZGF0ZVRpbWU6ZnVuY3Rpb24gX3VwZGF0ZVRpbWUoZGVsdGFUaW1lKXt2YXIgdGltZT10aGlzLnRpbWUrZGVsdGFUaW1lO3ZhciBkdXJhdGlvbj10aGlzLl9jbGlwLmR1cmF0aW9uO3ZhciBsb29wPXRoaXMubG9vcDt2YXIgbG9vcENvdW50PXRoaXMuX2xvb3BDb3VudDt2YXIgcGluZ1Bvbmc9bG9vcD09PUxvb3BQaW5nUG9uZztpZihkZWx0YVRpbWU9PT0wKXtpZihsb29wQ291bnQ9PT0tMSl7cmV0dXJuIHRpbWU7fXJldHVybiBwaW5nUG9uZyYmKGxvb3BDb3VudCYxKT09PTE/ZHVyYXRpb24tdGltZTp0aW1lO31pZihsb29wPT09TG9vcE9uY2Upe2lmKGxvb3BDb3VudD09PS0xKXsvLyBqdXN0IHN0YXJ0ZWQKdGhpcy5fbG9vcENvdW50PTA7dGhpcy5fc2V0RW5kaW5ncyh0cnVlLHRydWUsZmFsc2UpO31oYW5kbGVfc3RvcDp7aWYodGltZT49ZHVyYXRpb24pe3RpbWU9ZHVyYXRpb247fWVsc2UgaWYodGltZTwwKXt0aW1lPTA7fWVsc2V7dGhpcy50aW1lPXRpbWU7YnJlYWsgaGFuZGxlX3N0b3A7fWlmKHRoaXMuY2xhbXBXaGVuRmluaXNoZWQpe3RoaXMucGF1c2VkPXRydWU7fWVsc2V7dGhpcy5lbmFibGVkPWZhbHNlO310aGlzLnRpbWU9dGltZTt0aGlzLl9taXhlci5kaXNwYXRjaEV2ZW50KHt0eXBlOidmaW5pc2hlZCcsYWN0aW9uOnRoaXMsZGlyZWN0aW9uOmRlbHRhVGltZTwwPy0xOjF9KTt9fWVsc2V7Ly8gcmVwZXRpdGl2ZSBSZXBlYXQgb3IgUGluZ1BvbmcKaWYobG9vcENvdW50PT09LTEpey8vIGp1c3Qgc3RhcnRlZAppZihkZWx0YVRpbWU+PTApe2xvb3BDb3VudD0wO3RoaXMuX3NldEVuZGluZ3ModHJ1ZSx0aGlzLnJlcGV0aXRpb25zPT09MCxwaW5nUG9uZyk7fWVsc2V7Ly8gd2hlbiBsb29waW5nIGluIHJldmVyc2UgZGlyZWN0aW9uLCB0aGUgaW5pdGlhbAovLyB0cmFuc2l0aW9uIHRocm91Z2ggemVybyBjb3VudHMgYXMgYSByZXBldGl0aW9uLAovLyBzbyBsZWF2ZSBsb29wQ291bnQgYXQgLTEKdGhpcy5fc2V0RW5kaW5ncyh0aGlzLnJlcGV0aXRpb25zPT09MCx0cnVlLHBpbmdQb25nKTt9fWlmKHRpbWU+PWR1cmF0aW9ufHx0aW1lPDApey8vIHdyYXAgYXJvdW5kCnZhciBsb29wRGVsdGE9TWF0aC5mbG9vcih0aW1lL2R1cmF0aW9uKTsvLyBzaWduZWQKdGltZS09ZHVyYXRpb24qbG9vcERlbHRhO2xvb3BDb3VudCs9TWF0aC5hYnMobG9vcERlbHRhKTt2YXIgcGVuZGluZz10aGlzLnJlcGV0aXRpb25zLWxvb3BDb3VudDtpZihwZW5kaW5nPD0wKXsvLyBoYXZlIHRvIHN0b3AgKHN3aXRjaCBzdGF0ZSwgY2xhbXAgdGltZSwgZmlyZSBldmVudCkKaWYodGhpcy5jbGFtcFdoZW5GaW5pc2hlZCl7dGhpcy5wYXVzZWQ9dHJ1ZTt9ZWxzZXt0aGlzLmVuYWJsZWQ9ZmFsc2U7fXRpbWU9ZGVsdGFUaW1lPjA/ZHVyYXRpb246MDt0aGlzLnRpbWU9dGltZTt0aGlzLl9taXhlci5kaXNwYXRjaEV2ZW50KHt0eXBlOidmaW5pc2hlZCcsYWN0aW9uOnRoaXMsZGlyZWN0aW9uOmRlbHRhVGltZT4wPzE6LTF9KTt9ZWxzZXsvLyBrZWVwIHJ1bm5pbmcKaWYocGVuZGluZz09PTEpey8vIGVudGVyaW5nIHRoZSBsYXN0IHJvdW5kCnZhciBhdFN0YXJ0PWRlbHRhVGltZTwwO3RoaXMuX3NldEVuZGluZ3MoYXRTdGFydCwhYXRTdGFydCxwaW5nUG9uZyk7fWVsc2V7dGhpcy5fc2V0RW5kaW5ncyhmYWxzZSxmYWxzZSxwaW5nUG9uZyk7fXRoaXMuX2xvb3BDb3VudD1sb29wQ291bnQ7dGhpcy50aW1lPXRpbWU7dGhpcy5fbWl4ZXIuZGlzcGF0Y2hFdmVudCh7dHlwZTonbG9vcCcsYWN0aW9uOnRoaXMsbG9vcERlbHRhOmxvb3BEZWx0YX0pO319ZWxzZXt0aGlzLnRpbWU9dGltZTt9aWYocGluZ1BvbmcmJihsb29wQ291bnQmMSk9PT0xKXsvLyBpbnZlcnQgdGltZSBmb3IgdGhlICJwb25nIHJvdW5kIgpyZXR1cm4gZHVyYXRpb24tdGltZTt9fXJldHVybiB0aW1lO30sX3NldEVuZGluZ3M6ZnVuY3Rpb24gX3NldEVuZGluZ3MoYXRTdGFydCxhdEVuZCxwaW5nUG9uZyl7dmFyIHNldHRpbmdzPXRoaXMuX2ludGVycG9sYW50U2V0dGluZ3M7aWYocGluZ1Bvbmcpe3NldHRpbmdzLmVuZGluZ1N0YXJ0PVplcm9TbG9wZUVuZGluZztzZXR0aW5ncy5lbmRpbmdFbmQ9WmVyb1Nsb3BlRW5kaW5nO31lbHNley8vIGFzc3VtaW5nIGZvciBMb29wT25jZSBhdFN0YXJ0ID09IGF0RW5kID09IHRydWUKaWYoYXRTdGFydCl7c2V0dGluZ3MuZW5kaW5nU3RhcnQ9dGhpcy56ZXJvU2xvcGVBdFN0YXJ0P1plcm9TbG9wZUVuZGluZzpaZXJvQ3VydmF0dXJlRW5kaW5nO31lbHNle3NldHRpbmdzLmVuZGluZ1N0YXJ0PVdyYXBBcm91bmRFbmRpbmc7fWlmKGF0RW5kKXtzZXR0aW5ncy5lbmRpbmdFbmQ9dGhpcy56ZXJvU2xvcGVBdEVuZD9aZXJvU2xvcGVFbmRpbmc6WmVyb0N1cnZhdHVyZUVuZGluZzt9ZWxzZXtzZXR0aW5ncy5lbmRpbmdFbmQ9V3JhcEFyb3VuZEVuZGluZzt9fX0sX3NjaGVkdWxlRmFkaW5nOmZ1bmN0aW9uIF9zY2hlZHVsZUZhZGluZyhkdXJhdGlvbix3ZWlnaHROb3csd2VpZ2h0VGhlbil7dmFyIG1peGVyPXRoaXMuX21peGVyLG5vdz1taXhlci50aW1lLGludGVycG9sYW50PXRoaXMuX3dlaWdodEludGVycG9sYW50O2lmKGludGVycG9sYW50PT09bnVsbCl7aW50ZXJwb2xhbnQ9bWl4ZXIuX2xlbmRDb250cm9sSW50ZXJwb2xhbnQoKTt0aGlzLl93ZWlnaHRJbnRlcnBvbGFudD1pbnRlcnBvbGFudDt9dmFyIHRpbWVzPWludGVycG9sYW50LnBhcmFtZXRlclBvc2l0aW9ucyx2YWx1ZXM9aW50ZXJwb2xhbnQuc2FtcGxlVmFsdWVzO3RpbWVzWzBdPW5vdzt2YWx1ZXNbMF09d2VpZ2h0Tm93O3RpbWVzWzFdPW5vdytkdXJhdGlvbjt2YWx1ZXNbMV09d2VpZ2h0VGhlbjtyZXR1cm4gdGhpczt9fSk7LyoqCiAgICoKICAgKiBQbGF5ZXIgZm9yIEFuaW1hdGlvbkNsaXBzLgogICAqCiAgICoKICAgKiBAYXV0aG9yIEJlbiBIb3VzdG9uIC8gaHR0cDovL2NsYXJhLmlvLwogICAqIEBhdXRob3IgRGF2aWQgU2Fybm8gLyBodHRwOi8vbGlnaHRoYXVzLnVzLwogICAqIEBhdXRob3IgdHNjaHcKICAgKi9mdW5jdGlvbiBBbmltYXRpb25NaXhlcihyb290KXt0aGlzLl9yb290PXJvb3Q7dGhpcy5faW5pdE1lbW9yeU1hbmFnZXIoKTt0aGlzLl9hY2N1SW5kZXg9MDt0aGlzLnRpbWU9MDt0aGlzLnRpbWVTY2FsZT0xLjA7fUFuaW1hdGlvbk1peGVyLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoRXZlbnREaXNwYXRjaGVyLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOkFuaW1hdGlvbk1peGVyLF9iaW5kQWN0aW9uOmZ1bmN0aW9uIF9iaW5kQWN0aW9uKGFjdGlvbixwcm90b3R5cGVBY3Rpb24pe3ZhciByb290PWFjdGlvbi5fbG9jYWxSb290fHx0aGlzLl9yb290LHRyYWNrcz1hY3Rpb24uX2NsaXAudHJhY2tzLG5UcmFja3M9dHJhY2tzLmxlbmd0aCxiaW5kaW5ncz1hY3Rpb24uX3Byb3BlcnR5QmluZGluZ3MsaW50ZXJwb2xhbnRzPWFjdGlvbi5faW50ZXJwb2xhbnRzLHJvb3RVdWlkPXJvb3QudXVpZCxiaW5kaW5nc0J5Um9vdD10aGlzLl9iaW5kaW5nc0J5Um9vdEFuZE5hbWUsYmluZGluZ3NCeU5hbWU9YmluZGluZ3NCeVJvb3Rbcm9vdFV1aWRdO2lmKGJpbmRpbmdzQnlOYW1lPT09dW5kZWZpbmVkKXtiaW5kaW5nc0J5TmFtZT17fTtiaW5kaW5nc0J5Um9vdFtyb290VXVpZF09YmluZGluZ3NCeU5hbWU7fWZvcih2YXIgaT0wO2khPT1uVHJhY2tzOysraSl7dmFyIHRyYWNrPXRyYWNrc1tpXSx0cmFja05hbWU9dHJhY2submFtZSxiaW5kaW5nPWJpbmRpbmdzQnlOYW1lW3RyYWNrTmFtZV07aWYoYmluZGluZyE9PXVuZGVmaW5lZCl7YmluZGluZ3NbaV09YmluZGluZzt9ZWxzZXtiaW5kaW5nPWJpbmRpbmdzW2ldO2lmKGJpbmRpbmchPT11bmRlZmluZWQpey8vIGV4aXN0aW5nIGJpbmRpbmcsIG1ha2Ugc3VyZSB0aGUgY2FjaGUga25vd3MKaWYoYmluZGluZy5fY2FjaGVJbmRleD09PW51bGwpeysrYmluZGluZy5yZWZlcmVuY2VDb3VudDt0aGlzLl9hZGRJbmFjdGl2ZUJpbmRpbmcoYmluZGluZyxyb290VXVpZCx0cmFja05hbWUpO31jb250aW51ZTt9dmFyIHBhdGg9cHJvdG90eXBlQWN0aW9uJiZwcm90b3R5cGVBY3Rpb24uX3Byb3BlcnR5QmluZGluZ3NbaV0uYmluZGluZy5wYXJzZWRQYXRoO2JpbmRpbmc9bmV3IFByb3BlcnR5TWl4ZXIoUHJvcGVydHlCaW5kaW5nLmNyZWF0ZShyb290LHRyYWNrTmFtZSxwYXRoKSx0cmFjay5WYWx1ZVR5cGVOYW1lLHRyYWNrLmdldFZhbHVlU2l6ZSgpKTsrK2JpbmRpbmcucmVmZXJlbmNlQ291bnQ7dGhpcy5fYWRkSW5hY3RpdmVCaW5kaW5nKGJpbmRpbmcscm9vdFV1aWQsdHJhY2tOYW1lKTtiaW5kaW5nc1tpXT1iaW5kaW5nO31pbnRlcnBvbGFudHNbaV0ucmVzdWx0QnVmZmVyPWJpbmRpbmcuYnVmZmVyO319LF9hY3RpdmF0ZUFjdGlvbjpmdW5jdGlvbiBfYWN0aXZhdGVBY3Rpb24oYWN0aW9uKXtpZighdGhpcy5faXNBY3RpdmVBY3Rpb24oYWN0aW9uKSl7aWYoYWN0aW9uLl9jYWNoZUluZGV4PT09bnVsbCl7Ly8gdGhpcyBhY3Rpb24gaGFzIGJlZW4gZm9yZ290dGVuIGJ5IHRoZSBjYWNoZSwgYnV0IHRoZSB1c2VyCi8vIGFwcGVhcnMgdG8gYmUgc3RpbGwgdXNpbmcgaXQgLT4gcmViaW5kCnZhciByb290VXVpZD0oYWN0aW9uLl9sb2NhbFJvb3R8fHRoaXMuX3Jvb3QpLnV1aWQsY2xpcFV1aWQ9YWN0aW9uLl9jbGlwLnV1aWQsYWN0aW9uc0ZvckNsaXA9dGhpcy5fYWN0aW9uc0J5Q2xpcFtjbGlwVXVpZF07dGhpcy5fYmluZEFjdGlvbihhY3Rpb24sYWN0aW9uc0ZvckNsaXAmJmFjdGlvbnNGb3JDbGlwLmtub3duQWN0aW9uc1swXSk7dGhpcy5fYWRkSW5hY3RpdmVBY3Rpb24oYWN0aW9uLGNsaXBVdWlkLHJvb3RVdWlkKTt9dmFyIGJpbmRpbmdzPWFjdGlvbi5fcHJvcGVydHlCaW5kaW5nczsvLyBpbmNyZW1lbnQgcmVmZXJlbmNlIGNvdW50cyAvIHNvcnQgb3V0IHN0YXRlCmZvcih2YXIgaT0wLG49YmluZGluZ3MubGVuZ3RoO2khPT1uOysraSl7dmFyIGJpbmRpbmc9YmluZGluZ3NbaV07aWYoYmluZGluZy51c2VDb3VudCsrPT09MCl7dGhpcy5fbGVuZEJpbmRpbmcoYmluZGluZyk7YmluZGluZy5zYXZlT3JpZ2luYWxTdGF0ZSgpO319dGhpcy5fbGVuZEFjdGlvbihhY3Rpb24pO319LF9kZWFjdGl2YXRlQWN0aW9uOmZ1bmN0aW9uIF9kZWFjdGl2YXRlQWN0aW9uKGFjdGlvbil7aWYodGhpcy5faXNBY3RpdmVBY3Rpb24oYWN0aW9uKSl7dmFyIGJpbmRpbmdzPWFjdGlvbi5fcHJvcGVydHlCaW5kaW5nczsvLyBkZWNyZW1lbnQgcmVmZXJlbmNlIGNvdW50cyAvIHNvcnQgb3V0IHN0YXRlCmZvcih2YXIgaT0wLG49YmluZGluZ3MubGVuZ3RoO2khPT1uOysraSl7dmFyIGJpbmRpbmc9YmluZGluZ3NbaV07aWYoLS1iaW5kaW5nLnVzZUNvdW50PT09MCl7YmluZGluZy5yZXN0b3JlT3JpZ2luYWxTdGF0ZSgpO3RoaXMuX3Rha2VCYWNrQmluZGluZyhiaW5kaW5nKTt9fXRoaXMuX3Rha2VCYWNrQWN0aW9uKGFjdGlvbik7fX0sLy8gTWVtb3J5IG1hbmFnZXIKX2luaXRNZW1vcnlNYW5hZ2VyOmZ1bmN0aW9uIF9pbml0TWVtb3J5TWFuYWdlcigpe3RoaXMuX2FjdGlvbnM9W107Ly8gJ25BY3RpdmVBY3Rpb25zJyBmb2xsb3dlZCBieSBpbmFjdGl2ZSBvbmVzCnRoaXMuX25BY3RpdmVBY3Rpb25zPTA7dGhpcy5fYWN0aW9uc0J5Q2xpcD17fTsvLyBpbnNpZGU6Ci8vIHsKLy8gCWtub3duQWN0aW9uczogQXJyYXk8IEFuaW1hdGlvbkFjdGlvbiA+IC0gdXNlZCBhcyBwcm90b3R5cGVzCi8vIAlhY3Rpb25CeVJvb3Q6IEFuaW1hdGlvbkFjdGlvbiAtIGxvb2t1cAovLyB9CnRoaXMuX2JpbmRpbmdzPVtdOy8vICduQWN0aXZlQmluZGluZ3MnIGZvbGxvd2VkIGJ5IGluYWN0aXZlIG9uZXMKdGhpcy5fbkFjdGl2ZUJpbmRpbmdzPTA7dGhpcy5fYmluZGluZ3NCeVJvb3RBbmROYW1lPXt9Oy8vIGluc2lkZTogTWFwPCBuYW1lLCBQcm9wZXJ0eU1peGVyID4KdGhpcy5fY29udHJvbEludGVycG9sYW50cz1bXTsvLyBzYW1lIGdhbWUgYXMgYWJvdmUKdGhpcy5fbkFjdGl2ZUNvbnRyb2xJbnRlcnBvbGFudHM9MDt2YXIgc2NvcGU9dGhpczt0aGlzLnN0YXRzPXthY3Rpb25zOntnZXQgdG90YWwoKXtyZXR1cm4gc2NvcGUuX2FjdGlvbnMubGVuZ3RoO30sZ2V0IGluVXNlKCl7cmV0dXJuIHNjb3BlLl9uQWN0aXZlQWN0aW9uczt9fSxiaW5kaW5nczp7Z2V0IHRvdGFsKCl7cmV0dXJuIHNjb3BlLl9iaW5kaW5ncy5sZW5ndGg7fSxnZXQgaW5Vc2UoKXtyZXR1cm4gc2NvcGUuX25BY3RpdmVCaW5kaW5nczt9fSxjb250cm9sSW50ZXJwb2xhbnRzOntnZXQgdG90YWwoKXtyZXR1cm4gc2NvcGUuX2NvbnRyb2xJbnRlcnBvbGFudHMubGVuZ3RoO30sZ2V0IGluVXNlKCl7cmV0dXJuIHNjb3BlLl9uQWN0aXZlQ29udHJvbEludGVycG9sYW50czt9fX07fSwvLyBNZW1vcnkgbWFuYWdlbWVudCBmb3IgQW5pbWF0aW9uQWN0aW9uIG9iamVjdHMKX2lzQWN0aXZlQWN0aW9uOmZ1bmN0aW9uIF9pc0FjdGl2ZUFjdGlvbihhY3Rpb24pe3ZhciBpbmRleD1hY3Rpb24uX2NhY2hlSW5kZXg7cmV0dXJuIGluZGV4IT09bnVsbCYmaW5kZXg8dGhpcy5fbkFjdGl2ZUFjdGlvbnM7fSxfYWRkSW5hY3RpdmVBY3Rpb246ZnVuY3Rpb24gX2FkZEluYWN0aXZlQWN0aW9uKGFjdGlvbixjbGlwVXVpZCxyb290VXVpZCl7dmFyIGFjdGlvbnM9dGhpcy5fYWN0aW9ucyxhY3Rpb25zQnlDbGlwPXRoaXMuX2FjdGlvbnNCeUNsaXAsYWN0aW9uc0ZvckNsaXA9YWN0aW9uc0J5Q2xpcFtjbGlwVXVpZF07aWYoYWN0aW9uc0ZvckNsaXA9PT11bmRlZmluZWQpe2FjdGlvbnNGb3JDbGlwPXtrbm93bkFjdGlvbnM6W2FjdGlvbl0sYWN0aW9uQnlSb290Ont9fTthY3Rpb24uX2J5Q2xpcENhY2hlSW5kZXg9MDthY3Rpb25zQnlDbGlwW2NsaXBVdWlkXT1hY3Rpb25zRm9yQ2xpcDt9ZWxzZXt2YXIga25vd25BY3Rpb25zPWFjdGlvbnNGb3JDbGlwLmtub3duQWN0aW9uczthY3Rpb24uX2J5Q2xpcENhY2hlSW5kZXg9a25vd25BY3Rpb25zLmxlbmd0aDtrbm93bkFjdGlvbnMucHVzaChhY3Rpb24pO31hY3Rpb24uX2NhY2hlSW5kZXg9YWN0aW9ucy5sZW5ndGg7YWN0aW9ucy5wdXNoKGFjdGlvbik7YWN0aW9uc0ZvckNsaXAuYWN0aW9uQnlSb290W3Jvb3RVdWlkXT1hY3Rpb247fSxfcmVtb3ZlSW5hY3RpdmVBY3Rpb246ZnVuY3Rpb24gX3JlbW92ZUluYWN0aXZlQWN0aW9uKGFjdGlvbil7dmFyIGFjdGlvbnM9dGhpcy5fYWN0aW9ucyxsYXN0SW5hY3RpdmVBY3Rpb249YWN0aW9uc1thY3Rpb25zLmxlbmd0aC0xXSxjYWNoZUluZGV4PWFjdGlvbi5fY2FjaGVJbmRleDtsYXN0SW5hY3RpdmVBY3Rpb24uX2NhY2hlSW5kZXg9Y2FjaGVJbmRleDthY3Rpb25zW2NhY2hlSW5kZXhdPWxhc3RJbmFjdGl2ZUFjdGlvbjthY3Rpb25zLnBvcCgpO2FjdGlvbi5fY2FjaGVJbmRleD1udWxsO3ZhciBjbGlwVXVpZD1hY3Rpb24uX2NsaXAudXVpZCxhY3Rpb25zQnlDbGlwPXRoaXMuX2FjdGlvbnNCeUNsaXAsYWN0aW9uc0ZvckNsaXA9YWN0aW9uc0J5Q2xpcFtjbGlwVXVpZF0sa25vd25BY3Rpb25zRm9yQ2xpcD1hY3Rpb25zRm9yQ2xpcC5rbm93bkFjdGlvbnMsbGFzdEtub3duQWN0aW9uPWtub3duQWN0aW9uc0ZvckNsaXBba25vd25BY3Rpb25zRm9yQ2xpcC5sZW5ndGgtMV0sYnlDbGlwQ2FjaGVJbmRleD1hY3Rpb24uX2J5Q2xpcENhY2hlSW5kZXg7bGFzdEtub3duQWN0aW9uLl9ieUNsaXBDYWNoZUluZGV4PWJ5Q2xpcENhY2hlSW5kZXg7a25vd25BY3Rpb25zRm9yQ2xpcFtieUNsaXBDYWNoZUluZGV4XT1sYXN0S25vd25BY3Rpb247a25vd25BY3Rpb25zRm9yQ2xpcC5wb3AoKTthY3Rpb24uX2J5Q2xpcENhY2hlSW5kZXg9bnVsbDt2YXIgYWN0aW9uQnlSb290PWFjdGlvbnNGb3JDbGlwLmFjdGlvbkJ5Um9vdCxyb290VXVpZD0oYWN0aW9uLl9sb2NhbFJvb3R8fHRoaXMuX3Jvb3QpLnV1aWQ7ZGVsZXRlIGFjdGlvbkJ5Um9vdFtyb290VXVpZF07aWYoa25vd25BY3Rpb25zRm9yQ2xpcC5sZW5ndGg9PT0wKXtkZWxldGUgYWN0aW9uc0J5Q2xpcFtjbGlwVXVpZF07fXRoaXMuX3JlbW92ZUluYWN0aXZlQmluZGluZ3NGb3JBY3Rpb24oYWN0aW9uKTt9LF9yZW1vdmVJbmFjdGl2ZUJpbmRpbmdzRm9yQWN0aW9uOmZ1bmN0aW9uIF9yZW1vdmVJbmFjdGl2ZUJpbmRpbmdzRm9yQWN0aW9uKGFjdGlvbil7dmFyIGJpbmRpbmdzPWFjdGlvbi5fcHJvcGVydHlCaW5kaW5ncztmb3IodmFyIGk9MCxuPWJpbmRpbmdzLmxlbmd0aDtpIT09bjsrK2kpe3ZhciBiaW5kaW5nPWJpbmRpbmdzW2ldO2lmKC0tYmluZGluZy5yZWZlcmVuY2VDb3VudD09PTApe3RoaXMuX3JlbW92ZUluYWN0aXZlQmluZGluZyhiaW5kaW5nKTt9fX0sX2xlbmRBY3Rpb246ZnVuY3Rpb24gX2xlbmRBY3Rpb24oYWN0aW9uKXsvLyBbIGFjdGl2ZSBhY3Rpb25zIHwgIGluYWN0aXZlIGFjdGlvbnMgIF0KLy8gWyAgYWN0aXZlIGFjdGlvbnMgPnwgaW5hY3RpdmUgYWN0aW9ucyBdCi8vICAgICAgICAgICAgICAgICBzICAgICAgICBhCi8vICAgICAgICAgICAgICAgICAgPC1zd2FwLT4KLy8gICAgICAgICAgICAgICAgIGEgICAgICAgIHMKdmFyIGFjdGlvbnM9dGhpcy5fYWN0aW9ucyxwcmV2SW5kZXg9YWN0aW9uLl9jYWNoZUluZGV4LGxhc3RBY3RpdmVJbmRleD10aGlzLl9uQWN0aXZlQWN0aW9ucysrLGZpcnN0SW5hY3RpdmVBY3Rpb249YWN0aW9uc1tsYXN0QWN0aXZlSW5kZXhdO2FjdGlvbi5fY2FjaGVJbmRleD1sYXN0QWN0aXZlSW5kZXg7YWN0aW9uc1tsYXN0QWN0aXZlSW5kZXhdPWFjdGlvbjtmaXJzdEluYWN0aXZlQWN0aW9uLl9jYWNoZUluZGV4PXByZXZJbmRleDthY3Rpb25zW3ByZXZJbmRleF09Zmlyc3RJbmFjdGl2ZUFjdGlvbjt9LF90YWtlQmFja0FjdGlvbjpmdW5jdGlvbiBfdGFrZUJhY2tBY3Rpb24oYWN0aW9uKXsvLyBbICBhY3RpdmUgYWN0aW9ucyAgfCBpbmFjdGl2ZSBhY3Rpb25zIF0KLy8gWyBhY3RpdmUgYWN0aW9ucyB8PCBpbmFjdGl2ZSBhY3Rpb25zICBdCi8vICAgICAgICBhICAgICAgICBzCi8vICAgICAgICAgPC1zd2FwLT4KLy8gICAgICAgIHMgICAgICAgIGEKdmFyIGFjdGlvbnM9dGhpcy5fYWN0aW9ucyxwcmV2SW5kZXg9YWN0aW9uLl9jYWNoZUluZGV4LGZpcnN0SW5hY3RpdmVJbmRleD0tLXRoaXMuX25BY3RpdmVBY3Rpb25zLGxhc3RBY3RpdmVBY3Rpb249YWN0aW9uc1tmaXJzdEluYWN0aXZlSW5kZXhdO2FjdGlvbi5fY2FjaGVJbmRleD1maXJzdEluYWN0aXZlSW5kZXg7YWN0aW9uc1tmaXJzdEluYWN0aXZlSW5kZXhdPWFjdGlvbjtsYXN0QWN0aXZlQWN0aW9uLl9jYWNoZUluZGV4PXByZXZJbmRleDthY3Rpb25zW3ByZXZJbmRleF09bGFzdEFjdGl2ZUFjdGlvbjt9LC8vIE1lbW9yeSBtYW5hZ2VtZW50IGZvciBQcm9wZXJ0eU1peGVyIG9iamVjdHMKX2FkZEluYWN0aXZlQmluZGluZzpmdW5jdGlvbiBfYWRkSW5hY3RpdmVCaW5kaW5nKGJpbmRpbmcscm9vdFV1aWQsdHJhY2tOYW1lKXt2YXIgYmluZGluZ3NCeVJvb3Q9dGhpcy5fYmluZGluZ3NCeVJvb3RBbmROYW1lLGJpbmRpbmdCeU5hbWU9YmluZGluZ3NCeVJvb3Rbcm9vdFV1aWRdLGJpbmRpbmdzPXRoaXMuX2JpbmRpbmdzO2lmKGJpbmRpbmdCeU5hbWU9PT11bmRlZmluZWQpe2JpbmRpbmdCeU5hbWU9e307YmluZGluZ3NCeVJvb3Rbcm9vdFV1aWRdPWJpbmRpbmdCeU5hbWU7fWJpbmRpbmdCeU5hbWVbdHJhY2tOYW1lXT1iaW5kaW5nO2JpbmRpbmcuX2NhY2hlSW5kZXg9YmluZGluZ3MubGVuZ3RoO2JpbmRpbmdzLnB1c2goYmluZGluZyk7fSxfcmVtb3ZlSW5hY3RpdmVCaW5kaW5nOmZ1bmN0aW9uIF9yZW1vdmVJbmFjdGl2ZUJpbmRpbmcoYmluZGluZyl7dmFyIGJpbmRpbmdzPXRoaXMuX2JpbmRpbmdzLHByb3BCaW5kaW5nPWJpbmRpbmcuYmluZGluZyxyb290VXVpZD1wcm9wQmluZGluZy5yb290Tm9kZS51dWlkLHRyYWNrTmFtZT1wcm9wQmluZGluZy5wYXRoLGJpbmRpbmdzQnlSb290PXRoaXMuX2JpbmRpbmdzQnlSb290QW5kTmFtZSxiaW5kaW5nQnlOYW1lPWJpbmRpbmdzQnlSb290W3Jvb3RVdWlkXSxsYXN0SW5hY3RpdmVCaW5kaW5nPWJpbmRpbmdzW2JpbmRpbmdzLmxlbmd0aC0xXSxjYWNoZUluZGV4PWJpbmRpbmcuX2NhY2hlSW5kZXg7bGFzdEluYWN0aXZlQmluZGluZy5fY2FjaGVJbmRleD1jYWNoZUluZGV4O2JpbmRpbmdzW2NhY2hlSW5kZXhdPWxhc3RJbmFjdGl2ZUJpbmRpbmc7YmluZGluZ3MucG9wKCk7ZGVsZXRlIGJpbmRpbmdCeU5hbWVbdHJhY2tOYW1lXTtpZihPYmplY3Qua2V5cyhiaW5kaW5nQnlOYW1lKS5sZW5ndGg9PT0wKXtkZWxldGUgYmluZGluZ3NCeVJvb3Rbcm9vdFV1aWRdO319LF9sZW5kQmluZGluZzpmdW5jdGlvbiBfbGVuZEJpbmRpbmcoYmluZGluZyl7dmFyIGJpbmRpbmdzPXRoaXMuX2JpbmRpbmdzLHByZXZJbmRleD1iaW5kaW5nLl9jYWNoZUluZGV4LGxhc3RBY3RpdmVJbmRleD10aGlzLl9uQWN0aXZlQmluZGluZ3MrKyxmaXJzdEluYWN0aXZlQmluZGluZz1iaW5kaW5nc1tsYXN0QWN0aXZlSW5kZXhdO2JpbmRpbmcuX2NhY2hlSW5kZXg9bGFzdEFjdGl2ZUluZGV4O2JpbmRpbmdzW2xhc3RBY3RpdmVJbmRleF09YmluZGluZztmaXJzdEluYWN0aXZlQmluZGluZy5fY2FjaGVJbmRleD1wcmV2SW5kZXg7YmluZGluZ3NbcHJldkluZGV4XT1maXJzdEluYWN0aXZlQmluZGluZzt9LF90YWtlQmFja0JpbmRpbmc6ZnVuY3Rpb24gX3Rha2VCYWNrQmluZGluZyhiaW5kaW5nKXt2YXIgYmluZGluZ3M9dGhpcy5fYmluZGluZ3MscHJldkluZGV4PWJpbmRpbmcuX2NhY2hlSW5kZXgsZmlyc3RJbmFjdGl2ZUluZGV4PS0tdGhpcy5fbkFjdGl2ZUJpbmRpbmdzLGxhc3RBY3RpdmVCaW5kaW5nPWJpbmRpbmdzW2ZpcnN0SW5hY3RpdmVJbmRleF07YmluZGluZy5fY2FjaGVJbmRleD1maXJzdEluYWN0aXZlSW5kZXg7YmluZGluZ3NbZmlyc3RJbmFjdGl2ZUluZGV4XT1iaW5kaW5nO2xhc3RBY3RpdmVCaW5kaW5nLl9jYWNoZUluZGV4PXByZXZJbmRleDtiaW5kaW5nc1twcmV2SW5kZXhdPWxhc3RBY3RpdmVCaW5kaW5nO30sLy8gTWVtb3J5IG1hbmFnZW1lbnQgb2YgSW50ZXJwb2xhbnRzIGZvciB3ZWlnaHQgYW5kIHRpbWUgc2NhbGUKX2xlbmRDb250cm9sSW50ZXJwb2xhbnQ6ZnVuY3Rpb24gX2xlbmRDb250cm9sSW50ZXJwb2xhbnQoKXt2YXIgaW50ZXJwb2xhbnRzPXRoaXMuX2NvbnRyb2xJbnRlcnBvbGFudHMsbGFzdEFjdGl2ZUluZGV4PXRoaXMuX25BY3RpdmVDb250cm9sSW50ZXJwb2xhbnRzKyssaW50ZXJwb2xhbnQ9aW50ZXJwb2xhbnRzW2xhc3RBY3RpdmVJbmRleF07aWYoaW50ZXJwb2xhbnQ9PT11bmRlZmluZWQpe2ludGVycG9sYW50PW5ldyBMaW5lYXJJbnRlcnBvbGFudChuZXcgRmxvYXQzMkFycmF5KDIpLG5ldyBGbG9hdDMyQXJyYXkoMiksMSx0aGlzLl9jb250cm9sSW50ZXJwb2xhbnRzUmVzdWx0QnVmZmVyKTtpbnRlcnBvbGFudC5fX2NhY2hlSW5kZXg9bGFzdEFjdGl2ZUluZGV4O2ludGVycG9sYW50c1tsYXN0QWN0aXZlSW5kZXhdPWludGVycG9sYW50O31yZXR1cm4gaW50ZXJwb2xhbnQ7fSxfdGFrZUJhY2tDb250cm9sSW50ZXJwb2xhbnQ6ZnVuY3Rpb24gX3Rha2VCYWNrQ29udHJvbEludGVycG9sYW50KGludGVycG9sYW50KXt2YXIgaW50ZXJwb2xhbnRzPXRoaXMuX2NvbnRyb2xJbnRlcnBvbGFudHMscHJldkluZGV4PWludGVycG9sYW50Ll9fY2FjaGVJbmRleCxmaXJzdEluYWN0aXZlSW5kZXg9LS10aGlzLl9uQWN0aXZlQ29udHJvbEludGVycG9sYW50cyxsYXN0QWN0aXZlSW50ZXJwb2xhbnQ9aW50ZXJwb2xhbnRzW2ZpcnN0SW5hY3RpdmVJbmRleF07aW50ZXJwb2xhbnQuX19jYWNoZUluZGV4PWZpcnN0SW5hY3RpdmVJbmRleDtpbnRlcnBvbGFudHNbZmlyc3RJbmFjdGl2ZUluZGV4XT1pbnRlcnBvbGFudDtsYXN0QWN0aXZlSW50ZXJwb2xhbnQuX19jYWNoZUluZGV4PXByZXZJbmRleDtpbnRlcnBvbGFudHNbcHJldkluZGV4XT1sYXN0QWN0aXZlSW50ZXJwb2xhbnQ7fSxfY29udHJvbEludGVycG9sYW50c1Jlc3VsdEJ1ZmZlcjpuZXcgRmxvYXQzMkFycmF5KDEpLC8vIHJldHVybiBhbiBhY3Rpb24gZm9yIGEgY2xpcCBvcHRpb25hbGx5IHVzaW5nIGEgY3VzdG9tIHJvb3QgdGFyZ2V0Ci8vIG9iamVjdCAodGhpcyBtZXRob2QgYWxsb2NhdGVzIGEgbG90IG9mIGR5bmFtaWMgbWVtb3J5IGluIGNhc2UgYQovLyBwcmV2aW91c2x5IHVua25vd24gY2xpcC9yb290IGNvbWJpbmF0aW9uIGlzIHNwZWNpZmllZCkKY2xpcEFjdGlvbjpmdW5jdGlvbiBjbGlwQWN0aW9uKGNsaXAsb3B0aW9uYWxSb290KXt2YXIgcm9vdD1vcHRpb25hbFJvb3R8fHRoaXMuX3Jvb3Qscm9vdFV1aWQ9cm9vdC51dWlkLGNsaXBPYmplY3Q9dHlwZW9mIGNsaXA9PT0nc3RyaW5nJz9BbmltYXRpb25DbGlwLmZpbmRCeU5hbWUocm9vdCxjbGlwKTpjbGlwLGNsaXBVdWlkPWNsaXBPYmplY3QhPT1udWxsP2NsaXBPYmplY3QudXVpZDpjbGlwLGFjdGlvbnNGb3JDbGlwPXRoaXMuX2FjdGlvbnNCeUNsaXBbY2xpcFV1aWRdLHByb3RvdHlwZUFjdGlvbj1udWxsO2lmKGFjdGlvbnNGb3JDbGlwIT09dW5kZWZpbmVkKXt2YXIgZXhpc3RpbmdBY3Rpb249YWN0aW9uc0ZvckNsaXAuYWN0aW9uQnlSb290W3Jvb3RVdWlkXTtpZihleGlzdGluZ0FjdGlvbiE9PXVuZGVmaW5lZCl7cmV0dXJuIGV4aXN0aW5nQWN0aW9uO30vLyB3ZSBrbm93IHRoZSBjbGlwLCBzbyB3ZSBkb24ndCBoYXZlIHRvIHBhcnNlIGFsbAovLyB0aGUgYmluZGluZ3MgYWdhaW4gYnV0IGNhbiBqdXN0IGNvcHkKcHJvdG90eXBlQWN0aW9uPWFjdGlvbnNGb3JDbGlwLmtub3duQWN0aW9uc1swXTsvLyBhbHNvLCB0YWtlIHRoZSBjbGlwIGZyb20gdGhlIHByb3RvdHlwZSBhY3Rpb24KaWYoY2xpcE9iamVjdD09PW51bGwpe2NsaXBPYmplY3Q9cHJvdG90eXBlQWN0aW9uLl9jbGlwO319Ly8gY2xpcCBtdXN0IGJlIGtub3duIHdoZW4gc3BlY2lmaWVkIHZpYSBzdHJpbmcKaWYoY2xpcE9iamVjdD09PW51bGwpe3JldHVybiBudWxsO30vLyBhbGxvY2F0ZSBhbGwgcmVzb3VyY2VzIHJlcXVpcmVkIHRvIHJ1biBpdAp2YXIgbmV3QWN0aW9uPW5ldyBBbmltYXRpb25BY3Rpb24odGhpcyxjbGlwT2JqZWN0LG9wdGlvbmFsUm9vdCk7dGhpcy5fYmluZEFjdGlvbihuZXdBY3Rpb24scHJvdG90eXBlQWN0aW9uKTsvLyBhbmQgbWFrZSB0aGUgYWN0aW9uIGtub3duIHRvIHRoZSBtZW1vcnkgbWFuYWdlcgp0aGlzLl9hZGRJbmFjdGl2ZUFjdGlvbihuZXdBY3Rpb24sY2xpcFV1aWQscm9vdFV1aWQpO3JldHVybiBuZXdBY3Rpb247fSwvLyBnZXQgYW4gZXhpc3RpbmcgYWN0aW9uCmV4aXN0aW5nQWN0aW9uOmZ1bmN0aW9uIGV4aXN0aW5nQWN0aW9uKGNsaXAsb3B0aW9uYWxSb290KXt2YXIgcm9vdD1vcHRpb25hbFJvb3R8fHRoaXMuX3Jvb3Qscm9vdFV1aWQ9cm9vdC51dWlkLGNsaXBPYmplY3Q9dHlwZW9mIGNsaXA9PT0nc3RyaW5nJz9BbmltYXRpb25DbGlwLmZpbmRCeU5hbWUocm9vdCxjbGlwKTpjbGlwLGNsaXBVdWlkPWNsaXBPYmplY3Q/Y2xpcE9iamVjdC51dWlkOmNsaXAsYWN0aW9uc0ZvckNsaXA9dGhpcy5fYWN0aW9uc0J5Q2xpcFtjbGlwVXVpZF07aWYoYWN0aW9uc0ZvckNsaXAhPT11bmRlZmluZWQpe3JldHVybiBhY3Rpb25zRm9yQ2xpcC5hY3Rpb25CeVJvb3Rbcm9vdFV1aWRdfHxudWxsO31yZXR1cm4gbnVsbDt9LC8vIGRlYWN0aXZhdGVzIGFsbCBwcmV2aW91c2x5IHNjaGVkdWxlZCBhY3Rpb25zCnN0b3BBbGxBY3Rpb246ZnVuY3Rpb24gc3RvcEFsbEFjdGlvbigpe3ZhciBhY3Rpb25zPXRoaXMuX2FjdGlvbnMsbkFjdGlvbnM9dGhpcy5fbkFjdGl2ZUFjdGlvbnMsYmluZGluZ3M9dGhpcy5fYmluZGluZ3MsbkJpbmRpbmdzPXRoaXMuX25BY3RpdmVCaW5kaW5nczt0aGlzLl9uQWN0aXZlQWN0aW9ucz0wO3RoaXMuX25BY3RpdmVCaW5kaW5ncz0wO2Zvcih2YXIgaT0wO2khPT1uQWN0aW9uczsrK2kpe2FjdGlvbnNbaV0ucmVzZXQoKTt9Zm9yKHZhciBpPTA7aSE9PW5CaW5kaW5nczsrK2kpe2JpbmRpbmdzW2ldLnVzZUNvdW50PTA7fXJldHVybiB0aGlzO30sLy8gYWR2YW5jZSB0aGUgdGltZSBhbmQgdXBkYXRlIGFwcGx5IHRoZSBhbmltYXRpb24KdXBkYXRlOmZ1bmN0aW9uIHVwZGF0ZShkZWx0YVRpbWUpe2RlbHRhVGltZSo9dGhpcy50aW1lU2NhbGU7dmFyIGFjdGlvbnM9dGhpcy5fYWN0aW9ucyxuQWN0aW9ucz10aGlzLl9uQWN0aXZlQWN0aW9ucyx0aW1lPXRoaXMudGltZSs9ZGVsdGFUaW1lLHRpbWVEaXJlY3Rpb249TWF0aC5zaWduKGRlbHRhVGltZSksYWNjdUluZGV4PXRoaXMuX2FjY3VJbmRleF49MTsvLyBydW4gYWN0aXZlIGFjdGlvbnMKZm9yKHZhciBpPTA7aSE9PW5BY3Rpb25zOysraSl7dmFyIGFjdGlvbj1hY3Rpb25zW2ldO2FjdGlvbi5fdXBkYXRlKHRpbWUsZGVsdGFUaW1lLHRpbWVEaXJlY3Rpb24sYWNjdUluZGV4KTt9Ly8gdXBkYXRlIHNjZW5lIGdyYXBoCnZhciBiaW5kaW5ncz10aGlzLl9iaW5kaW5ncyxuQmluZGluZ3M9dGhpcy5fbkFjdGl2ZUJpbmRpbmdzO2Zvcih2YXIgaT0wO2khPT1uQmluZGluZ3M7KytpKXtiaW5kaW5nc1tpXS5hcHBseShhY2N1SW5kZXgpO31yZXR1cm4gdGhpczt9LC8vIEFsbG93cyB5b3UgdG8gc2VlayB0byBhIHNwZWNpZmljIHRpbWUgaW4gYW4gYW5pbWF0aW9uLgpzZXRUaW1lOmZ1bmN0aW9uIHNldFRpbWUodGltZUluU2Vjb25kcyl7dGhpcy50aW1lPTA7Ly8gWmVybyBvdXQgdGltZSBhdHRyaWJ1dGUgZm9yIEFuaW1hdGlvbk1peGVyIG9iamVjdDsKZm9yKHZhciBpPTA7aTx0aGlzLl9hY3Rpb25zLmxlbmd0aDtpKyspe3RoaXMuX2FjdGlvbnNbaV0udGltZT0wOy8vIFplcm8gb3V0IHRpbWUgYXR0cmlidXRlIGZvciBhbGwgYXNzb2NpYXRlZCBBbmltYXRpb25BY3Rpb24gb2JqZWN0cy4KfXJldHVybiB0aGlzLnVwZGF0ZSh0aW1lSW5TZWNvbmRzKTsvLyBVcGRhdGUgdXNlZCB0byBzZXQgZXhhY3QgdGltZS4gUmV0dXJucyAidGhpcyIgQW5pbWF0aW9uTWl4ZXIgb2JqZWN0Lgp9LC8vIHJldHVybiB0aGlzIG1peGVyJ3Mgcm9vdCB0YXJnZXQgb2JqZWN0CmdldFJvb3Q6ZnVuY3Rpb24gZ2V0Um9vdCgpe3JldHVybiB0aGlzLl9yb290O30sLy8gZnJlZSBhbGwgcmVzb3VyY2VzIHNwZWNpZmljIHRvIGEgcGFydGljdWxhciBjbGlwCnVuY2FjaGVDbGlwOmZ1bmN0aW9uIHVuY2FjaGVDbGlwKGNsaXApe3ZhciBhY3Rpb25zPXRoaXMuX2FjdGlvbnMsY2xpcFV1aWQ9Y2xpcC51dWlkLGFjdGlvbnNCeUNsaXA9dGhpcy5fYWN0aW9uc0J5Q2xpcCxhY3Rpb25zRm9yQ2xpcD1hY3Rpb25zQnlDbGlwW2NsaXBVdWlkXTtpZihhY3Rpb25zRm9yQ2xpcCE9PXVuZGVmaW5lZCl7Ly8gbm90ZToganVzdCBjYWxsaW5nIF9yZW1vdmVJbmFjdGl2ZUFjdGlvbiB3b3VsZCBtZXNzIHVwIHRoZQovLyBpdGVyYXRpb24gc3RhdGUgYW5kIGFsc28gcmVxdWlyZSB1cGRhdGluZyB0aGUgc3RhdGUgd2UgY2FuCi8vIGp1c3QgdGhyb3cgYXdheQp2YXIgYWN0aW9uc1RvUmVtb3ZlPWFjdGlvbnNGb3JDbGlwLmtub3duQWN0aW9ucztmb3IodmFyIGk9MCxuPWFjdGlvbnNUb1JlbW92ZS5sZW5ndGg7aSE9PW47KytpKXt2YXIgYWN0aW9uPWFjdGlvbnNUb1JlbW92ZVtpXTt0aGlzLl9kZWFjdGl2YXRlQWN0aW9uKGFjdGlvbik7dmFyIGNhY2hlSW5kZXg9YWN0aW9uLl9jYWNoZUluZGV4LGxhc3RJbmFjdGl2ZUFjdGlvbj1hY3Rpb25zW2FjdGlvbnMubGVuZ3RoLTFdO2FjdGlvbi5fY2FjaGVJbmRleD1udWxsO2FjdGlvbi5fYnlDbGlwQ2FjaGVJbmRleD1udWxsO2xhc3RJbmFjdGl2ZUFjdGlvbi5fY2FjaGVJbmRleD1jYWNoZUluZGV4O2FjdGlvbnNbY2FjaGVJbmRleF09bGFzdEluYWN0aXZlQWN0aW9uO2FjdGlvbnMucG9wKCk7dGhpcy5fcmVtb3ZlSW5hY3RpdmVCaW5kaW5nc0ZvckFjdGlvbihhY3Rpb24pO31kZWxldGUgYWN0aW9uc0J5Q2xpcFtjbGlwVXVpZF07fX0sLy8gZnJlZSBhbGwgcmVzb3VyY2VzIHNwZWNpZmljIHRvIGEgcGFydGljdWxhciByb290IHRhcmdldCBvYmplY3QKdW5jYWNoZVJvb3Q6ZnVuY3Rpb24gdW5jYWNoZVJvb3Qocm9vdCl7dmFyIHJvb3RVdWlkPXJvb3QudXVpZCxhY3Rpb25zQnlDbGlwPXRoaXMuX2FjdGlvbnNCeUNsaXA7Zm9yKHZhciBjbGlwVXVpZCBpbiBhY3Rpb25zQnlDbGlwKXt2YXIgYWN0aW9uQnlSb290PWFjdGlvbnNCeUNsaXBbY2xpcFV1aWRdLmFjdGlvbkJ5Um9vdCxhY3Rpb249YWN0aW9uQnlSb290W3Jvb3RVdWlkXTtpZihhY3Rpb24hPT11bmRlZmluZWQpe3RoaXMuX2RlYWN0aXZhdGVBY3Rpb24oYWN0aW9uKTt0aGlzLl9yZW1vdmVJbmFjdGl2ZUFjdGlvbihhY3Rpb24pO319dmFyIGJpbmRpbmdzQnlSb290PXRoaXMuX2JpbmRpbmdzQnlSb290QW5kTmFtZSxiaW5kaW5nQnlOYW1lPWJpbmRpbmdzQnlSb290W3Jvb3RVdWlkXTtpZihiaW5kaW5nQnlOYW1lIT09dW5kZWZpbmVkKXtmb3IodmFyIHRyYWNrTmFtZSBpbiBiaW5kaW5nQnlOYW1lKXt2YXIgYmluZGluZz1iaW5kaW5nQnlOYW1lW3RyYWNrTmFtZV07YmluZGluZy5yZXN0b3JlT3JpZ2luYWxTdGF0ZSgpO3RoaXMuX3JlbW92ZUluYWN0aXZlQmluZGluZyhiaW5kaW5nKTt9fX0sLy8gcmVtb3ZlIGEgdGFyZ2V0ZWQgY2xpcCBmcm9tIHRoZSBjYWNoZQp1bmNhY2hlQWN0aW9uOmZ1bmN0aW9uIHVuY2FjaGVBY3Rpb24oY2xpcCxvcHRpb25hbFJvb3Qpe3ZhciBhY3Rpb249dGhpcy5leGlzdGluZ0FjdGlvbihjbGlwLG9wdGlvbmFsUm9vdCk7aWYoYWN0aW9uIT09bnVsbCl7dGhpcy5fZGVhY3RpdmF0ZUFjdGlvbihhY3Rpb24pO3RoaXMuX3JlbW92ZUluYWN0aXZlQWN0aW9uKGFjdGlvbik7fX19KTsvKioKICAgKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tLwogICAqL2Z1bmN0aW9uIFVuaWZvcm0odmFsdWUpe2lmKHR5cGVvZiB2YWx1ZT09PSdzdHJpbmcnKXtjb25zb2xlLndhcm4oJ1RIUkVFLlVuaWZvcm06IFR5cGUgcGFyYW1ldGVyIGlzIG5vIGxvbmdlciBuZWVkZWQuJyk7dmFsdWU9YXJndW1lbnRzWzFdO310aGlzLnZhbHVlPXZhbHVlO31Vbmlmb3JtLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgVW5pZm9ybSh0aGlzLnZhbHVlLmNsb25lPT09dW5kZWZpbmVkP3RoaXMudmFsdWU6dGhpcy52YWx1ZS5jbG9uZSgpKTt9Oy8qKgogICAqIEBhdXRob3IgYmVuYWFkYW1zIC8gaHR0cHM6Ly90d2l0dGVyLmNvbS9iZW5fYV9hZGFtcwogICAqL2Z1bmN0aW9uIEluc3RhbmNlZEludGVybGVhdmVkQnVmZmVyKGFycmF5LHN0cmlkZSxtZXNoUGVyQXR0cmlidXRlKXtJbnRlcmxlYXZlZEJ1ZmZlci5jYWxsKHRoaXMsYXJyYXksc3RyaWRlKTt0aGlzLm1lc2hQZXJBdHRyaWJ1dGU9bWVzaFBlckF0dHJpYnV0ZXx8MTt9SW5zdGFuY2VkSW50ZXJsZWF2ZWRCdWZmZXIucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShJbnRlcmxlYXZlZEJ1ZmZlci5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpJbnN0YW5jZWRJbnRlcmxlYXZlZEJ1ZmZlcixpc0luc3RhbmNlZEludGVybGVhdmVkQnVmZmVyOnRydWUsY29weTpmdW5jdGlvbiBjb3B5KHNvdXJjZSl7SW50ZXJsZWF2ZWRCdWZmZXIucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHNvdXJjZSk7dGhpcy5tZXNoUGVyQXR0cmlidXRlPXNvdXJjZS5tZXNoUGVyQXR0cmlidXRlO3JldHVybiB0aGlzO319KTsvKioKICAgKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tLwogICAqIEBhdXRob3IgYmhvdXN0b24gLyBodHRwOi8vY2xhcmEuaW8vCiAgICogQGF1dGhvciBzdGVwaG9taSAvIGh0dHA6Ly9zdGVwaGFuZWdpbmllci5jb20vCiAgICovZnVuY3Rpb24gUmF5Y2FzdGVyKG9yaWdpbixkaXJlY3Rpb24sbmVhcixmYXIpe3RoaXMucmF5PW5ldyBSYXkob3JpZ2luLGRpcmVjdGlvbik7Ly8gZGlyZWN0aW9uIGlzIGFzc3VtZWQgdG8gYmUgbm9ybWFsaXplZCAoZm9yIGFjY3VyYXRlIGRpc3RhbmNlIGNhbGN1bGF0aW9ucykKdGhpcy5uZWFyPW5lYXJ8fDA7dGhpcy5mYXI9ZmFyfHxJbmZpbml0eTt0aGlzLmNhbWVyYT1udWxsO3RoaXMucGFyYW1zPXtNZXNoOnt9LExpbmU6e30sTE9EOnt9LFBvaW50czp7dGhyZXNob2xkOjF9LFNwcml0ZTp7fX07T2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcy5wYXJhbXMse1BvaW50Q2xvdWQ6e2dldDpmdW5jdGlvbiBnZXQoKXtjb25zb2xlLndhcm4oJ1RIUkVFLlJheWNhc3RlcjogcGFyYW1zLlBvaW50Q2xvdWQgaGFzIGJlZW4gcmVuYW1lZCB0byBwYXJhbXMuUG9pbnRzLicpO3JldHVybiB0aGlzLlBvaW50czt9fX0pO31mdW5jdGlvbiBhc2NTb3J0KGEsYil7cmV0dXJuIGEuZGlzdGFuY2UtYi5kaXN0YW5jZTt9ZnVuY3Rpb24gX2ludGVyc2VjdE9iamVjdChvYmplY3QscmF5Y2FzdGVyLGludGVyc2VjdHMscmVjdXJzaXZlKXtpZihvYmplY3QudmlzaWJsZT09PWZhbHNlKXtyZXR1cm47fW9iamVjdC5yYXljYXN0KHJheWNhc3RlcixpbnRlcnNlY3RzKTtpZihyZWN1cnNpdmU9PT10cnVlKXt2YXIgY2hpbGRyZW49b2JqZWN0LmNoaWxkcmVuO2Zvcih2YXIgaT0wLGw9Y2hpbGRyZW4ubGVuZ3RoO2k8bDtpKyspe19pbnRlcnNlY3RPYmplY3QoY2hpbGRyZW5baV0scmF5Y2FzdGVyLGludGVyc2VjdHMsdHJ1ZSk7fX19T2JqZWN0LmFzc2lnbihSYXljYXN0ZXIucHJvdG90eXBlLHtsaW5lUHJlY2lzaW9uOjEsc2V0OmZ1bmN0aW9uIHNldChvcmlnaW4sZGlyZWN0aW9uKXsvLyBkaXJlY3Rpb24gaXMgYXNzdW1lZCB0byBiZSBub3JtYWxpemVkIChmb3IgYWNjdXJhdGUgZGlzdGFuY2UgY2FsY3VsYXRpb25zKQp0aGlzLnJheS5zZXQob3JpZ2luLGRpcmVjdGlvbik7fSxzZXRGcm9tQ2FtZXJhOmZ1bmN0aW9uIHNldEZyb21DYW1lcmEoY29vcmRzLGNhbWVyYSl7aWYoY2FtZXJhJiZjYW1lcmEuaXNQZXJzcGVjdGl2ZUNhbWVyYSl7dGhpcy5yYXkub3JpZ2luLnNldEZyb21NYXRyaXhQb3NpdGlvbihjYW1lcmEubWF0cml4V29ybGQpO3RoaXMucmF5LmRpcmVjdGlvbi5zZXQoY29vcmRzLngsY29vcmRzLnksMC41KS51bnByb2plY3QoY2FtZXJhKS5zdWIodGhpcy5yYXkub3JpZ2luKS5ub3JtYWxpemUoKTt0aGlzLmNhbWVyYT1jYW1lcmE7fWVsc2UgaWYoY2FtZXJhJiZjYW1lcmEuaXNPcnRob2dyYXBoaWNDYW1lcmEpe3RoaXMucmF5Lm9yaWdpbi5zZXQoY29vcmRzLngsY29vcmRzLnksKGNhbWVyYS5uZWFyK2NhbWVyYS5mYXIpLyhjYW1lcmEubmVhci1jYW1lcmEuZmFyKSkudW5wcm9qZWN0KGNhbWVyYSk7Ly8gc2V0IG9yaWdpbiBpbiBwbGFuZSBvZiBjYW1lcmEKdGhpcy5yYXkuZGlyZWN0aW9uLnNldCgwLDAsLTEpLnRyYW5zZm9ybURpcmVjdGlvbihjYW1lcmEubWF0cml4V29ybGQpO3RoaXMuY2FtZXJhPWNhbWVyYTt9ZWxzZXtjb25zb2xlLmVycm9yKCdUSFJFRS5SYXljYXN0ZXI6IFVuc3VwcG9ydGVkIGNhbWVyYSB0eXBlLicpO319LGludGVyc2VjdE9iamVjdDpmdW5jdGlvbiBpbnRlcnNlY3RPYmplY3Qob2JqZWN0LHJlY3Vyc2l2ZSxvcHRpb25hbFRhcmdldCl7dmFyIGludGVyc2VjdHM9b3B0aW9uYWxUYXJnZXR8fFtdO19pbnRlcnNlY3RPYmplY3Qob2JqZWN0LHRoaXMsaW50ZXJzZWN0cyxyZWN1cnNpdmUpO2ludGVyc2VjdHMuc29ydChhc2NTb3J0KTtyZXR1cm4gaW50ZXJzZWN0czt9LGludGVyc2VjdE9iamVjdHM6ZnVuY3Rpb24gaW50ZXJzZWN0T2JqZWN0cyhvYmplY3RzLHJlY3Vyc2l2ZSxvcHRpb25hbFRhcmdldCl7dmFyIGludGVyc2VjdHM9b3B0aW9uYWxUYXJnZXR8fFtdO2lmKEFycmF5LmlzQXJyYXkob2JqZWN0cyk9PT1mYWxzZSl7Y29uc29sZS53YXJuKCdUSFJFRS5SYXljYXN0ZXIuaW50ZXJzZWN0T2JqZWN0czogb2JqZWN0cyBpcyBub3QgYW4gQXJyYXkuJyk7cmV0dXJuIGludGVyc2VjdHM7fWZvcih2YXIgaT0wLGw9b2JqZWN0cy5sZW5ndGg7aTxsO2krKyl7X2ludGVyc2VjdE9iamVjdChvYmplY3RzW2ldLHRoaXMsaW50ZXJzZWN0cyxyZWN1cnNpdmUpO31pbnRlcnNlY3RzLnNvcnQoYXNjU29ydCk7cmV0dXJuIGludGVyc2VjdHM7fX0pOy8qKgogICAqIEBhdXRob3IgYmhvdXN0b24gLyBodHRwOi8vY2xhcmEuaW8KICAgKiBAYXV0aG9yIFdlc3RMYW5nbGV5IC8gaHR0cDovL2dpdGh1Yi5jb20vV2VzdExhbmdsZXkKICAgKgogICAqIFJlZjogaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU3BoZXJpY2FsX2Nvb3JkaW5hdGVfc3lzdGVtCiAgICoKICAgKiBUaGUgcG9sYXIgYW5nbGUgKHBoaSkgaXMgbWVhc3VyZWQgZnJvbSB0aGUgcG9zaXRpdmUgeS1heGlzLiBUaGUgcG9zaXRpdmUgeS1heGlzIGlzIHVwLgogICAqIFRoZSBhemltdXRoYWwgYW5nbGUgKHRoZXRhKSBpcyBtZWFzdXJlZCBmcm9tIHRoZSBwb3NpdGl2ZSB6LWF4aXMuCiAgICovZnVuY3Rpb24gU3BoZXJpY2FsKHJhZGl1cyxwaGksdGhldGEpe3RoaXMucmFkaXVzPXJhZGl1cyE9PXVuZGVmaW5lZD9yYWRpdXM6MS4wO3RoaXMucGhpPXBoaSE9PXVuZGVmaW5lZD9waGk6MDsvLyBwb2xhciBhbmdsZQp0aGlzLnRoZXRhPXRoZXRhIT09dW5kZWZpbmVkP3RoZXRhOjA7Ly8gYXppbXV0aGFsIGFuZ2xlCnJldHVybiB0aGlzO31PYmplY3QuYXNzaWduKFNwaGVyaWNhbC5wcm90b3R5cGUse3NldDpmdW5jdGlvbiBzZXQocmFkaXVzLHBoaSx0aGV0YSl7dGhpcy5yYWRpdXM9cmFkaXVzO3RoaXMucGhpPXBoaTt0aGlzLnRoZXRhPXRoZXRhO3JldHVybiB0aGlzO30sY2xvbmU6ZnVuY3Rpb24gY2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoKS5jb3B5KHRoaXMpO30sY29weTpmdW5jdGlvbiBjb3B5KG90aGVyKXt0aGlzLnJhZGl1cz1vdGhlci5yYWRpdXM7dGhpcy5waGk9b3RoZXIucGhpO3RoaXMudGhldGE9b3RoZXIudGhldGE7cmV0dXJuIHRoaXM7fSwvLyByZXN0cmljdCBwaGkgdG8gYmUgYmV0d2VlIEVQUyBhbmQgUEktRVBTCm1ha2VTYWZlOmZ1bmN0aW9uIG1ha2VTYWZlKCl7dmFyIEVQUz0wLjAwMDAwMTt0aGlzLnBoaT1NYXRoLm1heChFUFMsTWF0aC5taW4oTWF0aC5QSS1FUFMsdGhpcy5waGkpKTtyZXR1cm4gdGhpczt9LHNldEZyb21WZWN0b3IzOmZ1bmN0aW9uIHNldEZyb21WZWN0b3IzKHYpe3JldHVybiB0aGlzLnNldEZyb21DYXJ0ZXNpYW5Db29yZHModi54LHYueSx2LnopO30sc2V0RnJvbUNhcnRlc2lhbkNvb3JkczpmdW5jdGlvbiBzZXRGcm9tQ2FydGVzaWFuQ29vcmRzKHgseSx6KXt0aGlzLnJhZGl1cz1NYXRoLnNxcnQoeCp4K3kqeSt6KnopO2lmKHRoaXMucmFkaXVzPT09MCl7dGhpcy50aGV0YT0wO3RoaXMucGhpPTA7fWVsc2V7dGhpcy50aGV0YT1NYXRoLmF0YW4yKHgseik7dGhpcy5waGk9TWF0aC5hY29zKF9NYXRoLmNsYW1wKHkvdGhpcy5yYWRpdXMsLTEsMSkpO31yZXR1cm4gdGhpczt9fSk7LyoqCiAgICogQGF1dGhvciBNdWdlbjg3IC8gaHR0cHM6Ly9naXRodWIuY29tL011Z2VuODcKICAgKgogICAqIFJlZjogaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ3lsaW5kcmljYWxfY29vcmRpbmF0ZV9zeXN0ZW0KICAgKgogICAqL2Z1bmN0aW9uIEN5bGluZHJpY2FsKHJhZGl1cyx0aGV0YSx5KXt0aGlzLnJhZGl1cz1yYWRpdXMhPT11bmRlZmluZWQ/cmFkaXVzOjEuMDsvLyBkaXN0YW5jZSBmcm9tIHRoZSBvcmlnaW4gdG8gYSBwb2ludCBpbiB0aGUgeC16IHBsYW5lCnRoaXMudGhldGE9dGhldGEhPT11bmRlZmluZWQ/dGhldGE6MDsvLyBjb3VudGVyY2xvY2t3aXNlIGFuZ2xlIGluIHRoZSB4LXogcGxhbmUgbWVhc3VyZWQgaW4gcmFkaWFucyBmcm9tIHRoZSBwb3NpdGl2ZSB6LWF4aXMKdGhpcy55PXkhPT11bmRlZmluZWQ/eTowOy8vIGhlaWdodCBhYm92ZSB0aGUgeC16IHBsYW5lCnJldHVybiB0aGlzO31PYmplY3QuYXNzaWduKEN5bGluZHJpY2FsLnByb3RvdHlwZSx7c2V0OmZ1bmN0aW9uIHNldChyYWRpdXMsdGhldGEseSl7dGhpcy5yYWRpdXM9cmFkaXVzO3RoaXMudGhldGE9dGhldGE7dGhpcy55PXk7cmV0dXJuIHRoaXM7fSxjbG9uZTpmdW5jdGlvbiBjbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmNvcHkodGhpcyk7fSxjb3B5OmZ1bmN0aW9uIGNvcHkob3RoZXIpe3RoaXMucmFkaXVzPW90aGVyLnJhZGl1czt0aGlzLnRoZXRhPW90aGVyLnRoZXRhO3RoaXMueT1vdGhlci55O3JldHVybiB0aGlzO30sc2V0RnJvbVZlY3RvcjM6ZnVuY3Rpb24gc2V0RnJvbVZlY3RvcjModil7cmV0dXJuIHRoaXMuc2V0RnJvbUNhcnRlc2lhbkNvb3Jkcyh2Lngsdi55LHYueik7fSxzZXRGcm9tQ2FydGVzaWFuQ29vcmRzOmZ1bmN0aW9uIHNldEZyb21DYXJ0ZXNpYW5Db29yZHMoeCx5LHope3RoaXMucmFkaXVzPU1hdGguc3FydCh4Kngreip6KTt0aGlzLnRoZXRhPU1hdGguYXRhbjIoeCx6KTt0aGlzLnk9eTtyZXR1cm4gdGhpczt9fSk7LyoqCiAgICogQGF1dGhvciBiaG91c3RvbiAvIGh0dHA6Ly9jbGFyYS5pbwogICAqL3ZhciBfdmVjdG9yJDg9bmV3IFZlY3RvcjIoKTtmdW5jdGlvbiBCb3gyKG1pbixtYXgpe3RoaXMubWluPW1pbiE9PXVuZGVmaW5lZD9taW46bmV3IFZlY3RvcjIoK0luZmluaXR5LCtJbmZpbml0eSk7dGhpcy5tYXg9bWF4IT09dW5kZWZpbmVkP21heDpuZXcgVmVjdG9yMigtSW5maW5pdHksLUluZmluaXR5KTt9T2JqZWN0LmFzc2lnbihCb3gyLnByb3RvdHlwZSx7c2V0OmZ1bmN0aW9uIHNldChtaW4sbWF4KXt0aGlzLm1pbi5jb3B5KG1pbik7dGhpcy5tYXguY29weShtYXgpO3JldHVybiB0aGlzO30sc2V0RnJvbVBvaW50czpmdW5jdGlvbiBzZXRGcm9tUG9pbnRzKHBvaW50cyl7dGhpcy5tYWtlRW1wdHkoKTtmb3IodmFyIGk9MCxpbD1wb2ludHMubGVuZ3RoO2k8aWw7aSsrKXt0aGlzLmV4cGFuZEJ5UG9pbnQocG9pbnRzW2ldKTt9cmV0dXJuIHRoaXM7fSxzZXRGcm9tQ2VudGVyQW5kU2l6ZTpmdW5jdGlvbiBzZXRGcm9tQ2VudGVyQW5kU2l6ZShjZW50ZXIsc2l6ZSl7dmFyIGhhbGZTaXplPV92ZWN0b3IkOC5jb3B5KHNpemUpLm11bHRpcGx5U2NhbGFyKDAuNSk7dGhpcy5taW4uY29weShjZW50ZXIpLnN1YihoYWxmU2l6ZSk7dGhpcy5tYXguY29weShjZW50ZXIpLmFkZChoYWxmU2l6ZSk7cmV0dXJuIHRoaXM7fSxjbG9uZTpmdW5jdGlvbiBjbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmNvcHkodGhpcyk7fSxjb3B5OmZ1bmN0aW9uIGNvcHkoYm94KXt0aGlzLm1pbi5jb3B5KGJveC5taW4pO3RoaXMubWF4LmNvcHkoYm94Lm1heCk7cmV0dXJuIHRoaXM7fSxtYWtlRW1wdHk6ZnVuY3Rpb24gbWFrZUVtcHR5KCl7dGhpcy5taW4ueD10aGlzLm1pbi55PStJbmZpbml0eTt0aGlzLm1heC54PXRoaXMubWF4Lnk9LUluZmluaXR5O3JldHVybiB0aGlzO30saXNFbXB0eTpmdW5jdGlvbiBpc0VtcHR5KCl7Ly8gdGhpcyBpcyBhIG1vcmUgcm9idXN0IGNoZWNrIGZvciBlbXB0eSB0aGFuICggdm9sdW1lIDw9IDAgKSBiZWNhdXNlIHZvbHVtZSBjYW4gZ2V0IHBvc2l0aXZlIHdpdGggdHdvIG5lZ2F0aXZlIGF4ZXMKcmV0dXJuIHRoaXMubWF4Lng8dGhpcy5taW4ueHx8dGhpcy5tYXgueTx0aGlzLm1pbi55O30sZ2V0Q2VudGVyOmZ1bmN0aW9uIGdldENlbnRlcih0YXJnZXQpe2lmKHRhcmdldD09PXVuZGVmaW5lZCl7Y29uc29sZS53YXJuKCdUSFJFRS5Cb3gyOiAuZ2V0Q2VudGVyKCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCcpO3RhcmdldD1uZXcgVmVjdG9yMigpO31yZXR1cm4gdGhpcy5pc0VtcHR5KCk/dGFyZ2V0LnNldCgwLDApOnRhcmdldC5hZGRWZWN0b3JzKHRoaXMubWluLHRoaXMubWF4KS5tdWx0aXBseVNjYWxhcigwLjUpO30sZ2V0U2l6ZTpmdW5jdGlvbiBnZXRTaXplKHRhcmdldCl7aWYodGFyZ2V0PT09dW5kZWZpbmVkKXtjb25zb2xlLndhcm4oJ1RIUkVFLkJveDI6IC5nZXRTaXplKCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCcpO3RhcmdldD1uZXcgVmVjdG9yMigpO31yZXR1cm4gdGhpcy5pc0VtcHR5KCk/dGFyZ2V0LnNldCgwLDApOnRhcmdldC5zdWJWZWN0b3JzKHRoaXMubWF4LHRoaXMubWluKTt9LGV4cGFuZEJ5UG9pbnQ6ZnVuY3Rpb24gZXhwYW5kQnlQb2ludChwb2ludCl7dGhpcy5taW4ubWluKHBvaW50KTt0aGlzLm1heC5tYXgocG9pbnQpO3JldHVybiB0aGlzO30sZXhwYW5kQnlWZWN0b3I6ZnVuY3Rpb24gZXhwYW5kQnlWZWN0b3IodmVjdG9yKXt0aGlzLm1pbi5zdWIodmVjdG9yKTt0aGlzLm1heC5hZGQodmVjdG9yKTtyZXR1cm4gdGhpczt9LGV4cGFuZEJ5U2NhbGFyOmZ1bmN0aW9uIGV4cGFuZEJ5U2NhbGFyKHNjYWxhcil7dGhpcy5taW4uYWRkU2NhbGFyKC1zY2FsYXIpO3RoaXMubWF4LmFkZFNjYWxhcihzY2FsYXIpO3JldHVybiB0aGlzO30sY29udGFpbnNQb2ludDpmdW5jdGlvbiBjb250YWluc1BvaW50KHBvaW50KXtyZXR1cm4gcG9pbnQueDx0aGlzLm1pbi54fHxwb2ludC54PnRoaXMubWF4Lnh8fHBvaW50Lnk8dGhpcy5taW4ueXx8cG9pbnQueT50aGlzLm1heC55P2ZhbHNlOnRydWU7fSxjb250YWluc0JveDpmdW5jdGlvbiBjb250YWluc0JveChib3gpe3JldHVybiB0aGlzLm1pbi54PD1ib3gubWluLngmJmJveC5tYXgueDw9dGhpcy5tYXgueCYmdGhpcy5taW4ueTw9Ym94Lm1pbi55JiZib3gubWF4Lnk8PXRoaXMubWF4Lnk7fSxnZXRQYXJhbWV0ZXI6ZnVuY3Rpb24gZ2V0UGFyYW1ldGVyKHBvaW50LHRhcmdldCl7Ly8gVGhpcyBjYW4gcG90ZW50aWFsbHkgaGF2ZSBhIGRpdmlkZSBieSB6ZXJvIGlmIHRoZSBib3gKLy8gaGFzIGEgc2l6ZSBkaW1lbnNpb24gb2YgMC4KaWYodGFyZ2V0PT09dW5kZWZpbmVkKXtjb25zb2xlLndhcm4oJ1RIUkVFLkJveDI6IC5nZXRQYXJhbWV0ZXIoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkJyk7dGFyZ2V0PW5ldyBWZWN0b3IyKCk7fXJldHVybiB0YXJnZXQuc2V0KChwb2ludC54LXRoaXMubWluLngpLyh0aGlzLm1heC54LXRoaXMubWluLngpLChwb2ludC55LXRoaXMubWluLnkpLyh0aGlzLm1heC55LXRoaXMubWluLnkpKTt9LGludGVyc2VjdHNCb3g6ZnVuY3Rpb24gaW50ZXJzZWN0c0JveChib3gpey8vIHVzaW5nIDQgc3BsaXR0aW5nIHBsYW5lcyB0byBydWxlIG91dCBpbnRlcnNlY3Rpb25zCnJldHVybiBib3gubWF4Lng8dGhpcy5taW4ueHx8Ym94Lm1pbi54PnRoaXMubWF4Lnh8fGJveC5tYXgueTx0aGlzLm1pbi55fHxib3gubWluLnk+dGhpcy5tYXgueT9mYWxzZTp0cnVlO30sY2xhbXBQb2ludDpmdW5jdGlvbiBjbGFtcFBvaW50KHBvaW50LHRhcmdldCl7aWYodGFyZ2V0PT09dW5kZWZpbmVkKXtjb25zb2xlLndhcm4oJ1RIUkVFLkJveDI6IC5jbGFtcFBvaW50KCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCcpO3RhcmdldD1uZXcgVmVjdG9yMigpO31yZXR1cm4gdGFyZ2V0LmNvcHkocG9pbnQpLmNsYW1wKHRoaXMubWluLHRoaXMubWF4KTt9LGRpc3RhbmNlVG9Qb2ludDpmdW5jdGlvbiBkaXN0YW5jZVRvUG9pbnQocG9pbnQpe3ZhciBjbGFtcGVkUG9pbnQ9X3ZlY3RvciQ4LmNvcHkocG9pbnQpLmNsYW1wKHRoaXMubWluLHRoaXMubWF4KTtyZXR1cm4gY2xhbXBlZFBvaW50LnN1Yihwb2ludCkubGVuZ3RoKCk7fSxpbnRlcnNlY3Q6ZnVuY3Rpb24gaW50ZXJzZWN0KGJveCl7dGhpcy5taW4ubWF4KGJveC5taW4pO3RoaXMubWF4Lm1pbihib3gubWF4KTtyZXR1cm4gdGhpczt9LHVuaW9uOmZ1bmN0aW9uIHVuaW9uKGJveCl7dGhpcy5taW4ubWluKGJveC5taW4pO3RoaXMubWF4Lm1heChib3gubWF4KTtyZXR1cm4gdGhpczt9LHRyYW5zbGF0ZTpmdW5jdGlvbiB0cmFuc2xhdGUob2Zmc2V0KXt0aGlzLm1pbi5hZGQob2Zmc2V0KTt0aGlzLm1heC5hZGQob2Zmc2V0KTtyZXR1cm4gdGhpczt9LGVxdWFsczpmdW5jdGlvbiBlcXVhbHMoYm94KXtyZXR1cm4gYm94Lm1pbi5lcXVhbHModGhpcy5taW4pJiZib3gubWF4LmVxdWFscyh0aGlzLm1heCk7fX0pOy8qKgogICAqIEBhdXRob3IgYmhvdXN0b24gLyBodHRwOi8vY2xhcmEuaW8KICAgKi92YXIgX3N0YXJ0UD1uZXcgVmVjdG9yMygpO3ZhciBfc3RhcnRFbmQ9bmV3IFZlY3RvcjMoKTtmdW5jdGlvbiBMaW5lMyhzdGFydCxlbmQpe3RoaXMuc3RhcnQ9c3RhcnQhPT11bmRlZmluZWQ/c3RhcnQ6bmV3IFZlY3RvcjMoKTt0aGlzLmVuZD1lbmQhPT11bmRlZmluZWQ/ZW5kOm5ldyBWZWN0b3IzKCk7fU9iamVjdC5hc3NpZ24oTGluZTMucHJvdG90eXBlLHtzZXQ6ZnVuY3Rpb24gc2V0KHN0YXJ0LGVuZCl7dGhpcy5zdGFydC5jb3B5KHN0YXJ0KTt0aGlzLmVuZC5jb3B5KGVuZCk7cmV0dXJuIHRoaXM7fSxjbG9uZTpmdW5jdGlvbiBjbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmNvcHkodGhpcyk7fSxjb3B5OmZ1bmN0aW9uIGNvcHkobGluZSl7dGhpcy5zdGFydC5jb3B5KGxpbmUuc3RhcnQpO3RoaXMuZW5kLmNvcHkobGluZS5lbmQpO3JldHVybiB0aGlzO30sZ2V0Q2VudGVyOmZ1bmN0aW9uIGdldENlbnRlcih0YXJnZXQpe2lmKHRhcmdldD09PXVuZGVmaW5lZCl7Y29uc29sZS53YXJuKCdUSFJFRS5MaW5lMzogLmdldENlbnRlcigpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQnKTt0YXJnZXQ9bmV3IFZlY3RvcjMoKTt9cmV0dXJuIHRhcmdldC5hZGRWZWN0b3JzKHRoaXMuc3RhcnQsdGhpcy5lbmQpLm11bHRpcGx5U2NhbGFyKDAuNSk7fSxkZWx0YTpmdW5jdGlvbiBkZWx0YSh0YXJnZXQpe2lmKHRhcmdldD09PXVuZGVmaW5lZCl7Y29uc29sZS53YXJuKCdUSFJFRS5MaW5lMzogLmRlbHRhKCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCcpO3RhcmdldD1uZXcgVmVjdG9yMygpO31yZXR1cm4gdGFyZ2V0LnN1YlZlY3RvcnModGhpcy5lbmQsdGhpcy5zdGFydCk7fSxkaXN0YW5jZVNxOmZ1bmN0aW9uIGRpc3RhbmNlU3EoKXtyZXR1cm4gdGhpcy5zdGFydC5kaXN0YW5jZVRvU3F1YXJlZCh0aGlzLmVuZCk7fSxkaXN0YW5jZTpmdW5jdGlvbiBkaXN0YW5jZSgpe3JldHVybiB0aGlzLnN0YXJ0LmRpc3RhbmNlVG8odGhpcy5lbmQpO30sYXQ6ZnVuY3Rpb24gYXQodCx0YXJnZXQpe2lmKHRhcmdldD09PXVuZGVmaW5lZCl7Y29uc29sZS53YXJuKCdUSFJFRS5MaW5lMzogLmF0KCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCcpO3RhcmdldD1uZXcgVmVjdG9yMygpO31yZXR1cm4gdGhpcy5kZWx0YSh0YXJnZXQpLm11bHRpcGx5U2NhbGFyKHQpLmFkZCh0aGlzLnN0YXJ0KTt9LGNsb3Nlc3RQb2ludFRvUG9pbnRQYXJhbWV0ZXI6ZnVuY3Rpb24gY2xvc2VzdFBvaW50VG9Qb2ludFBhcmFtZXRlcihwb2ludCxjbGFtcFRvTGluZSl7X3N0YXJ0UC5zdWJWZWN0b3JzKHBvaW50LHRoaXMuc3RhcnQpO19zdGFydEVuZC5zdWJWZWN0b3JzKHRoaXMuZW5kLHRoaXMuc3RhcnQpO3ZhciBzdGFydEVuZDI9X3N0YXJ0RW5kLmRvdChfc3RhcnRFbmQpO3ZhciBzdGFydEVuZF9zdGFydFA9X3N0YXJ0RW5kLmRvdChfc3RhcnRQKTt2YXIgdD1zdGFydEVuZF9zdGFydFAvc3RhcnRFbmQyO2lmKGNsYW1wVG9MaW5lKXt0PV9NYXRoLmNsYW1wKHQsMCwxKTt9cmV0dXJuIHQ7fSxjbG9zZXN0UG9pbnRUb1BvaW50OmZ1bmN0aW9uIGNsb3Nlc3RQb2ludFRvUG9pbnQocG9pbnQsY2xhbXBUb0xpbmUsdGFyZ2V0KXt2YXIgdD10aGlzLmNsb3Nlc3RQb2ludFRvUG9pbnRQYXJhbWV0ZXIocG9pbnQsY2xhbXBUb0xpbmUpO2lmKHRhcmdldD09PXVuZGVmaW5lZCl7Y29uc29sZS53YXJuKCdUSFJFRS5MaW5lMzogLmNsb3Nlc3RQb2ludFRvUG9pbnQoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkJyk7dGFyZ2V0PW5ldyBWZWN0b3IzKCk7fXJldHVybiB0aGlzLmRlbHRhKHRhcmdldCkubXVsdGlwbHlTY2FsYXIodCkuYWRkKHRoaXMuc3RhcnQpO30sYXBwbHlNYXRyaXg0OmZ1bmN0aW9uIGFwcGx5TWF0cml4NChtYXRyaXgpe3RoaXMuc3RhcnQuYXBwbHlNYXRyaXg0KG1hdHJpeCk7dGhpcy5lbmQuYXBwbHlNYXRyaXg0KG1hdHJpeCk7cmV0dXJuIHRoaXM7fSxlcXVhbHM6ZnVuY3Rpb24gZXF1YWxzKGxpbmUpe3JldHVybiBsaW5lLnN0YXJ0LmVxdWFscyh0aGlzLnN0YXJ0KSYmbGluZS5lbmQuZXF1YWxzKHRoaXMuZW5kKTt9fSk7LyoqCiAgICogQGF1dGhvciBhbHRlcmVkcSAvIGh0dHA6Ly9hbHRlcmVkcXVhbGlhLmNvbS8KICAgKi9mdW5jdGlvbiBJbW1lZGlhdGVSZW5kZXJPYmplY3QobWF0ZXJpYWwpe09iamVjdDNELmNhbGwodGhpcyk7dGhpcy5tYXRlcmlhbD1tYXRlcmlhbDt0aGlzLnJlbmRlcj1mdW5jdGlvbi8qIHJlbmRlckNhbGxiYWNrICovKCl7fTt9SW1tZWRpYXRlUmVuZGVyT2JqZWN0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKE9iamVjdDNELnByb3RvdHlwZSk7SW1tZWRpYXRlUmVuZGVyT2JqZWN0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1JbW1lZGlhdGVSZW5kZXJPYmplY3Q7SW1tZWRpYXRlUmVuZGVyT2JqZWN0LnByb3RvdHlwZS5pc0ltbWVkaWF0ZVJlbmRlck9iamVjdD10cnVlOy8qKgogICAqIEBhdXRob3IgYWx0ZXJlZHEgLyBodHRwOi8vYWx0ZXJlZHF1YWxpYS5jb20vCiAgICogQGF1dGhvciBtcmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS8KICAgKiBAYXV0aG9yIFdlc3RMYW5nbGV5IC8gaHR0cDovL2dpdGh1Yi5jb20vV2VzdExhbmdsZXkKICAgKi92YXIgX3ZlY3RvciQ5PW5ldyBWZWN0b3IzKCk7ZnVuY3Rpb24gU3BvdExpZ2h0SGVscGVyKGxpZ2h0LGNvbG9yKXtPYmplY3QzRC5jYWxsKHRoaXMpO3RoaXMubGlnaHQ9bGlnaHQ7dGhpcy5saWdodC51cGRhdGVNYXRyaXhXb3JsZCgpO3RoaXMubWF0cml4PWxpZ2h0Lm1hdHJpeFdvcmxkO3RoaXMubWF0cml4QXV0b1VwZGF0ZT1mYWxzZTt0aGlzLmNvbG9yPWNvbG9yO3ZhciBnZW9tZXRyeT1uZXcgQnVmZmVyR2VvbWV0cnkoKTt2YXIgcG9zaXRpb25zPVswLDAsMCwwLDAsMSwwLDAsMCwxLDAsMSwwLDAsMCwtMSwwLDEsMCwwLDAsMCwxLDEsMCwwLDAsMCwtMSwxXTtmb3IodmFyIGk9MCxqPTEsbD0zMjtpPGw7aSsrLGorKyl7dmFyIHAxPWkvbCpNYXRoLlBJKjI7dmFyIHAyPWovbCpNYXRoLlBJKjI7cG9zaXRpb25zLnB1c2goTWF0aC5jb3MocDEpLE1hdGguc2luKHAxKSwxLE1hdGguY29zKHAyKSxNYXRoLnNpbihwMiksMSk7fWdlb21ldHJ5LnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKHBvc2l0aW9ucywzKSk7dmFyIG1hdGVyaWFsPW5ldyBMaW5lQmFzaWNNYXRlcmlhbCh7Zm9nOmZhbHNlfSk7dGhpcy5jb25lPW5ldyBMaW5lU2VnbWVudHMoZ2VvbWV0cnksbWF0ZXJpYWwpO3RoaXMuYWRkKHRoaXMuY29uZSk7dGhpcy51cGRhdGUoKTt9U3BvdExpZ2h0SGVscGVyLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKE9iamVjdDNELnByb3RvdHlwZSk7U3BvdExpZ2h0SGVscGVyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1TcG90TGlnaHRIZWxwZXI7U3BvdExpZ2h0SGVscGVyLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5jb25lLmdlb21ldHJ5LmRpc3Bvc2UoKTt0aGlzLmNvbmUubWF0ZXJpYWwuZGlzcG9zZSgpO307U3BvdExpZ2h0SGVscGVyLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXt0aGlzLmxpZ2h0LnVwZGF0ZU1hdHJpeFdvcmxkKCk7dmFyIGNvbmVMZW5ndGg9dGhpcy5saWdodC5kaXN0YW5jZT90aGlzLmxpZ2h0LmRpc3RhbmNlOjEwMDA7dmFyIGNvbmVXaWR0aD1jb25lTGVuZ3RoKk1hdGgudGFuKHRoaXMubGlnaHQuYW5nbGUpO3RoaXMuY29uZS5zY2FsZS5zZXQoY29uZVdpZHRoLGNvbmVXaWR0aCxjb25lTGVuZ3RoKTtfdmVjdG9yJDkuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHRoaXMubGlnaHQudGFyZ2V0Lm1hdHJpeFdvcmxkKTt0aGlzLmNvbmUubG9va0F0KF92ZWN0b3IkOSk7aWYodGhpcy5jb2xvciE9PXVuZGVmaW5lZCl7dGhpcy5jb25lLm1hdGVyaWFsLmNvbG9yLnNldCh0aGlzLmNvbG9yKTt9ZWxzZXt0aGlzLmNvbmUubWF0ZXJpYWwuY29sb3IuY29weSh0aGlzLmxpZ2h0LmNvbG9yKTt9fTsvKioKICAgKiBAYXV0aG9yIFNlYW4gR3JpZmZpbiAvIGh0dHA6Ly90d2l0dGVyLmNvbS9zZ3JpZgogICAqIEBhdXRob3IgTWljaGFlbCBHdWVycmVybyAvIGh0dHA6Ly9yZWFsaXR5bWVsdGRvd24uY29tCiAgICogQGF1dGhvciBtcmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS8KICAgKiBAYXV0aG9yIGlrZXJyIC8gaHR0cDovL3Zlcm9sZC5jb20KICAgKiBAYXV0aG9yIE11Z2VuODcgLyBodHRwczovL2dpdGh1Yi5jb20vTXVnZW44NwogICAqL3ZhciBfdmVjdG9yJGE9bmV3IFZlY3RvcjMoKTt2YXIgX2JvbmVNYXRyaXg9bmV3IE1hdHJpeDQoKTt2YXIgX21hdHJpeFdvcmxkSW52PW5ldyBNYXRyaXg0KCk7ZnVuY3Rpb24gZ2V0Qm9uZUxpc3Qob2JqZWN0KXt2YXIgYm9uZUxpc3Q9W107aWYob2JqZWN0JiZvYmplY3QuaXNCb25lKXtib25lTGlzdC5wdXNoKG9iamVjdCk7fWZvcih2YXIgaT0wO2k8b2JqZWN0LmNoaWxkcmVuLmxlbmd0aDtpKyspe2JvbmVMaXN0LnB1c2guYXBwbHkoYm9uZUxpc3QsZ2V0Qm9uZUxpc3Qob2JqZWN0LmNoaWxkcmVuW2ldKSk7fXJldHVybiBib25lTGlzdDt9ZnVuY3Rpb24gU2tlbGV0b25IZWxwZXIob2JqZWN0KXt2YXIgYm9uZXM9Z2V0Qm9uZUxpc3Qob2JqZWN0KTt2YXIgZ2VvbWV0cnk9bmV3IEJ1ZmZlckdlb21ldHJ5KCk7dmFyIHZlcnRpY2VzPVtdO3ZhciBjb2xvcnM9W107dmFyIGNvbG9yMT1uZXcgQ29sb3IoMCwwLDEpO3ZhciBjb2xvcjI9bmV3IENvbG9yKDAsMSwwKTtmb3IodmFyIGk9MDtpPGJvbmVzLmxlbmd0aDtpKyspe3ZhciBib25lPWJvbmVzW2ldO2lmKGJvbmUucGFyZW50JiZib25lLnBhcmVudC5pc0JvbmUpe3ZlcnRpY2VzLnB1c2goMCwwLDApO3ZlcnRpY2VzLnB1c2goMCwwLDApO2NvbG9ycy5wdXNoKGNvbG9yMS5yLGNvbG9yMS5nLGNvbG9yMS5iKTtjb2xvcnMucHVzaChjb2xvcjIucixjb2xvcjIuZyxjb2xvcjIuYik7fX1nZW9tZXRyeS5zZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJyxuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZSh2ZXJ0aWNlcywzKSk7Z2VvbWV0cnkuc2V0QXR0cmlidXRlKCdjb2xvcicsbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUoY29sb3JzLDMpKTt2YXIgbWF0ZXJpYWw9bmV3IExpbmVCYXNpY01hdGVyaWFsKHt2ZXJ0ZXhDb2xvcnM6VmVydGV4Q29sb3JzLGRlcHRoVGVzdDpmYWxzZSxkZXB0aFdyaXRlOmZhbHNlLHRyYW5zcGFyZW50OnRydWV9KTtMaW5lU2VnbWVudHMuY2FsbCh0aGlzLGdlb21ldHJ5LG1hdGVyaWFsKTt0aGlzLnJvb3Q9b2JqZWN0O3RoaXMuYm9uZXM9Ym9uZXM7dGhpcy5tYXRyaXg9b2JqZWN0Lm1hdHJpeFdvcmxkO3RoaXMubWF0cml4QXV0b1VwZGF0ZT1mYWxzZTt9U2tlbGV0b25IZWxwZXIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoTGluZVNlZ21lbnRzLnByb3RvdHlwZSk7U2tlbGV0b25IZWxwZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yPVNrZWxldG9uSGVscGVyO1NrZWxldG9uSGVscGVyLnByb3RvdHlwZS51cGRhdGVNYXRyaXhXb3JsZD1mdW5jdGlvbihmb3JjZSl7dmFyIGJvbmVzPXRoaXMuYm9uZXM7dmFyIGdlb21ldHJ5PXRoaXMuZ2VvbWV0cnk7dmFyIHBvc2l0aW9uPWdlb21ldHJ5LmdldEF0dHJpYnV0ZSgncG9zaXRpb24nKTtfbWF0cml4V29ybGRJbnYuZ2V0SW52ZXJzZSh0aGlzLnJvb3QubWF0cml4V29ybGQpO2Zvcih2YXIgaT0wLGo9MDtpPGJvbmVzLmxlbmd0aDtpKyspe3ZhciBib25lPWJvbmVzW2ldO2lmKGJvbmUucGFyZW50JiZib25lLnBhcmVudC5pc0JvbmUpe19ib25lTWF0cml4Lm11bHRpcGx5TWF0cmljZXMoX21hdHJpeFdvcmxkSW52LGJvbmUubWF0cml4V29ybGQpO192ZWN0b3IkYS5zZXRGcm9tTWF0cml4UG9zaXRpb24oX2JvbmVNYXRyaXgpO3Bvc2l0aW9uLnNldFhZWihqLF92ZWN0b3IkYS54LF92ZWN0b3IkYS55LF92ZWN0b3IkYS56KTtfYm9uZU1hdHJpeC5tdWx0aXBseU1hdHJpY2VzKF9tYXRyaXhXb3JsZEludixib25lLnBhcmVudC5tYXRyaXhXb3JsZCk7X3ZlY3RvciRhLnNldEZyb21NYXRyaXhQb3NpdGlvbihfYm9uZU1hdHJpeCk7cG9zaXRpb24uc2V0WFlaKGorMSxfdmVjdG9yJGEueCxfdmVjdG9yJGEueSxfdmVjdG9yJGEueik7ais9Mjt9fWdlb21ldHJ5LmdldEF0dHJpYnV0ZSgncG9zaXRpb24nKS5uZWVkc1VwZGF0ZT10cnVlO09iamVjdDNELnByb3RvdHlwZS51cGRhdGVNYXRyaXhXb3JsZC5jYWxsKHRoaXMsZm9yY2UpO307LyoqCiAgICogQGF1dGhvciBhbHRlcmVkcSAvIGh0dHA6Ly9hbHRlcmVkcXVhbGlhLmNvbS8KICAgKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tLwogICAqL2Z1bmN0aW9uIFBvaW50TGlnaHRIZWxwZXIobGlnaHQsc3BoZXJlU2l6ZSxjb2xvcil7dGhpcy5saWdodD1saWdodDt0aGlzLmxpZ2h0LnVwZGF0ZU1hdHJpeFdvcmxkKCk7dGhpcy5jb2xvcj1jb2xvcjt2YXIgZ2VvbWV0cnk9bmV3IFNwaGVyZUJ1ZmZlckdlb21ldHJ5KHNwaGVyZVNpemUsNCwyKTt2YXIgbWF0ZXJpYWw9bmV3IE1lc2hCYXNpY01hdGVyaWFsKHt3aXJlZnJhbWU6dHJ1ZSxmb2c6ZmFsc2V9KTtNZXNoLmNhbGwodGhpcyxnZW9tZXRyeSxtYXRlcmlhbCk7dGhpcy5tYXRyaXg9dGhpcy5saWdodC5tYXRyaXhXb3JsZDt0aGlzLm1hdHJpeEF1dG9VcGRhdGU9ZmFsc2U7dGhpcy51cGRhdGUoKTsvKgogICAgdmFyIGRpc3RhbmNlR2VvbWV0cnkgPSBuZXcgVEhSRUUuSWNvc2FoZWRyb25CdWZmZXJHZW9tZXRyeSggMSwgMiApOwogICAgdmFyIGRpc3RhbmNlTWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoIHsgY29sb3I6IGhleENvbG9yLCBmb2c6IGZhbHNlLCB3aXJlZnJhbWU6IHRydWUsIG9wYWNpdHk6IDAuMSwgdHJhbnNwYXJlbnQ6IHRydWUgfSApOwoKICAgIHRoaXMubGlnaHRTcGhlcmUgPSBuZXcgVEhSRUUuTWVzaCggYnVsYkdlb21ldHJ5LCBidWxiTWF0ZXJpYWwgKTsKICAgIHRoaXMubGlnaHREaXN0YW5jZSA9IG5ldyBUSFJFRS5NZXNoKCBkaXN0YW5jZUdlb21ldHJ5LCBkaXN0YW5jZU1hdGVyaWFsICk7CgogICAgdmFyIGQgPSBsaWdodC5kaXN0YW5jZTsKCiAgICBpZiAoIGQgPT09IDAuMCApIHsKCiAgICAJdGhpcy5saWdodERpc3RhbmNlLnZpc2libGUgPSBmYWxzZTsKCiAgICB9IGVsc2UgewoKICAgIAl0aGlzLmxpZ2h0RGlzdGFuY2Uuc2NhbGUuc2V0KCBkLCBkLCBkICk7CgogICAgfQoKICAgIHRoaXMuYWRkKCB0aGlzLmxpZ2h0RGlzdGFuY2UgKTsKICAgICovfVBvaW50TGlnaHRIZWxwZXIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoTWVzaC5wcm90b3R5cGUpO1BvaW50TGlnaHRIZWxwZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yPVBvaW50TGlnaHRIZWxwZXI7UG9pbnRMaWdodEhlbHBlci5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuZ2VvbWV0cnkuZGlzcG9zZSgpO3RoaXMubWF0ZXJpYWwuZGlzcG9zZSgpO307UG9pbnRMaWdodEhlbHBlci5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7aWYodGhpcy5jb2xvciE9PXVuZGVmaW5lZCl7dGhpcy5tYXRlcmlhbC5jb2xvci5zZXQodGhpcy5jb2xvcik7fWVsc2V7dGhpcy5tYXRlcmlhbC5jb2xvci5jb3B5KHRoaXMubGlnaHQuY29sb3IpO30vKgogICAgdmFyIGQgPSB0aGlzLmxpZ2h0LmRpc3RhbmNlOwoKICAgIGlmICggZCA9PT0gMC4wICkgewoKICAgIAl0aGlzLmxpZ2h0RGlzdGFuY2UudmlzaWJsZSA9IGZhbHNlOwoKICAgIH0gZWxzZSB7CgogICAgCXRoaXMubGlnaHREaXN0YW5jZS52aXNpYmxlID0gdHJ1ZTsKICAgIAl0aGlzLmxpZ2h0RGlzdGFuY2Uuc2NhbGUuc2V0KCBkLCBkLCBkICk7CgogICAgfQogICAgKi99Oy8qKgogICAqIEBhdXRob3IgYWx0ZXJlZHEgLyBodHRwOi8vYWx0ZXJlZHF1YWxpYS5jb20vCiAgICogQGF1dGhvciBtcmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS8KICAgKiBAYXV0aG9yIE11Z2VuODcgLyBodHRwczovL2dpdGh1Yi5jb20vTXVnZW44NwogICAqL3ZhciBfdmVjdG9yJGI9bmV3IFZlY3RvcjMoKTt2YXIgX2NvbG9yMT1uZXcgQ29sb3IoKTt2YXIgX2NvbG9yMj1uZXcgQ29sb3IoKTtmdW5jdGlvbiBIZW1pc3BoZXJlTGlnaHRIZWxwZXIobGlnaHQsc2l6ZSxjb2xvcil7T2JqZWN0M0QuY2FsbCh0aGlzKTt0aGlzLmxpZ2h0PWxpZ2h0O3RoaXMubGlnaHQudXBkYXRlTWF0cml4V29ybGQoKTt0aGlzLm1hdHJpeD1saWdodC5tYXRyaXhXb3JsZDt0aGlzLm1hdHJpeEF1dG9VcGRhdGU9ZmFsc2U7dGhpcy5jb2xvcj1jb2xvcjt2YXIgZ2VvbWV0cnk9bmV3IE9jdGFoZWRyb25CdWZmZXJHZW9tZXRyeShzaXplKTtnZW9tZXRyeS5yb3RhdGVZKE1hdGguUEkqMC41KTt0aGlzLm1hdGVyaWFsPW5ldyBNZXNoQmFzaWNNYXRlcmlhbCh7d2lyZWZyYW1lOnRydWUsZm9nOmZhbHNlfSk7aWYodGhpcy5jb2xvcj09PXVuZGVmaW5lZCl7dGhpcy5tYXRlcmlhbC52ZXJ0ZXhDb2xvcnM9VmVydGV4Q29sb3JzO312YXIgcG9zaXRpb249Z2VvbWV0cnkuZ2V0QXR0cmlidXRlKCdwb3NpdGlvbicpO3ZhciBjb2xvcnM9bmV3IEZsb2F0MzJBcnJheShwb3NpdGlvbi5jb3VudCozKTtnZW9tZXRyeS5zZXRBdHRyaWJ1dGUoJ2NvbG9yJyxuZXcgQnVmZmVyQXR0cmlidXRlKGNvbG9ycywzKSk7dGhpcy5hZGQobmV3IE1lc2goZ2VvbWV0cnksdGhpcy5tYXRlcmlhbCkpO3RoaXMudXBkYXRlKCk7fUhlbWlzcGhlcmVMaWdodEhlbHBlci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShPYmplY3QzRC5wcm90b3R5cGUpO0hlbWlzcGhlcmVMaWdodEhlbHBlci5wcm90b3R5cGUuY29uc3RydWN0b3I9SGVtaXNwaGVyZUxpZ2h0SGVscGVyO0hlbWlzcGhlcmVMaWdodEhlbHBlci5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuY2hpbGRyZW5bMF0uZ2VvbWV0cnkuZGlzcG9zZSgpO3RoaXMuY2hpbGRyZW5bMF0ubWF0ZXJpYWwuZGlzcG9zZSgpO307SGVtaXNwaGVyZUxpZ2h0SGVscGVyLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXt2YXIgbWVzaD10aGlzLmNoaWxkcmVuWzBdO2lmKHRoaXMuY29sb3IhPT11bmRlZmluZWQpe3RoaXMubWF0ZXJpYWwuY29sb3Iuc2V0KHRoaXMuY29sb3IpO31lbHNle3ZhciBjb2xvcnM9bWVzaC5nZW9tZXRyeS5nZXRBdHRyaWJ1dGUoJ2NvbG9yJyk7X2NvbG9yMS5jb3B5KHRoaXMubGlnaHQuY29sb3IpO19jb2xvcjIuY29weSh0aGlzLmxpZ2h0Lmdyb3VuZENvbG9yKTtmb3IodmFyIGk9MCxsPWNvbG9ycy5jb3VudDtpPGw7aSsrKXt2YXIgY29sb3I9aTxsLzI/X2NvbG9yMTpfY29sb3IyO2NvbG9ycy5zZXRYWVooaSxjb2xvci5yLGNvbG9yLmcsY29sb3IuYik7fWNvbG9ycy5uZWVkc1VwZGF0ZT10cnVlO31tZXNoLmxvb2tBdChfdmVjdG9yJGIuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHRoaXMubGlnaHQubWF0cml4V29ybGQpLm5lZ2F0ZSgpKTt9Oy8qKgogICAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb20vCiAgICovZnVuY3Rpb24gR3JpZEhlbHBlcihzaXplLGRpdmlzaW9ucyxjb2xvcjEsY29sb3IyKXtzaXplPXNpemV8fDEwO2RpdmlzaW9ucz1kaXZpc2lvbnN8fDEwO2NvbG9yMT1uZXcgQ29sb3IoY29sb3IxIT09dW5kZWZpbmVkP2NvbG9yMToweDQ0NDQ0NCk7Y29sb3IyPW5ldyBDb2xvcihjb2xvcjIhPT11bmRlZmluZWQ/Y29sb3IyOjB4ODg4ODg4KTt2YXIgY2VudGVyPWRpdmlzaW9ucy8yO3ZhciBzdGVwPXNpemUvZGl2aXNpb25zO3ZhciBoYWxmU2l6ZT1zaXplLzI7dmFyIHZlcnRpY2VzPVtdLGNvbG9ycz1bXTtmb3IodmFyIGk9MCxqPTAsaz0taGFsZlNpemU7aTw9ZGl2aXNpb25zO2krKyxrKz1zdGVwKXt2ZXJ0aWNlcy5wdXNoKC1oYWxmU2l6ZSwwLGssaGFsZlNpemUsMCxrKTt2ZXJ0aWNlcy5wdXNoKGssMCwtaGFsZlNpemUsaywwLGhhbGZTaXplKTt2YXIgY29sb3I9aT09PWNlbnRlcj9jb2xvcjE6Y29sb3IyO2NvbG9yLnRvQXJyYXkoY29sb3JzLGopO2orPTM7Y29sb3IudG9BcnJheShjb2xvcnMsaik7ais9Mztjb2xvci50b0FycmF5KGNvbG9ycyxqKTtqKz0zO2NvbG9yLnRvQXJyYXkoY29sb3JzLGopO2orPTM7fXZhciBnZW9tZXRyeT1uZXcgQnVmZmVyR2VvbWV0cnkoKTtnZW9tZXRyeS5zZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJyxuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZSh2ZXJ0aWNlcywzKSk7Z2VvbWV0cnkuc2V0QXR0cmlidXRlKCdjb2xvcicsbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUoY29sb3JzLDMpKTt2YXIgbWF0ZXJpYWw9bmV3IExpbmVCYXNpY01hdGVyaWFsKHt2ZXJ0ZXhDb2xvcnM6VmVydGV4Q29sb3JzfSk7TGluZVNlZ21lbnRzLmNhbGwodGhpcyxnZW9tZXRyeSxtYXRlcmlhbCk7fUdyaWRIZWxwZXIucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShMaW5lU2VnbWVudHMucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6R3JpZEhlbHBlcixjb3B5OmZ1bmN0aW9uIGNvcHkoc291cmNlKXtMaW5lU2VnbWVudHMucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHNvdXJjZSk7dGhpcy5nZW9tZXRyeS5jb3B5KHNvdXJjZS5nZW9tZXRyeSk7dGhpcy5tYXRlcmlhbC5jb3B5KHNvdXJjZS5tYXRlcmlhbCk7cmV0dXJuIHRoaXM7fSxjbG9uZTpmdW5jdGlvbiBjbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmNvcHkodGhpcyk7fX0pOy8qKgogICAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb20vCiAgICogQGF1dGhvciBNdWdlbjg3IC8gaHR0cDovL2dpdGh1Yi5jb20vTXVnZW44NwogICAqIEBhdXRob3IgSGVjdGF0ZSAvIGh0dHA6Ly93d3cuZ2l0aHViLmNvbS9IZWN0YXRlCiAgICovZnVuY3Rpb24gUG9sYXJHcmlkSGVscGVyKHJhZGl1cyxyYWRpYWxzLGNpcmNsZXMsZGl2aXNpb25zLGNvbG9yMSxjb2xvcjIpe3JhZGl1cz1yYWRpdXN8fDEwO3JhZGlhbHM9cmFkaWFsc3x8MTY7Y2lyY2xlcz1jaXJjbGVzfHw4O2RpdmlzaW9ucz1kaXZpc2lvbnN8fDY0O2NvbG9yMT1uZXcgQ29sb3IoY29sb3IxIT09dW5kZWZpbmVkP2NvbG9yMToweDQ0NDQ0NCk7Y29sb3IyPW5ldyBDb2xvcihjb2xvcjIhPT11bmRlZmluZWQ/Y29sb3IyOjB4ODg4ODg4KTt2YXIgdmVydGljZXM9W107dmFyIGNvbG9ycz1bXTt2YXIgeCx6O3ZhciB2LGksaixyLGNvbG9yOy8vIGNyZWF0ZSB0aGUgcmFkaWFscwpmb3IoaT0wO2k8PXJhZGlhbHM7aSsrKXt2PWkvcmFkaWFscyooTWF0aC5QSSoyKTt4PU1hdGguc2luKHYpKnJhZGl1czt6PU1hdGguY29zKHYpKnJhZGl1czt2ZXJ0aWNlcy5wdXNoKDAsMCwwKTt2ZXJ0aWNlcy5wdXNoKHgsMCx6KTtjb2xvcj1pJjE/Y29sb3IxOmNvbG9yMjtjb2xvcnMucHVzaChjb2xvci5yLGNvbG9yLmcsY29sb3IuYik7Y29sb3JzLnB1c2goY29sb3Iucixjb2xvci5nLGNvbG9yLmIpO30vLyBjcmVhdGUgdGhlIGNpcmNsZXMKZm9yKGk9MDtpPD1jaXJjbGVzO2krKyl7Y29sb3I9aSYxP2NvbG9yMTpjb2xvcjI7cj1yYWRpdXMtcmFkaXVzL2NpcmNsZXMqaTtmb3Ioaj0wO2o8ZGl2aXNpb25zO2orKyl7Ly8gZmlyc3QgdmVydGV4CnY9ai9kaXZpc2lvbnMqKE1hdGguUEkqMik7eD1NYXRoLnNpbih2KSpyO3o9TWF0aC5jb3Modikqcjt2ZXJ0aWNlcy5wdXNoKHgsMCx6KTtjb2xvcnMucHVzaChjb2xvci5yLGNvbG9yLmcsY29sb3IuYik7Ly8gc2Vjb25kIHZlcnRleAp2PShqKzEpL2RpdmlzaW9ucyooTWF0aC5QSSoyKTt4PU1hdGguc2luKHYpKnI7ej1NYXRoLmNvcyh2KSpyO3ZlcnRpY2VzLnB1c2goeCwwLHopO2NvbG9ycy5wdXNoKGNvbG9yLnIsY29sb3IuZyxjb2xvci5iKTt9fXZhciBnZW9tZXRyeT1uZXcgQnVmZmVyR2VvbWV0cnkoKTtnZW9tZXRyeS5zZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJyxuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZSh2ZXJ0aWNlcywzKSk7Z2VvbWV0cnkuc2V0QXR0cmlidXRlKCdjb2xvcicsbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUoY29sb3JzLDMpKTt2YXIgbWF0ZXJpYWw9bmV3IExpbmVCYXNpY01hdGVyaWFsKHt2ZXJ0ZXhDb2xvcnM6VmVydGV4Q29sb3JzfSk7TGluZVNlZ21lbnRzLmNhbGwodGhpcyxnZW9tZXRyeSxtYXRlcmlhbCk7fVBvbGFyR3JpZEhlbHBlci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShMaW5lU2VnbWVudHMucHJvdG90eXBlKTtQb2xhckdyaWRIZWxwZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yPVBvbGFyR3JpZEhlbHBlcjsvKioKICAgKiBAYXV0aG9yIGFsdGVyZWRxIC8gaHR0cDovL2FsdGVyZWRxdWFsaWEuY29tLwogICAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb20vCiAgICogQGF1dGhvciBXZXN0TGFuZ2xleSAvIGh0dHA6Ly9naXRodWIuY29tL1dlc3RMYW5nbGV5CiAgICovdmFyIF92MSQ1PW5ldyBWZWN0b3IzKCk7dmFyIF92MiQzPW5ldyBWZWN0b3IzKCk7dmFyIF92MyQxPW5ldyBWZWN0b3IzKCk7ZnVuY3Rpb24gRGlyZWN0aW9uYWxMaWdodEhlbHBlcihsaWdodCxzaXplLGNvbG9yKXtPYmplY3QzRC5jYWxsKHRoaXMpO3RoaXMubGlnaHQ9bGlnaHQ7dGhpcy5saWdodC51cGRhdGVNYXRyaXhXb3JsZCgpO3RoaXMubWF0cml4PWxpZ2h0Lm1hdHJpeFdvcmxkO3RoaXMubWF0cml4QXV0b1VwZGF0ZT1mYWxzZTt0aGlzLmNvbG9yPWNvbG9yO2lmKHNpemU9PT11bmRlZmluZWQpe3NpemU9MTt9dmFyIGdlb21ldHJ5PW5ldyBCdWZmZXJHZW9tZXRyeSgpO2dlb21ldHJ5LnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKFstc2l6ZSxzaXplLDAsc2l6ZSxzaXplLDAsc2l6ZSwtc2l6ZSwwLC1zaXplLC1zaXplLDAsLXNpemUsc2l6ZSwwXSwzKSk7dmFyIG1hdGVyaWFsPW5ldyBMaW5lQmFzaWNNYXRlcmlhbCh7Zm9nOmZhbHNlfSk7dGhpcy5saWdodFBsYW5lPW5ldyBMaW5lKGdlb21ldHJ5LG1hdGVyaWFsKTt0aGlzLmFkZCh0aGlzLmxpZ2h0UGxhbmUpO2dlb21ldHJ5PW5ldyBCdWZmZXJHZW9tZXRyeSgpO2dlb21ldHJ5LnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKFswLDAsMCwwLDAsMV0sMykpO3RoaXMudGFyZ2V0TGluZT1uZXcgTGluZShnZW9tZXRyeSxtYXRlcmlhbCk7dGhpcy5hZGQodGhpcy50YXJnZXRMaW5lKTt0aGlzLnVwZGF0ZSgpO31EaXJlY3Rpb25hbExpZ2h0SGVscGVyLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKE9iamVjdDNELnByb3RvdHlwZSk7RGlyZWN0aW9uYWxMaWdodEhlbHBlci5wcm90b3R5cGUuY29uc3RydWN0b3I9RGlyZWN0aW9uYWxMaWdodEhlbHBlcjtEaXJlY3Rpb25hbExpZ2h0SGVscGVyLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5saWdodFBsYW5lLmdlb21ldHJ5LmRpc3Bvc2UoKTt0aGlzLmxpZ2h0UGxhbmUubWF0ZXJpYWwuZGlzcG9zZSgpO3RoaXMudGFyZ2V0TGluZS5nZW9tZXRyeS5kaXNwb3NlKCk7dGhpcy50YXJnZXRMaW5lLm1hdGVyaWFsLmRpc3Bvc2UoKTt9O0RpcmVjdGlvbmFsTGlnaHRIZWxwZXIucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe192MSQ1LnNldEZyb21NYXRyaXhQb3NpdGlvbih0aGlzLmxpZ2h0Lm1hdHJpeFdvcmxkKTtfdjIkMy5zZXRGcm9tTWF0cml4UG9zaXRpb24odGhpcy5saWdodC50YXJnZXQubWF0cml4V29ybGQpO192MyQxLnN1YlZlY3RvcnMoX3YyJDMsX3YxJDUpO3RoaXMubGlnaHRQbGFuZS5sb29rQXQoX3YyJDMpO2lmKHRoaXMuY29sb3IhPT11bmRlZmluZWQpe3RoaXMubGlnaHRQbGFuZS5tYXRlcmlhbC5jb2xvci5zZXQodGhpcy5jb2xvcik7dGhpcy50YXJnZXRMaW5lLm1hdGVyaWFsLmNvbG9yLnNldCh0aGlzLmNvbG9yKTt9ZWxzZXt0aGlzLmxpZ2h0UGxhbmUubWF0ZXJpYWwuY29sb3IuY29weSh0aGlzLmxpZ2h0LmNvbG9yKTt0aGlzLnRhcmdldExpbmUubWF0ZXJpYWwuY29sb3IuY29weSh0aGlzLmxpZ2h0LmNvbG9yKTt9dGhpcy50YXJnZXRMaW5lLmxvb2tBdChfdjIkMyk7dGhpcy50YXJnZXRMaW5lLnNjYWxlLno9X3YzJDEubGVuZ3RoKCk7fTsvKioKICAgKiBAYXV0aG9yIGFsdGVyZWRxIC8gaHR0cDovL2FsdGVyZWRxdWFsaWEuY29tLwogICAqIEBhdXRob3IgTXVnZW44NyAvIGh0dHBzOi8vZ2l0aHViLmNvbS9NdWdlbjg3CiAgICoKICAgKgktIHNob3dzIGZydXN0dW0sIGxpbmUgb2Ygc2lnaHQgYW5kIHVwIG9mIHRoZSBjYW1lcmEKICAgKgktIHN1aXRhYmxlIGZvciBmYXN0IHVwZGF0ZXMKICAgKiAJLSBiYXNlZCBvbiBmcnVzdHVtIHZpc3VhbGl6YXRpb24gaW4gbGlnaHRnbC5qcyBzaGFkb3dtYXAgZXhhbXBsZQogICAqCQlodHRwOi8vZXZhbncuZ2l0aHViLmNvbS9saWdodGdsLmpzL3Rlc3RzL3NoYWRvd21hcC5odG1sCiAgICovdmFyIF92ZWN0b3IkYz1uZXcgVmVjdG9yMygpO3ZhciBfY2FtZXJhPW5ldyBDYW1lcmEoKTtmdW5jdGlvbiBDYW1lcmFIZWxwZXIoY2FtZXJhKXt2YXIgZ2VvbWV0cnk9bmV3IEJ1ZmZlckdlb21ldHJ5KCk7dmFyIG1hdGVyaWFsPW5ldyBMaW5lQmFzaWNNYXRlcmlhbCh7Y29sb3I6MHhmZmZmZmYsdmVydGV4Q29sb3JzOkZhY2VDb2xvcnN9KTt2YXIgdmVydGljZXM9W107dmFyIGNvbG9ycz1bXTt2YXIgcG9pbnRNYXA9e307Ly8gY29sb3JzCnZhciBjb2xvckZydXN0dW09bmV3IENvbG9yKDB4ZmZhYTAwKTt2YXIgY29sb3JDb25lPW5ldyBDb2xvcigweGZmMDAwMCk7dmFyIGNvbG9yVXA9bmV3IENvbG9yKDB4MDBhYWZmKTt2YXIgY29sb3JUYXJnZXQ9bmV3IENvbG9yKDB4ZmZmZmZmKTt2YXIgY29sb3JDcm9zcz1uZXcgQ29sb3IoMHgzMzMzMzMpOy8vIG5lYXIKYWRkTGluZSgnbjEnLCduMicsY29sb3JGcnVzdHVtKTthZGRMaW5lKCduMicsJ240Jyxjb2xvckZydXN0dW0pO2FkZExpbmUoJ240JywnbjMnLGNvbG9yRnJ1c3R1bSk7YWRkTGluZSgnbjMnLCduMScsY29sb3JGcnVzdHVtKTsvLyBmYXIKYWRkTGluZSgnZjEnLCdmMicsY29sb3JGcnVzdHVtKTthZGRMaW5lKCdmMicsJ2Y0Jyxjb2xvckZydXN0dW0pO2FkZExpbmUoJ2Y0JywnZjMnLGNvbG9yRnJ1c3R1bSk7YWRkTGluZSgnZjMnLCdmMScsY29sb3JGcnVzdHVtKTsvLyBzaWRlcwphZGRMaW5lKCduMScsJ2YxJyxjb2xvckZydXN0dW0pO2FkZExpbmUoJ24yJywnZjInLGNvbG9yRnJ1c3R1bSk7YWRkTGluZSgnbjMnLCdmMycsY29sb3JGcnVzdHVtKTthZGRMaW5lKCduNCcsJ2Y0Jyxjb2xvckZydXN0dW0pOy8vIGNvbmUKYWRkTGluZSgncCcsJ24xJyxjb2xvckNvbmUpO2FkZExpbmUoJ3AnLCduMicsY29sb3JDb25lKTthZGRMaW5lKCdwJywnbjMnLGNvbG9yQ29uZSk7YWRkTGluZSgncCcsJ240Jyxjb2xvckNvbmUpOy8vIHVwCmFkZExpbmUoJ3UxJywndTInLGNvbG9yVXApO2FkZExpbmUoJ3UyJywndTMnLGNvbG9yVXApO2FkZExpbmUoJ3UzJywndTEnLGNvbG9yVXApOy8vIHRhcmdldAphZGRMaW5lKCdjJywndCcsY29sb3JUYXJnZXQpO2FkZExpbmUoJ3AnLCdjJyxjb2xvckNyb3NzKTsvLyBjcm9zcwphZGRMaW5lKCdjbjEnLCdjbjInLGNvbG9yQ3Jvc3MpO2FkZExpbmUoJ2NuMycsJ2NuNCcsY29sb3JDcm9zcyk7YWRkTGluZSgnY2YxJywnY2YyJyxjb2xvckNyb3NzKTthZGRMaW5lKCdjZjMnLCdjZjQnLGNvbG9yQ3Jvc3MpO2Z1bmN0aW9uIGFkZExpbmUoYSxiLGNvbG9yKXthZGRQb2ludChhLGNvbG9yKTthZGRQb2ludChiLGNvbG9yKTt9ZnVuY3Rpb24gYWRkUG9pbnQoaWQsY29sb3Ipe3ZlcnRpY2VzLnB1c2goMCwwLDApO2NvbG9ycy5wdXNoKGNvbG9yLnIsY29sb3IuZyxjb2xvci5iKTtpZihwb2ludE1hcFtpZF09PT11bmRlZmluZWQpe3BvaW50TWFwW2lkXT1bXTt9cG9pbnRNYXBbaWRdLnB1c2godmVydGljZXMubGVuZ3RoLzMtMSk7fWdlb21ldHJ5LnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKHZlcnRpY2VzLDMpKTtnZW9tZXRyeS5zZXRBdHRyaWJ1dGUoJ2NvbG9yJyxuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZShjb2xvcnMsMykpO0xpbmVTZWdtZW50cy5jYWxsKHRoaXMsZ2VvbWV0cnksbWF0ZXJpYWwpO3RoaXMuY2FtZXJhPWNhbWVyYTtpZih0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KXt0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7fXRoaXMubWF0cml4PWNhbWVyYS5tYXRyaXhXb3JsZDt0aGlzLm1hdHJpeEF1dG9VcGRhdGU9ZmFsc2U7dGhpcy5wb2ludE1hcD1wb2ludE1hcDt0aGlzLnVwZGF0ZSgpO31DYW1lcmFIZWxwZXIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoTGluZVNlZ21lbnRzLnByb3RvdHlwZSk7Q2FtZXJhSGVscGVyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1DYW1lcmFIZWxwZXI7Q2FtZXJhSGVscGVyLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXt2YXIgZ2VvbWV0cnk9dGhpcy5nZW9tZXRyeTt2YXIgcG9pbnRNYXA9dGhpcy5wb2ludE1hcDt2YXIgdz0xLGg9MTsvLyB3ZSBuZWVkIGp1c3QgY2FtZXJhIHByb2plY3Rpb24gbWF0cml4IGludmVyc2UKLy8gd29ybGQgbWF0cml4IG11c3QgYmUgaWRlbnRpdHkKX2NhbWVyYS5wcm9qZWN0aW9uTWF0cml4SW52ZXJzZS5jb3B5KHRoaXMuY2FtZXJhLnByb2plY3Rpb25NYXRyaXhJbnZlcnNlKTsvLyBjZW50ZXIgLyB0YXJnZXQKc2V0UG9pbnQoJ2MnLHBvaW50TWFwLGdlb21ldHJ5LF9jYW1lcmEsMCwwLC0xKTtzZXRQb2ludCgndCcscG9pbnRNYXAsZ2VvbWV0cnksX2NhbWVyYSwwLDAsMSk7Ly8gbmVhcgpzZXRQb2ludCgnbjEnLHBvaW50TWFwLGdlb21ldHJ5LF9jYW1lcmEsLXcsLWgsLTEpO3NldFBvaW50KCduMicscG9pbnRNYXAsZ2VvbWV0cnksX2NhbWVyYSx3LC1oLC0xKTtzZXRQb2ludCgnbjMnLHBvaW50TWFwLGdlb21ldHJ5LF9jYW1lcmEsLXcsaCwtMSk7c2V0UG9pbnQoJ240Jyxwb2ludE1hcCxnZW9tZXRyeSxfY2FtZXJhLHcsaCwtMSk7Ly8gZmFyCnNldFBvaW50KCdmMScscG9pbnRNYXAsZ2VvbWV0cnksX2NhbWVyYSwtdywtaCwxKTtzZXRQb2ludCgnZjInLHBvaW50TWFwLGdlb21ldHJ5LF9jYW1lcmEsdywtaCwxKTtzZXRQb2ludCgnZjMnLHBvaW50TWFwLGdlb21ldHJ5LF9jYW1lcmEsLXcsaCwxKTtzZXRQb2ludCgnZjQnLHBvaW50TWFwLGdlb21ldHJ5LF9jYW1lcmEsdyxoLDEpOy8vIHVwCnNldFBvaW50KCd1MScscG9pbnRNYXAsZ2VvbWV0cnksX2NhbWVyYSx3KjAuNyxoKjEuMSwtMSk7c2V0UG9pbnQoJ3UyJyxwb2ludE1hcCxnZW9tZXRyeSxfY2FtZXJhLC13KjAuNyxoKjEuMSwtMSk7c2V0UG9pbnQoJ3UzJyxwb2ludE1hcCxnZW9tZXRyeSxfY2FtZXJhLDAsaCoyLC0xKTsvLyBjcm9zcwpzZXRQb2ludCgnY2YxJyxwb2ludE1hcCxnZW9tZXRyeSxfY2FtZXJhLC13LDAsMSk7c2V0UG9pbnQoJ2NmMicscG9pbnRNYXAsZ2VvbWV0cnksX2NhbWVyYSx3LDAsMSk7c2V0UG9pbnQoJ2NmMycscG9pbnRNYXAsZ2VvbWV0cnksX2NhbWVyYSwwLC1oLDEpO3NldFBvaW50KCdjZjQnLHBvaW50TWFwLGdlb21ldHJ5LF9jYW1lcmEsMCxoLDEpO3NldFBvaW50KCdjbjEnLHBvaW50TWFwLGdlb21ldHJ5LF9jYW1lcmEsLXcsMCwtMSk7c2V0UG9pbnQoJ2NuMicscG9pbnRNYXAsZ2VvbWV0cnksX2NhbWVyYSx3LDAsLTEpO3NldFBvaW50KCdjbjMnLHBvaW50TWFwLGdlb21ldHJ5LF9jYW1lcmEsMCwtaCwtMSk7c2V0UG9pbnQoJ2NuNCcscG9pbnRNYXAsZ2VvbWV0cnksX2NhbWVyYSwwLGgsLTEpO2dlb21ldHJ5LmdldEF0dHJpYnV0ZSgncG9zaXRpb24nKS5uZWVkc1VwZGF0ZT10cnVlO307ZnVuY3Rpb24gc2V0UG9pbnQocG9pbnQscG9pbnRNYXAsZ2VvbWV0cnksY2FtZXJhLHgseSx6KXtfdmVjdG9yJGMuc2V0KHgseSx6KS51bnByb2plY3QoY2FtZXJhKTt2YXIgcG9pbnRzPXBvaW50TWFwW3BvaW50XTtpZihwb2ludHMhPT11bmRlZmluZWQpe3ZhciBwb3NpdGlvbj1nZW9tZXRyeS5nZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJyk7Zm9yKHZhciBpPTAsbD1wb2ludHMubGVuZ3RoO2k8bDtpKyspe3Bvc2l0aW9uLnNldFhZWihwb2ludHNbaV0sX3ZlY3RvciRjLngsX3ZlY3RvciRjLnksX3ZlY3RvciRjLnopO319fS8qKgogICAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb20vCiAgICogQGF1dGhvciBNdWdlbjg3IC8gaHR0cDovL2dpdGh1Yi5jb20vTXVnZW44NwogICAqL3ZhciBfYm94JDM9bmV3IEJveDMoKTtmdW5jdGlvbiBCb3hIZWxwZXIob2JqZWN0LGNvbG9yKXt0aGlzLm9iamVjdD1vYmplY3Q7aWYoY29sb3I9PT11bmRlZmluZWQpe2NvbG9yPTB4ZmZmZjAwO312YXIgaW5kaWNlcz1uZXcgVWludDE2QXJyYXkoWzAsMSwxLDIsMiwzLDMsMCw0LDUsNSw2LDYsNyw3LDQsMCw0LDEsNSwyLDYsMyw3XSk7dmFyIHBvc2l0aW9ucz1uZXcgRmxvYXQzMkFycmF5KDgqMyk7dmFyIGdlb21ldHJ5PW5ldyBCdWZmZXJHZW9tZXRyeSgpO2dlb21ldHJ5LnNldEluZGV4KG5ldyBCdWZmZXJBdHRyaWJ1dGUoaW5kaWNlcywxKSk7Z2VvbWV0cnkuc2V0QXR0cmlidXRlKCdwb3NpdGlvbicsbmV3IEJ1ZmZlckF0dHJpYnV0ZShwb3NpdGlvbnMsMykpO0xpbmVTZWdtZW50cy5jYWxsKHRoaXMsZ2VvbWV0cnksbmV3IExpbmVCYXNpY01hdGVyaWFsKHtjb2xvcjpjb2xvcn0pKTt0aGlzLm1hdHJpeEF1dG9VcGRhdGU9ZmFsc2U7dGhpcy51cGRhdGUoKTt9Qm94SGVscGVyLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKExpbmVTZWdtZW50cy5wcm90b3R5cGUpO0JveEhlbHBlci5wcm90b3R5cGUuY29uc3RydWN0b3I9Qm94SGVscGVyO0JveEhlbHBlci5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKG9iamVjdCl7aWYob2JqZWN0IT09dW5kZWZpbmVkKXtjb25zb2xlLndhcm4oJ1RIUkVFLkJveEhlbHBlcjogLnVwZGF0ZSgpIGhhcyBubyBsb25nZXIgYXJndW1lbnRzLicpO31pZih0aGlzLm9iamVjdCE9PXVuZGVmaW5lZCl7X2JveCQzLnNldEZyb21PYmplY3QodGhpcy5vYmplY3QpO31pZihfYm94JDMuaXNFbXB0eSgpKXtyZXR1cm47fXZhciBtaW49X2JveCQzLm1pbjt2YXIgbWF4PV9ib3gkMy5tYXg7LyoKICAgICAgNV9fX180CiAgICAxL19fXzAvfAogICAgfCA2X198XzcKICAgIDIvX19fMy8KCiAgICAwOiBtYXgueCwgbWF4LnksIG1heC56CiAgICAxOiBtaW4ueCwgbWF4LnksIG1heC56CiAgICAyOiBtaW4ueCwgbWluLnksIG1heC56CiAgICAzOiBtYXgueCwgbWluLnksIG1heC56CiAgICA0OiBtYXgueCwgbWF4LnksIG1pbi56CiAgICA1OiBtaW4ueCwgbWF4LnksIG1pbi56CiAgICA2OiBtaW4ueCwgbWluLnksIG1pbi56CiAgICA3OiBtYXgueCwgbWluLnksIG1pbi56CiAgICAqL3ZhciBwb3NpdGlvbj10aGlzLmdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb247dmFyIGFycmF5PXBvc2l0aW9uLmFycmF5O2FycmF5WzBdPW1heC54O2FycmF5WzFdPW1heC55O2FycmF5WzJdPW1heC56O2FycmF5WzNdPW1pbi54O2FycmF5WzRdPW1heC55O2FycmF5WzVdPW1heC56O2FycmF5WzZdPW1pbi54O2FycmF5WzddPW1pbi55O2FycmF5WzhdPW1heC56O2FycmF5WzldPW1heC54O2FycmF5WzEwXT1taW4ueTthcnJheVsxMV09bWF4Lno7YXJyYXlbMTJdPW1heC54O2FycmF5WzEzXT1tYXgueTthcnJheVsxNF09bWluLno7YXJyYXlbMTVdPW1pbi54O2FycmF5WzE2XT1tYXgueTthcnJheVsxN109bWluLno7YXJyYXlbMThdPW1pbi54O2FycmF5WzE5XT1taW4ueTthcnJheVsyMF09bWluLno7YXJyYXlbMjFdPW1heC54O2FycmF5WzIyXT1taW4ueTthcnJheVsyM109bWluLno7cG9zaXRpb24ubmVlZHNVcGRhdGU9dHJ1ZTt0aGlzLmdlb21ldHJ5LmNvbXB1dGVCb3VuZGluZ1NwaGVyZSgpO307Qm94SGVscGVyLnByb3RvdHlwZS5zZXRGcm9tT2JqZWN0PWZ1bmN0aW9uKG9iamVjdCl7dGhpcy5vYmplY3Q9b2JqZWN0O3RoaXMudXBkYXRlKCk7cmV0dXJuIHRoaXM7fTtCb3hIZWxwZXIucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oc291cmNlKXtMaW5lU2VnbWVudHMucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHNvdXJjZSk7dGhpcy5vYmplY3Q9c291cmNlLm9iamVjdDtyZXR1cm4gdGhpczt9O0JveEhlbHBlci5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoKS5jb3B5KHRoaXMpO307LyoqCiAgICogQGF1dGhvciBXZXN0TGFuZ2xleSAvIGh0dHA6Ly9naXRodWIuY29tL1dlc3RMYW5nbGV5CiAgICovZnVuY3Rpb24gQm94M0hlbHBlcihib3gsY29sb3Ipe3RoaXMudHlwZT0nQm94M0hlbHBlcic7dGhpcy5ib3g9Ym94O2NvbG9yPWNvbG9yfHwweGZmZmYwMDt2YXIgaW5kaWNlcz1uZXcgVWludDE2QXJyYXkoWzAsMSwxLDIsMiwzLDMsMCw0LDUsNSw2LDYsNyw3LDQsMCw0LDEsNSwyLDYsMyw3XSk7dmFyIHBvc2l0aW9ucz1bMSwxLDEsLTEsMSwxLC0xLC0xLDEsMSwtMSwxLDEsMSwtMSwtMSwxLC0xLC0xLC0xLC0xLDEsLTEsLTFdO3ZhciBnZW9tZXRyeT1uZXcgQnVmZmVyR2VvbWV0cnkoKTtnZW9tZXRyeS5zZXRJbmRleChuZXcgQnVmZmVyQXR0cmlidXRlKGluZGljZXMsMSkpO2dlb21ldHJ5LnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKHBvc2l0aW9ucywzKSk7TGluZVNlZ21lbnRzLmNhbGwodGhpcyxnZW9tZXRyeSxuZXcgTGluZUJhc2ljTWF0ZXJpYWwoe2NvbG9yOmNvbG9yfSkpO3RoaXMuZ2VvbWV0cnkuY29tcHV0ZUJvdW5kaW5nU3BoZXJlKCk7fUJveDNIZWxwZXIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoTGluZVNlZ21lbnRzLnByb3RvdHlwZSk7Qm94M0hlbHBlci5wcm90b3R5cGUuY29uc3RydWN0b3I9Qm94M0hlbHBlcjtCb3gzSGVscGVyLnByb3RvdHlwZS51cGRhdGVNYXRyaXhXb3JsZD1mdW5jdGlvbihmb3JjZSl7dmFyIGJveD10aGlzLmJveDtpZihib3guaXNFbXB0eSgpKXtyZXR1cm47fWJveC5nZXRDZW50ZXIodGhpcy5wb3NpdGlvbik7Ym94LmdldFNpemUodGhpcy5zY2FsZSk7dGhpcy5zY2FsZS5tdWx0aXBseVNjYWxhcigwLjUpO09iamVjdDNELnByb3RvdHlwZS51cGRhdGVNYXRyaXhXb3JsZC5jYWxsKHRoaXMsZm9yY2UpO307LyoqCiAgICogQGF1dGhvciBXZXN0TGFuZ2xleSAvIGh0dHA6Ly9naXRodWIuY29tL1dlc3RMYW5nbGV5CiAgICovZnVuY3Rpb24gUGxhbmVIZWxwZXIocGxhbmUsc2l6ZSxoZXgpe3RoaXMudHlwZT0nUGxhbmVIZWxwZXInO3RoaXMucGxhbmU9cGxhbmU7dGhpcy5zaXplPXNpemU9PT11bmRlZmluZWQ/MTpzaXplO3ZhciBjb2xvcj1oZXghPT11bmRlZmluZWQ/aGV4OjB4ZmZmZjAwO3ZhciBwb3NpdGlvbnM9WzEsLTEsMSwtMSwxLDEsLTEsLTEsMSwxLDEsMSwtMSwxLDEsLTEsLTEsMSwxLC0xLDEsMSwxLDEsMCwwLDEsMCwwLDBdO3ZhciBnZW9tZXRyeT1uZXcgQnVmZmVyR2VvbWV0cnkoKTtnZW9tZXRyeS5zZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJyxuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZShwb3NpdGlvbnMsMykpO2dlb21ldHJ5LmNvbXB1dGVCb3VuZGluZ1NwaGVyZSgpO0xpbmUuY2FsbCh0aGlzLGdlb21ldHJ5LG5ldyBMaW5lQmFzaWNNYXRlcmlhbCh7Y29sb3I6Y29sb3J9KSk7Ly8KdmFyIHBvc2l0aW9uczI9WzEsMSwxLC0xLDEsMSwtMSwtMSwxLDEsMSwxLC0xLC0xLDEsMSwtMSwxXTt2YXIgZ2VvbWV0cnkyPW5ldyBCdWZmZXJHZW9tZXRyeSgpO2dlb21ldHJ5Mi5zZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJyxuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZShwb3NpdGlvbnMyLDMpKTtnZW9tZXRyeTIuY29tcHV0ZUJvdW5kaW5nU3BoZXJlKCk7dGhpcy5hZGQobmV3IE1lc2goZ2VvbWV0cnkyLG5ldyBNZXNoQmFzaWNNYXRlcmlhbCh7Y29sb3I6Y29sb3Isb3BhY2l0eTowLjIsdHJhbnNwYXJlbnQ6dHJ1ZSxkZXB0aFdyaXRlOmZhbHNlfSkpKTt9UGxhbmVIZWxwZXIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoTGluZS5wcm90b3R5cGUpO1BsYW5lSGVscGVyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1QbGFuZUhlbHBlcjtQbGFuZUhlbHBlci5wcm90b3R5cGUudXBkYXRlTWF0cml4V29ybGQ9ZnVuY3Rpb24oZm9yY2Upe3ZhciBzY2FsZT0tdGhpcy5wbGFuZS5jb25zdGFudDtpZihNYXRoLmFicyhzY2FsZSk8MWUtOCl7c2NhbGU9MWUtODt9Ly8gc2lnbiBkb2VzIG5vdCBtYXR0ZXIKdGhpcy5zY2FsZS5zZXQoMC41KnRoaXMuc2l6ZSwwLjUqdGhpcy5zaXplLHNjYWxlKTt0aGlzLmNoaWxkcmVuWzBdLm1hdGVyaWFsLnNpZGU9c2NhbGU8MD9CYWNrU2lkZTpGcm9udFNpZGU7Ly8gcmVuZGVyZXIgZmxpcHMgc2lkZSB3aGVuIGRldGVybWluYW50IDwgMDsgZmxpcHBpbmcgbm90IHdhbnRlZCBoZXJlCnRoaXMubG9va0F0KHRoaXMucGxhbmUubm9ybWFsKTtPYmplY3QzRC5wcm90b3R5cGUudXBkYXRlTWF0cml4V29ybGQuY2FsbCh0aGlzLGZvcmNlKTt9Oy8qKgogICAqIEBhdXRob3IgV2VzdExhbmdsZXkgLyBodHRwOi8vZ2l0aHViLmNvbS9XZXN0TGFuZ2xleQogICAqIEBhdXRob3Igeno4NSAvIGh0dHA6Ly9naXRodWIuY29tL3p6ODUKICAgKiBAYXV0aG9yIGJob3VzdG9uIC8gaHR0cDovL2NsYXJhLmlvCiAgICoKICAgKiBDcmVhdGVzIGFuIGFycm93IGZvciB2aXN1YWxpemluZyBkaXJlY3Rpb25zCiAgICoKICAgKiBQYXJhbWV0ZXJzOgogICAqICBkaXIgLSBWZWN0b3IzCiAgICogIG9yaWdpbiAtIFZlY3RvcjMKICAgKiAgbGVuZ3RoIC0gTnVtYmVyCiAgICogIGNvbG9yIC0gY29sb3IgaW4gaGV4IHZhbHVlCiAgICogIGhlYWRMZW5ndGggLSBOdW1iZXIKICAgKiAgaGVhZFdpZHRoIC0gTnVtYmVyCiAgICovdmFyIF9heGlzPW5ldyBWZWN0b3IzKCk7dmFyIF9saW5lR2VvbWV0cnksX2NvbmVHZW9tZXRyeTtmdW5jdGlvbiBBcnJvd0hlbHBlcihkaXIsb3JpZ2luLGxlbmd0aCxjb2xvcixoZWFkTGVuZ3RoLGhlYWRXaWR0aCl7Ly8gZGlyIGlzIGFzc3VtZWQgdG8gYmUgbm9ybWFsaXplZApPYmplY3QzRC5jYWxsKHRoaXMpO2lmKGRpcj09PXVuZGVmaW5lZCl7ZGlyPW5ldyBWZWN0b3IzKDAsMCwxKTt9aWYob3JpZ2luPT09dW5kZWZpbmVkKXtvcmlnaW49bmV3IFZlY3RvcjMoMCwwLDApO31pZihsZW5ndGg9PT11bmRlZmluZWQpe2xlbmd0aD0xO31pZihjb2xvcj09PXVuZGVmaW5lZCl7Y29sb3I9MHhmZmZmMDA7fWlmKGhlYWRMZW5ndGg9PT11bmRlZmluZWQpe2hlYWRMZW5ndGg9MC4yKmxlbmd0aDt9aWYoaGVhZFdpZHRoPT09dW5kZWZpbmVkKXtoZWFkV2lkdGg9MC4yKmhlYWRMZW5ndGg7fWlmKF9saW5lR2VvbWV0cnk9PT11bmRlZmluZWQpe19saW5lR2VvbWV0cnk9bmV3IEJ1ZmZlckdlb21ldHJ5KCk7X2xpbmVHZW9tZXRyeS5zZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJyxuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZShbMCwwLDAsMCwxLDBdLDMpKTtfY29uZUdlb21ldHJ5PW5ldyBDeWxpbmRlckJ1ZmZlckdlb21ldHJ5KDAsMC41LDEsNSwxKTtfY29uZUdlb21ldHJ5LnRyYW5zbGF0ZSgwLC0wLjUsMCk7fXRoaXMucG9zaXRpb24uY29weShvcmlnaW4pO3RoaXMubGluZT1uZXcgTGluZShfbGluZUdlb21ldHJ5LG5ldyBMaW5lQmFzaWNNYXRlcmlhbCh7Y29sb3I6Y29sb3J9KSk7dGhpcy5saW5lLm1hdHJpeEF1dG9VcGRhdGU9ZmFsc2U7dGhpcy5hZGQodGhpcy5saW5lKTt0aGlzLmNvbmU9bmV3IE1lc2goX2NvbmVHZW9tZXRyeSxuZXcgTWVzaEJhc2ljTWF0ZXJpYWwoe2NvbG9yOmNvbG9yfSkpO3RoaXMuY29uZS5tYXRyaXhBdXRvVXBkYXRlPWZhbHNlO3RoaXMuYWRkKHRoaXMuY29uZSk7dGhpcy5zZXREaXJlY3Rpb24oZGlyKTt0aGlzLnNldExlbmd0aChsZW5ndGgsaGVhZExlbmd0aCxoZWFkV2lkdGgpO31BcnJvd0hlbHBlci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShPYmplY3QzRC5wcm90b3R5cGUpO0Fycm93SGVscGVyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1BcnJvd0hlbHBlcjtBcnJvd0hlbHBlci5wcm90b3R5cGUuc2V0RGlyZWN0aW9uPWZ1bmN0aW9uKGRpcil7Ly8gZGlyIGlzIGFzc3VtZWQgdG8gYmUgbm9ybWFsaXplZAppZihkaXIueT4wLjk5OTk5KXt0aGlzLnF1YXRlcm5pb24uc2V0KDAsMCwwLDEpO31lbHNlIGlmKGRpci55PC0wLjk5OTk5KXt0aGlzLnF1YXRlcm5pb24uc2V0KDEsMCwwLDApO31lbHNle19heGlzLnNldChkaXIueiwwLC1kaXIueCkubm9ybWFsaXplKCk7dmFyIHJhZGlhbnM9TWF0aC5hY29zKGRpci55KTt0aGlzLnF1YXRlcm5pb24uc2V0RnJvbUF4aXNBbmdsZShfYXhpcyxyYWRpYW5zKTt9fTtBcnJvd0hlbHBlci5wcm90b3R5cGUuc2V0TGVuZ3RoPWZ1bmN0aW9uKGxlbmd0aCxoZWFkTGVuZ3RoLGhlYWRXaWR0aCl7aWYoaGVhZExlbmd0aD09PXVuZGVmaW5lZCl7aGVhZExlbmd0aD0wLjIqbGVuZ3RoO31pZihoZWFkV2lkdGg9PT11bmRlZmluZWQpe2hlYWRXaWR0aD0wLjIqaGVhZExlbmd0aDt9dGhpcy5saW5lLnNjYWxlLnNldCgxLE1hdGgubWF4KDAuMDAwMSxsZW5ndGgtaGVhZExlbmd0aCksMSk7Ly8gc2VlICMxNzQ1OAp0aGlzLmxpbmUudXBkYXRlTWF0cml4KCk7dGhpcy5jb25lLnNjYWxlLnNldChoZWFkV2lkdGgsaGVhZExlbmd0aCxoZWFkV2lkdGgpO3RoaXMuY29uZS5wb3NpdGlvbi55PWxlbmd0aDt0aGlzLmNvbmUudXBkYXRlTWF0cml4KCk7fTtBcnJvd0hlbHBlci5wcm90b3R5cGUuc2V0Q29sb3I9ZnVuY3Rpb24oY29sb3Ipe3RoaXMubGluZS5tYXRlcmlhbC5jb2xvci5zZXQoY29sb3IpO3RoaXMuY29uZS5tYXRlcmlhbC5jb2xvci5zZXQoY29sb3IpO307QXJyb3dIZWxwZXIucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oc291cmNlKXtPYmplY3QzRC5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsc291cmNlLGZhbHNlKTt0aGlzLmxpbmUuY29weShzb3VyY2UubGluZSk7dGhpcy5jb25lLmNvcHkoc291cmNlLmNvbmUpO3JldHVybiB0aGlzO307QXJyb3dIZWxwZXIucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCkuY29weSh0aGlzKTt9Oy8qKgogICAqIEBhdXRob3Igc3JvdWNoZXJheSAvIGh0dHA6Ly9zcm91Y2hlcmF5Lm9yZy8KICAgKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tLwogICAqL2Z1bmN0aW9uIEF4ZXNIZWxwZXIoc2l6ZSl7c2l6ZT1zaXplfHwxO3ZhciB2ZXJ0aWNlcz1bMCwwLDAsc2l6ZSwwLDAsMCwwLDAsMCxzaXplLDAsMCwwLDAsMCwwLHNpemVdO3ZhciBjb2xvcnM9WzEsMCwwLDEsMC42LDAsMCwxLDAsMC42LDEsMCwwLDAsMSwwLDAuNiwxXTt2YXIgZ2VvbWV0cnk9bmV3IEJ1ZmZlckdlb21ldHJ5KCk7Z2VvbWV0cnkuc2V0QXR0cmlidXRlKCdwb3NpdGlvbicsbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUodmVydGljZXMsMykpO2dlb21ldHJ5LnNldEF0dHJpYnV0ZSgnY29sb3InLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKGNvbG9ycywzKSk7dmFyIG1hdGVyaWFsPW5ldyBMaW5lQmFzaWNNYXRlcmlhbCh7dmVydGV4Q29sb3JzOlZlcnRleENvbG9yc30pO0xpbmVTZWdtZW50cy5jYWxsKHRoaXMsZ2VvbWV0cnksbWF0ZXJpYWwpO31BeGVzSGVscGVyLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKExpbmVTZWdtZW50cy5wcm90b3R5cGUpO0F4ZXNIZWxwZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yPUF4ZXNIZWxwZXI7LyoqCiAgICogQGF1dGhvciBFbW1ldHQgTGFsaXNoIC8gZWxhbGlzaAogICAqCiAgICogVGhpcyBjbGFzcyBnZW5lcmF0ZXMgYSBQcmVmaWx0ZXJlZCwgTWlwbWFwcGVkIFJhZGlhbmNlIEVudmlyb25tZW50IE1hcAogICAqIChQTVJFTSkgZnJvbSBhIGN1YmVNYXAgZW52aXJvbm1lbnQgdGV4dHVyZS4gVGhpcyBhbGxvd3MgZGlmZmVyZW50IGxldmVscyBvZgogICAqIGJsdXIgdG8gYmUgcXVpY2tseSBhY2Nlc3NlZCBiYXNlZCBvbiBtYXRlcmlhbCByb3VnaG5lc3MuIEl0IGlzIHBhY2tlZCBpbnRvIGEKICAgKiBzcGVjaWFsIEN1YmVVViBmb3JtYXQgdGhhdCBhbGxvd3MgdXMgdG8gcGVyZm9ybSBjdXN0b20gaW50ZXJwb2xhdGlvbiBzbyB0aGF0CiAgICogd2UgY2FuIHN1cHBvcnQgbm9ubGluZWFyIGZvcm1hdHMgc3VjaCBhcyBSR0JFLiBVbmxpa2UgYSB0cmFkaXRpb25hbCBtaXBtYXAKICAgKiBjaGFpbiwgaXQgb25seSBnb2VzIGRvd24gdG8gdGhlIExPRF9NSU4gbGV2ZWwgKGFib3ZlKSwgYW5kIHRoZW4gY3JlYXRlcyBleHRyYQogICAqIGV2ZW4gbW9yZSBmaWx0ZXJlZCAnbWlwcycgYXQgdGhlIHNhbWUgTE9EX01JTiByZXNvbHV0aW9uLCBhc3NvY2lhdGVkIHdpdGgKICAgKiBoaWdoZXIgcm91Z2huZXNzIGxldmVscy4gSW4gdGhpcyB3YXkgd2UgbWFpbnRhaW4gcmVzb2x1dGlvbiB0byBzbW9vdGhseQogICAqIGludGVycG9sYXRlIGRpZmZ1c2UgbGlnaHRpbmcgd2hpbGUgbGltaXRpbmcgc2FtcGxpbmcgY29tcHV0YXRpb24uCiAgICovdmFyIExPRF9NSU49NDt2YXIgTE9EX01BWD04O3ZhciBTSVpFX01BWD1NYXRoLnBvdygyLExPRF9NQVgpOy8vIFRoZSBzdGFuZGFyZCBkZXZpYXRpb25zIChyYWRpYW5zKSBhc3NvY2lhdGVkIHdpdGggdGhlIGV4dHJhIG1pcHMuIFRoZXNlIGFyZQovLyBjaG9zZW4gdG8gYXBwcm94aW1hdGUgYSBUcm93YnJpZGdlLVJlaXR6IGRpc3RyaWJ1dGlvbiBmdW5jdGlvbiB0aW1lcyB0aGUKLy8gZ2VvbWV0cmljIHNoYWRvd2luZyBmdW5jdGlvbi4gVGhlc2Ugc2lnbWEgdmFsdWVzIHNxdWFyZWQgbXVzdCBtYXRjaCB0aGUKLy8gdmFyaWFuY2UgI2RlZmluZXMgaW4gY3ViZV91dl9yZWZsZWN0aW9uX2ZyYWdtZW50Lmdsc2wuanMuCnZhciBFWFRSQV9MT0RfU0lHTUE9WzAuMTI1LDAuMjE1LDAuMzUsMC40NDYsMC41MjYsMC41ODJdO3ZhciBUT1RBTF9MT0RTPUxPRF9NQVgtTE9EX01JTisxK0VYVFJBX0xPRF9TSUdNQS5sZW5ndGg7Ly8gVGhlIG1heGltdW0gbGVuZ3RoIG9mIHRoZSBibHVyIGZvciBsb29wLiBTbWFsbGVyIHNpZ21hcyB3aWxsIHVzZSBmZXdlcgovLyBzYW1wbGVzIGFuZCBleGl0IGVhcmx5LCBidXQgbm90IHJlY29tcGlsZSB0aGUgc2hhZGVyLgp2YXIgTUFYX1NBTVBMRVM9MjA7dmFyIEVOQ09ESU5HUz17fTtFTkNPRElOR1NbTGluZWFyRW5jb2RpbmddPTA7RU5DT0RJTkdTW3NSR0JFbmNvZGluZ109MTtFTkNPRElOR1NbUkdCRUVuY29kaW5nXT0yO0VOQ09ESU5HU1tSR0JNN0VuY29kaW5nXT0zO0VOQ09ESU5HU1tSR0JNMTZFbmNvZGluZ109NDtFTkNPRElOR1NbUkdCREVuY29kaW5nXT01O0VOQ09ESU5HU1tHYW1tYUVuY29kaW5nXT02O3ZhciBfZmxhdENhbWVyYT1uZXcgT3J0aG9ncmFwaGljQ2FtZXJhKCk7dmFyIF9ibHVyTWF0ZXJpYWw9X2dldEJsdXJTaGFkZXIoTUFYX1NBTVBMRVMpO3ZhciBfZXF1aXJlY3RTaGFkZXI9bnVsbDt2YXIgX2N1YmVtYXBTaGFkZXI9bnVsbDt2YXIgcmVmPV9jcmVhdGVQbGFuZXMoKTt2YXIgX2xvZFBsYW5lcz1yZWYuX2xvZFBsYW5lczt2YXIgX3NpemVMb2RzPXJlZi5fc2l6ZUxvZHM7dmFyIF9zaWdtYXM9cmVmLl9zaWdtYXM7dmFyIF9waW5nUG9uZ1JlbmRlclRhcmdldD1udWxsO3ZhciBfcmVuZGVyZXI9bnVsbDsvLyBHb2xkZW4gUmF0aW8KdmFyIFBIST0oMStNYXRoLnNxcnQoNSkpLzI7dmFyIElOVl9QSEk9MS9QSEk7Ly8gVmVydGljZXMgb2YgYSBkb2RlY2FoZWRyb24gKGV4Y2VwdCB0aGUgb3Bwb3NpdGVzLCB3aGljaCByZXByZXNlbnQgdGhlCi8vIHNhbWUgYXhpcyksIHVzZWQgYXMgYXhpcyBkaXJlY3Rpb25zIGV2ZW5seSBzcHJlYWQgb24gYSBzcGhlcmUuCnZhciBfYXhpc0RpcmVjdGlvbnM9W25ldyBWZWN0b3IzKDEsMSwxKSxuZXcgVmVjdG9yMygtMSwxLDEpLG5ldyBWZWN0b3IzKDEsMSwtMSksbmV3IFZlY3RvcjMoLTEsMSwtMSksbmV3IFZlY3RvcjMoMCxQSEksSU5WX1BISSksbmV3IFZlY3RvcjMoMCxQSEksLUlOVl9QSEkpLG5ldyBWZWN0b3IzKElOVl9QSEksMCxQSEkpLG5ldyBWZWN0b3IzKC1JTlZfUEhJLDAsUEhJKSxuZXcgVmVjdG9yMyhQSEksSU5WX1BISSwwKSxuZXcgVmVjdG9yMygtUEhJLElOVl9QSEksMCldO2Z1bmN0aW9uIFBNUkVNR2VuZXJhdG9yKHJlbmRlcmVyKXtfcmVuZGVyZXI9cmVuZGVyZXI7X2NvbXBpbGVNYXRlcmlhbChfYmx1ck1hdGVyaWFsKTt9UE1SRU1HZW5lcmF0b3IucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpQTVJFTUdlbmVyYXRvciwvKioKICAgICAqIEdlbmVyYXRlcyBhIFBNUkVNIGZyb20gYSBzdXBwbGllZCBTY2VuZSwgd2hpY2ggY2FuIGJlIGZhc3RlciB0aGFuIHVzaW5nIGFuCiAgICAgKiBpbWFnZSBpZiBuZXR3b3JraW5nIGJhbmR3aWR0aCBpcyBsb3cuIE9wdGlvbmFsIHNpZ21hIHNwZWNpZmllcyBhIGJsdXIgcmFkaXVzCiAgICAgKiBpbiByYWRpYW5zIHRvIGJlIGFwcGxpZWQgdG8gdGhlIHNjZW5lIGJlZm9yZSBQTVJFTSBnZW5lcmF0aW9uLiBPcHRpb25hbCBuZWFyCiAgICAgKiBhbmQgZmFyIHBsYW5lcyBlbnN1cmUgdGhlIHNjZW5lIGlzIHJlbmRlcmVkIGluIGl0cyBlbnRpcmV0eSAodGhlIGN1YmVDYW1lcmEKICAgICAqIGlzIHBsYWNlZCBhdCB0aGUgb3JpZ2luKS4KICAgICAqL2Zyb21TY2VuZTpmdW5jdGlvbiBmcm9tU2NlbmUoc2NlbmUsc2lnbWEsbmVhcixmYXIpe2lmKHNpZ21hPT09dm9pZCAwKXNpZ21hPTA7aWYobmVhcj09PXZvaWQgMCluZWFyPTAuMTtpZihmYXI9PT12b2lkIDApZmFyPTEwMDt2YXIgY3ViZVVWUmVuZGVyVGFyZ2V0PV9hbGxvY2F0ZVRhcmdldHMoKTtfc2NlbmVUb0N1YmVVVihzY2VuZSxuZWFyLGZhcixjdWJlVVZSZW5kZXJUYXJnZXQpO2lmKHNpZ21hPjApe19ibHVyKGN1YmVVVlJlbmRlclRhcmdldCwwLDAsc2lnbWEpO31fYXBwbHlQTVJFTShjdWJlVVZSZW5kZXJUYXJnZXQpO19jbGVhbnVwKCk7Y3ViZVVWUmVuZGVyVGFyZ2V0LnNjaXNzb3JUZXN0PWZhbHNlO3JldHVybiBjdWJlVVZSZW5kZXJUYXJnZXQ7fSwvKioKICAgICAqIEdlbmVyYXRlcyBhIFBNUkVNIGZyb20gYW4gZXF1aXJlY3Rhbmd1bGFyIHRleHR1cmUsIHdoaWNoIGNhbiBiZSBlaXRoZXIgTERSCiAgICAgKiAoUkdCRm9ybWF0KSBvciBIRFIgKFJHQkVGb3JtYXQpLiBUaGUgaWRlYWwgaW5wdXQgaW1hZ2Ugc2l6ZSBpcyAxayAoMTAyNCB4IDUxMiksCiAgICAgKiBhcyB0aGlzIG1hdGNoZXMgYmVzdCB3aXRoIHRoZSAyNTYgeCAyNTYgY3ViZW1hcCBvdXRwdXQuCiAgICAgKi9mcm9tRXF1aXJlY3Rhbmd1bGFyOmZ1bmN0aW9uIGZyb21FcXVpcmVjdGFuZ3VsYXIoZXF1aXJlY3Rhbmd1bGFyKXtlcXVpcmVjdGFuZ3VsYXIubWFnRmlsdGVyPU5lYXJlc3RGaWx0ZXI7ZXF1aXJlY3Rhbmd1bGFyLm1pbkZpbHRlcj1OZWFyZXN0RmlsdGVyO2VxdWlyZWN0YW5ndWxhci5nZW5lcmF0ZU1pcG1hcHM9ZmFsc2U7cmV0dXJuIHRoaXMuZnJvbUN1YmVtYXAoZXF1aXJlY3Rhbmd1bGFyKTt9LC8qKgogICAgICogR2VuZXJhdGVzIGEgUE1SRU0gZnJvbSBhbiBjdWJlbWFwIHRleHR1cmUsIHdoaWNoIGNhbiBiZSBlaXRoZXIgTERSCiAgICAgKiAoUkdCRm9ybWF0KSBvciBIRFIgKFJHQkVGb3JtYXQpLiBUaGUgaWRlYWwgaW5wdXQgY3ViZSBzaXplIGlzIDI1NiB4IDI1NiwKICAgICAqIGFzIHRoaXMgbWF0Y2hlcyBiZXN0IHdpdGggdGhlIDI1NiB4IDI1NiBjdWJlbWFwIG91dHB1dC4KICAgICAqL2Zyb21DdWJlbWFwOmZ1bmN0aW9uIGZyb21DdWJlbWFwKGN1YmVtYXApe3ZhciBjdWJlVVZSZW5kZXJUYXJnZXQ9X2FsbG9jYXRlVGFyZ2V0cyhjdWJlbWFwKTtfdGV4dHVyZVRvQ3ViZVVWKGN1YmVtYXAsY3ViZVVWUmVuZGVyVGFyZ2V0KTtfYXBwbHlQTVJFTShjdWJlVVZSZW5kZXJUYXJnZXQpO19jbGVhbnVwKCk7Y3ViZVVWUmVuZGVyVGFyZ2V0LnNjaXNzb3JUZXN0PWZhbHNlO3JldHVybiBjdWJlVVZSZW5kZXJUYXJnZXQ7fSwvKioKICAgICAqIFByZS1jb21waWxlcyB0aGUgY3ViZW1hcCBzaGFkZXIuIFlvdSBjYW4gZ2V0IGZhc3RlciBzdGFydC11cCBieSBpbnZva2luZyB0aGlzIG1ldGhvZCBkdXJpbmcKICAgICAqIHlvdXIgdGV4dHVyZSdzIG5ldHdvcmsgZmV0Y2ggZm9yIGluY3JlYXNlZCBjb25jdXJyZW5jeS4KICAgICAqL2NvbXBpbGVDdWJlbWFwU2hhZGVyOmZ1bmN0aW9uIGNvbXBpbGVDdWJlbWFwU2hhZGVyKCl7aWYoX2N1YmVtYXBTaGFkZXI9PW51bGwpe19jdWJlbWFwU2hhZGVyPV9nZXRDdWJlbWFwU2hhZGVyKCk7X2NvbXBpbGVNYXRlcmlhbChfY3ViZW1hcFNoYWRlcik7fX0sLyoqCiAgICAgKiBQcmUtY29tcGlsZXMgdGhlIGVxdWlyZWN0YW5ndWxhciBzaGFkZXIuIFlvdSBjYW4gZ2V0IGZhc3RlciBzdGFydC11cCBieSBpbnZva2luZyB0aGlzIG1ldGhvZCBkdXJpbmcKICAgICAqIHlvdXIgdGV4dHVyZSdzIG5ldHdvcmsgZmV0Y2ggZm9yIGluY3JlYXNlZCBjb25jdXJyZW5jeS4KICAgICAqL2NvbXBpbGVFcXVpcmVjdGFuZ3VsYXJTaGFkZXI6ZnVuY3Rpb24gY29tcGlsZUVxdWlyZWN0YW5ndWxhclNoYWRlcigpe2lmKF9lcXVpcmVjdFNoYWRlcj09bnVsbCl7X2VxdWlyZWN0U2hhZGVyPV9nZXRFcXVpcmVjdFNoYWRlcigpO19jb21waWxlTWF0ZXJpYWwoX2VxdWlyZWN0U2hhZGVyKTt9fSwvKioKICAgICAqIERpc3Bvc2VzIG9mIHRoZSBQTVJFTUdlbmVyYXRvcidzIGludGVybmFsIG1lbW9yeS4gTm90ZSB0aGF0IFBNUkVNR2VuZXJhdG9yIGlzIGEgc3RhdGljIGNsYXNzLAogICAgICogc28geW91IHNob3VsZCBub3QgbmVlZCBtb3JlIHRoYW4gb25lIFBNUkVNR2VuZXJhdG9yIG9iamVjdC4gSWYgeW91IGRvLCBjYWxsaW5nIGRpc3Bvc2UoKSBvbgogICAgICogb25lIG9mIHRoZW0gd2lsbCBjYXVzZSBhbnkgb3RoZXJzIHRvIGFsc28gYmVjb21lIHVudXNhYmxlLgogICAgICovZGlzcG9zZTpmdW5jdGlvbiBkaXNwb3NlKCl7X2JsdXJNYXRlcmlhbC5kaXNwb3NlKCk7aWYoX2N1YmVtYXBTaGFkZXIhPW51bGwpe19jdWJlbWFwU2hhZGVyLmRpc3Bvc2UoKTt9aWYoX2VxdWlyZWN0U2hhZGVyIT1udWxsKXtfZXF1aXJlY3RTaGFkZXIuZGlzcG9zZSgpO31mb3IodmFyIGk9MDtpPF9sb2RQbGFuZXMubGVuZ3RoO2krKyl7X2xvZFBsYW5lc1tpXS5kaXNwb3NlKCk7fX19O2Z1bmN0aW9uIF9jcmVhdGVQbGFuZXMoKXt2YXIgX2xvZFBsYW5lcz1bXTt2YXIgX3NpemVMb2RzPVtdO3ZhciBfc2lnbWFzPVtdO3ZhciBsb2Q9TE9EX01BWDtmb3IodmFyIGk9MDtpPFRPVEFMX0xPRFM7aSsrKXt2YXIgc2l6ZUxvZD1NYXRoLnBvdygyLGxvZCk7X3NpemVMb2RzLnB1c2goc2l6ZUxvZCk7dmFyIHNpZ21hPTEuMC9zaXplTG9kO2lmKGk+TE9EX01BWC1MT0RfTUlOKXtzaWdtYT1FWFRSQV9MT0RfU0lHTUFbaS1MT0RfTUFYK0xPRF9NSU4tMV07fWVsc2UgaWYoaT09MCl7c2lnbWE9MDt9X3NpZ21hcy5wdXNoKHNpZ21hKTt2YXIgdGV4ZWxTaXplPTEuMC8oc2l6ZUxvZC0xKTt2YXIgbWluPS10ZXhlbFNpemUvMjt2YXIgbWF4PTErdGV4ZWxTaXplLzI7dmFyIHV2MT1bbWluLG1pbixtYXgsbWluLG1heCxtYXgsbWluLG1pbixtYXgsbWF4LG1pbixtYXhdO3ZhciBjdWJlRmFjZXM9Njt2YXIgdmVydGljZXM9Njt2YXIgcG9zaXRpb25TaXplPTM7dmFyIHV2U2l6ZT0yO3ZhciBmYWNlSW5kZXhTaXplPTE7dmFyIHBvc2l0aW9uPW5ldyBGbG9hdDMyQXJyYXkocG9zaXRpb25TaXplKnZlcnRpY2VzKmN1YmVGYWNlcyk7dmFyIHV2PW5ldyBGbG9hdDMyQXJyYXkodXZTaXplKnZlcnRpY2VzKmN1YmVGYWNlcyk7dmFyIGZhY2VJbmRleD1uZXcgRmxvYXQzMkFycmF5KGZhY2VJbmRleFNpemUqdmVydGljZXMqY3ViZUZhY2VzKTtmb3IodmFyIGZhY2U9MDtmYWNlPGN1YmVGYWNlcztmYWNlKyspe3ZhciB4PWZhY2UlMyoyLzMtMTt2YXIgeT1mYWNlPjI/MDotMTt2YXIgY29vcmRpbmF0ZXM9W3gseSwwLHgrMi8zLHksMCx4KzIvMyx5KzEsMCx4LHksMCx4KzIvMyx5KzEsMCx4LHkrMSwwXTtwb3NpdGlvbi5zZXQoY29vcmRpbmF0ZXMscG9zaXRpb25TaXplKnZlcnRpY2VzKmZhY2UpO3V2LnNldCh1djEsdXZTaXplKnZlcnRpY2VzKmZhY2UpO3ZhciBmaWxsPVtmYWNlLGZhY2UsZmFjZSxmYWNlLGZhY2UsZmFjZV07ZmFjZUluZGV4LnNldChmaWxsLGZhY2VJbmRleFNpemUqdmVydGljZXMqZmFjZSk7fXZhciBwbGFuZXM9bmV3IEJ1ZmZlckdlb21ldHJ5KCk7cGxhbmVzLnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLG5ldyBCdWZmZXJBdHRyaWJ1dGUocG9zaXRpb24scG9zaXRpb25TaXplKSk7cGxhbmVzLnNldEF0dHJpYnV0ZSgndXYnLG5ldyBCdWZmZXJBdHRyaWJ1dGUodXYsdXZTaXplKSk7cGxhbmVzLnNldEF0dHJpYnV0ZSgnZmFjZUluZGV4JyxuZXcgQnVmZmVyQXR0cmlidXRlKGZhY2VJbmRleCxmYWNlSW5kZXhTaXplKSk7X2xvZFBsYW5lcy5wdXNoKHBsYW5lcyk7aWYobG9kPkxPRF9NSU4pe2xvZC0tO319cmV0dXJue19sb2RQbGFuZXM6X2xvZFBsYW5lcyxfc2l6ZUxvZHM6X3NpemVMb2RzLF9zaWdtYXM6X3NpZ21hc307fWZ1bmN0aW9uIF9hbGxvY2F0ZVRhcmdldHMoZXF1aXJlY3Rhbmd1bGFyKXt2YXIgcGFyYW1zPXttYWdGaWx0ZXI6TmVhcmVzdEZpbHRlcixtaW5GaWx0ZXI6TmVhcmVzdEZpbHRlcixnZW5lcmF0ZU1pcG1hcHM6ZmFsc2UsdHlwZTplcXVpcmVjdGFuZ3VsYXI/ZXF1aXJlY3Rhbmd1bGFyLnR5cGU6VW5zaWduZWRCeXRlVHlwZSxmb3JtYXQ6ZXF1aXJlY3Rhbmd1bGFyP2VxdWlyZWN0YW5ndWxhci5mb3JtYXQ6UkdCRUZvcm1hdCxlbmNvZGluZzplcXVpcmVjdGFuZ3VsYXI/ZXF1aXJlY3Rhbmd1bGFyLmVuY29kaW5nOlJHQkVFbmNvZGluZyxkZXB0aEJ1ZmZlcjpmYWxzZSxzdGVuY2lsQnVmZmVyOmZhbHNlfTt2YXIgY3ViZVVWUmVuZGVyVGFyZ2V0PV9jcmVhdGVSZW5kZXJUYXJnZXQocGFyYW1zKTtjdWJlVVZSZW5kZXJUYXJnZXQuZGVwdGhCdWZmZXI9ZXF1aXJlY3Rhbmd1bGFyP2ZhbHNlOnRydWU7X3BpbmdQb25nUmVuZGVyVGFyZ2V0PV9jcmVhdGVSZW5kZXJUYXJnZXQocGFyYW1zKTtyZXR1cm4gY3ViZVVWUmVuZGVyVGFyZ2V0O31mdW5jdGlvbiBfY2xlYW51cCgpe19waW5nUG9uZ1JlbmRlclRhcmdldC5kaXNwb3NlKCk7X3JlbmRlcmVyLnNldFJlbmRlclRhcmdldChudWxsKTt2YXIgc2l6ZT1fcmVuZGVyZXIuZ2V0U2l6ZShuZXcgVmVjdG9yMigpKTtfcmVuZGVyZXIuc2V0Vmlld3BvcnQoMCwwLHNpemUueCxzaXplLnkpO31mdW5jdGlvbiBfc2NlbmVUb0N1YmVVVihzY2VuZSxuZWFyLGZhcixjdWJlVVZSZW5kZXJUYXJnZXQpe3ZhciBmb3Y9OTA7dmFyIGFzcGVjdD0xO3ZhciBjdWJlQ2FtZXJhPW5ldyBQZXJzcGVjdGl2ZUNhbWVyYShmb3YsYXNwZWN0LG5lYXIsZmFyKTt2YXIgdXBTaWduPVsxLDEsMSwxLC0xLDFdO3ZhciBmb3J3YXJkU2lnbj1bMSwxLC0xLC0xLC0xLDFdO3ZhciBvdXRwdXRFbmNvZGluZz1fcmVuZGVyZXIub3V0cHV0RW5jb2Rpbmc7dmFyIHRvbmVNYXBwaW5nPV9yZW5kZXJlci50b25lTWFwcGluZzt2YXIgdG9uZU1hcHBpbmdFeHBvc3VyZT1fcmVuZGVyZXIudG9uZU1hcHBpbmdFeHBvc3VyZTt2YXIgY2xlYXJDb2xvcj1fcmVuZGVyZXIuZ2V0Q2xlYXJDb2xvcigpO3ZhciBjbGVhckFscGhhPV9yZW5kZXJlci5nZXRDbGVhckFscGhhKCk7X3JlbmRlcmVyLnRvbmVNYXBwaW5nPUxpbmVhclRvbmVNYXBwaW5nO19yZW5kZXJlci50b25lTWFwcGluZ0V4cG9zdXJlPTEuMDtfcmVuZGVyZXIub3V0cHV0RW5jb2Rpbmc9TGluZWFyRW5jb2Rpbmc7c2NlbmUuc2NhbGUueio9LTE7dmFyIGJhY2tncm91bmQ9c2NlbmUuYmFja2dyb3VuZDtpZihiYWNrZ3JvdW5kJiZiYWNrZ3JvdW5kLmlzQ29sb3Ipe2JhY2tncm91bmQuY29udmVydFNSR0JUb0xpbmVhcigpOy8vIENvbnZlcnQgbGluZWFyIHRvIFJHQkUKdmFyIG1heENvbXBvbmVudD1NYXRoLm1heChiYWNrZ3JvdW5kLnIsYmFja2dyb3VuZC5nLGJhY2tncm91bmQuYik7dmFyIGZFeHA9TWF0aC5taW4oTWF0aC5tYXgoTWF0aC5jZWlsKE1hdGgubG9nMihtYXhDb21wb25lbnQpKSwtMTI4LjApLDEyNy4wKTtiYWNrZ3JvdW5kPWJhY2tncm91bmQubXVsdGlwbHlTY2FsYXIoTWF0aC5wb3coMi4wLC1mRXhwKSk7dmFyIGFscGhhPShmRXhwKzEyOC4wKS8yNTUuMDtfcmVuZGVyZXIuc2V0Q2xlYXJDb2xvcihiYWNrZ3JvdW5kLGFscGhhKTtzY2VuZS5iYWNrZ3JvdW5kPW51bGw7fV9yZW5kZXJlci5zZXRSZW5kZXJUYXJnZXQoY3ViZVVWUmVuZGVyVGFyZ2V0KTtmb3IodmFyIGk9MDtpPDY7aSsrKXt2YXIgY29sPWklMztpZihjb2w9PTApe2N1YmVDYW1lcmEudXAuc2V0KDAsdXBTaWduW2ldLDApO2N1YmVDYW1lcmEubG9va0F0KGZvcndhcmRTaWduW2ldLDAsMCk7fWVsc2UgaWYoY29sPT0xKXtjdWJlQ2FtZXJhLnVwLnNldCgwLDAsdXBTaWduW2ldKTtjdWJlQ2FtZXJhLmxvb2tBdCgwLGZvcndhcmRTaWduW2ldLDApO31lbHNle2N1YmVDYW1lcmEudXAuc2V0KDAsdXBTaWduW2ldLDApO2N1YmVDYW1lcmEubG9va0F0KDAsMCxmb3J3YXJkU2lnbltpXSk7fV9zZXRWaWV3cG9ydChjb2wqU0laRV9NQVgsaT4yP1NJWkVfTUFYOjAsU0laRV9NQVgsU0laRV9NQVgpO19yZW5kZXJlci5yZW5kZXIoc2NlbmUsY3ViZUNhbWVyYSk7fV9yZW5kZXJlci50b25lTWFwcGluZz10b25lTWFwcGluZztfcmVuZGVyZXIudG9uZU1hcHBpbmdFeHBvc3VyZT10b25lTWFwcGluZ0V4cG9zdXJlO19yZW5kZXJlci5vdXRwdXRFbmNvZGluZz1vdXRwdXRFbmNvZGluZztfcmVuZGVyZXIuc2V0Q2xlYXJDb2xvcihjbGVhckNvbG9yLGNsZWFyQWxwaGEpO3NjZW5lLnNjYWxlLnoqPS0xO31mdW5jdGlvbiBfdGV4dHVyZVRvQ3ViZVVWKHRleHR1cmUsY3ViZVVWUmVuZGVyVGFyZ2V0KXt2YXIgc2NlbmU9bmV3IFNjZW5lKCk7aWYodGV4dHVyZS5pc0N1YmVUZXh0dXJlKXtpZihfY3ViZW1hcFNoYWRlcj09bnVsbCl7X2N1YmVtYXBTaGFkZXI9X2dldEN1YmVtYXBTaGFkZXIoKTt9fWVsc2V7aWYoX2VxdWlyZWN0U2hhZGVyPT1udWxsKXtfZXF1aXJlY3RTaGFkZXI9X2dldEVxdWlyZWN0U2hhZGVyKCk7fX12YXIgbWF0ZXJpYWw9dGV4dHVyZS5pc0N1YmVUZXh0dXJlP19jdWJlbWFwU2hhZGVyOl9lcXVpcmVjdFNoYWRlcjtzY2VuZS5hZGQobmV3IE1lc2goX2xvZFBsYW5lc1swXSxtYXRlcmlhbCkpO3ZhciB1bmlmb3Jtcz1tYXRlcmlhbC51bmlmb3Jtczt1bmlmb3Jtc1snZW52TWFwJ10udmFsdWU9dGV4dHVyZTtpZighdGV4dHVyZS5pc0N1YmVUZXh0dXJlKXt1bmlmb3Jtc1sndGV4ZWxTaXplJ10udmFsdWUuc2V0KDEuMC90ZXh0dXJlLmltYWdlLndpZHRoLDEuMC90ZXh0dXJlLmltYWdlLmhlaWdodCk7fXVuaWZvcm1zWydpbnB1dEVuY29kaW5nJ10udmFsdWU9RU5DT0RJTkdTW3RleHR1cmUuZW5jb2RpbmddO3VuaWZvcm1zWydvdXRwdXRFbmNvZGluZyddLnZhbHVlPUVOQ09ESU5HU1t0ZXh0dXJlLmVuY29kaW5nXTtfcmVuZGVyZXIuc2V0UmVuZGVyVGFyZ2V0KGN1YmVVVlJlbmRlclRhcmdldCk7X3NldFZpZXdwb3J0KDAsMCwzKlNJWkVfTUFYLDIqU0laRV9NQVgpO19yZW5kZXJlci5yZW5kZXIoc2NlbmUsX2ZsYXRDYW1lcmEpO31mdW5jdGlvbiBfY29tcGlsZU1hdGVyaWFsKG1hdGVyaWFsKXt2YXIgdG1wU2NlbmU9bmV3IFNjZW5lKCk7dG1wU2NlbmUuYWRkKG5ldyBNZXNoKF9sb2RQbGFuZXNbMF0sbWF0ZXJpYWwpKTtfcmVuZGVyZXIuY29tcGlsZSh0bXBTY2VuZSxfZmxhdENhbWVyYSk7fWZ1bmN0aW9uIF9jcmVhdGVSZW5kZXJUYXJnZXQocGFyYW1zKXt2YXIgY3ViZVVWUmVuZGVyVGFyZ2V0PW5ldyBXZWJHTFJlbmRlclRhcmdldCgzKlNJWkVfTUFYLDMqU0laRV9NQVgscGFyYW1zKTtjdWJlVVZSZW5kZXJUYXJnZXQudGV4dHVyZS5tYXBwaW5nPUN1YmVVVlJlZmxlY3Rpb25NYXBwaW5nO2N1YmVVVlJlbmRlclRhcmdldC50ZXh0dXJlLm5hbWU9J1BNUkVNLmN1YmVVdic7Y3ViZVVWUmVuZGVyVGFyZ2V0LnNjaXNzb3JUZXN0PXRydWU7cmV0dXJuIGN1YmVVVlJlbmRlclRhcmdldDt9ZnVuY3Rpb24gX3NldFZpZXdwb3J0KHgseSx3aWR0aCxoZWlnaHQpe3ZhciBpbnZEcHI9MS4wL19yZW5kZXJlci5nZXRQaXhlbFJhdGlvKCk7eCo9aW52RHByO3kqPWludkRwcjt3aWR0aCo9aW52RHByO2hlaWdodCo9aW52RHByO19yZW5kZXJlci5zZXRWaWV3cG9ydCh4LHksd2lkdGgsaGVpZ2h0KTtfcmVuZGVyZXIuc2V0U2Npc3Nvcih4LHksd2lkdGgsaGVpZ2h0KTt9ZnVuY3Rpb24gX2FwcGx5UE1SRU0oY3ViZVVWUmVuZGVyVGFyZ2V0KXt2YXIgYXV0b0NsZWFyPV9yZW5kZXJlci5hdXRvQ2xlYXI7X3JlbmRlcmVyLmF1dG9DbGVhcj1mYWxzZTtmb3IodmFyIGk9MTtpPFRPVEFMX0xPRFM7aSsrKXt2YXIgc2lnbWE9TWF0aC5zcXJ0KF9zaWdtYXNbaV0qX3NpZ21hc1tpXS1fc2lnbWFzW2ktMV0qX3NpZ21hc1tpLTFdKTt2YXIgcG9sZUF4aXM9X2F4aXNEaXJlY3Rpb25zWyhpLTEpJV9heGlzRGlyZWN0aW9ucy5sZW5ndGhdO19ibHVyKGN1YmVVVlJlbmRlclRhcmdldCxpLTEsaSxzaWdtYSxwb2xlQXhpcyk7fV9yZW5kZXJlci5hdXRvQ2xlYXI9YXV0b0NsZWFyO30vKioKICAgKiBUaGlzIGlzIGEgdHdvLXBhc3MgR2F1c3NpYW4gYmx1ciBmb3IgYSBjdWJlbWFwLiBOb3JtYWxseSB0aGlzIGlzIGRvbmUKICAgKiB2ZXJ0aWNhbGx5IGFuZCBob3Jpem9udGFsbHksIGJ1dCB0aGlzIGJyZWFrcyBkb3duIG9uIGEgY3ViZS4gSGVyZSB3ZSBhcHBseQogICAqIHRoZSBibHVyIGxhdGl0dWRpbmFsbHkgKGFyb3VuZCB0aGUgcG9sZXMpLCBhbmQgdGhlbiBsb25naXR1ZGluYWxseSAodG93YXJkcwogICAqIHRoZSBwb2xlcykgdG8gYXBwcm94aW1hdGUgdGhlIG9ydGhvZ29uYWxseS1zZXBhcmFibGUgYmx1ci4gSXQgaXMgbGVhc3QKICAgKiBhY2N1cmF0ZSBhdCB0aGUgcG9sZXMsIGJ1dCBzdGlsbCBkb2VzIGEgZGVjZW50IGpvYi4KICAgKi9mdW5jdGlvbiBfYmx1cihjdWJlVVZSZW5kZXJUYXJnZXQsbG9kSW4sbG9kT3V0LHNpZ21hLHBvbGVBeGlzKXtfaGFsZkJsdXIoY3ViZVVWUmVuZGVyVGFyZ2V0LF9waW5nUG9uZ1JlbmRlclRhcmdldCxsb2RJbixsb2RPdXQsc2lnbWEsJ2xhdGl0dWRpbmFsJyxwb2xlQXhpcyk7X2hhbGZCbHVyKF9waW5nUG9uZ1JlbmRlclRhcmdldCxjdWJlVVZSZW5kZXJUYXJnZXQsbG9kT3V0LGxvZE91dCxzaWdtYSwnbG9uZ2l0dWRpbmFsJyxwb2xlQXhpcyk7fWZ1bmN0aW9uIF9oYWxmQmx1cih0YXJnZXRJbix0YXJnZXRPdXQsbG9kSW4sbG9kT3V0LHNpZ21hUmFkaWFucyxkaXJlY3Rpb24scG9sZUF4aXMpe2lmKGRpcmVjdGlvbiE9PSdsYXRpdHVkaW5hbCcmJmRpcmVjdGlvbiE9PSdsb25naXR1ZGluYWwnKXtjb25zb2xlLmVycm9yKCdibHVyIGRpcmVjdGlvbiBtdXN0IGJlIGVpdGhlciBsYXRpdHVkaW5hbCBvciBsb25naXR1ZGluYWwhJyk7fS8vIE51bWJlciBvZiBzdGFuZGFyZCBkZXZpYXRpb25zIGF0IHdoaWNoIHRvIGN1dCBvZmYgdGhlIGRpc2NyZXRlIGFwcHJveGltYXRpb24uCnZhciBTVEFOREFSRF9ERVZJQVRJT05TPTM7dmFyIGJsdXJTY2VuZT1uZXcgU2NlbmUoKTtibHVyU2NlbmUuYWRkKG5ldyBNZXNoKF9sb2RQbGFuZXNbbG9kT3V0XSxfYmx1ck1hdGVyaWFsKSk7dmFyIGJsdXJVbmlmb3Jtcz1fYmx1ck1hdGVyaWFsLnVuaWZvcm1zO3ZhciBwaXhlbHM9X3NpemVMb2RzW2xvZEluXS0xO3ZhciByYWRpYW5zUGVyUGl4ZWw9aXNGaW5pdGUoc2lnbWFSYWRpYW5zKT9NYXRoLlBJLygyKnBpeGVscyk6MipNYXRoLlBJLygyKk1BWF9TQU1QTEVTLTEpO3ZhciBzaWdtYVBpeGVscz1zaWdtYVJhZGlhbnMvcmFkaWFuc1BlclBpeGVsO3ZhciBzYW1wbGVzPWlzRmluaXRlKHNpZ21hUmFkaWFucyk/MStNYXRoLmZsb29yKFNUQU5EQVJEX0RFVklBVElPTlMqc2lnbWFQaXhlbHMpOk1BWF9TQU1QTEVTO2lmKHNhbXBsZXM+TUFYX1NBTVBMRVMpe2NvbnNvbGUud2Fybigic2lnbWFSYWRpYW5zLCAiK3NpZ21hUmFkaWFucysiLCBpcyB0b28gbGFyZ2UgYW5kIHdpbGwgY2xpcCwgYXMgaXQgcmVxdWVzdGVkICIrc2FtcGxlcysiIHNhbXBsZXMgd2hlbiB0aGUgbWF4aW11bSBpcyBzZXQgdG8gIitNQVhfU0FNUExFUyk7fXZhciB3ZWlnaHRzPVtdO3ZhciBzdW09MDtmb3IodmFyIGk9MDtpPE1BWF9TQU1QTEVTOysraSl7dmFyIHg9aS9zaWdtYVBpeGVsczt2YXIgd2VpZ2h0PU1hdGguZXhwKC14KngvMik7d2VpZ2h0cy5wdXNoKHdlaWdodCk7aWYoaT09MCl7c3VtKz13ZWlnaHQ7fWVsc2UgaWYoaTxzYW1wbGVzKXtzdW0rPTIqd2VpZ2h0O319Zm9yKHZhciBpPTA7aTx3ZWlnaHRzLmxlbmd0aDtpKyspe3dlaWdodHNbaV09d2VpZ2h0c1tpXS9zdW07fWJsdXJVbmlmb3Jtc1snZW52TWFwJ10udmFsdWU9dGFyZ2V0SW4udGV4dHVyZTtibHVyVW5pZm9ybXNbJ3NhbXBsZXMnXS52YWx1ZT1zYW1wbGVzO2JsdXJVbmlmb3Jtc1snd2VpZ2h0cyddLnZhbHVlPXdlaWdodHM7Ymx1clVuaWZvcm1zWydsYXRpdHVkaW5hbCddLnZhbHVlPWRpcmVjdGlvbj09PSdsYXRpdHVkaW5hbCc7aWYocG9sZUF4aXMpe2JsdXJVbmlmb3Jtc1sncG9sZUF4aXMnXS52YWx1ZT1wb2xlQXhpczt9Ymx1clVuaWZvcm1zWydkVGhldGEnXS52YWx1ZT1yYWRpYW5zUGVyUGl4ZWw7Ymx1clVuaWZvcm1zWydtaXBJbnQnXS52YWx1ZT1MT0RfTUFYLWxvZEluO2JsdXJVbmlmb3Jtc1snaW5wdXRFbmNvZGluZyddLnZhbHVlPUVOQ09ESU5HU1t0YXJnZXRJbi50ZXh0dXJlLmVuY29kaW5nXTtibHVyVW5pZm9ybXNbJ291dHB1dEVuY29kaW5nJ10udmFsdWU9RU5DT0RJTkdTW3RhcmdldEluLnRleHR1cmUuZW5jb2RpbmddO3ZhciBvdXRwdXRTaXplPV9zaXplTG9kc1tsb2RPdXRdO3ZhciB4PTMqTWF0aC5tYXgoMCxTSVpFX01BWC0yKm91dHB1dFNpemUpO3ZhciB5PShsb2RPdXQ9PT0wPzA6MipTSVpFX01BWCkrMipvdXRwdXRTaXplKihsb2RPdXQ+TE9EX01BWC1MT0RfTUlOP2xvZE91dC1MT0RfTUFYK0xPRF9NSU46MCk7X3JlbmRlcmVyLnNldFJlbmRlclRhcmdldCh0YXJnZXRPdXQpO19zZXRWaWV3cG9ydCh4LHksMypvdXRwdXRTaXplLDIqb3V0cHV0U2l6ZSk7X3JlbmRlcmVyLnJlbmRlcihibHVyU2NlbmUsX2ZsYXRDYW1lcmEpO31mdW5jdGlvbiBfZ2V0Qmx1clNoYWRlcihtYXhTYW1wbGVzKXt2YXIgd2VpZ2h0cz1uZXcgRmxvYXQzMkFycmF5KG1heFNhbXBsZXMpO3ZhciBwb2xlQXhpcz1uZXcgVmVjdG9yMygwLDEsMCk7dmFyIHNoYWRlck1hdGVyaWFsPW5ldyBSYXdTaGFkZXJNYXRlcmlhbCh7ZGVmaW5lczp7J24nOm1heFNhbXBsZXN9LHVuaWZvcm1zOnsnZW52TWFwJzp7dmFsdWU6bnVsbH0sJ3NhbXBsZXMnOnt2YWx1ZToxfSwnd2VpZ2h0cyc6e3ZhbHVlOndlaWdodHN9LCdsYXRpdHVkaW5hbCc6e3ZhbHVlOmZhbHNlfSwnZFRoZXRhJzp7dmFsdWU6MH0sJ21pcEludCc6e3ZhbHVlOjB9LCdwb2xlQXhpcyc6e3ZhbHVlOnBvbGVBeGlzfSwnaW5wdXRFbmNvZGluZyc6e3ZhbHVlOkVOQ09ESU5HU1tMaW5lYXJFbmNvZGluZ119LCdvdXRwdXRFbmNvZGluZyc6e3ZhbHVlOkVOQ09ESU5HU1tMaW5lYXJFbmNvZGluZ119fSx2ZXJ0ZXhTaGFkZXI6X2dldENvbW1vblZlcnRleFNoYWRlcigpLGZyYWdtZW50U2hhZGVyOiJcbnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xucHJlY2lzaW9uIG1lZGl1bXAgaW50O1xudmFyeWluZyB2ZWMzIHZPdXRwdXREaXJlY3Rpb247XG51bmlmb3JtIHNhbXBsZXIyRCBlbnZNYXA7XG51bmlmb3JtIGludCBzYW1wbGVzO1xudW5pZm9ybSBmbG9hdCB3ZWlnaHRzW25dO1xudW5pZm9ybSBib29sIGxhdGl0dWRpbmFsO1xudW5pZm9ybSBmbG9hdCBkVGhldGE7XG51bmlmb3JtIGZsb2F0IG1pcEludDtcbnVuaWZvcm0gdmVjMyBwb2xlQXhpcztcblxuIitfZ2V0RW5jb2RpbmdzKCkrIlxuXG4jZGVmaW5lIEVOVk1BUF9UWVBFX0NVQkVfVVZcbiNpbmNsdWRlIDxjdWJlX3V2X3JlZmxlY3Rpb25fZnJhZ21lbnQ+XG5cbnZvaWQgbWFpbigpIHtcblx0Z2xfRnJhZ0NvbG9yID0gdmVjNCgwLjApO1xuXHRmb3IgKGludCBpID0gMDsgaSA8IG47IGkrKykge1xuXHRcdGlmIChpID49IHNhbXBsZXMpXG5cdFx0XHRicmVhaztcblx0XHRmb3IgKGludCBkaXIgPSAtMTsgZGlyIDwgMjsgZGlyICs9IDIpIHtcblx0XHRcdGlmIChpID09IDAgJiYgZGlyID09IDEpXG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0dmVjMyBheGlzID0gbGF0aXR1ZGluYWwgPyBwb2xlQXhpcyA6IGNyb3NzKHBvbGVBeGlzLCB2T3V0cHV0RGlyZWN0aW9uKTtcblx0XHRcdGlmIChhbGwoZXF1YWwoYXhpcywgdmVjMygwLjApKSkpXG5cdFx0XHRcdGF4aXMgPSBjcm9zcyh2ZWMzKDAuMCwgMS4wLCAwLjApLCB2T3V0cHV0RGlyZWN0aW9uKTtcblx0XHRcdGF4aXMgPSBub3JtYWxpemUoYXhpcyk7XG5cdFx0XHRmbG9hdCB0aGV0YSA9IGRUaGV0YSAqIGZsb2F0KGRpciAqIGkpO1xuXHRcdFx0ZmxvYXQgY29zVGhldGEgPSBjb3ModGhldGEpO1xuXHRcdFx0Ly8gUm9kcmlndWVzJyBheGlzLWFuZ2xlIHJvdGF0aW9uXG5cdFx0XHR2ZWMzIHNhbXBsZURpcmVjdGlvbiA9IHZPdXRwdXREaXJlY3Rpb24gKiBjb3NUaGV0YVxuXHRcdFx0XHRcdCsgY3Jvc3MoYXhpcywgdk91dHB1dERpcmVjdGlvbikgKiBzaW4odGhldGEpXG5cdFx0XHRcdFx0KyBheGlzICogZG90KGF4aXMsIHZPdXRwdXREaXJlY3Rpb24pICogKDEuMCAtIGNvc1RoZXRhKTtcblx0XHRcdGdsX0ZyYWdDb2xvci5yZ2IgKz1cblx0XHRcdFx0XHR3ZWlnaHRzW2ldICogYmlsaW5lYXJDdWJlVVYoZW52TWFwLCBzYW1wbGVEaXJlY3Rpb24sIG1pcEludCk7XG5cdFx0fVxuXHR9XG5cdGdsX0ZyYWdDb2xvciA9IGxpbmVhclRvT3V0cHV0VGV4ZWwoZ2xfRnJhZ0NvbG9yKTtcbn1cblx0XHQiLGJsZW5kaW5nOk5vQmxlbmRpbmcsZGVwdGhUZXN0OmZhbHNlLGRlcHRoV3JpdGU6ZmFsc2V9KTtzaGFkZXJNYXRlcmlhbC50eXBlPSdTcGhlcmljYWxHYXVzc2lhbkJsdXInO3JldHVybiBzaGFkZXJNYXRlcmlhbDt9ZnVuY3Rpb24gX2dldEVxdWlyZWN0U2hhZGVyKCl7dmFyIHRleGVsU2l6ZT1uZXcgVmVjdG9yMigxLDEpO3ZhciBzaGFkZXJNYXRlcmlhbD1uZXcgUmF3U2hhZGVyTWF0ZXJpYWwoe3VuaWZvcm1zOnsnZW52TWFwJzp7dmFsdWU6bnVsbH0sJ3RleGVsU2l6ZSc6e3ZhbHVlOnRleGVsU2l6ZX0sJ2lucHV0RW5jb2RpbmcnOnt2YWx1ZTpFTkNPRElOR1NbTGluZWFyRW5jb2RpbmddfSwnb3V0cHV0RW5jb2RpbmcnOnt2YWx1ZTpFTkNPRElOR1NbTGluZWFyRW5jb2RpbmddfX0sdmVydGV4U2hhZGVyOl9nZXRDb21tb25WZXJ0ZXhTaGFkZXIoKSxmcmFnbWVudFNoYWRlcjoiXG5wcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcbnByZWNpc2lvbiBtZWRpdW1wIGludDtcbnZhcnlpbmcgdmVjMyB2T3V0cHV0RGlyZWN0aW9uO1xudW5pZm9ybSBzYW1wbGVyMkQgZW52TWFwO1xudW5pZm9ybSB2ZWMyIHRleGVsU2l6ZTtcblxuIitfZ2V0RW5jb2RpbmdzKCkrIlxuXG4jZGVmaW5lIFJFQ0lQUk9DQUxfUEkgMC4zMTgzMDk4ODYxOFxuI2RlZmluZSBSRUNJUFJPQ0FMX1BJMiAwLjE1OTE1NDk0XG5cbnZvaWQgbWFpbigpIHtcblx0Z2xfRnJhZ0NvbG9yID0gdmVjNCgwLjApO1xuXHR2ZWMzIG91dHB1dERpcmVjdGlvbiA9IG5vcm1hbGl6ZSh2T3V0cHV0RGlyZWN0aW9uKTtcblx0dmVjMiB1djtcblx0dXYueSA9IGFzaW4oY2xhbXAob3V0cHV0RGlyZWN0aW9uLnksIC0xLjAsIDEuMCkpICogUkVDSVBST0NBTF9QSSArIDAuNTtcblx0dXYueCA9IGF0YW4ob3V0cHV0RGlyZWN0aW9uLnosIG91dHB1dERpcmVjdGlvbi54KSAqIFJFQ0lQUk9DQUxfUEkyICsgMC41O1xuXHR2ZWMyIGYgPSBmcmFjdCh1diAvIHRleGVsU2l6ZSAtIDAuNSk7XG5cdHV2IC09IGYgKiB0ZXhlbFNpemU7XG5cdHZlYzMgdGwgPSBlbnZNYXBUZXhlbFRvTGluZWFyKHRleHR1cmUyRChlbnZNYXAsIHV2KSkucmdiO1xuXHR1di54ICs9IHRleGVsU2l6ZS54O1xuXHR2ZWMzIHRyID0gZW52TWFwVGV4ZWxUb0xpbmVhcih0ZXh0dXJlMkQoZW52TWFwLCB1dikpLnJnYjtcblx0dXYueSArPSB0ZXhlbFNpemUueTtcblx0dmVjMyBiciA9IGVudk1hcFRleGVsVG9MaW5lYXIodGV4dHVyZTJEKGVudk1hcCwgdXYpKS5yZ2I7XG5cdHV2LnggLT0gdGV4ZWxTaXplLng7XG5cdHZlYzMgYmwgPSBlbnZNYXBUZXhlbFRvTGluZWFyKHRleHR1cmUyRChlbnZNYXAsIHV2KSkucmdiO1xuXHR2ZWMzIHRtID0gbWl4KHRsLCB0ciwgZi54KTtcblx0dmVjMyBibSA9IG1peChibCwgYnIsIGYueCk7XG5cdGdsX0ZyYWdDb2xvci5yZ2IgPSBtaXgodG0sIGJtLCBmLnkpO1xuXHRnbF9GcmFnQ29sb3IgPSBsaW5lYXJUb091dHB1dFRleGVsKGdsX0ZyYWdDb2xvcik7XG59XG5cdFx0IixibGVuZGluZzpOb0JsZW5kaW5nLGRlcHRoVGVzdDpmYWxzZSxkZXB0aFdyaXRlOmZhbHNlfSk7c2hhZGVyTWF0ZXJpYWwudHlwZT0nRXF1aXJlY3Rhbmd1bGFyVG9DdWJlVVYnO3JldHVybiBzaGFkZXJNYXRlcmlhbDt9ZnVuY3Rpb24gX2dldEN1YmVtYXBTaGFkZXIoKXt2YXIgc2hhZGVyTWF0ZXJpYWw9bmV3IFJhd1NoYWRlck1hdGVyaWFsKHt1bmlmb3Jtczp7J2Vudk1hcCc6e3ZhbHVlOm51bGx9LCdpbnB1dEVuY29kaW5nJzp7dmFsdWU6RU5DT0RJTkdTW0xpbmVhckVuY29kaW5nXX0sJ291dHB1dEVuY29kaW5nJzp7dmFsdWU6RU5DT0RJTkdTW0xpbmVhckVuY29kaW5nXX19LHZlcnRleFNoYWRlcjpfZ2V0Q29tbW9uVmVydGV4U2hhZGVyKCksZnJhZ21lbnRTaGFkZXI6IlxucHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XG5wcmVjaXNpb24gbWVkaXVtcCBpbnQ7XG52YXJ5aW5nIHZlYzMgdk91dHB1dERpcmVjdGlvbjtcbnVuaWZvcm0gc2FtcGxlckN1YmUgZW52TWFwO1xuXG4iK19nZXRFbmNvZGluZ3MoKSsiXG5cbnZvaWQgbWFpbigpIHtcblx0Z2xfRnJhZ0NvbG9yID0gdmVjNCgwLjApO1xuXHRnbF9GcmFnQ29sb3IucmdiID0gZW52TWFwVGV4ZWxUb0xpbmVhcih0ZXh0dXJlQ3ViZShlbnZNYXAsIHZlYzMoIC0gdk91dHB1dERpcmVjdGlvbi54LCB2T3V0cHV0RGlyZWN0aW9uLnl6ICkpKS5yZ2I7XG5cdGdsX0ZyYWdDb2xvciA9IGxpbmVhclRvT3V0cHV0VGV4ZWwoZ2xfRnJhZ0NvbG9yKTtcbn1cblx0XHQiLGJsZW5kaW5nOk5vQmxlbmRpbmcsZGVwdGhUZXN0OmZhbHNlLGRlcHRoV3JpdGU6ZmFsc2V9KTtzaGFkZXJNYXRlcmlhbC50eXBlPSdDdWJlbWFwVG9DdWJlVVYnO3JldHVybiBzaGFkZXJNYXRlcmlhbDt9ZnVuY3Rpb24gX2dldENvbW1vblZlcnRleFNoYWRlcigpe3JldHVybiJcbnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xucHJlY2lzaW9uIG1lZGl1bXAgaW50O1xuYXR0cmlidXRlIHZlYzMgcG9zaXRpb247XG5hdHRyaWJ1dGUgdmVjMiB1djtcbmF0dHJpYnV0ZSBmbG9hdCBmYWNlSW5kZXg7XG52YXJ5aW5nIHZlYzMgdk91dHB1dERpcmVjdGlvbjtcbnZlYzMgZ2V0RGlyZWN0aW9uKHZlYzIgdXYsIGZsb2F0IGZhY2UpIHtcblx0dXYgPSAyLjAgKiB1diAtIDEuMDtcblx0dmVjMyBkaXJlY3Rpb24gPSB2ZWMzKHV2LCAxLjApO1xuXHRpZiAoZmFjZSA9PSAwLjApIHtcblx0XHRkaXJlY3Rpb24gPSBkaXJlY3Rpb24uenl4O1xuXHRcdGRpcmVjdGlvbi56ICo9IC0xLjA7XG5cdH0gZWxzZSBpZiAoZmFjZSA9PSAxLjApIHtcblx0XHRkaXJlY3Rpb24gPSBkaXJlY3Rpb24ueHp5O1xuXHRcdGRpcmVjdGlvbi56ICo9IC0xLjA7XG5cdH0gZWxzZSBpZiAoZmFjZSA9PSAzLjApIHtcblx0XHRkaXJlY3Rpb24gPSBkaXJlY3Rpb24uenl4O1xuXHRcdGRpcmVjdGlvbi54ICo9IC0xLjA7XG5cdH0gZWxzZSBpZiAoZmFjZSA9PSA0LjApIHtcblx0XHRkaXJlY3Rpb24gPSBkaXJlY3Rpb24ueHp5O1xuXHRcdGRpcmVjdGlvbi55ICo9IC0xLjA7XG5cdH0gZWxzZSBpZiAoZmFjZSA9PSA1LjApIHtcblx0XHRkaXJlY3Rpb24ueHogKj0gLTEuMDtcblx0fVxuXHRyZXR1cm4gZGlyZWN0aW9uO1xufVxudm9pZCBtYWluKCkge1xuXHR2T3V0cHV0RGlyZWN0aW9uID0gZ2V0RGlyZWN0aW9uKHV2LCBmYWNlSW5kZXgpO1xuXHRnbF9Qb3NpdGlvbiA9IHZlYzQoIHBvc2l0aW9uLCAxLjAgKTtcbn1cblx0Ijt9ZnVuY3Rpb24gX2dldEVuY29kaW5ncygpe3JldHVybiJcbnVuaWZvcm0gaW50IGlucHV0RW5jb2Rpbmc7XG51bmlmb3JtIGludCBvdXRwdXRFbmNvZGluZztcblxuI2luY2x1ZGUgPGVuY29kaW5nc19wYXJzX2ZyYWdtZW50PlxuXG52ZWM0IGlucHV0VGV4ZWxUb0xpbmVhcih2ZWM0IHZhbHVlKXtcblx0aWYoaW5wdXRFbmNvZGluZyA9PSAwKXtcblx0XHRyZXR1cm4gdmFsdWU7XG5cdH1lbHNlIGlmKGlucHV0RW5jb2RpbmcgPT0gMSl7XG5cdFx0cmV0dXJuIHNSR0JUb0xpbmVhcih2YWx1ZSk7XG5cdH1lbHNlIGlmKGlucHV0RW5jb2RpbmcgPT0gMil7XG5cdFx0cmV0dXJuIFJHQkVUb0xpbmVhcih2YWx1ZSk7XG5cdH1lbHNlIGlmKGlucHV0RW5jb2RpbmcgPT0gMyl7XG5cdFx0cmV0dXJuIFJHQk1Ub0xpbmVhcih2YWx1ZSwgNy4wKTtcblx0fWVsc2UgaWYoaW5wdXRFbmNvZGluZyA9PSA0KXtcblx0XHRyZXR1cm4gUkdCTVRvTGluZWFyKHZhbHVlLCAxNi4wKTtcblx0fWVsc2UgaWYoaW5wdXRFbmNvZGluZyA9PSA1KXtcblx0XHRyZXR1cm4gUkdCRFRvTGluZWFyKHZhbHVlLCAyNTYuMCk7XG5cdH1lbHNle1xuXHRcdHJldHVybiBHYW1tYVRvTGluZWFyKHZhbHVlLCAyLjIpO1xuXHR9XG59XG5cbnZlYzQgbGluZWFyVG9PdXRwdXRUZXhlbCh2ZWM0IHZhbHVlKXtcblx0aWYob3V0cHV0RW5jb2RpbmcgPT0gMCl7XG5cdFx0cmV0dXJuIHZhbHVlO1xuXHR9ZWxzZSBpZihvdXRwdXRFbmNvZGluZyA9PSAxKXtcblx0XHRyZXR1cm4gTGluZWFyVG9zUkdCKHZhbHVlKTtcblx0fWVsc2UgaWYob3V0cHV0RW5jb2RpbmcgPT0gMil7XG5cdFx0cmV0dXJuIExpbmVhclRvUkdCRSh2YWx1ZSk7XG5cdH1lbHNlIGlmKG91dHB1dEVuY29kaW5nID09IDMpe1xuXHRcdHJldHVybiBMaW5lYXJUb1JHQk0odmFsdWUsIDcuMCk7XG5cdH1lbHNlIGlmKG91dHB1dEVuY29kaW5nID09IDQpe1xuXHRcdHJldHVybiBMaW5lYXJUb1JHQk0odmFsdWUsIDE2LjApO1xuXHR9ZWxzZSBpZihvdXRwdXRFbmNvZGluZyA9PSA1KXtcblx0XHRyZXR1cm4gTGluZWFyVG9SR0JEKHZhbHVlLCAyNTYuMCk7XG5cdH1lbHNle1xuXHRcdHJldHVybiBMaW5lYXJUb0dhbW1hKHZhbHVlLCAyLjIpO1xuXHR9XG59XG5cbnZlYzQgZW52TWFwVGV4ZWxUb0xpbmVhcih2ZWM0IGNvbG9yKSB7XG5cdHJldHVybiBpbnB1dFRleGVsVG9MaW5lYXIoY29sb3IpO1xufVxuXHQiO30vKioKICAgKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tLwogICAqL2Z1bmN0aW9uIEZhY2U0KGEsYixjLGQsbm9ybWFsLGNvbG9yLG1hdGVyaWFsSW5kZXgpe2NvbnNvbGUud2FybignVEhSRUUuRmFjZTQgaGFzIGJlZW4gcmVtb3ZlZC4gQSBUSFJFRS5GYWNlMyB3aWxsIGJlIGNyZWF0ZWQgaW5zdGVhZC4nKTtyZXR1cm4gbmV3IEZhY2UzKGEsYixjLG5vcm1hbCxjb2xvcixtYXRlcmlhbEluZGV4KTt9dmFyIExpbmVTdHJpcD0wO3ZhciBMaW5lUGllY2VzPTE7ZnVuY3Rpb24gTWVzaEZhY2VNYXRlcmlhbChtYXRlcmlhbHMpe2NvbnNvbGUud2FybignVEhSRUUuTWVzaEZhY2VNYXRlcmlhbCBoYXMgYmVlbiByZW1vdmVkLiBVc2UgYW4gQXJyYXkgaW5zdGVhZC4nKTtyZXR1cm4gbWF0ZXJpYWxzO31mdW5jdGlvbiBNdWx0aU1hdGVyaWFsKG1hdGVyaWFscyl7aWYobWF0ZXJpYWxzPT09dW5kZWZpbmVkKXttYXRlcmlhbHM9W107fWNvbnNvbGUud2FybignVEhSRUUuTXVsdGlNYXRlcmlhbCBoYXMgYmVlbiByZW1vdmVkLiBVc2UgYW4gQXJyYXkgaW5zdGVhZC4nKTttYXRlcmlhbHMuaXNNdWx0aU1hdGVyaWFsPXRydWU7bWF0ZXJpYWxzLm1hdGVyaWFscz1tYXRlcmlhbHM7bWF0ZXJpYWxzLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG1hdGVyaWFscy5zbGljZSgpO307cmV0dXJuIG1hdGVyaWFsczt9ZnVuY3Rpb24gUG9pbnRDbG91ZChnZW9tZXRyeSxtYXRlcmlhbCl7Y29uc29sZS53YXJuKCdUSFJFRS5Qb2ludENsb3VkIGhhcyBiZWVuIHJlbmFtZWQgdG8gVEhSRUUuUG9pbnRzLicpO3JldHVybiBuZXcgUG9pbnRzKGdlb21ldHJ5LG1hdGVyaWFsKTt9ZnVuY3Rpb24gUGFydGljbGUobWF0ZXJpYWwpe2NvbnNvbGUud2FybignVEhSRUUuUGFydGljbGUgaGFzIGJlZW4gcmVuYW1lZCB0byBUSFJFRS5TcHJpdGUuJyk7cmV0dXJuIG5ldyBTcHJpdGUobWF0ZXJpYWwpO31mdW5jdGlvbiBQYXJ0aWNsZVN5c3RlbShnZW9tZXRyeSxtYXRlcmlhbCl7Y29uc29sZS53YXJuKCdUSFJFRS5QYXJ0aWNsZVN5c3RlbSBoYXMgYmVlbiByZW5hbWVkIHRvIFRIUkVFLlBvaW50cy4nKTtyZXR1cm4gbmV3IFBvaW50cyhnZW9tZXRyeSxtYXRlcmlhbCk7fWZ1bmN0aW9uIFBvaW50Q2xvdWRNYXRlcmlhbChwYXJhbWV0ZXJzKXtjb25zb2xlLndhcm4oJ1RIUkVFLlBvaW50Q2xvdWRNYXRlcmlhbCBoYXMgYmVlbiByZW5hbWVkIHRvIFRIUkVFLlBvaW50c01hdGVyaWFsLicpO3JldHVybiBuZXcgUG9pbnRzTWF0ZXJpYWwocGFyYW1ldGVycyk7fWZ1bmN0aW9uIFBhcnRpY2xlQmFzaWNNYXRlcmlhbChwYXJhbWV0ZXJzKXtjb25zb2xlLndhcm4oJ1RIUkVFLlBhcnRpY2xlQmFzaWNNYXRlcmlhbCBoYXMgYmVlbiByZW5hbWVkIHRvIFRIUkVFLlBvaW50c01hdGVyaWFsLicpO3JldHVybiBuZXcgUG9pbnRzTWF0ZXJpYWwocGFyYW1ldGVycyk7fWZ1bmN0aW9uIFBhcnRpY2xlU3lzdGVtTWF0ZXJpYWwocGFyYW1ldGVycyl7Y29uc29sZS53YXJuKCdUSFJFRS5QYXJ0aWNsZVN5c3RlbU1hdGVyaWFsIGhhcyBiZWVuIHJlbmFtZWQgdG8gVEhSRUUuUG9pbnRzTWF0ZXJpYWwuJyk7cmV0dXJuIG5ldyBQb2ludHNNYXRlcmlhbChwYXJhbWV0ZXJzKTt9ZnVuY3Rpb24gVmVydGV4KHgseSx6KXtjb25zb2xlLndhcm4oJ1RIUkVFLlZlcnRleCBoYXMgYmVlbiByZW1vdmVkLiBVc2UgVEhSRUUuVmVjdG9yMyBpbnN0ZWFkLicpO3JldHVybiBuZXcgVmVjdG9yMyh4LHkseik7fS8vCmZ1bmN0aW9uIER5bmFtaWNCdWZmZXJBdHRyaWJ1dGUoYXJyYXksaXRlbVNpemUpe2NvbnNvbGUud2FybignVEhSRUUuRHluYW1pY0J1ZmZlckF0dHJpYnV0ZSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZSgpLnNldER5bmFtaWMoIHRydWUgKSBpbnN0ZWFkLicpO3JldHVybiBuZXcgQnVmZmVyQXR0cmlidXRlKGFycmF5LGl0ZW1TaXplKS5zZXREeW5hbWljKHRydWUpO31mdW5jdGlvbiBJbnQ4QXR0cmlidXRlKGFycmF5LGl0ZW1TaXplKXtjb25zb2xlLndhcm4oJ1RIUkVFLkludDhBdHRyaWJ1dGUgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIG5ldyBUSFJFRS5JbnQ4QnVmZmVyQXR0cmlidXRlKCkgaW5zdGVhZC4nKTtyZXR1cm4gbmV3IEludDhCdWZmZXJBdHRyaWJ1dGUoYXJyYXksaXRlbVNpemUpO31mdW5jdGlvbiBVaW50OEF0dHJpYnV0ZShhcnJheSxpdGVtU2l6ZSl7Y29uc29sZS53YXJuKCdUSFJFRS5VaW50OEF0dHJpYnV0ZSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgbmV3IFRIUkVFLlVpbnQ4QnVmZmVyQXR0cmlidXRlKCkgaW5zdGVhZC4nKTtyZXR1cm4gbmV3IFVpbnQ4QnVmZmVyQXR0cmlidXRlKGFycmF5LGl0ZW1TaXplKTt9ZnVuY3Rpb24gVWludDhDbGFtcGVkQXR0cmlidXRlKGFycmF5LGl0ZW1TaXplKXtjb25zb2xlLndhcm4oJ1RIUkVFLlVpbnQ4Q2xhbXBlZEF0dHJpYnV0ZSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgbmV3IFRIUkVFLlVpbnQ4Q2xhbXBlZEJ1ZmZlckF0dHJpYnV0ZSgpIGluc3RlYWQuJyk7cmV0dXJuIG5ldyBVaW50OENsYW1wZWRCdWZmZXJBdHRyaWJ1dGUoYXJyYXksaXRlbVNpemUpO31mdW5jdGlvbiBJbnQxNkF0dHJpYnV0ZShhcnJheSxpdGVtU2l6ZSl7Y29uc29sZS53YXJuKCdUSFJFRS5JbnQxNkF0dHJpYnV0ZSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgbmV3IFRIUkVFLkludDE2QnVmZmVyQXR0cmlidXRlKCkgaW5zdGVhZC4nKTtyZXR1cm4gbmV3IEludDE2QnVmZmVyQXR0cmlidXRlKGFycmF5LGl0ZW1TaXplKTt9ZnVuY3Rpb24gVWludDE2QXR0cmlidXRlKGFycmF5LGl0ZW1TaXplKXtjb25zb2xlLndhcm4oJ1RIUkVFLlVpbnQxNkF0dHJpYnV0ZSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgbmV3IFRIUkVFLlVpbnQxNkJ1ZmZlckF0dHJpYnV0ZSgpIGluc3RlYWQuJyk7cmV0dXJuIG5ldyBVaW50MTZCdWZmZXJBdHRyaWJ1dGUoYXJyYXksaXRlbVNpemUpO31mdW5jdGlvbiBJbnQzMkF0dHJpYnV0ZShhcnJheSxpdGVtU2l6ZSl7Y29uc29sZS53YXJuKCdUSFJFRS5JbnQzMkF0dHJpYnV0ZSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgbmV3IFRIUkVFLkludDMyQnVmZmVyQXR0cmlidXRlKCkgaW5zdGVhZC4nKTtyZXR1cm4gbmV3IEludDMyQnVmZmVyQXR0cmlidXRlKGFycmF5LGl0ZW1TaXplKTt9ZnVuY3Rpb24gVWludDMyQXR0cmlidXRlKGFycmF5LGl0ZW1TaXplKXtjb25zb2xlLndhcm4oJ1RIUkVFLlVpbnQzMkF0dHJpYnV0ZSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgbmV3IFRIUkVFLlVpbnQzMkJ1ZmZlckF0dHJpYnV0ZSgpIGluc3RlYWQuJyk7cmV0dXJuIG5ldyBVaW50MzJCdWZmZXJBdHRyaWJ1dGUoYXJyYXksaXRlbVNpemUpO31mdW5jdGlvbiBGbG9hdDMyQXR0cmlidXRlKGFycmF5LGl0ZW1TaXplKXtjb25zb2xlLndhcm4oJ1RIUkVFLkZsb2F0MzJBdHRyaWJ1dGUgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIG5ldyBUSFJFRS5GbG9hdDMyQnVmZmVyQXR0cmlidXRlKCkgaW5zdGVhZC4nKTtyZXR1cm4gbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUoYXJyYXksaXRlbVNpemUpO31mdW5jdGlvbiBGbG9hdDY0QXR0cmlidXRlKGFycmF5LGl0ZW1TaXplKXtjb25zb2xlLndhcm4oJ1RIUkVFLkZsb2F0NjRBdHRyaWJ1dGUgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIG5ldyBUSFJFRS5GbG9hdDY0QnVmZmVyQXR0cmlidXRlKCkgaW5zdGVhZC4nKTtyZXR1cm4gbmV3IEZsb2F0NjRCdWZmZXJBdHRyaWJ1dGUoYXJyYXksaXRlbVNpemUpO30vLwpDdXJ2ZS5jcmVhdGU9ZnVuY3Rpb24oY29uc3RydWN0LGdldFBvaW50KXtjb25zb2xlLmxvZygnVEhSRUUuQ3VydmUuY3JlYXRlKCkgaGFzIGJlZW4gZGVwcmVjYXRlZCcpO2NvbnN0cnVjdC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShDdXJ2ZS5wcm90b3R5cGUpO2NvbnN0cnVjdC5wcm90b3R5cGUuY29uc3RydWN0b3I9Y29uc3RydWN0O2NvbnN0cnVjdC5wcm90b3R5cGUuZ2V0UG9pbnQ9Z2V0UG9pbnQ7cmV0dXJuIGNvbnN0cnVjdDt9Oy8vCk9iamVjdC5hc3NpZ24oQ3VydmVQYXRoLnByb3RvdHlwZSx7Y3JlYXRlUG9pbnRzR2VvbWV0cnk6ZnVuY3Rpb24gY3JlYXRlUG9pbnRzR2VvbWV0cnkoZGl2aXNpb25zKXtjb25zb2xlLndhcm4oJ1RIUkVFLkN1cnZlUGF0aDogLmNyZWF0ZVBvaW50c0dlb21ldHJ5KCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIG5ldyBUSFJFRS5HZW9tZXRyeSgpLnNldEZyb21Qb2ludHMoIHBvaW50cyApIGluc3RlYWQuJyk7Ly8gZ2VuZXJhdGUgZ2VvbWV0cnkgZnJvbSBwYXRoIHBvaW50cyAoZm9yIExpbmUgb3IgUG9pbnRzIG9iamVjdHMpCnZhciBwdHM9dGhpcy5nZXRQb2ludHMoZGl2aXNpb25zKTtyZXR1cm4gdGhpcy5jcmVhdGVHZW9tZXRyeShwdHMpO30sY3JlYXRlU3BhY2VkUG9pbnRzR2VvbWV0cnk6ZnVuY3Rpb24gY3JlYXRlU3BhY2VkUG9pbnRzR2VvbWV0cnkoZGl2aXNpb25zKXtjb25zb2xlLndhcm4oJ1RIUkVFLkN1cnZlUGF0aDogLmNyZWF0ZVNwYWNlZFBvaW50c0dlb21ldHJ5KCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIG5ldyBUSFJFRS5HZW9tZXRyeSgpLnNldEZyb21Qb2ludHMoIHBvaW50cyApIGluc3RlYWQuJyk7Ly8gZ2VuZXJhdGUgZ2VvbWV0cnkgZnJvbSBlcXVpZGlzdGFudCBzYW1wbGluZyBhbG9uZyB0aGUgcGF0aAp2YXIgcHRzPXRoaXMuZ2V0U3BhY2VkUG9pbnRzKGRpdmlzaW9ucyk7cmV0dXJuIHRoaXMuY3JlYXRlR2VvbWV0cnkocHRzKTt9LGNyZWF0ZUdlb21ldHJ5OmZ1bmN0aW9uIGNyZWF0ZUdlb21ldHJ5KHBvaW50cyl7Y29uc29sZS53YXJuKCdUSFJFRS5DdXJ2ZVBhdGg6IC5jcmVhdGVHZW9tZXRyeSgpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBuZXcgVEhSRUUuR2VvbWV0cnkoKS5zZXRGcm9tUG9pbnRzKCBwb2ludHMgKSBpbnN0ZWFkLicpO3ZhciBnZW9tZXRyeT1uZXcgR2VvbWV0cnkoKTtmb3IodmFyIGk9MCxsPXBvaW50cy5sZW5ndGg7aTxsO2krKyl7dmFyIHBvaW50PXBvaW50c1tpXTtnZW9tZXRyeS52ZXJ0aWNlcy5wdXNoKG5ldyBWZWN0b3IzKHBvaW50LngscG9pbnQueSxwb2ludC56fHwwKSk7fXJldHVybiBnZW9tZXRyeTt9fSk7Ly8KT2JqZWN0LmFzc2lnbihQYXRoLnByb3RvdHlwZSx7ZnJvbVBvaW50czpmdW5jdGlvbiBmcm9tUG9pbnRzKHBvaW50cyl7Y29uc29sZS53YXJuKCdUSFJFRS5QYXRoOiAuZnJvbVBvaW50cygpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLnNldEZyb21Qb2ludHMoKS4nKTtyZXR1cm4gdGhpcy5zZXRGcm9tUG9pbnRzKHBvaW50cyk7fX0pOy8vCmZ1bmN0aW9uIENsb3NlZFNwbGluZUN1cnZlMyhwb2ludHMpe2NvbnNvbGUud2FybignVEhSRUUuQ2xvc2VkU3BsaW5lQ3VydmUzIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSBUSFJFRS5DYXRtdWxsUm9tQ3VydmUzIGluc3RlYWQuJyk7Q2F0bXVsbFJvbUN1cnZlMy5jYWxsKHRoaXMscG9pbnRzKTt0aGlzLnR5cGU9J2NhdG11bGxyb20nO3RoaXMuY2xvc2VkPXRydWU7fUNsb3NlZFNwbGluZUN1cnZlMy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShDYXRtdWxsUm9tQ3VydmUzLnByb3RvdHlwZSk7Ly8KZnVuY3Rpb24gU3BsaW5lQ3VydmUzKHBvaW50cyl7Y29uc29sZS53YXJuKCdUSFJFRS5TcGxpbmVDdXJ2ZTMgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIFRIUkVFLkNhdG11bGxSb21DdXJ2ZTMgaW5zdGVhZC4nKTtDYXRtdWxsUm9tQ3VydmUzLmNhbGwodGhpcyxwb2ludHMpO3RoaXMudHlwZT0nY2F0bXVsbHJvbSc7fVNwbGluZUN1cnZlMy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShDYXRtdWxsUm9tQ3VydmUzLnByb3RvdHlwZSk7Ly8KZnVuY3Rpb24gU3BsaW5lKHBvaW50cyl7Y29uc29sZS53YXJuKCdUSFJFRS5TcGxpbmUgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIFRIUkVFLkNhdG11bGxSb21DdXJ2ZTMgaW5zdGVhZC4nKTtDYXRtdWxsUm9tQ3VydmUzLmNhbGwodGhpcyxwb2ludHMpO3RoaXMudHlwZT0nY2F0bXVsbHJvbSc7fVNwbGluZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShDYXRtdWxsUm9tQ3VydmUzLnByb3RvdHlwZSk7T2JqZWN0LmFzc2lnbihTcGxpbmUucHJvdG90eXBlLHtpbml0RnJvbUFycmF5OmZ1bmN0aW9uLyogYSAqL2luaXRGcm9tQXJyYXkoKXtjb25zb2xlLmVycm9yKCdUSFJFRS5TcGxpbmU6IC5pbml0RnJvbUFycmF5KCkgaGFzIGJlZW4gcmVtb3ZlZC4nKTt9LGdldENvbnRyb2xQb2ludHNBcnJheTpmdW5jdGlvbi8qIG9wdGlvbmFsVGFyZ2V0ICovZ2V0Q29udHJvbFBvaW50c0FycmF5KCl7Y29uc29sZS5lcnJvcignVEhSRUUuU3BsaW5lOiAuZ2V0Q29udHJvbFBvaW50c0FycmF5KCkgaGFzIGJlZW4gcmVtb3ZlZC4nKTt9LHJlcGFyYW1ldHJpemVCeUFyY0xlbmd0aDpmdW5jdGlvbi8qIHNhbXBsaW5nQ29lZiAqL3JlcGFyYW1ldHJpemVCeUFyY0xlbmd0aCgpe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLlNwbGluZTogLnJlcGFyYW1ldHJpemVCeUFyY0xlbmd0aCgpIGhhcyBiZWVuIHJlbW92ZWQuJyk7fX0pOy8vCmZ1bmN0aW9uIEF4aXNIZWxwZXIoc2l6ZSl7Y29uc29sZS53YXJuKCdUSFJFRS5BeGlzSGVscGVyIGhhcyBiZWVuIHJlbmFtZWQgdG8gVEhSRUUuQXhlc0hlbHBlci4nKTtyZXR1cm4gbmV3IEF4ZXNIZWxwZXIoc2l6ZSk7fWZ1bmN0aW9uIEJvdW5kaW5nQm94SGVscGVyKG9iamVjdCxjb2xvcil7Y29uc29sZS53YXJuKCdUSFJFRS5Cb3VuZGluZ0JveEhlbHBlciBoYXMgYmVlbiBkZXByZWNhdGVkLiBDcmVhdGluZyBhIFRIUkVFLkJveEhlbHBlciBpbnN0ZWFkLicpO3JldHVybiBuZXcgQm94SGVscGVyKG9iamVjdCxjb2xvcik7fWZ1bmN0aW9uIEVkZ2VzSGVscGVyKG9iamVjdCxoZXgpe2NvbnNvbGUud2FybignVEhSRUUuRWRnZXNIZWxwZXIgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIFRIUkVFLkVkZ2VzR2VvbWV0cnkgaW5zdGVhZC4nKTtyZXR1cm4gbmV3IExpbmVTZWdtZW50cyhuZXcgRWRnZXNHZW9tZXRyeShvYmplY3QuZ2VvbWV0cnkpLG5ldyBMaW5lQmFzaWNNYXRlcmlhbCh7Y29sb3I6aGV4IT09dW5kZWZpbmVkP2hleDoweGZmZmZmZn0pKTt9R3JpZEhlbHBlci5wcm90b3R5cGUuc2V0Q29sb3JzPWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcignVEhSRUUuR3JpZEhlbHBlcjogc2V0Q29sb3JzKCkgaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGFzcyB0aGVtIGluIHRoZSBjb25zdHJ1Y3RvciBpbnN0ZWFkLicpO307U2tlbGV0b25IZWxwZXIucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLlNrZWxldG9uSGVscGVyOiB1cGRhdGUoKSBubyBsb25nZXIgbmVlZHMgdG8gYmUgY2FsbGVkLicpO307ZnVuY3Rpb24gV2lyZWZyYW1lSGVscGVyKG9iamVjdCxoZXgpe2NvbnNvbGUud2FybignVEhSRUUuV2lyZWZyYW1lSGVscGVyIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBUSFJFRS5XaXJlZnJhbWVHZW9tZXRyeSBpbnN0ZWFkLicpO3JldHVybiBuZXcgTGluZVNlZ21lbnRzKG5ldyBXaXJlZnJhbWVHZW9tZXRyeShvYmplY3QuZ2VvbWV0cnkpLG5ldyBMaW5lQmFzaWNNYXRlcmlhbCh7Y29sb3I6aGV4IT09dW5kZWZpbmVkP2hleDoweGZmZmZmZn0pKTt9Ly8KT2JqZWN0LmFzc2lnbihMb2FkZXIucHJvdG90eXBlLHtleHRyYWN0VXJsQmFzZTpmdW5jdGlvbiBleHRyYWN0VXJsQmFzZSh1cmwpe2NvbnNvbGUud2FybignVEhSRUUuTG9hZGVyOiAuZXh0cmFjdFVybEJhc2UoKSBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgVEhSRUUuTG9hZGVyVXRpbHMuZXh0cmFjdFVybEJhc2UoKSBpbnN0ZWFkLicpO3JldHVybiBMb2FkZXJVdGlscy5leHRyYWN0VXJsQmFzZSh1cmwpO319KTtMb2FkZXIuSGFuZGxlcnM9e2FkZDpmdW5jdGlvbi8qIHJlZ2V4LCBsb2FkZXIgKi9hZGQoKXtjb25zb2xlLmVycm9yKCdUSFJFRS5Mb2FkZXI6IEhhbmRsZXJzLmFkZCgpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBMb2FkaW5nTWFuYWdlci5hZGRIYW5kbGVyKCkgaW5zdGVhZC4nKTt9LGdldDpmdW5jdGlvbi8qIGZpbGUgKi9nZXQoKXtjb25zb2xlLmVycm9yKCdUSFJFRS5Mb2FkZXI6IEhhbmRsZXJzLmdldCgpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBMb2FkaW5nTWFuYWdlci5nZXRIYW5kbGVyKCkgaW5zdGVhZC4nKTt9fTtmdW5jdGlvbiBYSFJMb2FkZXIobWFuYWdlcil7Y29uc29sZS53YXJuKCdUSFJFRS5YSFJMb2FkZXIgaGFzIGJlZW4gcmVuYW1lZCB0byBUSFJFRS5GaWxlTG9hZGVyLicpO3JldHVybiBuZXcgRmlsZUxvYWRlcihtYW5hZ2VyKTt9ZnVuY3Rpb24gQmluYXJ5VGV4dHVyZUxvYWRlcihtYW5hZ2VyKXtjb25zb2xlLndhcm4oJ1RIUkVFLkJpbmFyeVRleHR1cmVMb2FkZXIgaGFzIGJlZW4gcmVuYW1lZCB0byBUSFJFRS5EYXRhVGV4dHVyZUxvYWRlci4nKTtyZXR1cm4gbmV3IERhdGFUZXh0dXJlTG9hZGVyKG1hbmFnZXIpO31PYmplY3QuYXNzaWduKE9iamVjdExvYWRlci5wcm90b3R5cGUse3NldFRleHR1cmVQYXRoOmZ1bmN0aW9uIHNldFRleHR1cmVQYXRoKHZhbHVlKXtjb25zb2xlLndhcm4oJ1RIUkVFLk9iamVjdExvYWRlcjogLnNldFRleHR1cmVQYXRoKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuc2V0UmVzb3VyY2VQYXRoKCkuJyk7cmV0dXJuIHRoaXMuc2V0UmVzb3VyY2VQYXRoKHZhbHVlKTt9fSk7Ly8KT2JqZWN0LmFzc2lnbihCb3gyLnByb3RvdHlwZSx7Y2VudGVyOmZ1bmN0aW9uIGNlbnRlcihvcHRpb25hbFRhcmdldCl7Y29uc29sZS53YXJuKCdUSFJFRS5Cb3gyOiAuY2VudGVyKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuZ2V0Q2VudGVyKCkuJyk7cmV0dXJuIHRoaXMuZ2V0Q2VudGVyKG9wdGlvbmFsVGFyZ2V0KTt9LGVtcHR5OmZ1bmN0aW9uIGVtcHR5KCl7Y29uc29sZS53YXJuKCdUSFJFRS5Cb3gyOiAuZW1wdHkoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5pc0VtcHR5KCkuJyk7cmV0dXJuIHRoaXMuaXNFbXB0eSgpO30saXNJbnRlcnNlY3Rpb25Cb3g6ZnVuY3Rpb24gaXNJbnRlcnNlY3Rpb25Cb3goYm94KXtjb25zb2xlLndhcm4oJ1RIUkVFLkJveDI6IC5pc0ludGVyc2VjdGlvbkJveCgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmludGVyc2VjdHNCb3goKS4nKTtyZXR1cm4gdGhpcy5pbnRlcnNlY3RzQm94KGJveCk7fSxzaXplOmZ1bmN0aW9uIHNpemUob3B0aW9uYWxUYXJnZXQpe2NvbnNvbGUud2FybignVEhSRUUuQm94MjogLnNpemUoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5nZXRTaXplKCkuJyk7cmV0dXJuIHRoaXMuZ2V0U2l6ZShvcHRpb25hbFRhcmdldCk7fX0pO09iamVjdC5hc3NpZ24oQm94My5wcm90b3R5cGUse2NlbnRlcjpmdW5jdGlvbiBjZW50ZXIob3B0aW9uYWxUYXJnZXQpe2NvbnNvbGUud2FybignVEhSRUUuQm94MzogLmNlbnRlcigpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmdldENlbnRlcigpLicpO3JldHVybiB0aGlzLmdldENlbnRlcihvcHRpb25hbFRhcmdldCk7fSxlbXB0eTpmdW5jdGlvbiBlbXB0eSgpe2NvbnNvbGUud2FybignVEhSRUUuQm94MzogLmVtcHR5KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuaXNFbXB0eSgpLicpO3JldHVybiB0aGlzLmlzRW1wdHkoKTt9LGlzSW50ZXJzZWN0aW9uQm94OmZ1bmN0aW9uIGlzSW50ZXJzZWN0aW9uQm94KGJveCl7Y29uc29sZS53YXJuKCdUSFJFRS5Cb3gzOiAuaXNJbnRlcnNlY3Rpb25Cb3goKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5pbnRlcnNlY3RzQm94KCkuJyk7cmV0dXJuIHRoaXMuaW50ZXJzZWN0c0JveChib3gpO30saXNJbnRlcnNlY3Rpb25TcGhlcmU6ZnVuY3Rpb24gaXNJbnRlcnNlY3Rpb25TcGhlcmUoc3BoZXJlKXtjb25zb2xlLndhcm4oJ1RIUkVFLkJveDM6IC5pc0ludGVyc2VjdGlvblNwaGVyZSgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmludGVyc2VjdHNTcGhlcmUoKS4nKTtyZXR1cm4gdGhpcy5pbnRlcnNlY3RzU3BoZXJlKHNwaGVyZSk7fSxzaXplOmZ1bmN0aW9uIHNpemUob3B0aW9uYWxUYXJnZXQpe2NvbnNvbGUud2FybignVEhSRUUuQm94MzogLnNpemUoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5nZXRTaXplKCkuJyk7cmV0dXJuIHRoaXMuZ2V0U2l6ZShvcHRpb25hbFRhcmdldCk7fX0pO0xpbmUzLnByb3RvdHlwZS5jZW50ZXI9ZnVuY3Rpb24ob3B0aW9uYWxUYXJnZXQpe2NvbnNvbGUud2FybignVEhSRUUuTGluZTM6IC5jZW50ZXIoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5nZXRDZW50ZXIoKS4nKTtyZXR1cm4gdGhpcy5nZXRDZW50ZXIob3B0aW9uYWxUYXJnZXQpO307T2JqZWN0LmFzc2lnbihfTWF0aCx7cmFuZG9tMTY6ZnVuY3Rpb24gcmFuZG9tMTYoKXtjb25zb2xlLndhcm4oJ1RIUkVFLk1hdGg6IC5yYW5kb20xNigpIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSBNYXRoLnJhbmRvbSgpIGluc3RlYWQuJyk7cmV0dXJuIE1hdGgucmFuZG9tKCk7fSxuZWFyZXN0UG93ZXJPZlR3bzpmdW5jdGlvbiBuZWFyZXN0UG93ZXJPZlR3byh2YWx1ZSl7Y29uc29sZS53YXJuKCdUSFJFRS5NYXRoOiAubmVhcmVzdFBvd2VyT2ZUd28oKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5mbG9vclBvd2VyT2ZUd28oKS4nKTtyZXR1cm4gX01hdGguZmxvb3JQb3dlck9mVHdvKHZhbHVlKTt9LG5leHRQb3dlck9mVHdvOmZ1bmN0aW9uIG5leHRQb3dlck9mVHdvKHZhbHVlKXtjb25zb2xlLndhcm4oJ1RIUkVFLk1hdGg6IC5uZXh0UG93ZXJPZlR3bygpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmNlaWxQb3dlck9mVHdvKCkuJyk7cmV0dXJuIF9NYXRoLmNlaWxQb3dlck9mVHdvKHZhbHVlKTt9fSk7T2JqZWN0LmFzc2lnbihNYXRyaXgzLnByb3RvdHlwZSx7ZmxhdHRlblRvQXJyYXlPZmZzZXQ6ZnVuY3Rpb24gZmxhdHRlblRvQXJyYXlPZmZzZXQoYXJyYXksb2Zmc2V0KXtjb25zb2xlLndhcm4oIlRIUkVFLk1hdHJpeDM6IC5mbGF0dGVuVG9BcnJheU9mZnNldCgpIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAudG9BcnJheSgpIGluc3RlYWQuIik7cmV0dXJuIHRoaXMudG9BcnJheShhcnJheSxvZmZzZXQpO30sbXVsdGlwbHlWZWN0b3IzOmZ1bmN0aW9uIG11bHRpcGx5VmVjdG9yMyh2ZWN0b3Ipe2NvbnNvbGUud2FybignVEhSRUUuTWF0cml4MzogLm11bHRpcGx5VmVjdG9yMygpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSB2ZWN0b3IuYXBwbHlNYXRyaXgzKCBtYXRyaXggKSBpbnN0ZWFkLicpO3JldHVybiB2ZWN0b3IuYXBwbHlNYXRyaXgzKHRoaXMpO30sbXVsdGlwbHlWZWN0b3IzQXJyYXk6ZnVuY3Rpb24vKiBhICovbXVsdGlwbHlWZWN0b3IzQXJyYXkoKXtjb25zb2xlLmVycm9yKCdUSFJFRS5NYXRyaXgzOiAubXVsdGlwbHlWZWN0b3IzQXJyYXkoKSBoYXMgYmVlbiByZW1vdmVkLicpO30sYXBwbHlUb0J1ZmZlcjpmdW5jdGlvbiBhcHBseVRvQnVmZmVyKGJ1ZmZlci8qLCBvZmZzZXQsIGxlbmd0aCAqLyl7Y29uc29sZS53YXJuKCdUSFJFRS5NYXRyaXgzOiAuYXBwbHlUb0J1ZmZlcigpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBtYXRyaXguYXBwbHlUb0J1ZmZlckF0dHJpYnV0ZSggYXR0cmlidXRlICkgaW5zdGVhZC4nKTtyZXR1cm4gdGhpcy5hcHBseVRvQnVmZmVyQXR0cmlidXRlKGJ1ZmZlcik7fSxhcHBseVRvVmVjdG9yM0FycmF5OmZ1bmN0aW9uLyogYXJyYXksIG9mZnNldCwgbGVuZ3RoICovYXBwbHlUb1ZlY3RvcjNBcnJheSgpe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLk1hdHJpeDM6IC5hcHBseVRvVmVjdG9yM0FycmF5KCkgaGFzIGJlZW4gcmVtb3ZlZC4nKTt9fSk7T2JqZWN0LmFzc2lnbihNYXRyaXg0LnByb3RvdHlwZSx7ZXh0cmFjdFBvc2l0aW9uOmZ1bmN0aW9uIGV4dHJhY3RQb3NpdGlvbihtKXtjb25zb2xlLndhcm4oJ1RIUkVFLk1hdHJpeDQ6IC5leHRyYWN0UG9zaXRpb24oKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5jb3B5UG9zaXRpb24oKS4nKTtyZXR1cm4gdGhpcy5jb3B5UG9zaXRpb24obSk7fSxmbGF0dGVuVG9BcnJheU9mZnNldDpmdW5jdGlvbiBmbGF0dGVuVG9BcnJheU9mZnNldChhcnJheSxvZmZzZXQpe2NvbnNvbGUud2FybigiVEhSRUUuTWF0cml4NDogLmZsYXR0ZW5Ub0FycmF5T2Zmc2V0KCkgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC50b0FycmF5KCkgaW5zdGVhZC4iKTtyZXR1cm4gdGhpcy50b0FycmF5KGFycmF5LG9mZnNldCk7fSxnZXRQb3NpdGlvbjpmdW5jdGlvbiBnZXRQb3NpdGlvbigpe2NvbnNvbGUud2FybignVEhSRUUuTWF0cml4NDogLmdldFBvc2l0aW9uKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIFZlY3RvcjMuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKCBtYXRyaXggKSBpbnN0ZWFkLicpO3JldHVybiBuZXcgVmVjdG9yMygpLnNldEZyb21NYXRyaXhDb2x1bW4odGhpcywzKTt9LHNldFJvdGF0aW9uRnJvbVF1YXRlcm5pb246ZnVuY3Rpb24gc2V0Um90YXRpb25Gcm9tUXVhdGVybmlvbihxKXtjb25zb2xlLndhcm4oJ1RIUkVFLk1hdHJpeDQ6IC5zZXRSb3RhdGlvbkZyb21RdWF0ZXJuaW9uKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAubWFrZVJvdGF0aW9uRnJvbVF1YXRlcm5pb24oKS4nKTtyZXR1cm4gdGhpcy5tYWtlUm90YXRpb25Gcm9tUXVhdGVybmlvbihxKTt9LG11bHRpcGx5VG9BcnJheTpmdW5jdGlvbiBtdWx0aXBseVRvQXJyYXkoKXtjb25zb2xlLndhcm4oJ1RIUkVFLk1hdHJpeDQ6IC5tdWx0aXBseVRvQXJyYXkoKSBoYXMgYmVlbiByZW1vdmVkLicpO30sbXVsdGlwbHlWZWN0b3IzOmZ1bmN0aW9uIG11bHRpcGx5VmVjdG9yMyh2ZWN0b3Ipe2NvbnNvbGUud2FybignVEhSRUUuTWF0cml4NDogLm11bHRpcGx5VmVjdG9yMygpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSB2ZWN0b3IuYXBwbHlNYXRyaXg0KCBtYXRyaXggKSBpbnN0ZWFkLicpO3JldHVybiB2ZWN0b3IuYXBwbHlNYXRyaXg0KHRoaXMpO30sbXVsdGlwbHlWZWN0b3I0OmZ1bmN0aW9uIG11bHRpcGx5VmVjdG9yNCh2ZWN0b3Ipe2NvbnNvbGUud2FybignVEhSRUUuTWF0cml4NDogLm11bHRpcGx5VmVjdG9yNCgpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSB2ZWN0b3IuYXBwbHlNYXRyaXg0KCBtYXRyaXggKSBpbnN0ZWFkLicpO3JldHVybiB2ZWN0b3IuYXBwbHlNYXRyaXg0KHRoaXMpO30sbXVsdGlwbHlWZWN0b3IzQXJyYXk6ZnVuY3Rpb24vKiBhICovbXVsdGlwbHlWZWN0b3IzQXJyYXkoKXtjb25zb2xlLmVycm9yKCdUSFJFRS5NYXRyaXg0OiAubXVsdGlwbHlWZWN0b3IzQXJyYXkoKSBoYXMgYmVlbiByZW1vdmVkLicpO30scm90YXRlQXhpczpmdW5jdGlvbiByb3RhdGVBeGlzKHYpe2NvbnNvbGUud2FybignVEhSRUUuTWF0cml4NDogLnJvdGF0ZUF4aXMoKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgVmVjdG9yMy50cmFuc2Zvcm1EaXJlY3Rpb24oIG1hdHJpeCApIGluc3RlYWQuJyk7di50cmFuc2Zvcm1EaXJlY3Rpb24odGhpcyk7fSxjcm9zc1ZlY3RvcjpmdW5jdGlvbiBjcm9zc1ZlY3Rvcih2ZWN0b3Ipe2NvbnNvbGUud2FybignVEhSRUUuTWF0cml4NDogLmNyb3NzVmVjdG9yKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIHZlY3Rvci5hcHBseU1hdHJpeDQoIG1hdHJpeCApIGluc3RlYWQuJyk7cmV0dXJuIHZlY3Rvci5hcHBseU1hdHJpeDQodGhpcyk7fSx0cmFuc2xhdGU6ZnVuY3Rpb24gdHJhbnNsYXRlKCl7Y29uc29sZS5lcnJvcignVEhSRUUuTWF0cml4NDogLnRyYW5zbGF0ZSgpIGhhcyBiZWVuIHJlbW92ZWQuJyk7fSxyb3RhdGVYOmZ1bmN0aW9uIHJvdGF0ZVgoKXtjb25zb2xlLmVycm9yKCdUSFJFRS5NYXRyaXg0OiAucm90YXRlWCgpIGhhcyBiZWVuIHJlbW92ZWQuJyk7fSxyb3RhdGVZOmZ1bmN0aW9uIHJvdGF0ZVkoKXtjb25zb2xlLmVycm9yKCdUSFJFRS5NYXRyaXg0OiAucm90YXRlWSgpIGhhcyBiZWVuIHJlbW92ZWQuJyk7fSxyb3RhdGVaOmZ1bmN0aW9uIHJvdGF0ZVooKXtjb25zb2xlLmVycm9yKCdUSFJFRS5NYXRyaXg0OiAucm90YXRlWigpIGhhcyBiZWVuIHJlbW92ZWQuJyk7fSxyb3RhdGVCeUF4aXM6ZnVuY3Rpb24gcm90YXRlQnlBeGlzKCl7Y29uc29sZS5lcnJvcignVEhSRUUuTWF0cml4NDogLnJvdGF0ZUJ5QXhpcygpIGhhcyBiZWVuIHJlbW92ZWQuJyk7fSxhcHBseVRvQnVmZmVyOmZ1bmN0aW9uIGFwcGx5VG9CdWZmZXIoYnVmZmVyLyosIG9mZnNldCwgbGVuZ3RoICovKXtjb25zb2xlLndhcm4oJ1RIUkVFLk1hdHJpeDQ6IC5hcHBseVRvQnVmZmVyKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIG1hdHJpeC5hcHBseVRvQnVmZmVyQXR0cmlidXRlKCBhdHRyaWJ1dGUgKSBpbnN0ZWFkLicpO3JldHVybiB0aGlzLmFwcGx5VG9CdWZmZXJBdHRyaWJ1dGUoYnVmZmVyKTt9LGFwcGx5VG9WZWN0b3IzQXJyYXk6ZnVuY3Rpb24vKiBhcnJheSwgb2Zmc2V0LCBsZW5ndGggKi9hcHBseVRvVmVjdG9yM0FycmF5KCl7Y29uc29sZS5lcnJvcignVEhSRUUuTWF0cml4NDogLmFwcGx5VG9WZWN0b3IzQXJyYXkoKSBoYXMgYmVlbiByZW1vdmVkLicpO30sbWFrZUZydXN0dW06ZnVuY3Rpb24gbWFrZUZydXN0dW0obGVmdCxyaWdodCxib3R0b20sdG9wLG5lYXIsZmFyKXtjb25zb2xlLndhcm4oJ1RIUkVFLk1hdHJpeDQ6IC5tYWtlRnJ1c3R1bSgpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSAubWFrZVBlcnNwZWN0aXZlKCBsZWZ0LCByaWdodCwgdG9wLCBib3R0b20sIG5lYXIsIGZhciApIGluc3RlYWQuJyk7cmV0dXJuIHRoaXMubWFrZVBlcnNwZWN0aXZlKGxlZnQscmlnaHQsdG9wLGJvdHRvbSxuZWFyLGZhcik7fX0pO1BsYW5lLnByb3RvdHlwZS5pc0ludGVyc2VjdGlvbkxpbmU9ZnVuY3Rpb24obGluZSl7Y29uc29sZS53YXJuKCdUSFJFRS5QbGFuZTogLmlzSW50ZXJzZWN0aW9uTGluZSgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmludGVyc2VjdHNMaW5lKCkuJyk7cmV0dXJuIHRoaXMuaW50ZXJzZWN0c0xpbmUobGluZSk7fTtRdWF0ZXJuaW9uLnByb3RvdHlwZS5tdWx0aXBseVZlY3RvcjM9ZnVuY3Rpb24odmVjdG9yKXtjb25zb2xlLndhcm4oJ1RIUkVFLlF1YXRlcm5pb246IC5tdWx0aXBseVZlY3RvcjMoKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgaXMgbm93IHZlY3Rvci5hcHBseVF1YXRlcm5pb24oIHF1YXRlcm5pb24gKSBpbnN0ZWFkLicpO3JldHVybiB2ZWN0b3IuYXBwbHlRdWF0ZXJuaW9uKHRoaXMpO307T2JqZWN0LmFzc2lnbihSYXkucHJvdG90eXBlLHtpc0ludGVyc2VjdGlvbkJveDpmdW5jdGlvbiBpc0ludGVyc2VjdGlvbkJveChib3gpe2NvbnNvbGUud2FybignVEhSRUUuUmF5OiAuaXNJbnRlcnNlY3Rpb25Cb3goKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5pbnRlcnNlY3RzQm94KCkuJyk7cmV0dXJuIHRoaXMuaW50ZXJzZWN0c0JveChib3gpO30saXNJbnRlcnNlY3Rpb25QbGFuZTpmdW5jdGlvbiBpc0ludGVyc2VjdGlvblBsYW5lKHBsYW5lKXtjb25zb2xlLndhcm4oJ1RIUkVFLlJheTogLmlzSW50ZXJzZWN0aW9uUGxhbmUoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5pbnRlcnNlY3RzUGxhbmUoKS4nKTtyZXR1cm4gdGhpcy5pbnRlcnNlY3RzUGxhbmUocGxhbmUpO30saXNJbnRlcnNlY3Rpb25TcGhlcmU6ZnVuY3Rpb24gaXNJbnRlcnNlY3Rpb25TcGhlcmUoc3BoZXJlKXtjb25zb2xlLndhcm4oJ1RIUkVFLlJheTogLmlzSW50ZXJzZWN0aW9uU3BoZXJlKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuaW50ZXJzZWN0c1NwaGVyZSgpLicpO3JldHVybiB0aGlzLmludGVyc2VjdHNTcGhlcmUoc3BoZXJlKTt9fSk7T2JqZWN0LmFzc2lnbihUcmlhbmdsZS5wcm90b3R5cGUse2FyZWE6ZnVuY3Rpb24gYXJlYSgpe2NvbnNvbGUud2FybignVEhSRUUuVHJpYW5nbGU6IC5hcmVhKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuZ2V0QXJlYSgpLicpO3JldHVybiB0aGlzLmdldEFyZWEoKTt9LGJhcnljb29yZEZyb21Qb2ludDpmdW5jdGlvbiBiYXJ5Y29vcmRGcm9tUG9pbnQocG9pbnQsdGFyZ2V0KXtjb25zb2xlLndhcm4oJ1RIUkVFLlRyaWFuZ2xlOiAuYmFyeWNvb3JkRnJvbVBvaW50KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuZ2V0QmFyeWNvb3JkKCkuJyk7cmV0dXJuIHRoaXMuZ2V0QmFyeWNvb3JkKHBvaW50LHRhcmdldCk7fSxtaWRwb2ludDpmdW5jdGlvbiBtaWRwb2ludCh0YXJnZXQpe2NvbnNvbGUud2FybignVEhSRUUuVHJpYW5nbGU6IC5taWRwb2ludCgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmdldE1pZHBvaW50KCkuJyk7cmV0dXJuIHRoaXMuZ2V0TWlkcG9pbnQodGFyZ2V0KTt9LG5vcm1hbDpmdW5jdGlvbiBub3JtYWwodGFyZ2V0KXtjb25zb2xlLndhcm4oJ1RIUkVFLlRyaWFuZ2xlOiAubm9ybWFsKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuZ2V0Tm9ybWFsKCkuJyk7cmV0dXJuIHRoaXMuZ2V0Tm9ybWFsKHRhcmdldCk7fSxwbGFuZTpmdW5jdGlvbiBwbGFuZSh0YXJnZXQpe2NvbnNvbGUud2FybignVEhSRUUuVHJpYW5nbGU6IC5wbGFuZSgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmdldFBsYW5lKCkuJyk7cmV0dXJuIHRoaXMuZ2V0UGxhbmUodGFyZ2V0KTt9fSk7T2JqZWN0LmFzc2lnbihUcmlhbmdsZSx7YmFyeWNvb3JkRnJvbVBvaW50OmZ1bmN0aW9uIGJhcnljb29yZEZyb21Qb2ludChwb2ludCxhLGIsYyx0YXJnZXQpe2NvbnNvbGUud2FybignVEhSRUUuVHJpYW5nbGU6IC5iYXJ5Y29vcmRGcm9tUG9pbnQoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5nZXRCYXJ5Y29vcmQoKS4nKTtyZXR1cm4gVHJpYW5nbGUuZ2V0QmFyeWNvb3JkKHBvaW50LGEsYixjLHRhcmdldCk7fSxub3JtYWw6ZnVuY3Rpb24gbm9ybWFsKGEsYixjLHRhcmdldCl7Y29uc29sZS53YXJuKCdUSFJFRS5UcmlhbmdsZTogLm5vcm1hbCgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmdldE5vcm1hbCgpLicpO3JldHVybiBUcmlhbmdsZS5nZXROb3JtYWwoYSxiLGMsdGFyZ2V0KTt9fSk7T2JqZWN0LmFzc2lnbihTaGFwZS5wcm90b3R5cGUse2V4dHJhY3RBbGxQb2ludHM6ZnVuY3Rpb24gZXh0cmFjdEFsbFBvaW50cyhkaXZpc2lvbnMpe2NvbnNvbGUud2FybignVEhSRUUuU2hhcGU6IC5leHRyYWN0QWxsUG9pbnRzKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIC5leHRyYWN0UG9pbnRzKCkgaW5zdGVhZC4nKTtyZXR1cm4gdGhpcy5leHRyYWN0UG9pbnRzKGRpdmlzaW9ucyk7fSxleHRydWRlOmZ1bmN0aW9uIGV4dHJ1ZGUob3B0aW9ucyl7Y29uc29sZS53YXJuKCdUSFJFRS5TaGFwZTogLmV4dHJ1ZGUoKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgRXh0cnVkZUdlb21ldHJ5KCkgaW5zdGVhZC4nKTtyZXR1cm4gbmV3IEV4dHJ1ZGVHZW9tZXRyeSh0aGlzLG9wdGlvbnMpO30sbWFrZUdlb21ldHJ5OmZ1bmN0aW9uIG1ha2VHZW9tZXRyeShvcHRpb25zKXtjb25zb2xlLndhcm4oJ1RIUkVFLlNoYXBlOiAubWFrZUdlb21ldHJ5KCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIFNoYXBlR2VvbWV0cnkoKSBpbnN0ZWFkLicpO3JldHVybiBuZXcgU2hhcGVHZW9tZXRyeSh0aGlzLG9wdGlvbnMpO319KTtPYmplY3QuYXNzaWduKFZlY3RvcjIucHJvdG90eXBlLHtmcm9tQXR0cmlidXRlOmZ1bmN0aW9uIGZyb21BdHRyaWJ1dGUoYXR0cmlidXRlLGluZGV4LG9mZnNldCl7Y29uc29sZS53YXJuKCdUSFJFRS5WZWN0b3IyOiAuZnJvbUF0dHJpYnV0ZSgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmZyb21CdWZmZXJBdHRyaWJ1dGUoKS4nKTtyZXR1cm4gdGhpcy5mcm9tQnVmZmVyQXR0cmlidXRlKGF0dHJpYnV0ZSxpbmRleCxvZmZzZXQpO30sZGlzdGFuY2VUb01hbmhhdHRhbjpmdW5jdGlvbiBkaXN0YW5jZVRvTWFuaGF0dGFuKHYpe2NvbnNvbGUud2FybignVEhSRUUuVmVjdG9yMjogLmRpc3RhbmNlVG9NYW5oYXR0YW4oKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5tYW5oYXR0YW5EaXN0YW5jZVRvKCkuJyk7cmV0dXJuIHRoaXMubWFuaGF0dGFuRGlzdGFuY2VUbyh2KTt9LGxlbmd0aE1hbmhhdHRhbjpmdW5jdGlvbiBsZW5ndGhNYW5oYXR0YW4oKXtjb25zb2xlLndhcm4oJ1RIUkVFLlZlY3RvcjI6IC5sZW5ndGhNYW5oYXR0YW4oKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5tYW5oYXR0YW5MZW5ndGgoKS4nKTtyZXR1cm4gdGhpcy5tYW5oYXR0YW5MZW5ndGgoKTt9fSk7T2JqZWN0LmFzc2lnbihWZWN0b3IzLnByb3RvdHlwZSx7c2V0RXVsZXJGcm9tUm90YXRpb25NYXRyaXg6ZnVuY3Rpb24gc2V0RXVsZXJGcm9tUm90YXRpb25NYXRyaXgoKXtjb25zb2xlLmVycm9yKCdUSFJFRS5WZWN0b3IzOiAuc2V0RXVsZXJGcm9tUm90YXRpb25NYXRyaXgoKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgRXVsZXIuc2V0RnJvbVJvdGF0aW9uTWF0cml4KCkgaW5zdGVhZC4nKTt9LHNldEV1bGVyRnJvbVF1YXRlcm5pb246ZnVuY3Rpb24gc2V0RXVsZXJGcm9tUXVhdGVybmlvbigpe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLlZlY3RvcjM6IC5zZXRFdWxlckZyb21RdWF0ZXJuaW9uKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIEV1bGVyLnNldEZyb21RdWF0ZXJuaW9uKCkgaW5zdGVhZC4nKTt9LGdldFBvc2l0aW9uRnJvbU1hdHJpeDpmdW5jdGlvbiBnZXRQb3NpdGlvbkZyb21NYXRyaXgobSl7Y29uc29sZS53YXJuKCdUSFJFRS5WZWN0b3IzOiAuZ2V0UG9zaXRpb25Gcm9tTWF0cml4KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKCkuJyk7cmV0dXJuIHRoaXMuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKG0pO30sZ2V0U2NhbGVGcm9tTWF0cml4OmZ1bmN0aW9uIGdldFNjYWxlRnJvbU1hdHJpeChtKXtjb25zb2xlLndhcm4oJ1RIUkVFLlZlY3RvcjM6IC5nZXRTY2FsZUZyb21NYXRyaXgoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5zZXRGcm9tTWF0cml4U2NhbGUoKS4nKTtyZXR1cm4gdGhpcy5zZXRGcm9tTWF0cml4U2NhbGUobSk7fSxnZXRDb2x1bW5Gcm9tTWF0cml4OmZ1bmN0aW9uIGdldENvbHVtbkZyb21NYXRyaXgoaW5kZXgsbWF0cml4KXtjb25zb2xlLndhcm4oJ1RIUkVFLlZlY3RvcjM6IC5nZXRDb2x1bW5Gcm9tTWF0cml4KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuc2V0RnJvbU1hdHJpeENvbHVtbigpLicpO3JldHVybiB0aGlzLnNldEZyb21NYXRyaXhDb2x1bW4obWF0cml4LGluZGV4KTt9LGFwcGx5UHJvamVjdGlvbjpmdW5jdGlvbiBhcHBseVByb2plY3Rpb24obSl7Y29uc29sZS53YXJuKCdUSFJFRS5WZWN0b3IzOiAuYXBwbHlQcm9qZWN0aW9uKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIC5hcHBseU1hdHJpeDQoIG0gKSBpbnN0ZWFkLicpO3JldHVybiB0aGlzLmFwcGx5TWF0cml4NChtKTt9LGZyb21BdHRyaWJ1dGU6ZnVuY3Rpb24gZnJvbUF0dHJpYnV0ZShhdHRyaWJ1dGUsaW5kZXgsb2Zmc2V0KXtjb25zb2xlLndhcm4oJ1RIUkVFLlZlY3RvcjM6IC5mcm9tQXR0cmlidXRlKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuZnJvbUJ1ZmZlckF0dHJpYnV0ZSgpLicpO3JldHVybiB0aGlzLmZyb21CdWZmZXJBdHRyaWJ1dGUoYXR0cmlidXRlLGluZGV4LG9mZnNldCk7fSxkaXN0YW5jZVRvTWFuaGF0dGFuOmZ1bmN0aW9uIGRpc3RhbmNlVG9NYW5oYXR0YW4odil7Y29uc29sZS53YXJuKCdUSFJFRS5WZWN0b3IzOiAuZGlzdGFuY2VUb01hbmhhdHRhbigpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLm1hbmhhdHRhbkRpc3RhbmNlVG8oKS4nKTtyZXR1cm4gdGhpcy5tYW5oYXR0YW5EaXN0YW5jZVRvKHYpO30sbGVuZ3RoTWFuaGF0dGFuOmZ1bmN0aW9uIGxlbmd0aE1hbmhhdHRhbigpe2NvbnNvbGUud2FybignVEhSRUUuVmVjdG9yMzogLmxlbmd0aE1hbmhhdHRhbigpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLm1hbmhhdHRhbkxlbmd0aCgpLicpO3JldHVybiB0aGlzLm1hbmhhdHRhbkxlbmd0aCgpO319KTtPYmplY3QuYXNzaWduKFZlY3RvcjQucHJvdG90eXBlLHtmcm9tQXR0cmlidXRlOmZ1bmN0aW9uIGZyb21BdHRyaWJ1dGUoYXR0cmlidXRlLGluZGV4LG9mZnNldCl7Y29uc29sZS53YXJuKCdUSFJFRS5WZWN0b3I0OiAuZnJvbUF0dHJpYnV0ZSgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmZyb21CdWZmZXJBdHRyaWJ1dGUoKS4nKTtyZXR1cm4gdGhpcy5mcm9tQnVmZmVyQXR0cmlidXRlKGF0dHJpYnV0ZSxpbmRleCxvZmZzZXQpO30sbGVuZ3RoTWFuaGF0dGFuOmZ1bmN0aW9uIGxlbmd0aE1hbmhhdHRhbigpe2NvbnNvbGUud2FybignVEhSRUUuVmVjdG9yNDogLmxlbmd0aE1hbmhhdHRhbigpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLm1hbmhhdHRhbkxlbmd0aCgpLicpO3JldHVybiB0aGlzLm1hbmhhdHRhbkxlbmd0aCgpO319KTsvLwpPYmplY3QuYXNzaWduKEdlb21ldHJ5LnByb3RvdHlwZSx7Y29tcHV0ZVRhbmdlbnRzOmZ1bmN0aW9uIGNvbXB1dGVUYW5nZW50cygpe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLkdlb21ldHJ5OiAuY29tcHV0ZVRhbmdlbnRzKCkgaGFzIGJlZW4gcmVtb3ZlZC4nKTt9LGNvbXB1dGVMaW5lRGlzdGFuY2VzOmZ1bmN0aW9uIGNvbXB1dGVMaW5lRGlzdGFuY2VzKCl7Y29uc29sZS5lcnJvcignVEhSRUUuR2VvbWV0cnk6IC5jb21wdXRlTGluZURpc3RhbmNlcygpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBUSFJFRS5MaW5lLmNvbXB1dGVMaW5lRGlzdGFuY2VzKCkgaW5zdGVhZC4nKTt9fSk7T2JqZWN0LmFzc2lnbihPYmplY3QzRC5wcm90b3R5cGUse2dldENoaWxkQnlOYW1lOmZ1bmN0aW9uIGdldENoaWxkQnlOYW1lKG5hbWUpe2NvbnNvbGUud2FybignVEhSRUUuT2JqZWN0M0Q6IC5nZXRDaGlsZEJ5TmFtZSgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmdldE9iamVjdEJ5TmFtZSgpLicpO3JldHVybiB0aGlzLmdldE9iamVjdEJ5TmFtZShuYW1lKTt9LHJlbmRlckRlcHRoOmZ1bmN0aW9uIHJlbmRlckRlcHRoKCl7Y29uc29sZS53YXJuKCdUSFJFRS5PYmplY3QzRDogLnJlbmRlckRlcHRoIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSAucmVuZGVyT3JkZXIsIGluc3RlYWQuJyk7fSx0cmFuc2xhdGU6ZnVuY3Rpb24gdHJhbnNsYXRlKGRpc3RhbmNlLGF4aXMpe2NvbnNvbGUud2FybignVEhSRUUuT2JqZWN0M0Q6IC50cmFuc2xhdGUoKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgLnRyYW5zbGF0ZU9uQXhpcyggYXhpcywgZGlzdGFuY2UgKSBpbnN0ZWFkLicpO3JldHVybiB0aGlzLnRyYW5zbGF0ZU9uQXhpcyhheGlzLGRpc3RhbmNlKTt9LGdldFdvcmxkUm90YXRpb246ZnVuY3Rpb24gZ2V0V29ybGRSb3RhdGlvbigpe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLk9iamVjdDNEOiAuZ2V0V29ybGRSb3RhdGlvbigpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBUSFJFRS5PYmplY3QzRC5nZXRXb3JsZFF1YXRlcm5pb24oIHRhcmdldCApIGluc3RlYWQuJyk7fX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKE9iamVjdDNELnByb3RvdHlwZSx7ZXVsZXJPcmRlcjp7Z2V0OmZ1bmN0aW9uIGdldCgpe2NvbnNvbGUud2FybignVEhSRUUuT2JqZWN0M0Q6IC5ldWxlck9yZGVyIGlzIG5vdyAucm90YXRpb24ub3JkZXIuJyk7cmV0dXJuIHRoaXMucm90YXRpb24ub3JkZXI7fSxzZXQ6ZnVuY3Rpb24gc2V0KHZhbHVlKXtjb25zb2xlLndhcm4oJ1RIUkVFLk9iamVjdDNEOiAuZXVsZXJPcmRlciBpcyBub3cgLnJvdGF0aW9uLm9yZGVyLicpO3RoaXMucm90YXRpb24ub3JkZXI9dmFsdWU7fX0sdXNlUXVhdGVybmlvbjp7Z2V0OmZ1bmN0aW9uIGdldCgpe2NvbnNvbGUud2FybignVEhSRUUuT2JqZWN0M0Q6IC51c2VRdWF0ZXJuaW9uIGhhcyBiZWVuIHJlbW92ZWQuIFRoZSBsaWJyYXJ5IG5vdyB1c2VzIHF1YXRlcm5pb25zIGJ5IGRlZmF1bHQuJyk7fSxzZXQ6ZnVuY3Rpb24gc2V0KCl7Y29uc29sZS53YXJuKCdUSFJFRS5PYmplY3QzRDogLnVzZVF1YXRlcm5pb24gaGFzIGJlZW4gcmVtb3ZlZC4gVGhlIGxpYnJhcnkgbm93IHVzZXMgcXVhdGVybmlvbnMgYnkgZGVmYXVsdC4nKTt9fX0pO09iamVjdC5hc3NpZ24oTWVzaC5wcm90b3R5cGUse3NldERyYXdNb2RlOmZ1bmN0aW9uIHNldERyYXdNb2RlKCl7Y29uc29sZS5lcnJvcignVEhSRUUuTWVzaDogLnNldERyYXdNb2RlKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVGhlIHJlbmRlcmVyIG5vdyBhbHdheXMgYXNzdW1lcyBUSFJFRS5UcmlhbmdsZXNEcmF3TW9kZS4gVHJhbnNmb3JtIHlvdXIgZ2VvbWV0cnkgdmlhIEJ1ZmZlckdlb21ldHJ5VXRpbHMudG9UcmlhbmdsZXNEcmF3TW9kZSgpIGlmIG5lY2Vzc2FyeS4nKTt9fSk7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoTWVzaC5wcm90b3R5cGUse2RyYXdNb2RlOntnZXQ6ZnVuY3Rpb24gZ2V0KCl7Y29uc29sZS5lcnJvcignVEhSRUUuTWVzaDogLmRyYXdNb2RlIGhhcyBiZWVuIHJlbW92ZWQuIFRoZSByZW5kZXJlciBub3cgYWx3YXlzIGFzc3VtZXMgVEhSRUUuVHJpYW5nbGVzRHJhd01vZGUuJyk7cmV0dXJuIFRyaWFuZ2xlc0RyYXdNb2RlO30sc2V0OmZ1bmN0aW9uIHNldCgpe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLk1lc2g6IC5kcmF3TW9kZSBoYXMgYmVlbiByZW1vdmVkLiBUaGUgcmVuZGVyZXIgbm93IGFsd2F5cyBhc3N1bWVzIFRIUkVFLlRyaWFuZ2xlc0RyYXdNb2RlLiBUcmFuc2Zvcm0geW91ciBnZW9tZXRyeSB2aWEgQnVmZmVyR2VvbWV0cnlVdGlscy50b1RyaWFuZ2xlc0RyYXdNb2RlKCkgaWYgbmVjZXNzYXJ5LicpO319fSk7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoTE9ELnByb3RvdHlwZSx7b2JqZWN0czp7Z2V0OmZ1bmN0aW9uIGdldCgpe2NvbnNvbGUud2FybignVEhSRUUuTE9EOiAub2JqZWN0cyBoYXMgYmVlbiByZW5hbWVkIHRvIC5sZXZlbHMuJyk7cmV0dXJuIHRoaXMubGV2ZWxzO319fSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KFNrZWxldG9uLnByb3RvdHlwZSwndXNlVmVydGV4VGV4dHVyZScse2dldDpmdW5jdGlvbiBnZXQoKXtjb25zb2xlLndhcm4oJ1RIUkVFLlNrZWxldG9uOiB1c2VWZXJ0ZXhUZXh0dXJlIGhhcyBiZWVuIHJlbW92ZWQuJyk7fSxzZXQ6ZnVuY3Rpb24gc2V0KCl7Y29uc29sZS53YXJuKCdUSFJFRS5Ta2VsZXRvbjogdXNlVmVydGV4VGV4dHVyZSBoYXMgYmVlbiByZW1vdmVkLicpO319KTtTa2lubmVkTWVzaC5wcm90b3R5cGUuaW5pdEJvbmVzPWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcignVEhSRUUuU2tpbm5lZE1lc2g6IGluaXRCb25lcygpIGhhcyBiZWVuIHJlbW92ZWQuJyk7fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoQ3VydmUucHJvdG90eXBlLCdfX2FyY0xlbmd0aERpdmlzaW9ucycse2dldDpmdW5jdGlvbiBnZXQoKXtjb25zb2xlLndhcm4oJ1RIUkVFLkN1cnZlOiAuX19hcmNMZW5ndGhEaXZpc2lvbnMgaXMgbm93IC5hcmNMZW5ndGhEaXZpc2lvbnMuJyk7cmV0dXJuIHRoaXMuYXJjTGVuZ3RoRGl2aXNpb25zO30sc2V0OmZ1bmN0aW9uIHNldCh2YWx1ZSl7Y29uc29sZS53YXJuKCdUSFJFRS5DdXJ2ZTogLl9fYXJjTGVuZ3RoRGl2aXNpb25zIGlzIG5vdyAuYXJjTGVuZ3RoRGl2aXNpb25zLicpO3RoaXMuYXJjTGVuZ3RoRGl2aXNpb25zPXZhbHVlO319KTsvLwpQZXJzcGVjdGl2ZUNhbWVyYS5wcm90b3R5cGUuc2V0TGVucz1mdW5jdGlvbihmb2NhbExlbmd0aCxmaWxtR2F1Z2Upe2NvbnNvbGUud2FybigiVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEuc2V0TGVucyBpcyBkZXByZWNhdGVkLiAiKyJVc2UgLnNldEZvY2FsTGVuZ3RoIGFuZCAuZmlsbUdhdWdlIGZvciBhIHBob3RvZ3JhcGhpYyBzZXR1cC4iKTtpZihmaWxtR2F1Z2UhPT11bmRlZmluZWQpe3RoaXMuZmlsbUdhdWdlPWZpbG1HYXVnZTt9dGhpcy5zZXRGb2NhbExlbmd0aChmb2NhbExlbmd0aCk7fTsvLwpPYmplY3QuZGVmaW5lUHJvcGVydGllcyhMaWdodC5wcm90b3R5cGUse29ubHlTaGFkb3c6e3NldDpmdW5jdGlvbiBzZXQoKXtjb25zb2xlLndhcm4oJ1RIUkVFLkxpZ2h0OiAub25seVNoYWRvdyBoYXMgYmVlbiByZW1vdmVkLicpO319LHNoYWRvd0NhbWVyYUZvdjp7c2V0OmZ1bmN0aW9uIHNldCh2YWx1ZSl7Y29uc29sZS53YXJuKCdUSFJFRS5MaWdodDogLnNoYWRvd0NhbWVyYUZvdiBpcyBub3cgLnNoYWRvdy5jYW1lcmEuZm92LicpO3RoaXMuc2hhZG93LmNhbWVyYS5mb3Y9dmFsdWU7fX0sc2hhZG93Q2FtZXJhTGVmdDp7c2V0OmZ1bmN0aW9uIHNldCh2YWx1ZSl7Y29uc29sZS53YXJuKCdUSFJFRS5MaWdodDogLnNoYWRvd0NhbWVyYUxlZnQgaXMgbm93IC5zaGFkb3cuY2FtZXJhLmxlZnQuJyk7dGhpcy5zaGFkb3cuY2FtZXJhLmxlZnQ9dmFsdWU7fX0sc2hhZG93Q2FtZXJhUmlnaHQ6e3NldDpmdW5jdGlvbiBzZXQodmFsdWUpe2NvbnNvbGUud2FybignVEhSRUUuTGlnaHQ6IC5zaGFkb3dDYW1lcmFSaWdodCBpcyBub3cgLnNoYWRvdy5jYW1lcmEucmlnaHQuJyk7dGhpcy5zaGFkb3cuY2FtZXJhLnJpZ2h0PXZhbHVlO319LHNoYWRvd0NhbWVyYVRvcDp7c2V0OmZ1bmN0aW9uIHNldCh2YWx1ZSl7Y29uc29sZS53YXJuKCdUSFJFRS5MaWdodDogLnNoYWRvd0NhbWVyYVRvcCBpcyBub3cgLnNoYWRvdy5jYW1lcmEudG9wLicpO3RoaXMuc2hhZG93LmNhbWVyYS50b3A9dmFsdWU7fX0sc2hhZG93Q2FtZXJhQm90dG9tOntzZXQ6ZnVuY3Rpb24gc2V0KHZhbHVlKXtjb25zb2xlLndhcm4oJ1RIUkVFLkxpZ2h0OiAuc2hhZG93Q2FtZXJhQm90dG9tIGlzIG5vdyAuc2hhZG93LmNhbWVyYS5ib3R0b20uJyk7dGhpcy5zaGFkb3cuY2FtZXJhLmJvdHRvbT12YWx1ZTt9fSxzaGFkb3dDYW1lcmFOZWFyOntzZXQ6ZnVuY3Rpb24gc2V0KHZhbHVlKXtjb25zb2xlLndhcm4oJ1RIUkVFLkxpZ2h0OiAuc2hhZG93Q2FtZXJhTmVhciBpcyBub3cgLnNoYWRvdy5jYW1lcmEubmVhci4nKTt0aGlzLnNoYWRvdy5jYW1lcmEubmVhcj12YWx1ZTt9fSxzaGFkb3dDYW1lcmFGYXI6e3NldDpmdW5jdGlvbiBzZXQodmFsdWUpe2NvbnNvbGUud2FybignVEhSRUUuTGlnaHQ6IC5zaGFkb3dDYW1lcmFGYXIgaXMgbm93IC5zaGFkb3cuY2FtZXJhLmZhci4nKTt0aGlzLnNoYWRvdy5jYW1lcmEuZmFyPXZhbHVlO319LHNoYWRvd0NhbWVyYVZpc2libGU6e3NldDpmdW5jdGlvbiBzZXQoKXtjb25zb2xlLndhcm4oJ1RIUkVFLkxpZ2h0OiAuc2hhZG93Q2FtZXJhVmlzaWJsZSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgbmV3IFRIUkVFLkNhbWVyYUhlbHBlciggbGlnaHQuc2hhZG93LmNhbWVyYSApIGluc3RlYWQuJyk7fX0sc2hhZG93Qmlhczp7c2V0OmZ1bmN0aW9uIHNldCh2YWx1ZSl7Y29uc29sZS53YXJuKCdUSFJFRS5MaWdodDogLnNoYWRvd0JpYXMgaXMgbm93IC5zaGFkb3cuYmlhcy4nKTt0aGlzLnNoYWRvdy5iaWFzPXZhbHVlO319LHNoYWRvd0RhcmtuZXNzOntzZXQ6ZnVuY3Rpb24gc2V0KCl7Y29uc29sZS53YXJuKCdUSFJFRS5MaWdodDogLnNoYWRvd0RhcmtuZXNzIGhhcyBiZWVuIHJlbW92ZWQuJyk7fX0sc2hhZG93TWFwV2lkdGg6e3NldDpmdW5jdGlvbiBzZXQodmFsdWUpe2NvbnNvbGUud2FybignVEhSRUUuTGlnaHQ6IC5zaGFkb3dNYXBXaWR0aCBpcyBub3cgLnNoYWRvdy5tYXBTaXplLndpZHRoLicpO3RoaXMuc2hhZG93Lm1hcFNpemUud2lkdGg9dmFsdWU7fX0sc2hhZG93TWFwSGVpZ2h0OntzZXQ6ZnVuY3Rpb24gc2V0KHZhbHVlKXtjb25zb2xlLndhcm4oJ1RIUkVFLkxpZ2h0OiAuc2hhZG93TWFwSGVpZ2h0IGlzIG5vdyAuc2hhZG93Lm1hcFNpemUuaGVpZ2h0LicpO3RoaXMuc2hhZG93Lm1hcFNpemUuaGVpZ2h0PXZhbHVlO319fSk7Ly8KT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoQnVmZmVyQXR0cmlidXRlLnByb3RvdHlwZSx7bGVuZ3RoOntnZXQ6ZnVuY3Rpb24gZ2V0KCl7Y29uc29sZS53YXJuKCdUSFJFRS5CdWZmZXJBdHRyaWJ1dGU6IC5sZW5ndGggaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC5jb3VudCBpbnN0ZWFkLicpO3JldHVybiB0aGlzLmFycmF5Lmxlbmd0aDt9fSxkeW5hbWljOntnZXQ6ZnVuY3Rpb24gZ2V0KCl7Y29uc29sZS53YXJuKCdUSFJFRS5CdWZmZXJBdHRyaWJ1dGU6IC5keW5hbWljIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAudXNhZ2UgaW5zdGVhZC4nKTtyZXR1cm4gdGhpcy51c2FnZT09PUR5bmFtaWNEcmF3VXNhZ2U7fSxzZXQ6ZnVuY3Rpb24vKiB2YWx1ZSAqL3NldCgpe2NvbnNvbGUud2FybignVEhSRUUuQnVmZmVyQXR0cmlidXRlOiAuZHluYW1pYyBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLnVzYWdlIGluc3RlYWQuJyk7dGhpcy5zZXRVc2FnZShEeW5hbWljRHJhd1VzYWdlKTt9fX0pO09iamVjdC5hc3NpZ24oQnVmZmVyQXR0cmlidXRlLnByb3RvdHlwZSx7c2V0RHluYW1pYzpmdW5jdGlvbiBzZXREeW5hbWljKHZhbHVlKXtjb25zb2xlLndhcm4oJ1RIUkVFLkJ1ZmZlckF0dHJpYnV0ZTogLnNldER5bmFtaWMoKSBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLnNldFVzYWdlKCkgaW5zdGVhZC4nKTt0aGlzLnNldFVzYWdlKHZhbHVlPT09dHJ1ZT9EeW5hbWljRHJhd1VzYWdlOlN0YXRpY0RyYXdVc2FnZSk7cmV0dXJuIHRoaXM7fSxjb3B5SW5kaWNlc0FycmF5OmZ1bmN0aW9uLyogaW5kaWNlcyAqL2NvcHlJbmRpY2VzQXJyYXkoKXtjb25zb2xlLmVycm9yKCdUSFJFRS5CdWZmZXJBdHRyaWJ1dGU6IC5jb3B5SW5kaWNlc0FycmF5KCkgaGFzIGJlZW4gcmVtb3ZlZC4nKTt9LHNldEFycmF5OmZ1bmN0aW9uLyogYXJyYXkgKi9zZXRBcnJheSgpe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLkJ1ZmZlckF0dHJpYnV0ZTogLnNldEFycmF5IGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBCdWZmZXJHZW9tZXRyeSAuc2V0QXR0cmlidXRlIHRvIHJlcGxhY2UvcmVzaXplIGF0dHJpYnV0ZSBidWZmZXJzJyk7fX0pO09iamVjdC5hc3NpZ24oQnVmZmVyR2VvbWV0cnkucHJvdG90eXBlLHthZGRJbmRleDpmdW5jdGlvbiBhZGRJbmRleChpbmRleCl7Y29uc29sZS53YXJuKCdUSFJFRS5CdWZmZXJHZW9tZXRyeTogLmFkZEluZGV4KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuc2V0SW5kZXgoKS4nKTt0aGlzLnNldEluZGV4KGluZGV4KTt9LGFkZEF0dHJpYnV0ZTpmdW5jdGlvbiBhZGRBdHRyaWJ1dGUobmFtZSxhdHRyaWJ1dGUpe2NvbnNvbGUud2FybignVEhSRUUuQnVmZmVyR2VvbWV0cnk6IC5hZGRBdHRyaWJ1dGUoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5zZXRBdHRyaWJ1dGUoKS4nKTtpZighKGF0dHJpYnV0ZSYmYXR0cmlidXRlLmlzQnVmZmVyQXR0cmlidXRlKSYmIShhdHRyaWJ1dGUmJmF0dHJpYnV0ZS5pc0ludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlKSl7Y29uc29sZS53YXJuKCdUSFJFRS5CdWZmZXJHZW9tZXRyeTogLmFkZEF0dHJpYnV0ZSgpIG5vdyBleHBlY3RzICggbmFtZSwgYXR0cmlidXRlICkuJyk7cmV0dXJuIHRoaXMuc2V0QXR0cmlidXRlKG5hbWUsbmV3IEJ1ZmZlckF0dHJpYnV0ZShhcmd1bWVudHNbMV0sYXJndW1lbnRzWzJdKSk7fWlmKG5hbWU9PT0naW5kZXgnKXtjb25zb2xlLndhcm4oJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5LmFkZEF0dHJpYnV0ZTogVXNlIC5zZXRJbmRleCgpIGZvciBpbmRleCBhdHRyaWJ1dGUuJyk7dGhpcy5zZXRJbmRleChhdHRyaWJ1dGUpO3JldHVybiB0aGlzO31yZXR1cm4gdGhpcy5zZXRBdHRyaWJ1dGUobmFtZSxhdHRyaWJ1dGUpO30sYWRkRHJhd0NhbGw6ZnVuY3Rpb24gYWRkRHJhd0NhbGwoc3RhcnQsY291bnQsaW5kZXhPZmZzZXQpe2lmKGluZGV4T2Zmc2V0IT09dW5kZWZpbmVkKXtjb25zb2xlLndhcm4oJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5OiAuYWRkRHJhd0NhbGwoKSBubyBsb25nZXIgc3VwcG9ydHMgaW5kZXhPZmZzZXQuJyk7fWNvbnNvbGUud2FybignVEhSRUUuQnVmZmVyR2VvbWV0cnk6IC5hZGREcmF3Q2FsbCgpIGlzIG5vdyAuYWRkR3JvdXAoKS4nKTt0aGlzLmFkZEdyb3VwKHN0YXJ0LGNvdW50KTt9LGNsZWFyRHJhd0NhbGxzOmZ1bmN0aW9uIGNsZWFyRHJhd0NhbGxzKCl7Y29uc29sZS53YXJuKCdUSFJFRS5CdWZmZXJHZW9tZXRyeTogLmNsZWFyRHJhd0NhbGxzKCkgaXMgbm93IC5jbGVhckdyb3VwcygpLicpO3RoaXMuY2xlYXJHcm91cHMoKTt9LGNvbXB1dGVUYW5nZW50czpmdW5jdGlvbiBjb21wdXRlVGFuZ2VudHMoKXtjb25zb2xlLndhcm4oJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5OiAuY29tcHV0ZVRhbmdlbnRzKCkgaGFzIGJlZW4gcmVtb3ZlZC4nKTt9LGNvbXB1dGVPZmZzZXRzOmZ1bmN0aW9uIGNvbXB1dGVPZmZzZXRzKCl7Y29uc29sZS53YXJuKCdUSFJFRS5CdWZmZXJHZW9tZXRyeTogLmNvbXB1dGVPZmZzZXRzKCkgaGFzIGJlZW4gcmVtb3ZlZC4nKTt9LHJlbW92ZUF0dHJpYnV0ZTpmdW5jdGlvbiByZW1vdmVBdHRyaWJ1dGUobmFtZSl7Y29uc29sZS53YXJuKCdUSFJFRS5CdWZmZXJHZW9tZXRyeTogLnJlbW92ZUF0dHJpYnV0ZSgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmRlbGV0ZUF0dHJpYnV0ZSgpLicpO3JldHVybiB0aGlzLmRlbGV0ZUF0dHJpYnV0ZShuYW1lKTt9fSk7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoQnVmZmVyR2VvbWV0cnkucHJvdG90eXBlLHtkcmF3Y2FsbHM6e2dldDpmdW5jdGlvbiBnZXQoKXtjb25zb2xlLmVycm9yKCdUSFJFRS5CdWZmZXJHZW9tZXRyeTogLmRyYXdjYWxscyBoYXMgYmVlbiByZW5hbWVkIHRvIC5ncm91cHMuJyk7cmV0dXJuIHRoaXMuZ3JvdXBzO319LG9mZnNldHM6e2dldDpmdW5jdGlvbiBnZXQoKXtjb25zb2xlLndhcm4oJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5OiAub2Zmc2V0cyBoYXMgYmVlbiByZW5hbWVkIHRvIC5ncm91cHMuJyk7cmV0dXJuIHRoaXMuZ3JvdXBzO319fSk7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoSW50ZXJsZWF2ZWRCdWZmZXIucHJvdG90eXBlLHtkeW5hbWljOntnZXQ6ZnVuY3Rpb24gZ2V0KCl7Y29uc29sZS53YXJuKCdUSFJFRS5JbnRlcmxlYXZlZEJ1ZmZlcjogLmxlbmd0aCBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLnVzYWdlIGluc3RlYWQuJyk7cmV0dXJuIHRoaXMudXNhZ2U9PT1EeW5hbWljRHJhd1VzYWdlO30sc2V0OmZ1bmN0aW9uIHNldCh2YWx1ZSl7Y29uc29sZS53YXJuKCdUSFJFRS5JbnRlcmxlYXZlZEJ1ZmZlcjogLmxlbmd0aCBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLnVzYWdlIGluc3RlYWQuJyk7dGhpcy5zZXRVc2FnZSh2YWx1ZSk7fX19KTtPYmplY3QuYXNzaWduKEludGVybGVhdmVkQnVmZmVyLnByb3RvdHlwZSx7c2V0RHluYW1pYzpmdW5jdGlvbiBzZXREeW5hbWljKHZhbHVlKXtjb25zb2xlLndhcm4oJ1RIUkVFLkludGVybGVhdmVkQnVmZmVyOiAuc2V0RHluYW1pYygpIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAuc2V0VXNhZ2UoKSBpbnN0ZWFkLicpO3RoaXMuc2V0VXNhZ2UodmFsdWU9PT10cnVlP0R5bmFtaWNEcmF3VXNhZ2U6U3RhdGljRHJhd1VzYWdlKTtyZXR1cm4gdGhpczt9LHNldEFycmF5OmZ1bmN0aW9uLyogYXJyYXkgKi9zZXRBcnJheSgpe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLkludGVybGVhdmVkQnVmZmVyOiAuc2V0QXJyYXkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIEJ1ZmZlckdlb21ldHJ5IC5zZXRBdHRyaWJ1dGUgdG8gcmVwbGFjZS9yZXNpemUgYXR0cmlidXRlIGJ1ZmZlcnMnKTt9fSk7Ly8KT2JqZWN0LmFzc2lnbihFeHRydWRlQnVmZmVyR2VvbWV0cnkucHJvdG90eXBlLHtnZXRBcnJheXM6ZnVuY3Rpb24gZ2V0QXJyYXlzKCl7Y29uc29sZS5lcnJvcignVEhSRUUuRXh0cnVkZUJ1ZmZlckdlb21ldHJ5OiAuZ2V0QXJyYXlzKCkgaGFzIGJlZW4gcmVtb3ZlZC4nKTt9LGFkZFNoYXBlTGlzdDpmdW5jdGlvbiBhZGRTaGFwZUxpc3QoKXtjb25zb2xlLmVycm9yKCdUSFJFRS5FeHRydWRlQnVmZmVyR2VvbWV0cnk6IC5hZGRTaGFwZUxpc3QoKSBoYXMgYmVlbiByZW1vdmVkLicpO30sYWRkU2hhcGU6ZnVuY3Rpb24gYWRkU2hhcGUoKXtjb25zb2xlLmVycm9yKCdUSFJFRS5FeHRydWRlQnVmZmVyR2VvbWV0cnk6IC5hZGRTaGFwZSgpIGhhcyBiZWVuIHJlbW92ZWQuJyk7fX0pOy8vCk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFVuaWZvcm0ucHJvdG90eXBlLHtkeW5hbWljOntzZXQ6ZnVuY3Rpb24gc2V0KCl7Y29uc29sZS53YXJuKCdUSFJFRS5Vbmlmb3JtOiAuZHluYW1pYyBoYXMgYmVlbiByZW1vdmVkLiBVc2Ugb2JqZWN0Lm9uQmVmb3JlUmVuZGVyKCkgaW5zdGVhZC4nKTt9fSxvblVwZGF0ZTp7dmFsdWU6ZnVuY3Rpb24gdmFsdWUoKXtjb25zb2xlLndhcm4oJ1RIUkVFLlVuaWZvcm06IC5vblVwZGF0ZSgpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBvYmplY3Qub25CZWZvcmVSZW5kZXIoKSBpbnN0ZWFkLicpO3JldHVybiB0aGlzO319fSk7Ly8KT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoTWF0ZXJpYWwucHJvdG90eXBlLHt3cmFwQXJvdW5kOntnZXQ6ZnVuY3Rpb24gZ2V0KCl7Y29uc29sZS53YXJuKCdUSFJFRS5NYXRlcmlhbDogLndyYXBBcm91bmQgaGFzIGJlZW4gcmVtb3ZlZC4nKTt9LHNldDpmdW5jdGlvbiBzZXQoKXtjb25zb2xlLndhcm4oJ1RIUkVFLk1hdGVyaWFsOiAud3JhcEFyb3VuZCBoYXMgYmVlbiByZW1vdmVkLicpO319LG92ZXJkcmF3OntnZXQ6ZnVuY3Rpb24gZ2V0KCl7Y29uc29sZS53YXJuKCdUSFJFRS5NYXRlcmlhbDogLm92ZXJkcmF3IGhhcyBiZWVuIHJlbW92ZWQuJyk7fSxzZXQ6ZnVuY3Rpb24gc2V0KCl7Y29uc29sZS53YXJuKCdUSFJFRS5NYXRlcmlhbDogLm92ZXJkcmF3IGhhcyBiZWVuIHJlbW92ZWQuJyk7fX0sd3JhcFJHQjp7Z2V0OmZ1bmN0aW9uIGdldCgpe2NvbnNvbGUud2FybignVEhSRUUuTWF0ZXJpYWw6IC53cmFwUkdCIGhhcyBiZWVuIHJlbW92ZWQuJyk7cmV0dXJuIG5ldyBDb2xvcigpO319LHNoYWRpbmc6e2dldDpmdW5jdGlvbiBnZXQoKXtjb25zb2xlLmVycm9yKCdUSFJFRS4nK3RoaXMudHlwZSsnOiAuc2hhZGluZyBoYXMgYmVlbiByZW1vdmVkLiBVc2UgdGhlIGJvb2xlYW4gLmZsYXRTaGFkaW5nIGluc3RlYWQuJyk7fSxzZXQ6ZnVuY3Rpb24gc2V0KHZhbHVlKXtjb25zb2xlLndhcm4oJ1RIUkVFLicrdGhpcy50eXBlKyc6IC5zaGFkaW5nIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSB0aGUgYm9vbGVhbiAuZmxhdFNoYWRpbmcgaW5zdGVhZC4nKTt0aGlzLmZsYXRTaGFkaW5nPXZhbHVlPT09RmxhdFNoYWRpbmc7fX0sc3RlbmNpbE1hc2s6e2dldDpmdW5jdGlvbiBnZXQoKXtjb25zb2xlLndhcm4oJ1RIUkVFLicrdGhpcy50eXBlKyc6IC5zdGVuY2lsTWFzayBoYXMgYmVlbiByZW1vdmVkLiBVc2UgLnN0ZW5jaWxGdW5jTWFzayBpbnN0ZWFkLicpO3JldHVybiB0aGlzLnN0ZW5jaWxGdW5jTWFzazt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe2NvbnNvbGUud2FybignVEhSRUUuJyt0aGlzLnR5cGUrJzogLnN0ZW5jaWxNYXNrIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSAuc3RlbmNpbEZ1bmNNYXNrIGluc3RlYWQuJyk7dGhpcy5zdGVuY2lsRnVuY01hc2s9dmFsdWU7fX19KTtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhNZXNoUGhvbmdNYXRlcmlhbC5wcm90b3R5cGUse21ldGFsOntnZXQ6ZnVuY3Rpb24gZ2V0KCl7Y29uc29sZS53YXJuKCdUSFJFRS5NZXNoUGhvbmdNYXRlcmlhbDogLm1ldGFsIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCBpbnN0ZWFkLicpO3JldHVybiBmYWxzZTt9LHNldDpmdW5jdGlvbiBzZXQoKXtjb25zb2xlLndhcm4oJ1RIUkVFLk1lc2hQaG9uZ01hdGVyaWFsOiAubWV0YWwgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsIGluc3RlYWQnKTt9fX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFNoYWRlck1hdGVyaWFsLnByb3RvdHlwZSx7ZGVyaXZhdGl2ZXM6e2dldDpmdW5jdGlvbiBnZXQoKXtjb25zb2xlLndhcm4oJ1RIUkVFLlNoYWRlck1hdGVyaWFsOiAuZGVyaXZhdGl2ZXMgaGFzIGJlZW4gbW92ZWQgdG8gLmV4dGVuc2lvbnMuZGVyaXZhdGl2ZXMuJyk7cmV0dXJuIHRoaXMuZXh0ZW5zaW9ucy5kZXJpdmF0aXZlczt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe2NvbnNvbGUud2FybignVEhSRUUuIFNoYWRlck1hdGVyaWFsOiAuZGVyaXZhdGl2ZXMgaGFzIGJlZW4gbW92ZWQgdG8gLmV4dGVuc2lvbnMuZGVyaXZhdGl2ZXMuJyk7dGhpcy5leHRlbnNpb25zLmRlcml2YXRpdmVzPXZhbHVlO319fSk7Ly8KT2JqZWN0LmFzc2lnbihXZWJHTFJlbmRlcmVyLnByb3RvdHlwZSx7Y2xlYXJUYXJnZXQ6ZnVuY3Rpb24gY2xlYXJUYXJnZXQocmVuZGVyVGFyZ2V0LGNvbG9yLGRlcHRoLHN0ZW5jaWwpe2NvbnNvbGUud2FybignVEhSRUUuV2ViR0xSZW5kZXJlcjogLmNsZWFyVGFyZ2V0KCkgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC5zZXRSZW5kZXJUYXJnZXQoKSBhbmQgLmNsZWFyKCkgaW5zdGVhZC4nKTt0aGlzLnNldFJlbmRlclRhcmdldChyZW5kZXJUYXJnZXQpO3RoaXMuY2xlYXIoY29sb3IsZGVwdGgsc3RlbmNpbCk7fSxhbmltYXRlOmZ1bmN0aW9uIGFuaW1hdGUoY2FsbGJhY2spe2NvbnNvbGUud2FybignVEhSRUUuV2ViR0xSZW5kZXJlcjogLmFuaW1hdGUoKSBpcyBub3cgLnNldEFuaW1hdGlvbkxvb3AoKS4nKTt0aGlzLnNldEFuaW1hdGlvbkxvb3AoY2FsbGJhY2spO30sZ2V0Q3VycmVudFJlbmRlclRhcmdldDpmdW5jdGlvbiBnZXRDdXJyZW50UmVuZGVyVGFyZ2V0KCl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlcmVyOiAuZ2V0Q3VycmVudFJlbmRlclRhcmdldCgpIGlzIG5vdyAuZ2V0UmVuZGVyVGFyZ2V0KCkuJyk7cmV0dXJuIHRoaXMuZ2V0UmVuZGVyVGFyZ2V0KCk7fSxnZXRNYXhBbmlzb3Ryb3B5OmZ1bmN0aW9uIGdldE1heEFuaXNvdHJvcHkoKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyZXI6IC5nZXRNYXhBbmlzb3Ryb3B5KCkgaXMgbm93IC5jYXBhYmlsaXRpZXMuZ2V0TWF4QW5pc290cm9weSgpLicpO3JldHVybiB0aGlzLmNhcGFiaWxpdGllcy5nZXRNYXhBbmlzb3Ryb3B5KCk7fSxnZXRQcmVjaXNpb246ZnVuY3Rpb24gZ2V0UHJlY2lzaW9uKCl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlcmVyOiAuZ2V0UHJlY2lzaW9uKCkgaXMgbm93IC5jYXBhYmlsaXRpZXMucHJlY2lzaW9uLicpO3JldHVybiB0aGlzLmNhcGFiaWxpdGllcy5wcmVjaXNpb247fSxyZXNldEdMU3RhdGU6ZnVuY3Rpb24gcmVzZXRHTFN0YXRlKCl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlcmVyOiAucmVzZXRHTFN0YXRlKCkgaXMgbm93IC5zdGF0ZS5yZXNldCgpLicpO3JldHVybiB0aGlzLnN0YXRlLnJlc2V0KCk7fSxzdXBwb3J0c0Zsb2F0VGV4dHVyZXM6ZnVuY3Rpb24gc3VwcG9ydHNGbG9hdFRleHR1cmVzKCl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc3VwcG9ydHNGbG9hdFRleHR1cmVzKCkgaXMgbm93IC5leHRlbnNpb25zLmdldCggXCdPRVNfdGV4dHVyZV9mbG9hdFwnICkuJyk7cmV0dXJuIHRoaXMuZXh0ZW5zaW9ucy5nZXQoJ09FU190ZXh0dXJlX2Zsb2F0Jyk7fSxzdXBwb3J0c0hhbGZGbG9hdFRleHR1cmVzOmZ1bmN0aW9uIHN1cHBvcnRzSGFsZkZsb2F0VGV4dHVyZXMoKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyZXI6IC5zdXBwb3J0c0hhbGZGbG9hdFRleHR1cmVzKCkgaXMgbm93IC5leHRlbnNpb25zLmdldCggXCdPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0XCcgKS4nKTtyZXR1cm4gdGhpcy5leHRlbnNpb25zLmdldCgnT0VTX3RleHR1cmVfaGFsZl9mbG9hdCcpO30sc3VwcG9ydHNTdGFuZGFyZERlcml2YXRpdmVzOmZ1bmN0aW9uIHN1cHBvcnRzU3RhbmRhcmREZXJpdmF0aXZlcygpe2NvbnNvbGUud2FybignVEhSRUUuV2ViR0xSZW5kZXJlcjogLnN1cHBvcnRzU3RhbmRhcmREZXJpdmF0aXZlcygpIGlzIG5vdyAuZXh0ZW5zaW9ucy5nZXQoIFwnT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzXCcgKS4nKTtyZXR1cm4gdGhpcy5leHRlbnNpb25zLmdldCgnT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzJyk7fSxzdXBwb3J0c0NvbXByZXNzZWRUZXh0dXJlUzNUQzpmdW5jdGlvbiBzdXBwb3J0c0NvbXByZXNzZWRUZXh0dXJlUzNUQygpe2NvbnNvbGUud2FybignVEhSRUUuV2ViR0xSZW5kZXJlcjogLnN1cHBvcnRzQ29tcHJlc3NlZFRleHR1cmVTM1RDKCkgaXMgbm93IC5leHRlbnNpb25zLmdldCggXCdXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0Y1wnICkuJyk7cmV0dXJuIHRoaXMuZXh0ZW5zaW9ucy5nZXQoJ1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjJyk7fSxzdXBwb3J0c0NvbXByZXNzZWRUZXh0dXJlUFZSVEM6ZnVuY3Rpb24gc3VwcG9ydHNDb21wcmVzc2VkVGV4dHVyZVBWUlRDKCl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc3VwcG9ydHNDb21wcmVzc2VkVGV4dHVyZVBWUlRDKCkgaXMgbm93IC5leHRlbnNpb25zLmdldCggXCdXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfcHZydGNcJyApLicpO3JldHVybiB0aGlzLmV4dGVuc2lvbnMuZ2V0KCdXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfcHZydGMnKTt9LHN1cHBvcnRzQmxlbmRNaW5NYXg6ZnVuY3Rpb24gc3VwcG9ydHNCbGVuZE1pbk1heCgpe2NvbnNvbGUud2FybignVEhSRUUuV2ViR0xSZW5kZXJlcjogLnN1cHBvcnRzQmxlbmRNaW5NYXgoKSBpcyBub3cgLmV4dGVuc2lvbnMuZ2V0KCBcJ0VYVF9ibGVuZF9taW5tYXhcJyApLicpO3JldHVybiB0aGlzLmV4dGVuc2lvbnMuZ2V0KCdFWFRfYmxlbmRfbWlubWF4Jyk7fSxzdXBwb3J0c1ZlcnRleFRleHR1cmVzOmZ1bmN0aW9uIHN1cHBvcnRzVmVydGV4VGV4dHVyZXMoKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyZXI6IC5zdXBwb3J0c1ZlcnRleFRleHR1cmVzKCkgaXMgbm93IC5jYXBhYmlsaXRpZXMudmVydGV4VGV4dHVyZXMuJyk7cmV0dXJuIHRoaXMuY2FwYWJpbGl0aWVzLnZlcnRleFRleHR1cmVzO30sc3VwcG9ydHNJbnN0YW5jZWRBcnJheXM6ZnVuY3Rpb24gc3VwcG9ydHNJbnN0YW5jZWRBcnJheXMoKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyZXI6IC5zdXBwb3J0c0luc3RhbmNlZEFycmF5cygpIGlzIG5vdyAuZXh0ZW5zaW9ucy5nZXQoIFwnQU5HTEVfaW5zdGFuY2VkX2FycmF5c1wnICkuJyk7cmV0dXJuIHRoaXMuZXh0ZW5zaW9ucy5nZXQoJ0FOR0xFX2luc3RhbmNlZF9hcnJheXMnKTt9LGVuYWJsZVNjaXNzb3JUZXN0OmZ1bmN0aW9uIGVuYWJsZVNjaXNzb3JUZXN0KGJvb2xlYW4pe2NvbnNvbGUud2FybignVEhSRUUuV2ViR0xSZW5kZXJlcjogLmVuYWJsZVNjaXNzb3JUZXN0KCkgaXMgbm93IC5zZXRTY2lzc29yVGVzdCgpLicpO3RoaXMuc2V0U2Npc3NvclRlc3QoYm9vbGVhbik7fSxpbml0TWF0ZXJpYWw6ZnVuY3Rpb24gaW5pdE1hdGVyaWFsKCl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlcmVyOiAuaW5pdE1hdGVyaWFsKCkgaGFzIGJlZW4gcmVtb3ZlZC4nKTt9LGFkZFByZVBsdWdpbjpmdW5jdGlvbiBhZGRQcmVQbHVnaW4oKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyZXI6IC5hZGRQcmVQbHVnaW4oKSBoYXMgYmVlbiByZW1vdmVkLicpO30sYWRkUG9zdFBsdWdpbjpmdW5jdGlvbiBhZGRQb3N0UGx1Z2luKCl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlcmVyOiAuYWRkUG9zdFBsdWdpbigpIGhhcyBiZWVuIHJlbW92ZWQuJyk7fSx1cGRhdGVTaGFkb3dNYXA6ZnVuY3Rpb24gdXBkYXRlU2hhZG93TWFwKCl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlcmVyOiAudXBkYXRlU2hhZG93TWFwKCkgaGFzIGJlZW4gcmVtb3ZlZC4nKTt9LHNldEZhY2VDdWxsaW5nOmZ1bmN0aW9uIHNldEZhY2VDdWxsaW5nKCl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc2V0RmFjZUN1bGxpbmcoKSBoYXMgYmVlbiByZW1vdmVkLicpO30sYWxsb2NUZXh0dXJlVW5pdDpmdW5jdGlvbiBhbGxvY1RleHR1cmVVbml0KCl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlcmVyOiAuYWxsb2NUZXh0dXJlVW5pdCgpIGhhcyBiZWVuIHJlbW92ZWQuJyk7fSxzZXRUZXh0dXJlOmZ1bmN0aW9uIHNldFRleHR1cmUoKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyZXI6IC5zZXRUZXh0dXJlKCkgaGFzIGJlZW4gcmVtb3ZlZC4nKTt9LHNldFRleHR1cmUyRDpmdW5jdGlvbiBzZXRUZXh0dXJlMkQoKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyZXI6IC5zZXRUZXh0dXJlMkQoKSBoYXMgYmVlbiByZW1vdmVkLicpO30sc2V0VGV4dHVyZUN1YmU6ZnVuY3Rpb24gc2V0VGV4dHVyZUN1YmUoKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyZXI6IC5zZXRUZXh0dXJlQ3ViZSgpIGhhcyBiZWVuIHJlbW92ZWQuJyk7fSxnZXRBY3RpdmVNaXBNYXBMZXZlbDpmdW5jdGlvbiBnZXRBY3RpdmVNaXBNYXBMZXZlbCgpe2NvbnNvbGUud2FybignVEhSRUUuV2ViR0xSZW5kZXJlcjogLmdldEFjdGl2ZU1pcE1hcExldmVsKCkgaXMgbm93IC5nZXRBY3RpdmVNaXBtYXBMZXZlbCgpLicpO3JldHVybiB0aGlzLmdldEFjdGl2ZU1pcG1hcExldmVsKCk7fX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLHtzaGFkb3dNYXBFbmFibGVkOntnZXQ6ZnVuY3Rpb24gZ2V0KCl7cmV0dXJuIHRoaXMuc2hhZG93TWFwLmVuYWJsZWQ7fSxzZXQ6ZnVuY3Rpb24gc2V0KHZhbHVlKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyZXI6IC5zaGFkb3dNYXBFbmFibGVkIGlzIG5vdyAuc2hhZG93TWFwLmVuYWJsZWQuJyk7dGhpcy5zaGFkb3dNYXAuZW5hYmxlZD12YWx1ZTt9fSxzaGFkb3dNYXBUeXBlOntnZXQ6ZnVuY3Rpb24gZ2V0KCl7cmV0dXJuIHRoaXMuc2hhZG93TWFwLnR5cGU7fSxzZXQ6ZnVuY3Rpb24gc2V0KHZhbHVlKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyZXI6IC5zaGFkb3dNYXBUeXBlIGlzIG5vdyAuc2hhZG93TWFwLnR5cGUuJyk7dGhpcy5zaGFkb3dNYXAudHlwZT12YWx1ZTt9fSxzaGFkb3dNYXBDdWxsRmFjZTp7Z2V0OmZ1bmN0aW9uIGdldCgpe2NvbnNvbGUud2FybignVEhSRUUuV2ViR0xSZW5kZXJlcjogLnNoYWRvd01hcEN1bGxGYWNlIGhhcyBiZWVuIHJlbW92ZWQuIFNldCBNYXRlcmlhbC5zaGFkb3dTaWRlIGluc3RlYWQuJyk7cmV0dXJuIHVuZGVmaW5lZDt9LHNldDpmdW5jdGlvbi8qIHZhbHVlICovc2V0KCl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc2hhZG93TWFwQ3VsbEZhY2UgaGFzIGJlZW4gcmVtb3ZlZC4gU2V0IE1hdGVyaWFsLnNoYWRvd1NpZGUgaW5zdGVhZC4nKTt9fSxjb250ZXh0OntnZXQ6ZnVuY3Rpb24gZ2V0KCl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlcmVyOiAuY29udGV4dCBoYXMgYmVlbiByZW1vdmVkLiBVc2UgLmdldENvbnRleHQoKSBpbnN0ZWFkLicpO3JldHVybiB0aGlzLmdldENvbnRleHQoKTt9fSx2cjp7Z2V0OmZ1bmN0aW9uIGdldCgpe2NvbnNvbGUud2FybignVEhSRUUuV2ViR0xSZW5kZXJlcjogLnZyIGhhcyBiZWVuIHJlbmFtZWQgdG8gLnhyJyk7cmV0dXJuIHRoaXMueHI7fX0sZ2FtbWFJbnB1dDp7Z2V0OmZ1bmN0aW9uIGdldCgpe2NvbnNvbGUud2FybignVEhSRUUuV2ViR0xSZW5kZXJlcjogLmdhbW1hSW5wdXQgaGFzIGJlZW4gcmVtb3ZlZC4gU2V0IHRoZSBlbmNvZGluZyBmb3IgdGV4dHVyZXMgdmlhIFRleHR1cmUuZW5jb2RpbmcgaW5zdGVhZC4nKTtyZXR1cm4gZmFsc2U7fSxzZXQ6ZnVuY3Rpb24gc2V0KCl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlcmVyOiAuZ2FtbWFJbnB1dCBoYXMgYmVlbiByZW1vdmVkLiBTZXQgdGhlIGVuY29kaW5nIGZvciB0ZXh0dXJlcyB2aWEgVGV4dHVyZS5lbmNvZGluZyBpbnN0ZWFkLicpO319LGdhbW1hT3V0cHV0OntnZXQ6ZnVuY3Rpb24gZ2V0KCl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlcmVyOiAuZ2FtbWFPdXRwdXQgaGFzIGJlZW4gcmVtb3ZlZC4gU2V0IFdlYkdMUmVuZGVyZXIub3V0cHV0RW5jb2RpbmcgaW5zdGVhZC4nKTtyZXR1cm4gZmFsc2U7fSxzZXQ6ZnVuY3Rpb24gc2V0KHZhbHVlKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyZXI6IC5nYW1tYU91dHB1dCBoYXMgYmVlbiByZW1vdmVkLiBTZXQgV2ViR0xSZW5kZXJlci5vdXRwdXRFbmNvZGluZyBpbnN0ZWFkLicpO3RoaXMub3V0cHV0RW5jb2Rpbmc9dmFsdWU9PT10cnVlP3NSR0JFbmNvZGluZzpMaW5lYXJFbmNvZGluZzt9fX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFdlYkdMU2hhZG93TWFwLnByb3RvdHlwZSx7Y3VsbEZhY2U6e2dldDpmdW5jdGlvbiBnZXQoKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyZXI6IC5zaGFkb3dNYXAuY3VsbEZhY2UgaGFzIGJlZW4gcmVtb3ZlZC4gU2V0IE1hdGVyaWFsLnNoYWRvd1NpZGUgaW5zdGVhZC4nKTtyZXR1cm4gdW5kZWZpbmVkO30sc2V0OmZ1bmN0aW9uLyogY3VsbEZhY2UgKi9zZXQoKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyZXI6IC5zaGFkb3dNYXAuY3VsbEZhY2UgaGFzIGJlZW4gcmVtb3ZlZC4gU2V0IE1hdGVyaWFsLnNoYWRvd1NpZGUgaW5zdGVhZC4nKTt9fSxyZW5kZXJSZXZlcnNlU2lkZWQ6e2dldDpmdW5jdGlvbiBnZXQoKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyZXI6IC5zaGFkb3dNYXAucmVuZGVyUmV2ZXJzZVNpZGVkIGhhcyBiZWVuIHJlbW92ZWQuIFNldCBNYXRlcmlhbC5zaGFkb3dTaWRlIGluc3RlYWQuJyk7cmV0dXJuIHVuZGVmaW5lZDt9LHNldDpmdW5jdGlvbiBzZXQoKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyZXI6IC5zaGFkb3dNYXAucmVuZGVyUmV2ZXJzZVNpZGVkIGhhcyBiZWVuIHJlbW92ZWQuIFNldCBNYXRlcmlhbC5zaGFkb3dTaWRlIGluc3RlYWQuJyk7fX0scmVuZGVyU2luZ2xlU2lkZWQ6e2dldDpmdW5jdGlvbiBnZXQoKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyZXI6IC5zaGFkb3dNYXAucmVuZGVyU2luZ2xlU2lkZWQgaGFzIGJlZW4gcmVtb3ZlZC4gU2V0IE1hdGVyaWFsLnNoYWRvd1NpZGUgaW5zdGVhZC4nKTtyZXR1cm4gdW5kZWZpbmVkO30sc2V0OmZ1bmN0aW9uIHNldCgpe2NvbnNvbGUud2FybignVEhSRUUuV2ViR0xSZW5kZXJlcjogLnNoYWRvd01hcC5yZW5kZXJTaW5nbGVTaWRlZCBoYXMgYmVlbiByZW1vdmVkLiBTZXQgTWF0ZXJpYWwuc2hhZG93U2lkZSBpbnN0ZWFkLicpO319fSk7Ly8KT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoV2ViR0xSZW5kZXJUYXJnZXRDdWJlLnByb3RvdHlwZSx7YWN0aXZlQ3ViZUZhY2U6e3NldDpmdW5jdGlvbi8qIHZhbHVlICovc2V0KCl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlclRhcmdldEN1YmU6IC5hY3RpdmVDdWJlRmFjZSBoYXMgYmVlbiByZW1vdmVkLiBJdCBpcyBub3cgdGhlIHNlY29uZCBwYXJhbWV0ZXIgb2YgV2ViR0xSZW5kZXJlci5zZXRSZW5kZXJUYXJnZXQoKS4nKTt9fSxhY3RpdmVNaXBNYXBMZXZlbDp7c2V0OmZ1bmN0aW9uLyogdmFsdWUgKi9zZXQoKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyVGFyZ2V0Q3ViZTogLmFjdGl2ZU1pcE1hcExldmVsIGhhcyBiZWVuIHJlbW92ZWQuIEl0IGlzIG5vdyB0aGUgdGhpcmQgcGFyYW1ldGVyIG9mIFdlYkdMUmVuZGVyZXIuc2V0UmVuZGVyVGFyZ2V0KCkuJyk7fX19KTsvLwpPYmplY3QuZGVmaW5lUHJvcGVydGllcyhXZWJHTFJlbmRlclRhcmdldC5wcm90b3R5cGUse3dyYXBTOntnZXQ6ZnVuY3Rpb24gZ2V0KCl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLndyYXBTIGlzIG5vdyAudGV4dHVyZS53cmFwUy4nKTtyZXR1cm4gdGhpcy50ZXh0dXJlLndyYXBTO30sc2V0OmZ1bmN0aW9uIHNldCh2YWx1ZSl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLndyYXBTIGlzIG5vdyAudGV4dHVyZS53cmFwUy4nKTt0aGlzLnRleHR1cmUud3JhcFM9dmFsdWU7fX0sd3JhcFQ6e2dldDpmdW5jdGlvbiBnZXQoKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyVGFyZ2V0OiAud3JhcFQgaXMgbm93IC50ZXh0dXJlLndyYXBULicpO3JldHVybiB0aGlzLnRleHR1cmUud3JhcFQ7fSxzZXQ6ZnVuY3Rpb24gc2V0KHZhbHVlKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyVGFyZ2V0OiAud3JhcFQgaXMgbm93IC50ZXh0dXJlLndyYXBULicpO3RoaXMudGV4dHVyZS53cmFwVD12YWx1ZTt9fSxtYWdGaWx0ZXI6e2dldDpmdW5jdGlvbiBnZXQoKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyVGFyZ2V0OiAubWFnRmlsdGVyIGlzIG5vdyAudGV4dHVyZS5tYWdGaWx0ZXIuJyk7cmV0dXJuIHRoaXMudGV4dHVyZS5tYWdGaWx0ZXI7fSxzZXQ6ZnVuY3Rpb24gc2V0KHZhbHVlKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyVGFyZ2V0OiAubWFnRmlsdGVyIGlzIG5vdyAudGV4dHVyZS5tYWdGaWx0ZXIuJyk7dGhpcy50ZXh0dXJlLm1hZ0ZpbHRlcj12YWx1ZTt9fSxtaW5GaWx0ZXI6e2dldDpmdW5jdGlvbiBnZXQoKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyVGFyZ2V0OiAubWluRmlsdGVyIGlzIG5vdyAudGV4dHVyZS5taW5GaWx0ZXIuJyk7cmV0dXJuIHRoaXMudGV4dHVyZS5taW5GaWx0ZXI7fSxzZXQ6ZnVuY3Rpb24gc2V0KHZhbHVlKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyVGFyZ2V0OiAubWluRmlsdGVyIGlzIG5vdyAudGV4dHVyZS5taW5GaWx0ZXIuJyk7dGhpcy50ZXh0dXJlLm1pbkZpbHRlcj12YWx1ZTt9fSxhbmlzb3Ryb3B5OntnZXQ6ZnVuY3Rpb24gZ2V0KCl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLmFuaXNvdHJvcHkgaXMgbm93IC50ZXh0dXJlLmFuaXNvdHJvcHkuJyk7cmV0dXJuIHRoaXMudGV4dHVyZS5hbmlzb3Ryb3B5O30sc2V0OmZ1bmN0aW9uIHNldCh2YWx1ZSl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLmFuaXNvdHJvcHkgaXMgbm93IC50ZXh0dXJlLmFuaXNvdHJvcHkuJyk7dGhpcy50ZXh0dXJlLmFuaXNvdHJvcHk9dmFsdWU7fX0sb2Zmc2V0OntnZXQ6ZnVuY3Rpb24gZ2V0KCl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLm9mZnNldCBpcyBub3cgLnRleHR1cmUub2Zmc2V0LicpO3JldHVybiB0aGlzLnRleHR1cmUub2Zmc2V0O30sc2V0OmZ1bmN0aW9uIHNldCh2YWx1ZSl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLm9mZnNldCBpcyBub3cgLnRleHR1cmUub2Zmc2V0LicpO3RoaXMudGV4dHVyZS5vZmZzZXQ9dmFsdWU7fX0scmVwZWF0OntnZXQ6ZnVuY3Rpb24gZ2V0KCl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLnJlcGVhdCBpcyBub3cgLnRleHR1cmUucmVwZWF0LicpO3JldHVybiB0aGlzLnRleHR1cmUucmVwZWF0O30sc2V0OmZ1bmN0aW9uIHNldCh2YWx1ZSl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLnJlcGVhdCBpcyBub3cgLnRleHR1cmUucmVwZWF0LicpO3RoaXMudGV4dHVyZS5yZXBlYXQ9dmFsdWU7fX0sZm9ybWF0OntnZXQ6ZnVuY3Rpb24gZ2V0KCl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLmZvcm1hdCBpcyBub3cgLnRleHR1cmUuZm9ybWF0LicpO3JldHVybiB0aGlzLnRleHR1cmUuZm9ybWF0O30sc2V0OmZ1bmN0aW9uIHNldCh2YWx1ZSl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLmZvcm1hdCBpcyBub3cgLnRleHR1cmUuZm9ybWF0LicpO3RoaXMudGV4dHVyZS5mb3JtYXQ9dmFsdWU7fX0sdHlwZTp7Z2V0OmZ1bmN0aW9uIGdldCgpe2NvbnNvbGUud2FybignVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC50eXBlIGlzIG5vdyAudGV4dHVyZS50eXBlLicpO3JldHVybiB0aGlzLnRleHR1cmUudHlwZTt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe2NvbnNvbGUud2FybignVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC50eXBlIGlzIG5vdyAudGV4dHVyZS50eXBlLicpO3RoaXMudGV4dHVyZS50eXBlPXZhbHVlO319LGdlbmVyYXRlTWlwbWFwczp7Z2V0OmZ1bmN0aW9uIGdldCgpe2NvbnNvbGUud2FybignVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC5nZW5lcmF0ZU1pcG1hcHMgaXMgbm93IC50ZXh0dXJlLmdlbmVyYXRlTWlwbWFwcy4nKTtyZXR1cm4gdGhpcy50ZXh0dXJlLmdlbmVyYXRlTWlwbWFwczt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe2NvbnNvbGUud2FybignVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC5nZW5lcmF0ZU1pcG1hcHMgaXMgbm93IC50ZXh0dXJlLmdlbmVyYXRlTWlwbWFwcy4nKTt0aGlzLnRleHR1cmUuZ2VuZXJhdGVNaXBtYXBzPXZhbHVlO319fSk7Ly8KT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoQXVkaW8ucHJvdG90eXBlLHtsb2FkOnt2YWx1ZTpmdW5jdGlvbiB2YWx1ZShmaWxlKXtjb25zb2xlLndhcm4oJ1RIUkVFLkF1ZGlvOiAubG9hZCBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgVEhSRUUuQXVkaW9Mb2FkZXIgaW5zdGVhZC4nKTt2YXIgc2NvcGU9dGhpczt2YXIgYXVkaW9Mb2FkZXI9bmV3IEF1ZGlvTG9hZGVyKCk7YXVkaW9Mb2FkZXIubG9hZChmaWxlLGZ1bmN0aW9uKGJ1ZmZlcil7c2NvcGUuc2V0QnVmZmVyKGJ1ZmZlcik7fSk7cmV0dXJuIHRoaXM7fX0sc3RhcnRUaW1lOntzZXQ6ZnVuY3Rpb24gc2V0KCl7Y29uc29sZS53YXJuKCdUSFJFRS5BdWRpbzogLnN0YXJ0VGltZSBpcyBub3cgLnBsYXkoIGRlbGF5ICkuJyk7fX19KTtBdWRpb0FuYWx5c2VyLnByb3RvdHlwZS5nZXREYXRhPWZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCdUSFJFRS5BdWRpb0FuYWx5c2VyOiAuZ2V0RGF0YSgpIGlzIG5vdyAuZ2V0RnJlcXVlbmN5RGF0YSgpLicpO3JldHVybiB0aGlzLmdldEZyZXF1ZW5jeURhdGEoKTt9Oy8vCkN1YmVDYW1lcmEucHJvdG90eXBlLnVwZGF0ZUN1YmVNYXA9ZnVuY3Rpb24ocmVuZGVyZXIsc2NlbmUpe2NvbnNvbGUud2FybignVEhSRUUuQ3ViZUNhbWVyYTogLnVwZGF0ZUN1YmVNYXAoKSBpcyBub3cgLnVwZGF0ZSgpLicpO3JldHVybiB0aGlzLnVwZGF0ZShyZW5kZXJlcixzY2VuZSk7fTsvLwp2YXIgR2VvbWV0cnlVdGlscz17bWVyZ2U6ZnVuY3Rpb24gbWVyZ2UoZ2VvbWV0cnkxLGdlb21ldHJ5MixtYXRlcmlhbEluZGV4T2Zmc2V0KXtjb25zb2xlLndhcm4oJ1RIUkVFLkdlb21ldHJ5VXRpbHM6IC5tZXJnZSgpIGhhcyBiZWVuIG1vdmVkIHRvIEdlb21ldHJ5LiBVc2UgZ2VvbWV0cnkubWVyZ2UoIGdlb21ldHJ5MiwgbWF0cml4LCBtYXRlcmlhbEluZGV4T2Zmc2V0ICkgaW5zdGVhZC4nKTt2YXIgbWF0cml4O2lmKGdlb21ldHJ5Mi5pc01lc2gpe2dlb21ldHJ5Mi5tYXRyaXhBdXRvVXBkYXRlJiZnZW9tZXRyeTIudXBkYXRlTWF0cml4KCk7bWF0cml4PWdlb21ldHJ5Mi5tYXRyaXg7Z2VvbWV0cnkyPWdlb21ldHJ5Mi5nZW9tZXRyeTt9Z2VvbWV0cnkxLm1lcmdlKGdlb21ldHJ5MixtYXRyaXgsbWF0ZXJpYWxJbmRleE9mZnNldCk7fSxjZW50ZXI6ZnVuY3Rpb24gY2VudGVyKGdlb21ldHJ5KXtjb25zb2xlLndhcm4oJ1RIUkVFLkdlb21ldHJ5VXRpbHM6IC5jZW50ZXIoKSBoYXMgYmVlbiBtb3ZlZCB0byBHZW9tZXRyeS4gVXNlIGdlb21ldHJ5LmNlbnRlcigpIGluc3RlYWQuJyk7cmV0dXJuIGdlb21ldHJ5LmNlbnRlcigpO319O0ltYWdlVXRpbHMuY3Jvc3NPcmlnaW49dW5kZWZpbmVkO0ltYWdlVXRpbHMubG9hZFRleHR1cmU9ZnVuY3Rpb24odXJsLG1hcHBpbmcsb25Mb2FkLG9uRXJyb3Ipe2NvbnNvbGUud2FybignVEhSRUUuSW1hZ2VVdGlscy5sb2FkVGV4dHVyZSBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgVEhSRUUuVGV4dHVyZUxvYWRlcigpIGluc3RlYWQuJyk7dmFyIGxvYWRlcj1uZXcgVGV4dHVyZUxvYWRlcigpO2xvYWRlci5zZXRDcm9zc09yaWdpbih0aGlzLmNyb3NzT3JpZ2luKTt2YXIgdGV4dHVyZT1sb2FkZXIubG9hZCh1cmwsb25Mb2FkLHVuZGVmaW5lZCxvbkVycm9yKTtpZihtYXBwaW5nKXt0ZXh0dXJlLm1hcHBpbmc9bWFwcGluZzt9cmV0dXJuIHRleHR1cmU7fTtJbWFnZVV0aWxzLmxvYWRUZXh0dXJlQ3ViZT1mdW5jdGlvbih1cmxzLG1hcHBpbmcsb25Mb2FkLG9uRXJyb3Ipe2NvbnNvbGUud2FybignVEhSRUUuSW1hZ2VVdGlscy5sb2FkVGV4dHVyZUN1YmUgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIFRIUkVFLkN1YmVUZXh0dXJlTG9hZGVyKCkgaW5zdGVhZC4nKTt2YXIgbG9hZGVyPW5ldyBDdWJlVGV4dHVyZUxvYWRlcigpO2xvYWRlci5zZXRDcm9zc09yaWdpbih0aGlzLmNyb3NzT3JpZ2luKTt2YXIgdGV4dHVyZT1sb2FkZXIubG9hZCh1cmxzLG9uTG9hZCx1bmRlZmluZWQsb25FcnJvcik7aWYobWFwcGluZyl7dGV4dHVyZS5tYXBwaW5nPW1hcHBpbmc7fXJldHVybiB0ZXh0dXJlO307SW1hZ2VVdGlscy5sb2FkQ29tcHJlc3NlZFRleHR1cmU9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCdUSFJFRS5JbWFnZVV0aWxzLmxvYWRDb21wcmVzc2VkVGV4dHVyZSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgVEhSRUUuRERTTG9hZGVyIGluc3RlYWQuJyk7fTtJbWFnZVV0aWxzLmxvYWRDb21wcmVzc2VkVGV4dHVyZUN1YmU9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCdUSFJFRS5JbWFnZVV0aWxzLmxvYWRDb21wcmVzc2VkVGV4dHVyZUN1YmUgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIFRIUkVFLkREU0xvYWRlciBpbnN0ZWFkLicpO307Ly8KZnVuY3Rpb24gQ2FudmFzUmVuZGVyZXIoKXtjb25zb2xlLmVycm9yKCdUSFJFRS5DYW52YXNSZW5kZXJlciBoYXMgYmVlbiByZW1vdmVkJyk7fS8vCmZ1bmN0aW9uIEpTT05Mb2FkZXIoKXtjb25zb2xlLmVycm9yKCdUSFJFRS5KU09OTG9hZGVyIGhhcyBiZWVuIHJlbW92ZWQuJyk7fS8vCnZhciBTY2VuZVV0aWxzPXtjcmVhdGVNdWx0aU1hdGVyaWFsT2JqZWN0OmZ1bmN0aW9uLyogZ2VvbWV0cnksIG1hdGVyaWFscyAqL2NyZWF0ZU11bHRpTWF0ZXJpYWxPYmplY3QoKXtjb25zb2xlLmVycm9yKCdUSFJFRS5TY2VuZVV0aWxzIGhhcyBiZWVuIG1vdmVkIHRvIC9leGFtcGxlcy9qcy91dGlscy9TY2VuZVV0aWxzLmpzJyk7fSxkZXRhY2g6ZnVuY3Rpb24vKiBjaGlsZCwgcGFyZW50LCBzY2VuZSAqL2RldGFjaCgpe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLlNjZW5lVXRpbHMgaGFzIGJlZW4gbW92ZWQgdG8gL2V4YW1wbGVzL2pzL3V0aWxzL1NjZW5lVXRpbHMuanMnKTt9LGF0dGFjaDpmdW5jdGlvbi8qIGNoaWxkLCBzY2VuZSwgcGFyZW50ICovYXR0YWNoKCl7Y29uc29sZS5lcnJvcignVEhSRUUuU2NlbmVVdGlscyBoYXMgYmVlbiBtb3ZlZCB0byAvZXhhbXBsZXMvanMvdXRpbHMvU2NlbmVVdGlscy5qcycpO319Oy8vCmZ1bmN0aW9uIExlbnNGbGFyZSgpe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLkxlbnNGbGFyZSBoYXMgYmVlbiBtb3ZlZCB0byAvZXhhbXBsZXMvanMvb2JqZWN0cy9MZW5zZmxhcmUuanMnKTt9aWYodHlwZW9mIF9fVEhSRUVfREVWVE9PTFNfXyE9PSd1bmRlZmluZWQnKXsvKiBlc2xpbnQtZGlzYWJsZSBuby11bmRlZiAqL19fVEhSRUVfREVWVE9PTFNfXy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgncmVnaXN0ZXInLHtkZXRhaWw6e3JldmlzaW9uOlJFVklTSU9OfX0pKTsvKiBlc2xpbnQtZW5hYmxlIG5vLXVuZGVmICovfWV4cG9ydHMuQUNFU0ZpbG1pY1RvbmVNYXBwaW5nPUFDRVNGaWxtaWNUb25lTWFwcGluZztleHBvcnRzLkFkZEVxdWF0aW9uPUFkZEVxdWF0aW9uO2V4cG9ydHMuQWRkT3BlcmF0aW9uPUFkZE9wZXJhdGlvbjtleHBvcnRzLkFkZGl0aXZlQmxlbmRpbmc9QWRkaXRpdmVCbGVuZGluZztleHBvcnRzLkFscGhhRm9ybWF0PUFscGhhRm9ybWF0O2V4cG9ydHMuQWx3YXlzRGVwdGg9QWx3YXlzRGVwdGg7ZXhwb3J0cy5BbHdheXNTdGVuY2lsRnVuYz1BbHdheXNTdGVuY2lsRnVuYztleHBvcnRzLkFtYmllbnRMaWdodD1BbWJpZW50TGlnaHQ7ZXhwb3J0cy5BbWJpZW50TGlnaHRQcm9iZT1BbWJpZW50TGlnaHRQcm9iZTtleHBvcnRzLkFuaW1hdGlvbkNsaXA9QW5pbWF0aW9uQ2xpcDtleHBvcnRzLkFuaW1hdGlvbkxvYWRlcj1BbmltYXRpb25Mb2FkZXI7ZXhwb3J0cy5BbmltYXRpb25NaXhlcj1BbmltYXRpb25NaXhlcjtleHBvcnRzLkFuaW1hdGlvbk9iamVjdEdyb3VwPUFuaW1hdGlvbk9iamVjdEdyb3VwO2V4cG9ydHMuQW5pbWF0aW9uVXRpbHM9QW5pbWF0aW9uVXRpbHM7ZXhwb3J0cy5BcmNDdXJ2ZT1BcmNDdXJ2ZTtleHBvcnRzLkFycmF5Q2FtZXJhPUFycmF5Q2FtZXJhO2V4cG9ydHMuQXJyb3dIZWxwZXI9QXJyb3dIZWxwZXI7ZXhwb3J0cy5BdWRpbz1BdWRpbztleHBvcnRzLkF1ZGlvQW5hbHlzZXI9QXVkaW9BbmFseXNlcjtleHBvcnRzLkF1ZGlvQ29udGV4dD1BdWRpb0NvbnRleHQ7ZXhwb3J0cy5BdWRpb0xpc3RlbmVyPUF1ZGlvTGlzdGVuZXI7ZXhwb3J0cy5BdWRpb0xvYWRlcj1BdWRpb0xvYWRlcjtleHBvcnRzLkF4ZXNIZWxwZXI9QXhlc0hlbHBlcjtleHBvcnRzLkF4aXNIZWxwZXI9QXhpc0hlbHBlcjtleHBvcnRzLkJhY2tTaWRlPUJhY2tTaWRlO2V4cG9ydHMuQmFzaWNEZXB0aFBhY2tpbmc9QmFzaWNEZXB0aFBhY2tpbmc7ZXhwb3J0cy5CYXNpY1NoYWRvd01hcD1CYXNpY1NoYWRvd01hcDtleHBvcnRzLkJpbmFyeVRleHR1cmVMb2FkZXI9QmluYXJ5VGV4dHVyZUxvYWRlcjtleHBvcnRzLkJvbmU9Qm9uZTtleHBvcnRzLkJvb2xlYW5LZXlmcmFtZVRyYWNrPUJvb2xlYW5LZXlmcmFtZVRyYWNrO2V4cG9ydHMuQm91bmRpbmdCb3hIZWxwZXI9Qm91bmRpbmdCb3hIZWxwZXI7ZXhwb3J0cy5Cb3gyPUJveDI7ZXhwb3J0cy5Cb3gzPUJveDM7ZXhwb3J0cy5Cb3gzSGVscGVyPUJveDNIZWxwZXI7ZXhwb3J0cy5Cb3hCdWZmZXJHZW9tZXRyeT1Cb3hCdWZmZXJHZW9tZXRyeTtleHBvcnRzLkJveEdlb21ldHJ5PUJveEdlb21ldHJ5O2V4cG9ydHMuQm94SGVscGVyPUJveEhlbHBlcjtleHBvcnRzLkJ1ZmZlckF0dHJpYnV0ZT1CdWZmZXJBdHRyaWJ1dGU7ZXhwb3J0cy5CdWZmZXJHZW9tZXRyeT1CdWZmZXJHZW9tZXRyeTtleHBvcnRzLkJ1ZmZlckdlb21ldHJ5TG9hZGVyPUJ1ZmZlckdlb21ldHJ5TG9hZGVyO2V4cG9ydHMuQnl0ZVR5cGU9Qnl0ZVR5cGU7ZXhwb3J0cy5DYWNoZT1DYWNoZTtleHBvcnRzLkNhbWVyYT1DYW1lcmE7ZXhwb3J0cy5DYW1lcmFIZWxwZXI9Q2FtZXJhSGVscGVyO2V4cG9ydHMuQ2FudmFzUmVuZGVyZXI9Q2FudmFzUmVuZGVyZXI7ZXhwb3J0cy5DYW52YXNUZXh0dXJlPUNhbnZhc1RleHR1cmU7ZXhwb3J0cy5DYXRtdWxsUm9tQ3VydmUzPUNhdG11bGxSb21DdXJ2ZTM7ZXhwb3J0cy5DaW5lb25Ub25lTWFwcGluZz1DaW5lb25Ub25lTWFwcGluZztleHBvcnRzLkNpcmNsZUJ1ZmZlckdlb21ldHJ5PUNpcmNsZUJ1ZmZlckdlb21ldHJ5O2V4cG9ydHMuQ2lyY2xlR2VvbWV0cnk9Q2lyY2xlR2VvbWV0cnk7ZXhwb3J0cy5DbGFtcFRvRWRnZVdyYXBwaW5nPUNsYW1wVG9FZGdlV3JhcHBpbmc7ZXhwb3J0cy5DbG9jaz1DbG9jaztleHBvcnRzLkNsb3NlZFNwbGluZUN1cnZlMz1DbG9zZWRTcGxpbmVDdXJ2ZTM7ZXhwb3J0cy5Db2xvcj1Db2xvcjtleHBvcnRzLkNvbG9yS2V5ZnJhbWVUcmFjaz1Db2xvcktleWZyYW1lVHJhY2s7ZXhwb3J0cy5Db21wcmVzc2VkVGV4dHVyZT1Db21wcmVzc2VkVGV4dHVyZTtleHBvcnRzLkNvbXByZXNzZWRUZXh0dXJlTG9hZGVyPUNvbXByZXNzZWRUZXh0dXJlTG9hZGVyO2V4cG9ydHMuQ29uZUJ1ZmZlckdlb21ldHJ5PUNvbmVCdWZmZXJHZW9tZXRyeTtleHBvcnRzLkNvbmVHZW9tZXRyeT1Db25lR2VvbWV0cnk7ZXhwb3J0cy5DdWJlQ2FtZXJhPUN1YmVDYW1lcmE7ZXhwb3J0cy5DdWJlR2VvbWV0cnk9Qm94R2VvbWV0cnk7ZXhwb3J0cy5DdWJlUmVmbGVjdGlvbk1hcHBpbmc9Q3ViZVJlZmxlY3Rpb25NYXBwaW5nO2V4cG9ydHMuQ3ViZVJlZnJhY3Rpb25NYXBwaW5nPUN1YmVSZWZyYWN0aW9uTWFwcGluZztleHBvcnRzLkN1YmVUZXh0dXJlPUN1YmVUZXh0dXJlO2V4cG9ydHMuQ3ViZVRleHR1cmVMb2FkZXI9Q3ViZVRleHR1cmVMb2FkZXI7ZXhwb3J0cy5DdWJlVVZSZWZsZWN0aW9uTWFwcGluZz1DdWJlVVZSZWZsZWN0aW9uTWFwcGluZztleHBvcnRzLkN1YmVVVlJlZnJhY3Rpb25NYXBwaW5nPUN1YmVVVlJlZnJhY3Rpb25NYXBwaW5nO2V4cG9ydHMuQ3ViaWNCZXppZXJDdXJ2ZT1DdWJpY0JlemllckN1cnZlO2V4cG9ydHMuQ3ViaWNCZXppZXJDdXJ2ZTM9Q3ViaWNCZXppZXJDdXJ2ZTM7ZXhwb3J0cy5DdWJpY0ludGVycG9sYW50PUN1YmljSW50ZXJwb2xhbnQ7ZXhwb3J0cy5DdWxsRmFjZUJhY2s9Q3VsbEZhY2VCYWNrO2V4cG9ydHMuQ3VsbEZhY2VGcm9udD1DdWxsRmFjZUZyb250O2V4cG9ydHMuQ3VsbEZhY2VGcm9udEJhY2s9Q3VsbEZhY2VGcm9udEJhY2s7ZXhwb3J0cy5DdWxsRmFjZU5vbmU9Q3VsbEZhY2VOb25lO2V4cG9ydHMuQ3VydmU9Q3VydmU7ZXhwb3J0cy5DdXJ2ZVBhdGg9Q3VydmVQYXRoO2V4cG9ydHMuQ3VzdG9tQmxlbmRpbmc9Q3VzdG9tQmxlbmRpbmc7ZXhwb3J0cy5DeWxpbmRlckJ1ZmZlckdlb21ldHJ5PUN5bGluZGVyQnVmZmVyR2VvbWV0cnk7ZXhwb3J0cy5DeWxpbmRlckdlb21ldHJ5PUN5bGluZGVyR2VvbWV0cnk7ZXhwb3J0cy5DeWxpbmRyaWNhbD1DeWxpbmRyaWNhbDtleHBvcnRzLkRhdGFUZXh0dXJlPURhdGFUZXh0dXJlO2V4cG9ydHMuRGF0YVRleHR1cmUyREFycmF5PURhdGFUZXh0dXJlMkRBcnJheTtleHBvcnRzLkRhdGFUZXh0dXJlM0Q9RGF0YVRleHR1cmUzRDtleHBvcnRzLkRhdGFUZXh0dXJlTG9hZGVyPURhdGFUZXh0dXJlTG9hZGVyO2V4cG9ydHMuRGVjcmVtZW50U3RlbmNpbE9wPURlY3JlbWVudFN0ZW5jaWxPcDtleHBvcnRzLkRlY3JlbWVudFdyYXBTdGVuY2lsT3A9RGVjcmVtZW50V3JhcFN0ZW5jaWxPcDtleHBvcnRzLkRlZmF1bHRMb2FkaW5nTWFuYWdlcj1EZWZhdWx0TG9hZGluZ01hbmFnZXI7ZXhwb3J0cy5EZXB0aEZvcm1hdD1EZXB0aEZvcm1hdDtleHBvcnRzLkRlcHRoU3RlbmNpbEZvcm1hdD1EZXB0aFN0ZW5jaWxGb3JtYXQ7ZXhwb3J0cy5EZXB0aFRleHR1cmU9RGVwdGhUZXh0dXJlO2V4cG9ydHMuRGlyZWN0aW9uYWxMaWdodD1EaXJlY3Rpb25hbExpZ2h0O2V4cG9ydHMuRGlyZWN0aW9uYWxMaWdodEhlbHBlcj1EaXJlY3Rpb25hbExpZ2h0SGVscGVyO2V4cG9ydHMuRGlyZWN0aW9uYWxMaWdodFNoYWRvdz1EaXJlY3Rpb25hbExpZ2h0U2hhZG93O2V4cG9ydHMuRGlzY3JldGVJbnRlcnBvbGFudD1EaXNjcmV0ZUludGVycG9sYW50O2V4cG9ydHMuRG9kZWNhaGVkcm9uQnVmZmVyR2VvbWV0cnk9RG9kZWNhaGVkcm9uQnVmZmVyR2VvbWV0cnk7ZXhwb3J0cy5Eb2RlY2FoZWRyb25HZW9tZXRyeT1Eb2RlY2FoZWRyb25HZW9tZXRyeTtleHBvcnRzLkRvdWJsZVNpZGU9RG91YmxlU2lkZTtleHBvcnRzLkRzdEFscGhhRmFjdG9yPURzdEFscGhhRmFjdG9yO2V4cG9ydHMuRHN0Q29sb3JGYWN0b3I9RHN0Q29sb3JGYWN0b3I7ZXhwb3J0cy5EeW5hbWljQnVmZmVyQXR0cmlidXRlPUR5bmFtaWNCdWZmZXJBdHRyaWJ1dGU7ZXhwb3J0cy5EeW5hbWljQ29weVVzYWdlPUR5bmFtaWNDb3B5VXNhZ2U7ZXhwb3J0cy5EeW5hbWljRHJhd1VzYWdlPUR5bmFtaWNEcmF3VXNhZ2U7ZXhwb3J0cy5EeW5hbWljUmVhZFVzYWdlPUR5bmFtaWNSZWFkVXNhZ2U7ZXhwb3J0cy5FZGdlc0dlb21ldHJ5PUVkZ2VzR2VvbWV0cnk7ZXhwb3J0cy5FZGdlc0hlbHBlcj1FZGdlc0hlbHBlcjtleHBvcnRzLkVsbGlwc2VDdXJ2ZT1FbGxpcHNlQ3VydmU7ZXhwb3J0cy5FcXVhbERlcHRoPUVxdWFsRGVwdGg7ZXhwb3J0cy5FcXVhbFN0ZW5jaWxGdW5jPUVxdWFsU3RlbmNpbEZ1bmM7ZXhwb3J0cy5FcXVpcmVjdGFuZ3VsYXJSZWZsZWN0aW9uTWFwcGluZz1FcXVpcmVjdGFuZ3VsYXJSZWZsZWN0aW9uTWFwcGluZztleHBvcnRzLkVxdWlyZWN0YW5ndWxhclJlZnJhY3Rpb25NYXBwaW5nPUVxdWlyZWN0YW5ndWxhclJlZnJhY3Rpb25NYXBwaW5nO2V4cG9ydHMuRXVsZXI9RXVsZXI7ZXhwb3J0cy5FdmVudERpc3BhdGNoZXI9RXZlbnREaXNwYXRjaGVyO2V4cG9ydHMuRXh0cnVkZUJ1ZmZlckdlb21ldHJ5PUV4dHJ1ZGVCdWZmZXJHZW9tZXRyeTtleHBvcnRzLkV4dHJ1ZGVHZW9tZXRyeT1FeHRydWRlR2VvbWV0cnk7ZXhwb3J0cy5GYWNlMz1GYWNlMztleHBvcnRzLkZhY2U0PUZhY2U0O2V4cG9ydHMuRmFjZUNvbG9ycz1GYWNlQ29sb3JzO2V4cG9ydHMuRmlsZUxvYWRlcj1GaWxlTG9hZGVyO2V4cG9ydHMuRmxhdFNoYWRpbmc9RmxhdFNoYWRpbmc7ZXhwb3J0cy5GbG9hdDMyQXR0cmlidXRlPUZsb2F0MzJBdHRyaWJ1dGU7ZXhwb3J0cy5GbG9hdDMyQnVmZmVyQXR0cmlidXRlPUZsb2F0MzJCdWZmZXJBdHRyaWJ1dGU7ZXhwb3J0cy5GbG9hdDY0QXR0cmlidXRlPUZsb2F0NjRBdHRyaWJ1dGU7ZXhwb3J0cy5GbG9hdDY0QnVmZmVyQXR0cmlidXRlPUZsb2F0NjRCdWZmZXJBdHRyaWJ1dGU7ZXhwb3J0cy5GbG9hdFR5cGU9RmxvYXRUeXBlO2V4cG9ydHMuRm9nPUZvZztleHBvcnRzLkZvZ0V4cDI9Rm9nRXhwMjtleHBvcnRzLkZvbnQ9Rm9udDtleHBvcnRzLkZvbnRMb2FkZXI9Rm9udExvYWRlcjtleHBvcnRzLkZyb250RmFjZURpcmVjdGlvbkNDVz1Gcm9udEZhY2VEaXJlY3Rpb25DQ1c7ZXhwb3J0cy5Gcm9udEZhY2VEaXJlY3Rpb25DVz1Gcm9udEZhY2VEaXJlY3Rpb25DVztleHBvcnRzLkZyb250U2lkZT1Gcm9udFNpZGU7ZXhwb3J0cy5GcnVzdHVtPUZydXN0dW07ZXhwb3J0cy5HYW1tYUVuY29kaW5nPUdhbW1hRW5jb2Rpbmc7ZXhwb3J0cy5HZW9tZXRyeT1HZW9tZXRyeTtleHBvcnRzLkdlb21ldHJ5VXRpbHM9R2VvbWV0cnlVdGlscztleHBvcnRzLkdyZWF0ZXJEZXB0aD1HcmVhdGVyRGVwdGg7ZXhwb3J0cy5HcmVhdGVyRXF1YWxEZXB0aD1HcmVhdGVyRXF1YWxEZXB0aDtleHBvcnRzLkdyZWF0ZXJFcXVhbFN0ZW5jaWxGdW5jPUdyZWF0ZXJFcXVhbFN0ZW5jaWxGdW5jO2V4cG9ydHMuR3JlYXRlclN0ZW5jaWxGdW5jPUdyZWF0ZXJTdGVuY2lsRnVuYztleHBvcnRzLkdyaWRIZWxwZXI9R3JpZEhlbHBlcjtleHBvcnRzLkdyb3VwPUdyb3VwO2V4cG9ydHMuSGFsZkZsb2F0VHlwZT1IYWxmRmxvYXRUeXBlO2V4cG9ydHMuSGVtaXNwaGVyZUxpZ2h0PUhlbWlzcGhlcmVMaWdodDtleHBvcnRzLkhlbWlzcGhlcmVMaWdodEhlbHBlcj1IZW1pc3BoZXJlTGlnaHRIZWxwZXI7ZXhwb3J0cy5IZW1pc3BoZXJlTGlnaHRQcm9iZT1IZW1pc3BoZXJlTGlnaHRQcm9iZTtleHBvcnRzLkljb3NhaGVkcm9uQnVmZmVyR2VvbWV0cnk9SWNvc2FoZWRyb25CdWZmZXJHZW9tZXRyeTtleHBvcnRzLkljb3NhaGVkcm9uR2VvbWV0cnk9SWNvc2FoZWRyb25HZW9tZXRyeTtleHBvcnRzLkltYWdlQml0bWFwTG9hZGVyPUltYWdlQml0bWFwTG9hZGVyO2V4cG9ydHMuSW1hZ2VMb2FkZXI9SW1hZ2VMb2FkZXI7ZXhwb3J0cy5JbWFnZVV0aWxzPUltYWdlVXRpbHM7ZXhwb3J0cy5JbW1lZGlhdGVSZW5kZXJPYmplY3Q9SW1tZWRpYXRlUmVuZGVyT2JqZWN0O2V4cG9ydHMuSW5jcmVtZW50U3RlbmNpbE9wPUluY3JlbWVudFN0ZW5jaWxPcDtleHBvcnRzLkluY3JlbWVudFdyYXBTdGVuY2lsT3A9SW5jcmVtZW50V3JhcFN0ZW5jaWxPcDtleHBvcnRzLkluc3RhbmNlZEJ1ZmZlckF0dHJpYnV0ZT1JbnN0YW5jZWRCdWZmZXJBdHRyaWJ1dGU7ZXhwb3J0cy5JbnN0YW5jZWRCdWZmZXJHZW9tZXRyeT1JbnN0YW5jZWRCdWZmZXJHZW9tZXRyeTtleHBvcnRzLkluc3RhbmNlZEludGVybGVhdmVkQnVmZmVyPUluc3RhbmNlZEludGVybGVhdmVkQnVmZmVyO2V4cG9ydHMuSW5zdGFuY2VkTWVzaD1JbnN0YW5jZWRNZXNoO2V4cG9ydHMuSW50MTZBdHRyaWJ1dGU9SW50MTZBdHRyaWJ1dGU7ZXhwb3J0cy5JbnQxNkJ1ZmZlckF0dHJpYnV0ZT1JbnQxNkJ1ZmZlckF0dHJpYnV0ZTtleHBvcnRzLkludDMyQXR0cmlidXRlPUludDMyQXR0cmlidXRlO2V4cG9ydHMuSW50MzJCdWZmZXJBdHRyaWJ1dGU9SW50MzJCdWZmZXJBdHRyaWJ1dGU7ZXhwb3J0cy5JbnQ4QXR0cmlidXRlPUludDhBdHRyaWJ1dGU7ZXhwb3J0cy5JbnQ4QnVmZmVyQXR0cmlidXRlPUludDhCdWZmZXJBdHRyaWJ1dGU7ZXhwb3J0cy5JbnRUeXBlPUludFR5cGU7ZXhwb3J0cy5JbnRlcmxlYXZlZEJ1ZmZlcj1JbnRlcmxlYXZlZEJ1ZmZlcjtleHBvcnRzLkludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlPUludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlO2V4cG9ydHMuSW50ZXJwb2xhbnQ9SW50ZXJwb2xhbnQ7ZXhwb3J0cy5JbnRlcnBvbGF0ZURpc2NyZXRlPUludGVycG9sYXRlRGlzY3JldGU7ZXhwb3J0cy5JbnRlcnBvbGF0ZUxpbmVhcj1JbnRlcnBvbGF0ZUxpbmVhcjtleHBvcnRzLkludGVycG9sYXRlU21vb3RoPUludGVycG9sYXRlU21vb3RoO2V4cG9ydHMuSW52ZXJ0U3RlbmNpbE9wPUludmVydFN0ZW5jaWxPcDtleHBvcnRzLkpTT05Mb2FkZXI9SlNPTkxvYWRlcjtleHBvcnRzLktlZXBTdGVuY2lsT3A9S2VlcFN0ZW5jaWxPcDtleHBvcnRzLktleWZyYW1lVHJhY2s9S2V5ZnJhbWVUcmFjaztleHBvcnRzLkxPRD1MT0Q7ZXhwb3J0cy5MYXRoZUJ1ZmZlckdlb21ldHJ5PUxhdGhlQnVmZmVyR2VvbWV0cnk7ZXhwb3J0cy5MYXRoZUdlb21ldHJ5PUxhdGhlR2VvbWV0cnk7ZXhwb3J0cy5MYXllcnM9TGF5ZXJzO2V4cG9ydHMuTGVuc0ZsYXJlPUxlbnNGbGFyZTtleHBvcnRzLkxlc3NEZXB0aD1MZXNzRGVwdGg7ZXhwb3J0cy5MZXNzRXF1YWxEZXB0aD1MZXNzRXF1YWxEZXB0aDtleHBvcnRzLkxlc3NFcXVhbFN0ZW5jaWxGdW5jPUxlc3NFcXVhbFN0ZW5jaWxGdW5jO2V4cG9ydHMuTGVzc1N0ZW5jaWxGdW5jPUxlc3NTdGVuY2lsRnVuYztleHBvcnRzLkxpZ2h0PUxpZ2h0O2V4cG9ydHMuTGlnaHRQcm9iZT1MaWdodFByb2JlO2V4cG9ydHMuTGlnaHRTaGFkb3c9TGlnaHRTaGFkb3c7ZXhwb3J0cy5MaW5lPUxpbmU7ZXhwb3J0cy5MaW5lMz1MaW5lMztleHBvcnRzLkxpbmVCYXNpY01hdGVyaWFsPUxpbmVCYXNpY01hdGVyaWFsO2V4cG9ydHMuTGluZUN1cnZlPUxpbmVDdXJ2ZTtleHBvcnRzLkxpbmVDdXJ2ZTM9TGluZUN1cnZlMztleHBvcnRzLkxpbmVEYXNoZWRNYXRlcmlhbD1MaW5lRGFzaGVkTWF0ZXJpYWw7ZXhwb3J0cy5MaW5lTG9vcD1MaW5lTG9vcDtleHBvcnRzLkxpbmVQaWVjZXM9TGluZVBpZWNlcztleHBvcnRzLkxpbmVTZWdtZW50cz1MaW5lU2VnbWVudHM7ZXhwb3J0cy5MaW5lU3RyaXA9TGluZVN0cmlwO2V4cG9ydHMuTGluZWFyRW5jb2Rpbmc9TGluZWFyRW5jb2Rpbmc7ZXhwb3J0cy5MaW5lYXJGaWx0ZXI9TGluZWFyRmlsdGVyO2V4cG9ydHMuTGluZWFySW50ZXJwb2xhbnQ9TGluZWFySW50ZXJwb2xhbnQ7ZXhwb3J0cy5MaW5lYXJNaXBNYXBMaW5lYXJGaWx0ZXI9TGluZWFyTWlwTWFwTGluZWFyRmlsdGVyO2V4cG9ydHMuTGluZWFyTWlwTWFwTmVhcmVzdEZpbHRlcj1MaW5lYXJNaXBNYXBOZWFyZXN0RmlsdGVyO2V4cG9ydHMuTGluZWFyTWlwbWFwTGluZWFyRmlsdGVyPUxpbmVhck1pcG1hcExpbmVhckZpbHRlcjtleHBvcnRzLkxpbmVhck1pcG1hcE5lYXJlc3RGaWx0ZXI9TGluZWFyTWlwbWFwTmVhcmVzdEZpbHRlcjtleHBvcnRzLkxpbmVhclRvbmVNYXBwaW5nPUxpbmVhclRvbmVNYXBwaW5nO2V4cG9ydHMuTG9hZGVyPUxvYWRlcjtleHBvcnRzLkxvYWRlclV0aWxzPUxvYWRlclV0aWxzO2V4cG9ydHMuTG9hZGluZ01hbmFnZXI9TG9hZGluZ01hbmFnZXI7ZXhwb3J0cy5Mb2dMdXZFbmNvZGluZz1Mb2dMdXZFbmNvZGluZztleHBvcnRzLkxvb3BPbmNlPUxvb3BPbmNlO2V4cG9ydHMuTG9vcFBpbmdQb25nPUxvb3BQaW5nUG9uZztleHBvcnRzLkxvb3BSZXBlYXQ9TG9vcFJlcGVhdDtleHBvcnRzLkx1bWluYW5jZUFscGhhRm9ybWF0PUx1bWluYW5jZUFscGhhRm9ybWF0O2V4cG9ydHMuTHVtaW5hbmNlRm9ybWF0PUx1bWluYW5jZUZvcm1hdDtleHBvcnRzLk1PVVNFPU1PVVNFO2V4cG9ydHMuTWF0ZXJpYWw9TWF0ZXJpYWw7ZXhwb3J0cy5NYXRlcmlhbExvYWRlcj1NYXRlcmlhbExvYWRlcjtleHBvcnRzLk1hdGg9X01hdGg7ZXhwb3J0cy5NYXRyaXgzPU1hdHJpeDM7ZXhwb3J0cy5NYXRyaXg0PU1hdHJpeDQ7ZXhwb3J0cy5NYXhFcXVhdGlvbj1NYXhFcXVhdGlvbjtleHBvcnRzLk1lc2g9TWVzaDtleHBvcnRzLk1lc2hCYXNpY01hdGVyaWFsPU1lc2hCYXNpY01hdGVyaWFsO2V4cG9ydHMuTWVzaERlcHRoTWF0ZXJpYWw9TWVzaERlcHRoTWF0ZXJpYWw7ZXhwb3J0cy5NZXNoRGlzdGFuY2VNYXRlcmlhbD1NZXNoRGlzdGFuY2VNYXRlcmlhbDtleHBvcnRzLk1lc2hGYWNlTWF0ZXJpYWw9TWVzaEZhY2VNYXRlcmlhbDtleHBvcnRzLk1lc2hMYW1iZXJ0TWF0ZXJpYWw9TWVzaExhbWJlcnRNYXRlcmlhbDtleHBvcnRzLk1lc2hNYXRjYXBNYXRlcmlhbD1NZXNoTWF0Y2FwTWF0ZXJpYWw7ZXhwb3J0cy5NZXNoTm9ybWFsTWF0ZXJpYWw9TWVzaE5vcm1hbE1hdGVyaWFsO2V4cG9ydHMuTWVzaFBob25nTWF0ZXJpYWw9TWVzaFBob25nTWF0ZXJpYWw7ZXhwb3J0cy5NZXNoUGh5c2ljYWxNYXRlcmlhbD1NZXNoUGh5c2ljYWxNYXRlcmlhbDtleHBvcnRzLk1lc2hTdGFuZGFyZE1hdGVyaWFsPU1lc2hTdGFuZGFyZE1hdGVyaWFsO2V4cG9ydHMuTWVzaFRvb25NYXRlcmlhbD1NZXNoVG9vbk1hdGVyaWFsO2V4cG9ydHMuTWluRXF1YXRpb249TWluRXF1YXRpb247ZXhwb3J0cy5NaXJyb3JlZFJlcGVhdFdyYXBwaW5nPU1pcnJvcmVkUmVwZWF0V3JhcHBpbmc7ZXhwb3J0cy5NaXhPcGVyYXRpb249TWl4T3BlcmF0aW9uO2V4cG9ydHMuTXVsdGlNYXRlcmlhbD1NdWx0aU1hdGVyaWFsO2V4cG9ydHMuTXVsdGlwbHlCbGVuZGluZz1NdWx0aXBseUJsZW5kaW5nO2V4cG9ydHMuTXVsdGlwbHlPcGVyYXRpb249TXVsdGlwbHlPcGVyYXRpb247ZXhwb3J0cy5OZWFyZXN0RmlsdGVyPU5lYXJlc3RGaWx0ZXI7ZXhwb3J0cy5OZWFyZXN0TWlwTWFwTGluZWFyRmlsdGVyPU5lYXJlc3RNaXBNYXBMaW5lYXJGaWx0ZXI7ZXhwb3J0cy5OZWFyZXN0TWlwTWFwTmVhcmVzdEZpbHRlcj1OZWFyZXN0TWlwTWFwTmVhcmVzdEZpbHRlcjtleHBvcnRzLk5lYXJlc3RNaXBtYXBMaW5lYXJGaWx0ZXI9TmVhcmVzdE1pcG1hcExpbmVhckZpbHRlcjtleHBvcnRzLk5lYXJlc3RNaXBtYXBOZWFyZXN0RmlsdGVyPU5lYXJlc3RNaXBtYXBOZWFyZXN0RmlsdGVyO2V4cG9ydHMuTmV2ZXJEZXB0aD1OZXZlckRlcHRoO2V4cG9ydHMuTmV2ZXJTdGVuY2lsRnVuYz1OZXZlclN0ZW5jaWxGdW5jO2V4cG9ydHMuTm9CbGVuZGluZz1Ob0JsZW5kaW5nO2V4cG9ydHMuTm9Db2xvcnM9Tm9Db2xvcnM7ZXhwb3J0cy5Ob1RvbmVNYXBwaW5nPU5vVG9uZU1hcHBpbmc7ZXhwb3J0cy5Ob3JtYWxCbGVuZGluZz1Ob3JtYWxCbGVuZGluZztleHBvcnRzLk5vdEVxdWFsRGVwdGg9Tm90RXF1YWxEZXB0aDtleHBvcnRzLk5vdEVxdWFsU3RlbmNpbEZ1bmM9Tm90RXF1YWxTdGVuY2lsRnVuYztleHBvcnRzLk51bWJlcktleWZyYW1lVHJhY2s9TnVtYmVyS2V5ZnJhbWVUcmFjaztleHBvcnRzLk9iamVjdDNEPU9iamVjdDNEO2V4cG9ydHMuT2JqZWN0TG9hZGVyPU9iamVjdExvYWRlcjtleHBvcnRzLk9iamVjdFNwYWNlTm9ybWFsTWFwPU9iamVjdFNwYWNlTm9ybWFsTWFwO2V4cG9ydHMuT2N0YWhlZHJvbkJ1ZmZlckdlb21ldHJ5PU9jdGFoZWRyb25CdWZmZXJHZW9tZXRyeTtleHBvcnRzLk9jdGFoZWRyb25HZW9tZXRyeT1PY3RhaGVkcm9uR2VvbWV0cnk7ZXhwb3J0cy5PbmVGYWN0b3I9T25lRmFjdG9yO2V4cG9ydHMuT25lTWludXNEc3RBbHBoYUZhY3Rvcj1PbmVNaW51c0RzdEFscGhhRmFjdG9yO2V4cG9ydHMuT25lTWludXNEc3RDb2xvckZhY3Rvcj1PbmVNaW51c0RzdENvbG9yRmFjdG9yO2V4cG9ydHMuT25lTWludXNTcmNBbHBoYUZhY3Rvcj1PbmVNaW51c1NyY0FscGhhRmFjdG9yO2V4cG9ydHMuT25lTWludXNTcmNDb2xvckZhY3Rvcj1PbmVNaW51c1NyY0NvbG9yRmFjdG9yO2V4cG9ydHMuT3J0aG9ncmFwaGljQ2FtZXJhPU9ydGhvZ3JhcGhpY0NhbWVyYTtleHBvcnRzLlBDRlNoYWRvd01hcD1QQ0ZTaGFkb3dNYXA7ZXhwb3J0cy5QQ0ZTb2Z0U2hhZG93TWFwPVBDRlNvZnRTaGFkb3dNYXA7ZXhwb3J0cy5QTVJFTUdlbmVyYXRvcj1QTVJFTUdlbmVyYXRvcjtleHBvcnRzLlBhcmFtZXRyaWNCdWZmZXJHZW9tZXRyeT1QYXJhbWV0cmljQnVmZmVyR2VvbWV0cnk7ZXhwb3J0cy5QYXJhbWV0cmljR2VvbWV0cnk9UGFyYW1ldHJpY0dlb21ldHJ5O2V4cG9ydHMuUGFydGljbGU9UGFydGljbGU7ZXhwb3J0cy5QYXJ0aWNsZUJhc2ljTWF0ZXJpYWw9UGFydGljbGVCYXNpY01hdGVyaWFsO2V4cG9ydHMuUGFydGljbGVTeXN0ZW09UGFydGljbGVTeXN0ZW07ZXhwb3J0cy5QYXJ0aWNsZVN5c3RlbU1hdGVyaWFsPVBhcnRpY2xlU3lzdGVtTWF0ZXJpYWw7ZXhwb3J0cy5QYXRoPVBhdGg7ZXhwb3J0cy5QZXJzcGVjdGl2ZUNhbWVyYT1QZXJzcGVjdGl2ZUNhbWVyYTtleHBvcnRzLlBsYW5lPVBsYW5lO2V4cG9ydHMuUGxhbmVCdWZmZXJHZW9tZXRyeT1QbGFuZUJ1ZmZlckdlb21ldHJ5O2V4cG9ydHMuUGxhbmVHZW9tZXRyeT1QbGFuZUdlb21ldHJ5O2V4cG9ydHMuUGxhbmVIZWxwZXI9UGxhbmVIZWxwZXI7ZXhwb3J0cy5Qb2ludENsb3VkPVBvaW50Q2xvdWQ7ZXhwb3J0cy5Qb2ludENsb3VkTWF0ZXJpYWw9UG9pbnRDbG91ZE1hdGVyaWFsO2V4cG9ydHMuUG9pbnRMaWdodD1Qb2ludExpZ2h0O2V4cG9ydHMuUG9pbnRMaWdodEhlbHBlcj1Qb2ludExpZ2h0SGVscGVyO2V4cG9ydHMuUG9pbnRzPVBvaW50cztleHBvcnRzLlBvaW50c01hdGVyaWFsPVBvaW50c01hdGVyaWFsO2V4cG9ydHMuUG9sYXJHcmlkSGVscGVyPVBvbGFyR3JpZEhlbHBlcjtleHBvcnRzLlBvbHloZWRyb25CdWZmZXJHZW9tZXRyeT1Qb2x5aGVkcm9uQnVmZmVyR2VvbWV0cnk7ZXhwb3J0cy5Qb2x5aGVkcm9uR2VvbWV0cnk9UG9seWhlZHJvbkdlb21ldHJ5O2V4cG9ydHMuUG9zaXRpb25hbEF1ZGlvPVBvc2l0aW9uYWxBdWRpbztleHBvcnRzLlByb3BlcnR5QmluZGluZz1Qcm9wZXJ0eUJpbmRpbmc7ZXhwb3J0cy5Qcm9wZXJ0eU1peGVyPVByb3BlcnR5TWl4ZXI7ZXhwb3J0cy5RdWFkcmF0aWNCZXppZXJDdXJ2ZT1RdWFkcmF0aWNCZXppZXJDdXJ2ZTtleHBvcnRzLlF1YWRyYXRpY0JlemllckN1cnZlMz1RdWFkcmF0aWNCZXppZXJDdXJ2ZTM7ZXhwb3J0cy5RdWF0ZXJuaW9uPVF1YXRlcm5pb247ZXhwb3J0cy5RdWF0ZXJuaW9uS2V5ZnJhbWVUcmFjaz1RdWF0ZXJuaW9uS2V5ZnJhbWVUcmFjaztleHBvcnRzLlF1YXRlcm5pb25MaW5lYXJJbnRlcnBvbGFudD1RdWF0ZXJuaW9uTGluZWFySW50ZXJwb2xhbnQ7ZXhwb3J0cy5SRVZJU0lPTj1SRVZJU0lPTjtleHBvcnRzLlJHQkFEZXB0aFBhY2tpbmc9UkdCQURlcHRoUGFja2luZztleHBvcnRzLlJHQkFGb3JtYXQ9UkdCQUZvcm1hdDtleHBvcnRzLlJHQkFJbnRlZ2VyRm9ybWF0PVJHQkFJbnRlZ2VyRm9ybWF0O2V4cG9ydHMuUkdCQV9BU1RDXzEweDEwX0Zvcm1hdD1SR0JBX0FTVENfMTB4MTBfRm9ybWF0O2V4cG9ydHMuUkdCQV9BU1RDXzEweDVfRm9ybWF0PVJHQkFfQVNUQ18xMHg1X0Zvcm1hdDtleHBvcnRzLlJHQkFfQVNUQ18xMHg2X0Zvcm1hdD1SR0JBX0FTVENfMTB4Nl9Gb3JtYXQ7ZXhwb3J0cy5SR0JBX0FTVENfMTB4OF9Gb3JtYXQ9UkdCQV9BU1RDXzEweDhfRm9ybWF0O2V4cG9ydHMuUkdCQV9BU1RDXzEyeDEwX0Zvcm1hdD1SR0JBX0FTVENfMTJ4MTBfRm9ybWF0O2V4cG9ydHMuUkdCQV9BU1RDXzEyeDEyX0Zvcm1hdD1SR0JBX0FTVENfMTJ4MTJfRm9ybWF0O2V4cG9ydHMuUkdCQV9BU1RDXzR4NF9Gb3JtYXQ9UkdCQV9BU1RDXzR4NF9Gb3JtYXQ7ZXhwb3J0cy5SR0JBX0FTVENfNXg0X0Zvcm1hdD1SR0JBX0FTVENfNXg0X0Zvcm1hdDtleHBvcnRzLlJHQkFfQVNUQ181eDVfRm9ybWF0PVJHQkFfQVNUQ181eDVfRm9ybWF0O2V4cG9ydHMuUkdCQV9BU1RDXzZ4NV9Gb3JtYXQ9UkdCQV9BU1RDXzZ4NV9Gb3JtYXQ7ZXhwb3J0cy5SR0JBX0FTVENfNng2X0Zvcm1hdD1SR0JBX0FTVENfNng2X0Zvcm1hdDtleHBvcnRzLlJHQkFfQVNUQ184eDVfRm9ybWF0PVJHQkFfQVNUQ184eDVfRm9ybWF0O2V4cG9ydHMuUkdCQV9BU1RDXzh4Nl9Gb3JtYXQ9UkdCQV9BU1RDXzh4Nl9Gb3JtYXQ7ZXhwb3J0cy5SR0JBX0FTVENfOHg4X0Zvcm1hdD1SR0JBX0FTVENfOHg4X0Zvcm1hdDtleHBvcnRzLlJHQkFfUFZSVENfMkJQUFYxX0Zvcm1hdD1SR0JBX1BWUlRDXzJCUFBWMV9Gb3JtYXQ7ZXhwb3J0cy5SR0JBX1BWUlRDXzRCUFBWMV9Gb3JtYXQ9UkdCQV9QVlJUQ180QlBQVjFfRm9ybWF0O2V4cG9ydHMuUkdCQV9TM1RDX0RYVDFfRm9ybWF0PVJHQkFfUzNUQ19EWFQxX0Zvcm1hdDtleHBvcnRzLlJHQkFfUzNUQ19EWFQzX0Zvcm1hdD1SR0JBX1MzVENfRFhUM19Gb3JtYXQ7ZXhwb3J0cy5SR0JBX1MzVENfRFhUNV9Gb3JtYXQ9UkdCQV9TM1RDX0RYVDVfRm9ybWF0O2V4cG9ydHMuUkdCREVuY29kaW5nPVJHQkRFbmNvZGluZztleHBvcnRzLlJHQkVFbmNvZGluZz1SR0JFRW5jb2Rpbmc7ZXhwb3J0cy5SR0JFRm9ybWF0PVJHQkVGb3JtYXQ7ZXhwb3J0cy5SR0JGb3JtYXQ9UkdCRm9ybWF0O2V4cG9ydHMuUkdCSW50ZWdlckZvcm1hdD1SR0JJbnRlZ2VyRm9ybWF0O2V4cG9ydHMuUkdCTTE2RW5jb2Rpbmc9UkdCTTE2RW5jb2Rpbmc7ZXhwb3J0cy5SR0JNN0VuY29kaW5nPVJHQk03RW5jb2Rpbmc7ZXhwb3J0cy5SR0JfRVRDMV9Gb3JtYXQ9UkdCX0VUQzFfRm9ybWF0O2V4cG9ydHMuUkdCX1BWUlRDXzJCUFBWMV9Gb3JtYXQ9UkdCX1BWUlRDXzJCUFBWMV9Gb3JtYXQ7ZXhwb3J0cy5SR0JfUFZSVENfNEJQUFYxX0Zvcm1hdD1SR0JfUFZSVENfNEJQUFYxX0Zvcm1hdDtleHBvcnRzLlJHQl9TM1RDX0RYVDFfRm9ybWF0PVJHQl9TM1RDX0RYVDFfRm9ybWF0O2V4cG9ydHMuUkdGb3JtYXQ9UkdGb3JtYXQ7ZXhwb3J0cy5SR0ludGVnZXJGb3JtYXQ9UkdJbnRlZ2VyRm9ybWF0O2V4cG9ydHMuUmF3U2hhZGVyTWF0ZXJpYWw9UmF3U2hhZGVyTWF0ZXJpYWw7ZXhwb3J0cy5SYXk9UmF5O2V4cG9ydHMuUmF5Y2FzdGVyPVJheWNhc3RlcjtleHBvcnRzLlJlY3RBcmVhTGlnaHQ9UmVjdEFyZWFMaWdodDtleHBvcnRzLlJlZEZvcm1hdD1SZWRGb3JtYXQ7ZXhwb3J0cy5SZWRJbnRlZ2VyRm9ybWF0PVJlZEludGVnZXJGb3JtYXQ7ZXhwb3J0cy5SZWluaGFyZFRvbmVNYXBwaW5nPVJlaW5oYXJkVG9uZU1hcHBpbmc7ZXhwb3J0cy5SZXBlYXRXcmFwcGluZz1SZXBlYXRXcmFwcGluZztleHBvcnRzLlJlcGxhY2VTdGVuY2lsT3A9UmVwbGFjZVN0ZW5jaWxPcDtleHBvcnRzLlJldmVyc2VTdWJ0cmFjdEVxdWF0aW9uPVJldmVyc2VTdWJ0cmFjdEVxdWF0aW9uO2V4cG9ydHMuUmluZ0J1ZmZlckdlb21ldHJ5PVJpbmdCdWZmZXJHZW9tZXRyeTtleHBvcnRzLlJpbmdHZW9tZXRyeT1SaW5nR2VvbWV0cnk7ZXhwb3J0cy5TY2VuZT1TY2VuZTtleHBvcnRzLlNjZW5lVXRpbHM9U2NlbmVVdGlscztleHBvcnRzLlNoYWRlckNodW5rPVNoYWRlckNodW5rO2V4cG9ydHMuU2hhZGVyTGliPVNoYWRlckxpYjtleHBvcnRzLlNoYWRlck1hdGVyaWFsPVNoYWRlck1hdGVyaWFsO2V4cG9ydHMuU2hhZG93TWF0ZXJpYWw9U2hhZG93TWF0ZXJpYWw7ZXhwb3J0cy5TaGFwZT1TaGFwZTtleHBvcnRzLlNoYXBlQnVmZmVyR2VvbWV0cnk9U2hhcGVCdWZmZXJHZW9tZXRyeTtleHBvcnRzLlNoYXBlR2VvbWV0cnk9U2hhcGVHZW9tZXRyeTtleHBvcnRzLlNoYXBlUGF0aD1TaGFwZVBhdGg7ZXhwb3J0cy5TaGFwZVV0aWxzPVNoYXBlVXRpbHM7ZXhwb3J0cy5TaG9ydFR5cGU9U2hvcnRUeXBlO2V4cG9ydHMuU2tlbGV0b249U2tlbGV0b247ZXhwb3J0cy5Ta2VsZXRvbkhlbHBlcj1Ta2VsZXRvbkhlbHBlcjtleHBvcnRzLlNraW5uZWRNZXNoPVNraW5uZWRNZXNoO2V4cG9ydHMuU21vb3RoU2hhZGluZz1TbW9vdGhTaGFkaW5nO2V4cG9ydHMuU3BoZXJlPVNwaGVyZTtleHBvcnRzLlNwaGVyZUJ1ZmZlckdlb21ldHJ5PVNwaGVyZUJ1ZmZlckdlb21ldHJ5O2V4cG9ydHMuU3BoZXJlR2VvbWV0cnk9U3BoZXJlR2VvbWV0cnk7ZXhwb3J0cy5TcGhlcmljYWw9U3BoZXJpY2FsO2V4cG9ydHMuU3BoZXJpY2FsSGFybW9uaWNzMz1TcGhlcmljYWxIYXJtb25pY3MzO2V4cG9ydHMuU3BoZXJpY2FsUmVmbGVjdGlvbk1hcHBpbmc9U3BoZXJpY2FsUmVmbGVjdGlvbk1hcHBpbmc7ZXhwb3J0cy5TcGxpbmU9U3BsaW5lO2V4cG9ydHMuU3BsaW5lQ3VydmU9U3BsaW5lQ3VydmU7ZXhwb3J0cy5TcGxpbmVDdXJ2ZTM9U3BsaW5lQ3VydmUzO2V4cG9ydHMuU3BvdExpZ2h0PVNwb3RMaWdodDtleHBvcnRzLlNwb3RMaWdodEhlbHBlcj1TcG90TGlnaHRIZWxwZXI7ZXhwb3J0cy5TcG90TGlnaHRTaGFkb3c9U3BvdExpZ2h0U2hhZG93O2V4cG9ydHMuU3ByaXRlPVNwcml0ZTtleHBvcnRzLlNwcml0ZU1hdGVyaWFsPVNwcml0ZU1hdGVyaWFsO2V4cG9ydHMuU3JjQWxwaGFGYWN0b3I9U3JjQWxwaGFGYWN0b3I7ZXhwb3J0cy5TcmNBbHBoYVNhdHVyYXRlRmFjdG9yPVNyY0FscGhhU2F0dXJhdGVGYWN0b3I7ZXhwb3J0cy5TcmNDb2xvckZhY3Rvcj1TcmNDb2xvckZhY3RvcjtleHBvcnRzLlN0YXRpY0NvcHlVc2FnZT1TdGF0aWNDb3B5VXNhZ2U7ZXhwb3J0cy5TdGF0aWNEcmF3VXNhZ2U9U3RhdGljRHJhd1VzYWdlO2V4cG9ydHMuU3RhdGljUmVhZFVzYWdlPVN0YXRpY1JlYWRVc2FnZTtleHBvcnRzLlN0ZXJlb0NhbWVyYT1TdGVyZW9DYW1lcmE7ZXhwb3J0cy5TdHJlYW1Db3B5VXNhZ2U9U3RyZWFtQ29weVVzYWdlO2V4cG9ydHMuU3RyZWFtRHJhd1VzYWdlPVN0cmVhbURyYXdVc2FnZTtleHBvcnRzLlN0cmVhbVJlYWRVc2FnZT1TdHJlYW1SZWFkVXNhZ2U7ZXhwb3J0cy5TdHJpbmdLZXlmcmFtZVRyYWNrPVN0cmluZ0tleWZyYW1lVHJhY2s7ZXhwb3J0cy5TdWJ0cmFjdEVxdWF0aW9uPVN1YnRyYWN0RXF1YXRpb247ZXhwb3J0cy5TdWJ0cmFjdGl2ZUJsZW5kaW5nPVN1YnRyYWN0aXZlQmxlbmRpbmc7ZXhwb3J0cy5UT1VDSD1UT1VDSDtleHBvcnRzLlRhbmdlbnRTcGFjZU5vcm1hbE1hcD1UYW5nZW50U3BhY2VOb3JtYWxNYXA7ZXhwb3J0cy5UZXRyYWhlZHJvbkJ1ZmZlckdlb21ldHJ5PVRldHJhaGVkcm9uQnVmZmVyR2VvbWV0cnk7ZXhwb3J0cy5UZXRyYWhlZHJvbkdlb21ldHJ5PVRldHJhaGVkcm9uR2VvbWV0cnk7ZXhwb3J0cy5UZXh0QnVmZmVyR2VvbWV0cnk9VGV4dEJ1ZmZlckdlb21ldHJ5O2V4cG9ydHMuVGV4dEdlb21ldHJ5PVRleHRHZW9tZXRyeTtleHBvcnRzLlRleHR1cmU9VGV4dHVyZTtleHBvcnRzLlRleHR1cmVMb2FkZXI9VGV4dHVyZUxvYWRlcjtleHBvcnRzLlRvcnVzQnVmZmVyR2VvbWV0cnk9VG9ydXNCdWZmZXJHZW9tZXRyeTtleHBvcnRzLlRvcnVzR2VvbWV0cnk9VG9ydXNHZW9tZXRyeTtleHBvcnRzLlRvcnVzS25vdEJ1ZmZlckdlb21ldHJ5PVRvcnVzS25vdEJ1ZmZlckdlb21ldHJ5O2V4cG9ydHMuVG9ydXNLbm90R2VvbWV0cnk9VG9ydXNLbm90R2VvbWV0cnk7ZXhwb3J0cy5UcmlhbmdsZT1UcmlhbmdsZTtleHBvcnRzLlRyaWFuZ2xlRmFuRHJhd01vZGU9VHJpYW5nbGVGYW5EcmF3TW9kZTtleHBvcnRzLlRyaWFuZ2xlU3RyaXBEcmF3TW9kZT1UcmlhbmdsZVN0cmlwRHJhd01vZGU7ZXhwb3J0cy5UcmlhbmdsZXNEcmF3TW9kZT1UcmlhbmdsZXNEcmF3TW9kZTtleHBvcnRzLlR1YmVCdWZmZXJHZW9tZXRyeT1UdWJlQnVmZmVyR2VvbWV0cnk7ZXhwb3J0cy5UdWJlR2VvbWV0cnk9VHViZUdlb21ldHJ5O2V4cG9ydHMuVVZNYXBwaW5nPVVWTWFwcGluZztleHBvcnRzLlVpbnQxNkF0dHJpYnV0ZT1VaW50MTZBdHRyaWJ1dGU7ZXhwb3J0cy5VaW50MTZCdWZmZXJBdHRyaWJ1dGU9VWludDE2QnVmZmVyQXR0cmlidXRlO2V4cG9ydHMuVWludDMyQXR0cmlidXRlPVVpbnQzMkF0dHJpYnV0ZTtleHBvcnRzLlVpbnQzMkJ1ZmZlckF0dHJpYnV0ZT1VaW50MzJCdWZmZXJBdHRyaWJ1dGU7ZXhwb3J0cy5VaW50OEF0dHJpYnV0ZT1VaW50OEF0dHJpYnV0ZTtleHBvcnRzLlVpbnQ4QnVmZmVyQXR0cmlidXRlPVVpbnQ4QnVmZmVyQXR0cmlidXRlO2V4cG9ydHMuVWludDhDbGFtcGVkQXR0cmlidXRlPVVpbnQ4Q2xhbXBlZEF0dHJpYnV0ZTtleHBvcnRzLlVpbnQ4Q2xhbXBlZEJ1ZmZlckF0dHJpYnV0ZT1VaW50OENsYW1wZWRCdWZmZXJBdHRyaWJ1dGU7ZXhwb3J0cy5VbmNoYXJ0ZWQyVG9uZU1hcHBpbmc9VW5jaGFydGVkMlRvbmVNYXBwaW5nO2V4cG9ydHMuVW5pZm9ybT1Vbmlmb3JtO2V4cG9ydHMuVW5pZm9ybXNMaWI9VW5pZm9ybXNMaWI7ZXhwb3J0cy5Vbmlmb3Jtc1V0aWxzPVVuaWZvcm1zVXRpbHM7ZXhwb3J0cy5VbnNpZ25lZEJ5dGVUeXBlPVVuc2lnbmVkQnl0ZVR5cGU7ZXhwb3J0cy5VbnNpZ25lZEludDI0OFR5cGU9VW5zaWduZWRJbnQyNDhUeXBlO2V4cG9ydHMuVW5zaWduZWRJbnRUeXBlPVVuc2lnbmVkSW50VHlwZTtleHBvcnRzLlVuc2lnbmVkU2hvcnQ0NDQ0VHlwZT1VbnNpZ25lZFNob3J0NDQ0NFR5cGU7ZXhwb3J0cy5VbnNpZ25lZFNob3J0NTU1MVR5cGU9VW5zaWduZWRTaG9ydDU1NTFUeXBlO2V4cG9ydHMuVW5zaWduZWRTaG9ydDU2NVR5cGU9VW5zaWduZWRTaG9ydDU2NVR5cGU7ZXhwb3J0cy5VbnNpZ25lZFNob3J0VHlwZT1VbnNpZ25lZFNob3J0VHlwZTtleHBvcnRzLlZTTVNoYWRvd01hcD1WU01TaGFkb3dNYXA7ZXhwb3J0cy5WZWN0b3IyPVZlY3RvcjI7ZXhwb3J0cy5WZWN0b3IzPVZlY3RvcjM7ZXhwb3J0cy5WZWN0b3I0PVZlY3RvcjQ7ZXhwb3J0cy5WZWN0b3JLZXlmcmFtZVRyYWNrPVZlY3RvcktleWZyYW1lVHJhY2s7ZXhwb3J0cy5WZXJ0ZXg9VmVydGV4O2V4cG9ydHMuVmVydGV4Q29sb3JzPVZlcnRleENvbG9ycztleHBvcnRzLlZpZGVvVGV4dHVyZT1WaWRlb1RleHR1cmU7ZXhwb3J0cy5XZWJHTE11bHRpc2FtcGxlUmVuZGVyVGFyZ2V0PVdlYkdMTXVsdGlzYW1wbGVSZW5kZXJUYXJnZXQ7ZXhwb3J0cy5XZWJHTFJlbmRlclRhcmdldD1XZWJHTFJlbmRlclRhcmdldDtleHBvcnRzLldlYkdMUmVuZGVyVGFyZ2V0Q3ViZT1XZWJHTFJlbmRlclRhcmdldEN1YmU7ZXhwb3J0cy5XZWJHTFJlbmRlcmVyPVdlYkdMUmVuZGVyZXI7ZXhwb3J0cy5XZWJHTFV0aWxzPVdlYkdMVXRpbHM7ZXhwb3J0cy5XaXJlZnJhbWVHZW9tZXRyeT1XaXJlZnJhbWVHZW9tZXRyeTtleHBvcnRzLldpcmVmcmFtZUhlbHBlcj1XaXJlZnJhbWVIZWxwZXI7ZXhwb3J0cy5XcmFwQXJvdW5kRW5kaW5nPVdyYXBBcm91bmRFbmRpbmc7ZXhwb3J0cy5YSFJMb2FkZXI9WEhSTG9hZGVyO2V4cG9ydHMuWmVyb0N1cnZhdHVyZUVuZGluZz1aZXJvQ3VydmF0dXJlRW5kaW5nO2V4cG9ydHMuWmVyb0ZhY3Rvcj1aZXJvRmFjdG9yO2V4cG9ydHMuWmVyb1Nsb3BlRW5kaW5nPVplcm9TbG9wZUVuZGluZztleHBvcnRzLlplcm9TdGVuY2lsT3A9WmVyb1N0ZW5jaWxPcDtleHBvcnRzLnNSR0JFbmNvZGluZz1zUkdCRW5jb2Rpbmc7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsJ19fZXNNb2R1bGUnLHt2YWx1ZTp0cnVlfSk7fSk7"},{"version":3,"sources":["/home/calculus/dev/m/pharma-frontend/src/plugins/three/threejs.js"],"names":["global","factory","exports","module","define","amd","self","THREE","Number","EPSILON","undefined","Math","pow","isInteger","value","isFinite","floor","sign","x","Function","prototype","Object","defineProperty","get","toString","match","assign","target","TypeError","output","index","arguments","length","source","nextKey","hasOwnProperty","call","REVISION","MOUSE","LEFT","MIDDLE","RIGHT","ROTATE","DOLLY","PAN","TOUCH","DOLLY_PAN","DOLLY_ROTATE","CullFaceNone","CullFaceBack","CullFaceFront","CullFaceFrontBack","FrontFaceDirectionCW","FrontFaceDirectionCCW","BasicShadowMap","PCFShadowMap","PCFSoftShadowMap","VSMShadowMap","FrontSide","BackSide","DoubleSide","FlatShading","SmoothShading","NoColors","FaceColors","VertexColors","NoBlending","NormalBlending","AdditiveBlending","SubtractiveBlending","MultiplyBlending","CustomBlending","AddEquation","SubtractEquation","ReverseSubtractEquation","MinEquation","MaxEquation","ZeroFactor","OneFactor","SrcColorFactor","OneMinusSrcColorFactor","SrcAlphaFactor","OneMinusSrcAlphaFactor","DstAlphaFactor","OneMinusDstAlphaFactor","DstColorFactor","OneMinusDstColorFactor","SrcAlphaSaturateFactor","NeverDepth","AlwaysDepth","LessDepth","LessEqualDepth","EqualDepth","GreaterEqualDepth","GreaterDepth","NotEqualDepth","MultiplyOperation","MixOperation","AddOperation","NoToneMapping","LinearToneMapping","ReinhardToneMapping","Uncharted2ToneMapping","CineonToneMapping","ACESFilmicToneMapping","UVMapping","CubeReflectionMapping","CubeRefractionMapping","EquirectangularReflectionMapping","EquirectangularRefractionMapping","SphericalReflectionMapping","CubeUVReflectionMapping","CubeUVRefractionMapping","RepeatWrapping","ClampToEdgeWrapping","MirroredRepeatWrapping","NearestFilter","NearestMipmapNearestFilter","NearestMipMapNearestFilter","NearestMipmapLinearFilter","NearestMipMapLinearFilter","LinearFilter","LinearMipmapNearestFilter","LinearMipMapNearestFilter","LinearMipmapLinearFilter","LinearMipMapLinearFilter","UnsignedByteType","ByteType","ShortType","UnsignedShortType","IntType","UnsignedIntType","FloatType","HalfFloatType","UnsignedShort4444Type","UnsignedShort5551Type","UnsignedShort565Type","UnsignedInt248Type","AlphaFormat","RGBFormat","RGBAFormat","LuminanceFormat","LuminanceAlphaFormat","RGBEFormat","DepthFormat","DepthStencilFormat","RedFormat","RedIntegerFormat","RGFormat","RGIntegerFormat","RGBIntegerFormat","RGBAIntegerFormat","RGB_S3TC_DXT1_Format","RGBA_S3TC_DXT1_Format","RGBA_S3TC_DXT3_Format","RGBA_S3TC_DXT5_Format","RGB_PVRTC_4BPPV1_Format","RGB_PVRTC_2BPPV1_Format","RGBA_PVRTC_4BPPV1_Format","RGBA_PVRTC_2BPPV1_Format","RGB_ETC1_Format","RGBA_ASTC_4x4_Format","RGBA_ASTC_5x4_Format","RGBA_ASTC_5x5_Format","RGBA_ASTC_6x5_Format","RGBA_ASTC_6x6_Format","RGBA_ASTC_8x5_Format","RGBA_ASTC_8x6_Format","RGBA_ASTC_8x8_Format","RGBA_ASTC_10x5_Format","RGBA_ASTC_10x6_Format","RGBA_ASTC_10x8_Format","RGBA_ASTC_10x10_Format","RGBA_ASTC_12x10_Format","RGBA_ASTC_12x12_Format","LoopOnce","LoopRepeat","LoopPingPong","InterpolateDiscrete","InterpolateLinear","InterpolateSmooth","ZeroCurvatureEnding","ZeroSlopeEnding","WrapAroundEnding","TrianglesDrawMode","TriangleStripDrawMode","TriangleFanDrawMode","LinearEncoding","sRGBEncoding","GammaEncoding","RGBEEncoding","LogLuvEncoding","RGBM7Encoding","RGBM16Encoding","RGBDEncoding","BasicDepthPacking","RGBADepthPacking","TangentSpaceNormalMap","ObjectSpaceNormalMap","ZeroStencilOp","KeepStencilOp","ReplaceStencilOp","IncrementStencilOp","DecrementStencilOp","IncrementWrapStencilOp","DecrementWrapStencilOp","InvertStencilOp","NeverStencilFunc","LessStencilFunc","EqualStencilFunc","LessEqualStencilFunc","GreaterStencilFunc","NotEqualStencilFunc","GreaterEqualStencilFunc","AlwaysStencilFunc","StaticDrawUsage","DynamicDrawUsage","StreamDrawUsage","StaticReadUsage","DynamicReadUsage","StreamReadUsage","StaticCopyUsage","DynamicCopyUsage","StreamCopyUsage","EventDispatcher","addEventListener","type","listener","_listeners","listeners","indexOf","push","hasEventListener","removeEventListener","listenerArray","splice","dispatchEvent","event","array","slice","i","l","_lut","_Math","DEG2RAD","PI","RAD2DEG","generateUUID","d0","random","d1","d2","d3","uuid","toUpperCase","clamp","min","max","euclideanModulo","n","m","mapLinear","a1","a2","b1","b2","lerp","y","t","smoothstep","smootherstep","randInt","low","high","randFloat","randFloatSpread","range","degToRad","degrees","radToDeg","radians","isPowerOfTwo","ceilPowerOfTwo","ceil","log","LN2","floorPowerOfTwo","Vector2","defineProperties","set","isVector2","setScalar","scalar","setX","setY","setComponent","Error","getComponent","clone","constructor","copy","v","add","w","console","warn","addVectors","addScalar","s","a","b","addScaledVector","sub","subVectors","subScalar","multiply","multiplyScalar","divide","divideScalar","applyMatrix3","e","elements","clampScalar","minVal","maxVal","clampLength","round","roundToZero","negate","dot","cross","lengthSq","sqrt","manhattanLength","abs","normalize","angle","atan2","distanceTo","distanceToSquared","dx","dy","manhattanDistanceTo","setLength","alpha","lerpVectors","v1","v2","equals","fromArray","offset","toArray","fromBufferAttribute","attribute","getX","getY","rotateAround","center","c","cos","sin","Quaternion","z","_x","_y","_z","_w","slerp","qa","qb","qm","slerpFlat","dst","dstOffset","src0","srcOffset0","src1","srcOffset1","x0","y0","z0","w0","x1","y1","z1","w1","dir","sqrSin","len","tDir","f","_onChangeCallback","isQuaternion","quaternion","setFromEuler","euler","update","isEuler","order","c1","c2","c3","s1","s2","s3","setFromAxisAngle","axis","halfAngle","setFromRotationMatrix","te","m11","m12","m13","m21","m22","m23","m31","m32","m33","trace","setFromUnitVectors","vFrom","vTo","EPS","r","angleTo","q","acos","rotateTowards","step","inverse","conjugate","p","multiplyQuaternions","premultiply","qax","qay","qaz","qaw","qbx","qby","qbz","qbw","cosHalfTheta","sqrSinHalfTheta","sinHalfTheta","halfTheta","ratioA","ratioB","_onChange","callback","_vector","Vector3","_quaternion","isVector3","setZ","multiplyVectors","applyEuler","error","applyQuaternion","applyAxisAngle","applyNormalMatrix","applyMatrix4","qx","qy","qz","qw","ix","iy","iz","iw","project","camera","matrixWorldInverse","projectionMatrix","unproject","projectionMatrixInverse","matrixWorld","transformDirection","crossVectors","ax","ay","az","bx","by","bz","projectOnVector","projectOnPlane","planeNormal","reflect","normal","denominator","theta","dz","setFromSpherical","setFromSphericalCoords","radius","phi","sinPhiRadius","setFromCylindrical","setFromCylindricalCoords","setFromMatrixPosition","setFromMatrixScale","sx","setFromMatrixColumn","sy","sz","getZ","_vector$1","Matrix3","isMatrix3","n11","n12","n13","n21","n22","n23","n31","n32","n33","identity","me","setFromMatrix4","applyToBufferAttribute","count","setXYZ","multiplyMatrices","ae","be","a11","a12","a13","a21","a22","a23","a31","a32","a33","b11","b12","b13","b21","b22","b23","b31","b32","b33","determinant","d","g","h","getInverse","matrix","throwOnDegenerate","isMatrix4","t11","t12","t13","det","msg","detInv","transpose","tmp","getNormalMatrix","matrix4","transposeIntoArray","setUvTransform","tx","ty","rotation","cx","cy","scale","rotate","translate","_canvas","ImageUtils","getDataURL","image","canvas","HTMLCanvasElement","src","document","createElementNS","width","height","context","getContext","ImageData","putImageData","drawImage","toDataURL","textureId","Texture","mapping","wrapS","wrapT","magFilter","minFilter","format","anisotropy","encoding","name","DEFAULT_IMAGE","mipmaps","DEFAULT_MAPPING","internalFormat","repeat","matrixAutoUpdate","generateMipmaps","premultiplyAlpha","flipY","unpackAlignment","version","onUpdate","create","isTexture","updateMatrix","toJSON","meta","isRootObject","textures","metadata","generator","wrap","images","url","Array","isArray","dispose","transformUv","uv","Vector4","isVector4","setW","setAxisAngleFromQuaternion","setAxisAngleFromRotationMatrix","epsilon","epsilon2","xx","yy","zz","xy","xz","yz","getW","WebGLRenderTarget","options","scissor","scissorTest","viewport","texture","depthBuffer","stencilBuffer","depthTexture","isWebGLRenderTarget","setSize","WebGLMultisampleRenderTarget","samples","isWebGLMultisampleRenderTarget","_v1","_m1","Matrix4","_zero","_one","n14","n24","n34","n41","n42","n43","n44","copyPosition","extractBasis","xAxis","yAxis","zAxis","makeBasis","extractRotation","scaleX","scaleY","scaleZ","makeRotationFromEuler","af","bf","ce","cf","de","df","ac","ad","bc","bd","makeRotationFromQuaternion","compose","lookAt","eye","up","a14","a24","a34","a41","a42","a43","a44","b14","b24","b34","b41","b42","b43","b44","setPosition","t14","getMaxScaleOnAxis","scaleXSq","scaleYSq","scaleZSq","makeTranslation","makeRotationX","makeRotationY","makeRotationZ","makeRotationAxis","makeScale","makeShear","position","x2","y2","z2","wx","wy","wz","decompose","invSX","invSY","invSZ","makePerspective","left","right","top","bottom","near","far","makeOrthographic","_matrix","_quaternion$1","Euler","_order","DefaultOrder","RotationOrders","asin","setFromQuaternion","setFromVector3","reorder","newOrder","toVector3","optionalResult","Layers","mask","channel","enable","enableAll","toggle","disable","disableAll","test","layers","_object3DId","_v1$1","_q1","_m1$1","_target","_position","_scale","_quaternion$2","_xAxis","_yAxis","_zAxis","_addedEvent","_removedEvent","Object3D","parent","children","DefaultUp","onRotationChange","onQuaternionChange","configurable","enumerable","modelViewMatrix","normalMatrix","DefaultMatrixAutoUpdate","matrixWorldNeedsUpdate","visible","castShadow","receiveShadow","frustumCulled","renderOrder","userData","isObject3D","onBeforeRender","onAfterRender","applyMatrix","setRotationFromAxisAngle","setRotationFromEuler","setRotationFromMatrix","setRotationFromQuaternion","rotateOnAxis","rotateOnWorldAxis","rotateX","rotateY","rotateZ","translateOnAxis","distance","translateX","translateY","translateZ","localToWorld","vector","worldToLocal","updateWorldMatrix","isCamera","isLight","object","remove","attach","getObjectById","id","getObjectByProperty","getObjectByName","child","getWorldPosition","updateMatrixWorld","getWorldQuaternion","getWorldScale","getWorldDirection","raycast","traverse","traverseVisible","traverseAncestors","force","updateParents","updateChildren","geometries","materials","shapes","JSON","stringify","isInstancedMesh","instanceMatrix","serialize","library","element","isMesh","isLine","isPoints","geometry","parameters","shape","material","uuids","extractFromCache","cache","values","key","data","recursive","parse","Scene","background","environment","fog","overrideMaterial","autoUpdate","__THREE_DEVTOOLS__","CustomEvent","detail","isScene","_points","_vector$2","_box","Box3","_v0","_v1$2","_v2","_f0","_f1","_f2","_center","_extents","_triangleNormal","_testAxis","Infinity","isBox3","setFromArray","minX","minY","minZ","maxX","maxY","maxZ","setFromBufferAttribute","setFromPoints","points","makeEmpty","il","expandByPoint","setFromCenterAndSize","size","halfSize","setFromObject","expandByObject","box","isEmpty","getCenter","getSize","point","expandByVector","expandByScalar","boundingBox","computeBoundingBox","containsPoint","containsBox","getParameter","intersectsBox","intersectsSphere","sphere","clampPoint","intersectsPlane","plane","constant","intersectsTriangle","triangle","axes","satForAxes","distanceToPoint","clampedPoint","getBoundingSphere","intersect","union","v0","extents","j","p0","p1","p2","_box$1","Sphere","optionalCenter","maxRadiusSq","empty","radiusSum","deltaLengthSq","getBoundingBox","_vector$3","_segCenter","_segDir","_diff","_edge1","_edge2","_normal","Ray","origin","direction","ray","at","recast","closestPointToPoint","directionDistance","distanceSqToPoint","distanceSqToSegment","optionalPointOnRay","optionalPointOnSegment","segExtent","a01","b0","s0","sqrDist","extDet","invDet","intersectSphere","tca","radius2","thc","t0","t1","distanceToPlane","intersectPlane","distToPoint","intersectBox","tmin","tmax","tymin","tymax","tzmin","tzmax","invdirx","invdiry","invdirz","intersectTriangle","backfaceCulling","DdN","DdQxE2","DdE1xQ","QdN","_vector1","_vector2","_normalMatrix","Plane","isPlane","setComponents","setFromNormalAndCoplanarPoint","setFromCoplanarPoints","inverseNormalLength","distanceToSphere","projectPoint","intersectLine","line","delta","start","intersectsLine","startSign","endSign","end","coplanarPoint","optionalNormalMatrix","referencePoint","_v0$1","_v1$3","_v2$1","_v3","_vab","_vac","_vbc","_vap","_vbp","_vcp","Triangle","getNormal","targetLengthSq","getBarycoord","dot00","dot01","dot02","dot11","dot12","denom","invDenom","u","getUV","p3","uv1","uv2","uv3","isFrontFacing","setFromPointsAndIndices","i0","i1","i2","getArea","getMidpoint","getPlane","d4","vc","d5","d6","vb","va","_colorKeywords","_hslA","_hslB","Color","setRGB","hue2rgb","SRGBToLinear","LinearToSRGB","isColor","setHex","setStyle","hex","setHSL","style","handleAlpha","string","parseFloat","exec","color","components","parseInt","charAt","setColorName","copyGammaToLinear","gammaFactor","copyLinearToGamma","safeInverse","convertGammaToLinear","convertLinearToGamma","copySRGBToLinear","copyLinearToSRGB","convertSRGBToLinear","convertLinearToSRGB","getHex","getHexString","getHSL","hue","saturation","lightness","getStyle","offsetHSL","addColors","color1","color2","lerpHSL","NAMES","Face3","materialIndex","vertexNormals","vertexColors","materialId","Material","blending","side","flatShading","vertexTangents","opacity","transparent","blendSrc","blendDst","blendEquation","blendSrcAlpha","blendDstAlpha","blendEquationAlpha","depthFunc","depthTest","depthWrite","stencilWriteMask","stencilFunc","stencilRef","stencilFuncMask","stencilFail","stencilZFail","stencilZPass","stencilWrite","clippingPlanes","clipIntersection","clipShadows","shadowSide","colorWrite","precision","polygonOffset","polygonOffsetFactor","polygonOffsetUnits","dithering","alphaTest","premultipliedAlpha","toneMapped","isMaterial","onBeforeCompile","setValues","newValue","currentValue","isRoot","roughness","metalness","sheen","emissive","emissiveIntensity","specular","shininess","clearcoat","clearcoatRoughness","clearcoatNormalMap","clearcoatNormalScale","map","matcap","alphaMap","lightMap","aoMap","aoMapIntensity","bumpMap","bumpScale","normalMap","normalMapType","normalScale","displacementMap","displacementScale","displacementBias","roughnessMap","metalnessMap","emissiveMap","specularMap","envMap","reflectivity","refractionRatio","combine","envMapIntensity","gradientMap","sizeAttenuation","linewidth","dashSize","gapSize","wireframe","wireframeLinewidth","wireframeLinecap","wireframeLinejoin","morphTargets","morphNormals","skinning","srcPlanes","dstPlanes","MeshBasicMaterial","lightMapIntensity","isMeshBasicMaterial","_vector$4","BufferAttribute","itemSize","normalized","usage","updateRange","isBufferAttribute","onUploadCallback","setUsage","copyAt","index1","index2","copyArray","copyColorsArray","colors","copyVector2sArray","vectors","copyVector3sArray","copyVector4sArray","setXY","setXYZW","onUpload","Int8BufferAttribute","Int8Array","Uint8BufferAttribute","Uint8Array","Uint8ClampedBufferAttribute","Uint8ClampedArray","Int16BufferAttribute","Int16Array","Uint16BufferAttribute","Uint16Array","Int32BufferAttribute","Int32Array","Uint32BufferAttribute","Uint32Array","Float32BufferAttribute","Float32Array","Float64BufferAttribute","Float64Array","DirectGeometry","vertices","normals","uvs","uvs2","groups","skinWeights","skinIndices","boundingSphere","verticesNeedUpdate","normalsNeedUpdate","colorsNeedUpdate","uvsNeedUpdate","groupsNeedUpdate","computeGroups","group","faces","face","fromGeometry","faceVertexUvs","hasFaceVertexUv","hasFaceVertexUv2","morphTargetsLength","morphTargetsPosition","morphNormalsLength","morphTargetsNormal","hasSkinIndices","hasSkinWeights","vertexUvs","morphTarget","morphNormal","arrayMax","_bufferGeometryId","_m1$2","_obj","_offset","_box$2","_boxMorphTargets","_vector$5","BufferGeometry","attributes","morphAttributes","morphTargetsRelative","drawRange","isBufferGeometry","getIndex","setIndex","getAttribute","setAttribute","deleteAttribute","addGroup","clearGroups","setDrawRange","needsUpdate","tangent","computeBoundingSphere","positions","lineDistances","isGeometry","updateFromObject","direct","__directGeometry","elementsNeedUpdate","lineDistancesNeedUpdate","lineDistance","fromDirectGeometry","morphAttributesPosition","morphAttribute","isNaN","jl","computeFaceNormals","computeVertexNormals","vA","vB","vC","pA","pB","pC","cb","ab","indices","normalizeNormals","merge","attribute1","attributeArray1","attribute2","attributeArray2","attributeOffset","toNonIndexed","convertBufferAttribute","array2","geometry2","newAttribute","morphArray","keys","attributeData","hasMorphAttributes","attributeArray","_inverseMatrix","_ray","_sphere","_vA","_vB","_vC","_tempA","_tempB","_tempC","_morphA","_morphB","_morphC","_uvA","_uvB","_uvC","_intersectionPoint","_intersectionPointWorld","Mesh","updateMorphTargets","morphTargetInfluences","morphTargetDictionary","ml","String","raycaster","intersects","intersection","morphPosition","groupMaterial","checkBufferGeometryIntersection","faceIndex","fvA","fvB","fvC","isMultiMaterial","fl","faceMaterial","checkIntersection","uvs_f","morphInfluences","influence","_geometryId","_m1$3","_obj$1","_offset$1","Geometry","vertex","fromBufferGeometry","scope","addFace","areaWeighted","vl","computeFlatVertexNormals","computeMorphNormals","__originalFaceNormal","__originalVertexNormals","tmpGeo","faceNormals","dstNormalsFace","dstNormalsVertex","faceNormal","materialIndexOffset","vertexOffset","vertices1","vertices2","faces1","faces2","colors1","colors2","vertexCopy","faceCopy","faceVertexNormals","faceVertexColors","faceVertexUvs2","uvsCopy","k","kl","mergeMesh","mesh","mergeVertices","verticesMap","unique","changes","precisionPoints","faceIndicesToRemove","idx","diff","sortFacesByMaterialIndex","_id","materialIndexSort","sort","uvs1","newUvs1","newUvs2","normalsHash","colorsHash","uvsHash","hasMaterial","hasFaceUv","hasFaceNormal","hasFaceVertexNormal","hasFaceColor","hasFaceVertexColor","faceType","setBit","getUvIndex","getNormalIndex","getColorIndex","enabled","hash","srcVertexNormal","destVertexNormal","BoxGeometry","depth","widthSegments","heightSegments","depthSegments","BoxBufferGeometry","__proto__","numberOfVertices","groupStart","buildPlane","udir","vdir","gridX","gridY","segmentWidth","segmentHeight","widthHalf","heightHalf","depthHalf","gridX1","gridY1","vertexCounter","groupCount","cloneUniforms","property","mergeUniforms","uniforms","merged","UniformsUtils","default_vertex","default_fragment","ShaderMaterial","defines","vertexShader","fragmentShader","lights","clipping","extensions","derivatives","fragDepth","drawBuffers","shaderTextureLOD","defaultAttributeValues","index0AttributeName","uniformsNeedUpdate","isShaderMaterial","uniform","Camera","PerspectiveCamera","fov","aspect","zoom","focus","view","filmGauge","filmOffset","updateProjectionMatrix","isPerspectiveCamera","setFocalLength","focalLength","vExtentSlope","getFilmHeight","atan","getFocalLength","tan","getEffectiveFOV","getFilmWidth","setViewOffset","fullWidth","fullHeight","offsetX","offsetY","clearViewOffset","skew","CubeCamera","cubeResolution","cameraPX","cameraNX","cameraPY","cameraNY","cameraPZ","cameraNZ","renderTarget","WebGLRenderTargetCube","renderer","scene","currentRenderTarget","getRenderTarget","setRenderTarget","render","clear","stencil","isWebGLRenderTargetCube","fromEquirectangularTexture","shader","tEquirect","join","DataTexture","isDataTexture","_sphere$1","_vector$6","Frustum","p4","p5","planes","frustum","setFromMatrix","me0","me1","me2","me3","me4","me5","me6","me7","me8","me9","me10","me11","me12","me13","me14","me15","intersectsObject","intersectsSprite","sprite","negRadius","alphamap_fragment","alphamap_pars_fragment","alphatest_fragment","aomap_fragment","aomap_pars_fragment","begin_vertex","beginnormal_vertex","bsdfs","bumpmap_pars_fragment","clipping_planes_fragment","clipping_planes_pars_fragment","clipping_planes_pars_vertex","clipping_planes_vertex","color_fragment","color_pars_fragment","color_pars_vertex","color_vertex","common","cube_uv_reflection_fragment","defaultnormal_vertex","displacementmap_pars_vertex","displacementmap_vertex","emissivemap_fragment","emissivemap_pars_fragment","encodings_fragment","encodings_pars_fragment","envmap_fragment","envmap_common_pars_fragment","envmap_pars_fragment","envmap_pars_vertex","envmap_vertex","fog_vertex","fog_pars_vertex","fog_fragment","fog_pars_fragment","gradientmap_pars_fragment","lightmap_fragment","lightmap_pars_fragment","lights_lambert_vertex","lights_pars_begin","envmap_physical_pars_fragment","lights_toon_fragment","lights_toon_pars_fragment","lights_phong_fragment","lights_phong_pars_fragment","lights_physical_fragment","lights_physical_pars_fragment","lights_fragment_begin","lights_fragment_maps","lights_fragment_end","logdepthbuf_fragment","logdepthbuf_pars_fragment","logdepthbuf_pars_vertex","logdepthbuf_vertex","map_fragment","map_pars_fragment","map_particle_fragment","map_particle_pars_fragment","metalnessmap_fragment","metalnessmap_pars_fragment","morphnormal_vertex","morphtarget_pars_vertex","morphtarget_vertex","normal_fragment_begin","normal_fragment_maps","normalmap_pars_fragment","clearcoat_normal_fragment_begin","clearcoat_normal_fragment_maps","clearcoat_normalmap_pars_fragment","packing","premultiplied_alpha_fragment","project_vertex","dithering_fragment","dithering_pars_fragment","roughnessmap_fragment","roughnessmap_pars_fragment","shadowmap_pars_fragment","shadowmap_pars_vertex","shadowmap_vertex","shadowmask_pars_fragment","skinbase_vertex","skinning_pars_vertex","skinning_vertex","skinnormal_vertex","specularmap_fragment","specularmap_pars_fragment","tonemapping_fragment","tonemapping_pars_fragment","uv_pars_fragment","uv_pars_vertex","uv_vertex","uv2_pars_fragment","uv2_pars_vertex","uv2_vertex","worldpos_vertex","background_frag","background_vert","cube_frag","cube_vert","depth_frag","depth_vert","distanceRGBA_frag","distanceRGBA_vert","equirect_frag","equirect_vert","linedashed_frag","linedashed_vert","meshbasic_frag","meshbasic_vert","meshlambert_frag","meshlambert_vert","meshmatcap_frag","meshmatcap_vert","meshtoon_frag","meshtoon_vert","meshphong_frag","meshphong_vert","meshphysical_frag","meshphysical_vert","normal_frag","normal_vert","points_frag","points_vert","shadow_frag","shadow_vert","sprite_frag","sprite_vert","ShaderChunk","UniformsLib","diffuse","uvTransform","uv2Transform","specularmap","envmap","flipEnvMap","maxMipLevel","aomap","lightmap","emissivemap","bumpmap","normalmap","displacementmap","roughnessmap","metalnessmap","gradientmap","fogDensity","fogNear","fogFar","fogColor","ambientLightColor","lightProbe","directionalLights","properties","shadow","shadowBias","shadowRadius","shadowMapSize","directionalShadowMap","directionalShadowMatrix","spotLights","coneCos","penumbraCos","decay","spotShadowMap","spotShadowMatrix","pointLights","shadowCameraNear","shadowCameraFar","pointShadowMap","pointShadowMatrix","hemisphereLights","skyColor","groundColor","rectAreaLights","ShaderLib","basic","lambert","phong","standard","toon","dashed","totalSize","t2D","cube","equirect","distanceRGBA","referencePosition","nearDistance","farDistance","physical","transparency","WebGLAnimation","isAnimating","animationLoop","onAnimationFrame","time","frame","requestAnimationFrame","stop","setAnimationLoop","setContext","WebGLAttributes","gl","buffers","WeakMap","createBuffer","bufferType","buffer","bindBuffer","bufferData","bytesPerElement","BYTES_PER_ELEMENT","updateBuffer","bufferSubData","subarray","isInterleavedBufferAttribute","deleteBuffer","delete","PlaneGeometry","PlaneBufferGeometry","width_half","height_half","segment_width","segment_height","WebGLBackground","state","objects","clearColor","clearAlpha","planeMesh","boxMesh","currentBackground","currentBackgroundVersion","renderList","forceClear","xr","session","getSession","environmentBlendMode","setClear","autoClear","autoClearColor","autoClearDepth","autoClearStencil","isCubeTexture","unshift","getClearColor","setClearColor","getClearAlpha","setClearAlpha","WebGLBufferRenderer","info","capabilities","isWebGL2","mode","setMode","drawArrays","renderInstances","primcount","extension","methodName","WebGLCapabilities","maxAnisotropy","getMaxAnisotropy","MAX_TEXTURE_MAX_ANISOTROPY_EXT","getMaxPrecision","getShaderPrecisionFormat","WebGL2RenderingContext","WebGL2ComputeRenderingContext","maxPrecision","logarithmicDepthBuffer","maxTextures","maxVertexTextures","maxTextureSize","maxCubemapSize","maxAttributes","maxVertexUniforms","maxVaryings","maxFragmentUniforms","vertexTextures","floatFragmentTextures","floatVertexTextures","maxSamples","WebGLClipping","globalState","numGlobalPlanes","localClippingEnabled","renderingShadows","viewNormalMatrix","numPlanes","numIntersection","init","enableLocalClipping","projectPlanes","beginShadows","endShadows","resetGlobalState","setState","fromCache","nGlobal","lGlobal","dstArray","clippingState","skipTransform","nPlanes","flatSize","viewMatrix","i4","WebGLExtensions","getExtension","WebGLGeometries","wireframeAttributes","onGeometryDispose","buffergeometry","memory","_bufferGeometry","geometryAttributes","updateWireframeAttribute","geometryIndex","geometryPosition","previousAttribute","getWireframeAttribute","currentAttribute","WebGLIndexedBufferRenderer","drawElements","WebGLInfo","calls","triangles","lines","instanceCount","reset","programs","autoReset","absNumericalSort","WebGLMorphtargets","influencesList","program","objectInfluences","influences","morphInfluencesSum","morphBaseInfluence","getUniforms","setValue","WebGLObjects","updateList","CubeTexture","DataTexture2DArray","wrapR","isDataTexture2DArray","DataTexture3D","isDataTexture3D","emptyTexture","emptyTexture2dArray","emptyTexture3d","emptyCubeTexture","arrayCacheF32","arrayCacheI32","mat4array","mat3array","mat2array","flatten","nBlocks","blockSize","firstElem","arraysEqual","allocTexUnits","allocateTextureUnit","setValueV1f","uniform1f","addr","setValueV2f","uniform2f","uniform2fv","setValueV3f","uniform3f","uniform3fv","setValueV4f","uniform4f","uniform4fv","setValueM2","uniformMatrix2fv","setValueM3","uniformMatrix3fv","setValueM4","uniformMatrix4fv","setValueT1","unit","uniform1i","safeSetTexture2D","setValueT2DArray1","setTexture2DArray","setValueT3D1","setTexture3D","setValueT6","safeSetTextureCube","setValueV1i","setValueV2i","uniform2iv","setValueV3i","uniform3iv","setValueV4i","uniform4iv","getSingularSetter","setValueV1fArray","uniform1fv","setValueV1iArray","uniform1iv","setValueV2iArray","setValueV3iArray","setValueV4iArray","setValueV2fArray","setValueV3fArray","setValueV4fArray","setValueM2Array","setValueM3Array","setValueM4Array","setValueT1Array","units","setValueT6Array","getPureArraySetter","SingleUniform","activeInfo","PureArrayUniform","updateCache","StructuredUniform","seq","RePathPart","addUniform","container","uniformObject","parseUniform","path","pathLength","lastIndex","matchEnd","idIsIndex","subscript","next","WebGLUniforms","getProgramParameter","getActiveUniform","getUniformLocation","setOptional","upload","seqWithValue","WebGLShader","createShader","shaderSource","compileShader","programIdCount","addLineNumbers","split","getEncodingComponents","getShaderErrors","status","getShaderParameter","getShaderInfoLog","trim","getShaderSource","getTexelDecodingFunction","functionName","getTexelEncodingFunction","getToneMappingFunction","toneMapping","toneMappingName","generateExtensions","rendererExtensions","chunks","envMapCubeUV","tangentSpaceNormalMap","shaderID","filter","filterEmptyLine","generateDefines","fetchAttributeLocations","getActiveAttrib","getAttribLocation","replaceLightNums","replace","numDirLights","numSpotLights","numRectAreaLights","numPointLights","numHemiLights","numDirLightShadows","numSpotLightShadows","numPointLightShadows","replaceClippingPlaneNums","numClippingPlanes","numClipIntersection","includePattern","resolveIncludes","includeReplacer","include","loopPattern","unrollLoops","loopReplacer","snippet","generatePrecision","precisionstring","generateShadowMapTypeDefine","shadowMapTypeDefine","shadowMapType","generateEnvMapTypeDefine","envMapTypeDefine","envMapMode","generateEnvMapModeDefine","envMapModeDefine","generateEnvMapBlendingDefine","envMapBlendingDefine","WebGLProgram","cacheKey","gammaFactorDefine","customExtensions","customDefines","createProgram","prefixVertex","prefixFragment","numMultiviewViews","isRawShaderMaterial","instancing","supportsVertexTextures","maxBones","useFog","fogExp2","objectSpaceNormalMap","uvsVertexOnly","useVertexTexture","doubleSided","flipSided","shadowMapEnabled","physicallyCorrectLights","outputEncoding","mapEncoding","matcapEncoding","envMapEncoding","emissiveMapEncoding","lightMapEncoding","depthPacking","isGLSL3ShaderMaterial","versionRegex","vertexGlsl","fragmentGlsl","glVertexShader","glFragmentShader","attachShader","bindAttribLocation","linkProgram","debug","checkShaderErrors","programLog","getProgramInfoLog","vertexLog","fragmentLog","runnable","haveDiagnostics","vertexErrors","fragmentErrors","getError","diagnostics","prefix","deleteShader","cachedUniforms","cachedAttributes","getAttributes","destroy","deleteProgram","usedTimes","WebGLPrograms","shaderIDs","MeshDepthMaterial","MeshDistanceMaterial","MeshNormalMaterial","MeshLambertMaterial","MeshPhongMaterial","MeshToonMaterial","MeshStandardMaterial","MeshPhysicalMaterial","MeshMatcapMaterial","LineBasicMaterial","LineDashedMaterial","PointsMaterial","ShadowMaterial","SpriteMaterial","parameterNames","allocateBones","skeleton","bones","nVertexUniforms","nVertexMatrices","getTextureEncodingFromMap","getParameters","shadows","nClipPlanes","nClipIntersection","isMeshStandardMaterial","isSkinnedMesh","isWebGLMultiviewRenderTarget","numViews","isFogExp2","maxMorphTargets","maxMorphNormals","directional","spot","rectArea","hemi","shadowMap","getProgramCacheKey","acquireProgram","pl","preexistingProgram","releaseProgram","pop","WebGLProperties","painterSortStable","groupOrder","reversePainterSortStable","WebGLRenderList","renderItems","renderItemsIndex","opaque","defaultProgram","getNextRenderItem","renderItem","customOpaqueSort","customTransparentSort","WebGLRenderLists","lists","onSceneDispose","cameras","list","UniformsCache","light","halfWidth","halfHeight","nextVersion","shadowCastingLightsFirst","lightA","lightB","WebGLLights","directionalLength","pointLength","spotLength","rectAreaLength","hemiLength","numDirectionalShadows","numPointShadows","numSpotShadows","ambient","probe","vector3","matrix42","setup","intensity","isAmbientLight","isLightProbe","sh","coefficients","isDirectionalLight","bias","mapSize","isSpotLight","penumbra","isRectAreaLight","isPointLight","isHemisphereLight","WebGLRenderState","lightsArray","shadowsArray","pushLight","pushShadow","shadowLight","setupLights","WebGLRenderStates","renderStates","renderState","has","isMeshDepthMaterial","isMeshDistanceMaterial","vsm_frag","vsm_vert","WebGLShadowMap","_renderer","_objects","_frustum","_shadowMapSize","_viewportSize","_viewport","_depthMaterials","_distanceMaterials","_materialCache","shadowMaterialVertical","SAMPLE_RATE","HALF_SAMPLE_RATE","shadow_pass","resolution","shadowMaterialHorizonal","HORIZONAL_PASS","fullScreenTri","fullScreenMesh","activeCubeFace","getActiveCubeFace","activeMipmapLevel","getActiveMipmapLevel","_state","setBlending","setTest","setScissorTest","shadowFrameExtents","getFrameExtents","isPointLightShadow","pars","mapPass","viewportCount","getViewportCount","vp","getViewport","updateMatrices","getFrustum","renderObject","VSMPass","renderBufferDirect","getDepthMaterialVariant","useMorphing","useSkinning","useInstancing","getDistanceMaterialVariant","getDepthMaterial","result","getMaterialVariant","customMaterial","customDepthMaterial","customDistanceMaterial","keyA","keyB","materialsForVariant","cachedMaterial","shadowCamera","depthMaterial","WebGLState","ColorBuffer","locked","currentColorMask","currentColorClear","setMask","colorMask","setLocked","lock","DepthBuffer","currentDepthMask","currentDepthFunc","currentDepthClear","depthMask","setFunc","clearDepth","StencilBuffer","currentStencilMask","currentStencilFunc","currentStencilRef","currentStencilFuncMask","currentStencilFail","currentStencilZFail","currentStencilZPass","currentStencilClear","stencilTest","stencilMask","setOp","stencilOp","clearStencil","colorBuffer","maxVertexAttributes","newAttributes","enabledAttributes","attributeDivisors","enabledCapabilities","currentProgram","currentBlendingEnabled","currentBlending","currentBlendEquation","currentBlendSrc","currentBlendDst","currentBlendEquationAlpha","currentBlendSrcAlpha","currentBlendDstAlpha","currentPremultipledAlpha","currentFlipSided","currentCullFace","currentLineWidth","currentPolygonOffsetFactor","currentPolygonOffsetUnits","lineWidthAvailable","glVersion","currentTextureSlot","currentBoundTextures","currentScissor","currentViewport","createTexture","bindTexture","texParameteri","texImage2D","emptyTextures","setFlipSided","setCullFace","initAttributes","enableAttribute","enableAttributeAndDivisor","meshPerAttribute","enableVertexAttribArray","disableUnusedAttributes","disableVertexAttribArray","useProgram","equationToGL","MIN_EXT","MAX_EXT","factorToGL","blendFuncSeparate","blendFunc","blendEquationSeparate","setMaterial","frontFaceCW","setPolygonOffset","frontFace","cullFace","setLineWidth","lineWidth","factor","activeTexture","webglSlot","webglType","webglTexture","boundTexture","unbindTexture","compressedTexImage2D","apply","texImage3D","WebGLTextures","_gl","utils","_videoTextures","useOffscreenCanvas","OffscreenCanvas","err","createCanvas","resizeImage","needsPowerOfTwo","needsNewCanvas","maxSize","HTMLImageElement","ImageBitmap","textureNeedsPowerOfTwo","textureNeedsGenerateMipmaps","supportsMips","generateMipmap","textureProperties","__maxMipLevel","LOG2E","getInternalFormat","internalFormatName","glFormat","glType","filterFallback","onTextureDispose","deallocateTexture","isVideoTexture","onRenderTargetDispose","deallocateRenderTarget","__webglInit","deleteTexture","__webglTexture","renderTargetProperties","deleteFramebuffer","__webglFramebuffer","__webglDepthbuffer","deleteRenderbuffer","__webglColorTexture","__webglDepthStencilTexture","__webglViewFramebuffers","textureUnits","resetTextureUnits","textureUnit","setTexture2D","slot","updateVideoTexture","__version","complete","uploadTexture","setTextureCube","initTexture","pixelStorei","isCompressed","isCompressedTexture","cubeImage","convert","glInternalFormat","setTextureParameters","mipmap","mipmapImage","setTextureCubeDynamic","wrappingToGL","filterToGL","textureType","__currentAnisotropy","texParameterf","TEXTURE_MAX_ANISOTROPY_EXT","isDepthTexture","setupFrameBufferTexture","framebuffer","attachment","textureTarget","bindFramebuffer","framebufferTexture2D","setupRenderBufferStorage","renderbuffer","isMultisample","bindRenderbuffer","getRenderTargetSamples","renderbufferStorageMultisample","renderbufferStorage","framebufferRenderbuffer","setupDepthTexture","isCube","webglDepthTexture","setupDepthRenderbuffer","createRenderbuffer","setupRenderTarget","isMultiview","createFramebuffer","__webglMultisampledFramebuffer","__webglColorRenderbuffer","__webglDepthRenderbuffer","ext","colorTexture","framebufferTextureMultiviewOVR","depthStencilTexture","viewFramebuffers","framebufferTextureLayer","updateRenderTargetMipmap","updateMultisampleRenderTarget","blitFramebuffer","warnedTexture2D","warnedTextureCube","WebGLUtils","HALF_FLOAT_OES","COMPRESSED_RGB_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT3_EXT","COMPRESSED_RGBA_S3TC_DXT5_EXT","COMPRESSED_RGB_PVRTC_4BPPV1_IMG","COMPRESSED_RGB_PVRTC_2BPPV1_IMG","COMPRESSED_RGBA_PVRTC_4BPPV1_IMG","COMPRESSED_RGBA_PVRTC_2BPPV1_IMG","COMPRESSED_RGB_ETC1_WEBGL","UNSIGNED_INT_24_8_WEBGL","WebGLMultiviewRenderTarget","setNumViews","WebGLMultiview","DEFAULT_NUMVIEWS","mat3","mat4","cameraArray","renderSize","available","maxNumViews","isAvailable","getContextAttributes","antialias","MAX_VIEWS_OVR","getCameraArray","isArrayCamera","updateCameraProjectionMatricesUniform","updateCameraViewMatricesUniform","updateObjectMatricesUniforms","isMultiviewCompatible","resizeRenderTarget","getDrawingBufferSize","attachCamera","detachCamera","flush","srcRenderTarget","srcFramebuffers","viewWidth","viewHeight","ArrayCamera","Group","isGroup","WebXRManager","referenceSpace","referenceSpaceType","pose","controllers","inputSourcesMap","Map","cameraL","cameraR","cameraVR","isPresenting","getController","controller","onSessionEvent","inputSource","onSessionEnd","forEach","setFramebuffer","animation","onRequestReferenceSpace","setFramebufferScaleFactor","setReferenceSpaceType","getReferenceSpace","setSession","layerInit","baseLayer","XRWebGLLayer","updateRenderState","requestReferenceSpace","then","updateInputSources","inputSources","removed","added","cameraLPos","cameraRPos","setProjectionFromUnion","ipd","projL","projR","topFov","bottomFov","leftFov","rightFov","zOffset","xOffset","near2","far2","left2","right2","top2","bottom2","updateCamera","getCamera","onAnimationFrameCallback","getViewerPose","views","transform","inputPose","getPose","targetRaySpace","WebGLRenderer","_context","_alpha","_depth","_stencil","_antialias","_premultipliedAlpha","_preserveDrawingBuffer","preserveDrawingBuffer","_powerPreference","powerPreference","_failIfMajorPerformanceCaveat","failIfMajorPerformanceCaveat","currentRenderList","currentRenderState","domElement","sortObjects","toneMappingExposure","toneMappingWhitePoint","_this","_isContextLost","_framebuffer","_currentActiveCubeFace","_currentActiveMipmapLevel","_currentRenderTarget","_currentFramebuffer","_currentMaterialId","_currentGeometryProgram","_currentCamera","_currentArrayCamera","_currentViewport","_currentScissor","_currentScissorTest","_width","_height","_pixelRatio","_opaqueSort","_transparentSort","_scissor","_scissorTest","_clipping","_clippingEnabled","_localClippingEnabled","_projScreenMatrix","_vector3","getTargetPixelRatio","contextAttributes","xrCompatible","onContextLost","onContextRestore","message","programCache","renderLists","morphtargets","bufferRenderer","indexedBufferRenderer","initGLContext","multiview","forceContextLoss","loseContext","forceContextRestore","restoreContext","getPixelRatio","setPixelRatio","updateStyle","setViewport","setDrawingBufferSize","pixelRatio","getCurrentViewport","getScissor","setScissor","getScissorTest","boolean","setOpaqueSort","method","setTransparentSort","bits","preventDefault","onMaterialDispose","deallocateMaterial","releaseMaterialProgramReference","programInfo","renderObjectImmediate","renderBufferImmediate","hasPositions","hasNormals","hasUvs","hasColors","programAttributes","positionArray","vertexAttribPointer","normalArray","uvArray","colorArray","tempScene","setProgram","updateBuffers","rangeFactor","setupVertexAttributes","dataCount","rangeStart","rangeCount","drawStart","drawEnd","drawCount","isLineSegments","isLineLoop","isSprite","isInstancedBufferGeometry","maxInstancedCount","materialDefaultAttributeValues","programAttribute","geometryAttribute","stride","isInstancedInterleavedBuffer","isInstancedBufferAttribute","vertexAttrib2fv","vertexAttrib3fv","vertexAttrib4fv","vertexAttrib1fv","compile","initMaterial","window","projectObject","opaqueObjects","transparentObjects","renderObjects","isLOD","isImmediateRenderObject","camera2","materialProperties","lightsStateVersion","programCacheKey","programChange","numSupportedMorphTargets","numSupportedMorphNormals","needsLights","materialNeedsLights","progUniforms","uniformsList","useCache","refreshProgram","refreshMaterial","refreshLights","p_uniforms","m_uniforms","isMeshPhongMaterial","isMeshToonMaterial","uCamPos","cameraPosition","isMeshLambertMaterial","isOrthographicCamera","boneTexture","boneMatrices","boneTextureSize","markUniformsLightsNeedsUpdate","refreshUniformsFog","refreshUniformsCommon","refreshUniformsLambert","refreshUniformsToon","refreshUniformsPhong","isMeshPhysicalMaterial","refreshUniformsPhysical","refreshUniformsStandard","isMeshMatcapMaterial","refreshUniformsMatcap","refreshUniformsDepth","refreshUniformsDistance","isMeshNormalMaterial","refreshUniformsNormal","isLineBasicMaterial","refreshUniformsLine","isLineDashedMaterial","refreshUniformsDash","isPointsMaterial","refreshUniformsPoints","isSpriteMaterial","refreshUniformsSprites","isShadowMaterial","ltc_1","LTC_1","ltc_2","LTC_2","uvScaleMap","uv2ScaleMap","isFog","density","readRenderTargetPixels","activeCubeFaceIndex","restore","textureFormat","checkFramebufferStatus","readPixels","copyFramebufferToTexture","level","levelScale","copyTexImage2D","copyTextureToTexture","srcTexture","dstTexture","texSubImage2D","FogExp2","Fog","InterleavedBuffer","isInterleavedBuffer","_vector$7","InterleavedBufferAttribute","interleavedBuffer","_geometry","_intersectPoint","_worldScale","_mvPosition","_alignedPosition","_rotatedPosition","_viewWorldMatrix","_vA$1","_vB$1","_vC$1","_uvA$1","_uvB$1","_uvC$1","Sprite","float32Array","transformVertex","vertexPosition","mvPosition","_v1$4","_v2$2","LOD","levels","addLevel","getObjectForDistance","SkinnedMesh","bindMode","bindMatrix","bindMatrixInverse","bind","calculateInverses","normalizeSkinWeights","skinWeight","_offsetMatrix","_identityMatrix","Skeleton","boneInverses","bone","isBone","getBoneByName","Bone","_instanceLocalMatrix","_instanceWorldMatrix","_instanceIntersects","_mesh","InstancedMesh","getMatrixAt","raycastTimes","instanceId","setMatrixAt","linecap","linejoin","_start","_end","_inverseMatrix$1","_ray$1","_sphere$2","Line","computeLineDistances","positionAttribute","linePrecision","localPrecision","localPrecisionSq","vStart","vEnd","interSegment","interRay","distSq","nbVertices","_start$1","_end$1","LineSegments","LineLoop","_inverseMatrix$2","_ray$2","_sphere$3","_position$1","Points","threshold","params","localThreshold","localThresholdSq","testPoint","rayPointDistanceSq","intersectPoint","distanceToRay","VideoTexture","video","readyState","HAVE_CURRENT_DATA","CompressedTexture","CanvasTexture","isCanvasTexture","DepthTexture","WireframeGeometry","o","ol","edge","edges","edge1","edge2","ParametricGeometry","func","slices","stacks","ParametricBufferGeometry","pu","pv","sliceCount","PolyhedronGeometry","PolyhedronBufferGeometry","vertexBuffer","uvBuffer","subdivide","applyRadius","generateUVs","getVertexByIndex","subdivideFace","cols","aj","bj","rows","pushVertex","azimuth","inclination","correctUVs","correctSeam","centroid","uvA","uvB","uvC","azi","correctUV","TetrahedronGeometry","TetrahedronBufferGeometry","OctahedronGeometry","OctahedronBufferGeometry","IcosahedronGeometry","IcosahedronBufferGeometry","DodecahedronGeometry","DodecahedronBufferGeometry","TubeGeometry","tubularSegments","radialSegments","closed","taper","bufferGeometry","TubeBufferGeometry","tangents","binormals","frames","computeFrenetFrames","P","generateBufferData","generateSegment","generateIndices","getPointAt","N","B","TorusKnotGeometry","tube","heightScale","TorusKnotBufferGeometry","P1","P2","T","calculatePositionOnCurve","cu","su","quOverP","cs","TorusGeometry","arc","TorusBufferGeometry","Earcut","triangulate","holeIndices","dim","hasHoles","outerLen","outerNode","linkedList","prev","invSize","eliminateHoles","earcutLinked","clockwise","last","signedArea","insertNode","removeNode","filterPoints","again","steiner","area","ear","pass","indexCurve","isEarHashed","isEar","cureLocalIntersections","splitEarcut","pointInTriangle","minTX","minTY","maxTX","maxTY","zOrder","prevZ","nextZ","locallyInside","isValidDiagonal","splitPolygon","queue","getLeftmost","compareX","eliminateHole","hole","findHoleBridge","hx","hy","mx","my","tanMin","sortLinked","tail","numMerges","pSize","qSize","inSize","leftmost","px","py","intersectsPolygon","middleInside","q1","q2","inside","Node","an","bp","sum","ShapeUtils","contour","isClockWise","pts","triangulateShape","holes","removeDupEndPts","addContour","holeIndex","ExtrudeGeometry","ExtrudeBufferGeometry","verticesArray","addShape","placeholder","curveSegments","steps","bevelEnabled","bevelThickness","bevelSize","bevelOffset","bevelSegments","extrudePath","uvgen","UVGenerator","WorldUVGenerator","amount","extrudePts","extrudeByPath","splineTube","binormal","position2","getSpacedPoints","ahole","hl","shapePoints","extractPoints","reverse","concat","scalePt2","pt","vec","bs","vert","vlen","flen","getBevelVec","inPt","inPrev","inNext","v_trans_x","v_trans_y","shrink_by","v_prev_x","v_prev_y","v_next_x","v_next_y","v_prev_lensq","collinear0","v_prev_len","v_next_len","ptPrevShift_x","ptPrevShift_y","ptNextShift_x","ptNextShift_y","sf","v_trans_lensq","direction_eq","contourMovements","holesMovements","oneHoleMovements","verticesMovements","buildLidFaces","buildSideFaces","layer","f3","layeroffset","sidewalls","sl","slen1","slen2","f4","addVertex","nextIndex","generateTopUV","addUV","generateSideWallUV","vector2","indexA","indexB","indexC","a_x","a_y","b_x","b_y","c_x","c_y","indexD","a_z","b_z","c_z","d_x","d_y","d_z","TextGeometry","text","TextBufferGeometry","font","isFont","generateShapes","SphereGeometry","phiStart","phiLength","thetaStart","thetaLength","SphereBufferGeometry","thetaEnd","grid","verticesRow","uOffset","RingGeometry","innerRadius","outerRadius","thetaSegments","phiSegments","RingBufferGeometry","segment","radiusStep","thetaSegmentLevel","LatheGeometry","segments","LatheBufferGeometry","base","inverseSegments","n1","n2","ShapeGeometry","ShapeBufferGeometry","toJSON$1","shapeHole","indexOffset","shapeVertices","shapeHoles","EdgesGeometry","thresholdAngle","thresholdDot","sourceVertices","face1","face2","CylinderGeometry","radiusTop","radiusBottom","openEnded","CylinderBufferGeometry","indexArray","generateTorso","generateCap","slope","indexRow","sinTheta","cosTheta","centerIndexStart","centerIndexEnd","ConeGeometry","ConeBufferGeometry","CircleGeometry","CircleBufferGeometry","Geometries","freeze","RawShaderMaterial","Materials","AnimationUtils","arraySlice","from","to","isTypedArray","convertArray","forceClone","ArrayBuffer","isView","DataView","getKeyframeOrder","times","compareTime","sortedArray","nValues","srcOffset","flattenJSON","jsonKeys","valuePropertyName","subclip","sourceClip","startFrame","endFrame","fps","clip","tracks","track","valueSize","getValueSize","minStartTime","shift","resetDuration","Interpolant","parameterPositions","sampleValues","sampleSize","resultBuffer","_cachedIndex","evaluate","pp","validate_interval","seek","linear_scan","forward_scan","giveUpAt","afterEnd_","t1global","beforeStart_","mid","intervalChanged_","interpolate_","settings","DefaultSettings_","getSettings_","copySampleValue_","CubicInterpolant","_weightPrev","_offsetPrev","_weightNext","_offsetNext","endingStart","endingEnd","iPrev","iNext","tPrev","tNext","halfDt","o1","o0","oP","oN","wP","wN","ppp","sP","sN","LinearInterpolant","offset1","offset0","weight1","weight0","DiscreteInterpolant","KeyframeTrack","interpolation","TimeBufferType","ValueBufferType","setInterpolation","DefaultInterpolation","trackType","json","getInterpolation","ValueTypeName","InterpolantFactoryMethodDiscrete","InterpolantFactoryMethodLinear","InterpolantFactoryMethodSmooth","factoryMethod","createInterpolant","timeOffset","timeScale","startTime","endTime","nKeys","validate","valid","prevTime","currTime","optimize","smoothInterpolation","writeIndex","keep","timeNext","offsetP","offsetN","readOffset","writeOffset","TypedKeyframeTrack","BooleanKeyframeTrack","ColorKeyframeTrack","NumberKeyframeTrack","QuaternionLinearInterpolant","QuaternionKeyframeTrack","StringKeyframeTrack","VectorKeyframeTrack","AnimationClip","duration","getTrackTypeForValueTypeName","typeName","toLowerCase","parseKeyframeTrack","jsonTracks","frameTime","clipTracks","CreateFromMorphTargetSequence","morphTargetSequence","noLoop","numMorphTargets","findByName","objectOrClipArray","clipArray","animations","CreateClipsFromMorphTargetSequences","animationToMorphTargets","pattern","parts","animationMorphTargets","clips","parseAnimation","addNonemptyTrack","trackName","animationKeys","propertyName","destTracks","clipName","hierarchyTracks","hierarchy","morphTargetNames","morphTargetName","animationKey","boneName","Cache","files","file","LoadingManager","onLoad","onProgress","onError","isLoading","itemsLoaded","itemsTotal","urlModifier","handlers","onStart","itemStart","itemEnd","itemError","resolveURL","setURLModifier","addHandler","regex","loader","removeHandler","getHandler","DefaultLoadingManager","Loader","manager","crossOrigin","resourcePath","load","setCrossOrigin","setPath","setResourcePath","loading","FileLoader","cached","setTimeout","dataUriRegex","dataUriRegexResult","mimeType","isBase64","decodeURIComponent","atob","response","responseType","charCodeAt","Blob","parser","DOMParser","parseFromString","request","XMLHttpRequest","open","callbacks","withCredentials","overrideMimeType","header","requestHeader","setRequestHeader","send","setResponseType","setWithCredentials","setMimeType","AnimationLoader","CompressedTextureLoader","loadTexture","texDatas","loaded","mipmapCount","isCubemap","DataTextureLoader","texData","ImageLoader","onImageLoad","onImageError","substr","CubeTextureLoader","urls","TextureLoader","isJPEG","search","Curve","arcLengthDivisions","getPoint","optionalTarget","getUtoTmapping","getPoints","divisions","getLength","lengths","getLengths","cacheArcLengths","current","updateArcLengths","arcLengths","targetArcLength","comparison","lengthBefore","lengthAfter","segmentLength","segmentFraction","getTangent","t2","pt1","pt2","getTangentAt","mat","MAX_VALUE","tz","fromJSON","EllipseCurve","aX","aY","xRadius","yRadius","aStartAngle","aEndAngle","aClockwise","aRotation","isEllipseCurve","twoPi","deltaAngle","samePoints","ArcCurve","aRadius","isArcCurve","CubicPoly","c0","initCatmullRom","x3","tension","initNonuniformCatmullRom","dt0","dt1","dt2","calc","t3","pz","CatmullRomCurve3","curveType","isCatmullRomCurve3","intPoint","weight","CatmullRom","QuadraticBezierP0","QuadraticBezierP1","QuadraticBezierP2","QuadraticBezier","CubicBezierP0","CubicBezierP1","CubicBezierP2","CubicBezierP3","CubicBezier","CubicBezierCurve","v3","isCubicBezierCurve","CubicBezierCurve3","isCubicBezierCurve3","LineCurve","isLineCurve","LineCurve3","isLineCurve3","QuadraticBezierCurve","isQuadraticBezierCurve","QuadraticBezierCurve3","isQuadraticBezierCurve3","SplineCurve","isSplineCurve","Curves","CurvePath","curves","autoClose","curve","closePath","startPoint","endPoint","curveLengths","getCurveLengths","lens","cacheLengths","sums","Path","currentPoint","moveTo","lineTo","quadraticCurveTo","aCPx","aCPy","bezierCurveTo","aCP1x","aCP1y","aCP2x","aCP2y","splineThru","npts","absarc","absellipse","ellipse","firstPoint","lastPoint","Shape","getPointsHoles","holesPts","Light","HemisphereLight","LightShadow","_frameExtents","_viewportCount","_viewports","_lightPositionWorld","_lookTarget","shadowMatrix","projScreenMatrix","lookTarget","lightPositionWorld","viewportIndex","SpotLightShadow","isSpotLightShadow","SpotLight","power","PointLightShadow","_cubeDirections","_cubeUps","PointLight","OrthographicCamera","zoomW","zoomH","scaleW","scaleH","DirectionalLightShadow","isDirectionalLightShadow","DirectionalLight","AmbientLight","RectAreaLight","MaterialLoader","getTexture","shading","setTextures","LoaderUtils","decodeText","TextDecoder","decode","fromCharCode","escape","extractUrlBase","lastIndexOf","InstancedBufferGeometry","InstancedBufferAttribute","BufferGeometryLoader","typedArray","TYPED_ARRAYS","bufferAttributeConstr","bufferAttribute","drawcalls","offsets","ObjectLoader","parseShape","parseGeometries","parseImages","parseTextures","parseMaterials","parseObject","parseAnimations","bufferGeometryLoader","details","geometryShapes","geometryLoader","LegacyJSONLoader","loadImage","currentUrl","parseConstant","TEXTURE_MAPPING","TEXTURE_WRAPPING","TEXTURE_FILTER","getGeometry","getMaterial","ImageBitmapLoader","createImageBitmap","fetch","setOptions","res","blob","imageBitmap","catch","ShapePath","subPaths","currentPath","toShapes","isCCW","noHoles","toShapesNoHoles","inSubpaths","tmpPath","tmpShape","isPointInsidePolygon","inPolygon","polyLen","edgeLowPt","edgeHighPt","edgeDx","edgeDy","perpEdge","solid","holesFirst","betterShapeHoles","newShapes","newShapeHoles","mainIdx","tmpPoints","ambiguous","toChange","sIdx","sLen","sho","hIdx","ho","hole_unassigned","s2Idx","froms","tos","tmpHoles","Font","paths","createPaths","chars","line_height","yMax","yMin","underlineThickness","char","ret","createPath","glyph","glyphs","familyName","cpx","cpy","cpx1","cpy1","cpx2","cpy2","outline","_cachedOutline","action","ha","FontLoader","substring","AudioContext","webkitAudioContext","AudioLoader","bufferCopy","decodeAudioData","audioBuffer","SphericalHarmonics3","isSphericalHarmonics3","zero","getAt","coeff","addScale","getIrradianceAt","getBasisAt","shBasis","LightProbe","HemisphereLightProbe","sky","ground","isHemisphereLightProbe","AmbientLightProbe","isAmbientLightProbe","_eyeRight","_eyeLeft","StereoCamera","eyeSep","_cache","eyeSepHalf","eyeSepOnProjection","ymax","xmin","xmax","Clock","autoStart","oldTime","elapsedTime","running","performance","Date","now","getElapsedTime","getDelta","newTime","_position$2","_quaternion$3","_scale$1","_orientation","AudioListener","gain","createGain","connect","destination","timeDelta","_clock","getInput","removeFilter","disconnect","getFilter","setFilter","getMasterVolume","setMasterVolume","setTargetAtTime","currentTime","positionX","linearRampToValueAtTime","positionY","positionZ","forwardX","forwardY","forwardZ","upX","upY","upZ","setOrientation","Audio","autoplay","detune","loop","loopStart","loopEnd","playbackRate","isPlaying","hasPlaybackControl","sourceType","_startedAt","_pausedAt","filters","getOutput","setNodeSource","audioNode","setMediaElementSource","mediaElement","createMediaElementSource","setMediaStreamSource","mediaStream","createMediaStreamSource","setBuffer","play","delay","createBufferSource","onended","onEnded","setDetune","setPlaybackRate","pause","getFilters","setFilters","getDetune","getPlaybackRate","getLoop","setLoop","setLoopStart","setLoopEnd","getVolume","setVolume","_position$3","_quaternion$4","_scale$2","_orientation$1","PositionalAudio","panner","createPanner","panningModel","getRefDistance","refDistance","setRefDistance","getRolloffFactor","rolloffFactor","setRolloffFactor","getDistanceModel","distanceModel","setDistanceModel","getMaxDistance","maxDistance","setMaxDistance","setDirectionalCone","coneInnerAngle","coneOuterAngle","coneOuterGain","orientationX","orientationY","orientationZ","AudioAnalyser","audio","fftSize","analyser","createAnalyser","frequencyBinCount","getFrequencyData","getByteFrequencyData","getAverageFrequency","PropertyMixer","binding","mixFunction","_slerp","_select","_lerp","_mixBufferRegion","cumulativeWeight","useCount","referenceCount","accumulate","accuIndex","currentWeight","mix","originalValueOffset","saveOriginalState","getValue","restoreOriginalState","_RESERVED_CHARS_RE","_reservedRe","RegExp","_wordChar","_wordCharOrDot","_directoryRe","_nodeRe","_objectRe","_propertyRe","_trackRe","_supportedObjectNames","Composite","targetGroup","optionalParsedPath","parsedPath","PropertyBinding","parseTrackName","_targetGroup","_bindings","subscribe_","firstValidIndex","nCachedObjects_","bindings","unbind","rootNode","node","findNode","nodeName","root","isAnimationObjectGroup","sanitizeNodeName","matches","results","objectName","objectIndex","propertyIndex","lastDot","searchNodeSubtree","childNode","subTreeNode","_getValue_unavailable","_setValue_unavailable","BindingType","Direct","EntireArray","ArrayElement","HasFromToArray","Versioning","None","NeedsUpdate","MatrixWorldNeedsUpdate","GetterByBindingType","getValue_direct","getValue_array","resolvedProperty","getValue_arrayElement","getValue_toArray","SetterByBindingTypeAndVersioning","setValue_direct","targetObject","setValue_direct_setNeedsUpdate","setValue_direct_setMatrixWorldNeedsUpdate","setValue_array","dest","setValue_array_setNeedsUpdate","setValue_array_setMatrixWorldNeedsUpdate","setValue_arrayElement","setValue_arrayElement_setNeedsUpdate","setValue_arrayElement_setMatrixWorldNeedsUpdate","setValue_fromArray","setValue_fromArray_setNeedsUpdate","setValue_fromArray_setMatrixWorldNeedsUpdate","getValue_unbound","targetArray","sourceArray","nodeProperty","versioning","bindingType","_getValue_unbound","_setValue_unbound","AnimationObjectGroup","_indicesByUUID","_paths","_parsedPaths","_bindingsIndicesByPath","stats","total","inUse","bindingsPerObject","nObjects","nCachedObjects","indicesByUUID","parsedPaths","nBindings","knownObject","firstActiveIndex","lastCachedObject","bindingsForPath","lastCached","lastCachedIndex","firstActiveObject","firstActive","uncache","lastObject","indicesByPath","unsubscribe_","lastBindingsIndex","lastBindings","lastBindingsPath","AnimationAction","mixer","localRoot","_mixer","_clip","_localRoot","nTracks","interpolants","interpolantSettings","interpolant","_interpolantSettings","_interpolants","_propertyBindings","_cacheIndex","_byClipCacheIndex","_timeScaleInterpolant","_weightInterpolant","_loopCount","_startTime","_effectiveTimeScale","_effectiveWeight","repetitions","paused","clampWhenFinished","zeroSlopeAtStart","zeroSlopeAtEnd","_activateAction","_deactivateAction","stopFading","stopWarping","isRunning","_isActiveAction","isScheduled","startAt","setEffectiveWeight","getEffectiveWeight","fadeIn","_scheduleFading","fadeOut","crossFadeFrom","fadeOutAction","warp","fadeInDuration","fadeOutDuration","startEndRatio","endStartRatio","crossFadeTo","fadeInAction","weightInterpolant","_takeBackControlInterpolant","setEffectiveTimeScale","getEffectiveTimeScale","setDuration","syncWith","halt","startTimeScale","endTimeScale","_lendControlInterpolant","timeScaleInterpolant","getMixer","getClip","getRoot","_root","_update","deltaTime","timeDirection","_updateWeight","timeRunning","_updateTimeScale","clipTime","_updateTime","propertyMixers","interpolantValue","loopCount","pingPong","_setEndings","handle_stop","loopDelta","pending","atStart","atEnd","weightNow","weightThen","AnimationMixer","_initMemoryManager","_accuIndex","_bindAction","prototypeAction","rootUuid","bindingsByRoot","_bindingsByRootAndName","bindingsByName","_addInactiveBinding","clipUuid","actionsForClip","_actionsByClip","knownActions","_addInactiveAction","_lendBinding","_lendAction","_takeBackBinding","_takeBackAction","_actions","_nActiveActions","_nActiveBindings","_controlInterpolants","_nActiveControlInterpolants","actions","controlInterpolants","actionsByClip","actionByRoot","_removeInactiveAction","lastInactiveAction","cacheIndex","knownActionsForClip","lastKnownAction","byClipCacheIndex","_removeInactiveBindingsForAction","_removeInactiveBinding","prevIndex","lastActiveIndex","firstInactiveAction","firstInactiveIndex","lastActiveAction","bindingByName","propBinding","lastInactiveBinding","firstInactiveBinding","lastActiveBinding","_controlInterpolantsResultBuffer","__cacheIndex","lastActiveInterpolant","clipAction","optionalRoot","clipObject","existingAction","newAction","stopAllAction","nActions","setTime","timeInSeconds","uncacheClip","actionsToRemove","uncacheRoot","uncacheAction","Uniform","InstancedInterleavedBuffer","Raycaster","PointCloud","ascSort","intersectObject","setFromCamera","coords","intersectObjects","Spherical","other","makeSafe","setFromCartesianCoords","Cylindrical","_vector$8","Box2","_startP","_startEnd","Line3","distanceSq","closestPointToPointParameter","clampToLine","startEnd2","startEnd_startP","ImmediateRenderObject","_vector$9","SpotLightHelper","cone","coneLength","coneWidth","_vector$a","_boneMatrix","_matrixWorldInv","getBoneList","boneList","SkeletonHelper","PointLightHelper","sphereSize","_vector$b","_color1","_color2","HemisphereLightHelper","GridHelper","PolarGridHelper","radials","circles","_v1$5","_v2$3","_v3$1","DirectionalLightHelper","lightPlane","targetLine","_vector$c","_camera","CameraHelper","pointMap","colorFrustum","colorCone","colorUp","colorTarget","colorCross","addLine","addPoint","setPoint","_box$3","BoxHelper","Box3Helper","PlaneHelper","positions2","_axis","_lineGeometry","_coneGeometry","ArrowHelper","headLength","headWidth","setDirection","setColor","AxesHelper","LOD_MIN","LOD_MAX","SIZE_MAX","EXTRA_LOD_SIGMA","TOTAL_LODS","MAX_SAMPLES","ENCODINGS","_flatCamera","_blurMaterial","_getBlurShader","_equirectShader","_cubemapShader","ref","_createPlanes","_lodPlanes","_sizeLods","_sigmas","_pingPongRenderTarget","PHI","INV_PHI","_axisDirections","PMREMGenerator","_compileMaterial","fromScene","sigma","cubeUVRenderTarget","_allocateTargets","_sceneToCubeUV","_blur","_applyPMREM","_cleanup","fromEquirectangular","equirectangular","fromCubemap","cubemap","_textureToCubeUV","compileCubemapShader","_getCubemapShader","compileEquirectangularShader","_getEquirectShader","lod","sizeLod","texelSize","cubeFaces","positionSize","uvSize","faceIndexSize","coordinates","fill","_createRenderTarget","cubeCamera","upSign","forwardSign","maxComponent","fExp","log2","col","_setViewport","tmpScene","invDpr","poleAxis","lodIn","lodOut","_halfBlur","targetIn","targetOut","sigmaRadians","STANDARD_DEVIATIONS","blurScene","blurUniforms","pixels","radiansPerPixel","sigmaPixels","weights","exp","outputSize","shaderMaterial","_getCommonVertexShader","_getEncodings","Face4","LineStrip","LinePieces","MeshFaceMaterial","MultiMaterial","Particle","ParticleSystem","PointCloudMaterial","ParticleBasicMaterial","ParticleSystemMaterial","Vertex","DynamicBufferAttribute","setDynamic","Int8Attribute","Uint8Attribute","Uint8ClampedAttribute","Int16Attribute","Uint16Attribute","Int32Attribute","Uint32Attribute","Float32Attribute","Float64Attribute","construct","createPointsGeometry","createGeometry","createSpacedPointsGeometry","fromPoints","ClosedSplineCurve3","SplineCurve3","Spline","initFromArray","getControlPointsArray","reparametrizeByArcLength","AxisHelper","BoundingBoxHelper","EdgesHelper","setColors","WireframeHelper","Handlers","XHRLoader","BinaryTextureLoader","setTexturePath","isIntersectionBox","isIntersectionSphere","random16","nearestPowerOfTwo","nextPowerOfTwo","flattenToArrayOffset","multiplyVector3","multiplyVector3Array","applyToBuffer","applyToVector3Array","extractPosition","getPosition","multiplyToArray","multiplyVector4","rotateAxis","crossVector","rotateByAxis","makeFrustum","isIntersectionLine","isIntersectionPlane","barycoordFromPoint","midpoint","extractAllPoints","extrude","makeGeometry","fromAttribute","distanceToManhattan","lengthManhattan","setEulerFromRotationMatrix","setEulerFromQuaternion","getPositionFromMatrix","getScaleFromMatrix","getColumnFromMatrix","applyProjection","computeTangents","getChildByName","renderDepth","getWorldRotation","eulerOrder","useQuaternion","setDrawMode","drawMode","initBones","setLens","onlyShadow","shadowCameraFov","shadowCameraLeft","shadowCameraRight","shadowCameraTop","shadowCameraBottom","shadowCameraVisible","shadowDarkness","shadowMapWidth","shadowMapHeight","dynamic","copyIndicesArray","setArray","addIndex","addAttribute","addDrawCall","clearDrawCalls","computeOffsets","removeAttribute","getArrays","addShapeList","wrapAround","overdraw","wrapRGB","metal","clearTarget","animate","getCurrentRenderTarget","getPrecision","resetGLState","supportsFloatTextures","supportsHalfFloatTextures","supportsStandardDerivatives","supportsCompressedTextureS3TC","supportsCompressedTexturePVRTC","supportsBlendMinMax","supportsInstancedArrays","enableScissorTest","addPrePlugin","addPostPlugin","updateShadowMap","setFaceCulling","allocTextureUnit","setTexture","getActiveMipMapLevel","shadowMapCullFace","vr","gammaInput","gammaOutput","renderReverseSided","renderSingleSided","activeMipMapLevel","audioLoader","getData","updateCubeMap","GeometryUtils","geometry1","loadTextureCube","loadCompressedTexture","loadCompressedTextureCube","CanvasRenderer","JSONLoader","SceneUtils","createMultiMaterialObject","detach","LensFlare","revision","CubeGeometry"],"mappings":"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","sourcesContent":["// ThreeJS 3D library.\n\n(function(global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n    typeof define === 'function' && define.amd ? define(['exports'], factory) :\n    (global = global || self, factory(global.THREE = {}));\n}(this, (function(exports) {\n  'use strict';\n\n  // Polyfills\n\n  if (Number.EPSILON === undefined) {\n\n    Number.EPSILON = Math.pow(2, -52);\n\n  }\n\n  if (Number.isInteger === undefined) {\n\n    // Missing in IE\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isInteger\n\n    Number.isInteger = function(value) {\n\n      return typeof value === 'number' && isFinite(value) && Math.floor(value) === value;\n\n    };\n\n  }\n\n  //\n\n  if (Math.sign === undefined) {\n\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/sign\n\n    Math.sign = function(x) {\n\n      return (x < 0) ? -1 : (x > 0) ? 1 : +x;\n\n    };\n\n  }\n\n  if ('name' in Function.prototype === false) {\n\n    // Missing in IE\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/name\n\n    Object.defineProperty(Function.prototype, 'name', {\n\n      get: function() {\n\n        return this.toString().match(/^\\s*function\\s*([^\\(\\s]*)/)[1];\n\n      }\n\n    });\n\n  }\n\n  if (Object.assign === undefined) {\n\n    // Missing in IE\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n\n    Object.assign = function(target) {\n\n      if (target === undefined || target === null) {\n\n        throw new TypeError('Cannot convert undefined or null to object');\n\n      }\n\n      var output = Object(target);\n\n      for (var index = 1; index < arguments.length; index++) {\n\n        var source = arguments[index];\n\n        if (source !== undefined && source !== null) {\n\n          for (var nextKey in source) {\n\n            if (Object.prototype.hasOwnProperty.call(source, nextKey)) {\n\n              output[nextKey] = source[nextKey];\n\n            }\n\n          }\n\n        }\n\n      }\n\n      return output;\n\n    };\n\n  }\n\n  var REVISION = '112';\n  var MOUSE = {\n    LEFT: 0,\n    MIDDLE: 1,\n    RIGHT: 2,\n    ROTATE: 0,\n    DOLLY: 1,\n    PAN: 2\n  };\n  var TOUCH = {\n    ROTATE: 0,\n    PAN: 1,\n    DOLLY_PAN: 2,\n    DOLLY_ROTATE: 3\n  };\n  var CullFaceNone = 0;\n  var CullFaceBack = 1;\n  var CullFaceFront = 2;\n  var CullFaceFrontBack = 3;\n  var FrontFaceDirectionCW = 0;\n  var FrontFaceDirectionCCW = 1;\n  var BasicShadowMap = 0;\n  var PCFShadowMap = 1;\n  var PCFSoftShadowMap = 2;\n  var VSMShadowMap = 3;\n  var FrontSide = 0;\n  var BackSide = 1;\n  var DoubleSide = 2;\n  var FlatShading = 1;\n  var SmoothShading = 2;\n  var NoColors = 0;\n  var FaceColors = 1;\n  var VertexColors = 2;\n  var NoBlending = 0;\n  var NormalBlending = 1;\n  var AdditiveBlending = 2;\n  var SubtractiveBlending = 3;\n  var MultiplyBlending = 4;\n  var CustomBlending = 5;\n  var AddEquation = 100;\n  var SubtractEquation = 101;\n  var ReverseSubtractEquation = 102;\n  var MinEquation = 103;\n  var MaxEquation = 104;\n  var ZeroFactor = 200;\n  var OneFactor = 201;\n  var SrcColorFactor = 202;\n  var OneMinusSrcColorFactor = 203;\n  var SrcAlphaFactor = 204;\n  var OneMinusSrcAlphaFactor = 205;\n  var DstAlphaFactor = 206;\n  var OneMinusDstAlphaFactor = 207;\n  var DstColorFactor = 208;\n  var OneMinusDstColorFactor = 209;\n  var SrcAlphaSaturateFactor = 210;\n  var NeverDepth = 0;\n  var AlwaysDepth = 1;\n  var LessDepth = 2;\n  var LessEqualDepth = 3;\n  var EqualDepth = 4;\n  var GreaterEqualDepth = 5;\n  var GreaterDepth = 6;\n  var NotEqualDepth = 7;\n  var MultiplyOperation = 0;\n  var MixOperation = 1;\n  var AddOperation = 2;\n  var NoToneMapping = 0;\n  var LinearToneMapping = 1;\n  var ReinhardToneMapping = 2;\n  var Uncharted2ToneMapping = 3;\n  var CineonToneMapping = 4;\n  var ACESFilmicToneMapping = 5;\n\n  var UVMapping = 300;\n  var CubeReflectionMapping = 301;\n  var CubeRefractionMapping = 302;\n  var EquirectangularReflectionMapping = 303;\n  var EquirectangularRefractionMapping = 304;\n  var SphericalReflectionMapping = 305;\n  var CubeUVReflectionMapping = 306;\n  var CubeUVRefractionMapping = 307;\n  var RepeatWrapping = 1000;\n  var ClampToEdgeWrapping = 1001;\n  var MirroredRepeatWrapping = 1002;\n  var NearestFilter = 1003;\n  var NearestMipmapNearestFilter = 1004;\n  var NearestMipMapNearestFilter = 1004;\n  var NearestMipmapLinearFilter = 1005;\n  var NearestMipMapLinearFilter = 1005;\n  var LinearFilter = 1006;\n  var LinearMipmapNearestFilter = 1007;\n  var LinearMipMapNearestFilter = 1007;\n  var LinearMipmapLinearFilter = 1008;\n  var LinearMipMapLinearFilter = 1008;\n  var UnsignedByteType = 1009;\n  var ByteType = 1010;\n  var ShortType = 1011;\n  var UnsignedShortType = 1012;\n  var IntType = 1013;\n  var UnsignedIntType = 1014;\n  var FloatType = 1015;\n  var HalfFloatType = 1016;\n  var UnsignedShort4444Type = 1017;\n  var UnsignedShort5551Type = 1018;\n  var UnsignedShort565Type = 1019;\n  var UnsignedInt248Type = 1020;\n  var AlphaFormat = 1021;\n  var RGBFormat = 1022;\n  var RGBAFormat = 1023;\n  var LuminanceFormat = 1024;\n  var LuminanceAlphaFormat = 1025;\n  var RGBEFormat = RGBAFormat;\n  var DepthFormat = 1026;\n  var DepthStencilFormat = 1027;\n  var RedFormat = 1028;\n  var RedIntegerFormat = 1029;\n  var RGFormat = 1030;\n  var RGIntegerFormat = 1031;\n  var RGBIntegerFormat = 1032;\n  var RGBAIntegerFormat = 1033;\n\n  var RGB_S3TC_DXT1_Format = 33776;\n  var RGBA_S3TC_DXT1_Format = 33777;\n  var RGBA_S3TC_DXT3_Format = 33778;\n  var RGBA_S3TC_DXT5_Format = 33779;\n  var RGB_PVRTC_4BPPV1_Format = 35840;\n  var RGB_PVRTC_2BPPV1_Format = 35841;\n  var RGBA_PVRTC_4BPPV1_Format = 35842;\n  var RGBA_PVRTC_2BPPV1_Format = 35843;\n  var RGB_ETC1_Format = 36196;\n  var RGBA_ASTC_4x4_Format = 37808;\n  var RGBA_ASTC_5x4_Format = 37809;\n  var RGBA_ASTC_5x5_Format = 37810;\n  var RGBA_ASTC_6x5_Format = 37811;\n  var RGBA_ASTC_6x6_Format = 37812;\n  var RGBA_ASTC_8x5_Format = 37813;\n  var RGBA_ASTC_8x6_Format = 37814;\n  var RGBA_ASTC_8x8_Format = 37815;\n  var RGBA_ASTC_10x5_Format = 37816;\n  var RGBA_ASTC_10x6_Format = 37817;\n  var RGBA_ASTC_10x8_Format = 37818;\n  var RGBA_ASTC_10x10_Format = 37819;\n  var RGBA_ASTC_12x10_Format = 37820;\n  var RGBA_ASTC_12x12_Format = 37821;\n  var LoopOnce = 2200;\n  var LoopRepeat = 2201;\n  var LoopPingPong = 2202;\n  var InterpolateDiscrete = 2300;\n  var InterpolateLinear = 2301;\n  var InterpolateSmooth = 2302;\n  var ZeroCurvatureEnding = 2400;\n  var ZeroSlopeEnding = 2401;\n  var WrapAroundEnding = 2402;\n  var TrianglesDrawMode = 0;\n  var TriangleStripDrawMode = 1;\n  var TriangleFanDrawMode = 2;\n  var LinearEncoding = 3000;\n  var sRGBEncoding = 3001;\n  var GammaEncoding = 3007;\n  var RGBEEncoding = 3002;\n  var LogLuvEncoding = 3003;\n  var RGBM7Encoding = 3004;\n  var RGBM16Encoding = 3005;\n  var RGBDEncoding = 3006;\n  var BasicDepthPacking = 3200;\n  var RGBADepthPacking = 3201;\n  var TangentSpaceNormalMap = 0;\n  var ObjectSpaceNormalMap = 1;\n\n  var ZeroStencilOp = 0;\n  var KeepStencilOp = 7680;\n  var ReplaceStencilOp = 7681;\n  var IncrementStencilOp = 7682;\n  var DecrementStencilOp = 7683;\n  var IncrementWrapStencilOp = 34055;\n  var DecrementWrapStencilOp = 34056;\n  var InvertStencilOp = 5386;\n\n  var NeverStencilFunc = 512;\n  var LessStencilFunc = 513;\n  var EqualStencilFunc = 514;\n  var LessEqualStencilFunc = 515;\n  var GreaterStencilFunc = 516;\n  var NotEqualStencilFunc = 517;\n  var GreaterEqualStencilFunc = 518;\n  var AlwaysStencilFunc = 519;\n\n  var StaticDrawUsage = 35044;\n  var DynamicDrawUsage = 35048;\n  var StreamDrawUsage = 35040;\n  var StaticReadUsage = 35045;\n  var DynamicReadUsage = 35049;\n  var StreamReadUsage = 35041;\n  var StaticCopyUsage = 35046;\n  var DynamicCopyUsage = 35050;\n  var StreamCopyUsage = 35042;\n\n  /**\n   * https://github.com/mrdoob/eventdispatcher.js/\n   */\n\n  function EventDispatcher() {}\n\n  Object.assign(EventDispatcher.prototype, {\n\n    addEventListener: function(type, listener) {\n\n      if (this._listeners === undefined) {\n        this._listeners = {};\n      }\n\n      var listeners = this._listeners;\n\n      if (listeners[type] === undefined) {\n\n        listeners[type] = [];\n\n      }\n\n      if (listeners[type].indexOf(listener) === -1) {\n\n        listeners[type].push(listener);\n\n      }\n\n    },\n\n    hasEventListener: function(type, listener) {\n\n      if (this._listeners === undefined) {\n        return false;\n      }\n\n      var listeners = this._listeners;\n\n      return listeners[type] !== undefined && listeners[type].indexOf(listener) !== -1;\n\n    },\n\n    removeEventListener: function(type, listener) {\n\n      if (this._listeners === undefined) {\n        return;\n      }\n\n      var listeners = this._listeners;\n      var listenerArray = listeners[type];\n\n      if (listenerArray !== undefined) {\n\n        var index = listenerArray.indexOf(listener);\n\n        if (index !== -1) {\n\n          listenerArray.splice(index, 1);\n\n        }\n\n      }\n\n    },\n\n    dispatchEvent: function(event) {\n\n      if (this._listeners === undefined) {\n        return;\n      }\n\n      var listeners = this._listeners;\n      var listenerArray = listeners[event.type];\n\n      if (listenerArray !== undefined) {\n\n        event.target = this;\n\n        var array = listenerArray.slice(0);\n\n        for (var i = 0, l = array.length; i < l; i++) {\n\n          array[i].call(this, event);\n\n        }\n\n      }\n\n    }\n\n  });\n\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  var _lut = [];\n\n  for (var i = 0; i < 256; i++) {\n\n    _lut[i] = (i < 16 ? '0' : '') + (i).toString(16);\n\n  }\n\n  var _Math = {\n\n    DEG2RAD: Math.PI / 180,\n    RAD2DEG: 180 / Math.PI,\n\n    generateUUID: function() {\n\n      // http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136\n\n      var d0 = Math.random() * 0xffffffff | 0;\n      var d1 = Math.random() * 0xffffffff | 0;\n      var d2 = Math.random() * 0xffffffff | 0;\n      var d3 = Math.random() * 0xffffffff | 0;\n      var uuid = _lut[d0 & 0xff] + _lut[d0 >> 8 & 0xff] + _lut[d0 >> 16 & 0xff] + _lut[d0 >> 24 & 0xff] + '-' +\n        _lut[d1 & 0xff] + _lut[d1 >> 8 & 0xff] + '-' + _lut[d1 >> 16 & 0x0f | 0x40] + _lut[d1 >> 24 & 0xff] + '-' +\n        _lut[d2 & 0x3f | 0x80] + _lut[d2 >> 8 & 0xff] + '-' + _lut[d2 >> 16 & 0xff] + _lut[d2 >> 24 & 0xff] +\n        _lut[d3 & 0xff] + _lut[d3 >> 8 & 0xff] + _lut[d3 >> 16 & 0xff] + _lut[d3 >> 24 & 0xff];\n\n      // .toUpperCase() here flattens concatenated strings to save heap memory space.\n      return uuid.toUpperCase();\n\n    },\n\n    clamp: function(value, min, max) {\n\n      return Math.max(min, Math.min(max, value));\n\n    },\n\n    // compute euclidian modulo of m % n\n    // https://en.wikipedia.org/wiki/Modulo_operation\n\n    euclideanModulo: function(n, m) {\n\n      return ((n % m) + m) % m;\n\n    },\n\n    // Linear mapping from range <a1, a2> to range <b1, b2>\n\n    mapLinear: function(x, a1, a2, b1, b2) {\n\n      return b1 + (x - a1) * (b2 - b1) / (a2 - a1);\n\n    },\n\n    // https://en.wikipedia.org/wiki/Linear_interpolation\n\n    lerp: function(x, y, t) {\n\n      return (1 - t) * x + t * y;\n\n    },\n\n    // http://en.wikipedia.org/wiki/Smoothstep\n\n    smoothstep: function(x, min, max) {\n\n      if (x <= min) {\n        return 0;\n      }\n      if (x >= max) {\n        return 1;\n      }\n\n      x = (x - min) / (max - min);\n\n      return x * x * (3 - 2 * x);\n\n    },\n\n    smootherstep: function(x, min, max) {\n\n      if (x <= min) {\n        return 0;\n      }\n      if (x >= max) {\n        return 1;\n      }\n\n      x = (x - min) / (max - min);\n\n      return x * x * x * (x * (x * 6 - 15) + 10);\n\n    },\n\n    // Random integer from <low, high> interval\n\n    randInt: function(low, high) {\n\n      return low + Math.floor(Math.random() * (high - low + 1));\n\n    },\n\n    // Random float from <low, high> interval\n\n    randFloat: function(low, high) {\n\n      return low + Math.random() * (high - low);\n\n    },\n\n    // Random float from <-range/2, range/2> interval\n\n    randFloatSpread: function(range) {\n\n      return range * (0.5 - Math.random());\n\n    },\n\n    degToRad: function(degrees) {\n\n      return degrees * _Math.DEG2RAD;\n\n    },\n\n    radToDeg: function(radians) {\n\n      return radians * _Math.RAD2DEG;\n\n    },\n\n    isPowerOfTwo: function(value) {\n\n      return (value & (value - 1)) === 0 && value !== 0;\n\n    },\n\n    ceilPowerOfTwo: function(value) {\n\n      return Math.pow(2, Math.ceil(Math.log(value) / Math.LN2));\n\n    },\n\n    floorPowerOfTwo: function(value) {\n\n      return Math.pow(2, Math.floor(Math.log(value) / Math.LN2));\n\n    }\n\n  };\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author philogb / http://blog.thejit.org/\n   * @author egraether / http://egraether.com/\n   * @author zz85 / http://www.lab4games.net/zz85/blog\n   */\n\n  function Vector2(x, y) {\n\n    this.x = x || 0;\n    this.y = y || 0;\n\n  }\n\n  Object.defineProperties(Vector2.prototype, {\n\n    \"width\": {\n\n      get: function() {\n\n        return this.x;\n\n      },\n\n      set: function(value) {\n\n        this.x = value;\n\n      }\n\n    },\n\n    \"height\": {\n\n      get: function() {\n\n        return this.y;\n\n      },\n\n      set: function(value) {\n\n        this.y = value;\n\n      }\n\n    }\n\n  });\n\n  Object.assign(Vector2.prototype, {\n\n    isVector2: true,\n\n    set: function(x, y) {\n\n      this.x = x;\n      this.y = y;\n\n      return this;\n\n    },\n\n    setScalar: function(scalar) {\n\n      this.x = scalar;\n      this.y = scalar;\n\n      return this;\n\n    },\n\n    setX: function(x) {\n\n      this.x = x;\n\n      return this;\n\n    },\n\n    setY: function(y) {\n\n      this.y = y;\n\n      return this;\n\n    },\n\n    setComponent: function(index, value) {\n\n      switch (index) {\n\n        case 0:\n          this.x = value;\n          break;\n        case 1:\n          this.y = value;\n          break;\n        default:\n          throw new Error('index is out of range: ' + index);\n\n      }\n\n      return this;\n\n    },\n\n    getComponent: function(index) {\n\n      switch (index) {\n\n        case 0:\n          return this.x;\n        case 1:\n          return this.y;\n        default:\n          throw new Error('index is out of range: ' + index);\n\n      }\n\n    },\n\n    clone: function() {\n\n      return new this.constructor(this.x, this.y);\n\n    },\n\n    copy: function(v) {\n\n      this.x = v.x;\n      this.y = v.y;\n\n      return this;\n\n    },\n\n    add: function(v, w) {\n\n      if (w !== undefined) {\n\n        console.warn('THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.');\n        return this.addVectors(v, w);\n\n      }\n\n      this.x += v.x;\n      this.y += v.y;\n\n      return this;\n\n    },\n\n    addScalar: function(s) {\n\n      this.x += s;\n      this.y += s;\n\n      return this;\n\n    },\n\n    addVectors: function(a, b) {\n\n      this.x = a.x + b.x;\n      this.y = a.y + b.y;\n\n      return this;\n\n    },\n\n    addScaledVector: function(v, s) {\n\n      this.x += v.x * s;\n      this.y += v.y * s;\n\n      return this;\n\n    },\n\n    sub: function(v, w) {\n\n      if (w !== undefined) {\n\n        console.warn('THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.');\n        return this.subVectors(v, w);\n\n      }\n\n      this.x -= v.x;\n      this.y -= v.y;\n\n      return this;\n\n    },\n\n    subScalar: function(s) {\n\n      this.x -= s;\n      this.y -= s;\n\n      return this;\n\n    },\n\n    subVectors: function(a, b) {\n\n      this.x = a.x - b.x;\n      this.y = a.y - b.y;\n\n      return this;\n\n    },\n\n    multiply: function(v) {\n\n      this.x *= v.x;\n      this.y *= v.y;\n\n      return this;\n\n    },\n\n    multiplyScalar: function(scalar) {\n\n      this.x *= scalar;\n      this.y *= scalar;\n\n      return this;\n\n    },\n\n    divide: function(v) {\n\n      this.x /= v.x;\n      this.y /= v.y;\n\n      return this;\n\n    },\n\n    divideScalar: function(scalar) {\n\n      return this.multiplyScalar(1 / scalar);\n\n    },\n\n    applyMatrix3: function(m) {\n\n      var x = this.x,\n        y = this.y;\n      var e = m.elements;\n\n      this.x = e[0] * x + e[3] * y + e[6];\n      this.y = e[1] * x + e[4] * y + e[7];\n\n      return this;\n\n    },\n\n    min: function(v) {\n\n      this.x = Math.min(this.x, v.x);\n      this.y = Math.min(this.y, v.y);\n\n      return this;\n\n    },\n\n    max: function(v) {\n\n      this.x = Math.max(this.x, v.x);\n      this.y = Math.max(this.y, v.y);\n\n      return this;\n\n    },\n\n    clamp: function(min, max) {\n\n      // assumes min < max, componentwise\n\n      this.x = Math.max(min.x, Math.min(max.x, this.x));\n      this.y = Math.max(min.y, Math.min(max.y, this.y));\n\n      return this;\n\n    },\n\n    clampScalar: function(minVal, maxVal) {\n\n      this.x = Math.max(minVal, Math.min(maxVal, this.x));\n      this.y = Math.max(minVal, Math.min(maxVal, this.y));\n\n      return this;\n\n    },\n\n    clampLength: function(min, max) {\n\n      var length = this.length();\n\n      return this.divideScalar(length || 1).multiplyScalar(Math.max(min, Math.min(max, length)));\n\n    },\n\n    floor: function() {\n\n      this.x = Math.floor(this.x);\n      this.y = Math.floor(this.y);\n\n      return this;\n\n    },\n\n    ceil: function() {\n\n      this.x = Math.ceil(this.x);\n      this.y = Math.ceil(this.y);\n\n      return this;\n\n    },\n\n    round: function() {\n\n      this.x = Math.round(this.x);\n      this.y = Math.round(this.y);\n\n      return this;\n\n    },\n\n    roundToZero: function() {\n\n      this.x = (this.x < 0) ? Math.ceil(this.x) : Math.floor(this.x);\n      this.y = (this.y < 0) ? Math.ceil(this.y) : Math.floor(this.y);\n\n      return this;\n\n    },\n\n    negate: function() {\n\n      this.x = -this.x;\n      this.y = -this.y;\n\n      return this;\n\n    },\n\n    dot: function(v) {\n\n      return this.x * v.x + this.y * v.y;\n\n    },\n\n    cross: function(v) {\n\n      return this.x * v.y - this.y * v.x;\n\n    },\n\n    lengthSq: function() {\n\n      return this.x * this.x + this.y * this.y;\n\n    },\n\n    length: function() {\n\n      return Math.sqrt(this.x * this.x + this.y * this.y);\n\n    },\n\n    manhattanLength: function() {\n\n      return Math.abs(this.x) + Math.abs(this.y);\n\n    },\n\n    normalize: function() {\n\n      return this.divideScalar(this.length() || 1);\n\n    },\n\n    angle: function() {\n\n      // computes the angle in radians with respect to the positive x-axis\n\n      var angle = Math.atan2(this.y, this.x);\n\n      if (angle < 0) {\n        angle += 2 * Math.PI;\n      }\n\n      return angle;\n\n    },\n\n    distanceTo: function(v) {\n\n      return Math.sqrt(this.distanceToSquared(v));\n\n    },\n\n    distanceToSquared: function(v) {\n\n      var dx = this.x - v.x,\n        dy = this.y - v.y;\n      return dx * dx + dy * dy;\n\n    },\n\n    manhattanDistanceTo: function(v) {\n\n      return Math.abs(this.x - v.x) + Math.abs(this.y - v.y);\n\n    },\n\n    setLength: function(length) {\n\n      return this.normalize().multiplyScalar(length);\n\n    },\n\n    lerp: function(v, alpha) {\n\n      this.x += (v.x - this.x) * alpha;\n      this.y += (v.y - this.y) * alpha;\n\n      return this;\n\n    },\n\n    lerpVectors: function(v1, v2, alpha) {\n\n      return this.subVectors(v2, v1).multiplyScalar(alpha).add(v1);\n\n    },\n\n    equals: function(v) {\n\n      return ((v.x === this.x) && (v.y === this.y));\n\n    },\n\n    fromArray: function(array, offset) {\n\n      if (offset === undefined) {\n        offset = 0;\n      }\n\n      this.x = array[offset];\n      this.y = array[offset + 1];\n\n      return this;\n\n    },\n\n    toArray: function(array, offset) {\n\n      if (array === undefined) {\n        array = [];\n      }\n      if (offset === undefined) {\n        offset = 0;\n      }\n\n      array[offset] = this.x;\n      array[offset + 1] = this.y;\n\n      return array;\n\n    },\n\n    fromBufferAttribute: function(attribute, index, offset) {\n\n      if (offset !== undefined) {\n\n        console.warn('THREE.Vector2: offset has been removed from .fromBufferAttribute().');\n\n      }\n\n      this.x = attribute.getX(index);\n      this.y = attribute.getY(index);\n\n      return this;\n\n    },\n\n    rotateAround: function(center, angle) {\n\n      var c = Math.cos(angle),\n        s = Math.sin(angle);\n\n      var x = this.x - center.x;\n      var y = this.y - center.y;\n\n      this.x = x * c - y * s + center.x;\n      this.y = x * s + y * c + center.y;\n\n      return this;\n\n    }\n\n  });\n\n  /**\n   * @author mikael emtinger / http://gomo.se/\n   * @author alteredq / http://alteredqualia.com/\n   * @author WestLangley / http://github.com/WestLangley\n   * @author bhouston / http://clara.io\n   */\n\n  function Quaternion(x, y, z, w) {\n\n    this._x = x || 0;\n    this._y = y || 0;\n    this._z = z || 0;\n    this._w = (w !== undefined) ? w : 1;\n\n  }\n\n  Object.assign(Quaternion, {\n\n    slerp: function(qa, qb, qm, t) {\n\n      return qm.copy(qa).slerp(qb, t);\n\n    },\n\n    slerpFlat: function(dst, dstOffset, src0, srcOffset0, src1, srcOffset1, t) {\n\n      // fuzz-free, array-based Quaternion SLERP operation\n\n      var x0 = src0[srcOffset0 + 0],\n        y0 = src0[srcOffset0 + 1],\n        z0 = src0[srcOffset0 + 2],\n        w0 = src0[srcOffset0 + 3],\n\n        x1 = src1[srcOffset1 + 0],\n        y1 = src1[srcOffset1 + 1],\n        z1 = src1[srcOffset1 + 2],\n        w1 = src1[srcOffset1 + 3];\n\n      if (w0 !== w1 || x0 !== x1 || y0 !== y1 || z0 !== z1) {\n\n        var s = 1 - t,\n\n          cos = x0 * x1 + y0 * y1 + z0 * z1 + w0 * w1,\n\n          dir = (cos >= 0 ? 1 : -1),\n          sqrSin = 1 - cos * cos;\n\n        // Skip the Slerp for tiny steps to avoid numeric problems:\n        if (sqrSin > Number.EPSILON) {\n\n          var sin = Math.sqrt(sqrSin),\n            len = Math.atan2(sin, cos * dir);\n\n          s = Math.sin(s * len) / sin;\n          t = Math.sin(t * len) / sin;\n\n        }\n\n        var tDir = t * dir;\n\n        x0 = x0 * s + x1 * tDir;\n        y0 = y0 * s + y1 * tDir;\n        z0 = z0 * s + z1 * tDir;\n        w0 = w0 * s + w1 * tDir;\n\n        // Normalize in case we just did a lerp:\n        if (s === 1 - t) {\n\n          var f = 1 / Math.sqrt(x0 * x0 + y0 * y0 + z0 * z0 + w0 * w0);\n\n          x0 *= f;\n          y0 *= f;\n          z0 *= f;\n          w0 *= f;\n\n        }\n\n      }\n\n      dst[dstOffset] = x0;\n      dst[dstOffset + 1] = y0;\n      dst[dstOffset + 2] = z0;\n      dst[dstOffset + 3] = w0;\n\n    }\n\n  });\n\n  Object.defineProperties(Quaternion.prototype, {\n\n    x: {\n\n      get: function() {\n\n        return this._x;\n\n      },\n\n      set: function(value) {\n\n        this._x = value;\n        this._onChangeCallback();\n\n      }\n\n    },\n\n    y: {\n\n      get: function() {\n\n        return this._y;\n\n      },\n\n      set: function(value) {\n\n        this._y = value;\n        this._onChangeCallback();\n\n      }\n\n    },\n\n    z: {\n\n      get: function() {\n\n        return this._z;\n\n      },\n\n      set: function(value) {\n\n        this._z = value;\n        this._onChangeCallback();\n\n      }\n\n    },\n\n    w: {\n\n      get: function() {\n\n        return this._w;\n\n      },\n\n      set: function(value) {\n\n        this._w = value;\n        this._onChangeCallback();\n\n      }\n\n    }\n\n  });\n\n  Object.assign(Quaternion.prototype, {\n\n    isQuaternion: true,\n\n    set: function(x, y, z, w) {\n\n      this._x = x;\n      this._y = y;\n      this._z = z;\n      this._w = w;\n\n      this._onChangeCallback();\n\n      return this;\n\n    },\n\n    clone: function() {\n\n      return new this.constructor(this._x, this._y, this._z, this._w);\n\n    },\n\n    copy: function(quaternion) {\n\n      this._x = quaternion.x;\n      this._y = quaternion.y;\n      this._z = quaternion.z;\n      this._w = quaternion.w;\n\n      this._onChangeCallback();\n\n      return this;\n\n    },\n\n    setFromEuler: function(euler, update) {\n\n      if (!(euler && euler.isEuler)) {\n\n        throw new Error('THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.');\n\n      }\n\n      var x = euler._x,\n        y = euler._y,\n        z = euler._z,\n        order = euler.order;\n\n      // http://www.mathworks.com/matlabcentral/fileexchange/\n      // \t20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/\n      //\tcontent/SpinCalc.m\n\n      var cos = Math.cos;\n      var sin = Math.sin;\n\n      var c1 = cos(x / 2);\n      var c2 = cos(y / 2);\n      var c3 = cos(z / 2);\n\n      var s1 = sin(x / 2);\n      var s2 = sin(y / 2);\n      var s3 = sin(z / 2);\n\n      if (order === 'XYZ') {\n\n        this._x = s1 * c2 * c3 + c1 * s2 * s3;\n        this._y = c1 * s2 * c3 - s1 * c2 * s3;\n        this._z = c1 * c2 * s3 + s1 * s2 * c3;\n        this._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n      } else if (order === 'YXZ') {\n\n        this._x = s1 * c2 * c3 + c1 * s2 * s3;\n        this._y = c1 * s2 * c3 - s1 * c2 * s3;\n        this._z = c1 * c2 * s3 - s1 * s2 * c3;\n        this._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n      } else if (order === 'ZXY') {\n\n        this._x = s1 * c2 * c3 - c1 * s2 * s3;\n        this._y = c1 * s2 * c3 + s1 * c2 * s3;\n        this._z = c1 * c2 * s3 + s1 * s2 * c3;\n        this._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n      } else if (order === 'ZYX') {\n\n        this._x = s1 * c2 * c3 - c1 * s2 * s3;\n        this._y = c1 * s2 * c3 + s1 * c2 * s3;\n        this._z = c1 * c2 * s3 - s1 * s2 * c3;\n        this._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n      } else if (order === 'YZX') {\n\n        this._x = s1 * c2 * c3 + c1 * s2 * s3;\n        this._y = c1 * s2 * c3 + s1 * c2 * s3;\n        this._z = c1 * c2 * s3 - s1 * s2 * c3;\n        this._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n      } else if (order === 'XZY') {\n\n        this._x = s1 * c2 * c3 - c1 * s2 * s3;\n        this._y = c1 * s2 * c3 - s1 * c2 * s3;\n        this._z = c1 * c2 * s3 + s1 * s2 * c3;\n        this._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n      }\n\n      if (update !== false) {\n        this._onChangeCallback();\n      }\n\n      return this;\n\n    },\n\n    setFromAxisAngle: function(axis, angle) {\n\n      // http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm\n\n      // assumes axis is normalized\n\n      var halfAngle = angle / 2,\n        s = Math.sin(halfAngle);\n\n      this._x = axis.x * s;\n      this._y = axis.y * s;\n      this._z = axis.z * s;\n      this._w = Math.cos(halfAngle);\n\n      this._onChangeCallback();\n\n      return this;\n\n    },\n\n    setFromRotationMatrix: function(m) {\n\n      // http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n\n      // assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n      var te = m.elements,\n\n        m11 = te[0],\n        m12 = te[4],\n        m13 = te[8],\n        m21 = te[1],\n        m22 = te[5],\n        m23 = te[9],\n        m31 = te[2],\n        m32 = te[6],\n        m33 = te[10],\n\n        trace = m11 + m22 + m33,\n        s;\n\n      if (trace > 0) {\n\n        s = 0.5 / Math.sqrt(trace + 1.0);\n\n        this._w = 0.25 / s;\n        this._x = (m32 - m23) * s;\n        this._y = (m13 - m31) * s;\n        this._z = (m21 - m12) * s;\n\n      } else if (m11 > m22 && m11 > m33) {\n\n        s = 2.0 * Math.sqrt(1.0 + m11 - m22 - m33);\n\n        this._w = (m32 - m23) / s;\n        this._x = 0.25 * s;\n        this._y = (m12 + m21) / s;\n        this._z = (m13 + m31) / s;\n\n      } else if (m22 > m33) {\n\n        s = 2.0 * Math.sqrt(1.0 + m22 - m11 - m33);\n\n        this._w = (m13 - m31) / s;\n        this._x = (m12 + m21) / s;\n        this._y = 0.25 * s;\n        this._z = (m23 + m32) / s;\n\n      } else {\n\n        s = 2.0 * Math.sqrt(1.0 + m33 - m11 - m22);\n\n        this._w = (m21 - m12) / s;\n        this._x = (m13 + m31) / s;\n        this._y = (m23 + m32) / s;\n        this._z = 0.25 * s;\n\n      }\n\n      this._onChangeCallback();\n\n      return this;\n\n    },\n\n    setFromUnitVectors: function(vFrom, vTo) {\n\n      // assumes direction vectors vFrom and vTo are normalized\n\n      var EPS = 0.000001;\n\n      var r = vFrom.dot(vTo) + 1;\n\n      if (r < EPS) {\n\n        r = 0;\n\n        if (Math.abs(vFrom.x) > Math.abs(vFrom.z)) {\n\n          this._x = -vFrom.y;\n          this._y = vFrom.x;\n          this._z = 0;\n          this._w = r;\n\n        } else {\n\n          this._x = 0;\n          this._y = -vFrom.z;\n          this._z = vFrom.y;\n          this._w = r;\n\n        }\n\n      } else {\n\n        // crossVectors( vFrom, vTo ); // inlined to avoid cyclic dependency on Vector3\n\n        this._x = vFrom.y * vTo.z - vFrom.z * vTo.y;\n        this._y = vFrom.z * vTo.x - vFrom.x * vTo.z;\n        this._z = vFrom.x * vTo.y - vFrom.y * vTo.x;\n        this._w = r;\n\n      }\n\n      return this.normalize();\n\n    },\n\n    angleTo: function(q) {\n\n      return 2 * Math.acos(Math.abs(_Math.clamp(this.dot(q), -1, 1)));\n\n    },\n\n    rotateTowards: function(q, step) {\n\n      var angle = this.angleTo(q);\n\n      if (angle === 0) {\n        return this;\n      }\n\n      var t = Math.min(1, step / angle);\n\n      this.slerp(q, t);\n\n      return this;\n\n    },\n\n    inverse: function() {\n\n      // quaternion is assumed to have unit length\n\n      return this.conjugate();\n\n    },\n\n    conjugate: function() {\n\n      this._x *= -1;\n      this._y *= -1;\n      this._z *= -1;\n\n      this._onChangeCallback();\n\n      return this;\n\n    },\n\n    dot: function(v) {\n\n      return this._x * v._x + this._y * v._y + this._z * v._z + this._w * v._w;\n\n    },\n\n    lengthSq: function() {\n\n      return this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;\n\n    },\n\n    length: function() {\n\n      return Math.sqrt(this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w);\n\n    },\n\n    normalize: function() {\n\n      var l = this.length();\n\n      if (l === 0) {\n\n        this._x = 0;\n        this._y = 0;\n        this._z = 0;\n        this._w = 1;\n\n      } else {\n\n        l = 1 / l;\n\n        this._x = this._x * l;\n        this._y = this._y * l;\n        this._z = this._z * l;\n        this._w = this._w * l;\n\n      }\n\n      this._onChangeCallback();\n\n      return this;\n\n    },\n\n    multiply: function(q, p) {\n\n      if (p !== undefined) {\n\n        console.warn('THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.');\n        return this.multiplyQuaternions(q, p);\n\n      }\n\n      return this.multiplyQuaternions(this, q);\n\n    },\n\n    premultiply: function(q) {\n\n      return this.multiplyQuaternions(q, this);\n\n    },\n\n    multiplyQuaternions: function(a, b) {\n\n      // from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm\n\n      var qax = a._x,\n        qay = a._y,\n        qaz = a._z,\n        qaw = a._w;\n      var qbx = b._x,\n        qby = b._y,\n        qbz = b._z,\n        qbw = b._w;\n\n      this._x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\n      this._y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\n      this._z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\n      this._w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\n\n      this._onChangeCallback();\n\n      return this;\n\n    },\n\n    slerp: function(qb, t) {\n\n      if (t === 0) {\n        return this;\n      }\n      if (t === 1) {\n        return this.copy(qb);\n      }\n\n      var x = this._x,\n        y = this._y,\n        z = this._z,\n        w = this._w;\n\n      // http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\n\n      var cosHalfTheta = w * qb._w + x * qb._x + y * qb._y + z * qb._z;\n\n      if (cosHalfTheta < 0) {\n\n        this._w = -qb._w;\n        this._x = -qb._x;\n        this._y = -qb._y;\n        this._z = -qb._z;\n\n        cosHalfTheta = -cosHalfTheta;\n\n      } else {\n\n        this.copy(qb);\n\n      }\n\n      if (cosHalfTheta >= 1.0) {\n\n        this._w = w;\n        this._x = x;\n        this._y = y;\n        this._z = z;\n\n        return this;\n\n      }\n\n      var sqrSinHalfTheta = 1.0 - cosHalfTheta * cosHalfTheta;\n\n      if (sqrSinHalfTheta <= Number.EPSILON) {\n\n        var s = 1 - t;\n        this._w = s * w + t * this._w;\n        this._x = s * x + t * this._x;\n        this._y = s * y + t * this._y;\n        this._z = s * z + t * this._z;\n\n        this.normalize();\n        this._onChangeCallback();\n\n        return this;\n\n      }\n\n      var sinHalfTheta = Math.sqrt(sqrSinHalfTheta);\n      var halfTheta = Math.atan2(sinHalfTheta, cosHalfTheta);\n      var ratioA = Math.sin((1 - t) * halfTheta) / sinHalfTheta,\n        ratioB = Math.sin(t * halfTheta) / sinHalfTheta;\n\n      this._w = (w * ratioA + this._w * ratioB);\n      this._x = (x * ratioA + this._x * ratioB);\n      this._y = (y * ratioA + this._y * ratioB);\n      this._z = (z * ratioA + this._z * ratioB);\n\n      this._onChangeCallback();\n\n      return this;\n\n    },\n\n    equals: function(quaternion) {\n\n      return (quaternion._x === this._x) && (quaternion._y === this._y) && (quaternion._z === this._z) && (quaternion._w === this._w);\n\n    },\n\n    fromArray: function(array, offset) {\n\n      if (offset === undefined) {\n        offset = 0;\n      }\n\n      this._x = array[offset];\n      this._y = array[offset + 1];\n      this._z = array[offset + 2];\n      this._w = array[offset + 3];\n\n      this._onChangeCallback();\n\n      return this;\n\n    },\n\n    toArray: function(array, offset) {\n\n      if (array === undefined) {\n        array = [];\n      }\n      if (offset === undefined) {\n        offset = 0;\n      }\n\n      array[offset] = this._x;\n      array[offset + 1] = this._y;\n      array[offset + 2] = this._z;\n      array[offset + 3] = this._w;\n\n      return array;\n\n    },\n\n    _onChange: function(callback) {\n\n      this._onChangeCallback = callback;\n\n      return this;\n\n    },\n\n    _onChangeCallback: function() {}\n\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author kile / http://kile.stravaganza.org/\n   * @author philogb / http://blog.thejit.org/\n   * @author mikael emtinger / http://gomo.se/\n   * @author egraether / http://egraether.com/\n   * @author WestLangley / http://github.com/WestLangley\n   */\n\n  var _vector = new Vector3();\n  var _quaternion = new Quaternion();\n\n  function Vector3(x, y, z) {\n\n    this.x = x || 0;\n    this.y = y || 0;\n    this.z = z || 0;\n\n  }\n\n  Object.assign(Vector3.prototype, {\n\n    isVector3: true,\n\n    set: function(x, y, z) {\n\n      this.x = x;\n      this.y = y;\n      this.z = z;\n\n      return this;\n\n    },\n\n    setScalar: function(scalar) {\n\n      this.x = scalar;\n      this.y = scalar;\n      this.z = scalar;\n\n      return this;\n\n    },\n\n    setX: function(x) {\n\n      this.x = x;\n\n      return this;\n\n    },\n\n    setY: function(y) {\n\n      this.y = y;\n\n      return this;\n\n    },\n\n    setZ: function(z) {\n\n      this.z = z;\n\n      return this;\n\n    },\n\n    setComponent: function(index, value) {\n\n      switch (index) {\n\n        case 0:\n          this.x = value;\n          break;\n        case 1:\n          this.y = value;\n          break;\n        case 2:\n          this.z = value;\n          break;\n        default:\n          throw new Error('index is out of range: ' + index);\n\n      }\n\n      return this;\n\n    },\n\n    getComponent: function(index) {\n\n      switch (index) {\n\n        case 0:\n          return this.x;\n        case 1:\n          return this.y;\n        case 2:\n          return this.z;\n        default:\n          throw new Error('index is out of range: ' + index);\n\n      }\n\n    },\n\n    clone: function() {\n\n      return new this.constructor(this.x, this.y, this.z);\n\n    },\n\n    copy: function(v) {\n\n      this.x = v.x;\n      this.y = v.y;\n      this.z = v.z;\n\n      return this;\n\n    },\n\n    add: function(v, w) {\n\n      if (w !== undefined) {\n\n        console.warn('THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.');\n        return this.addVectors(v, w);\n\n      }\n\n      this.x += v.x;\n      this.y += v.y;\n      this.z += v.z;\n\n      return this;\n\n    },\n\n    addScalar: function(s) {\n\n      this.x += s;\n      this.y += s;\n      this.z += s;\n\n      return this;\n\n    },\n\n    addVectors: function(a, b) {\n\n      this.x = a.x + b.x;\n      this.y = a.y + b.y;\n      this.z = a.z + b.z;\n\n      return this;\n\n    },\n\n    addScaledVector: function(v, s) {\n\n      this.x += v.x * s;\n      this.y += v.y * s;\n      this.z += v.z * s;\n\n      return this;\n\n    },\n\n    sub: function(v, w) {\n\n      if (w !== undefined) {\n\n        console.warn('THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.');\n        return this.subVectors(v, w);\n\n      }\n\n      this.x -= v.x;\n      this.y -= v.y;\n      this.z -= v.z;\n\n      return this;\n\n    },\n\n    subScalar: function(s) {\n\n      this.x -= s;\n      this.y -= s;\n      this.z -= s;\n\n      return this;\n\n    },\n\n    subVectors: function(a, b) {\n\n      this.x = a.x - b.x;\n      this.y = a.y - b.y;\n      this.z = a.z - b.z;\n\n      return this;\n\n    },\n\n    multiply: function(v, w) {\n\n      if (w !== undefined) {\n\n        console.warn('THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.');\n        return this.multiplyVectors(v, w);\n\n      }\n\n      this.x *= v.x;\n      this.y *= v.y;\n      this.z *= v.z;\n\n      return this;\n\n    },\n\n    multiplyScalar: function(scalar) {\n\n      this.x *= scalar;\n      this.y *= scalar;\n      this.z *= scalar;\n\n      return this;\n\n    },\n\n    multiplyVectors: function(a, b) {\n\n      this.x = a.x * b.x;\n      this.y = a.y * b.y;\n      this.z = a.z * b.z;\n\n      return this;\n\n    },\n\n    applyEuler: function(euler) {\n\n      if (!(euler && euler.isEuler)) {\n\n        console.error('THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.');\n\n      }\n\n      return this.applyQuaternion(_quaternion.setFromEuler(euler));\n\n    },\n\n    applyAxisAngle: function(axis, angle) {\n\n      return this.applyQuaternion(_quaternion.setFromAxisAngle(axis, angle));\n\n    },\n\n    applyMatrix3: function(m) {\n\n      var x = this.x,\n        y = this.y,\n        z = this.z;\n      var e = m.elements;\n\n      this.x = e[0] * x + e[3] * y + e[6] * z;\n      this.y = e[1] * x + e[4] * y + e[7] * z;\n      this.z = e[2] * x + e[5] * y + e[8] * z;\n\n      return this;\n\n    },\n\n    applyNormalMatrix: function(m) {\n\n      return this.applyMatrix3(m).normalize();\n\n    },\n\n    applyMatrix4: function(m) {\n\n      var x = this.x,\n        y = this.y,\n        z = this.z;\n      var e = m.elements;\n\n      var w = 1 / (e[3] * x + e[7] * y + e[11] * z + e[15]);\n\n      this.x = (e[0] * x + e[4] * y + e[8] * z + e[12]) * w;\n      this.y = (e[1] * x + e[5] * y + e[9] * z + e[13]) * w;\n      this.z = (e[2] * x + e[6] * y + e[10] * z + e[14]) * w;\n\n      return this;\n\n    },\n\n    applyQuaternion: function(q) {\n\n      var x = this.x,\n        y = this.y,\n        z = this.z;\n      var qx = q.x,\n        qy = q.y,\n        qz = q.z,\n        qw = q.w;\n\n      // calculate quat * vector\n\n      var ix = qw * x + qy * z - qz * y;\n      var iy = qw * y + qz * x - qx * z;\n      var iz = qw * z + qx * y - qy * x;\n      var iw = -qx * x - qy * y - qz * z;\n\n      // calculate result * inverse quat\n\n      this.x = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n      this.y = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n      this.z = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n\n      return this;\n\n    },\n\n    project: function(camera) {\n\n      return this.applyMatrix4(camera.matrixWorldInverse).applyMatrix4(camera.projectionMatrix);\n\n    },\n\n    unproject: function(camera) {\n\n      return this.applyMatrix4(camera.projectionMatrixInverse).applyMatrix4(camera.matrixWorld);\n\n    },\n\n    transformDirection: function(m) {\n\n      // input: THREE.Matrix4 affine matrix\n      // vector interpreted as a direction\n\n      var x = this.x,\n        y = this.y,\n        z = this.z;\n      var e = m.elements;\n\n      this.x = e[0] * x + e[4] * y + e[8] * z;\n      this.y = e[1] * x + e[5] * y + e[9] * z;\n      this.z = e[2] * x + e[6] * y + e[10] * z;\n\n      return this.normalize();\n\n    },\n\n    divide: function(v) {\n\n      this.x /= v.x;\n      this.y /= v.y;\n      this.z /= v.z;\n\n      return this;\n\n    },\n\n    divideScalar: function(scalar) {\n\n      return this.multiplyScalar(1 / scalar);\n\n    },\n\n    min: function(v) {\n\n      this.x = Math.min(this.x, v.x);\n      this.y = Math.min(this.y, v.y);\n      this.z = Math.min(this.z, v.z);\n\n      return this;\n\n    },\n\n    max: function(v) {\n\n      this.x = Math.max(this.x, v.x);\n      this.y = Math.max(this.y, v.y);\n      this.z = Math.max(this.z, v.z);\n\n      return this;\n\n    },\n\n    clamp: function(min, max) {\n\n      // assumes min < max, componentwise\n\n      this.x = Math.max(min.x, Math.min(max.x, this.x));\n      this.y = Math.max(min.y, Math.min(max.y, this.y));\n      this.z = Math.max(min.z, Math.min(max.z, this.z));\n\n      return this;\n\n    },\n\n    clampScalar: function(minVal, maxVal) {\n\n      this.x = Math.max(minVal, Math.min(maxVal, this.x));\n      this.y = Math.max(minVal, Math.min(maxVal, this.y));\n      this.z = Math.max(minVal, Math.min(maxVal, this.z));\n\n      return this;\n\n    },\n\n    clampLength: function(min, max) {\n\n      var length = this.length();\n\n      return this.divideScalar(length || 1).multiplyScalar(Math.max(min, Math.min(max, length)));\n\n    },\n\n    floor: function() {\n\n      this.x = Math.floor(this.x);\n      this.y = Math.floor(this.y);\n      this.z = Math.floor(this.z);\n\n      return this;\n\n    },\n\n    ceil: function() {\n\n      this.x = Math.ceil(this.x);\n      this.y = Math.ceil(this.y);\n      this.z = Math.ceil(this.z);\n\n      return this;\n\n    },\n\n    round: function() {\n\n      this.x = Math.round(this.x);\n      this.y = Math.round(this.y);\n      this.z = Math.round(this.z);\n\n      return this;\n\n    },\n\n    roundToZero: function() {\n\n      this.x = (this.x < 0) ? Math.ceil(this.x) : Math.floor(this.x);\n      this.y = (this.y < 0) ? Math.ceil(this.y) : Math.floor(this.y);\n      this.z = (this.z < 0) ? Math.ceil(this.z) : Math.floor(this.z);\n\n      return this;\n\n    },\n\n    negate: function() {\n\n      this.x = -this.x;\n      this.y = -this.y;\n      this.z = -this.z;\n\n      return this;\n\n    },\n\n    dot: function(v) {\n\n      return this.x * v.x + this.y * v.y + this.z * v.z;\n\n    },\n\n    // TODO lengthSquared?\n\n    lengthSq: function() {\n\n      return this.x * this.x + this.y * this.y + this.z * this.z;\n\n    },\n\n    length: function() {\n\n      return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);\n\n    },\n\n    manhattanLength: function() {\n\n      return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z);\n\n    },\n\n    normalize: function() {\n\n      return this.divideScalar(this.length() || 1);\n\n    },\n\n    setLength: function(length) {\n\n      return this.normalize().multiplyScalar(length);\n\n    },\n\n    lerp: function(v, alpha) {\n\n      this.x += (v.x - this.x) * alpha;\n      this.y += (v.y - this.y) * alpha;\n      this.z += (v.z - this.z) * alpha;\n\n      return this;\n\n    },\n\n    lerpVectors: function(v1, v2, alpha) {\n\n      return this.subVectors(v2, v1).multiplyScalar(alpha).add(v1);\n\n    },\n\n    cross: function(v, w) {\n\n      if (w !== undefined) {\n\n        console.warn('THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.');\n        return this.crossVectors(v, w);\n\n      }\n\n      return this.crossVectors(this, v);\n\n    },\n\n    crossVectors: function(a, b) {\n\n      var ax = a.x,\n        ay = a.y,\n        az = a.z;\n      var bx = b.x,\n        by = b.y,\n        bz = b.z;\n\n      this.x = ay * bz - az * by;\n      this.y = az * bx - ax * bz;\n      this.z = ax * by - ay * bx;\n\n      return this;\n\n    },\n\n    projectOnVector: function(v) {\n\n      // v cannot be the zero v\n\n      var scalar = v.dot(this) / v.lengthSq();\n\n      return this.copy(v).multiplyScalar(scalar);\n\n    },\n\n    projectOnPlane: function(planeNormal) {\n\n      _vector.copy(this).projectOnVector(planeNormal);\n\n      return this.sub(_vector);\n\n    },\n\n    reflect: function(normal) {\n\n      // reflect incident vector off plane orthogonal to normal\n      // normal is assumed to have unit length\n\n      return this.sub(_vector.copy(normal).multiplyScalar(2 * this.dot(normal)));\n\n    },\n\n    angleTo: function(v) {\n\n      var denominator = Math.sqrt(this.lengthSq() * v.lengthSq());\n\n      if (denominator === 0) {\n        console.error('THREE.Vector3: angleTo() can\\'t handle zero length vectors.');\n      }\n\n      var theta = this.dot(v) / denominator;\n\n      // clamp, to handle numerical problems\n\n      return Math.acos(_Math.clamp(theta, -1, 1));\n\n    },\n\n    distanceTo: function(v) {\n\n      return Math.sqrt(this.distanceToSquared(v));\n\n    },\n\n    distanceToSquared: function(v) {\n\n      var dx = this.x - v.x,\n        dy = this.y - v.y,\n        dz = this.z - v.z;\n\n      return dx * dx + dy * dy + dz * dz;\n\n    },\n\n    manhattanDistanceTo: function(v) {\n\n      return Math.abs(this.x - v.x) + Math.abs(this.y - v.y) + Math.abs(this.z - v.z);\n\n    },\n\n    setFromSpherical: function(s) {\n\n      return this.setFromSphericalCoords(s.radius, s.phi, s.theta);\n\n    },\n\n    setFromSphericalCoords: function(radius, phi, theta) {\n\n      var sinPhiRadius = Math.sin(phi) * radius;\n\n      this.x = sinPhiRadius * Math.sin(theta);\n      this.y = Math.cos(phi) * radius;\n      this.z = sinPhiRadius * Math.cos(theta);\n\n      return this;\n\n    },\n\n    setFromCylindrical: function(c) {\n\n      return this.setFromCylindricalCoords(c.radius, c.theta, c.y);\n\n    },\n\n    setFromCylindricalCoords: function(radius, theta, y) {\n\n      this.x = radius * Math.sin(theta);\n      this.y = y;\n      this.z = radius * Math.cos(theta);\n\n      return this;\n\n    },\n\n    setFromMatrixPosition: function(m) {\n\n      var e = m.elements;\n\n      this.x = e[12];\n      this.y = e[13];\n      this.z = e[14];\n\n      return this;\n\n    },\n\n    setFromMatrixScale: function(m) {\n\n      var sx = this.setFromMatrixColumn(m, 0).length();\n      var sy = this.setFromMatrixColumn(m, 1).length();\n      var sz = this.setFromMatrixColumn(m, 2).length();\n\n      this.x = sx;\n      this.y = sy;\n      this.z = sz;\n\n      return this;\n\n    },\n\n    setFromMatrixColumn: function(m, index) {\n\n      return this.fromArray(m.elements, index * 4);\n\n    },\n\n    equals: function(v) {\n\n      return ((v.x === this.x) && (v.y === this.y) && (v.z === this.z));\n\n    },\n\n    fromArray: function(array, offset) {\n\n      if (offset === undefined) {\n        offset = 0;\n      }\n\n      this.x = array[offset];\n      this.y = array[offset + 1];\n      this.z = array[offset + 2];\n\n      return this;\n\n    },\n\n    toArray: function(array, offset) {\n\n      if (array === undefined) {\n        array = [];\n      }\n      if (offset === undefined) {\n        offset = 0;\n      }\n\n      array[offset] = this.x;\n      array[offset + 1] = this.y;\n      array[offset + 2] = this.z;\n\n      return array;\n\n    },\n\n    fromBufferAttribute: function(attribute, index, offset) {\n\n      if (offset !== undefined) {\n\n        console.warn('THREE.Vector3: offset has been removed from .fromBufferAttribute().');\n\n      }\n\n      this.x = attribute.getX(index);\n      this.y = attribute.getY(index);\n      this.z = attribute.getZ(index);\n\n      return this;\n\n    }\n\n  });\n\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   * @author WestLangley / http://github.com/WestLangley\n   * @author bhouston / http://clara.io\n   * @author tschw\n   */\n\n  var _vector$1 = new Vector3();\n\n  function Matrix3() {\n\n    this.elements = [\n\n      1, 0, 0,\n      0, 1, 0,\n      0, 0, 1\n\n    ];\n\n    if (arguments.length > 0) {\n\n      console.error('THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.');\n\n    }\n\n  }\n\n  Object.assign(Matrix3.prototype, {\n\n    isMatrix3: true,\n\n    set: function(n11, n12, n13, n21, n22, n23, n31, n32, n33) {\n\n      var te = this.elements;\n\n      te[0] = n11;\n      te[1] = n21;\n      te[2] = n31;\n      te[3] = n12;\n      te[4] = n22;\n      te[5] = n32;\n      te[6] = n13;\n      te[7] = n23;\n      te[8] = n33;\n\n      return this;\n\n    },\n\n    identity: function() {\n\n      this.set(\n\n        1, 0, 0,\n        0, 1, 0,\n        0, 0, 1\n\n      );\n\n      return this;\n\n    },\n\n    clone: function() {\n\n      return new this.constructor().fromArray(this.elements);\n\n    },\n\n    copy: function(m) {\n\n      var te = this.elements;\n      var me = m.elements;\n\n      te[0] = me[0];\n      te[1] = me[1];\n      te[2] = me[2];\n      te[3] = me[3];\n      te[4] = me[4];\n      te[5] = me[5];\n      te[6] = me[6];\n      te[7] = me[7];\n      te[8] = me[8];\n\n      return this;\n\n    },\n\n    setFromMatrix4: function(m) {\n\n      var me = m.elements;\n\n      this.set(\n\n        me[0], me[4], me[8],\n        me[1], me[5], me[9],\n        me[2], me[6], me[10]\n\n      );\n\n      return this;\n\n    },\n\n    applyToBufferAttribute: function(attribute) {\n\n      for (var i = 0, l = attribute.count; i < l; i++) {\n\n        _vector$1.x = attribute.getX(i);\n        _vector$1.y = attribute.getY(i);\n        _vector$1.z = attribute.getZ(i);\n\n        _vector$1.applyMatrix3(this);\n\n        attribute.setXYZ(i, _vector$1.x, _vector$1.y, _vector$1.z);\n\n      }\n\n      return attribute;\n\n    },\n\n    multiply: function(m) {\n\n      return this.multiplyMatrices(this, m);\n\n    },\n\n    premultiply: function(m) {\n\n      return this.multiplyMatrices(m, this);\n\n    },\n\n    multiplyMatrices: function(a, b) {\n\n      var ae = a.elements;\n      var be = b.elements;\n      var te = this.elements;\n\n      var a11 = ae[0],\n        a12 = ae[3],\n        a13 = ae[6];\n      var a21 = ae[1],\n        a22 = ae[4],\n        a23 = ae[7];\n      var a31 = ae[2],\n        a32 = ae[5],\n        a33 = ae[8];\n\n      var b11 = be[0],\n        b12 = be[3],\n        b13 = be[6];\n      var b21 = be[1],\n        b22 = be[4],\n        b23 = be[7];\n      var b31 = be[2],\n        b32 = be[5],\n        b33 = be[8];\n\n      te[0] = a11 * b11 + a12 * b21 + a13 * b31;\n      te[3] = a11 * b12 + a12 * b22 + a13 * b32;\n      te[6] = a11 * b13 + a12 * b23 + a13 * b33;\n\n      te[1] = a21 * b11 + a22 * b21 + a23 * b31;\n      te[4] = a21 * b12 + a22 * b22 + a23 * b32;\n      te[7] = a21 * b13 + a22 * b23 + a23 * b33;\n\n      te[2] = a31 * b11 + a32 * b21 + a33 * b31;\n      te[5] = a31 * b12 + a32 * b22 + a33 * b32;\n      te[8] = a31 * b13 + a32 * b23 + a33 * b33;\n\n      return this;\n\n    },\n\n    multiplyScalar: function(s) {\n\n      var te = this.elements;\n\n      te[0] *= s;\n      te[3] *= s;\n      te[6] *= s;\n      te[1] *= s;\n      te[4] *= s;\n      te[7] *= s;\n      te[2] *= s;\n      te[5] *= s;\n      te[8] *= s;\n\n      return this;\n\n    },\n\n    determinant: function() {\n\n      var te = this.elements;\n\n      var a = te[0],\n        b = te[1],\n        c = te[2],\n        d = te[3],\n        e = te[4],\n        f = te[5],\n        g = te[6],\n        h = te[7],\n        i = te[8];\n\n      return a * e * i - a * f * h - b * d * i + b * f * g + c * d * h - c * e * g;\n\n    },\n\n    getInverse: function(matrix, throwOnDegenerate) {\n\n      if (matrix && matrix.isMatrix4) {\n\n        console.error(\"THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.\");\n\n      }\n\n      var me = matrix.elements,\n        te = this.elements,\n\n        n11 = me[0],\n        n21 = me[1],\n        n31 = me[2],\n        n12 = me[3],\n        n22 = me[4],\n        n32 = me[5],\n        n13 = me[6],\n        n23 = me[7],\n        n33 = me[8],\n\n        t11 = n33 * n22 - n32 * n23,\n        t12 = n32 * n13 - n33 * n12,\n        t13 = n23 * n12 - n22 * n13,\n\n        det = n11 * t11 + n21 * t12 + n31 * t13;\n\n      if (det === 0) {\n\n        var msg = \"THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0\";\n\n        if (throwOnDegenerate === true) {\n\n          throw new Error(msg);\n\n        } else {\n\n          console.warn(msg);\n\n        }\n\n        return this.identity();\n\n      }\n\n      var detInv = 1 / det;\n\n      te[0] = t11 * detInv;\n      te[1] = (n31 * n23 - n33 * n21) * detInv;\n      te[2] = (n32 * n21 - n31 * n22) * detInv;\n\n      te[3] = t12 * detInv;\n      te[4] = (n33 * n11 - n31 * n13) * detInv;\n      te[5] = (n31 * n12 - n32 * n11) * detInv;\n\n      te[6] = t13 * detInv;\n      te[7] = (n21 * n13 - n23 * n11) * detInv;\n      te[8] = (n22 * n11 - n21 * n12) * detInv;\n\n      return this;\n\n    },\n\n    transpose: function() {\n\n      var tmp, m = this.elements;\n\n      tmp = m[1];\n      m[1] = m[3];\n      m[3] = tmp;\n      tmp = m[2];\n      m[2] = m[6];\n      m[6] = tmp;\n      tmp = m[5];\n      m[5] = m[7];\n      m[7] = tmp;\n\n      return this;\n\n    },\n\n    getNormalMatrix: function(matrix4) {\n\n      return this.setFromMatrix4(matrix4).getInverse(this).transpose();\n\n    },\n\n    transposeIntoArray: function(r) {\n\n      var m = this.elements;\n\n      r[0] = m[0];\n      r[1] = m[3];\n      r[2] = m[6];\n      r[3] = m[1];\n      r[4] = m[4];\n      r[5] = m[7];\n      r[6] = m[2];\n      r[7] = m[5];\n      r[8] = m[8];\n\n      return this;\n\n    },\n\n    setUvTransform: function(tx, ty, sx, sy, rotation, cx, cy) {\n\n      var c = Math.cos(rotation);\n      var s = Math.sin(rotation);\n\n      this.set(\n        sx * c, sx * s, -sx * (c * cx + s * cy) + cx + tx,\n        -sy * s, sy * c, -sy * (-s * cx + c * cy) + cy + ty,\n        0, 0, 1\n      );\n\n    },\n\n    scale: function(sx, sy) {\n\n      var te = this.elements;\n\n      te[0] *= sx;\n      te[3] *= sx;\n      te[6] *= sx;\n      te[1] *= sy;\n      te[4] *= sy;\n      te[7] *= sy;\n\n      return this;\n\n    },\n\n    rotate: function(theta) {\n\n      var c = Math.cos(theta);\n      var s = Math.sin(theta);\n\n      var te = this.elements;\n\n      var a11 = te[0],\n        a12 = te[3],\n        a13 = te[6];\n      var a21 = te[1],\n        a22 = te[4],\n        a23 = te[7];\n\n      te[0] = c * a11 + s * a21;\n      te[3] = c * a12 + s * a22;\n      te[6] = c * a13 + s * a23;\n\n      te[1] = -s * a11 + c * a21;\n      te[4] = -s * a12 + c * a22;\n      te[7] = -s * a13 + c * a23;\n\n      return this;\n\n    },\n\n    translate: function(tx, ty) {\n\n      var te = this.elements;\n\n      te[0] += tx * te[2];\n      te[3] += tx * te[5];\n      te[6] += tx * te[8];\n      te[1] += ty * te[2];\n      te[4] += ty * te[5];\n      te[7] += ty * te[8];\n\n      return this;\n\n    },\n\n    equals: function(matrix) {\n\n      var te = this.elements;\n      var me = matrix.elements;\n\n      for (var i = 0; i < 9; i++) {\n\n        if (te[i] !== me[i]) {\n          return false;\n        }\n\n      }\n\n      return true;\n\n    },\n\n    fromArray: function(array, offset) {\n\n      if (offset === undefined) {\n        offset = 0;\n      }\n\n      for (var i = 0; i < 9; i++) {\n\n        this.elements[i] = array[i + offset];\n\n      }\n\n      return this;\n\n    },\n\n    toArray: function(array, offset) {\n\n      if (array === undefined) {\n        array = [];\n      }\n      if (offset === undefined) {\n        offset = 0;\n      }\n\n      var te = this.elements;\n\n      array[offset] = te[0];\n      array[offset + 1] = te[1];\n      array[offset + 2] = te[2];\n\n      array[offset + 3] = te[3];\n      array[offset + 4] = te[4];\n      array[offset + 5] = te[5];\n\n      array[offset + 6] = te[6];\n      array[offset + 7] = te[7];\n      array[offset + 8] = te[8];\n\n      return array;\n\n    }\n\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author alteredq / http://alteredqualia.com/\n   * @author szimek / https://github.com/szimek/\n   */\n\n  var _canvas;\n\n  var ImageUtils = {\n\n    getDataURL: function(image) {\n\n      var canvas;\n\n      if (typeof HTMLCanvasElement == 'undefined') {\n\n        return image.src;\n\n      } else if (image instanceof HTMLCanvasElement) {\n\n        canvas = image;\n\n      } else {\n\n        if (_canvas === undefined) {\n          _canvas = document.createElementNS('http://www.w3.org/1999/xhtml', 'canvas');\n        }\n\n        _canvas.width = image.width;\n        _canvas.height = image.height;\n\n        var context = _canvas.getContext('2d');\n\n        if (image instanceof ImageData) {\n\n          context.putImageData(image, 0, 0);\n\n        } else {\n\n          context.drawImage(image, 0, 0, image.width, image.height);\n\n        }\n\n        canvas = _canvas;\n\n      }\n\n      if (canvas.width > 2048 || canvas.height > 2048) {\n\n        return canvas.toDataURL('image/jpeg', 0.6);\n\n      } else {\n\n        return canvas.toDataURL('image/png');\n\n      }\n\n    }\n\n  };\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author alteredq / http://alteredqualia.com/\n   * @author szimek / https://github.com/szimek/\n   */\n\n  var textureId = 0;\n\n  function Texture(image, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding) {\n\n    Object.defineProperty(this, 'id', {\n      value: textureId++\n    });\n\n    this.uuid = _Math.generateUUID();\n\n    this.name = '';\n\n    this.image = image !== undefined ? image : Texture.DEFAULT_IMAGE;\n    this.mipmaps = [];\n\n    this.mapping = mapping !== undefined ? mapping : Texture.DEFAULT_MAPPING;\n\n    this.wrapS = wrapS !== undefined ? wrapS : ClampToEdgeWrapping;\n    this.wrapT = wrapT !== undefined ? wrapT : ClampToEdgeWrapping;\n\n    this.magFilter = magFilter !== undefined ? magFilter : LinearFilter;\n    this.minFilter = minFilter !== undefined ? minFilter : LinearMipmapLinearFilter;\n\n    this.anisotropy = anisotropy !== undefined ? anisotropy : 1;\n\n    this.format = format !== undefined ? format : RGBAFormat;\n    this.internalFormat = null;\n    this.type = type !== undefined ? type : UnsignedByteType;\n\n    this.offset = new Vector2(0, 0);\n    this.repeat = new Vector2(1, 1);\n    this.center = new Vector2(0, 0);\n    this.rotation = 0;\n\n    this.matrixAutoUpdate = true;\n    this.matrix = new Matrix3();\n\n    this.generateMipmaps = true;\n    this.premultiplyAlpha = false;\n    this.flipY = true;\n    this.unpackAlignment = 4; // valid values: 1, 2, 4, 8 (see http://www.khronos.org/opengles/sdk/docs/man/xhtml/glPixelStorei.xml)\n\n    // Values of encoding !== THREE.LinearEncoding only supported on map, envMap and emissiveMap.\n    //\n    // Also changing the encoding after already used by a Material will not automatically make the Material\n    // update. You need to explicitly call Material.needsUpdate to trigger it to recompile.\n    this.encoding = encoding !== undefined ? encoding : LinearEncoding;\n\n    this.version = 0;\n    this.onUpdate = null;\n\n  }\n\n  Texture.DEFAULT_IMAGE = undefined;\n  Texture.DEFAULT_MAPPING = UVMapping;\n\n  Texture.prototype = Object.assign(Object.create(EventDispatcher.prototype), {\n\n    constructor: Texture,\n\n    isTexture: true,\n\n    updateMatrix: function() {\n\n      this.matrix.setUvTransform(this.offset.x, this.offset.y, this.repeat.x, this.repeat.y, this.rotation, this.center.x, this.center.y);\n\n    },\n\n    clone: function() {\n\n      return new this.constructor().copy(this);\n\n    },\n\n    copy: function(source) {\n\n      this.name = source.name;\n\n      this.image = source.image;\n      this.mipmaps = source.mipmaps.slice(0);\n\n      this.mapping = source.mapping;\n\n      this.wrapS = source.wrapS;\n      this.wrapT = source.wrapT;\n\n      this.magFilter = source.magFilter;\n      this.minFilter = source.minFilter;\n\n      this.anisotropy = source.anisotropy;\n\n      this.format = source.format;\n      this.internalFormat = source.internalFormat;\n      this.type = source.type;\n\n      this.offset.copy(source.offset);\n      this.repeat.copy(source.repeat);\n      this.center.copy(source.center);\n      this.rotation = source.rotation;\n\n      this.matrixAutoUpdate = source.matrixAutoUpdate;\n      this.matrix.copy(source.matrix);\n\n      this.generateMipmaps = source.generateMipmaps;\n      this.premultiplyAlpha = source.premultiplyAlpha;\n      this.flipY = source.flipY;\n      this.unpackAlignment = source.unpackAlignment;\n      this.encoding = source.encoding;\n\n      return this;\n\n    },\n\n    toJSON: function(meta) {\n\n      var isRootObject = (meta === undefined || typeof meta === 'string');\n\n      if (!isRootObject && meta.textures[this.uuid] !== undefined) {\n\n        return meta.textures[this.uuid];\n\n      }\n\n      var output = {\n\n        metadata: {\n          version: 4.5,\n          type: 'Texture',\n          generator: 'Texture.toJSON'\n        },\n\n        uuid: this.uuid,\n        name: this.name,\n\n        mapping: this.mapping,\n\n        repeat: [this.repeat.x, this.repeat.y],\n        offset: [this.offset.x, this.offset.y],\n        center: [this.center.x, this.center.y],\n        rotation: this.rotation,\n\n        wrap: [this.wrapS, this.wrapT],\n\n        format: this.format,\n        type: this.type,\n        encoding: this.encoding,\n\n        minFilter: this.minFilter,\n        magFilter: this.magFilter,\n        anisotropy: this.anisotropy,\n\n        flipY: this.flipY,\n\n        premultiplyAlpha: this.premultiplyAlpha,\n        unpackAlignment: this.unpackAlignment\n\n      };\n\n      if (this.image !== undefined) {\n\n        // TODO: Move to THREE.Image\n\n        var image = this.image;\n\n        if (image.uuid === undefined) {\n\n          image.uuid = _Math.generateUUID(); // UGH\n\n        }\n\n        if (!isRootObject && meta.images[image.uuid] === undefined) {\n\n          var url;\n\n          if (Array.isArray(image)) {\n\n            // process array of images e.g. CubeTexture\n\n            url = [];\n\n            for (var i = 0, l = image.length; i < l; i++) {\n\n              url.push(ImageUtils.getDataURL(image[i]));\n\n            }\n\n          } else {\n\n            // process single image\n\n            url = ImageUtils.getDataURL(image);\n\n          }\n\n          meta.images[image.uuid] = {\n            uuid: image.uuid,\n            url: url\n          };\n\n        }\n\n        output.image = image.uuid;\n\n      }\n\n      if (!isRootObject) {\n\n        meta.textures[this.uuid] = output;\n\n      }\n\n      return output;\n\n    },\n\n    dispose: function() {\n\n      this.dispatchEvent({\n        type: 'dispose'\n      });\n\n    },\n\n    transformUv: function(uv) {\n\n      if (this.mapping !== UVMapping) {\n        return uv;\n      }\n\n      uv.applyMatrix3(this.matrix);\n\n      if (uv.x < 0 || uv.x > 1) {\n\n        switch (this.wrapS) {\n\n          case RepeatWrapping:\n\n            uv.x = uv.x - Math.floor(uv.x);\n            break;\n\n          case ClampToEdgeWrapping:\n\n            uv.x = uv.x < 0 ? 0 : 1;\n            break;\n\n          case MirroredRepeatWrapping:\n\n            if (Math.abs(Math.floor(uv.x) % 2) === 1) {\n\n              uv.x = Math.ceil(uv.x) - uv.x;\n\n            } else {\n\n              uv.x = uv.x - Math.floor(uv.x);\n\n            }\n            break;\n\n        }\n\n      }\n\n      if (uv.y < 0 || uv.y > 1) {\n\n        switch (this.wrapT) {\n\n          case RepeatWrapping:\n\n            uv.y = uv.y - Math.floor(uv.y);\n            break;\n\n          case ClampToEdgeWrapping:\n\n            uv.y = uv.y < 0 ? 0 : 1;\n            break;\n\n          case MirroredRepeatWrapping:\n\n            if (Math.abs(Math.floor(uv.y) % 2) === 1) {\n\n              uv.y = Math.ceil(uv.y) - uv.y;\n\n            } else {\n\n              uv.y = uv.y - Math.floor(uv.y);\n\n            }\n            break;\n\n        }\n\n      }\n\n      if (this.flipY) {\n\n        uv.y = 1 - uv.y;\n\n      }\n\n      return uv;\n\n    }\n\n  });\n\n  Object.defineProperty(Texture.prototype, \"needsUpdate\", {\n\n    set: function(value) {\n\n      if (value === true) {\n        this.version++;\n      }\n\n    }\n\n  });\n\n  /**\n   * @author supereggbert / http://www.paulbrunt.co.uk/\n   * @author philogb / http://blog.thejit.org/\n   * @author mikael emtinger / http://gomo.se/\n   * @author egraether / http://egraether.com/\n   * @author WestLangley / http://github.com/WestLangley\n   */\n\n  function Vector4(x, y, z, w) {\n\n    this.x = x || 0;\n    this.y = y || 0;\n    this.z = z || 0;\n    this.w = (w !== undefined) ? w : 1;\n\n  }\n\n  Object.defineProperties(Vector4.prototype, {\n\n    \"width\": {\n\n      get: function() {\n\n        return this.z;\n\n      },\n\n      set: function(value) {\n\n        this.z = value;\n\n      }\n\n    },\n\n    \"height\": {\n\n      get: function() {\n\n        return this.w;\n\n      },\n\n      set: function(value) {\n\n        this.w = value;\n\n      }\n\n    }\n\n  });\n\n  Object.assign(Vector4.prototype, {\n\n    isVector4: true,\n\n    set: function(x, y, z, w) {\n\n      this.x = x;\n      this.y = y;\n      this.z = z;\n      this.w = w;\n\n      return this;\n\n    },\n\n    setScalar: function(scalar) {\n\n      this.x = scalar;\n      this.y = scalar;\n      this.z = scalar;\n      this.w = scalar;\n\n      return this;\n\n    },\n\n    setX: function(x) {\n\n      this.x = x;\n\n      return this;\n\n    },\n\n    setY: function(y) {\n\n      this.y = y;\n\n      return this;\n\n    },\n\n    setZ: function(z) {\n\n      this.z = z;\n\n      return this;\n\n    },\n\n    setW: function(w) {\n\n      this.w = w;\n\n      return this;\n\n    },\n\n    setComponent: function(index, value) {\n\n      switch (index) {\n\n        case 0:\n          this.x = value;\n          break;\n        case 1:\n          this.y = value;\n          break;\n        case 2:\n          this.z = value;\n          break;\n        case 3:\n          this.w = value;\n          break;\n        default:\n          throw new Error('index is out of range: ' + index);\n\n      }\n\n      return this;\n\n    },\n\n    getComponent: function(index) {\n\n      switch (index) {\n\n        case 0:\n          return this.x;\n        case 1:\n          return this.y;\n        case 2:\n          return this.z;\n        case 3:\n          return this.w;\n        default:\n          throw new Error('index is out of range: ' + index);\n\n      }\n\n    },\n\n    clone: function() {\n\n      return new this.constructor(this.x, this.y, this.z, this.w);\n\n    },\n\n    copy: function(v) {\n\n      this.x = v.x;\n      this.y = v.y;\n      this.z = v.z;\n      this.w = (v.w !== undefined) ? v.w : 1;\n\n      return this;\n\n    },\n\n    add: function(v, w) {\n\n      if (w !== undefined) {\n\n        console.warn('THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.');\n        return this.addVectors(v, w);\n\n      }\n\n      this.x += v.x;\n      this.y += v.y;\n      this.z += v.z;\n      this.w += v.w;\n\n      return this;\n\n    },\n\n    addScalar: function(s) {\n\n      this.x += s;\n      this.y += s;\n      this.z += s;\n      this.w += s;\n\n      return this;\n\n    },\n\n    addVectors: function(a, b) {\n\n      this.x = a.x + b.x;\n      this.y = a.y + b.y;\n      this.z = a.z + b.z;\n      this.w = a.w + b.w;\n\n      return this;\n\n    },\n\n    addScaledVector: function(v, s) {\n\n      this.x += v.x * s;\n      this.y += v.y * s;\n      this.z += v.z * s;\n      this.w += v.w * s;\n\n      return this;\n\n    },\n\n    sub: function(v, w) {\n\n      if (w !== undefined) {\n\n        console.warn('THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.');\n        return this.subVectors(v, w);\n\n      }\n\n      this.x -= v.x;\n      this.y -= v.y;\n      this.z -= v.z;\n      this.w -= v.w;\n\n      return this;\n\n    },\n\n    subScalar: function(s) {\n\n      this.x -= s;\n      this.y -= s;\n      this.z -= s;\n      this.w -= s;\n\n      return this;\n\n    },\n\n    subVectors: function(a, b) {\n\n      this.x = a.x - b.x;\n      this.y = a.y - b.y;\n      this.z = a.z - b.z;\n      this.w = a.w - b.w;\n\n      return this;\n\n    },\n\n    multiplyScalar: function(scalar) {\n\n      this.x *= scalar;\n      this.y *= scalar;\n      this.z *= scalar;\n      this.w *= scalar;\n\n      return this;\n\n    },\n\n    applyMatrix4: function(m) {\n\n      var x = this.x,\n        y = this.y,\n        z = this.z,\n        w = this.w;\n      var e = m.elements;\n\n      this.x = e[0] * x + e[4] * y + e[8] * z + e[12] * w;\n      this.y = e[1] * x + e[5] * y + e[9] * z + e[13] * w;\n      this.z = e[2] * x + e[6] * y + e[10] * z + e[14] * w;\n      this.w = e[3] * x + e[7] * y + e[11] * z + e[15] * w;\n\n      return this;\n\n    },\n\n    divideScalar: function(scalar) {\n\n      return this.multiplyScalar(1 / scalar);\n\n    },\n\n    setAxisAngleFromQuaternion: function(q) {\n\n      // http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToAngle/index.htm\n\n      // q is assumed to be normalized\n\n      this.w = 2 * Math.acos(q.w);\n\n      var s = Math.sqrt(1 - q.w * q.w);\n\n      if (s < 0.0001) {\n\n        this.x = 1;\n        this.y = 0;\n        this.z = 0;\n\n      } else {\n\n        this.x = q.x / s;\n        this.y = q.y / s;\n        this.z = q.z / s;\n\n      }\n\n      return this;\n\n    },\n\n    setAxisAngleFromRotationMatrix: function(m) {\n\n      // http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToAngle/index.htm\n\n      // assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n      var angle, x, y, z, // variables for result\n        epsilon = 0.01, // margin to allow for rounding errors\n        epsilon2 = 0.1, // margin to distinguish between 0 and 180 degrees\n\n        te = m.elements,\n\n        m11 = te[0],\n        m12 = te[4],\n        m13 = te[8],\n        m21 = te[1],\n        m22 = te[5],\n        m23 = te[9],\n        m31 = te[2],\n        m32 = te[6],\n        m33 = te[10];\n\n      if ((Math.abs(m12 - m21) < epsilon) &&\n        (Math.abs(m13 - m31) < epsilon) &&\n        (Math.abs(m23 - m32) < epsilon)) {\n\n        // singularity found\n        // first check for identity matrix which must have +1 for all terms\n        // in leading diagonal and zero in other terms\n\n        if ((Math.abs(m12 + m21) < epsilon2) &&\n          (Math.abs(m13 + m31) < epsilon2) &&\n          (Math.abs(m23 + m32) < epsilon2) &&\n          (Math.abs(m11 + m22 + m33 - 3) < epsilon2)) {\n\n          // this singularity is identity matrix so angle = 0\n\n          this.set(1, 0, 0, 0);\n\n          return this; // zero angle, arbitrary axis\n\n        }\n\n        // otherwise this singularity is angle = 180\n\n        angle = Math.PI;\n\n        var xx = (m11 + 1) / 2;\n        var yy = (m22 + 1) / 2;\n        var zz = (m33 + 1) / 2;\n        var xy = (m12 + m21) / 4;\n        var xz = (m13 + m31) / 4;\n        var yz = (m23 + m32) / 4;\n\n        if ((xx > yy) && (xx > zz)) {\n\n          // m11 is the largest diagonal term\n\n          if (xx < epsilon) {\n\n            x = 0;\n            y = 0.707106781;\n            z = 0.707106781;\n\n          } else {\n\n            x = Math.sqrt(xx);\n            y = xy / x;\n            z = xz / x;\n\n          }\n\n        } else if (yy > zz) {\n\n          // m22 is the largest diagonal term\n\n          if (yy < epsilon) {\n\n            x = 0.707106781;\n            y = 0;\n            z = 0.707106781;\n\n          } else {\n\n            y = Math.sqrt(yy);\n            x = xy / y;\n            z = yz / y;\n\n          }\n\n        } else {\n\n          // m33 is the largest diagonal term so base result on this\n\n          if (zz < epsilon) {\n\n            x = 0.707106781;\n            y = 0.707106781;\n            z = 0;\n\n          } else {\n\n            z = Math.sqrt(zz);\n            x = xz / z;\n            y = yz / z;\n\n          }\n\n        }\n\n        this.set(x, y, z, angle);\n\n        return this; // return 180 deg rotation\n\n      }\n\n      // as we have reached here there are no singularities so we can handle normally\n\n      var s = Math.sqrt((m32 - m23) * (m32 - m23) +\n        (m13 - m31) * (m13 - m31) +\n        (m21 - m12) * (m21 - m12)); // used to normalize\n\n      if (Math.abs(s) < 0.001) {\n        s = 1;\n      }\n\n      // prevent divide by zero, should not happen if matrix is orthogonal and should be\n      // caught by singularity test above, but I've left it in just in case\n\n      this.x = (m32 - m23) / s;\n      this.y = (m13 - m31) / s;\n      this.z = (m21 - m12) / s;\n      this.w = Math.acos((m11 + m22 + m33 - 1) / 2);\n\n      return this;\n\n    },\n\n    min: function(v) {\n\n      this.x = Math.min(this.x, v.x);\n      this.y = Math.min(this.y, v.y);\n      this.z = Math.min(this.z, v.z);\n      this.w = Math.min(this.w, v.w);\n\n      return this;\n\n    },\n\n    max: function(v) {\n\n      this.x = Math.max(this.x, v.x);\n      this.y = Math.max(this.y, v.y);\n      this.z = Math.max(this.z, v.z);\n      this.w = Math.max(this.w, v.w);\n\n      return this;\n\n    },\n\n    clamp: function(min, max) {\n\n      // assumes min < max, componentwise\n\n      this.x = Math.max(min.x, Math.min(max.x, this.x));\n      this.y = Math.max(min.y, Math.min(max.y, this.y));\n      this.z = Math.max(min.z, Math.min(max.z, this.z));\n      this.w = Math.max(min.w, Math.min(max.w, this.w));\n\n      return this;\n\n    },\n\n    clampScalar: function(minVal, maxVal) {\n\n      this.x = Math.max(minVal, Math.min(maxVal, this.x));\n      this.y = Math.max(minVal, Math.min(maxVal, this.y));\n      this.z = Math.max(minVal, Math.min(maxVal, this.z));\n      this.w = Math.max(minVal, Math.min(maxVal, this.w));\n\n      return this;\n\n    },\n\n    clampLength: function(min, max) {\n\n      var length = this.length();\n\n      return this.divideScalar(length || 1).multiplyScalar(Math.max(min, Math.min(max, length)));\n\n    },\n\n    floor: function() {\n\n      this.x = Math.floor(this.x);\n      this.y = Math.floor(this.y);\n      this.z = Math.floor(this.z);\n      this.w = Math.floor(this.w);\n\n      return this;\n\n    },\n\n    ceil: function() {\n\n      this.x = Math.ceil(this.x);\n      this.y = Math.ceil(this.y);\n      this.z = Math.ceil(this.z);\n      this.w = Math.ceil(this.w);\n\n      return this;\n\n    },\n\n    round: function() {\n\n      this.x = Math.round(this.x);\n      this.y = Math.round(this.y);\n      this.z = Math.round(this.z);\n      this.w = Math.round(this.w);\n\n      return this;\n\n    },\n\n    roundToZero: function() {\n\n      this.x = (this.x < 0) ? Math.ceil(this.x) : Math.floor(this.x);\n      this.y = (this.y < 0) ? Math.ceil(this.y) : Math.floor(this.y);\n      this.z = (this.z < 0) ? Math.ceil(this.z) : Math.floor(this.z);\n      this.w = (this.w < 0) ? Math.ceil(this.w) : Math.floor(this.w);\n\n      return this;\n\n    },\n\n    negate: function() {\n\n      this.x = -this.x;\n      this.y = -this.y;\n      this.z = -this.z;\n      this.w = -this.w;\n\n      return this;\n\n    },\n\n    dot: function(v) {\n\n      return this.x * v.x + this.y * v.y + this.z * v.z + this.w * v.w;\n\n    },\n\n    lengthSq: function() {\n\n      return this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\n\n    },\n\n    length: function() {\n\n      return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w);\n\n    },\n\n    manhattanLength: function() {\n\n      return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z) + Math.abs(this.w);\n\n    },\n\n    normalize: function() {\n\n      return this.divideScalar(this.length() || 1);\n\n    },\n\n    setLength: function(length) {\n\n      return this.normalize().multiplyScalar(length);\n\n    },\n\n    lerp: function(v, alpha) {\n\n      this.x += (v.x - this.x) * alpha;\n      this.y += (v.y - this.y) * alpha;\n      this.z += (v.z - this.z) * alpha;\n      this.w += (v.w - this.w) * alpha;\n\n      return this;\n\n    },\n\n    lerpVectors: function(v1, v2, alpha) {\n\n      return this.subVectors(v2, v1).multiplyScalar(alpha).add(v1);\n\n    },\n\n    equals: function(v) {\n\n      return ((v.x === this.x) && (v.y === this.y) && (v.z === this.z) && (v.w === this.w));\n\n    },\n\n    fromArray: function(array, offset) {\n\n      if (offset === undefined) {\n        offset = 0;\n      }\n\n      this.x = array[offset];\n      this.y = array[offset + 1];\n      this.z = array[offset + 2];\n      this.w = array[offset + 3];\n\n      return this;\n\n    },\n\n    toArray: function(array, offset) {\n\n      if (array === undefined) {\n        array = [];\n      }\n      if (offset === undefined) {\n        offset = 0;\n      }\n\n      array[offset] = this.x;\n      array[offset + 1] = this.y;\n      array[offset + 2] = this.z;\n      array[offset + 3] = this.w;\n\n      return array;\n\n    },\n\n    fromBufferAttribute: function(attribute, index, offset) {\n\n      if (offset !== undefined) {\n\n        console.warn('THREE.Vector4: offset has been removed from .fromBufferAttribute().');\n\n      }\n\n      this.x = attribute.getX(index);\n      this.y = attribute.getY(index);\n      this.z = attribute.getZ(index);\n      this.w = attribute.getW(index);\n\n      return this;\n\n    }\n\n  });\n\n  /**\n   * @author szimek / https://github.com/szimek/\n   * @author alteredq / http://alteredqualia.com/\n   * @author Marius Kintel / https://github.com/kintel\n   */\n\n  /*\n   In options, we can specify:\n   * Texture parameters for an auto-generated target texture\n   * depthBuffer/stencilBuffer: Booleans to indicate if we should generate these buffers\n  */\n  function WebGLRenderTarget(width, height, options) {\n\n    this.width = width;\n    this.height = height;\n\n    this.scissor = new Vector4(0, 0, width, height);\n    this.scissorTest = false;\n\n    this.viewport = new Vector4(0, 0, width, height);\n\n    options = options || {};\n\n    this.texture = new Texture(undefined, undefined, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding);\n\n    this.texture.image = {};\n    this.texture.image.width = width;\n    this.texture.image.height = height;\n\n    this.texture.generateMipmaps = options.generateMipmaps !== undefined ? options.generateMipmaps : false;\n    this.texture.minFilter = options.minFilter !== undefined ? options.minFilter : LinearFilter;\n\n    this.depthBuffer = options.depthBuffer !== undefined ? options.depthBuffer : true;\n    this.stencilBuffer = options.stencilBuffer !== undefined ? options.stencilBuffer : true;\n    this.depthTexture = options.depthTexture !== undefined ? options.depthTexture : null;\n\n  }\n\n  WebGLRenderTarget.prototype = Object.assign(Object.create(EventDispatcher.prototype), {\n\n    constructor: WebGLRenderTarget,\n\n    isWebGLRenderTarget: true,\n\n    setSize: function(width, height) {\n\n      if (this.width !== width || this.height !== height) {\n\n        this.width = width;\n        this.height = height;\n\n        this.texture.image.width = width;\n        this.texture.image.height = height;\n\n        this.dispose();\n\n      }\n\n      this.viewport.set(0, 0, width, height);\n      this.scissor.set(0, 0, width, height);\n\n    },\n\n    clone: function() {\n\n      return new this.constructor().copy(this);\n\n    },\n\n    copy: function(source) {\n\n      this.width = source.width;\n      this.height = source.height;\n\n      this.viewport.copy(source.viewport);\n\n      this.texture = source.texture.clone();\n\n      this.depthBuffer = source.depthBuffer;\n      this.stencilBuffer = source.stencilBuffer;\n      this.depthTexture = source.depthTexture;\n\n      return this;\n\n    },\n\n    dispose: function() {\n\n      this.dispatchEvent({\n        type: 'dispose'\n      });\n\n    }\n\n  });\n\n  /**\n   * @author Mugen87 / https://github.com/Mugen87\n   * @author Matt DesLauriers / @mattdesl\n   */\n\n  function WebGLMultisampleRenderTarget(width, height, options) {\n\n    WebGLRenderTarget.call(this, width, height, options);\n\n    this.samples = 4;\n\n  }\n\n  WebGLMultisampleRenderTarget.prototype = Object.assign(Object.create(WebGLRenderTarget.prototype), {\n\n    constructor: WebGLMultisampleRenderTarget,\n\n    isWebGLMultisampleRenderTarget: true,\n\n    copy: function(source) {\n\n      WebGLRenderTarget.prototype.copy.call(this, source);\n\n      this.samples = source.samples;\n\n      return this;\n\n    }\n\n  });\n\n  var _v1 = new Vector3();\n  var _m1 = new Matrix4();\n  var _zero = new Vector3(0, 0, 0);\n  var _one = new Vector3(1, 1, 1);\n  var _x = new Vector3();\n  var _y = new Vector3();\n  var _z = new Vector3();\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author supereggbert / http://www.paulbrunt.co.uk/\n   * @author philogb / http://blog.thejit.org/\n   * @author jordi_ros / http://plattsoft.com\n   * @author D1plo1d / http://github.com/D1plo1d\n   * @author alteredq / http://alteredqualia.com/\n   * @author mikael emtinger / http://gomo.se/\n   * @author timknip / http://www.floorplanner.com/\n   * @author bhouston / http://clara.io\n   * @author WestLangley / http://github.com/WestLangley\n   */\n\n  function Matrix4() {\n\n    this.elements = [\n\n      1, 0, 0, 0,\n      0, 1, 0, 0,\n      0, 0, 1, 0,\n      0, 0, 0, 1\n\n    ];\n\n    if (arguments.length > 0) {\n\n      console.error('THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.');\n\n    }\n\n  }\n\n  Object.assign(Matrix4.prototype, {\n\n    isMatrix4: true,\n\n    set: function(n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44) {\n\n      var te = this.elements;\n\n      te[0] = n11;\n      te[4] = n12;\n      te[8] = n13;\n      te[12] = n14;\n      te[1] = n21;\n      te[5] = n22;\n      te[9] = n23;\n      te[13] = n24;\n      te[2] = n31;\n      te[6] = n32;\n      te[10] = n33;\n      te[14] = n34;\n      te[3] = n41;\n      te[7] = n42;\n      te[11] = n43;\n      te[15] = n44;\n\n      return this;\n\n    },\n\n    identity: function() {\n\n      this.set(\n\n        1, 0, 0, 0,\n        0, 1, 0, 0,\n        0, 0, 1, 0,\n        0, 0, 0, 1\n\n      );\n\n      return this;\n\n    },\n\n    clone: function() {\n\n      return new Matrix4().fromArray(this.elements);\n\n    },\n\n    copy: function(m) {\n\n      var te = this.elements;\n      var me = m.elements;\n\n      te[0] = me[0];\n      te[1] = me[1];\n      te[2] = me[2];\n      te[3] = me[3];\n      te[4] = me[4];\n      te[5] = me[5];\n      te[6] = me[6];\n      te[7] = me[7];\n      te[8] = me[8];\n      te[9] = me[9];\n      te[10] = me[10];\n      te[11] = me[11];\n      te[12] = me[12];\n      te[13] = me[13];\n      te[14] = me[14];\n      te[15] = me[15];\n\n      return this;\n\n    },\n\n    copyPosition: function(m) {\n\n      var te = this.elements,\n        me = m.elements;\n\n      te[12] = me[12];\n      te[13] = me[13];\n      te[14] = me[14];\n\n      return this;\n\n    },\n\n    extractBasis: function(xAxis, yAxis, zAxis) {\n\n      xAxis.setFromMatrixColumn(this, 0);\n      yAxis.setFromMatrixColumn(this, 1);\n      zAxis.setFromMatrixColumn(this, 2);\n\n      return this;\n\n    },\n\n    makeBasis: function(xAxis, yAxis, zAxis) {\n\n      this.set(\n        xAxis.x, yAxis.x, zAxis.x, 0,\n        xAxis.y, yAxis.y, zAxis.y, 0,\n        xAxis.z, yAxis.z, zAxis.z, 0,\n        0, 0, 0, 1\n      );\n\n      return this;\n\n    },\n\n    extractRotation: function(m) {\n\n      // this method does not support reflection matrices\n\n      var te = this.elements;\n      var me = m.elements;\n\n      var scaleX = 1 / _v1.setFromMatrixColumn(m, 0).length();\n      var scaleY = 1 / _v1.setFromMatrixColumn(m, 1).length();\n      var scaleZ = 1 / _v1.setFromMatrixColumn(m, 2).length();\n\n      te[0] = me[0] * scaleX;\n      te[1] = me[1] * scaleX;\n      te[2] = me[2] * scaleX;\n      te[3] = 0;\n\n      te[4] = me[4] * scaleY;\n      te[5] = me[5] * scaleY;\n      te[6] = me[6] * scaleY;\n      te[7] = 0;\n\n      te[8] = me[8] * scaleZ;\n      te[9] = me[9] * scaleZ;\n      te[10] = me[10] * scaleZ;\n      te[11] = 0;\n\n      te[12] = 0;\n      te[13] = 0;\n      te[14] = 0;\n      te[15] = 1;\n\n      return this;\n\n    },\n\n    makeRotationFromEuler: function(euler) {\n\n      if (!(euler && euler.isEuler)) {\n\n        console.error('THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.');\n\n      }\n\n      var te = this.elements;\n\n      var x = euler.x,\n        y = euler.y,\n        z = euler.z;\n      var a = Math.cos(x),\n        b = Math.sin(x);\n      var c = Math.cos(y),\n        d = Math.sin(y);\n      var e = Math.cos(z),\n        f = Math.sin(z);\n\n      if (euler.order === 'XYZ') {\n\n        var ae = a * e,\n          af = a * f,\n          be = b * e,\n          bf = b * f;\n\n        te[0] = c * e;\n        te[4] = -c * f;\n        te[8] = d;\n\n        te[1] = af + be * d;\n        te[5] = ae - bf * d;\n        te[9] = -b * c;\n\n        te[2] = bf - ae * d;\n        te[6] = be + af * d;\n        te[10] = a * c;\n\n      } else if (euler.order === 'YXZ') {\n\n        var ce = c * e,\n          cf = c * f,\n          de = d * e,\n          df = d * f;\n\n        te[0] = ce + df * b;\n        te[4] = de * b - cf;\n        te[8] = a * d;\n\n        te[1] = a * f;\n        te[5] = a * e;\n        te[9] = -b;\n\n        te[2] = cf * b - de;\n        te[6] = df + ce * b;\n        te[10] = a * c;\n\n      } else if (euler.order === 'ZXY') {\n\n        var ce = c * e,\n          cf = c * f,\n          de = d * e,\n          df = d * f;\n\n        te[0] = ce - df * b;\n        te[4] = -a * f;\n        te[8] = de + cf * b;\n\n        te[1] = cf + de * b;\n        te[5] = a * e;\n        te[9] = df - ce * b;\n\n        te[2] = -a * d;\n        te[6] = b;\n        te[10] = a * c;\n\n      } else if (euler.order === 'ZYX') {\n\n        var ae = a * e,\n          af = a * f,\n          be = b * e,\n          bf = b * f;\n\n        te[0] = c * e;\n        te[4] = be * d - af;\n        te[8] = ae * d + bf;\n\n        te[1] = c * f;\n        te[5] = bf * d + ae;\n        te[9] = af * d - be;\n\n        te[2] = -d;\n        te[6] = b * c;\n        te[10] = a * c;\n\n      } else if (euler.order === 'YZX') {\n\n        var ac = a * c,\n          ad = a * d,\n          bc = b * c,\n          bd = b * d;\n\n        te[0] = c * e;\n        te[4] = bd - ac * f;\n        te[8] = bc * f + ad;\n\n        te[1] = f;\n        te[5] = a * e;\n        te[9] = -b * e;\n\n        te[2] = -d * e;\n        te[6] = ad * f + bc;\n        te[10] = ac - bd * f;\n\n      } else if (euler.order === 'XZY') {\n\n        var ac = a * c,\n          ad = a * d,\n          bc = b * c,\n          bd = b * d;\n\n        te[0] = c * e;\n        te[4] = -f;\n        te[8] = d * e;\n\n        te[1] = ac * f + bd;\n        te[5] = a * e;\n        te[9] = ad * f - bc;\n\n        te[2] = bc * f - ad;\n        te[6] = b * e;\n        te[10] = bd * f + ac;\n\n      }\n\n      // bottom row\n      te[3] = 0;\n      te[7] = 0;\n      te[11] = 0;\n\n      // last column\n      te[12] = 0;\n      te[13] = 0;\n      te[14] = 0;\n      te[15] = 1;\n\n      return this;\n\n    },\n\n    makeRotationFromQuaternion: function(q) {\n\n      return this.compose(_zero, q, _one);\n\n    },\n\n    lookAt: function(eye, target, up) {\n\n      var te = this.elements;\n\n      _z.subVectors(eye, target);\n\n      if (_z.lengthSq() === 0) {\n\n        // eye and target are in the same position\n\n        _z.z = 1;\n\n      }\n\n      _z.normalize();\n      _x.crossVectors(up, _z);\n\n      if (_x.lengthSq() === 0) {\n\n        // up and z are parallel\n\n        if (Math.abs(up.z) === 1) {\n\n          _z.x += 0.0001;\n\n        } else {\n\n          _z.z += 0.0001;\n\n        }\n\n        _z.normalize();\n        _x.crossVectors(up, _z);\n\n      }\n\n      _x.normalize();\n      _y.crossVectors(_z, _x);\n\n      te[0] = _x.x;\n      te[4] = _y.x;\n      te[8] = _z.x;\n      te[1] = _x.y;\n      te[5] = _y.y;\n      te[9] = _z.y;\n      te[2] = _x.z;\n      te[6] = _y.z;\n      te[10] = _z.z;\n\n      return this;\n\n    },\n\n    multiply: function(m, n) {\n\n      if (n !== undefined) {\n\n        console.warn('THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.');\n        return this.multiplyMatrices(m, n);\n\n      }\n\n      return this.multiplyMatrices(this, m);\n\n    },\n\n    premultiply: function(m) {\n\n      return this.multiplyMatrices(m, this);\n\n    },\n\n    multiplyMatrices: function(a, b) {\n\n      var ae = a.elements;\n      var be = b.elements;\n      var te = this.elements;\n\n      var a11 = ae[0],\n        a12 = ae[4],\n        a13 = ae[8],\n        a14 = ae[12];\n      var a21 = ae[1],\n        a22 = ae[5],\n        a23 = ae[9],\n        a24 = ae[13];\n      var a31 = ae[2],\n        a32 = ae[6],\n        a33 = ae[10],\n        a34 = ae[14];\n      var a41 = ae[3],\n        a42 = ae[7],\n        a43 = ae[11],\n        a44 = ae[15];\n\n      var b11 = be[0],\n        b12 = be[4],\n        b13 = be[8],\n        b14 = be[12];\n      var b21 = be[1],\n        b22 = be[5],\n        b23 = be[9],\n        b24 = be[13];\n      var b31 = be[2],\n        b32 = be[6],\n        b33 = be[10],\n        b34 = be[14];\n      var b41 = be[3],\n        b42 = be[7],\n        b43 = be[11],\n        b44 = be[15];\n\n      te[0] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n      te[4] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n      te[8] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n      te[12] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n\n      te[1] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n      te[5] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n      te[9] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n      te[13] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n\n      te[2] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n      te[6] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n      te[10] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n      te[14] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n\n      te[3] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n      te[7] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n      te[11] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n      te[15] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n\n      return this;\n\n    },\n\n    multiplyScalar: function(s) {\n\n      var te = this.elements;\n\n      te[0] *= s;\n      te[4] *= s;\n      te[8] *= s;\n      te[12] *= s;\n      te[1] *= s;\n      te[5] *= s;\n      te[9] *= s;\n      te[13] *= s;\n      te[2] *= s;\n      te[6] *= s;\n      te[10] *= s;\n      te[14] *= s;\n      te[3] *= s;\n      te[7] *= s;\n      te[11] *= s;\n      te[15] *= s;\n\n      return this;\n\n    },\n\n    applyToBufferAttribute: function(attribute) {\n\n      for (var i = 0, l = attribute.count; i < l; i++) {\n\n        _v1.x = attribute.getX(i);\n        _v1.y = attribute.getY(i);\n        _v1.z = attribute.getZ(i);\n\n        _v1.applyMatrix4(this);\n\n        attribute.setXYZ(i, _v1.x, _v1.y, _v1.z);\n\n      }\n\n      return attribute;\n\n    },\n\n    determinant: function() {\n\n      var te = this.elements;\n\n      var n11 = te[0],\n        n12 = te[4],\n        n13 = te[8],\n        n14 = te[12];\n      var n21 = te[1],\n        n22 = te[5],\n        n23 = te[9],\n        n24 = te[13];\n      var n31 = te[2],\n        n32 = te[6],\n        n33 = te[10],\n        n34 = te[14];\n      var n41 = te[3],\n        n42 = te[7],\n        n43 = te[11],\n        n44 = te[15];\n\n      //TODO: make this more efficient\n      //( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )\n\n      return (\n        n41 * (\n          +n14 * n23 * n32 -\n          n13 * n24 * n32 -\n          n14 * n22 * n33 +\n          n12 * n24 * n33 +\n          n13 * n22 * n34 -\n          n12 * n23 * n34\n        ) +\n        n42 * (\n          +n11 * n23 * n34 -\n          n11 * n24 * n33 +\n          n14 * n21 * n33 -\n          n13 * n21 * n34 +\n          n13 * n24 * n31 -\n          n14 * n23 * n31\n        ) +\n        n43 * (\n          +n11 * n24 * n32 -\n          n11 * n22 * n34 -\n          n14 * n21 * n32 +\n          n12 * n21 * n34 +\n          n14 * n22 * n31 -\n          n12 * n24 * n31\n        ) +\n        n44 * (\n          -n13 * n22 * n31 -\n          n11 * n23 * n32 +\n          n11 * n22 * n33 +\n          n13 * n21 * n32 -\n          n12 * n21 * n33 +\n          n12 * n23 * n31\n        )\n\n      );\n\n    },\n\n    transpose: function() {\n\n      var te = this.elements;\n      var tmp;\n\n      tmp = te[1];\n      te[1] = te[4];\n      te[4] = tmp;\n      tmp = te[2];\n      te[2] = te[8];\n      te[8] = tmp;\n      tmp = te[6];\n      te[6] = te[9];\n      te[9] = tmp;\n\n      tmp = te[3];\n      te[3] = te[12];\n      te[12] = tmp;\n      tmp = te[7];\n      te[7] = te[13];\n      te[13] = tmp;\n      tmp = te[11];\n      te[11] = te[14];\n      te[14] = tmp;\n\n      return this;\n\n    },\n\n    setPosition: function(x, y, z) {\n\n      var te = this.elements;\n\n      if (x.isVector3) {\n\n        te[12] = x.x;\n        te[13] = x.y;\n        te[14] = x.z;\n\n      } else {\n\n        te[12] = x;\n        te[13] = y;\n        te[14] = z;\n\n      }\n\n      return this;\n\n    },\n\n    getInverse: function(m, throwOnDegenerate) {\n\n      // based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\n      var te = this.elements,\n        me = m.elements,\n\n        n11 = me[0],\n        n21 = me[1],\n        n31 = me[2],\n        n41 = me[3],\n        n12 = me[4],\n        n22 = me[5],\n        n32 = me[6],\n        n42 = me[7],\n        n13 = me[8],\n        n23 = me[9],\n        n33 = me[10],\n        n43 = me[11],\n        n14 = me[12],\n        n24 = me[13],\n        n34 = me[14],\n        n44 = me[15],\n\n        t11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44,\n        t12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44,\n        t13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44,\n        t14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;\n\n      var det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;\n\n      if (det === 0) {\n\n        var msg = \"THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0\";\n\n        if (throwOnDegenerate === true) {\n\n          throw new Error(msg);\n\n        } else {\n\n          console.warn(msg);\n\n        }\n\n        return this.identity();\n\n      }\n\n      var detInv = 1 / det;\n\n      te[0] = t11 * detInv;\n      te[1] = (n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44) * detInv;\n      te[2] = (n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44) * detInv;\n      te[3] = (n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43) * detInv;\n\n      te[4] = t12 * detInv;\n      te[5] = (n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44) * detInv;\n      te[6] = (n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44) * detInv;\n      te[7] = (n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43) * detInv;\n\n      te[8] = t13 * detInv;\n      te[9] = (n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44) * detInv;\n      te[10] = (n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44) * detInv;\n      te[11] = (n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43) * detInv;\n\n      te[12] = t14 * detInv;\n      te[13] = (n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34) * detInv;\n      te[14] = (n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34) * detInv;\n      te[15] = (n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33) * detInv;\n\n      return this;\n\n    },\n\n    scale: function(v) {\n\n      var te = this.elements;\n      var x = v.x,\n        y = v.y,\n        z = v.z;\n\n      te[0] *= x;\n      te[4] *= y;\n      te[8] *= z;\n      te[1] *= x;\n      te[5] *= y;\n      te[9] *= z;\n      te[2] *= x;\n      te[6] *= y;\n      te[10] *= z;\n      te[3] *= x;\n      te[7] *= y;\n      te[11] *= z;\n\n      return this;\n\n    },\n\n    getMaxScaleOnAxis: function() {\n\n      var te = this.elements;\n\n      var scaleXSq = te[0] * te[0] + te[1] * te[1] + te[2] * te[2];\n      var scaleYSq = te[4] * te[4] + te[5] * te[5] + te[6] * te[6];\n      var scaleZSq = te[8] * te[8] + te[9] * te[9] + te[10] * te[10];\n\n      return Math.sqrt(Math.max(scaleXSq, scaleYSq, scaleZSq));\n\n    },\n\n    makeTranslation: function(x, y, z) {\n\n      this.set(\n\n        1, 0, 0, x,\n        0, 1, 0, y,\n        0, 0, 1, z,\n        0, 0, 0, 1\n\n      );\n\n      return this;\n\n    },\n\n    makeRotationX: function(theta) {\n\n      var c = Math.cos(theta),\n        s = Math.sin(theta);\n\n      this.set(\n\n        1, 0, 0, 0,\n        0, c, -s, 0,\n        0, s, c, 0,\n        0, 0, 0, 1\n\n      );\n\n      return this;\n\n    },\n\n    makeRotationY: function(theta) {\n\n      var c = Math.cos(theta),\n        s = Math.sin(theta);\n\n      this.set(\n\n        c, 0, s, 0,\n        0, 1, 0, 0,\n        -s, 0, c, 0,\n        0, 0, 0, 1\n\n      );\n\n      return this;\n\n    },\n\n    makeRotationZ: function(theta) {\n\n      var c = Math.cos(theta),\n        s = Math.sin(theta);\n\n      this.set(\n\n        c, -s, 0, 0,\n        s, c, 0, 0,\n        0, 0, 1, 0,\n        0, 0, 0, 1\n\n      );\n\n      return this;\n\n    },\n\n    makeRotationAxis: function(axis, angle) {\n\n      // Based on http://www.gamedev.net/reference/articles/article1199.asp\n\n      var c = Math.cos(angle);\n      var s = Math.sin(angle);\n      var t = 1 - c;\n      var x = axis.x,\n        y = axis.y,\n        z = axis.z;\n      var tx = t * x,\n        ty = t * y;\n\n      this.set(\n\n        tx * x + c, tx * y - s * z, tx * z + s * y, 0,\n        tx * y + s * z, ty * y + c, ty * z - s * x, 0,\n        tx * z - s * y, ty * z + s * x, t * z * z + c, 0,\n        0, 0, 0, 1\n\n      );\n\n      return this;\n\n    },\n\n    makeScale: function(x, y, z) {\n\n      this.set(\n\n        x, 0, 0, 0,\n        0, y, 0, 0,\n        0, 0, z, 0,\n        0, 0, 0, 1\n\n      );\n\n      return this;\n\n    },\n\n    makeShear: function(x, y, z) {\n\n      this.set(\n\n        1, y, z, 0,\n        x, 1, z, 0,\n        x, y, 1, 0,\n        0, 0, 0, 1\n\n      );\n\n      return this;\n\n    },\n\n    compose: function(position, quaternion, scale) {\n\n      var te = this.elements;\n\n      var x = quaternion._x,\n        y = quaternion._y,\n        z = quaternion._z,\n        w = quaternion._w;\n      var x2 = x + x,\n        y2 = y + y,\n        z2 = z + z;\n      var xx = x * x2,\n        xy = x * y2,\n        xz = x * z2;\n      var yy = y * y2,\n        yz = y * z2,\n        zz = z * z2;\n      var wx = w * x2,\n        wy = w * y2,\n        wz = w * z2;\n\n      var sx = scale.x,\n        sy = scale.y,\n        sz = scale.z;\n\n      te[0] = (1 - (yy + zz)) * sx;\n      te[1] = (xy + wz) * sx;\n      te[2] = (xz - wy) * sx;\n      te[3] = 0;\n\n      te[4] = (xy - wz) * sy;\n      te[5] = (1 - (xx + zz)) * sy;\n      te[6] = (yz + wx) * sy;\n      te[7] = 0;\n\n      te[8] = (xz + wy) * sz;\n      te[9] = (yz - wx) * sz;\n      te[10] = (1 - (xx + yy)) * sz;\n      te[11] = 0;\n\n      te[12] = position.x;\n      te[13] = position.y;\n      te[14] = position.z;\n      te[15] = 1;\n\n      return this;\n\n    },\n\n    decompose: function(position, quaternion, scale) {\n\n      var te = this.elements;\n\n      var sx = _v1.set(te[0], te[1], te[2]).length();\n      var sy = _v1.set(te[4], te[5], te[6]).length();\n      var sz = _v1.set(te[8], te[9], te[10]).length();\n\n      // if determine is negative, we need to invert one scale\n      var det = this.determinant();\n      if (det < 0) {\n        sx = -sx;\n      }\n\n      position.x = te[12];\n      position.y = te[13];\n      position.z = te[14];\n\n      // scale the rotation part\n      _m1.copy(this);\n\n      var invSX = 1 / sx;\n      var invSY = 1 / sy;\n      var invSZ = 1 / sz;\n\n      _m1.elements[0] *= invSX;\n      _m1.elements[1] *= invSX;\n      _m1.elements[2] *= invSX;\n\n      _m1.elements[4] *= invSY;\n      _m1.elements[5] *= invSY;\n      _m1.elements[6] *= invSY;\n\n      _m1.elements[8] *= invSZ;\n      _m1.elements[9] *= invSZ;\n      _m1.elements[10] *= invSZ;\n\n      quaternion.setFromRotationMatrix(_m1);\n\n      scale.x = sx;\n      scale.y = sy;\n      scale.z = sz;\n\n      return this;\n\n    },\n\n    makePerspective: function(left, right, top, bottom, near, far) {\n\n      if (far === undefined) {\n\n        console.warn('THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.');\n\n      }\n\n      var te = this.elements;\n      var x = 2 * near / (right - left);\n      var y = 2 * near / (top - bottom);\n\n      var a = (right + left) / (right - left);\n      var b = (top + bottom) / (top - bottom);\n      var c = -(far + near) / (far - near);\n      var d = -2 * far * near / (far - near);\n\n      te[0] = x;\n      te[4] = 0;\n      te[8] = a;\n      te[12] = 0;\n      te[1] = 0;\n      te[5] = y;\n      te[9] = b;\n      te[13] = 0;\n      te[2] = 0;\n      te[6] = 0;\n      te[10] = c;\n      te[14] = d;\n      te[3] = 0;\n      te[7] = 0;\n      te[11] = -1;\n      te[15] = 0;\n\n      return this;\n\n    },\n\n    makeOrthographic: function(left, right, top, bottom, near, far) {\n\n      var te = this.elements;\n      var w = 1.0 / (right - left);\n      var h = 1.0 / (top - bottom);\n      var p = 1.0 / (far - near);\n\n      var x = (right + left) * w;\n      var y = (top + bottom) * h;\n      var z = (far + near) * p;\n\n      te[0] = 2 * w;\n      te[4] = 0;\n      te[8] = 0;\n      te[12] = -x;\n      te[1] = 0;\n      te[5] = 2 * h;\n      te[9] = 0;\n      te[13] = -y;\n      te[2] = 0;\n      te[6] = 0;\n      te[10] = -2 * p;\n      te[14] = -z;\n      te[3] = 0;\n      te[7] = 0;\n      te[11] = 0;\n      te[15] = 1;\n\n      return this;\n\n    },\n\n    equals: function(matrix) {\n\n      var te = this.elements;\n      var me = matrix.elements;\n\n      for (var i = 0; i < 16; i++) {\n\n        if (te[i] !== me[i]) {\n          return false;\n        }\n\n      }\n\n      return true;\n\n    },\n\n    fromArray: function(array, offset) {\n\n      if (offset === undefined) {\n        offset = 0;\n      }\n\n      for (var i = 0; i < 16; i++) {\n\n        this.elements[i] = array[i + offset];\n\n      }\n\n      return this;\n\n    },\n\n    toArray: function(array, offset) {\n\n      if (array === undefined) {\n        array = [];\n      }\n      if (offset === undefined) {\n        offset = 0;\n      }\n\n      var te = this.elements;\n\n      array[offset] = te[0];\n      array[offset + 1] = te[1];\n      array[offset + 2] = te[2];\n      array[offset + 3] = te[3];\n\n      array[offset + 4] = te[4];\n      array[offset + 5] = te[5];\n      array[offset + 6] = te[6];\n      array[offset + 7] = te[7];\n\n      array[offset + 8] = te[8];\n      array[offset + 9] = te[9];\n      array[offset + 10] = te[10];\n      array[offset + 11] = te[11];\n\n      array[offset + 12] = te[12];\n      array[offset + 13] = te[13];\n      array[offset + 14] = te[14];\n      array[offset + 15] = te[15];\n\n      return array;\n\n    }\n\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author WestLangley / http://github.com/WestLangley\n   * @author bhouston / http://clara.io\n   */\n\n  var _matrix = new Matrix4();\n  var _quaternion$1 = new Quaternion();\n\n  function Euler(x, y, z, order) {\n\n    this._x = x || 0;\n    this._y = y || 0;\n    this._z = z || 0;\n    this._order = order || Euler.DefaultOrder;\n\n  }\n\n  Euler.RotationOrders = ['XYZ', 'YZX', 'ZXY', 'XZY', 'YXZ', 'ZYX'];\n\n  Euler.DefaultOrder = 'XYZ';\n\n  Object.defineProperties(Euler.prototype, {\n\n    x: {\n\n      get: function() {\n\n        return this._x;\n\n      },\n\n      set: function(value) {\n\n        this._x = value;\n        this._onChangeCallback();\n\n      }\n\n    },\n\n    y: {\n\n      get: function() {\n\n        return this._y;\n\n      },\n\n      set: function(value) {\n\n        this._y = value;\n        this._onChangeCallback();\n\n      }\n\n    },\n\n    z: {\n\n      get: function() {\n\n        return this._z;\n\n      },\n\n      set: function(value) {\n\n        this._z = value;\n        this._onChangeCallback();\n\n      }\n\n    },\n\n    order: {\n\n      get: function() {\n\n        return this._order;\n\n      },\n\n      set: function(value) {\n\n        this._order = value;\n        this._onChangeCallback();\n\n      }\n\n    }\n\n  });\n\n  Object.assign(Euler.prototype, {\n\n    isEuler: true,\n\n    set: function(x, y, z, order) {\n\n      this._x = x;\n      this._y = y;\n      this._z = z;\n      this._order = order || this._order;\n\n      this._onChangeCallback();\n\n      return this;\n\n    },\n\n    clone: function() {\n\n      return new this.constructor(this._x, this._y, this._z, this._order);\n\n    },\n\n    copy: function(euler) {\n\n      this._x = euler._x;\n      this._y = euler._y;\n      this._z = euler._z;\n      this._order = euler._order;\n\n      this._onChangeCallback();\n\n      return this;\n\n    },\n\n    setFromRotationMatrix: function(m, order, update) {\n\n      var clamp = _Math.clamp;\n\n      // assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n      var te = m.elements;\n      var m11 = te[0],\n        m12 = te[4],\n        m13 = te[8];\n      var m21 = te[1],\n        m22 = te[5],\n        m23 = te[9];\n      var m31 = te[2],\n        m32 = te[6],\n        m33 = te[10];\n\n      order = order || this._order;\n\n      if (order === 'XYZ') {\n\n        this._y = Math.asin(clamp(m13, -1, 1));\n\n        if (Math.abs(m13) < 0.9999999) {\n\n          this._x = Math.atan2(-m23, m33);\n          this._z = Math.atan2(-m12, m11);\n\n        } else {\n\n          this._x = Math.atan2(m32, m22);\n          this._z = 0;\n\n        }\n\n      } else if (order === 'YXZ') {\n\n        this._x = Math.asin(-clamp(m23, -1, 1));\n\n        if (Math.abs(m23) < 0.9999999) {\n\n          this._y = Math.atan2(m13, m33);\n          this._z = Math.atan2(m21, m22);\n\n        } else {\n\n          this._y = Math.atan2(-m31, m11);\n          this._z = 0;\n\n        }\n\n      } else if (order === 'ZXY') {\n\n        this._x = Math.asin(clamp(m32, -1, 1));\n\n        if (Math.abs(m32) < 0.9999999) {\n\n          this._y = Math.atan2(-m31, m33);\n          this._z = Math.atan2(-m12, m22);\n\n        } else {\n\n          this._y = 0;\n          this._z = Math.atan2(m21, m11);\n\n        }\n\n      } else if (order === 'ZYX') {\n\n        this._y = Math.asin(-clamp(m31, -1, 1));\n\n        if (Math.abs(m31) < 0.9999999) {\n\n          this._x = Math.atan2(m32, m33);\n          this._z = Math.atan2(m21, m11);\n\n        } else {\n\n          this._x = 0;\n          this._z = Math.atan2(-m12, m22);\n\n        }\n\n      } else if (order === 'YZX') {\n\n        this._z = Math.asin(clamp(m21, -1, 1));\n\n        if (Math.abs(m21) < 0.9999999) {\n\n          this._x = Math.atan2(-m23, m22);\n          this._y = Math.atan2(-m31, m11);\n\n        } else {\n\n          this._x = 0;\n          this._y = Math.atan2(m13, m33);\n\n        }\n\n      } else if (order === 'XZY') {\n\n        this._z = Math.asin(-clamp(m12, -1, 1));\n\n        if (Math.abs(m12) < 0.9999999) {\n\n          this._x = Math.atan2(m32, m22);\n          this._y = Math.atan2(m13, m11);\n\n        } else {\n\n          this._x = Math.atan2(-m23, m33);\n          this._y = 0;\n\n        }\n\n      } else {\n\n        console.warn('THREE.Euler: .setFromRotationMatrix() given unsupported order: ' + order);\n\n      }\n\n      this._order = order;\n\n      if (update !== false) {\n        this._onChangeCallback();\n      }\n\n      return this;\n\n    },\n\n    setFromQuaternion: function(q, order, update) {\n\n      _matrix.makeRotationFromQuaternion(q);\n\n      return this.setFromRotationMatrix(_matrix, order, update);\n\n    },\n\n    setFromVector3: function(v, order) {\n\n      return this.set(v.x, v.y, v.z, order || this._order);\n\n    },\n\n    reorder: function(newOrder) {\n\n      // WARNING: this discards revolution information -bhouston\n\n      _quaternion$1.setFromEuler(this);\n\n      return this.setFromQuaternion(_quaternion$1, newOrder);\n\n    },\n\n    equals: function(euler) {\n\n      return (euler._x === this._x) && (euler._y === this._y) && (euler._z === this._z) && (euler._order === this._order);\n\n    },\n\n    fromArray: function(array) {\n\n      this._x = array[0];\n      this._y = array[1];\n      this._z = array[2];\n      if (array[3] !== undefined) {\n        this._order = array[3];\n      }\n\n      this._onChangeCallback();\n\n      return this;\n\n    },\n\n    toArray: function(array, offset) {\n\n      if (array === undefined) {\n        array = [];\n      }\n      if (offset === undefined) {\n        offset = 0;\n      }\n\n      array[offset] = this._x;\n      array[offset + 1] = this._y;\n      array[offset + 2] = this._z;\n      array[offset + 3] = this._order;\n\n      return array;\n\n    },\n\n    toVector3: function(optionalResult) {\n\n      if (optionalResult) {\n\n        return optionalResult.set(this._x, this._y, this._z);\n\n      } else {\n\n        return new Vector3(this._x, this._y, this._z);\n\n      }\n\n    },\n\n    _onChange: function(callback) {\n\n      this._onChangeCallback = callback;\n\n      return this;\n\n    },\n\n    _onChangeCallback: function() {}\n\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function Layers() {\n\n    this.mask = 1 | 0;\n\n  }\n\n  Object.assign(Layers.prototype, {\n\n    set: function(channel) {\n\n      this.mask = 1 << channel | 0;\n\n    },\n\n    enable: function(channel) {\n\n      this.mask |= 1 << channel | 0;\n\n    },\n\n    enableAll: function() {\n\n      this.mask = 0xffffffff | 0;\n\n    },\n\n    toggle: function(channel) {\n\n      this.mask ^= 1 << channel | 0;\n\n    },\n\n    disable: function(channel) {\n\n      this.mask &= ~(1 << channel | 0);\n\n    },\n\n    disableAll: function() {\n\n      this.mask = 0;\n\n    },\n\n    test: function(layers) {\n\n      return (this.mask & layers.mask) !== 0;\n\n    }\n\n  });\n\n  var _object3DId = 0;\n\n  var _v1$1 = new Vector3();\n  var _q1 = new Quaternion();\n  var _m1$1 = new Matrix4();\n  var _target = new Vector3();\n\n  var _position = new Vector3();\n  var _scale = new Vector3();\n  var _quaternion$2 = new Quaternion();\n\n  var _xAxis = new Vector3(1, 0, 0);\n  var _yAxis = new Vector3(0, 1, 0);\n  var _zAxis = new Vector3(0, 0, 1);\n\n  var _addedEvent = {\n    type: 'added'\n  };\n  var _removedEvent = {\n    type: 'removed'\n  };\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author mikael emtinger / http://gomo.se/\n   * @author alteredq / http://alteredqualia.com/\n   * @author WestLangley / http://github.com/WestLangley\n   * @author elephantatwork / www.elephantatwork.ch\n   */\n\n  function Object3D() {\n\n    Object.defineProperty(this, 'id', {\n      value: _object3DId++\n    });\n\n    this.uuid = _Math.generateUUID();\n\n    this.name = '';\n    this.type = 'Object3D';\n\n    this.parent = null;\n    this.children = [];\n\n    this.up = Object3D.DefaultUp.clone();\n\n    var position = new Vector3();\n    var rotation = new Euler();\n    var quaternion = new Quaternion();\n    var scale = new Vector3(1, 1, 1);\n\n    function onRotationChange() {\n\n      quaternion.setFromEuler(rotation, false);\n\n    }\n\n    function onQuaternionChange() {\n\n      rotation.setFromQuaternion(quaternion, undefined, false);\n\n    }\n\n    rotation._onChange(onRotationChange);\n    quaternion._onChange(onQuaternionChange);\n\n    Object.defineProperties(this, {\n      position: {\n        configurable: true,\n        enumerable: true,\n        value: position\n      },\n      rotation: {\n        configurable: true,\n        enumerable: true,\n        value: rotation\n      },\n      quaternion: {\n        configurable: true,\n        enumerable: true,\n        value: quaternion\n      },\n      scale: {\n        configurable: true,\n        enumerable: true,\n        value: scale\n      },\n      modelViewMatrix: {\n        value: new Matrix4()\n      },\n      normalMatrix: {\n        value: new Matrix3()\n      }\n    });\n\n    this.matrix = new Matrix4();\n    this.matrixWorld = new Matrix4();\n\n    this.matrixAutoUpdate = Object3D.DefaultMatrixAutoUpdate;\n    this.matrixWorldNeedsUpdate = false;\n\n    this.layers = new Layers();\n    this.visible = true;\n\n    this.castShadow = false;\n    this.receiveShadow = false;\n\n    this.frustumCulled = true;\n    this.renderOrder = 0;\n\n    this.userData = {};\n\n  }\n\n  Object3D.DefaultUp = new Vector3(0, 1, 0);\n  Object3D.DefaultMatrixAutoUpdate = true;\n\n  Object3D.prototype = Object.assign(Object.create(EventDispatcher.prototype), {\n\n    constructor: Object3D,\n\n    isObject3D: true,\n\n    onBeforeRender: function() {},\n    onAfterRender: function() {},\n\n    applyMatrix: function(matrix) {\n\n      if (this.matrixAutoUpdate) {\n        this.updateMatrix();\n      }\n\n      this.matrix.premultiply(matrix);\n\n      this.matrix.decompose(this.position, this.quaternion, this.scale);\n\n    },\n\n    applyQuaternion: function(q) {\n\n      this.quaternion.premultiply(q);\n\n      return this;\n\n    },\n\n    setRotationFromAxisAngle: function(axis, angle) {\n\n      // assumes axis is normalized\n\n      this.quaternion.setFromAxisAngle(axis, angle);\n\n    },\n\n    setRotationFromEuler: function(euler) {\n\n      this.quaternion.setFromEuler(euler, true);\n\n    },\n\n    setRotationFromMatrix: function(m) {\n\n      // assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n      this.quaternion.setFromRotationMatrix(m);\n\n    },\n\n    setRotationFromQuaternion: function(q) {\n\n      // assumes q is normalized\n\n      this.quaternion.copy(q);\n\n    },\n\n    rotateOnAxis: function(axis, angle) {\n\n      // rotate object on axis in object space\n      // axis is assumed to be normalized\n\n      _q1.setFromAxisAngle(axis, angle);\n\n      this.quaternion.multiply(_q1);\n\n      return this;\n\n    },\n\n    rotateOnWorldAxis: function(axis, angle) {\n\n      // rotate object on axis in world space\n      // axis is assumed to be normalized\n      // method assumes no rotated parent\n\n      _q1.setFromAxisAngle(axis, angle);\n\n      this.quaternion.premultiply(_q1);\n\n      return this;\n\n    },\n\n    rotateX: function(angle) {\n\n      return this.rotateOnAxis(_xAxis, angle);\n\n    },\n\n    rotateY: function(angle) {\n\n      return this.rotateOnAxis(_yAxis, angle);\n\n    },\n\n    rotateZ: function(angle) {\n\n      return this.rotateOnAxis(_zAxis, angle);\n\n    },\n\n    translateOnAxis: function(axis, distance) {\n\n      // translate object by distance along axis in object space\n      // axis is assumed to be normalized\n\n      _v1$1.copy(axis).applyQuaternion(this.quaternion);\n\n      this.position.add(_v1$1.multiplyScalar(distance));\n\n      return this;\n\n    },\n\n    translateX: function(distance) {\n\n      return this.translateOnAxis(_xAxis, distance);\n\n    },\n\n    translateY: function(distance) {\n\n      return this.translateOnAxis(_yAxis, distance);\n\n    },\n\n    translateZ: function(distance) {\n\n      return this.translateOnAxis(_zAxis, distance);\n\n    },\n\n    localToWorld: function(vector) {\n\n      return vector.applyMatrix4(this.matrixWorld);\n\n    },\n\n    worldToLocal: function(vector) {\n\n      return vector.applyMatrix4(_m1$1.getInverse(this.matrixWorld));\n\n    },\n\n    lookAt: function(x, y, z) {\n\n      // This method does not support objects having non-uniformly-scaled parent(s)\n\n      if (x.isVector3) {\n\n        _target.copy(x);\n\n      } else {\n\n        _target.set(x, y, z);\n\n      }\n\n      var parent = this.parent;\n\n      this.updateWorldMatrix(true, false);\n\n      _position.setFromMatrixPosition(this.matrixWorld);\n\n      if (this.isCamera || this.isLight) {\n\n        _m1$1.lookAt(_position, _target, this.up);\n\n      } else {\n\n        _m1$1.lookAt(_target, _position, this.up);\n\n      }\n\n      this.quaternion.setFromRotationMatrix(_m1$1);\n\n      if (parent) {\n\n        _m1$1.extractRotation(parent.matrixWorld);\n        _q1.setFromRotationMatrix(_m1$1);\n        this.quaternion.premultiply(_q1.inverse());\n\n      }\n\n    },\n\n    add: function(object) {\n\n      if (arguments.length > 1) {\n\n        for (var i = 0; i < arguments.length; i++) {\n\n          this.add(arguments[i]);\n\n        }\n\n        return this;\n\n      }\n\n      if (object === this) {\n\n        console.error(\"THREE.Object3D.add: object can't be added as a child of itself.\", object);\n        return this;\n\n      }\n\n      if ((object && object.isObject3D)) {\n\n        if (object.parent !== null) {\n\n          object.parent.remove(object);\n\n        }\n\n        object.parent = this;\n        this.children.push(object);\n\n        object.dispatchEvent(_addedEvent);\n\n      } else {\n\n        console.error(\"THREE.Object3D.add: object not an instance of THREE.Object3D.\", object);\n\n      }\n\n      return this;\n\n    },\n\n    remove: function(object) {\n\n      if (arguments.length > 1) {\n\n        for (var i = 0; i < arguments.length; i++) {\n\n          this.remove(arguments[i]);\n\n        }\n\n        return this;\n\n      }\n\n      var index = this.children.indexOf(object);\n\n      if (index !== -1) {\n\n        object.parent = null;\n        this.children.splice(index, 1);\n\n        object.dispatchEvent(_removedEvent);\n\n      }\n\n      return this;\n\n    },\n\n    attach: function(object) {\n\n      // adds object as a child of this, while maintaining the object's world transform\n\n      this.updateWorldMatrix(true, false);\n\n      _m1$1.getInverse(this.matrixWorld);\n\n      if (object.parent !== null) {\n\n        object.parent.updateWorldMatrix(true, false);\n\n        _m1$1.multiply(object.parent.matrixWorld);\n\n      }\n\n      object.applyMatrix(_m1$1);\n\n      object.updateWorldMatrix(false, false);\n\n      this.add(object);\n\n      return this;\n\n    },\n\n    getObjectById: function(id) {\n\n      return this.getObjectByProperty('id', id);\n\n    },\n\n    getObjectByName: function(name) {\n\n      return this.getObjectByProperty('name', name);\n\n    },\n\n    getObjectByProperty: function(name, value) {\n\n      if (this[name] === value) {\n        return this;\n      }\n\n      for (var i = 0, l = this.children.length; i < l; i++) {\n\n        var child = this.children[i];\n        var object = child.getObjectByProperty(name, value);\n\n        if (object !== undefined) {\n\n          return object;\n\n        }\n\n      }\n\n      return undefined;\n\n    },\n\n    getWorldPosition: function(target) {\n\n      if (target === undefined) {\n\n        console.warn('THREE.Object3D: .getWorldPosition() target is now required');\n        target = new Vector3();\n\n      }\n\n      this.updateMatrixWorld(true);\n\n      return target.setFromMatrixPosition(this.matrixWorld);\n\n    },\n\n    getWorldQuaternion: function(target) {\n\n      if (target === undefined) {\n\n        console.warn('THREE.Object3D: .getWorldQuaternion() target is now required');\n        target = new Quaternion();\n\n      }\n\n      this.updateMatrixWorld(true);\n\n      this.matrixWorld.decompose(_position, target, _scale);\n\n      return target;\n\n    },\n\n    getWorldScale: function(target) {\n\n      if (target === undefined) {\n\n        console.warn('THREE.Object3D: .getWorldScale() target is now required');\n        target = new Vector3();\n\n      }\n\n      this.updateMatrixWorld(true);\n\n      this.matrixWorld.decompose(_position, _quaternion$2, target);\n\n      return target;\n\n    },\n\n    getWorldDirection: function(target) {\n\n      if (target === undefined) {\n\n        console.warn('THREE.Object3D: .getWorldDirection() target is now required');\n        target = new Vector3();\n\n      }\n\n      this.updateMatrixWorld(true);\n\n      var e = this.matrixWorld.elements;\n\n      return target.set(e[8], e[9], e[10]).normalize();\n\n    },\n\n    raycast: function() {},\n\n    traverse: function(callback) {\n\n      callback(this);\n\n      var children = this.children;\n\n      for (var i = 0, l = children.length; i < l; i++) {\n\n        children[i].traverse(callback);\n\n      }\n\n    },\n\n    traverseVisible: function(callback) {\n\n      if (this.visible === false) {\n        return;\n      }\n\n      callback(this);\n\n      var children = this.children;\n\n      for (var i = 0, l = children.length; i < l; i++) {\n\n        children[i].traverseVisible(callback);\n\n      }\n\n    },\n\n    traverseAncestors: function(callback) {\n\n      var parent = this.parent;\n\n      if (parent !== null) {\n\n        callback(parent);\n\n        parent.traverseAncestors(callback);\n\n      }\n\n    },\n\n    updateMatrix: function() {\n\n      this.matrix.compose(this.position, this.quaternion, this.scale);\n\n      this.matrixWorldNeedsUpdate = true;\n\n    },\n\n    updateMatrixWorld: function(force) {\n\n      if (this.matrixAutoUpdate) {\n        this.updateMatrix();\n      }\n\n      if (this.matrixWorldNeedsUpdate || force) {\n\n        if (this.parent === null) {\n\n          this.matrixWorld.copy(this.matrix);\n\n        } else {\n\n          this.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix);\n\n        }\n\n        this.matrixWorldNeedsUpdate = false;\n\n        force = true;\n\n      }\n\n      // update children\n\n      var children = this.children;\n\n      for (var i = 0, l = children.length; i < l; i++) {\n\n        children[i].updateMatrixWorld(force);\n\n      }\n\n    },\n\n    updateWorldMatrix: function(updateParents, updateChildren) {\n\n      var parent = this.parent;\n\n      if (updateParents === true && parent !== null) {\n\n        parent.updateWorldMatrix(true, false);\n\n      }\n\n      if (this.matrixAutoUpdate) {\n        this.updateMatrix();\n      }\n\n      if (this.parent === null) {\n\n        this.matrixWorld.copy(this.matrix);\n\n      } else {\n\n        this.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix);\n\n      }\n\n      // update children\n\n      if (updateChildren === true) {\n\n        var children = this.children;\n\n        for (var i = 0, l = children.length; i < l; i++) {\n\n          children[i].updateWorldMatrix(false, true);\n\n        }\n\n      }\n\n    },\n\n    toJSON: function(meta) {\n\n      // meta is a string when called from JSON.stringify\n      var isRootObject = (meta === undefined || typeof meta === 'string');\n\n      var output = {};\n\n      // meta is a hash used to collect geometries, materials.\n      // not providing it implies that this is the root object\n      // being serialized.\n      if (isRootObject) {\n\n        // initialize meta obj\n        meta = {\n          geometries: {},\n          materials: {},\n          textures: {},\n          images: {},\n          shapes: {}\n        };\n\n        output.metadata = {\n          version: 4.5,\n          type: 'Object',\n          generator: 'Object3D.toJSON'\n        };\n\n      }\n\n      // standard Object3D serialization\n\n      var object = {};\n\n      object.uuid = this.uuid;\n      object.type = this.type;\n\n      if (this.name !== '') {\n        object.name = this.name;\n      }\n      if (this.castShadow === true) {\n        object.castShadow = true;\n      }\n      if (this.receiveShadow === true) {\n        object.receiveShadow = true;\n      }\n      if (this.visible === false) {\n        object.visible = false;\n      }\n      if (this.frustumCulled === false) {\n        object.frustumCulled = false;\n      }\n      if (this.renderOrder !== 0) {\n        object.renderOrder = this.renderOrder;\n      }\n      if (JSON.stringify(this.userData) !== '{}') {\n        object.userData = this.userData;\n      }\n\n      object.layers = this.layers.mask;\n      object.matrix = this.matrix.toArray();\n\n      if (this.matrixAutoUpdate === false) {\n        object.matrixAutoUpdate = false;\n      }\n\n      // object specific properties\n\n      if (this.isInstancedMesh) {\n\n        object.type = 'InstancedMesh';\n        object.count = this.count;\n        object.instanceMatrix = this.instanceMatrix.toJSON();\n\n      }\n\n      //\n\n      function serialize(library, element) {\n\n        if (library[element.uuid] === undefined) {\n\n          library[element.uuid] = element.toJSON(meta);\n\n        }\n\n        return element.uuid;\n\n      }\n\n      if (this.isMesh || this.isLine || this.isPoints) {\n\n        object.geometry = serialize(meta.geometries, this.geometry);\n\n        var parameters = this.geometry.parameters;\n\n        if (parameters !== undefined && parameters.shapes !== undefined) {\n\n          var shapes = parameters.shapes;\n\n          if (Array.isArray(shapes)) {\n\n            for (var i = 0, l = shapes.length; i < l; i++) {\n\n              var shape = shapes[i];\n\n              serialize(meta.shapes, shape);\n\n            }\n\n          } else {\n\n            serialize(meta.shapes, shapes);\n\n          }\n\n        }\n\n      }\n\n      if (this.material !== undefined) {\n\n        if (Array.isArray(this.material)) {\n\n          var uuids = [];\n\n          for (var i = 0, l = this.material.length; i < l; i++) {\n\n            uuids.push(serialize(meta.materials, this.material[i]));\n\n          }\n\n          object.material = uuids;\n\n        } else {\n\n          object.material = serialize(meta.materials, this.material);\n\n        }\n\n      }\n\n      //\n\n      if (this.children.length > 0) {\n\n        object.children = [];\n\n        for (var i = 0; i < this.children.length; i++) {\n\n          object.children.push(this.children[i].toJSON(meta).object);\n\n        }\n\n      }\n\n      if (isRootObject) {\n\n        var geometries = extractFromCache(meta.geometries);\n        var materials = extractFromCache(meta.materials);\n        var textures = extractFromCache(meta.textures);\n        var images = extractFromCache(meta.images);\n        var shapes = extractFromCache(meta.shapes);\n\n        if (geometries.length > 0) {\n          output.geometries = geometries;\n        }\n        if (materials.length > 0) {\n          output.materials = materials;\n        }\n        if (textures.length > 0) {\n          output.textures = textures;\n        }\n        if (images.length > 0) {\n          output.images = images;\n        }\n        if (shapes.length > 0) {\n          output.shapes = shapes;\n        }\n\n      }\n\n      output.object = object;\n\n      return output;\n\n      // extract data from the cache hash\n      // remove metadata on each item\n      // and return as array\n      function extractFromCache(cache) {\n\n        var values = [];\n        for (var key in cache) {\n\n          var data = cache[key];\n          delete data.metadata;\n          values.push(data);\n\n        }\n        return values;\n\n      }\n\n    },\n\n    clone: function(recursive) {\n\n      return new this.constructor().copy(this, recursive);\n\n    },\n\n    copy: function(source, recursive) {\n\n      if (recursive === undefined) {\n        recursive = true;\n      }\n\n      this.name = source.name;\n\n      this.up.copy(source.up);\n\n      this.position.copy(source.position);\n      this.quaternion.copy(source.quaternion);\n      this.scale.copy(source.scale);\n\n      this.matrix.copy(source.matrix);\n      this.matrixWorld.copy(source.matrixWorld);\n\n      this.matrixAutoUpdate = source.matrixAutoUpdate;\n      this.matrixWorldNeedsUpdate = source.matrixWorldNeedsUpdate;\n\n      this.layers.mask = source.layers.mask;\n      this.visible = source.visible;\n\n      this.castShadow = source.castShadow;\n      this.receiveShadow = source.receiveShadow;\n\n      this.frustumCulled = source.frustumCulled;\n      this.renderOrder = source.renderOrder;\n\n      this.userData = JSON.parse(JSON.stringify(source.userData));\n\n      if (recursive === true) {\n\n        for (var i = 0; i < source.children.length; i++) {\n\n          var child = source.children[i];\n          this.add(child.clone());\n\n        }\n\n      }\n\n      return this;\n\n    }\n\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function Scene() {\n\n    Object3D.call(this);\n\n    this.type = 'Scene';\n\n    this.background = null;\n    this.environment = null;\n    this.fog = null;\n\n    this.overrideMaterial = null;\n\n    this.autoUpdate = true; // checked by the renderer\n\n    if (typeof __THREE_DEVTOOLS__ !== 'undefined') {\n\n      __THREE_DEVTOOLS__.dispatchEvent(new CustomEvent('observe', {\n        detail: this\n      })); // eslint-disable-line no-undef\n\n    }\n\n  }\n\n  Scene.prototype = Object.assign(Object.create(Object3D.prototype), {\n\n    constructor: Scene,\n\n    isScene: true,\n\n    copy: function(source, recursive) {\n\n      Object3D.prototype.copy.call(this, source, recursive);\n\n      if (source.background !== null) {\n        this.background = source.background.clone();\n      }\n      if (source.environment !== null) {\n        this.environment = source.environment.clone();\n      }\n      if (source.fog !== null) {\n        this.fog = source.fog.clone();\n      }\n\n      if (source.overrideMaterial !== null) {\n        this.overrideMaterial = source.overrideMaterial.clone();\n      }\n\n      this.autoUpdate = source.autoUpdate;\n      this.matrixAutoUpdate = source.matrixAutoUpdate;\n\n      return this;\n\n    },\n\n    toJSON: function(meta) {\n\n      var data = Object3D.prototype.toJSON.call(this, meta);\n\n      if (this.background !== null) {\n        data.object.background = this.background.toJSON(meta);\n      }\n      if (this.environment !== null) {\n        data.object.environment = this.environment.toJSON(meta);\n      }\n      if (this.fog !== null) {\n        data.object.fog = this.fog.toJSON();\n      }\n\n      return data;\n\n    },\n\n    dispose: function() {\n\n      this.dispatchEvent({\n        type: 'dispose'\n      });\n\n    }\n\n  });\n\n  var _points = [\n    new Vector3(),\n    new Vector3(),\n    new Vector3(),\n    new Vector3(),\n    new Vector3(),\n    new Vector3(),\n    new Vector3(),\n    new Vector3()\n  ];\n\n  var _vector$2 = new Vector3();\n\n  var _box = new Box3();\n\n  // triangle centered vertices\n\n  var _v0 = new Vector3();\n  var _v1$2 = new Vector3();\n  var _v2 = new Vector3();\n\n  // triangle edge vectors\n\n  var _f0 = new Vector3();\n  var _f1 = new Vector3();\n  var _f2 = new Vector3();\n\n  var _center = new Vector3();\n  var _extents = new Vector3();\n  var _triangleNormal = new Vector3();\n  var _testAxis = new Vector3();\n\n  /**\n   * @author bhouston / http://clara.io\n   * @author WestLangley / http://github.com/WestLangley\n   */\n\n  function Box3(min, max) {\n\n    this.min = (min !== undefined) ? min : new Vector3(+Infinity, +Infinity, +Infinity);\n    this.max = (max !== undefined) ? max : new Vector3(-Infinity, -Infinity, -Infinity);\n\n  }\n\n\n  Object.assign(Box3.prototype, {\n\n    isBox3: true,\n\n    set: function(min, max) {\n\n      this.min.copy(min);\n      this.max.copy(max);\n\n      return this;\n\n    },\n\n    setFromArray: function(array) {\n\n      var minX = +Infinity;\n      var minY = +Infinity;\n      var minZ = +Infinity;\n\n      var maxX = -Infinity;\n      var maxY = -Infinity;\n      var maxZ = -Infinity;\n\n      for (var i = 0, l = array.length; i < l; i += 3) {\n\n        var x = array[i];\n        var y = array[i + 1];\n        var z = array[i + 2];\n\n        if (x < minX) {\n          minX = x;\n        }\n        if (y < minY) {\n          minY = y;\n        }\n        if (z < minZ) {\n          minZ = z;\n        }\n\n        if (x > maxX) {\n          maxX = x;\n        }\n        if (y > maxY) {\n          maxY = y;\n        }\n        if (z > maxZ) {\n          maxZ = z;\n        }\n\n      }\n\n      this.min.set(minX, minY, minZ);\n      this.max.set(maxX, maxY, maxZ);\n\n      return this;\n\n    },\n\n    setFromBufferAttribute: function(attribute) {\n\n      var minX = +Infinity;\n      var minY = +Infinity;\n      var minZ = +Infinity;\n\n      var maxX = -Infinity;\n      var maxY = -Infinity;\n      var maxZ = -Infinity;\n\n      for (var i = 0, l = attribute.count; i < l; i++) {\n\n        var x = attribute.getX(i);\n        var y = attribute.getY(i);\n        var z = attribute.getZ(i);\n\n        if (x < minX) {\n          minX = x;\n        }\n        if (y < minY) {\n          minY = y;\n        }\n        if (z < minZ) {\n          minZ = z;\n        }\n\n        if (x > maxX) {\n          maxX = x;\n        }\n        if (y > maxY) {\n          maxY = y;\n        }\n        if (z > maxZ) {\n          maxZ = z;\n        }\n\n      }\n\n      this.min.set(minX, minY, minZ);\n      this.max.set(maxX, maxY, maxZ);\n\n      return this;\n\n    },\n\n    setFromPoints: function(points) {\n\n      this.makeEmpty();\n\n      for (var i = 0, il = points.length; i < il; i++) {\n\n        this.expandByPoint(points[i]);\n\n      }\n\n      return this;\n\n    },\n\n    setFromCenterAndSize: function(center, size) {\n\n      var halfSize = _vector$2.copy(size).multiplyScalar(0.5);\n\n      this.min.copy(center).sub(halfSize);\n      this.max.copy(center).add(halfSize);\n\n      return this;\n\n    },\n\n    setFromObject: function(object) {\n\n      this.makeEmpty();\n\n      return this.expandByObject(object);\n\n    },\n\n    clone: function() {\n\n      return new this.constructor().copy(this);\n\n    },\n\n    copy: function(box) {\n\n      this.min.copy(box.min);\n      this.max.copy(box.max);\n\n      return this;\n\n    },\n\n    makeEmpty: function() {\n\n      this.min.x = this.min.y = this.min.z = +Infinity;\n      this.max.x = this.max.y = this.max.z = -Infinity;\n\n      return this;\n\n    },\n\n    isEmpty: function() {\n\n      // this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n      return (this.max.x < this.min.x) || (this.max.y < this.min.y) || (this.max.z < this.min.z);\n\n    },\n\n    getCenter: function(target) {\n\n      if (target === undefined) {\n\n        console.warn('THREE.Box3: .getCenter() target is now required');\n        target = new Vector3();\n\n      }\n\n      return this.isEmpty() ? target.set(0, 0, 0) : target.addVectors(this.min, this.max).multiplyScalar(0.5);\n\n    },\n\n    getSize: function(target) {\n\n      if (target === undefined) {\n\n        console.warn('THREE.Box3: .getSize() target is now required');\n        target = new Vector3();\n\n      }\n\n      return this.isEmpty() ? target.set(0, 0, 0) : target.subVectors(this.max, this.min);\n\n    },\n\n    expandByPoint: function(point) {\n\n      this.min.min(point);\n      this.max.max(point);\n\n      return this;\n\n    },\n\n    expandByVector: function(vector) {\n\n      this.min.sub(vector);\n      this.max.add(vector);\n\n      return this;\n\n    },\n\n    expandByScalar: function(scalar) {\n\n      this.min.addScalar(-scalar);\n      this.max.addScalar(scalar);\n\n      return this;\n\n    },\n\n    expandByObject: function(object) {\n\n      // Computes the world-axis-aligned bounding box of an object (including its children),\n      // accounting for both the object's, and children's, world transforms\n\n      object.updateWorldMatrix(false, false);\n\n      var geometry = object.geometry;\n\n      if (geometry !== undefined) {\n\n        if (geometry.boundingBox === null) {\n\n          geometry.computeBoundingBox();\n\n        }\n\n        _box.copy(geometry.boundingBox);\n        _box.applyMatrix4(object.matrixWorld);\n\n        this.expandByPoint(_box.min);\n        this.expandByPoint(_box.max);\n\n      }\n\n      var children = object.children;\n\n      for (var i = 0, l = children.length; i < l; i++) {\n\n        this.expandByObject(children[i]);\n\n      }\n\n      return this;\n\n    },\n\n    containsPoint: function(point) {\n\n      return point.x < this.min.x || point.x > this.max.x ||\n        point.y < this.min.y || point.y > this.max.y ||\n        point.z < this.min.z || point.z > this.max.z ? false : true;\n\n    },\n\n    containsBox: function(box) {\n\n      return this.min.x <= box.min.x && box.max.x <= this.max.x &&\n        this.min.y <= box.min.y && box.max.y <= this.max.y &&\n        this.min.z <= box.min.z && box.max.z <= this.max.z;\n\n    },\n\n    getParameter: function(point, target) {\n\n      // This can potentially have a divide by zero if the box\n      // has a size dimension of 0.\n\n      if (target === undefined) {\n\n        console.warn('THREE.Box3: .getParameter() target is now required');\n        target = new Vector3();\n\n      }\n\n      return target.set(\n        (point.x - this.min.x) / (this.max.x - this.min.x),\n        (point.y - this.min.y) / (this.max.y - this.min.y),\n        (point.z - this.min.z) / (this.max.z - this.min.z)\n      );\n\n    },\n\n    intersectsBox: function(box) {\n\n      // using 6 splitting planes to rule out intersections.\n      return box.max.x < this.min.x || box.min.x > this.max.x ||\n        box.max.y < this.min.y || box.min.y > this.max.y ||\n        box.max.z < this.min.z || box.min.z > this.max.z ? false : true;\n\n    },\n\n    intersectsSphere: function(sphere) {\n\n      // Find the point on the AABB closest to the sphere center.\n      this.clampPoint(sphere.center, _vector$2);\n\n      // If that point is inside the sphere, the AABB and sphere intersect.\n      return _vector$2.distanceToSquared(sphere.center) <= (sphere.radius * sphere.radius);\n\n    },\n\n    intersectsPlane: function(plane) {\n\n      // We compute the minimum and maximum dot product values. If those values\n      // are on the same side (back or front) of the plane, then there is no intersection.\n\n      var min, max;\n\n      if (plane.normal.x > 0) {\n\n        min = plane.normal.x * this.min.x;\n        max = plane.normal.x * this.max.x;\n\n      } else {\n\n        min = plane.normal.x * this.max.x;\n        max = plane.normal.x * this.min.x;\n\n      }\n\n      if (plane.normal.y > 0) {\n\n        min += plane.normal.y * this.min.y;\n        max += plane.normal.y * this.max.y;\n\n      } else {\n\n        min += plane.normal.y * this.max.y;\n        max += plane.normal.y * this.min.y;\n\n      }\n\n      if (plane.normal.z > 0) {\n\n        min += plane.normal.z * this.min.z;\n        max += plane.normal.z * this.max.z;\n\n      } else {\n\n        min += plane.normal.z * this.max.z;\n        max += plane.normal.z * this.min.z;\n\n      }\n\n      return (min <= -plane.constant && max >= -plane.constant);\n\n    },\n\n    intersectsTriangle: function(triangle) {\n\n      if (this.isEmpty()) {\n\n        return false;\n\n      }\n\n      // compute box center and extents\n      this.getCenter(_center);\n      _extents.subVectors(this.max, _center);\n\n      // translate triangle to aabb origin\n      _v0.subVectors(triangle.a, _center);\n      _v1$2.subVectors(triangle.b, _center);\n      _v2.subVectors(triangle.c, _center);\n\n      // compute edge vectors for triangle\n      _f0.subVectors(_v1$2, _v0);\n      _f1.subVectors(_v2, _v1$2);\n      _f2.subVectors(_v0, _v2);\n\n      // test against axes that are given by cross product combinations of the edges of the triangle and the edges of the aabb\n      // make an axis testing of each of the 3 sides of the aabb against each of the 3 sides of the triangle = 9 axis of separation\n      // axis_ij = u_i x f_j (u0, u1, u2 = face normals of aabb = x,y,z axes vectors since aabb is axis aligned)\n      var axes = [\n        0, -_f0.z, _f0.y, 0, -_f1.z, _f1.y, 0, -_f2.z, _f2.y,\n        _f0.z, 0, -_f0.x, _f1.z, 0, -_f1.x, _f2.z, 0, -_f2.x,\n        -_f0.y, _f0.x, 0, -_f1.y, _f1.x, 0, -_f2.y, _f2.x, 0\n      ];\n      if (!satForAxes(axes, _v0, _v1$2, _v2, _extents)) {\n\n        return false;\n\n      }\n\n      // test 3 face normals from the aabb\n      axes = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n      if (!satForAxes(axes, _v0, _v1$2, _v2, _extents)) {\n\n        return false;\n\n      }\n\n      // finally testing the face normal of the triangle\n      // use already existing triangle edge vectors here\n      _triangleNormal.crossVectors(_f0, _f1);\n      axes = [_triangleNormal.x, _triangleNormal.y, _triangleNormal.z];\n\n      return satForAxes(axes, _v0, _v1$2, _v2, _extents);\n\n    },\n\n    clampPoint: function(point, target) {\n\n      if (target === undefined) {\n\n        console.warn('THREE.Box3: .clampPoint() target is now required');\n        target = new Vector3();\n\n      }\n\n      return target.copy(point).clamp(this.min, this.max);\n\n    },\n\n    distanceToPoint: function(point) {\n\n      var clampedPoint = _vector$2.copy(point).clamp(this.min, this.max);\n\n      return clampedPoint.sub(point).length();\n\n    },\n\n    getBoundingSphere: function(target) {\n\n      if (target === undefined) {\n\n        console.error('THREE.Box3: .getBoundingSphere() target is now required');\n        //target = new Sphere(); // removed to avoid cyclic dependency\n\n      }\n\n      this.getCenter(target.center);\n\n      target.radius = this.getSize(_vector$2).length() * 0.5;\n\n      return target;\n\n    },\n\n    intersect: function(box) {\n\n      this.min.max(box.min);\n      this.max.min(box.max);\n\n      // ensure that if there is no overlap, the result is fully empty, not slightly empty with non-inf/+inf values that will cause subsequence intersects to erroneously return valid values.\n      if (this.isEmpty()) {\n        this.makeEmpty();\n      }\n\n      return this;\n\n    },\n\n    union: function(box) {\n\n      this.min.min(box.min);\n      this.max.max(box.max);\n\n      return this;\n\n    },\n\n    applyMatrix4: function(matrix) {\n\n      // transform of empty box is an empty box.\n      if (this.isEmpty()) {\n        return this;\n      }\n\n      // NOTE: I am using a binary pattern to specify all 2^3 combinations below\n      _points[0].set(this.min.x, this.min.y, this.min.z).applyMatrix4(matrix); // 000\n      _points[1].set(this.min.x, this.min.y, this.max.z).applyMatrix4(matrix); // 001\n      _points[2].set(this.min.x, this.max.y, this.min.z).applyMatrix4(matrix); // 010\n      _points[3].set(this.min.x, this.max.y, this.max.z).applyMatrix4(matrix); // 011\n      _points[4].set(this.max.x, this.min.y, this.min.z).applyMatrix4(matrix); // 100\n      _points[5].set(this.max.x, this.min.y, this.max.z).applyMatrix4(matrix); // 101\n      _points[6].set(this.max.x, this.max.y, this.min.z).applyMatrix4(matrix); // 110\n      _points[7].set(this.max.x, this.max.y, this.max.z).applyMatrix4(matrix); // 111\n\n      this.setFromPoints(_points);\n\n      return this;\n\n    },\n\n    translate: function(offset) {\n\n      this.min.add(offset);\n      this.max.add(offset);\n\n      return this;\n\n    },\n\n    equals: function(box) {\n\n      return box.min.equals(this.min) && box.max.equals(this.max);\n\n    }\n\n  });\n\n  function satForAxes(axes, v0, v1, v2, extents) {\n\n    var i, j;\n\n    for (i = 0, j = axes.length - 3; i <= j; i += 3) {\n\n      _testAxis.fromArray(axes, i);\n      // project the aabb onto the seperating axis\n      var r = extents.x * Math.abs(_testAxis.x) + extents.y * Math.abs(_testAxis.y) + extents.z * Math.abs(_testAxis.z);\n      // project all 3 vertices of the triangle onto the seperating axis\n      var p0 = v0.dot(_testAxis);\n      var p1 = v1.dot(_testAxis);\n      var p2 = v2.dot(_testAxis);\n      // actual test, basically see if either of the most extreme of the triangle points intersects r\n      if (Math.max(-Math.max(p0, p1, p2), Math.min(p0, p1, p2)) > r) {\n\n        // points of the projected triangle are outside the projected half-length of the aabb\n        // the axis is seperating and we can exit\n        return false;\n\n      }\n\n    }\n\n    return true;\n\n  }\n\n  var _box$1 = new Box3();\n\n  /**\n   * @author bhouston / http://clara.io\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function Sphere(center, radius) {\n\n    this.center = (center !== undefined) ? center : new Vector3();\n    this.radius = (radius !== undefined) ? radius : 0;\n\n  }\n\n  Object.assign(Sphere.prototype, {\n\n    set: function(center, radius) {\n\n      this.center.copy(center);\n      this.radius = radius;\n\n      return this;\n\n    },\n\n    setFromPoints: function(points, optionalCenter) {\n\n      var center = this.center;\n\n      if (optionalCenter !== undefined) {\n\n        center.copy(optionalCenter);\n\n      } else {\n\n        _box$1.setFromPoints(points).getCenter(center);\n\n      }\n\n      var maxRadiusSq = 0;\n\n      for (var i = 0, il = points.length; i < il; i++) {\n\n        maxRadiusSq = Math.max(maxRadiusSq, center.distanceToSquared(points[i]));\n\n      }\n\n      this.radius = Math.sqrt(maxRadiusSq);\n\n      return this;\n\n    },\n\n    clone: function() {\n\n      return new this.constructor().copy(this);\n\n    },\n\n    copy: function(sphere) {\n\n      this.center.copy(sphere.center);\n      this.radius = sphere.radius;\n\n      return this;\n\n    },\n\n    empty: function() {\n\n      return (this.radius <= 0);\n\n    },\n\n    containsPoint: function(point) {\n\n      return (point.distanceToSquared(this.center) <= (this.radius * this.radius));\n\n    },\n\n    distanceToPoint: function(point) {\n\n      return (point.distanceTo(this.center) - this.radius);\n\n    },\n\n    intersectsSphere: function(sphere) {\n\n      var radiusSum = this.radius + sphere.radius;\n\n      return sphere.center.distanceToSquared(this.center) <= (radiusSum * radiusSum);\n\n    },\n\n    intersectsBox: function(box) {\n\n      return box.intersectsSphere(this);\n\n    },\n\n    intersectsPlane: function(plane) {\n\n      return Math.abs(plane.distanceToPoint(this.center)) <= this.radius;\n\n    },\n\n    clampPoint: function(point, target) {\n\n      var deltaLengthSq = this.center.distanceToSquared(point);\n\n      if (target === undefined) {\n\n        console.warn('THREE.Sphere: .clampPoint() target is now required');\n        target = new Vector3();\n\n      }\n\n      target.copy(point);\n\n      if (deltaLengthSq > (this.radius * this.radius)) {\n\n        target.sub(this.center).normalize();\n        target.multiplyScalar(this.radius).add(this.center);\n\n      }\n\n      return target;\n\n    },\n\n    getBoundingBox: function(target) {\n\n      if (target === undefined) {\n\n        console.warn('THREE.Sphere: .getBoundingBox() target is now required');\n        target = new Box3();\n\n      }\n\n      target.set(this.center, this.center);\n      target.expandByScalar(this.radius);\n\n      return target;\n\n    },\n\n    applyMatrix4: function(matrix) {\n\n      this.center.applyMatrix4(matrix);\n      this.radius = this.radius * matrix.getMaxScaleOnAxis();\n\n      return this;\n\n    },\n\n    translate: function(offset) {\n\n      this.center.add(offset);\n\n      return this;\n\n    },\n\n    equals: function(sphere) {\n\n      return sphere.center.equals(this.center) && (sphere.radius === this.radius);\n\n    }\n\n  });\n\n  var _vector$3 = new Vector3();\n  var _segCenter = new Vector3();\n  var _segDir = new Vector3();\n  var _diff = new Vector3();\n\n  var _edge1 = new Vector3();\n  var _edge2 = new Vector3();\n  var _normal = new Vector3();\n\n  /**\n   * @author bhouston / http://clara.io\n   */\n\n  function Ray(origin, direction) {\n\n    this.origin = (origin !== undefined) ? origin : new Vector3();\n    this.direction = (direction !== undefined) ? direction : new Vector3(0, 0, -1);\n\n  }\n\n  Object.assign(Ray.prototype, {\n\n    set: function(origin, direction) {\n\n      this.origin.copy(origin);\n      this.direction.copy(direction);\n\n      return this;\n\n    },\n\n    clone: function() {\n\n      return new this.constructor().copy(this);\n\n    },\n\n    copy: function(ray) {\n\n      this.origin.copy(ray.origin);\n      this.direction.copy(ray.direction);\n\n      return this;\n\n    },\n\n    at: function(t, target) {\n\n      if (target === undefined) {\n\n        console.warn('THREE.Ray: .at() target is now required');\n        target = new Vector3();\n\n      }\n\n      return target.copy(this.direction).multiplyScalar(t).add(this.origin);\n\n    },\n\n    lookAt: function(v) {\n\n      this.direction.copy(v).sub(this.origin).normalize();\n\n      return this;\n\n    },\n\n    recast: function(t) {\n\n      this.origin.copy(this.at(t, _vector$3));\n\n      return this;\n\n    },\n\n    closestPointToPoint: function(point, target) {\n\n      if (target === undefined) {\n\n        console.warn('THREE.Ray: .closestPointToPoint() target is now required');\n        target = new Vector3();\n\n      }\n\n      target.subVectors(point, this.origin);\n\n      var directionDistance = target.dot(this.direction);\n\n      if (directionDistance < 0) {\n\n        return target.copy(this.origin);\n\n      }\n\n      return target.copy(this.direction).multiplyScalar(directionDistance).add(this.origin);\n\n    },\n\n    distanceToPoint: function(point) {\n\n      return Math.sqrt(this.distanceSqToPoint(point));\n\n    },\n\n    distanceSqToPoint: function(point) {\n\n      var directionDistance = _vector$3.subVectors(point, this.origin).dot(this.direction);\n\n      // point behind the ray\n\n      if (directionDistance < 0) {\n\n        return this.origin.distanceToSquared(point);\n\n      }\n\n      _vector$3.copy(this.direction).multiplyScalar(directionDistance).add(this.origin);\n\n      return _vector$3.distanceToSquared(point);\n\n    },\n\n    distanceSqToSegment: function(v0, v1, optionalPointOnRay, optionalPointOnSegment) {\n\n      // from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteDistRaySegment.h\n      // It returns the min distance between the ray and the segment\n      // defined by v0 and v1\n      // It can also set two optional targets :\n      // - The closest point on the ray\n      // - The closest point on the segment\n\n      _segCenter.copy(v0).add(v1).multiplyScalar(0.5);\n      _segDir.copy(v1).sub(v0).normalize();\n      _diff.copy(this.origin).sub(_segCenter);\n\n      var segExtent = v0.distanceTo(v1) * 0.5;\n      var a01 = -this.direction.dot(_segDir);\n      var b0 = _diff.dot(this.direction);\n      var b1 = -_diff.dot(_segDir);\n      var c = _diff.lengthSq();\n      var det = Math.abs(1 - a01 * a01);\n      var s0, s1, sqrDist, extDet;\n\n      if (det > 0) {\n\n        // The ray and segment are not parallel.\n\n        s0 = a01 * b1 - b0;\n        s1 = a01 * b0 - b1;\n        extDet = segExtent * det;\n\n        if (s0 >= 0) {\n\n          if (s1 >= -extDet) {\n\n            if (s1 <= extDet) {\n\n              // region 0\n              // Minimum at interior points of ray and segment.\n\n              var invDet = 1 / det;\n              s0 *= invDet;\n              s1 *= invDet;\n              sqrDist = s0 * (s0 + a01 * s1 + 2 * b0) + s1 * (a01 * s0 + s1 + 2 * b1) + c;\n\n            } else {\n\n              // region 1\n\n              s1 = segExtent;\n              s0 = Math.max(0, -(a01 * s1 + b0));\n              sqrDist = -s0 * s0 + s1 * (s1 + 2 * b1) + c;\n\n            }\n\n          } else {\n\n            // region 5\n\n            s1 = -segExtent;\n            s0 = Math.max(0, -(a01 * s1 + b0));\n            sqrDist = -s0 * s0 + s1 * (s1 + 2 * b1) + c;\n\n          }\n\n        } else {\n\n          if (s1 <= -extDet) {\n\n            // region 4\n\n            s0 = Math.max(0, -(-a01 * segExtent + b0));\n            s1 = (s0 > 0) ? -segExtent : Math.min(Math.max(-segExtent, -b1), segExtent);\n            sqrDist = -s0 * s0 + s1 * (s1 + 2 * b1) + c;\n\n          } else if (s1 <= extDet) {\n\n            // region 3\n\n            s0 = 0;\n            s1 = Math.min(Math.max(-segExtent, -b1), segExtent);\n            sqrDist = s1 * (s1 + 2 * b1) + c;\n\n          } else {\n\n            // region 2\n\n            s0 = Math.max(0, -(a01 * segExtent + b0));\n            s1 = (s0 > 0) ? segExtent : Math.min(Math.max(-segExtent, -b1), segExtent);\n            sqrDist = -s0 * s0 + s1 * (s1 + 2 * b1) + c;\n\n          }\n\n        }\n\n      } else {\n\n        // Ray and segment are parallel.\n\n        s1 = (a01 > 0) ? -segExtent : segExtent;\n        s0 = Math.max(0, -(a01 * s1 + b0));\n        sqrDist = -s0 * s0 + s1 * (s1 + 2 * b1) + c;\n\n      }\n\n      if (optionalPointOnRay) {\n\n        optionalPointOnRay.copy(this.direction).multiplyScalar(s0).add(this.origin);\n\n      }\n\n      if (optionalPointOnSegment) {\n\n        optionalPointOnSegment.copy(_segDir).multiplyScalar(s1).add(_segCenter);\n\n      }\n\n      return sqrDist;\n\n    },\n\n    intersectSphere: function(sphere, target) {\n\n      _vector$3.subVectors(sphere.center, this.origin);\n      var tca = _vector$3.dot(this.direction);\n      var d2 = _vector$3.dot(_vector$3) - tca * tca;\n      var radius2 = sphere.radius * sphere.radius;\n\n      if (d2 > radius2) {\n        return null;\n      }\n\n      var thc = Math.sqrt(radius2 - d2);\n\n      // t0 = first intersect point - entrance on front of sphere\n      var t0 = tca - thc;\n\n      // t1 = second intersect point - exit point on back of sphere\n      var t1 = tca + thc;\n\n      // test to see if both t0 and t1 are behind the ray - if so, return null\n      if (t0 < 0 && t1 < 0) {\n        return null;\n      }\n\n      // test to see if t0 is behind the ray:\n      // if it is, the ray is inside the sphere, so return the second exit point scaled by t1,\n      // in order to always return an intersect point that is in front of the ray.\n      if (t0 < 0) {\n        return this.at(t1, target);\n      }\n\n      // else t0 is in front of the ray, so return the first collision point scaled by t0\n      return this.at(t0, target);\n\n    },\n\n    intersectsSphere: function(sphere) {\n\n      return this.distanceSqToPoint(sphere.center) <= (sphere.radius * sphere.radius);\n\n    },\n\n    distanceToPlane: function(plane) {\n\n      var denominator = plane.normal.dot(this.direction);\n\n      if (denominator === 0) {\n\n        // line is coplanar, return origin\n        if (plane.distanceToPoint(this.origin) === 0) {\n\n          return 0;\n\n        }\n\n        // Null is preferable to undefined since undefined means.... it is undefined\n\n        return null;\n\n      }\n\n      var t = -(this.origin.dot(plane.normal) + plane.constant) / denominator;\n\n      // Return if the ray never intersects the plane\n\n      return t >= 0 ? t : null;\n\n    },\n\n    intersectPlane: function(plane, target) {\n\n      var t = this.distanceToPlane(plane);\n\n      if (t === null) {\n\n        return null;\n\n      }\n\n      return this.at(t, target);\n\n    },\n\n    intersectsPlane: function(plane) {\n\n      // check if the ray lies on the plane first\n\n      var distToPoint = plane.distanceToPoint(this.origin);\n\n      if (distToPoint === 0) {\n\n        return true;\n\n      }\n\n      var denominator = plane.normal.dot(this.direction);\n\n      if (denominator * distToPoint < 0) {\n\n        return true;\n\n      }\n\n      // ray origin is behind the plane (and is pointing behind it)\n\n      return false;\n\n    },\n\n    intersectBox: function(box, target) {\n\n      var tmin, tmax, tymin, tymax, tzmin, tzmax;\n\n      var invdirx = 1 / this.direction.x,\n        invdiry = 1 / this.direction.y,\n        invdirz = 1 / this.direction.z;\n\n      var origin = this.origin;\n\n      if (invdirx >= 0) {\n\n        tmin = (box.min.x - origin.x) * invdirx;\n        tmax = (box.max.x - origin.x) * invdirx;\n\n      } else {\n\n        tmin = (box.max.x - origin.x) * invdirx;\n        tmax = (box.min.x - origin.x) * invdirx;\n\n      }\n\n      if (invdiry >= 0) {\n\n        tymin = (box.min.y - origin.y) * invdiry;\n        tymax = (box.max.y - origin.y) * invdiry;\n\n      } else {\n\n        tymin = (box.max.y - origin.y) * invdiry;\n        tymax = (box.min.y - origin.y) * invdiry;\n\n      }\n\n      if ((tmin > tymax) || (tymin > tmax)) {\n        return null;\n      }\n\n      // These lines also handle the case where tmin or tmax is NaN\n      // (result of 0 * Infinity). x !== x returns true if x is NaN\n\n      if (tymin > tmin || tmin !== tmin) {\n        tmin = tymin;\n      }\n\n      if (tymax < tmax || tmax !== tmax) {\n        tmax = tymax;\n      }\n\n      if (invdirz >= 0) {\n\n        tzmin = (box.min.z - origin.z) * invdirz;\n        tzmax = (box.max.z - origin.z) * invdirz;\n\n      } else {\n\n        tzmin = (box.max.z - origin.z) * invdirz;\n        tzmax = (box.min.z - origin.z) * invdirz;\n\n      }\n\n      if ((tmin > tzmax) || (tzmin > tmax)) {\n        return null;\n      }\n\n      if (tzmin > tmin || tmin !== tmin) {\n        tmin = tzmin;\n      }\n\n      if (tzmax < tmax || tmax !== tmax) {\n        tmax = tzmax;\n      }\n\n      //return point closest to the ray (positive side)\n\n      if (tmax < 0) {\n        return null;\n      }\n\n      return this.at(tmin >= 0 ? tmin : tmax, target);\n\n    },\n\n    intersectsBox: function(box) {\n\n      return this.intersectBox(box, _vector$3) !== null;\n\n    },\n\n    intersectTriangle: function(a, b, c, backfaceCulling, target) {\n\n      // Compute the offset origin, edges, and normal.\n\n      // from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteIntrRay3Triangle3.h\n\n      _edge1.subVectors(b, a);\n      _edge2.subVectors(c, a);\n      _normal.crossVectors(_edge1, _edge2);\n\n      // Solve Q + t*D = b1*E1 + b2*E2 (Q = kDiff, D = ray direction,\n      // E1 = kEdge1, E2 = kEdge2, N = Cross(E1,E2)) by\n      //   |Dot(D,N)|*b1 = sign(Dot(D,N))*Dot(D,Cross(Q,E2))\n      //   |Dot(D,N)|*b2 = sign(Dot(D,N))*Dot(D,Cross(E1,Q))\n      //   |Dot(D,N)|*t = -sign(Dot(D,N))*Dot(Q,N)\n      var DdN = this.direction.dot(_normal);\n      var sign;\n\n      if (DdN > 0) {\n\n        if (backfaceCulling) {\n          return null;\n        }\n        sign = 1;\n\n      } else if (DdN < 0) {\n\n        sign = -1;\n        DdN = -DdN;\n\n      } else {\n\n        return null;\n\n      }\n\n      _diff.subVectors(this.origin, a);\n      var DdQxE2 = sign * this.direction.dot(_edge2.crossVectors(_diff, _edge2));\n\n      // b1 < 0, no intersection\n      if (DdQxE2 < 0) {\n\n        return null;\n\n      }\n\n      var DdE1xQ = sign * this.direction.dot(_edge1.cross(_diff));\n\n      // b2 < 0, no intersection\n      if (DdE1xQ < 0) {\n\n        return null;\n\n      }\n\n      // b1+b2 > 1, no intersection\n      if (DdQxE2 + DdE1xQ > DdN) {\n\n        return null;\n\n      }\n\n      // Line intersects triangle, check if ray does.\n      var QdN = -sign * _diff.dot(_normal);\n\n      // t < 0, no intersection\n      if (QdN < 0) {\n\n        return null;\n\n      }\n\n      // Ray intersects triangle.\n      return this.at(QdN / DdN, target);\n\n    },\n\n    applyMatrix4: function(matrix4) {\n\n      this.origin.applyMatrix4(matrix4);\n      this.direction.transformDirection(matrix4);\n\n      return this;\n\n    },\n\n    equals: function(ray) {\n\n      return ray.origin.equals(this.origin) && ray.direction.equals(this.direction);\n\n    }\n\n  });\n\n  /**\n   * @author bhouston / http://clara.io\n   */\n\n  var _vector1 = new Vector3();\n  var _vector2 = new Vector3();\n  var _normalMatrix = new Matrix3();\n\n  function Plane(normal, constant) {\n\n    // normal is assumed to be normalized\n\n    this.normal = (normal !== undefined) ? normal : new Vector3(1, 0, 0);\n    this.constant = (constant !== undefined) ? constant : 0;\n\n  }\n\n  Object.assign(Plane.prototype, {\n\n    isPlane: true,\n\n    set: function(normal, constant) {\n\n      this.normal.copy(normal);\n      this.constant = constant;\n\n      return this;\n\n    },\n\n    setComponents: function(x, y, z, w) {\n\n      this.normal.set(x, y, z);\n      this.constant = w;\n\n      return this;\n\n    },\n\n    setFromNormalAndCoplanarPoint: function(normal, point) {\n\n      this.normal.copy(normal);\n      this.constant = -point.dot(this.normal);\n\n      return this;\n\n    },\n\n    setFromCoplanarPoints: function(a, b, c) {\n\n      var normal = _vector1.subVectors(c, b).cross(_vector2.subVectors(a, b)).normalize();\n\n      // Q: should an error be thrown if normal is zero (e.g. degenerate plane)?\n\n      this.setFromNormalAndCoplanarPoint(normal, a);\n\n      return this;\n\n    },\n\n    clone: function() {\n\n      return new this.constructor().copy(this);\n\n    },\n\n    copy: function(plane) {\n\n      this.normal.copy(plane.normal);\n      this.constant = plane.constant;\n\n      return this;\n\n    },\n\n    normalize: function() {\n\n      // Note: will lead to a divide by zero if the plane is invalid.\n\n      var inverseNormalLength = 1.0 / this.normal.length();\n      this.normal.multiplyScalar(inverseNormalLength);\n      this.constant *= inverseNormalLength;\n\n      return this;\n\n    },\n\n    negate: function() {\n\n      this.constant *= -1;\n      this.normal.negate();\n\n      return this;\n\n    },\n\n    distanceToPoint: function(point) {\n\n      return this.normal.dot(point) + this.constant;\n\n    },\n\n    distanceToSphere: function(sphere) {\n\n      return this.distanceToPoint(sphere.center) - sphere.radius;\n\n    },\n\n    projectPoint: function(point, target) {\n\n      if (target === undefined) {\n\n        console.warn('THREE.Plane: .projectPoint() target is now required');\n        target = new Vector3();\n\n      }\n\n      return target.copy(this.normal).multiplyScalar(-this.distanceToPoint(point)).add(point);\n\n    },\n\n    intersectLine: function(line, target) {\n\n      if (target === undefined) {\n\n        console.warn('THREE.Plane: .intersectLine() target is now required');\n        target = new Vector3();\n\n      }\n\n      var direction = line.delta(_vector1);\n\n      var denominator = this.normal.dot(direction);\n\n      if (denominator === 0) {\n\n        // line is coplanar, return origin\n        if (this.distanceToPoint(line.start) === 0) {\n\n          return target.copy(line.start);\n\n        }\n\n        // Unsure if this is the correct method to handle this case.\n        return undefined;\n\n      }\n\n      var t = -(line.start.dot(this.normal) + this.constant) / denominator;\n\n      if (t < 0 || t > 1) {\n\n        return undefined;\n\n      }\n\n      return target.copy(direction).multiplyScalar(t).add(line.start);\n\n    },\n\n    intersectsLine: function(line) {\n\n      // Note: this tests if a line intersects the plane, not whether it (or its end-points) are coplanar with it.\n\n      var startSign = this.distanceToPoint(line.start);\n      var endSign = this.distanceToPoint(line.end);\n\n      return (startSign < 0 && endSign > 0) || (endSign < 0 && startSign > 0);\n\n    },\n\n    intersectsBox: function(box) {\n\n      return box.intersectsPlane(this);\n\n    },\n\n    intersectsSphere: function(sphere) {\n\n      return sphere.intersectsPlane(this);\n\n    },\n\n    coplanarPoint: function(target) {\n\n      if (target === undefined) {\n\n        console.warn('THREE.Plane: .coplanarPoint() target is now required');\n        target = new Vector3();\n\n      }\n\n      return target.copy(this.normal).multiplyScalar(-this.constant);\n\n    },\n\n    applyMatrix4: function(matrix, optionalNormalMatrix) {\n\n      var normalMatrix = optionalNormalMatrix || _normalMatrix.getNormalMatrix(matrix);\n\n      var referencePoint = this.coplanarPoint(_vector1).applyMatrix4(matrix);\n\n      var normal = this.normal.applyMatrix3(normalMatrix).normalize();\n\n      this.constant = -referencePoint.dot(normal);\n\n      return this;\n\n    },\n\n    translate: function(offset) {\n\n      this.constant -= offset.dot(this.normal);\n\n      return this;\n\n    },\n\n    equals: function(plane) {\n\n      return plane.normal.equals(this.normal) && (plane.constant === this.constant);\n\n    }\n\n  });\n\n  /**\n   * @author bhouston / http://clara.io\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  var _v0$1 = new Vector3();\n  var _v1$3 = new Vector3();\n  var _v2$1 = new Vector3();\n  var _v3 = new Vector3();\n\n  var _vab = new Vector3();\n  var _vac = new Vector3();\n  var _vbc = new Vector3();\n  var _vap = new Vector3();\n  var _vbp = new Vector3();\n  var _vcp = new Vector3();\n\n  function Triangle(a, b, c) {\n\n    this.a = (a !== undefined) ? a : new Vector3();\n    this.b = (b !== undefined) ? b : new Vector3();\n    this.c = (c !== undefined) ? c : new Vector3();\n\n  }\n\n  Object.assign(Triangle, {\n\n    getNormal: function(a, b, c, target) {\n\n      if (target === undefined) {\n\n        console.warn('THREE.Triangle: .getNormal() target is now required');\n        target = new Vector3();\n\n      }\n\n      target.subVectors(c, b);\n      _v0$1.subVectors(a, b);\n      target.cross(_v0$1);\n\n      var targetLengthSq = target.lengthSq();\n      if (targetLengthSq > 0) {\n\n        return target.multiplyScalar(1 / Math.sqrt(targetLengthSq));\n\n      }\n\n      return target.set(0, 0, 0);\n\n    },\n\n    // static/instance method to calculate barycentric coordinates\n    // based on: http://www.blackpawn.com/texts/pointinpoly/default.html\n    getBarycoord: function(point, a, b, c, target) {\n\n      _v0$1.subVectors(c, a);\n      _v1$3.subVectors(b, a);\n      _v2$1.subVectors(point, a);\n\n      var dot00 = _v0$1.dot(_v0$1);\n      var dot01 = _v0$1.dot(_v1$3);\n      var dot02 = _v0$1.dot(_v2$1);\n      var dot11 = _v1$3.dot(_v1$3);\n      var dot12 = _v1$3.dot(_v2$1);\n\n      var denom = (dot00 * dot11 - dot01 * dot01);\n\n      if (target === undefined) {\n\n        console.warn('THREE.Triangle: .getBarycoord() target is now required');\n        target = new Vector3();\n\n      }\n\n      // collinear or singular triangle\n      if (denom === 0) {\n\n        // arbitrary location outside of triangle?\n        // not sure if this is the best idea, maybe should be returning undefined\n        return target.set(-2, -1, -1);\n\n      }\n\n      var invDenom = 1 / denom;\n      var u = (dot11 * dot02 - dot01 * dot12) * invDenom;\n      var v = (dot00 * dot12 - dot01 * dot02) * invDenom;\n\n      // barycentric coordinates must always sum to 1\n      return target.set(1 - u - v, v, u);\n\n    },\n\n    containsPoint: function(point, a, b, c) {\n\n      Triangle.getBarycoord(point, a, b, c, _v3);\n\n      return (_v3.x >= 0) && (_v3.y >= 0) && ((_v3.x + _v3.y) <= 1);\n\n    },\n\n    getUV: function(point, p1, p2, p3, uv1, uv2, uv3, target) {\n\n      this.getBarycoord(point, p1, p2, p3, _v3);\n\n      target.set(0, 0);\n      target.addScaledVector(uv1, _v3.x);\n      target.addScaledVector(uv2, _v3.y);\n      target.addScaledVector(uv3, _v3.z);\n\n      return target;\n\n    },\n\n    isFrontFacing: function(a, b, c, direction) {\n\n      _v0$1.subVectors(c, b);\n      _v1$3.subVectors(a, b);\n\n      // strictly front facing\n      return (_v0$1.cross(_v1$3).dot(direction) < 0) ? true : false;\n\n    }\n\n  });\n\n  Object.assign(Triangle.prototype, {\n\n    set: function(a, b, c) {\n\n      this.a.copy(a);\n      this.b.copy(b);\n      this.c.copy(c);\n\n      return this;\n\n    },\n\n    setFromPointsAndIndices: function(points, i0, i1, i2) {\n\n      this.a.copy(points[i0]);\n      this.b.copy(points[i1]);\n      this.c.copy(points[i2]);\n\n      return this;\n\n    },\n\n    clone: function() {\n\n      return new this.constructor().copy(this);\n\n    },\n\n    copy: function(triangle) {\n\n      this.a.copy(triangle.a);\n      this.b.copy(triangle.b);\n      this.c.copy(triangle.c);\n\n      return this;\n\n    },\n\n    getArea: function() {\n\n      _v0$1.subVectors(this.c, this.b);\n      _v1$3.subVectors(this.a, this.b);\n\n      return _v0$1.cross(_v1$3).length() * 0.5;\n\n    },\n\n    getMidpoint: function(target) {\n\n      if (target === undefined) {\n\n        console.warn('THREE.Triangle: .getMidpoint() target is now required');\n        target = new Vector3();\n\n      }\n\n      return target.addVectors(this.a, this.b).add(this.c).multiplyScalar(1 / 3);\n\n    },\n\n    getNormal: function(target) {\n\n      return Triangle.getNormal(this.a, this.b, this.c, target);\n\n    },\n\n    getPlane: function(target) {\n\n      if (target === undefined) {\n\n        console.warn('THREE.Triangle: .getPlane() target is now required');\n        target = new Plane();\n\n      }\n\n      return target.setFromCoplanarPoints(this.a, this.b, this.c);\n\n    },\n\n    getBarycoord: function(point, target) {\n\n      return Triangle.getBarycoord(point, this.a, this.b, this.c, target);\n\n    },\n\n    getUV: function(point, uv1, uv2, uv3, target) {\n\n      return Triangle.getUV(point, this.a, this.b, this.c, uv1, uv2, uv3, target);\n\n    },\n\n    containsPoint: function(point) {\n\n      return Triangle.containsPoint(point, this.a, this.b, this.c);\n\n    },\n\n    isFrontFacing: function(direction) {\n\n      return Triangle.isFrontFacing(this.a, this.b, this.c, direction);\n\n    },\n\n    intersectsBox: function(box) {\n\n      return box.intersectsTriangle(this);\n\n    },\n\n    closestPointToPoint: function(p, target) {\n\n      if (target === undefined) {\n\n        console.warn('THREE.Triangle: .closestPointToPoint() target is now required');\n        target = new Vector3();\n\n      }\n\n      var a = this.a,\n        b = this.b,\n        c = this.c;\n      var v, w;\n\n      // algorithm thanks to Real-Time Collision Detection by Christer Ericson,\n      // published by Morgan Kaufmann Publishers, (c) 2005 Elsevier Inc.,\n      // under the accompanying license; see chapter 5.1.5 for detailed explanation.\n      // basically, we're distinguishing which of the voronoi regions of the triangle\n      // the point lies in with the minimum amount of redundant computation.\n\n      _vab.subVectors(b, a);\n      _vac.subVectors(c, a);\n      _vap.subVectors(p, a);\n      var d1 = _vab.dot(_vap);\n      var d2 = _vac.dot(_vap);\n      if (d1 <= 0 && d2 <= 0) {\n\n        // vertex region of A; barycentric coords (1, 0, 0)\n        return target.copy(a);\n\n      }\n\n      _vbp.subVectors(p, b);\n      var d3 = _vab.dot(_vbp);\n      var d4 = _vac.dot(_vbp);\n      if (d3 >= 0 && d4 <= d3) {\n\n        // vertex region of B; barycentric coords (0, 1, 0)\n        return target.copy(b);\n\n      }\n\n      var vc = d1 * d4 - d3 * d2;\n      if (vc <= 0 && d1 >= 0 && d3 <= 0) {\n\n        v = d1 / (d1 - d3);\n        // edge region of AB; barycentric coords (1-v, v, 0)\n        return target.copy(a).addScaledVector(_vab, v);\n\n      }\n\n      _vcp.subVectors(p, c);\n      var d5 = _vab.dot(_vcp);\n      var d6 = _vac.dot(_vcp);\n      if (d6 >= 0 && d5 <= d6) {\n\n        // vertex region of C; barycentric coords (0, 0, 1)\n        return target.copy(c);\n\n      }\n\n      var vb = d5 * d2 - d1 * d6;\n      if (vb <= 0 && d2 >= 0 && d6 <= 0) {\n\n        w = d2 / (d2 - d6);\n        // edge region of AC; barycentric coords (1-w, 0, w)\n        return target.copy(a).addScaledVector(_vac, w);\n\n      }\n\n      var va = d3 * d6 - d5 * d4;\n      if (va <= 0 && (d4 - d3) >= 0 && (d5 - d6) >= 0) {\n\n        _vbc.subVectors(c, b);\n        w = (d4 - d3) / ((d4 - d3) + (d5 - d6));\n        // edge region of BC; barycentric coords (0, 1-w, w)\n        return target.copy(b).addScaledVector(_vbc, w); // edge region of BC\n\n      }\n\n      // face region\n      var denom = 1 / (va + vb + vc);\n      // u = va * denom\n      v = vb * denom;\n      w = vc * denom;\n\n      return target.copy(a).addScaledVector(_vab, v).addScaledVector(_vac, w);\n\n    },\n\n    equals: function(triangle) {\n\n      return triangle.a.equals(this.a) && triangle.b.equals(this.b) && triangle.c.equals(this.c);\n\n    }\n\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  var _colorKeywords = {\n    'aliceblue': 0xF0F8FF,\n    'antiquewhite': 0xFAEBD7,\n    'aqua': 0x00FFFF,\n    'aquamarine': 0x7FFFD4,\n    'azure': 0xF0FFFF,\n    'beige': 0xF5F5DC,\n    'bisque': 0xFFE4C4,\n    'black': 0x000000,\n    'blanchedalmond': 0xFFEBCD,\n    'blue': 0x0000FF,\n    'blueviolet': 0x8A2BE2,\n    'brown': 0xA52A2A,\n    'burlywood': 0xDEB887,\n    'cadetblue': 0x5F9EA0,\n    'chartreuse': 0x7FFF00,\n    'chocolate': 0xD2691E,\n    'coral': 0xFF7F50,\n    'cornflowerblue': 0x6495ED,\n    'cornsilk': 0xFFF8DC,\n    'crimson': 0xDC143C,\n    'cyan': 0x00FFFF,\n    'darkblue': 0x00008B,\n    'darkcyan': 0x008B8B,\n    'darkgoldenrod': 0xB8860B,\n    'darkgray': 0xA9A9A9,\n    'darkgreen': 0x006400,\n    'darkgrey': 0xA9A9A9,\n    'darkkhaki': 0xBDB76B,\n    'darkmagenta': 0x8B008B,\n    'darkolivegreen': 0x556B2F,\n    'darkorange': 0xFF8C00,\n    'darkorchid': 0x9932CC,\n    'darkred': 0x8B0000,\n    'darksalmon': 0xE9967A,\n    'darkseagreen': 0x8FBC8F,\n    'darkslateblue': 0x483D8B,\n    'darkslategray': 0x2F4F4F,\n    'darkslategrey': 0x2F4F4F,\n    'darkturquoise': 0x00CED1,\n    'darkviolet': 0x9400D3,\n    'deeppink': 0xFF1493,\n    'deepskyblue': 0x00BFFF,\n    'dimgray': 0x696969,\n    'dimgrey': 0x696969,\n    'dodgerblue': 0x1E90FF,\n    'firebrick': 0xB22222,\n    'floralwhite': 0xFFFAF0,\n    'forestgreen': 0x228B22,\n    'fuchsia': 0xFF00FF,\n    'gainsboro': 0xDCDCDC,\n    'ghostwhite': 0xF8F8FF,\n    'gold': 0xFFD700,\n    'goldenrod': 0xDAA520,\n    'gray': 0x808080,\n    'green': 0x008000,\n    'greenyellow': 0xADFF2F,\n    'grey': 0x808080,\n    'honeydew': 0xF0FFF0,\n    'hotpink': 0xFF69B4,\n    'indianred': 0xCD5C5C,\n    'indigo': 0x4B0082,\n    'ivory': 0xFFFFF0,\n    'khaki': 0xF0E68C,\n    'lavender': 0xE6E6FA,\n    'lavenderblush': 0xFFF0F5,\n    'lawngreen': 0x7CFC00,\n    'lemonchiffon': 0xFFFACD,\n    'lightblue': 0xADD8E6,\n    'lightcoral': 0xF08080,\n    'lightcyan': 0xE0FFFF,\n    'lightgoldenrodyellow': 0xFAFAD2,\n    'lightgray': 0xD3D3D3,\n    'lightgreen': 0x90EE90,\n    'lightgrey': 0xD3D3D3,\n    'lightpink': 0xFFB6C1,\n    'lightsalmon': 0xFFA07A,\n    'lightseagreen': 0x20B2AA,\n    'lightskyblue': 0x87CEFA,\n    'lightslategray': 0x778899,\n    'lightslategrey': 0x778899,\n    'lightsteelblue': 0xB0C4DE,\n    'lightyellow': 0xFFFFE0,\n    'lime': 0x00FF00,\n    'limegreen': 0x32CD32,\n    'linen': 0xFAF0E6,\n    'magenta': 0xFF00FF,\n    'maroon': 0x800000,\n    'mediumaquamarine': 0x66CDAA,\n    'mediumblue': 0x0000CD,\n    'mediumorchid': 0xBA55D3,\n    'mediumpurple': 0x9370DB,\n    'mediumseagreen': 0x3CB371,\n    'mediumslateblue': 0x7B68EE,\n    'mediumspringgreen': 0x00FA9A,\n    'mediumturquoise': 0x48D1CC,\n    'mediumvioletred': 0xC71585,\n    'midnightblue': 0x191970,\n    'mintcream': 0xF5FFFA,\n    'mistyrose': 0xFFE4E1,\n    'moccasin': 0xFFE4B5,\n    'navajowhite': 0xFFDEAD,\n    'navy': 0x000080,\n    'oldlace': 0xFDF5E6,\n    'olive': 0x808000,\n    'olivedrab': 0x6B8E23,\n    'orange': 0xFFA500,\n    'orangered': 0xFF4500,\n    'orchid': 0xDA70D6,\n    'palegoldenrod': 0xEEE8AA,\n    'palegreen': 0x98FB98,\n    'paleturquoise': 0xAFEEEE,\n    'palevioletred': 0xDB7093,\n    'papayawhip': 0xFFEFD5,\n    'peachpuff': 0xFFDAB9,\n    'peru': 0xCD853F,\n    'pink': 0xFFC0CB,\n    'plum': 0xDDA0DD,\n    'powderblue': 0xB0E0E6,\n    'purple': 0x800080,\n    'rebeccapurple': 0x663399,\n    'red': 0xFF0000,\n    'rosybrown': 0xBC8F8F,\n    'royalblue': 0x4169E1,\n    'saddlebrown': 0x8B4513,\n    'salmon': 0xFA8072,\n    'sandybrown': 0xF4A460,\n    'seagreen': 0x2E8B57,\n    'seashell': 0xFFF5EE,\n    'sienna': 0xA0522D,\n    'silver': 0xC0C0C0,\n    'skyblue': 0x87CEEB,\n    'slateblue': 0x6A5ACD,\n    'slategray': 0x708090,\n    'slategrey': 0x708090,\n    'snow': 0xFFFAFA,\n    'springgreen': 0x00FF7F,\n    'steelblue': 0x4682B4,\n    'tan': 0xD2B48C,\n    'teal': 0x008080,\n    'thistle': 0xD8BFD8,\n    'tomato': 0xFF6347,\n    'turquoise': 0x40E0D0,\n    'violet': 0xEE82EE,\n    'wheat': 0xF5DEB3,\n    'white': 0xFFFFFF,\n    'whitesmoke': 0xF5F5F5,\n    'yellow': 0xFFFF00,\n    'yellowgreen': 0x9ACD32\n  };\n\n  var _hslA = {\n    h: 0,\n    s: 0,\n    l: 0\n  };\n  var _hslB = {\n    h: 0,\n    s: 0,\n    l: 0\n  };\n\n  function Color(r, g, b) {\n\n    if (g === undefined && b === undefined) {\n\n      // r is THREE.Color, hex or string\n      return this.set(r);\n\n    }\n\n    return this.setRGB(r, g, b);\n\n  }\n\n  function hue2rgb(p, q, t) {\n\n    if (t < 0) {\n      t += 1;\n    }\n    if (t > 1) {\n      t -= 1;\n    }\n    if (t < 1 / 6) {\n      return p + (q - p) * 6 * t;\n    }\n    if (t < 1 / 2) {\n      return q;\n    }\n    if (t < 2 / 3) {\n      return p + (q - p) * 6 * (2 / 3 - t);\n    }\n    return p;\n\n  }\n\n  function SRGBToLinear(c) {\n\n    return (c < 0.04045) ? c * 0.0773993808 : Math.pow(c * 0.9478672986 + 0.0521327014, 2.4);\n\n  }\n\n  function LinearToSRGB(c) {\n\n    return (c < 0.0031308) ? c * 12.92 : 1.055 * (Math.pow(c, 0.41666)) - 0.055;\n\n  }\n\n  Object.assign(Color.prototype, {\n\n    isColor: true,\n\n    r: 1,\n    g: 1,\n    b: 1,\n\n    set: function(value) {\n\n      if (value && value.isColor) {\n\n        this.copy(value);\n\n      } else if (typeof value === 'number') {\n\n        this.setHex(value);\n\n      } else if (typeof value === 'string') {\n\n        this.setStyle(value);\n\n      }\n\n      return this;\n\n    },\n\n    setScalar: function(scalar) {\n\n      this.r = scalar;\n      this.g = scalar;\n      this.b = scalar;\n\n      return this;\n\n    },\n\n    setHex: function(hex) {\n\n      hex = Math.floor(hex);\n\n      this.r = (hex >> 16 & 255) / 255;\n      this.g = (hex >> 8 & 255) / 255;\n      this.b = (hex & 255) / 255;\n\n      return this;\n\n    },\n\n    setRGB: function(r, g, b) {\n\n      this.r = r;\n      this.g = g;\n      this.b = b;\n\n      return this;\n\n    },\n\n    setHSL: function(h, s, l) {\n\n      // h,s,l ranges are in 0.0 - 1.0\n      h = _Math.euclideanModulo(h, 1);\n      s = _Math.clamp(s, 0, 1);\n      l = _Math.clamp(l, 0, 1);\n\n      if (s === 0) {\n\n        this.r = this.g = this.b = l;\n\n      } else {\n\n        var p = l <= 0.5 ? l * (1 + s) : l + s - (l * s);\n        var q = (2 * l) - p;\n\n        this.r = hue2rgb(q, p, h + 1 / 3);\n        this.g = hue2rgb(q, p, h);\n        this.b = hue2rgb(q, p, h - 1 / 3);\n\n      }\n\n      return this;\n\n    },\n\n    setStyle: function(style) {\n\n      function handleAlpha(string) {\n\n        if (string === undefined) {\n          return;\n        }\n\n        if (parseFloat(string) < 1) {\n\n          console.warn('THREE.Color: Alpha component of ' + style + ' will be ignored.');\n\n        }\n\n      }\n\n\n      var m;\n\n      if (m = /^((?:rgb|hsl)a?)\\(\\s*([^\\)]*)\\)/.exec(style)) {\n\n        // rgb / hsl\n\n        var color;\n        var name = m[1];\n        var components = m[2];\n\n        switch (name) {\n\n          case 'rgb':\n          case 'rgba':\n\n            if (color = /^(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec(components)) {\n\n              // rgb(255,0,0) rgba(255,0,0,0.5)\n              this.r = Math.min(255, parseInt(color[1], 10)) / 255;\n              this.g = Math.min(255, parseInt(color[2], 10)) / 255;\n              this.b = Math.min(255, parseInt(color[3], 10)) / 255;\n\n              handleAlpha(color[5]);\n\n              return this;\n\n            }\n\n            if (color = /^(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec(components)) {\n\n              // rgb(100%,0%,0%) rgba(100%,0%,0%,0.5)\n              this.r = Math.min(100, parseInt(color[1], 10)) / 100;\n              this.g = Math.min(100, parseInt(color[2], 10)) / 100;\n              this.b = Math.min(100, parseInt(color[3], 10)) / 100;\n\n              handleAlpha(color[5]);\n\n              return this;\n\n            }\n\n            break;\n\n          case 'hsl':\n          case 'hsla':\n\n            if (color = /^([0-9]*\\.?[0-9]+)\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec(components)) {\n\n              // hsl(120,50%,50%) hsla(120,50%,50%,0.5)\n              var h = parseFloat(color[1]) / 360;\n              var s = parseInt(color[2], 10) / 100;\n              var l = parseInt(color[3], 10) / 100;\n\n              handleAlpha(color[5]);\n\n              return this.setHSL(h, s, l);\n\n            }\n\n            break;\n\n        }\n\n      } else if (m = /^\\#([A-Fa-f0-9]+)$/.exec(style)) {\n\n        // hex color\n\n        var hex = m[1];\n        var size = hex.length;\n\n        if (size === 3) {\n\n          // #ff0\n          this.r = parseInt(hex.charAt(0) + hex.charAt(0), 16) / 255;\n          this.g = parseInt(hex.charAt(1) + hex.charAt(1), 16) / 255;\n          this.b = parseInt(hex.charAt(2) + hex.charAt(2), 16) / 255;\n\n          return this;\n\n        } else if (size === 6) {\n\n          // #ff0000\n          this.r = parseInt(hex.charAt(0) + hex.charAt(1), 16) / 255;\n          this.g = parseInt(hex.charAt(2) + hex.charAt(3), 16) / 255;\n          this.b = parseInt(hex.charAt(4) + hex.charAt(5), 16) / 255;\n\n          return this;\n\n        }\n\n      }\n\n      if (style && style.length > 0) {\n\n        return this.setColorName(style);\n\n      }\n\n      return this;\n\n    },\n\n    setColorName: function(style) {\n\n      // color keywords\n      var hex = _colorKeywords[style];\n\n      if (hex !== undefined) {\n\n        // red\n        this.setHex(hex);\n\n      } else {\n\n        // unknown color\n        console.warn('THREE.Color: Unknown color ' + style);\n\n      }\n\n      return this;\n\n    },\n\n    clone: function() {\n\n      return new this.constructor(this.r, this.g, this.b);\n\n    },\n\n    copy: function(color) {\n\n      this.r = color.r;\n      this.g = color.g;\n      this.b = color.b;\n\n      return this;\n\n    },\n\n    copyGammaToLinear: function(color, gammaFactor) {\n\n      if (gammaFactor === undefined) {\n        gammaFactor = 2.0;\n      }\n\n      this.r = Math.pow(color.r, gammaFactor);\n      this.g = Math.pow(color.g, gammaFactor);\n      this.b = Math.pow(color.b, gammaFactor);\n\n      return this;\n\n    },\n\n    copyLinearToGamma: function(color, gammaFactor) {\n\n      if (gammaFactor === undefined) {\n        gammaFactor = 2.0;\n      }\n\n      var safeInverse = (gammaFactor > 0) ? (1.0 / gammaFactor) : 1.0;\n\n      this.r = Math.pow(color.r, safeInverse);\n      this.g = Math.pow(color.g, safeInverse);\n      this.b = Math.pow(color.b, safeInverse);\n\n      return this;\n\n    },\n\n    convertGammaToLinear: function(gammaFactor) {\n\n      this.copyGammaToLinear(this, gammaFactor);\n\n      return this;\n\n    },\n\n    convertLinearToGamma: function(gammaFactor) {\n\n      this.copyLinearToGamma(this, gammaFactor);\n\n      return this;\n\n    },\n\n    copySRGBToLinear: function(color) {\n\n      this.r = SRGBToLinear(color.r);\n      this.g = SRGBToLinear(color.g);\n      this.b = SRGBToLinear(color.b);\n\n      return this;\n\n    },\n\n    copyLinearToSRGB: function(color) {\n\n      this.r = LinearToSRGB(color.r);\n      this.g = LinearToSRGB(color.g);\n      this.b = LinearToSRGB(color.b);\n\n      return this;\n\n    },\n\n    convertSRGBToLinear: function() {\n\n      this.copySRGBToLinear(this);\n\n      return this;\n\n    },\n\n    convertLinearToSRGB: function() {\n\n      this.copyLinearToSRGB(this);\n\n      return this;\n\n    },\n\n    getHex: function() {\n\n      return (this.r * 255) << 16 ^ (this.g * 255) << 8 ^ (this.b * 255) << 0;\n\n    },\n\n    getHexString: function() {\n\n      return ('000000' + this.getHex().toString(16)).slice(-6);\n\n    },\n\n    getHSL: function(target) {\n\n      // h,s,l ranges are in 0.0 - 1.0\n\n      if (target === undefined) {\n\n        console.warn('THREE.Color: .getHSL() target is now required');\n        target = {\n          h: 0,\n          s: 0,\n          l: 0\n        };\n\n      }\n\n      var r = this.r,\n        g = this.g,\n        b = this.b;\n\n      var max = Math.max(r, g, b);\n      var min = Math.min(r, g, b);\n\n      var hue, saturation;\n      var lightness = (min + max) / 2.0;\n\n      if (min === max) {\n\n        hue = 0;\n        saturation = 0;\n\n      } else {\n\n        var delta = max - min;\n\n        saturation = lightness <= 0.5 ? delta / (max + min) : delta / (2 - max - min);\n\n        switch (max) {\n\n          case r:\n            hue = (g - b) / delta + (g < b ? 6 : 0);\n            break;\n          case g:\n            hue = (b - r) / delta + 2;\n            break;\n          case b:\n            hue = (r - g) / delta + 4;\n            break;\n\n        }\n\n        hue /= 6;\n\n      }\n\n      target.h = hue;\n      target.s = saturation;\n      target.l = lightness;\n\n      return target;\n\n    },\n\n    getStyle: function() {\n\n      return 'rgb(' + ((this.r * 255) | 0) + ',' + ((this.g * 255) | 0) + ',' + ((this.b * 255) | 0) + ')';\n\n    },\n\n    offsetHSL: function(h, s, l) {\n\n      this.getHSL(_hslA);\n\n      _hslA.h += h;\n      _hslA.s += s;\n      _hslA.l += l;\n\n      this.setHSL(_hslA.h, _hslA.s, _hslA.l);\n\n      return this;\n\n    },\n\n    add: function(color) {\n\n      this.r += color.r;\n      this.g += color.g;\n      this.b += color.b;\n\n      return this;\n\n    },\n\n    addColors: function(color1, color2) {\n\n      this.r = color1.r + color2.r;\n      this.g = color1.g + color2.g;\n      this.b = color1.b + color2.b;\n\n      return this;\n\n    },\n\n    addScalar: function(s) {\n\n      this.r += s;\n      this.g += s;\n      this.b += s;\n\n      return this;\n\n    },\n\n    sub: function(color) {\n\n      this.r = Math.max(0, this.r - color.r);\n      this.g = Math.max(0, this.g - color.g);\n      this.b = Math.max(0, this.b - color.b);\n\n      return this;\n\n    },\n\n    multiply: function(color) {\n\n      this.r *= color.r;\n      this.g *= color.g;\n      this.b *= color.b;\n\n      return this;\n\n    },\n\n    multiplyScalar: function(s) {\n\n      this.r *= s;\n      this.g *= s;\n      this.b *= s;\n\n      return this;\n\n    },\n\n    lerp: function(color, alpha) {\n\n      this.r += (color.r - this.r) * alpha;\n      this.g += (color.g - this.g) * alpha;\n      this.b += (color.b - this.b) * alpha;\n\n      return this;\n\n    },\n\n    lerpHSL: function(color, alpha) {\n\n      this.getHSL(_hslA);\n      color.getHSL(_hslB);\n\n      var h = _Math.lerp(_hslA.h, _hslB.h, alpha);\n      var s = _Math.lerp(_hslA.s, _hslB.s, alpha);\n      var l = _Math.lerp(_hslA.l, _hslB.l, alpha);\n\n      this.setHSL(h, s, l);\n\n      return this;\n\n    },\n\n    equals: function(c) {\n\n      return (c.r === this.r) && (c.g === this.g) && (c.b === this.b);\n\n    },\n\n    fromArray: function(array, offset) {\n\n      if (offset === undefined) {\n        offset = 0;\n      }\n\n      this.r = array[offset];\n      this.g = array[offset + 1];\n      this.b = array[offset + 2];\n\n      return this;\n\n    },\n\n    toArray: function(array, offset) {\n\n      if (array === undefined) {\n        array = [];\n      }\n      if (offset === undefined) {\n        offset = 0;\n      }\n\n      array[offset] = this.r;\n      array[offset + 1] = this.g;\n      array[offset + 2] = this.b;\n\n      return array;\n\n    },\n\n    toJSON: function() {\n\n      return this.getHex();\n\n    }\n\n  });\n\n  Color.NAMES = _colorKeywords;\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n  function Face3(a, b, c, normal, color, materialIndex) {\n\n    this.a = a;\n    this.b = b;\n    this.c = c;\n\n    this.normal = (normal && normal.isVector3) ? normal : new Vector3();\n    this.vertexNormals = Array.isArray(normal) ? normal : [];\n\n    this.color = (color && color.isColor) ? color : new Color();\n    this.vertexColors = Array.isArray(color) ? color : [];\n\n    this.materialIndex = materialIndex !== undefined ? materialIndex : 0;\n\n  }\n\n  Object.assign(Face3.prototype, {\n\n    clone: function() {\n\n      return new this.constructor().copy(this);\n\n    },\n\n    copy: function(source) {\n\n      this.a = source.a;\n      this.b = source.b;\n      this.c = source.c;\n\n      this.normal.copy(source.normal);\n      this.color.copy(source.color);\n\n      this.materialIndex = source.materialIndex;\n\n      for (var i = 0, il = source.vertexNormals.length; i < il; i++) {\n\n        this.vertexNormals[i] = source.vertexNormals[i].clone();\n\n      }\n\n      for (var i = 0, il = source.vertexColors.length; i < il; i++) {\n\n        this.vertexColors[i] = source.vertexColors[i].clone();\n\n      }\n\n      return this;\n\n    }\n\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n  var materialId = 0;\n\n  function Material() {\n\n    Object.defineProperty(this, 'id', {\n      value: materialId++\n    });\n\n    this.uuid = _Math.generateUUID();\n\n    this.name = '';\n    this.type = 'Material';\n\n    this.fog = true;\n\n    this.blending = NormalBlending;\n    this.side = FrontSide;\n    this.flatShading = false;\n    this.vertexTangents = false;\n    this.vertexColors = NoColors; // THREE.NoColors, THREE.VertexColors, THREE.FaceColors\n\n    this.opacity = 1;\n    this.transparent = false;\n\n    this.blendSrc = SrcAlphaFactor;\n    this.blendDst = OneMinusSrcAlphaFactor;\n    this.blendEquation = AddEquation;\n    this.blendSrcAlpha = null;\n    this.blendDstAlpha = null;\n    this.blendEquationAlpha = null;\n\n    this.depthFunc = LessEqualDepth;\n    this.depthTest = true;\n    this.depthWrite = true;\n\n    this.stencilWriteMask = 0xff;\n    this.stencilFunc = AlwaysStencilFunc;\n    this.stencilRef = 0;\n    this.stencilFuncMask = 0xff;\n    this.stencilFail = KeepStencilOp;\n    this.stencilZFail = KeepStencilOp;\n    this.stencilZPass = KeepStencilOp;\n    this.stencilWrite = false;\n\n    this.clippingPlanes = null;\n    this.clipIntersection = false;\n    this.clipShadows = false;\n\n    this.shadowSide = null;\n\n    this.colorWrite = true;\n\n    this.precision = null; // override the renderer's default precision for this material\n\n    this.polygonOffset = false;\n    this.polygonOffsetFactor = 0;\n    this.polygonOffsetUnits = 0;\n\n    this.dithering = false;\n\n    this.alphaTest = 0;\n    this.premultipliedAlpha = false;\n\n    this.visible = true;\n\n    this.toneMapped = true;\n\n    this.userData = {};\n\n    this.version = 0;\n\n  }\n\n  Material.prototype = Object.assign(Object.create(EventDispatcher.prototype), {\n\n    constructor: Material,\n\n    isMaterial: true,\n\n    onBeforeCompile: function() {},\n\n    setValues: function(values) {\n\n      if (values === undefined) {\n        return;\n      }\n\n      for (var key in values) {\n\n        var newValue = values[key];\n\n        if (newValue === undefined) {\n\n          console.warn(\"THREE.Material: '\" + key + \"' parameter is undefined.\");\n          continue;\n\n        }\n\n        // for backward compatability if shading is set in the constructor\n        if (key === 'shading') {\n\n          console.warn('THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.');\n          this.flatShading = (newValue === FlatShading) ? true : false;\n          continue;\n\n        }\n\n        var currentValue = this[key];\n\n        if (currentValue === undefined) {\n\n          console.warn(\"THREE.\" + this.type + \": '\" + key + \"' is not a property of this material.\");\n          continue;\n\n        }\n\n        if (currentValue && currentValue.isColor) {\n\n          currentValue.set(newValue);\n\n        } else if ((currentValue && currentValue.isVector3) && (newValue && newValue.isVector3)) {\n\n          currentValue.copy(newValue);\n\n        } else {\n\n          this[key] = newValue;\n\n        }\n\n      }\n\n    },\n\n    toJSON: function(meta) {\n\n      var isRoot = (meta === undefined || typeof meta === 'string');\n\n      if (isRoot) {\n\n        meta = {\n          textures: {},\n          images: {}\n        };\n\n      }\n\n      var data = {\n        metadata: {\n          version: 4.5,\n          type: 'Material',\n          generator: 'Material.toJSON'\n        }\n      };\n\n      // standard Material serialization\n      data.uuid = this.uuid;\n      data.type = this.type;\n\n      if (this.name !== '') {\n        data.name = this.name;\n      }\n\n      if (this.color && this.color.isColor) {\n        data.color = this.color.getHex();\n      }\n\n      if (this.roughness !== undefined) {\n        data.roughness = this.roughness;\n      }\n      if (this.metalness !== undefined) {\n        data.metalness = this.metalness;\n      }\n\n      if (this.sheen && this.sheen.isColor) {\n        data.sheen = this.sheen.getHex();\n      }\n      if (this.emissive && this.emissive.isColor) {\n        data.emissive = this.emissive.getHex();\n      }\n      if (this.emissiveIntensity && this.emissiveIntensity !== 1) {\n        data.emissiveIntensity = this.emissiveIntensity;\n      }\n\n      if (this.specular && this.specular.isColor) {\n        data.specular = this.specular.getHex();\n      }\n      if (this.shininess !== undefined) {\n        data.shininess = this.shininess;\n      }\n      if (this.clearcoat !== undefined) {\n        data.clearcoat = this.clearcoat;\n      }\n      if (this.clearcoatRoughness !== undefined) {\n        data.clearcoatRoughness = this.clearcoatRoughness;\n      }\n\n      if (this.clearcoatNormalMap && this.clearcoatNormalMap.isTexture) {\n\n        data.clearcoatNormalMap = this.clearcoatNormalMap.toJSON(meta).uuid;\n        data.clearcoatNormalScale = this.clearcoatNormalScale.toArray();\n\n      }\n\n      if (this.map && this.map.isTexture) {\n        data.map = this.map.toJSON(meta).uuid;\n      }\n      if (this.matcap && this.matcap.isTexture) {\n        data.matcap = this.matcap.toJSON(meta).uuid;\n      }\n      if (this.alphaMap && this.alphaMap.isTexture) {\n        data.alphaMap = this.alphaMap.toJSON(meta).uuid;\n      }\n      if (this.lightMap && this.lightMap.isTexture) {\n        data.lightMap = this.lightMap.toJSON(meta).uuid;\n      }\n\n      if (this.aoMap && this.aoMap.isTexture) {\n\n        data.aoMap = this.aoMap.toJSON(meta).uuid;\n        data.aoMapIntensity = this.aoMapIntensity;\n\n      }\n\n      if (this.bumpMap && this.bumpMap.isTexture) {\n\n        data.bumpMap = this.bumpMap.toJSON(meta).uuid;\n        data.bumpScale = this.bumpScale;\n\n      }\n\n      if (this.normalMap && this.normalMap.isTexture) {\n\n        data.normalMap = this.normalMap.toJSON(meta).uuid;\n        data.normalMapType = this.normalMapType;\n        data.normalScale = this.normalScale.toArray();\n\n      }\n\n      if (this.displacementMap && this.displacementMap.isTexture) {\n\n        data.displacementMap = this.displacementMap.toJSON(meta).uuid;\n        data.displacementScale = this.displacementScale;\n        data.displacementBias = this.displacementBias;\n\n      }\n\n      if (this.roughnessMap && this.roughnessMap.isTexture) {\n        data.roughnessMap = this.roughnessMap.toJSON(meta).uuid;\n      }\n      if (this.metalnessMap && this.metalnessMap.isTexture) {\n        data.metalnessMap = this.metalnessMap.toJSON(meta).uuid;\n      }\n\n      if (this.emissiveMap && this.emissiveMap.isTexture) {\n        data.emissiveMap = this.emissiveMap.toJSON(meta).uuid;\n      }\n      if (this.specularMap && this.specularMap.isTexture) {\n        data.specularMap = this.specularMap.toJSON(meta).uuid;\n      }\n\n      if (this.envMap && this.envMap.isTexture) {\n\n        data.envMap = this.envMap.toJSON(meta).uuid;\n        data.reflectivity = this.reflectivity; // Scale behind envMap\n        data.refractionRatio = this.refractionRatio;\n\n        if (this.combine !== undefined) {\n          data.combine = this.combine;\n        }\n        if (this.envMapIntensity !== undefined) {\n          data.envMapIntensity = this.envMapIntensity;\n        }\n\n      }\n\n      if (this.gradientMap && this.gradientMap.isTexture) {\n\n        data.gradientMap = this.gradientMap.toJSON(meta).uuid;\n\n      }\n\n      if (this.size !== undefined) {\n        data.size = this.size;\n      }\n      if (this.sizeAttenuation !== undefined) {\n        data.sizeAttenuation = this.sizeAttenuation;\n      }\n\n      if (this.blending !== NormalBlending) {\n        data.blending = this.blending;\n      }\n      if (this.flatShading === true) {\n        data.flatShading = this.flatShading;\n      }\n      if (this.side !== FrontSide) {\n        data.side = this.side;\n      }\n      if (this.vertexColors !== NoColors) {\n        data.vertexColors = this.vertexColors;\n      }\n\n      if (this.opacity < 1) {\n        data.opacity = this.opacity;\n      }\n      if (this.transparent === true) {\n        data.transparent = this.transparent;\n      }\n\n      data.depthFunc = this.depthFunc;\n      data.depthTest = this.depthTest;\n      data.depthWrite = this.depthWrite;\n\n      data.stencilWrite = this.stencilWrite;\n      data.stencilWriteMask = this.stencilWriteMask;\n      data.stencilFunc = this.stencilFunc;\n      data.stencilRef = this.stencilRef;\n      data.stencilFuncMask = this.stencilFuncMask;\n      data.stencilFail = this.stencilFail;\n      data.stencilZFail = this.stencilZFail;\n      data.stencilZPass = this.stencilZPass;\n\n      // rotation (SpriteMaterial)\n      if (this.rotation && this.rotation !== 0) {\n        data.rotation = this.rotation;\n      }\n\n      if (this.polygonOffset === true) {\n        data.polygonOffset = true;\n      }\n      if (this.polygonOffsetFactor !== 0) {\n        data.polygonOffsetFactor = this.polygonOffsetFactor;\n      }\n      if (this.polygonOffsetUnits !== 0) {\n        data.polygonOffsetUnits = this.polygonOffsetUnits;\n      }\n\n      if (this.linewidth && this.linewidth !== 1) {\n        data.linewidth = this.linewidth;\n      }\n      if (this.dashSize !== undefined) {\n        data.dashSize = this.dashSize;\n      }\n      if (this.gapSize !== undefined) {\n        data.gapSize = this.gapSize;\n      }\n      if (this.scale !== undefined) {\n        data.scale = this.scale;\n      }\n\n      if (this.dithering === true) {\n        data.dithering = true;\n      }\n\n      if (this.alphaTest > 0) {\n        data.alphaTest = this.alphaTest;\n      }\n      if (this.premultipliedAlpha === true) {\n        data.premultipliedAlpha = this.premultipliedAlpha;\n      }\n\n      if (this.wireframe === true) {\n        data.wireframe = this.wireframe;\n      }\n      if (this.wireframeLinewidth > 1) {\n        data.wireframeLinewidth = this.wireframeLinewidth;\n      }\n      if (this.wireframeLinecap !== 'round') {\n        data.wireframeLinecap = this.wireframeLinecap;\n      }\n      if (this.wireframeLinejoin !== 'round') {\n        data.wireframeLinejoin = this.wireframeLinejoin;\n      }\n\n      if (this.morphTargets === true) {\n        data.morphTargets = true;\n      }\n      if (this.morphNormals === true) {\n        data.morphNormals = true;\n      }\n      if (this.skinning === true) {\n        data.skinning = true;\n      }\n\n      if (this.visible === false) {\n        data.visible = false;\n      }\n\n      if (this.toneMapped === false) {\n        data.toneMapped = false;\n      }\n\n      if (JSON.stringify(this.userData) !== '{}') {\n        data.userData = this.userData;\n      }\n\n      // TODO: Copied from Object3D.toJSON\n\n      function extractFromCache(cache) {\n\n        var values = [];\n\n        for (var key in cache) {\n\n          var data = cache[key];\n          delete data.metadata;\n          values.push(data);\n\n        }\n\n        return values;\n\n      }\n\n      if (isRoot) {\n\n        var textures = extractFromCache(meta.textures);\n        var images = extractFromCache(meta.images);\n\n        if (textures.length > 0) {\n          data.textures = textures;\n        }\n        if (images.length > 0) {\n          data.images = images;\n        }\n\n      }\n\n      return data;\n\n    },\n\n    clone: function() {\n\n      return new this.constructor().copy(this);\n\n    },\n\n    copy: function(source) {\n\n      this.name = source.name;\n\n      this.fog = source.fog;\n\n      this.blending = source.blending;\n      this.side = source.side;\n      this.flatShading = source.flatShading;\n      this.vertexTangents = source.vertexTangents;\n      this.vertexColors = source.vertexColors;\n\n      this.opacity = source.opacity;\n      this.transparent = source.transparent;\n\n      this.blendSrc = source.blendSrc;\n      this.blendDst = source.blendDst;\n      this.blendEquation = source.blendEquation;\n      this.blendSrcAlpha = source.blendSrcAlpha;\n      this.blendDstAlpha = source.blendDstAlpha;\n      this.blendEquationAlpha = source.blendEquationAlpha;\n\n      this.depthFunc = source.depthFunc;\n      this.depthTest = source.depthTest;\n      this.depthWrite = source.depthWrite;\n\n      this.stencilWriteMask = source.stencilWriteMask;\n      this.stencilFunc = source.stencilFunc;\n      this.stencilRef = source.stencilRef;\n      this.stencilFuncMask = source.stencilFuncMask;\n      this.stencilFail = source.stencilFail;\n      this.stencilZFail = source.stencilZFail;\n      this.stencilZPass = source.stencilZPass;\n      this.stencilWrite = source.stencilWrite;\n\n      var srcPlanes = source.clippingPlanes,\n        dstPlanes = null;\n\n      if (srcPlanes !== null) {\n\n        var n = srcPlanes.length;\n        dstPlanes = new Array(n);\n\n        for (var i = 0; i !== n; ++i) {\n          dstPlanes[i] = srcPlanes[i].clone();\n        }\n\n      }\n\n      this.clippingPlanes = dstPlanes;\n      this.clipIntersection = source.clipIntersection;\n      this.clipShadows = source.clipShadows;\n\n      this.shadowSide = source.shadowSide;\n\n      this.colorWrite = source.colorWrite;\n\n      this.precision = source.precision;\n\n      this.polygonOffset = source.polygonOffset;\n      this.polygonOffsetFactor = source.polygonOffsetFactor;\n      this.polygonOffsetUnits = source.polygonOffsetUnits;\n\n      this.dithering = source.dithering;\n\n      this.alphaTest = source.alphaTest;\n      this.premultipliedAlpha = source.premultipliedAlpha;\n\n      this.visible = source.visible;\n\n      this.toneMapped = source.toneMapped;\n\n      this.userData = JSON.parse(JSON.stringify(source.userData));\n\n      return this;\n\n    },\n\n    dispose: function() {\n\n      this.dispatchEvent({\n        type: 'dispose'\n      });\n\n    }\n\n  });\n\n  Object.defineProperty(Material.prototype, 'needsUpdate', {\n\n    set: function(value) {\n\n      if (value === true) {\n        this.version++;\n      }\n\n    }\n\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author alteredq / http://alteredqualia.com/\n   *\n   * parameters = {\n   *  color: <hex>,\n   *  opacity: <float>,\n   *  map: new THREE.Texture( <Image> ),\n   *\n   *  lightMap: new THREE.Texture( <Image> ),\n   *  lightMapIntensity: <float>\n   *\n   *  aoMap: new THREE.Texture( <Image> ),\n   *  aoMapIntensity: <float>\n   *\n   *  specularMap: new THREE.Texture( <Image> ),\n   *\n   *  alphaMap: new THREE.Texture( <Image> ),\n   *\n   *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n   *  combine: THREE.Multiply,\n   *  reflectivity: <float>,\n   *  refractionRatio: <float>,\n   *\n   *  depthTest: <bool>,\n   *  depthWrite: <bool>,\n   *\n   *  wireframe: <boolean>,\n   *  wireframeLinewidth: <float>,\n   *\n   *  skinning: <bool>,\n   *  morphTargets: <bool>\n   * }\n   */\n\n  function MeshBasicMaterial(parameters) {\n\n    Material.call(this);\n\n    this.type = 'MeshBasicMaterial';\n\n    this.color = new Color(0xffffff); // emissive\n\n    this.map = null;\n\n    this.lightMap = null;\n    this.lightMapIntensity = 1.0;\n\n    this.aoMap = null;\n    this.aoMapIntensity = 1.0;\n\n    this.specularMap = null;\n\n    this.alphaMap = null;\n\n    this.envMap = null;\n    this.combine = MultiplyOperation;\n    this.reflectivity = 1;\n    this.refractionRatio = 0.98;\n\n    this.wireframe = false;\n    this.wireframeLinewidth = 1;\n    this.wireframeLinecap = 'round';\n    this.wireframeLinejoin = 'round';\n\n    this.skinning = false;\n    this.morphTargets = false;\n\n    this.setValues(parameters);\n\n  }\n\n  MeshBasicMaterial.prototype = Object.create(Material.prototype);\n  MeshBasicMaterial.prototype.constructor = MeshBasicMaterial;\n\n  MeshBasicMaterial.prototype.isMeshBasicMaterial = true;\n\n  MeshBasicMaterial.prototype.copy = function(source) {\n\n    Material.prototype.copy.call(this, source);\n\n    this.color.copy(source.color);\n\n    this.map = source.map;\n\n    this.lightMap = source.lightMap;\n    this.lightMapIntensity = source.lightMapIntensity;\n\n    this.aoMap = source.aoMap;\n    this.aoMapIntensity = source.aoMapIntensity;\n\n    this.specularMap = source.specularMap;\n\n    this.alphaMap = source.alphaMap;\n\n    this.envMap = source.envMap;\n    this.combine = source.combine;\n    this.reflectivity = source.reflectivity;\n    this.refractionRatio = source.refractionRatio;\n\n    this.wireframe = source.wireframe;\n    this.wireframeLinewidth = source.wireframeLinewidth;\n    this.wireframeLinecap = source.wireframeLinecap;\n    this.wireframeLinejoin = source.wireframeLinejoin;\n\n    this.skinning = source.skinning;\n    this.morphTargets = source.morphTargets;\n\n    return this;\n\n  };\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  var _vector$4 = new Vector3();\n\n  function BufferAttribute(array, itemSize, normalized) {\n\n    if (Array.isArray(array)) {\n\n      throw new TypeError('THREE.BufferAttribute: array should be a Typed Array.');\n\n    }\n\n    this.name = '';\n\n    this.array = array;\n    this.itemSize = itemSize;\n    this.count = array !== undefined ? array.length / itemSize : 0;\n    this.normalized = normalized === true;\n\n    this.usage = StaticDrawUsage;\n    this.updateRange = {\n      offset: 0,\n      count: -1\n    };\n\n    this.version = 0;\n\n  }\n\n  Object.defineProperty(BufferAttribute.prototype, 'needsUpdate', {\n\n    set: function(value) {\n\n      if (value === true) {\n        this.version++;\n      }\n\n    }\n\n  });\n\n  Object.assign(BufferAttribute.prototype, {\n\n    isBufferAttribute: true,\n\n    onUploadCallback: function() {},\n\n    setUsage: function(value) {\n\n      this.usage = value;\n\n      return this;\n\n    },\n\n    copy: function(source) {\n\n      this.name = source.name;\n      this.array = new source.array.constructor(source.array);\n      this.itemSize = source.itemSize;\n      this.count = source.count;\n      this.normalized = source.normalized;\n\n      this.usage = source.usage;\n\n      return this;\n\n    },\n\n    copyAt: function(index1, attribute, index2) {\n\n      index1 *= this.itemSize;\n      index2 *= attribute.itemSize;\n\n      for (var i = 0, l = this.itemSize; i < l; i++) {\n\n        this.array[index1 + i] = attribute.array[index2 + i];\n\n      }\n\n      return this;\n\n    },\n\n    copyArray: function(array) {\n\n      this.array.set(array);\n\n      return this;\n\n    },\n\n    copyColorsArray: function(colors) {\n\n      var array = this.array,\n        offset = 0;\n\n      for (var i = 0, l = colors.length; i < l; i++) {\n\n        var color = colors[i];\n\n        if (color === undefined) {\n\n          console.warn('THREE.BufferAttribute.copyColorsArray(): color is undefined', i);\n          color = new Color();\n\n        }\n\n        array[offset++] = color.r;\n        array[offset++] = color.g;\n        array[offset++] = color.b;\n\n      }\n\n      return this;\n\n    },\n\n    copyVector2sArray: function(vectors) {\n\n      var array = this.array,\n        offset = 0;\n\n      for (var i = 0, l = vectors.length; i < l; i++) {\n\n        var vector = vectors[i];\n\n        if (vector === undefined) {\n\n          console.warn('THREE.BufferAttribute.copyVector2sArray(): vector is undefined', i);\n          vector = new Vector2();\n\n        }\n\n        array[offset++] = vector.x;\n        array[offset++] = vector.y;\n\n      }\n\n      return this;\n\n    },\n\n    copyVector3sArray: function(vectors) {\n\n      var array = this.array,\n        offset = 0;\n\n      for (var i = 0, l = vectors.length; i < l; i++) {\n\n        var vector = vectors[i];\n\n        if (vector === undefined) {\n\n          console.warn('THREE.BufferAttribute.copyVector3sArray(): vector is undefined', i);\n          vector = new Vector3();\n\n        }\n\n        array[offset++] = vector.x;\n        array[offset++] = vector.y;\n        array[offset++] = vector.z;\n\n      }\n\n      return this;\n\n    },\n\n    copyVector4sArray: function(vectors) {\n\n      var array = this.array,\n        offset = 0;\n\n      for (var i = 0, l = vectors.length; i < l; i++) {\n\n        var vector = vectors[i];\n\n        if (vector === undefined) {\n\n          console.warn('THREE.BufferAttribute.copyVector4sArray(): vector is undefined', i);\n          vector = new Vector4();\n\n        }\n\n        array[offset++] = vector.x;\n        array[offset++] = vector.y;\n        array[offset++] = vector.z;\n        array[offset++] = vector.w;\n\n      }\n\n      return this;\n\n    },\n\n    applyMatrix3: function(m) {\n\n      for (var i = 0, l = this.count; i < l; i++) {\n\n        _vector$4.x = this.getX(i);\n        _vector$4.y = this.getY(i);\n        _vector$4.z = this.getZ(i);\n\n        _vector$4.applyMatrix3(m);\n\n        this.setXYZ(i, _vector$4.x, _vector$4.y, _vector$4.z);\n\n      }\n\n      return this;\n\n    },\n\n    applyMatrix4: function(m) {\n\n      for (var i = 0, l = this.count; i < l; i++) {\n\n        _vector$4.x = this.getX(i);\n        _vector$4.y = this.getY(i);\n        _vector$4.z = this.getZ(i);\n\n        _vector$4.applyMatrix4(m);\n\n        this.setXYZ(i, _vector$4.x, _vector$4.y, _vector$4.z);\n\n      }\n\n      return this;\n\n    },\n\n    applyNormalMatrix: function(m) {\n\n      for (var i = 0, l = this.count; i < l; i++) {\n\n        _vector$4.x = this.getX(i);\n        _vector$4.y = this.getY(i);\n        _vector$4.z = this.getZ(i);\n\n        _vector$4.applyNormalMatrix(m);\n\n        this.setXYZ(i, _vector$4.x, _vector$4.y, _vector$4.z);\n\n      }\n\n      return this;\n\n    },\n\n    transformDirection: function(m) {\n\n      for (var i = 0, l = this.count; i < l; i++) {\n\n        _vector$4.x = this.getX(i);\n        _vector$4.y = this.getY(i);\n        _vector$4.z = this.getZ(i);\n\n        _vector$4.transformDirection(m);\n\n        this.setXYZ(i, _vector$4.x, _vector$4.y, _vector$4.z);\n\n      }\n\n      return this;\n\n    },\n\n    set: function(value, offset) {\n\n      if (offset === undefined) {\n        offset = 0;\n      }\n\n      this.array.set(value, offset);\n\n      return this;\n\n    },\n\n    getX: function(index) {\n\n      return this.array[index * this.itemSize];\n\n    },\n\n    setX: function(index, x) {\n\n      this.array[index * this.itemSize] = x;\n\n      return this;\n\n    },\n\n    getY: function(index) {\n\n      return this.array[index * this.itemSize + 1];\n\n    },\n\n    setY: function(index, y) {\n\n      this.array[index * this.itemSize + 1] = y;\n\n      return this;\n\n    },\n\n    getZ: function(index) {\n\n      return this.array[index * this.itemSize + 2];\n\n    },\n\n    setZ: function(index, z) {\n\n      this.array[index * this.itemSize + 2] = z;\n\n      return this;\n\n    },\n\n    getW: function(index) {\n\n      return this.array[index * this.itemSize + 3];\n\n    },\n\n    setW: function(index, w) {\n\n      this.array[index * this.itemSize + 3] = w;\n\n      return this;\n\n    },\n\n    setXY: function(index, x, y) {\n\n      index *= this.itemSize;\n\n      this.array[index + 0] = x;\n      this.array[index + 1] = y;\n\n      return this;\n\n    },\n\n    setXYZ: function(index, x, y, z) {\n\n      index *= this.itemSize;\n\n      this.array[index + 0] = x;\n      this.array[index + 1] = y;\n      this.array[index + 2] = z;\n\n      return this;\n\n    },\n\n    setXYZW: function(index, x, y, z, w) {\n\n      index *= this.itemSize;\n\n      this.array[index + 0] = x;\n      this.array[index + 1] = y;\n      this.array[index + 2] = z;\n      this.array[index + 3] = w;\n\n      return this;\n\n    },\n\n    onUpload: function(callback) {\n\n      this.onUploadCallback = callback;\n\n      return this;\n\n    },\n\n    clone: function() {\n\n      return new this.constructor(this.array, this.itemSize).copy(this);\n\n    },\n\n    toJSON: function() {\n\n      return {\n        itemSize: this.itemSize,\n        type: this.array.constructor.name,\n        array: Array.prototype.slice.call(this.array),\n        normalized: this.normalized\n      };\n\n    }\n\n  });\n\n  //\n\n  function Int8BufferAttribute(array, itemSize, normalized) {\n\n    BufferAttribute.call(this, new Int8Array(array), itemSize, normalized);\n\n  }\n\n  Int8BufferAttribute.prototype = Object.create(BufferAttribute.prototype);\n  Int8BufferAttribute.prototype.constructor = Int8BufferAttribute;\n\n\n  function Uint8BufferAttribute(array, itemSize, normalized) {\n\n    BufferAttribute.call(this, new Uint8Array(array), itemSize, normalized);\n\n  }\n\n  Uint8BufferAttribute.prototype = Object.create(BufferAttribute.prototype);\n  Uint8BufferAttribute.prototype.constructor = Uint8BufferAttribute;\n\n\n  function Uint8ClampedBufferAttribute(array, itemSize, normalized) {\n\n    BufferAttribute.call(this, new Uint8ClampedArray(array), itemSize, normalized);\n\n  }\n\n  Uint8ClampedBufferAttribute.prototype = Object.create(BufferAttribute.prototype);\n  Uint8ClampedBufferAttribute.prototype.constructor = Uint8ClampedBufferAttribute;\n\n\n  function Int16BufferAttribute(array, itemSize, normalized) {\n\n    BufferAttribute.call(this, new Int16Array(array), itemSize, normalized);\n\n  }\n\n  Int16BufferAttribute.prototype = Object.create(BufferAttribute.prototype);\n  Int16BufferAttribute.prototype.constructor = Int16BufferAttribute;\n\n\n  function Uint16BufferAttribute(array, itemSize, normalized) {\n\n    BufferAttribute.call(this, new Uint16Array(array), itemSize, normalized);\n\n  }\n\n  Uint16BufferAttribute.prototype = Object.create(BufferAttribute.prototype);\n  Uint16BufferAttribute.prototype.constructor = Uint16BufferAttribute;\n\n\n  function Int32BufferAttribute(array, itemSize, normalized) {\n\n    BufferAttribute.call(this, new Int32Array(array), itemSize, normalized);\n\n  }\n\n  Int32BufferAttribute.prototype = Object.create(BufferAttribute.prototype);\n  Int32BufferAttribute.prototype.constructor = Int32BufferAttribute;\n\n\n  function Uint32BufferAttribute(array, itemSize, normalized) {\n\n    BufferAttribute.call(this, new Uint32Array(array), itemSize, normalized);\n\n  }\n\n  Uint32BufferAttribute.prototype = Object.create(BufferAttribute.prototype);\n  Uint32BufferAttribute.prototype.constructor = Uint32BufferAttribute;\n\n\n  function Float32BufferAttribute(array, itemSize, normalized) {\n\n    BufferAttribute.call(this, new Float32Array(array), itemSize, normalized);\n\n  }\n\n  Float32BufferAttribute.prototype = Object.create(BufferAttribute.prototype);\n  Float32BufferAttribute.prototype.constructor = Float32BufferAttribute;\n\n\n  function Float64BufferAttribute(array, itemSize, normalized) {\n\n    BufferAttribute.call(this, new Float64Array(array), itemSize, normalized);\n\n  }\n\n  Float64BufferAttribute.prototype = Object.create(BufferAttribute.prototype);\n  Float64BufferAttribute.prototype.constructor = Float64BufferAttribute;\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function DirectGeometry() {\n\n    this.vertices = [];\n    this.normals = [];\n    this.colors = [];\n    this.uvs = [];\n    this.uvs2 = [];\n\n    this.groups = [];\n\n    this.morphTargets = {};\n\n    this.skinWeights = [];\n    this.skinIndices = [];\n\n    // this.lineDistances = [];\n\n    this.boundingBox = null;\n    this.boundingSphere = null;\n\n    // update flags\n\n    this.verticesNeedUpdate = false;\n    this.normalsNeedUpdate = false;\n    this.colorsNeedUpdate = false;\n    this.uvsNeedUpdate = false;\n    this.groupsNeedUpdate = false;\n\n  }\n\n  Object.assign(DirectGeometry.prototype, {\n\n    computeGroups: function(geometry) {\n\n      var group;\n      var groups = [];\n      var materialIndex = undefined;\n\n      var faces = geometry.faces;\n\n      for (var i = 0; i < faces.length; i++) {\n\n        var face = faces[i];\n\n        // materials\n\n        if (face.materialIndex !== materialIndex) {\n\n          materialIndex = face.materialIndex;\n\n          if (group !== undefined) {\n\n            group.count = (i * 3) - group.start;\n            groups.push(group);\n\n          }\n\n          group = {\n            start: i * 3,\n            materialIndex: materialIndex\n          };\n\n        }\n\n      }\n\n      if (group !== undefined) {\n\n        group.count = (i * 3) - group.start;\n        groups.push(group);\n\n      }\n\n      this.groups = groups;\n\n    },\n\n    fromGeometry: function(geometry) {\n\n      var faces = geometry.faces;\n      var vertices = geometry.vertices;\n      var faceVertexUvs = geometry.faceVertexUvs;\n\n      var hasFaceVertexUv = faceVertexUvs[0] && faceVertexUvs[0].length > 0;\n      var hasFaceVertexUv2 = faceVertexUvs[1] && faceVertexUvs[1].length > 0;\n\n      // morphs\n\n      var morphTargets = geometry.morphTargets;\n      var morphTargetsLength = morphTargets.length;\n\n      var morphTargetsPosition;\n\n      if (morphTargetsLength > 0) {\n\n        morphTargetsPosition = [];\n\n        for (var i = 0; i < morphTargetsLength; i++) {\n\n          morphTargetsPosition[i] = {\n            name: morphTargets[i].name,\n            data: []\n          };\n\n        }\n\n        this.morphTargets.position = morphTargetsPosition;\n\n      }\n\n      var morphNormals = geometry.morphNormals;\n      var morphNormalsLength = morphNormals.length;\n\n      var morphTargetsNormal;\n\n      if (morphNormalsLength > 0) {\n\n        morphTargetsNormal = [];\n\n        for (var i = 0; i < morphNormalsLength; i++) {\n\n          morphTargetsNormal[i] = {\n            name: morphNormals[i].name,\n            data: []\n          };\n\n        }\n\n        this.morphTargets.normal = morphTargetsNormal;\n\n      }\n\n      // skins\n\n      var skinIndices = geometry.skinIndices;\n      var skinWeights = geometry.skinWeights;\n\n      var hasSkinIndices = skinIndices.length === vertices.length;\n      var hasSkinWeights = skinWeights.length === vertices.length;\n\n      //\n\n      if (vertices.length > 0 && faces.length === 0) {\n\n        console.error('THREE.DirectGeometry: Faceless geometries are not supported.');\n\n      }\n\n      for (var i = 0; i < faces.length; i++) {\n\n        var face = faces[i];\n\n        this.vertices.push(vertices[face.a], vertices[face.b], vertices[face.c]);\n\n        var vertexNormals = face.vertexNormals;\n\n        if (vertexNormals.length === 3) {\n\n          this.normals.push(vertexNormals[0], vertexNormals[1], vertexNormals[2]);\n\n        } else {\n\n          var normal = face.normal;\n\n          this.normals.push(normal, normal, normal);\n\n        }\n\n        var vertexColors = face.vertexColors;\n\n        if (vertexColors.length === 3) {\n\n          this.colors.push(vertexColors[0], vertexColors[1], vertexColors[2]);\n\n        } else {\n\n          var color = face.color;\n\n          this.colors.push(color, color, color);\n\n        }\n\n        if (hasFaceVertexUv === true) {\n\n          var vertexUvs = faceVertexUvs[0][i];\n\n          if (vertexUvs !== undefined) {\n\n            this.uvs.push(vertexUvs[0], vertexUvs[1], vertexUvs[2]);\n\n          } else {\n\n            console.warn('THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ', i);\n\n            this.uvs.push(new Vector2(), new Vector2(), new Vector2());\n\n          }\n\n        }\n\n        if (hasFaceVertexUv2 === true) {\n\n          var vertexUvs = faceVertexUvs[1][i];\n\n          if (vertexUvs !== undefined) {\n\n            this.uvs2.push(vertexUvs[0], vertexUvs[1], vertexUvs[2]);\n\n          } else {\n\n            console.warn('THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ', i);\n\n            this.uvs2.push(new Vector2(), new Vector2(), new Vector2());\n\n          }\n\n        }\n\n        // morphs\n\n        for (var j = 0; j < morphTargetsLength; j++) {\n\n          var morphTarget = morphTargets[j].vertices;\n\n          morphTargetsPosition[j].data.push(morphTarget[face.a], morphTarget[face.b], morphTarget[face.c]);\n\n        }\n\n        for (var j = 0; j < morphNormalsLength; j++) {\n\n          var morphNormal = morphNormals[j].vertexNormals[i];\n\n          morphTargetsNormal[j].data.push(morphNormal.a, morphNormal.b, morphNormal.c);\n\n        }\n\n        // skins\n\n        if (hasSkinIndices) {\n\n          this.skinIndices.push(skinIndices[face.a], skinIndices[face.b], skinIndices[face.c]);\n\n        }\n\n        if (hasSkinWeights) {\n\n          this.skinWeights.push(skinWeights[face.a], skinWeights[face.b], skinWeights[face.c]);\n\n        }\n\n      }\n\n      this.computeGroups(geometry);\n\n      this.verticesNeedUpdate = geometry.verticesNeedUpdate;\n      this.normalsNeedUpdate = geometry.normalsNeedUpdate;\n      this.colorsNeedUpdate = geometry.colorsNeedUpdate;\n      this.uvsNeedUpdate = geometry.uvsNeedUpdate;\n      this.groupsNeedUpdate = geometry.groupsNeedUpdate;\n\n      if (geometry.boundingSphere !== null) {\n\n        this.boundingSphere = geometry.boundingSphere.clone();\n\n      }\n\n      if (geometry.boundingBox !== null) {\n\n        this.boundingBox = geometry.boundingBox.clone();\n\n      }\n\n      return this;\n\n    }\n\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function arrayMax(array) {\n\n    if (array.length === 0) {\n      return -Infinity;\n    }\n\n    var max = array[0];\n\n    for (var i = 1, l = array.length; i < l; ++i) {\n\n      if (array[i] > max) {\n        max = array[i];\n      }\n\n    }\n\n    return max;\n\n  }\n\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  var _bufferGeometryId = 1; // BufferGeometry uses odd numbers as Id\n\n  var _m1$2 = new Matrix4();\n  var _obj = new Object3D();\n  var _offset = new Vector3();\n  var _box$2 = new Box3();\n  var _boxMorphTargets = new Box3();\n  var _vector$5 = new Vector3();\n\n  function BufferGeometry() {\n\n    Object.defineProperty(this, 'id', {\n      value: _bufferGeometryId += 2\n    });\n\n    this.uuid = _Math.generateUUID();\n\n    this.name = '';\n    this.type = 'BufferGeometry';\n\n    this.index = null;\n    this.attributes = {};\n\n    this.morphAttributes = {};\n    this.morphTargetsRelative = false;\n\n    this.groups = [];\n\n    this.boundingBox = null;\n    this.boundingSphere = null;\n\n    this.drawRange = {\n      start: 0,\n      count: Infinity\n    };\n\n    this.userData = {};\n\n  }\n\n  BufferGeometry.prototype = Object.assign(Object.create(EventDispatcher.prototype), {\n\n    constructor: BufferGeometry,\n\n    isBufferGeometry: true,\n\n    getIndex: function() {\n\n      return this.index;\n\n    },\n\n    setIndex: function(index) {\n\n      if (Array.isArray(index)) {\n\n        this.index = new(arrayMax(index) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute)(index, 1);\n\n      } else {\n\n        this.index = index;\n\n      }\n\n    },\n\n    getAttribute: function(name) {\n\n      return this.attributes[name];\n\n    },\n\n    setAttribute: function(name, attribute) {\n\n      this.attributes[name] = attribute;\n\n      return this;\n\n    },\n\n    deleteAttribute: function(name) {\n\n      delete this.attributes[name];\n\n      return this;\n\n    },\n\n    addGroup: function(start, count, materialIndex) {\n\n      this.groups.push({\n\n        start: start,\n        count: count,\n        materialIndex: materialIndex !== undefined ? materialIndex : 0\n\n      });\n\n    },\n\n    clearGroups: function() {\n\n      this.groups = [];\n\n    },\n\n    setDrawRange: function(start, count) {\n\n      this.drawRange.start = start;\n      this.drawRange.count = count;\n\n    },\n\n    applyMatrix: function(matrix) {\n\n      var position = this.attributes.position;\n\n      if (position !== undefined) {\n\n        position.applyMatrix4(matrix);\n\n        position.needsUpdate = true;\n\n      }\n\n      var normal = this.attributes.normal;\n\n      if (normal !== undefined) {\n\n        var normalMatrix = new Matrix3().getNormalMatrix(matrix);\n\n        normal.applyNormalMatrix(normalMatrix);\n\n        normal.needsUpdate = true;\n\n      }\n\n      var tangent = this.attributes.tangent;\n\n      if (tangent !== undefined) {\n\n        tangent.transformDirection(matrix);\n\n        tangent.needsUpdate = true;\n\n      }\n\n      if (this.boundingBox !== null) {\n\n        this.computeBoundingBox();\n\n      }\n\n      if (this.boundingSphere !== null) {\n\n        this.computeBoundingSphere();\n\n      }\n\n      return this;\n\n    },\n\n    rotateX: function(angle) {\n\n      // rotate geometry around world x-axis\n\n      _m1$2.makeRotationX(angle);\n\n      this.applyMatrix(_m1$2);\n\n      return this;\n\n    },\n\n    rotateY: function(angle) {\n\n      // rotate geometry around world y-axis\n\n      _m1$2.makeRotationY(angle);\n\n      this.applyMatrix(_m1$2);\n\n      return this;\n\n    },\n\n    rotateZ: function(angle) {\n\n      // rotate geometry around world z-axis\n\n      _m1$2.makeRotationZ(angle);\n\n      this.applyMatrix(_m1$2);\n\n      return this;\n\n    },\n\n    translate: function(x, y, z) {\n\n      // translate geometry\n\n      _m1$2.makeTranslation(x, y, z);\n\n      this.applyMatrix(_m1$2);\n\n      return this;\n\n    },\n\n    scale: function(x, y, z) {\n\n      // scale geometry\n\n      _m1$2.makeScale(x, y, z);\n\n      this.applyMatrix(_m1$2);\n\n      return this;\n\n    },\n\n    lookAt: function(vector) {\n\n      _obj.lookAt(vector);\n\n      _obj.updateMatrix();\n\n      this.applyMatrix(_obj.matrix);\n\n      return this;\n\n    },\n\n    center: function() {\n\n      this.computeBoundingBox();\n\n      this.boundingBox.getCenter(_offset).negate();\n\n      this.translate(_offset.x, _offset.y, _offset.z);\n\n      return this;\n\n    },\n\n    setFromObject: function(object) {\n\n      // console.log( 'THREE.BufferGeometry.setFromObject(). Converting', object, this );\n\n      var geometry = object.geometry;\n\n      if (object.isPoints || object.isLine) {\n\n        var positions = new Float32BufferAttribute(geometry.vertices.length * 3, 3);\n        var colors = new Float32BufferAttribute(geometry.colors.length * 3, 3);\n\n        this.setAttribute('position', positions.copyVector3sArray(geometry.vertices));\n        this.setAttribute('color', colors.copyColorsArray(geometry.colors));\n\n        if (geometry.lineDistances && geometry.lineDistances.length === geometry.vertices.length) {\n\n          var lineDistances = new Float32BufferAttribute(geometry.lineDistances.length, 1);\n\n          this.setAttribute('lineDistance', lineDistances.copyArray(geometry.lineDistances));\n\n        }\n\n        if (geometry.boundingSphere !== null) {\n\n          this.boundingSphere = geometry.boundingSphere.clone();\n\n        }\n\n        if (geometry.boundingBox !== null) {\n\n          this.boundingBox = geometry.boundingBox.clone();\n\n        }\n\n      } else if (object.isMesh) {\n\n        if (geometry && geometry.isGeometry) {\n\n          this.fromGeometry(geometry);\n\n        }\n\n      }\n\n      return this;\n\n    },\n\n    setFromPoints: function(points) {\n\n      var position = [];\n\n      for (var i = 0, l = points.length; i < l; i++) {\n\n        var point = points[i];\n        position.push(point.x, point.y, point.z || 0);\n\n      }\n\n      this.setAttribute('position', new Float32BufferAttribute(position, 3));\n\n      return this;\n\n    },\n\n    updateFromObject: function(object) {\n\n      var geometry = object.geometry;\n\n      if (object.isMesh) {\n\n        var direct = geometry.__directGeometry;\n\n        if (geometry.elementsNeedUpdate === true) {\n\n          direct = undefined;\n          geometry.elementsNeedUpdate = false;\n\n        }\n\n        if (direct === undefined) {\n\n          return this.fromGeometry(geometry);\n\n        }\n\n        direct.verticesNeedUpdate = geometry.verticesNeedUpdate;\n        direct.normalsNeedUpdate = geometry.normalsNeedUpdate;\n        direct.colorsNeedUpdate = geometry.colorsNeedUpdate;\n        direct.uvsNeedUpdate = geometry.uvsNeedUpdate;\n        direct.groupsNeedUpdate = geometry.groupsNeedUpdate;\n\n        geometry.verticesNeedUpdate = false;\n        geometry.normalsNeedUpdate = false;\n        geometry.colorsNeedUpdate = false;\n        geometry.uvsNeedUpdate = false;\n        geometry.groupsNeedUpdate = false;\n\n        geometry = direct;\n\n      }\n\n      var attribute;\n\n      if (geometry.verticesNeedUpdate === true) {\n\n        attribute = this.attributes.position;\n\n        if (attribute !== undefined) {\n\n          attribute.copyVector3sArray(geometry.vertices);\n          attribute.needsUpdate = true;\n\n        }\n\n        geometry.verticesNeedUpdate = false;\n\n      }\n\n      if (geometry.normalsNeedUpdate === true) {\n\n        attribute = this.attributes.normal;\n\n        if (attribute !== undefined) {\n\n          attribute.copyVector3sArray(geometry.normals);\n          attribute.needsUpdate = true;\n\n        }\n\n        geometry.normalsNeedUpdate = false;\n\n      }\n\n      if (geometry.colorsNeedUpdate === true) {\n\n        attribute = this.attributes.color;\n\n        if (attribute !== undefined) {\n\n          attribute.copyColorsArray(geometry.colors);\n          attribute.needsUpdate = true;\n\n        }\n\n        geometry.colorsNeedUpdate = false;\n\n      }\n\n      if (geometry.uvsNeedUpdate) {\n\n        attribute = this.attributes.uv;\n\n        if (attribute !== undefined) {\n\n          attribute.copyVector2sArray(geometry.uvs);\n          attribute.needsUpdate = true;\n\n        }\n\n        geometry.uvsNeedUpdate = false;\n\n      }\n\n      if (geometry.lineDistancesNeedUpdate) {\n\n        attribute = this.attributes.lineDistance;\n\n        if (attribute !== undefined) {\n\n          attribute.copyArray(geometry.lineDistances);\n          attribute.needsUpdate = true;\n\n        }\n\n        geometry.lineDistancesNeedUpdate = false;\n\n      }\n\n      if (geometry.groupsNeedUpdate) {\n\n        geometry.computeGroups(object.geometry);\n        this.groups = geometry.groups;\n\n        geometry.groupsNeedUpdate = false;\n\n      }\n\n      return this;\n\n    },\n\n    fromGeometry: function(geometry) {\n\n      geometry.__directGeometry = new DirectGeometry().fromGeometry(geometry);\n\n      return this.fromDirectGeometry(geometry.__directGeometry);\n\n    },\n\n    fromDirectGeometry: function(geometry) {\n\n      var positions = new Float32Array(geometry.vertices.length * 3);\n      this.setAttribute('position', new BufferAttribute(positions, 3).copyVector3sArray(geometry.vertices));\n\n      if (geometry.normals.length > 0) {\n\n        var normals = new Float32Array(geometry.normals.length * 3);\n        this.setAttribute('normal', new BufferAttribute(normals, 3).copyVector3sArray(geometry.normals));\n\n      }\n\n      if (geometry.colors.length > 0) {\n\n        var colors = new Float32Array(geometry.colors.length * 3);\n        this.setAttribute('color', new BufferAttribute(colors, 3).copyColorsArray(geometry.colors));\n\n      }\n\n      if (geometry.uvs.length > 0) {\n\n        var uvs = new Float32Array(geometry.uvs.length * 2);\n        this.setAttribute('uv', new BufferAttribute(uvs, 2).copyVector2sArray(geometry.uvs));\n\n      }\n\n      if (geometry.uvs2.length > 0) {\n\n        var uvs2 = new Float32Array(geometry.uvs2.length * 2);\n        this.setAttribute('uv2', new BufferAttribute(uvs2, 2).copyVector2sArray(geometry.uvs2));\n\n      }\n\n      // groups\n\n      this.groups = geometry.groups;\n\n      // morphs\n\n      for (var name in geometry.morphTargets) {\n\n        var array = [];\n        var morphTargets = geometry.morphTargets[name];\n\n        for (var i = 0, l = morphTargets.length; i < l; i++) {\n\n          var morphTarget = morphTargets[i];\n\n          var attribute = new Float32BufferAttribute(morphTarget.data.length * 3, 3);\n          attribute.name = morphTarget.name;\n\n          array.push(attribute.copyVector3sArray(morphTarget.data));\n\n        }\n\n        this.morphAttributes[name] = array;\n\n      }\n\n      // skinning\n\n      if (geometry.skinIndices.length > 0) {\n\n        var skinIndices = new Float32BufferAttribute(geometry.skinIndices.length * 4, 4);\n        this.setAttribute('skinIndex', skinIndices.copyVector4sArray(geometry.skinIndices));\n\n      }\n\n      if (geometry.skinWeights.length > 0) {\n\n        var skinWeights = new Float32BufferAttribute(geometry.skinWeights.length * 4, 4);\n        this.setAttribute('skinWeight', skinWeights.copyVector4sArray(geometry.skinWeights));\n\n      }\n\n      //\n\n      if (geometry.boundingSphere !== null) {\n\n        this.boundingSphere = geometry.boundingSphere.clone();\n\n      }\n\n      if (geometry.boundingBox !== null) {\n\n        this.boundingBox = geometry.boundingBox.clone();\n\n      }\n\n      return this;\n\n    },\n\n    computeBoundingBox: function() {\n\n      if (this.boundingBox === null) {\n\n        this.boundingBox = new Box3();\n\n      }\n\n      var position = this.attributes.position;\n      var morphAttributesPosition = this.morphAttributes.position;\n\n      if (position !== undefined) {\n\n        this.boundingBox.setFromBufferAttribute(position);\n\n        // process morph attributes if present\n\n        if (morphAttributesPosition) {\n\n          for (var i = 0, il = morphAttributesPosition.length; i < il; i++) {\n\n            var morphAttribute = morphAttributesPosition[i];\n            _box$2.setFromBufferAttribute(morphAttribute);\n\n            if (this.morphTargetsRelative) {\n\n              _vector$5.addVectors(this.boundingBox.min, _box$2.min);\n              this.boundingBox.expandByPoint(_vector$5);\n\n              _vector$5.addVectors(this.boundingBox.max, _box$2.max);\n              this.boundingBox.expandByPoint(_vector$5);\n\n            } else {\n\n              this.boundingBox.expandByPoint(_box$2.min);\n              this.boundingBox.expandByPoint(_box$2.max);\n\n            }\n\n          }\n\n        }\n\n      } else {\n\n        this.boundingBox.makeEmpty();\n\n      }\n\n      if (isNaN(this.boundingBox.min.x) || isNaN(this.boundingBox.min.y) || isNaN(this.boundingBox.min.z)) {\n\n        console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The \"position\" attribute is likely to have NaN values.', this);\n\n      }\n\n    },\n\n    computeBoundingSphere: function() {\n\n      if (this.boundingSphere === null) {\n\n        this.boundingSphere = new Sphere();\n\n      }\n\n      var position = this.attributes.position;\n      var morphAttributesPosition = this.morphAttributes.position;\n\n      if (position) {\n\n        // first, find the center of the bounding sphere\n\n        var center = this.boundingSphere.center;\n\n        _box$2.setFromBufferAttribute(position);\n\n        // process morph attributes if present\n\n        if (morphAttributesPosition) {\n\n          for (var i = 0, il = morphAttributesPosition.length; i < il; i++) {\n\n            var morphAttribute = morphAttributesPosition[i];\n            _boxMorphTargets.setFromBufferAttribute(morphAttribute);\n\n            if (this.morphTargetsRelative) {\n\n              _vector$5.addVectors(_box$2.min, _boxMorphTargets.min);\n              _box$2.expandByPoint(_vector$5);\n\n              _vector$5.addVectors(_box$2.max, _boxMorphTargets.max);\n              _box$2.expandByPoint(_vector$5);\n\n            } else {\n\n              _box$2.expandByPoint(_boxMorphTargets.min);\n              _box$2.expandByPoint(_boxMorphTargets.max);\n\n            }\n\n          }\n\n        }\n\n        _box$2.getCenter(center);\n\n        // second, try to find a boundingSphere with a radius smaller than the\n        // boundingSphere of the boundingBox: sqrt(3) smaller in the best case\n\n        var maxRadiusSq = 0;\n\n        for (var i = 0, il = position.count; i < il; i++) {\n\n          _vector$5.fromBufferAttribute(position, i);\n\n          maxRadiusSq = Math.max(maxRadiusSq, center.distanceToSquared(_vector$5));\n\n        }\n\n        // process morph attributes if present\n\n        if (morphAttributesPosition) {\n\n          for (var i = 0, il = morphAttributesPosition.length; i < il; i++) {\n\n            var morphAttribute = morphAttributesPosition[i];\n            var morphTargetsRelative = this.morphTargetsRelative;\n\n            for (var j = 0, jl = morphAttribute.count; j < jl; j++) {\n\n              _vector$5.fromBufferAttribute(morphAttribute, j);\n\n              if (morphTargetsRelative) {\n\n                _offset.fromBufferAttribute(position, j);\n                _vector$5.add(_offset);\n\n              }\n\n              maxRadiusSq = Math.max(maxRadiusSq, center.distanceToSquared(_vector$5));\n\n            }\n\n          }\n\n        }\n\n        this.boundingSphere.radius = Math.sqrt(maxRadiusSq);\n\n        if (isNaN(this.boundingSphere.radius)) {\n\n          console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \"position\" attribute is likely to have NaN values.', this);\n\n        }\n\n      }\n\n    },\n\n    computeFaceNormals: function() {\n\n      // backwards compatibility\n\n    },\n\n    computeVertexNormals: function() {\n\n      var index = this.index;\n      var attributes = this.attributes;\n\n      if (attributes.position) {\n\n        var positions = attributes.position.array;\n\n        if (attributes.normal === undefined) {\n\n          this.setAttribute('normal', new BufferAttribute(new Float32Array(positions.length), 3));\n\n        } else {\n\n          // reset existing normals to zero\n\n          var array = attributes.normal.array;\n\n          for (var i = 0, il = array.length; i < il; i++) {\n\n            array[i] = 0;\n\n          }\n\n        }\n\n        var normals = attributes.normal.array;\n\n        var vA, vB, vC;\n        var pA = new Vector3(),\n          pB = new Vector3(),\n          pC = new Vector3();\n        var cb = new Vector3(),\n          ab = new Vector3();\n\n        // indexed elements\n\n        if (index) {\n\n          var indices = index.array;\n\n          for (var i = 0, il = index.count; i < il; i += 3) {\n\n            vA = indices[i + 0] * 3;\n            vB = indices[i + 1] * 3;\n            vC = indices[i + 2] * 3;\n\n            pA.fromArray(positions, vA);\n            pB.fromArray(positions, vB);\n            pC.fromArray(positions, vC);\n\n            cb.subVectors(pC, pB);\n            ab.subVectors(pA, pB);\n            cb.cross(ab);\n\n            normals[vA] += cb.x;\n            normals[vA + 1] += cb.y;\n            normals[vA + 2] += cb.z;\n\n            normals[vB] += cb.x;\n            normals[vB + 1] += cb.y;\n            normals[vB + 2] += cb.z;\n\n            normals[vC] += cb.x;\n            normals[vC + 1] += cb.y;\n            normals[vC + 2] += cb.z;\n\n          }\n\n        } else {\n\n          // non-indexed elements (unconnected triangle soup)\n\n          for (var i = 0, il = positions.length; i < il; i += 9) {\n\n            pA.fromArray(positions, i);\n            pB.fromArray(positions, i + 3);\n            pC.fromArray(positions, i + 6);\n\n            cb.subVectors(pC, pB);\n            ab.subVectors(pA, pB);\n            cb.cross(ab);\n\n            normals[i] = cb.x;\n            normals[i + 1] = cb.y;\n            normals[i + 2] = cb.z;\n\n            normals[i + 3] = cb.x;\n            normals[i + 4] = cb.y;\n            normals[i + 5] = cb.z;\n\n            normals[i + 6] = cb.x;\n            normals[i + 7] = cb.y;\n            normals[i + 8] = cb.z;\n\n          }\n\n        }\n\n        this.normalizeNormals();\n\n        attributes.normal.needsUpdate = true;\n\n      }\n\n    },\n\n    merge: function(geometry, offset) {\n\n      if (!(geometry && geometry.isBufferGeometry)) {\n\n        console.error('THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.', geometry);\n        return;\n\n      }\n\n      if (offset === undefined) {\n\n        offset = 0;\n\n        console.warn(\n          'THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. ' +\n          'Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge.'\n        );\n\n      }\n\n      var attributes = this.attributes;\n\n      for (var key in attributes) {\n\n        if (geometry.attributes[key] === undefined) {\n          continue;\n        }\n\n        var attribute1 = attributes[key];\n        var attributeArray1 = attribute1.array;\n\n        var attribute2 = geometry.attributes[key];\n        var attributeArray2 = attribute2.array;\n\n        var attributeOffset = attribute2.itemSize * offset;\n        var length = Math.min(attributeArray2.length, attributeArray1.length - attributeOffset);\n\n        for (var i = 0, j = attributeOffset; i < length; i++, j++) {\n\n          attributeArray1[j] = attributeArray2[i];\n\n        }\n\n      }\n\n      return this;\n\n    },\n\n    normalizeNormals: function() {\n\n      var normals = this.attributes.normal;\n\n      for (var i = 0, il = normals.count; i < il; i++) {\n\n        _vector$5.x = normals.getX(i);\n        _vector$5.y = normals.getY(i);\n        _vector$5.z = normals.getZ(i);\n\n        _vector$5.normalize();\n\n        normals.setXYZ(i, _vector$5.x, _vector$5.y, _vector$5.z);\n\n      }\n\n    },\n\n    toNonIndexed: function() {\n\n      function convertBufferAttribute(attribute, indices) {\n\n        var array = attribute.array;\n        var itemSize = attribute.itemSize;\n\n        var array2 = new array.constructor(indices.length * itemSize);\n\n        var index = 0,\n          index2 = 0;\n\n        for (var i = 0, l = indices.length; i < l; i++) {\n\n          index = indices[i] * itemSize;\n\n          for (var j = 0; j < itemSize; j++) {\n\n            array2[index2++] = array[index++];\n\n          }\n\n        }\n\n        return new BufferAttribute(array2, itemSize);\n\n      }\n\n      //\n\n      if (this.index === null) {\n\n        console.warn('THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed.');\n        return this;\n\n      }\n\n      var geometry2 = new BufferGeometry();\n\n      var indices = this.index.array;\n      var attributes = this.attributes;\n\n      // attributes\n\n      for (var name in attributes) {\n\n        var attribute = attributes[name];\n\n        var newAttribute = convertBufferAttribute(attribute, indices);\n\n        geometry2.setAttribute(name, newAttribute);\n\n      }\n\n      // morph attributes\n\n      var morphAttributes = this.morphAttributes;\n\n      for (name in morphAttributes) {\n\n        var morphArray = [];\n        var morphAttribute = morphAttributes[name]; // morphAttribute: array of Float32BufferAttributes\n\n        for (var i = 0, il = morphAttribute.length; i < il; i++) {\n\n          var attribute = morphAttribute[i];\n\n          var newAttribute = convertBufferAttribute(attribute, indices);\n\n          morphArray.push(newAttribute);\n\n        }\n\n        geometry2.morphAttributes[name] = morphArray;\n\n      }\n\n      geometry2.morphTargetsRelative = this.morphTargetsRelative;\n\n      // groups\n\n      var groups = this.groups;\n\n      for (var i = 0, l = groups.length; i < l; i++) {\n\n        var group = groups[i];\n        geometry2.addGroup(group.start, group.count, group.materialIndex);\n\n      }\n\n      return geometry2;\n\n    },\n\n    toJSON: function() {\n\n      var data = {\n        metadata: {\n          version: 4.5,\n          type: 'BufferGeometry',\n          generator: 'BufferGeometry.toJSON'\n        }\n      };\n\n      // standard BufferGeometry serialization\n\n      data.uuid = this.uuid;\n      data.type = this.type;\n      if (this.name !== '') {\n        data.name = this.name;\n      }\n      if (Object.keys(this.userData).length > 0) {\n        data.userData = this.userData;\n      }\n\n      if (this.parameters !== undefined) {\n\n        var parameters = this.parameters;\n\n        for (var key in parameters) {\n\n          if (parameters[key] !== undefined) {\n            data[key] = parameters[key];\n          }\n\n        }\n\n        return data;\n\n      }\n\n      data.data = {\n        attributes: {}\n      };\n\n      var index = this.index;\n\n      if (index !== null) {\n\n        data.data.index = {\n          type: index.array.constructor.name,\n          array: Array.prototype.slice.call(index.array)\n        };\n\n      }\n\n      var attributes = this.attributes;\n\n      for (var key in attributes) {\n\n        var attribute = attributes[key];\n\n        var attributeData = attribute.toJSON();\n\n        if (attribute.name !== '') {\n          attributeData.name = attribute.name;\n        }\n\n        data.data.attributes[key] = attributeData;\n\n      }\n\n      var morphAttributes = {};\n      var hasMorphAttributes = false;\n\n      for (var key in this.morphAttributes) {\n\n        var attributeArray = this.morphAttributes[key];\n\n        var array = [];\n\n        for (var i = 0, il = attributeArray.length; i < il; i++) {\n\n          var attribute = attributeArray[i];\n\n          var attributeData = attribute.toJSON();\n\n          if (attribute.name !== '') {\n            attributeData.name = attribute.name;\n          }\n\n          array.push(attributeData);\n\n        }\n\n        if (array.length > 0) {\n\n          morphAttributes[key] = array;\n\n          hasMorphAttributes = true;\n\n        }\n\n      }\n\n      if (hasMorphAttributes) {\n\n        data.data.morphAttributes = morphAttributes;\n        data.data.morphTargetsRelative = this.morphTargetsRelative;\n\n      }\n\n      var groups = this.groups;\n\n      if (groups.length > 0) {\n\n        data.data.groups = JSON.parse(JSON.stringify(groups));\n\n      }\n\n      var boundingSphere = this.boundingSphere;\n\n      if (boundingSphere !== null) {\n\n        data.data.boundingSphere = {\n          center: boundingSphere.center.toArray(),\n          radius: boundingSphere.radius\n        };\n\n      }\n\n      return data;\n\n    },\n\n    clone: function() {\n\n      /*\n       // Handle primitives\n\n       var parameters = this.parameters;\n\n       if ( parameters !== undefined ) {\n\n       var values = [];\n\n       for ( var key in parameters ) {\n\n       values.push( parameters[ key ] );\n\n       }\n\n       var geometry = Object.create( this.constructor.prototype );\n       this.constructor.apply( geometry, values );\n       return geometry;\n\n       }\n\n       return new this.constructor().copy( this );\n       */\n\n      return new BufferGeometry().copy(this);\n\n    },\n\n    copy: function(source) {\n\n      var name, i, l;\n\n      // reset\n\n      this.index = null;\n      this.attributes = {};\n      this.morphAttributes = {};\n      this.groups = [];\n      this.boundingBox = null;\n      this.boundingSphere = null;\n\n      // name\n\n      this.name = source.name;\n\n      // index\n\n      var index = source.index;\n\n      if (index !== null) {\n\n        this.setIndex(index.clone());\n\n      }\n\n      // attributes\n\n      var attributes = source.attributes;\n\n      for (name in attributes) {\n\n        var attribute = attributes[name];\n        this.setAttribute(name, attribute.clone());\n\n      }\n\n      // morph attributes\n\n      var morphAttributes = source.morphAttributes;\n\n      for (name in morphAttributes) {\n\n        var array = [];\n        var morphAttribute = morphAttributes[name]; // morphAttribute: array of Float32BufferAttributes\n\n        for (i = 0, l = morphAttribute.length; i < l; i++) {\n\n          array.push(morphAttribute[i].clone());\n\n        }\n\n        this.morphAttributes[name] = array;\n\n      }\n\n      this.morphTargetsRelative = source.morphTargetsRelative;\n\n      // groups\n\n      var groups = source.groups;\n\n      for (i = 0, l = groups.length; i < l; i++) {\n\n        var group = groups[i];\n        this.addGroup(group.start, group.count, group.materialIndex);\n\n      }\n\n      // bounding box\n\n      var boundingBox = source.boundingBox;\n\n      if (boundingBox !== null) {\n\n        this.boundingBox = boundingBox.clone();\n\n      }\n\n      // bounding sphere\n\n      var boundingSphere = source.boundingSphere;\n\n      if (boundingSphere !== null) {\n\n        this.boundingSphere = boundingSphere.clone();\n\n      }\n\n      // draw range\n\n      this.drawRange.start = source.drawRange.start;\n      this.drawRange.count = source.drawRange.count;\n\n      // user data\n\n      this.userData = source.userData;\n\n      return this;\n\n    },\n\n    dispose: function() {\n\n      this.dispatchEvent({\n        type: 'dispose'\n      });\n\n    }\n\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author alteredq / http://alteredqualia.com/\n   * @author mikael emtinger / http://gomo.se/\n   * @author jonobr1 / http://jonobr1.com/\n   */\n\n  var _inverseMatrix = new Matrix4();\n  var _ray = new Ray();\n  var _sphere = new Sphere();\n\n  var _vA = new Vector3();\n  var _vB = new Vector3();\n  var _vC = new Vector3();\n\n  var _tempA = new Vector3();\n  var _tempB = new Vector3();\n  var _tempC = new Vector3();\n\n  var _morphA = new Vector3();\n  var _morphB = new Vector3();\n  var _morphC = new Vector3();\n\n  var _uvA = new Vector2();\n  var _uvB = new Vector2();\n  var _uvC = new Vector2();\n\n  var _intersectionPoint = new Vector3();\n  var _intersectionPointWorld = new Vector3();\n\n  function Mesh(geometry, material) {\n\n    Object3D.call(this);\n\n    this.type = 'Mesh';\n\n    this.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n    this.material = material !== undefined ? material : new MeshBasicMaterial({\n      color: Math.random() * 0xffffff\n    });\n\n    this.updateMorphTargets();\n\n  }\n\n  Mesh.prototype = Object.assign(Object.create(Object3D.prototype), {\n\n    constructor: Mesh,\n\n    isMesh: true,\n\n    copy: function(source) {\n\n      Object3D.prototype.copy.call(this, source);\n\n      if (source.morphTargetInfluences !== undefined) {\n\n        this.morphTargetInfluences = source.morphTargetInfluences.slice();\n\n      }\n\n      if (source.morphTargetDictionary !== undefined) {\n\n        this.morphTargetDictionary = Object.assign({}, source.morphTargetDictionary);\n\n      }\n\n      return this;\n\n    },\n\n    updateMorphTargets: function() {\n\n      var geometry = this.geometry;\n      var m, ml, name;\n\n      if (geometry.isBufferGeometry) {\n\n        var morphAttributes = geometry.morphAttributes;\n        var keys = Object.keys(morphAttributes);\n\n        if (keys.length > 0) {\n\n          var morphAttribute = morphAttributes[keys[0]];\n\n          if (morphAttribute !== undefined) {\n\n            this.morphTargetInfluences = [];\n            this.morphTargetDictionary = {};\n\n            for (m = 0, ml = morphAttribute.length; m < ml; m++) {\n\n              name = morphAttribute[m].name || String(m);\n\n              this.morphTargetInfluences.push(0);\n              this.morphTargetDictionary[name] = m;\n\n            }\n\n          }\n\n        }\n\n      } else {\n\n        var morphTargets = geometry.morphTargets;\n\n        if (morphTargets !== undefined && morphTargets.length > 0) {\n\n          console.error('THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.');\n\n        }\n\n      }\n\n    },\n\n    raycast: function(raycaster, intersects) {\n\n      var geometry = this.geometry;\n      var material = this.material;\n      var matrixWorld = this.matrixWorld;\n\n      if (material === undefined) {\n        return;\n      }\n\n      // Checking boundingSphere distance to ray\n\n      if (geometry.boundingSphere === null) {\n        geometry.computeBoundingSphere();\n      }\n\n      _sphere.copy(geometry.boundingSphere);\n      _sphere.applyMatrix4(matrixWorld);\n\n      if (raycaster.ray.intersectsSphere(_sphere) === false) {\n        return;\n      }\n\n      //\n\n      _inverseMatrix.getInverse(matrixWorld);\n      _ray.copy(raycaster.ray).applyMatrix4(_inverseMatrix);\n\n      // Check boundingBox before continuing\n\n      if (geometry.boundingBox !== null) {\n\n        if (_ray.intersectsBox(geometry.boundingBox) === false) {\n          return;\n        }\n\n      }\n\n      var intersection;\n\n      if (geometry.isBufferGeometry) {\n\n        var a, b, c;\n        var index = geometry.index;\n        var position = geometry.attributes.position;\n        var morphPosition = geometry.morphAttributes.position;\n        var morphTargetsRelative = geometry.morphTargetsRelative;\n        var uv = geometry.attributes.uv;\n        var uv2 = geometry.attributes.uv2;\n        var groups = geometry.groups;\n        var drawRange = geometry.drawRange;\n        var i, j, il, jl;\n        var group, groupMaterial;\n        var start, end;\n\n        if (index !== null) {\n\n          // indexed buffer geometry\n\n          if (Array.isArray(material)) {\n\n            for (i = 0, il = groups.length; i < il; i++) {\n\n              group = groups[i];\n              groupMaterial = material[group.materialIndex];\n\n              start = Math.max(group.start, drawRange.start);\n              end = Math.min((group.start + group.count), (drawRange.start + drawRange.count));\n\n              for (j = start, jl = end; j < jl; j += 3) {\n\n                a = index.getX(j);\n                b = index.getX(j + 1);\n                c = index.getX(j + 2);\n\n                intersection = checkBufferGeometryIntersection(this, groupMaterial, raycaster, _ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c);\n\n                if (intersection) {\n\n                  intersection.faceIndex = Math.floor(j / 3); // triangle number in indexed buffer semantics\n                  intersection.face.materialIndex = group.materialIndex;\n                  intersects.push(intersection);\n\n                }\n\n              }\n\n            }\n\n          } else {\n\n            start = Math.max(0, drawRange.start);\n            end = Math.min(index.count, (drawRange.start + drawRange.count));\n\n            for (i = start, il = end; i < il; i += 3) {\n\n              a = index.getX(i);\n              b = index.getX(i + 1);\n              c = index.getX(i + 2);\n\n              intersection = checkBufferGeometryIntersection(this, material, raycaster, _ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c);\n\n              if (intersection) {\n\n                intersection.faceIndex = Math.floor(i / 3); // triangle number in indexed buffer semantics\n                intersects.push(intersection);\n\n              }\n\n            }\n\n          }\n\n        } else if (position !== undefined) {\n\n          // non-indexed buffer geometry\n\n          if (Array.isArray(material)) {\n\n            for (i = 0, il = groups.length; i < il; i++) {\n\n              group = groups[i];\n              groupMaterial = material[group.materialIndex];\n\n              start = Math.max(group.start, drawRange.start);\n              end = Math.min((group.start + group.count), (drawRange.start + drawRange.count));\n\n              for (j = start, jl = end; j < jl; j += 3) {\n\n                a = j;\n                b = j + 1;\n                c = j + 2;\n\n                intersection = checkBufferGeometryIntersection(this, groupMaterial, raycaster, _ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c);\n\n                if (intersection) {\n\n                  intersection.faceIndex = Math.floor(j / 3); // triangle number in non-indexed buffer semantics\n                  intersection.face.materialIndex = group.materialIndex;\n                  intersects.push(intersection);\n\n                }\n\n              }\n\n            }\n\n          } else {\n\n            start = Math.max(0, drawRange.start);\n            end = Math.min(position.count, (drawRange.start + drawRange.count));\n\n            for (i = start, il = end; i < il; i += 3) {\n\n              a = i;\n              b = i + 1;\n              c = i + 2;\n\n              intersection = checkBufferGeometryIntersection(this, material, raycaster, _ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c);\n\n              if (intersection) {\n\n                intersection.faceIndex = Math.floor(i / 3); // triangle number in non-indexed buffer semantics\n                intersects.push(intersection);\n\n              }\n\n            }\n\n          }\n\n        }\n\n      } else if (geometry.isGeometry) {\n\n        var fvA, fvB, fvC;\n        var isMultiMaterial = Array.isArray(material);\n\n        var vertices = geometry.vertices;\n        var faces = geometry.faces;\n        var uvs;\n\n        var faceVertexUvs = geometry.faceVertexUvs[0];\n        if (faceVertexUvs.length > 0) {\n          uvs = faceVertexUvs;\n        }\n\n        for (var f = 0, fl = faces.length; f < fl; f++) {\n\n          var face = faces[f];\n          var faceMaterial = isMultiMaterial ? material[face.materialIndex] : material;\n\n          if (faceMaterial === undefined) {\n            continue;\n          }\n\n          fvA = vertices[face.a];\n          fvB = vertices[face.b];\n          fvC = vertices[face.c];\n\n          intersection = checkIntersection(this, faceMaterial, raycaster, _ray, fvA, fvB, fvC, _intersectionPoint);\n\n          if (intersection) {\n\n            if (uvs && uvs[f]) {\n\n              var uvs_f = uvs[f];\n              _uvA.copy(uvs_f[0]);\n              _uvB.copy(uvs_f[1]);\n              _uvC.copy(uvs_f[2]);\n\n              intersection.uv = Triangle.getUV(_intersectionPoint, fvA, fvB, fvC, _uvA, _uvB, _uvC, new Vector2());\n\n            }\n\n            intersection.face = face;\n            intersection.faceIndex = f;\n            intersects.push(intersection);\n\n          }\n\n        }\n\n      }\n\n    },\n\n    clone: function() {\n\n      return new this.constructor(this.geometry, this.material).copy(this);\n\n    }\n\n  });\n\n  function checkIntersection(object, material, raycaster, ray, pA, pB, pC, point) {\n\n    var intersect;\n\n    if (material.side === BackSide) {\n\n      intersect = ray.intersectTriangle(pC, pB, pA, true, point);\n\n    } else {\n\n      intersect = ray.intersectTriangle(pA, pB, pC, material.side !== DoubleSide, point);\n\n    }\n\n    if (intersect === null) {\n      return null;\n    }\n\n    _intersectionPointWorld.copy(point);\n    _intersectionPointWorld.applyMatrix4(object.matrixWorld);\n\n    var distance = raycaster.ray.origin.distanceTo(_intersectionPointWorld);\n\n    if (distance < raycaster.near || distance > raycaster.far) {\n      return null;\n    }\n\n    return {\n      distance: distance,\n      point: _intersectionPointWorld.clone(),\n      object: object\n    };\n\n  }\n\n  function checkBufferGeometryIntersection(object, material, raycaster, ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c) {\n\n    _vA.fromBufferAttribute(position, a);\n    _vB.fromBufferAttribute(position, b);\n    _vC.fromBufferAttribute(position, c);\n\n    var morphInfluences = object.morphTargetInfluences;\n\n    if (material.morphTargets && morphPosition && morphInfluences) {\n\n      _morphA.set(0, 0, 0);\n      _morphB.set(0, 0, 0);\n      _morphC.set(0, 0, 0);\n\n      for (var i = 0, il = morphPosition.length; i < il; i++) {\n\n        var influence = morphInfluences[i];\n        var morphAttribute = morphPosition[i];\n\n        if (influence === 0) {\n          continue;\n        }\n\n        _tempA.fromBufferAttribute(morphAttribute, a);\n        _tempB.fromBufferAttribute(morphAttribute, b);\n        _tempC.fromBufferAttribute(morphAttribute, c);\n\n        if (morphTargetsRelative) {\n\n          _morphA.addScaledVector(_tempA, influence);\n          _morphB.addScaledVector(_tempB, influence);\n          _morphC.addScaledVector(_tempC, influence);\n\n        } else {\n\n          _morphA.addScaledVector(_tempA.sub(_vA), influence);\n          _morphB.addScaledVector(_tempB.sub(_vB), influence);\n          _morphC.addScaledVector(_tempC.sub(_vC), influence);\n\n        }\n\n      }\n\n      _vA.add(_morphA);\n      _vB.add(_morphB);\n      _vC.add(_morphC);\n\n    }\n\n    var intersection = checkIntersection(object, material, raycaster, ray, _vA, _vB, _vC, _intersectionPoint);\n\n    if (intersection) {\n\n      if (uv) {\n\n        _uvA.fromBufferAttribute(uv, a);\n        _uvB.fromBufferAttribute(uv, b);\n        _uvC.fromBufferAttribute(uv, c);\n\n        intersection.uv = Triangle.getUV(_intersectionPoint, _vA, _vB, _vC, _uvA, _uvB, _uvC, new Vector2());\n\n      }\n\n      if (uv2) {\n\n        _uvA.fromBufferAttribute(uv2, a);\n        _uvB.fromBufferAttribute(uv2, b);\n        _uvC.fromBufferAttribute(uv2, c);\n\n        intersection.uv2 = Triangle.getUV(_intersectionPoint, _vA, _vB, _vC, _uvA, _uvB, _uvC, new Vector2());\n\n      }\n\n      var face = new Face3(a, b, c);\n      Triangle.getNormal(_vA, _vB, _vC, face.normal);\n\n      intersection.face = face;\n\n    }\n\n    return intersection;\n\n  }\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author kile / http://kile.stravaganza.org/\n   * @author alteredq / http://alteredqualia.com/\n   * @author mikael emtinger / http://gomo.se/\n   * @author zz85 / http://www.lab4games.net/zz85/blog\n   * @author bhouston / http://clara.io\n   */\n\n  var _geometryId = 0; // Geometry uses even numbers as Id\n  var _m1$3 = new Matrix4();\n  var _obj$1 = new Object3D();\n  var _offset$1 = new Vector3();\n\n  function Geometry() {\n\n    Object.defineProperty(this, 'id', {\n      value: _geometryId += 2\n    });\n\n    this.uuid = _Math.generateUUID();\n\n    this.name = '';\n    this.type = 'Geometry';\n\n    this.vertices = [];\n    this.colors = [];\n    this.faces = [];\n    this.faceVertexUvs = [\n      []\n    ];\n\n    this.morphTargets = [];\n    this.morphNormals = [];\n\n    this.skinWeights = [];\n    this.skinIndices = [];\n\n    this.lineDistances = [];\n\n    this.boundingBox = null;\n    this.boundingSphere = null;\n\n    // update flags\n\n    this.elementsNeedUpdate = false;\n    this.verticesNeedUpdate = false;\n    this.uvsNeedUpdate = false;\n    this.normalsNeedUpdate = false;\n    this.colorsNeedUpdate = false;\n    this.lineDistancesNeedUpdate = false;\n    this.groupsNeedUpdate = false;\n\n  }\n\n  Geometry.prototype = Object.assign(Object.create(EventDispatcher.prototype), {\n\n    constructor: Geometry,\n\n    isGeometry: true,\n\n    applyMatrix: function(matrix) {\n\n      var normalMatrix = new Matrix3().getNormalMatrix(matrix);\n\n      for (var i = 0, il = this.vertices.length; i < il; i++) {\n\n        var vertex = this.vertices[i];\n        vertex.applyMatrix4(matrix);\n\n      }\n\n      for (var i = 0, il = this.faces.length; i < il; i++) {\n\n        var face = this.faces[i];\n        face.normal.applyMatrix3(normalMatrix).normalize();\n\n        for (var j = 0, jl = face.vertexNormals.length; j < jl; j++) {\n\n          face.vertexNormals[j].applyMatrix3(normalMatrix).normalize();\n\n        }\n\n      }\n\n      if (this.boundingBox !== null) {\n\n        this.computeBoundingBox();\n\n      }\n\n      if (this.boundingSphere !== null) {\n\n        this.computeBoundingSphere();\n\n      }\n\n      this.verticesNeedUpdate = true;\n      this.normalsNeedUpdate = true;\n\n      return this;\n\n    },\n\n    rotateX: function(angle) {\n\n      // rotate geometry around world x-axis\n\n      _m1$3.makeRotationX(angle);\n\n      this.applyMatrix(_m1$3);\n\n      return this;\n\n    },\n\n    rotateY: function(angle) {\n\n      // rotate geometry around world y-axis\n\n      _m1$3.makeRotationY(angle);\n\n      this.applyMatrix(_m1$3);\n\n      return this;\n\n    },\n\n    rotateZ: function(angle) {\n\n      // rotate geometry around world z-axis\n\n      _m1$3.makeRotationZ(angle);\n\n      this.applyMatrix(_m1$3);\n\n      return this;\n\n    },\n\n    translate: function(x, y, z) {\n\n      // translate geometry\n\n      _m1$3.makeTranslation(x, y, z);\n\n      this.applyMatrix(_m1$3);\n\n      return this;\n\n    },\n\n    scale: function(x, y, z) {\n\n      // scale geometry\n\n      _m1$3.makeScale(x, y, z);\n\n      this.applyMatrix(_m1$3);\n\n      return this;\n\n    },\n\n    lookAt: function(vector) {\n\n      _obj$1.lookAt(vector);\n\n      _obj$1.updateMatrix();\n\n      this.applyMatrix(_obj$1.matrix);\n\n      return this;\n\n    },\n\n    fromBufferGeometry: function(geometry) {\n\n      var scope = this;\n\n      var indices = geometry.index !== null ? geometry.index.array : undefined;\n      var attributes = geometry.attributes;\n\n      if (attributes.position === undefined) {\n\n        console.error('THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion.');\n        return this;\n\n      }\n\n      var positions = attributes.position.array;\n      var normals = attributes.normal !== undefined ? attributes.normal.array : undefined;\n      var colors = attributes.color !== undefined ? attributes.color.array : undefined;\n      var uvs = attributes.uv !== undefined ? attributes.uv.array : undefined;\n      var uvs2 = attributes.uv2 !== undefined ? attributes.uv2.array : undefined;\n\n      if (uvs2 !== undefined) {\n        this.faceVertexUvs[1] = [];\n      }\n\n      for (var i = 0; i < positions.length; i += 3) {\n\n        scope.vertices.push(new Vector3().fromArray(positions, i));\n\n        if (colors !== undefined) {\n\n          scope.colors.push(new Color().fromArray(colors, i));\n\n        }\n\n      }\n\n      function addFace(a, b, c, materialIndex) {\n\n        var vertexColors = (colors === undefined) ? [] : [\n          scope.colors[a].clone(),\n          scope.colors[b].clone(),\n          scope.colors[c].clone()\n        ];\n\n        var vertexNormals = (normals === undefined) ? [] : [\n          new Vector3().fromArray(normals, a * 3),\n          new Vector3().fromArray(normals, b * 3),\n          new Vector3().fromArray(normals, c * 3)\n        ];\n\n        var face = new Face3(a, b, c, vertexNormals, vertexColors, materialIndex);\n\n        scope.faces.push(face);\n\n        if (uvs !== undefined) {\n\n          scope.faceVertexUvs[0].push([\n            new Vector2().fromArray(uvs, a * 2),\n            new Vector2().fromArray(uvs, b * 2),\n            new Vector2().fromArray(uvs, c * 2)\n          ]);\n\n        }\n\n        if (uvs2 !== undefined) {\n\n          scope.faceVertexUvs[1].push([\n            new Vector2().fromArray(uvs2, a * 2),\n            new Vector2().fromArray(uvs2, b * 2),\n            new Vector2().fromArray(uvs2, c * 2)\n          ]);\n\n        }\n\n      }\n\n      var groups = geometry.groups;\n\n      if (groups.length > 0) {\n\n        for (var i = 0; i < groups.length; i++) {\n\n          var group = groups[i];\n\n          var start = group.start;\n          var count = group.count;\n\n          for (var j = start, jl = start + count; j < jl; j += 3) {\n\n            if (indices !== undefined) {\n\n              addFace(indices[j], indices[j + 1], indices[j + 2], group.materialIndex);\n\n            } else {\n\n              addFace(j, j + 1, j + 2, group.materialIndex);\n\n            }\n\n          }\n\n        }\n\n      } else {\n\n        if (indices !== undefined) {\n\n          for (var i = 0; i < indices.length; i += 3) {\n\n            addFace(indices[i], indices[i + 1], indices[i + 2]);\n\n          }\n\n        } else {\n\n          for (var i = 0; i < positions.length / 3; i += 3) {\n\n            addFace(i, i + 1, i + 2);\n\n          }\n\n        }\n\n      }\n\n      this.computeFaceNormals();\n\n      if (geometry.boundingBox !== null) {\n\n        this.boundingBox = geometry.boundingBox.clone();\n\n      }\n\n      if (geometry.boundingSphere !== null) {\n\n        this.boundingSphere = geometry.boundingSphere.clone();\n\n      }\n\n      return this;\n\n    },\n\n    center: function() {\n\n      this.computeBoundingBox();\n\n      this.boundingBox.getCenter(_offset$1).negate();\n\n      this.translate(_offset$1.x, _offset$1.y, _offset$1.z);\n\n      return this;\n\n    },\n\n    normalize: function() {\n\n      this.computeBoundingSphere();\n\n      var center = this.boundingSphere.center;\n      var radius = this.boundingSphere.radius;\n\n      var s = radius === 0 ? 1 : 1.0 / radius;\n\n      var matrix = new Matrix4();\n      matrix.set(\n        s, 0, 0, -s * center.x,\n        0, s, 0, -s * center.y,\n        0, 0, s, -s * center.z,\n        0, 0, 0, 1\n      );\n\n      this.applyMatrix(matrix);\n\n      return this;\n\n    },\n\n    computeFaceNormals: function() {\n\n      var cb = new Vector3(),\n        ab = new Vector3();\n\n      for (var f = 0, fl = this.faces.length; f < fl; f++) {\n\n        var face = this.faces[f];\n\n        var vA = this.vertices[face.a];\n        var vB = this.vertices[face.b];\n        var vC = this.vertices[face.c];\n\n        cb.subVectors(vC, vB);\n        ab.subVectors(vA, vB);\n        cb.cross(ab);\n\n        cb.normalize();\n\n        face.normal.copy(cb);\n\n      }\n\n    },\n\n    computeVertexNormals: function(areaWeighted) {\n\n      if (areaWeighted === undefined) {\n        areaWeighted = true;\n      }\n\n      var v, vl, f, fl, face, vertices;\n\n      vertices = new Array(this.vertices.length);\n\n      for (v = 0, vl = this.vertices.length; v < vl; v++) {\n\n        vertices[v] = new Vector3();\n\n      }\n\n      if (areaWeighted) {\n\n        // vertex normals weighted by triangle areas\n        // http://www.iquilezles.org/www/articles/normals/normals.htm\n\n        var vA, vB, vC;\n        var cb = new Vector3(),\n          ab = new Vector3();\n\n        for (f = 0, fl = this.faces.length; f < fl; f++) {\n\n          face = this.faces[f];\n\n          vA = this.vertices[face.a];\n          vB = this.vertices[face.b];\n          vC = this.vertices[face.c];\n\n          cb.subVectors(vC, vB);\n          ab.subVectors(vA, vB);\n          cb.cross(ab);\n\n          vertices[face.a].add(cb);\n          vertices[face.b].add(cb);\n          vertices[face.c].add(cb);\n\n        }\n\n      } else {\n\n        this.computeFaceNormals();\n\n        for (f = 0, fl = this.faces.length; f < fl; f++) {\n\n          face = this.faces[f];\n\n          vertices[face.a].add(face.normal);\n          vertices[face.b].add(face.normal);\n          vertices[face.c].add(face.normal);\n\n        }\n\n      }\n\n      for (v = 0, vl = this.vertices.length; v < vl; v++) {\n\n        vertices[v].normalize();\n\n      }\n\n      for (f = 0, fl = this.faces.length; f < fl; f++) {\n\n        face = this.faces[f];\n\n        var vertexNormals = face.vertexNormals;\n\n        if (vertexNormals.length === 3) {\n\n          vertexNormals[0].copy(vertices[face.a]);\n          vertexNormals[1].copy(vertices[face.b]);\n          vertexNormals[2].copy(vertices[face.c]);\n\n        } else {\n\n          vertexNormals[0] = vertices[face.a].clone();\n          vertexNormals[1] = vertices[face.b].clone();\n          vertexNormals[2] = vertices[face.c].clone();\n\n        }\n\n      }\n\n      if (this.faces.length > 0) {\n\n        this.normalsNeedUpdate = true;\n\n      }\n\n    },\n\n    computeFlatVertexNormals: function() {\n\n      var f, fl, face;\n\n      this.computeFaceNormals();\n\n      for (f = 0, fl = this.faces.length; f < fl; f++) {\n\n        face = this.faces[f];\n\n        var vertexNormals = face.vertexNormals;\n\n        if (vertexNormals.length === 3) {\n\n          vertexNormals[0].copy(face.normal);\n          vertexNormals[1].copy(face.normal);\n          vertexNormals[2].copy(face.normal);\n\n        } else {\n\n          vertexNormals[0] = face.normal.clone();\n          vertexNormals[1] = face.normal.clone();\n          vertexNormals[2] = face.normal.clone();\n\n        }\n\n      }\n\n      if (this.faces.length > 0) {\n\n        this.normalsNeedUpdate = true;\n\n      }\n\n    },\n\n    computeMorphNormals: function() {\n\n      var i, il, f, fl, face;\n\n      // save original normals\n      // - create temp variables on first access\n      //   otherwise just copy (for faster repeated calls)\n\n      for (f = 0, fl = this.faces.length; f < fl; f++) {\n\n        face = this.faces[f];\n\n        if (!face.__originalFaceNormal) {\n\n          face.__originalFaceNormal = face.normal.clone();\n\n        } else {\n\n          face.__originalFaceNormal.copy(face.normal);\n\n        }\n\n        if (!face.__originalVertexNormals) {\n          face.__originalVertexNormals = [];\n        }\n\n        for (i = 0, il = face.vertexNormals.length; i < il; i++) {\n\n          if (!face.__originalVertexNormals[i]) {\n\n            face.__originalVertexNormals[i] = face.vertexNormals[i].clone();\n\n          } else {\n\n            face.__originalVertexNormals[i].copy(face.vertexNormals[i]);\n\n          }\n\n        }\n\n      }\n\n      // use temp geometry to compute face and vertex normals for each morph\n\n      var tmpGeo = new Geometry();\n      tmpGeo.faces = this.faces;\n\n      for (i = 0, il = this.morphTargets.length; i < il; i++) {\n\n        // create on first access\n\n        if (!this.morphNormals[i]) {\n\n          this.morphNormals[i] = {};\n          this.morphNormals[i].faceNormals = [];\n          this.morphNormals[i].vertexNormals = [];\n\n          var dstNormalsFace = this.morphNormals[i].faceNormals;\n          var dstNormalsVertex = this.morphNormals[i].vertexNormals;\n\n          var faceNormal, vertexNormals;\n\n          for (f = 0, fl = this.faces.length; f < fl; f++) {\n\n            faceNormal = new Vector3();\n            vertexNormals = {\n              a: new Vector3(),\n              b: new Vector3(),\n              c: new Vector3()\n            };\n\n            dstNormalsFace.push(faceNormal);\n            dstNormalsVertex.push(vertexNormals);\n\n          }\n\n        }\n\n        var morphNormals = this.morphNormals[i];\n\n        // set vertices to morph target\n\n        tmpGeo.vertices = this.morphTargets[i].vertices;\n\n        // compute morph normals\n\n        tmpGeo.computeFaceNormals();\n        tmpGeo.computeVertexNormals();\n\n        // store morph normals\n\n        var faceNormal, vertexNormals;\n\n        for (f = 0, fl = this.faces.length; f < fl; f++) {\n\n          face = this.faces[f];\n\n          faceNormal = morphNormals.faceNormals[f];\n          vertexNormals = morphNormals.vertexNormals[f];\n\n          faceNormal.copy(face.normal);\n\n          vertexNormals.a.copy(face.vertexNormals[0]);\n          vertexNormals.b.copy(face.vertexNormals[1]);\n          vertexNormals.c.copy(face.vertexNormals[2]);\n\n        }\n\n      }\n\n      // restore original normals\n\n      for (f = 0, fl = this.faces.length; f < fl; f++) {\n\n        face = this.faces[f];\n\n        face.normal = face.__originalFaceNormal;\n        face.vertexNormals = face.__originalVertexNormals;\n\n      }\n\n    },\n\n    computeBoundingBox: function() {\n\n      if (this.boundingBox === null) {\n\n        this.boundingBox = new Box3();\n\n      }\n\n      this.boundingBox.setFromPoints(this.vertices);\n\n    },\n\n    computeBoundingSphere: function() {\n\n      if (this.boundingSphere === null) {\n\n        this.boundingSphere = new Sphere();\n\n      }\n\n      this.boundingSphere.setFromPoints(this.vertices);\n\n    },\n\n    merge: function(geometry, matrix, materialIndexOffset) {\n\n      if (!(geometry && geometry.isGeometry)) {\n\n        console.error('THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.', geometry);\n        return;\n\n      }\n\n      var normalMatrix,\n        vertexOffset = this.vertices.length,\n        vertices1 = this.vertices,\n        vertices2 = geometry.vertices,\n        faces1 = this.faces,\n        faces2 = geometry.faces,\n        colors1 = this.colors,\n        colors2 = geometry.colors;\n\n      if (materialIndexOffset === undefined) {\n        materialIndexOffset = 0;\n      }\n\n      if (matrix !== undefined) {\n\n        normalMatrix = new Matrix3().getNormalMatrix(matrix);\n\n      }\n\n      // vertices\n\n      for (var i = 0, il = vertices2.length; i < il; i++) {\n\n        var vertex = vertices2[i];\n\n        var vertexCopy = vertex.clone();\n\n        if (matrix !== undefined) {\n          vertexCopy.applyMatrix4(matrix);\n        }\n\n        vertices1.push(vertexCopy);\n\n      }\n\n      // colors\n\n      for (var i = 0, il = colors2.length; i < il; i++) {\n\n        colors1.push(colors2[i].clone());\n\n      }\n\n      // faces\n\n      for (i = 0, il = faces2.length; i < il; i++) {\n\n        var face = faces2[i],\n          faceCopy, normal, color,\n          faceVertexNormals = face.vertexNormals,\n          faceVertexColors = face.vertexColors;\n\n        faceCopy = new Face3(face.a + vertexOffset, face.b + vertexOffset, face.c + vertexOffset);\n        faceCopy.normal.copy(face.normal);\n\n        if (normalMatrix !== undefined) {\n\n          faceCopy.normal.applyMatrix3(normalMatrix).normalize();\n\n        }\n\n        for (var j = 0, jl = faceVertexNormals.length; j < jl; j++) {\n\n          normal = faceVertexNormals[j].clone();\n\n          if (normalMatrix !== undefined) {\n\n            normal.applyMatrix3(normalMatrix).normalize();\n\n          }\n\n          faceCopy.vertexNormals.push(normal);\n\n        }\n\n        faceCopy.color.copy(face.color);\n\n        for (var j = 0, jl = faceVertexColors.length; j < jl; j++) {\n\n          color = faceVertexColors[j];\n          faceCopy.vertexColors.push(color.clone());\n\n        }\n\n        faceCopy.materialIndex = face.materialIndex + materialIndexOffset;\n\n        faces1.push(faceCopy);\n\n      }\n\n      // uvs\n\n      for (var i = 0, il = geometry.faceVertexUvs.length; i < il; i++) {\n\n        var faceVertexUvs2 = geometry.faceVertexUvs[i];\n\n        if (this.faceVertexUvs[i] === undefined) {\n          this.faceVertexUvs[i] = [];\n        }\n\n        for (var j = 0, jl = faceVertexUvs2.length; j < jl; j++) {\n\n          var uvs2 = faceVertexUvs2[j],\n            uvsCopy = [];\n\n          for (var k = 0, kl = uvs2.length; k < kl; k++) {\n\n            uvsCopy.push(uvs2[k].clone());\n\n          }\n\n          this.faceVertexUvs[i].push(uvsCopy);\n\n        }\n\n      }\n\n    },\n\n    mergeMesh: function(mesh) {\n\n      if (!(mesh && mesh.isMesh)) {\n\n        console.error('THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.', mesh);\n        return;\n\n      }\n\n      if (mesh.matrixAutoUpdate) {\n        mesh.updateMatrix();\n      }\n\n      this.merge(mesh.geometry, mesh.matrix);\n\n    },\n\n    /*\n     * Checks for duplicate vertices with hashmap.\n     * Duplicated vertices are removed\n     * and faces' vertices are updated.\n     */\n\n    mergeVertices: function() {\n\n      var verticesMap = {}; // Hashmap for looking up vertices by position coordinates (and making sure they are unique)\n      var unique = [],\n        changes = [];\n\n      var v, key;\n      var precisionPoints = 4; // number of decimal points, e.g. 4 for epsilon of 0.0001\n      var precision = Math.pow(10, precisionPoints);\n      var i, il, face;\n      var indices, j, jl;\n\n      for (i = 0, il = this.vertices.length; i < il; i++) {\n\n        v = this.vertices[i];\n        key = Math.round(v.x * precision) + '_' + Math.round(v.y * precision) + '_' + Math.round(v.z * precision);\n\n        if (verticesMap[key] === undefined) {\n\n          verticesMap[key] = i;\n          unique.push(this.vertices[i]);\n          changes[i] = unique.length - 1;\n\n        } else {\n\n          //console.log('Duplicate vertex found. ', i, ' could be using ', verticesMap[key]);\n          changes[i] = changes[verticesMap[key]];\n\n        }\n\n      }\n\n\n      // if faces are completely degenerate after merging vertices, we\n      // have to remove them from the geometry.\n      var faceIndicesToRemove = [];\n\n      for (i = 0, il = this.faces.length; i < il; i++) {\n\n        face = this.faces[i];\n\n        face.a = changes[face.a];\n        face.b = changes[face.b];\n        face.c = changes[face.c];\n\n        indices = [face.a, face.b, face.c];\n\n        // if any duplicate vertices are found in a Face3\n        // we have to remove the face as nothing can be saved\n        for (var n = 0; n < 3; n++) {\n\n          if (indices[n] === indices[(n + 1) % 3]) {\n\n            faceIndicesToRemove.push(i);\n            break;\n\n          }\n\n        }\n\n      }\n\n      for (i = faceIndicesToRemove.length - 1; i >= 0; i--) {\n\n        var idx = faceIndicesToRemove[i];\n\n        this.faces.splice(idx, 1);\n\n        for (j = 0, jl = this.faceVertexUvs.length; j < jl; j++) {\n\n          this.faceVertexUvs[j].splice(idx, 1);\n\n        }\n\n      }\n\n      // Use unique set of vertices\n\n      var diff = this.vertices.length - unique.length;\n      this.vertices = unique;\n      return diff;\n\n    },\n\n    setFromPoints: function(points) {\n\n      this.vertices = [];\n\n      for (var i = 0, l = points.length; i < l; i++) {\n\n        var point = points[i];\n        this.vertices.push(new Vector3(point.x, point.y, point.z || 0));\n\n      }\n\n      return this;\n\n    },\n\n    sortFacesByMaterialIndex: function() {\n\n      var faces = this.faces;\n      var length = faces.length;\n\n      // tag faces\n\n      for (var i = 0; i < length; i++) {\n\n        faces[i]._id = i;\n\n      }\n\n      // sort faces\n\n      function materialIndexSort(a, b) {\n\n        return a.materialIndex - b.materialIndex;\n\n      }\n\n      faces.sort(materialIndexSort);\n\n      // sort uvs\n\n      var uvs1 = this.faceVertexUvs[0];\n      var uvs2 = this.faceVertexUvs[1];\n\n      var newUvs1, newUvs2;\n\n      if (uvs1 && uvs1.length === length) {\n        newUvs1 = [];\n      }\n      if (uvs2 && uvs2.length === length) {\n        newUvs2 = [];\n      }\n\n      for (var i = 0; i < length; i++) {\n\n        var id = faces[i]._id;\n\n        if (newUvs1) {\n          newUvs1.push(uvs1[id]);\n        }\n        if (newUvs2) {\n          newUvs2.push(uvs2[id]);\n        }\n\n      }\n\n      if (newUvs1) {\n        this.faceVertexUvs[0] = newUvs1;\n      }\n      if (newUvs2) {\n        this.faceVertexUvs[1] = newUvs2;\n      }\n\n    },\n\n    toJSON: function() {\n\n      var data = {\n        metadata: {\n          version: 4.5,\n          type: 'Geometry',\n          generator: 'Geometry.toJSON'\n        }\n      };\n\n      // standard Geometry serialization\n\n      data.uuid = this.uuid;\n      data.type = this.type;\n      if (this.name !== '') {\n        data.name = this.name;\n      }\n\n      if (this.parameters !== undefined) {\n\n        var parameters = this.parameters;\n\n        for (var key in parameters) {\n\n          if (parameters[key] !== undefined) {\n            data[key] = parameters[key];\n          }\n\n        }\n\n        return data;\n\n      }\n\n      var vertices = [];\n\n      for (var i = 0; i < this.vertices.length; i++) {\n\n        var vertex = this.vertices[i];\n        vertices.push(vertex.x, vertex.y, vertex.z);\n\n      }\n\n      var faces = [];\n      var normals = [];\n      var normalsHash = {};\n      var colors = [];\n      var colorsHash = {};\n      var uvs = [];\n      var uvsHash = {};\n\n      for (var i = 0; i < this.faces.length; i++) {\n\n        var face = this.faces[i];\n\n        var hasMaterial = true;\n        var hasFaceUv = false; // deprecated\n        var hasFaceVertexUv = this.faceVertexUvs[0][i] !== undefined;\n        var hasFaceNormal = face.normal.length() > 0;\n        var hasFaceVertexNormal = face.vertexNormals.length > 0;\n        var hasFaceColor = face.color.r !== 1 || face.color.g !== 1 || face.color.b !== 1;\n        var hasFaceVertexColor = face.vertexColors.length > 0;\n\n        var faceType = 0;\n\n        faceType = setBit(faceType, 0, 0); // isQuad\n        faceType = setBit(faceType, 1, hasMaterial);\n        faceType = setBit(faceType, 2, hasFaceUv);\n        faceType = setBit(faceType, 3, hasFaceVertexUv);\n        faceType = setBit(faceType, 4, hasFaceNormal);\n        faceType = setBit(faceType, 5, hasFaceVertexNormal);\n        faceType = setBit(faceType, 6, hasFaceColor);\n        faceType = setBit(faceType, 7, hasFaceVertexColor);\n\n        faces.push(faceType);\n        faces.push(face.a, face.b, face.c);\n        faces.push(face.materialIndex);\n\n        if (hasFaceVertexUv) {\n\n          var faceVertexUvs = this.faceVertexUvs[0][i];\n\n          faces.push(\n            getUvIndex(faceVertexUvs[0]),\n            getUvIndex(faceVertexUvs[1]),\n            getUvIndex(faceVertexUvs[2])\n          );\n\n        }\n\n        if (hasFaceNormal) {\n\n          faces.push(getNormalIndex(face.normal));\n\n        }\n\n        if (hasFaceVertexNormal) {\n\n          var vertexNormals = face.vertexNormals;\n\n          faces.push(\n            getNormalIndex(vertexNormals[0]),\n            getNormalIndex(vertexNormals[1]),\n            getNormalIndex(vertexNormals[2])\n          );\n\n        }\n\n        if (hasFaceColor) {\n\n          faces.push(getColorIndex(face.color));\n\n        }\n\n        if (hasFaceVertexColor) {\n\n          var vertexColors = face.vertexColors;\n\n          faces.push(\n            getColorIndex(vertexColors[0]),\n            getColorIndex(vertexColors[1]),\n            getColorIndex(vertexColors[2])\n          );\n\n        }\n\n      }\n\n      function setBit(value, position, enabled) {\n\n        return enabled ? value | (1 << position) : value & (~(1 << position));\n\n      }\n\n      function getNormalIndex(normal) {\n\n        var hash = normal.x.toString() + normal.y.toString() + normal.z.toString();\n\n        if (normalsHash[hash] !== undefined) {\n\n          return normalsHash[hash];\n\n        }\n\n        normalsHash[hash] = normals.length / 3;\n        normals.push(normal.x, normal.y, normal.z);\n\n        return normalsHash[hash];\n\n      }\n\n      function getColorIndex(color) {\n\n        var hash = color.r.toString() + color.g.toString() + color.b.toString();\n\n        if (colorsHash[hash] !== undefined) {\n\n          return colorsHash[hash];\n\n        }\n\n        colorsHash[hash] = colors.length;\n        colors.push(color.getHex());\n\n        return colorsHash[hash];\n\n      }\n\n      function getUvIndex(uv) {\n\n        var hash = uv.x.toString() + uv.y.toString();\n\n        if (uvsHash[hash] !== undefined) {\n\n          return uvsHash[hash];\n\n        }\n\n        uvsHash[hash] = uvs.length / 2;\n        uvs.push(uv.x, uv.y);\n\n        return uvsHash[hash];\n\n      }\n\n      data.data = {};\n\n      data.data.vertices = vertices;\n      data.data.normals = normals;\n      if (colors.length > 0) {\n        data.data.colors = colors;\n      }\n      if (uvs.length > 0) {\n        data.data.uvs = [uvs];\n      } // temporal backward compatibility\n      data.data.faces = faces;\n\n      return data;\n\n    },\n\n    clone: function() {\n\n      /*\n       // Handle primitives\n\n       var parameters = this.parameters;\n\n       if ( parameters !== undefined ) {\n\n       var values = [];\n\n       for ( var key in parameters ) {\n\n       values.push( parameters[ key ] );\n\n       }\n\n       var geometry = Object.create( this.constructor.prototype );\n       this.constructor.apply( geometry, values );\n       return geometry;\n\n       }\n\n       return new this.constructor().copy( this );\n       */\n\n      return new Geometry().copy(this);\n\n    },\n\n    copy: function(source) {\n\n      var i, il, j, jl, k, kl;\n\n      // reset\n\n      this.vertices = [];\n      this.colors = [];\n      this.faces = [];\n      this.faceVertexUvs = [\n        []\n      ];\n      this.morphTargets = [];\n      this.morphNormals = [];\n      this.skinWeights = [];\n      this.skinIndices = [];\n      this.lineDistances = [];\n      this.boundingBox = null;\n      this.boundingSphere = null;\n\n      // name\n\n      this.name = source.name;\n\n      // vertices\n\n      var vertices = source.vertices;\n\n      for (i = 0, il = vertices.length; i < il; i++) {\n\n        this.vertices.push(vertices[i].clone());\n\n      }\n\n      // colors\n\n      var colors = source.colors;\n\n      for (i = 0, il = colors.length; i < il; i++) {\n\n        this.colors.push(colors[i].clone());\n\n      }\n\n      // faces\n\n      var faces = source.faces;\n\n      for (i = 0, il = faces.length; i < il; i++) {\n\n        this.faces.push(faces[i].clone());\n\n      }\n\n      // face vertex uvs\n\n      for (i = 0, il = source.faceVertexUvs.length; i < il; i++) {\n\n        var faceVertexUvs = source.faceVertexUvs[i];\n\n        if (this.faceVertexUvs[i] === undefined) {\n\n          this.faceVertexUvs[i] = [];\n\n        }\n\n        for (j = 0, jl = faceVertexUvs.length; j < jl; j++) {\n\n          var uvs = faceVertexUvs[j],\n            uvsCopy = [];\n\n          for (k = 0, kl = uvs.length; k < kl; k++) {\n\n            var uv = uvs[k];\n\n            uvsCopy.push(uv.clone());\n\n          }\n\n          this.faceVertexUvs[i].push(uvsCopy);\n\n        }\n\n      }\n\n      // morph targets\n\n      var morphTargets = source.morphTargets;\n\n      for (i = 0, il = morphTargets.length; i < il; i++) {\n\n        var morphTarget = {};\n        morphTarget.name = morphTargets[i].name;\n\n        // vertices\n\n        if (morphTargets[i].vertices !== undefined) {\n\n          morphTarget.vertices = [];\n\n          for (j = 0, jl = morphTargets[i].vertices.length; j < jl; j++) {\n\n            morphTarget.vertices.push(morphTargets[i].vertices[j].clone());\n\n          }\n\n        }\n\n        // normals\n\n        if (morphTargets[i].normals !== undefined) {\n\n          morphTarget.normals = [];\n\n          for (j = 0, jl = morphTargets[i].normals.length; j < jl; j++) {\n\n            morphTarget.normals.push(morphTargets[i].normals[j].clone());\n\n          }\n\n        }\n\n        this.morphTargets.push(morphTarget);\n\n      }\n\n      // morph normals\n\n      var morphNormals = source.morphNormals;\n\n      for (i = 0, il = morphNormals.length; i < il; i++) {\n\n        var morphNormal = {};\n\n        // vertex normals\n\n        if (morphNormals[i].vertexNormals !== undefined) {\n\n          morphNormal.vertexNormals = [];\n\n          for (j = 0, jl = morphNormals[i].vertexNormals.length; j < jl; j++) {\n\n            var srcVertexNormal = morphNormals[i].vertexNormals[j];\n            var destVertexNormal = {};\n\n            destVertexNormal.a = srcVertexNormal.a.clone();\n            destVertexNormal.b = srcVertexNormal.b.clone();\n            destVertexNormal.c = srcVertexNormal.c.clone();\n\n            morphNormal.vertexNormals.push(destVertexNormal);\n\n          }\n\n        }\n\n        // face normals\n\n        if (morphNormals[i].faceNormals !== undefined) {\n\n          morphNormal.faceNormals = [];\n\n          for (j = 0, jl = morphNormals[i].faceNormals.length; j < jl; j++) {\n\n            morphNormal.faceNormals.push(morphNormals[i].faceNormals[j].clone());\n\n          }\n\n        }\n\n        this.morphNormals.push(morphNormal);\n\n      }\n\n      // skin weights\n\n      var skinWeights = source.skinWeights;\n\n      for (i = 0, il = skinWeights.length; i < il; i++) {\n\n        this.skinWeights.push(skinWeights[i].clone());\n\n      }\n\n      // skin indices\n\n      var skinIndices = source.skinIndices;\n\n      for (i = 0, il = skinIndices.length; i < il; i++) {\n\n        this.skinIndices.push(skinIndices[i].clone());\n\n      }\n\n      // line distances\n\n      var lineDistances = source.lineDistances;\n\n      for (i = 0, il = lineDistances.length; i < il; i++) {\n\n        this.lineDistances.push(lineDistances[i]);\n\n      }\n\n      // bounding box\n\n      var boundingBox = source.boundingBox;\n\n      if (boundingBox !== null) {\n\n        this.boundingBox = boundingBox.clone();\n\n      }\n\n      // bounding sphere\n\n      var boundingSphere = source.boundingSphere;\n\n      if (boundingSphere !== null) {\n\n        this.boundingSphere = boundingSphere.clone();\n\n      }\n\n      // update flags\n\n      this.elementsNeedUpdate = source.elementsNeedUpdate;\n      this.verticesNeedUpdate = source.verticesNeedUpdate;\n      this.uvsNeedUpdate = source.uvsNeedUpdate;\n      this.normalsNeedUpdate = source.normalsNeedUpdate;\n      this.colorsNeedUpdate = source.colorsNeedUpdate;\n      this.lineDistancesNeedUpdate = source.lineDistancesNeedUpdate;\n      this.groupsNeedUpdate = source.groupsNeedUpdate;\n\n      return this;\n\n    },\n\n    dispose: function() {\n\n      this.dispatchEvent({\n        type: 'dispose'\n      });\n\n    }\n\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author Mugen87 / https://github.com/Mugen87\n   */\n\n  // BoxGeometry\n\n  var BoxGeometry = /*@__PURE__*/ (function(Geometry) {\n    function BoxGeometry(width, height, depth, widthSegments, heightSegments, depthSegments) {\n\n      Geometry.call(this);\n\n      this.type = 'BoxGeometry';\n\n      this.parameters = {\n        width: width,\n        height: height,\n        depth: depth,\n        widthSegments: widthSegments,\n        heightSegments: heightSegments,\n        depthSegments: depthSegments\n      };\n\n      this.fromBufferGeometry(new BoxBufferGeometry(width, height, depth, widthSegments, heightSegments, depthSegments));\n      this.mergeVertices();\n\n    }\n\n    if (Geometry) BoxGeometry.__proto__ = Geometry;\n    BoxGeometry.prototype = Object.create(Geometry && Geometry.prototype);\n    BoxGeometry.prototype.constructor = BoxGeometry;\n\n    return BoxGeometry;\n  }(Geometry));\n\n  // BoxBufferGeometry\n\n  var BoxBufferGeometry = /*@__PURE__*/ (function(BufferGeometry) {\n    function BoxBufferGeometry(width, height, depth, widthSegments, heightSegments, depthSegments) {\n\n      BufferGeometry.call(this);\n\n      this.type = 'BoxBufferGeometry';\n\n      this.parameters = {\n        width: width,\n        height: height,\n        depth: depth,\n        widthSegments: widthSegments,\n        heightSegments: heightSegments,\n        depthSegments: depthSegments\n      };\n\n      var scope = this;\n\n      width = width || 1;\n      height = height || 1;\n      depth = depth || 1;\n\n      // segments\n\n      widthSegments = Math.floor(widthSegments) || 1;\n      heightSegments = Math.floor(heightSegments) || 1;\n      depthSegments = Math.floor(depthSegments) || 1;\n\n      // buffers\n\n      var indices = [];\n      var vertices = [];\n      var normals = [];\n      var uvs = [];\n\n      // helper variables\n\n      var numberOfVertices = 0;\n      var groupStart = 0;\n\n      // build each side of the box geometry\n\n      buildPlane('z', 'y', 'x', -1, -1, depth, height, width, depthSegments, heightSegments, 0); // px\n      buildPlane('z', 'y', 'x', 1, -1, depth, height, -width, depthSegments, heightSegments, 1); // nx\n      buildPlane('x', 'z', 'y', 1, 1, width, depth, height, widthSegments, depthSegments, 2); // py\n      buildPlane('x', 'z', 'y', 1, -1, width, depth, -height, widthSegments, depthSegments, 3); // ny\n      buildPlane('x', 'y', 'z', 1, -1, width, height, depth, widthSegments, heightSegments, 4); // pz\n      buildPlane('x', 'y', 'z', -1, -1, width, height, -depth, widthSegments, heightSegments, 5); // nz\n\n      // build geometry\n\n      this.setIndex(indices);\n      this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n      this.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n      this.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\n      function buildPlane(u, v, w, udir, vdir, width, height, depth, gridX, gridY, materialIndex) {\n\n        var segmentWidth = width / gridX;\n        var segmentHeight = height / gridY;\n\n        var widthHalf = width / 2;\n        var heightHalf = height / 2;\n        var depthHalf = depth / 2;\n\n        var gridX1 = gridX + 1;\n        var gridY1 = gridY + 1;\n\n        var vertexCounter = 0;\n        var groupCount = 0;\n\n        var ix, iy;\n\n        var vector = new Vector3();\n\n        // generate vertices, normals and uvs\n\n        for (iy = 0; iy < gridY1; iy++) {\n\n          var y = iy * segmentHeight - heightHalf;\n\n          for (ix = 0; ix < gridX1; ix++) {\n\n            var x = ix * segmentWidth - widthHalf;\n\n            // set values to correct vector component\n\n            vector[u] = x * udir;\n            vector[v] = y * vdir;\n            vector[w] = depthHalf;\n\n            // now apply vector to vertex buffer\n\n            vertices.push(vector.x, vector.y, vector.z);\n\n            // set values to correct vector component\n\n            vector[u] = 0;\n            vector[v] = 0;\n            vector[w] = depth > 0 ? 1 : -1;\n\n            // now apply vector to normal buffer\n\n            normals.push(vector.x, vector.y, vector.z);\n\n            // uvs\n\n            uvs.push(ix / gridX);\n            uvs.push(1 - (iy / gridY));\n\n            // counters\n\n            vertexCounter += 1;\n\n          }\n\n        }\n\n        // indices\n\n        // 1. you need three indices to draw a single face\n        // 2. a single segment consists of two faces\n        // 3. so we need to generate six (2*3) indices per segment\n\n        for (iy = 0; iy < gridY; iy++) {\n\n          for (ix = 0; ix < gridX; ix++) {\n\n            var a = numberOfVertices + ix + gridX1 * iy;\n            var b = numberOfVertices + ix + gridX1 * (iy + 1);\n            var c = numberOfVertices + (ix + 1) + gridX1 * (iy + 1);\n            var d = numberOfVertices + (ix + 1) + gridX1 * iy;\n\n            // faces\n\n            indices.push(a, b, d);\n            indices.push(b, c, d);\n\n            // increase counter\n\n            groupCount += 6;\n\n          }\n\n        }\n\n        // add a group to the geometry. this will ensure multi material support\n\n        scope.addGroup(groupStart, groupCount, materialIndex);\n\n        // calculate new start value for groups\n\n        groupStart += groupCount;\n\n        // update total number of vertices\n\n        numberOfVertices += vertexCounter;\n\n      }\n\n    }\n\n    if (BufferGeometry) BoxBufferGeometry.__proto__ = BufferGeometry;\n    BoxBufferGeometry.prototype = Object.create(BufferGeometry && BufferGeometry.prototype);\n    BoxBufferGeometry.prototype.constructor = BoxBufferGeometry;\n\n    return BoxBufferGeometry;\n  }(BufferGeometry));\n\n  /**\n   * Uniform Utilities\n   */\n\n  function cloneUniforms(src) {\n\n    var dst = {};\n\n    for (var u in src) {\n\n      dst[u] = {};\n\n      for (var p in src[u]) {\n\n        var property = src[u][p];\n\n        if (property && (property.isColor ||\n            property.isMatrix3 || property.isMatrix4 ||\n            property.isVector2 || property.isVector3 || property.isVector4 ||\n            property.isTexture)) {\n\n          dst[u][p] = property.clone();\n\n        } else if (Array.isArray(property)) {\n\n          dst[u][p] = property.slice();\n\n        } else {\n\n          dst[u][p] = property;\n\n        }\n\n      }\n\n    }\n\n    return dst;\n\n  }\n\n  function mergeUniforms(uniforms) {\n\n    var merged = {};\n\n    for (var u = 0; u < uniforms.length; u++) {\n\n      var tmp = cloneUniforms(uniforms[u]);\n\n      for (var p in tmp) {\n\n        merged[p] = tmp[p];\n\n      }\n\n    }\n\n    return merged;\n\n  }\n\n  // Legacy\n\n  var UniformsUtils = {\n    clone: cloneUniforms,\n    merge: mergeUniforms\n  };\n\n  var default_vertex = \"void main() {\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}\";\n\n  var default_fragment = \"void main() {\\n\\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\\n}\";\n\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   *\n   * parameters = {\n   *  defines: { \"label\" : \"value\" },\n   *  uniforms: { \"parameter1\": { value: 1.0 }, \"parameter2\": { value2: 2 } },\n   *\n   *  fragmentShader: <string>,\n   *  vertexShader: <string>,\n   *\n   *  wireframe: <boolean>,\n   *  wireframeLinewidth: <float>,\n   *\n   *  lights: <bool>,\n   *\n   *  skinning: <bool>,\n   *  morphTargets: <bool>,\n   *  morphNormals: <bool>\n   * }\n   */\n\n  function ShaderMaterial(parameters) {\n\n    Material.call(this);\n\n    this.type = 'ShaderMaterial';\n\n    this.defines = {};\n    this.uniforms = {};\n\n    this.vertexShader = default_vertex;\n    this.fragmentShader = default_fragment;\n\n    this.linewidth = 1;\n\n    this.wireframe = false;\n    this.wireframeLinewidth = 1;\n\n    this.fog = false; // set to use scene fog\n    this.lights = false; // set to use scene lights\n    this.clipping = false; // set to use user-defined clipping planes\n\n    this.skinning = false; // set to use skinning attribute streams\n    this.morphTargets = false; // set to use morph targets\n    this.morphNormals = false; // set to use morph normals\n\n    this.extensions = {\n      derivatives: false, // set to use derivatives\n      fragDepth: false, // set to use fragment depth values\n      drawBuffers: false, // set to use draw buffers\n      shaderTextureLOD: false // set to use shader texture LOD\n    };\n\n    // When rendered geometry doesn't include these attributes but the material does,\n    // use these default values in WebGL. This avoids errors when buffer data is missing.\n    this.defaultAttributeValues = {\n      'color': [1, 1, 1],\n      'uv': [0, 0],\n      'uv2': [0, 0]\n    };\n\n    this.index0AttributeName = undefined;\n    this.uniformsNeedUpdate = false;\n\n    if (parameters !== undefined) {\n\n      if (parameters.attributes !== undefined) {\n\n        console.error('THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.');\n\n      }\n\n      this.setValues(parameters);\n\n    }\n\n  }\n\n  ShaderMaterial.prototype = Object.create(Material.prototype);\n  ShaderMaterial.prototype.constructor = ShaderMaterial;\n\n  ShaderMaterial.prototype.isShaderMaterial = true;\n\n  ShaderMaterial.prototype.copy = function(source) {\n\n    Material.prototype.copy.call(this, source);\n\n    this.fragmentShader = source.fragmentShader;\n    this.vertexShader = source.vertexShader;\n\n    this.uniforms = cloneUniforms(source.uniforms);\n\n    this.defines = Object.assign({}, source.defines);\n\n    this.wireframe = source.wireframe;\n    this.wireframeLinewidth = source.wireframeLinewidth;\n\n    this.lights = source.lights;\n    this.clipping = source.clipping;\n\n    this.skinning = source.skinning;\n\n    this.morphTargets = source.morphTargets;\n    this.morphNormals = source.morphNormals;\n\n    this.extensions = source.extensions;\n\n    return this;\n\n  };\n\n  ShaderMaterial.prototype.toJSON = function(meta) {\n\n    var data = Material.prototype.toJSON.call(this, meta);\n\n    data.uniforms = {};\n\n    for (var name in this.uniforms) {\n\n      var uniform = this.uniforms[name];\n      var value = uniform.value;\n\n      if (value && value.isTexture) {\n\n        data.uniforms[name] = {\n          type: 't',\n          value: value.toJSON(meta).uuid\n        };\n\n      } else if (value && value.isColor) {\n\n        data.uniforms[name] = {\n          type: 'c',\n          value: value.getHex()\n        };\n\n      } else if (value && value.isVector2) {\n\n        data.uniforms[name] = {\n          type: 'v2',\n          value: value.toArray()\n        };\n\n      } else if (value && value.isVector3) {\n\n        data.uniforms[name] = {\n          type: 'v3',\n          value: value.toArray()\n        };\n\n      } else if (value && value.isVector4) {\n\n        data.uniforms[name] = {\n          type: 'v4',\n          value: value.toArray()\n        };\n\n      } else if (value && value.isMatrix3) {\n\n        data.uniforms[name] = {\n          type: 'm3',\n          value: value.toArray()\n        };\n\n      } else if (value && value.isMatrix4) {\n\n        data.uniforms[name] = {\n          type: 'm4',\n          value: value.toArray()\n        };\n\n      } else {\n\n        data.uniforms[name] = {\n          value: value\n        };\n\n        // note: the array variants v2v, v3v, v4v, m4v and tv are not supported so far\n\n      }\n\n    }\n\n    if (Object.keys(this.defines).length > 0) {\n      data.defines = this.defines;\n    }\n\n    data.vertexShader = this.vertexShader;\n    data.fragmentShader = this.fragmentShader;\n\n    var extensions = {};\n\n    for (var key in this.extensions) {\n\n      if (this.extensions[key] === true) {\n        extensions[key] = true;\n      }\n\n    }\n\n    if (Object.keys(extensions).length > 0) {\n      data.extensions = extensions;\n    }\n\n    return data;\n\n  };\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author mikael emtinger / http://gomo.se/\n   * @author WestLangley / http://github.com/WestLangley\n   */\n\n  function Camera() {\n\n    Object3D.call(this);\n\n    this.type = 'Camera';\n\n    this.matrixWorldInverse = new Matrix4();\n\n    this.projectionMatrix = new Matrix4();\n    this.projectionMatrixInverse = new Matrix4();\n\n  }\n\n  Camera.prototype = Object.assign(Object.create(Object3D.prototype), {\n\n    constructor: Camera,\n\n    isCamera: true,\n\n    copy: function(source, recursive) {\n\n      Object3D.prototype.copy.call(this, source, recursive);\n\n      this.matrixWorldInverse.copy(source.matrixWorldInverse);\n\n      this.projectionMatrix.copy(source.projectionMatrix);\n      this.projectionMatrixInverse.copy(source.projectionMatrixInverse);\n\n      return this;\n\n    },\n\n    getWorldDirection: function(target) {\n\n      if (target === undefined) {\n\n        console.warn('THREE.Camera: .getWorldDirection() target is now required');\n        target = new Vector3();\n\n      }\n\n      this.updateMatrixWorld(true);\n\n      var e = this.matrixWorld.elements;\n\n      return target.set(-e[8], -e[9], -e[10]).normalize();\n\n    },\n\n    updateMatrixWorld: function(force) {\n\n      Object3D.prototype.updateMatrixWorld.call(this, force);\n\n      this.matrixWorldInverse.getInverse(this.matrixWorld);\n\n    },\n\n    clone: function() {\n\n      return new this.constructor().copy(this);\n\n    }\n\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author greggman / http://games.greggman.com/\n   * @author zz85 / http://www.lab4games.net/zz85/blog\n   * @author tschw\n   */\n\n  function PerspectiveCamera(fov, aspect, near, far) {\n\n    Camera.call(this);\n\n    this.type = 'PerspectiveCamera';\n\n    this.fov = fov !== undefined ? fov : 50;\n    this.zoom = 1;\n\n    this.near = near !== undefined ? near : 0.1;\n    this.far = far !== undefined ? far : 2000;\n    this.focus = 10;\n\n    this.aspect = aspect !== undefined ? aspect : 1;\n    this.view = null;\n\n    this.filmGauge = 35; // width of the film (default in millimeters)\n    this.filmOffset = 0; // horizontal film offset (same unit as gauge)\n\n    this.updateProjectionMatrix();\n\n  }\n\n  PerspectiveCamera.prototype = Object.assign(Object.create(Camera.prototype), {\n\n    constructor: PerspectiveCamera,\n\n    isPerspectiveCamera: true,\n\n    copy: function(source, recursive) {\n\n      Camera.prototype.copy.call(this, source, recursive);\n\n      this.fov = source.fov;\n      this.zoom = source.zoom;\n\n      this.near = source.near;\n      this.far = source.far;\n      this.focus = source.focus;\n\n      this.aspect = source.aspect;\n      this.view = source.view === null ? null : Object.assign({}, source.view);\n\n      this.filmGauge = source.filmGauge;\n      this.filmOffset = source.filmOffset;\n\n      return this;\n\n    },\n\n    /**\n     * Sets the FOV by focal length in respect to the current .filmGauge.\n     *\n     * The default film gauge is 35, so that the focal length can be specified for\n     * a 35mm (full frame) camera.\n     *\n     * Values for focal length and film gauge must have the same unit.\n     */\n    setFocalLength: function(focalLength) {\n\n      // see http://www.bobatkins.com/photography/technical/field_of_view.html\n      var vExtentSlope = 0.5 * this.getFilmHeight() / focalLength;\n\n      this.fov = _Math.RAD2DEG * 2 * Math.atan(vExtentSlope);\n      this.updateProjectionMatrix();\n\n    },\n\n    /**\n     * Calculates the focal length from the current .fov and .filmGauge.\n     */\n    getFocalLength: function() {\n\n      var vExtentSlope = Math.tan(_Math.DEG2RAD * 0.5 * this.fov);\n\n      return 0.5 * this.getFilmHeight() / vExtentSlope;\n\n    },\n\n    getEffectiveFOV: function() {\n\n      return _Math.RAD2DEG * 2 * Math.atan(\n        Math.tan(_Math.DEG2RAD * 0.5 * this.fov) / this.zoom);\n\n    },\n\n    getFilmWidth: function() {\n\n      // film not completely covered in portrait format (aspect < 1)\n      return this.filmGauge * Math.min(this.aspect, 1);\n\n    },\n\n    getFilmHeight: function() {\n\n      // film not completely covered in landscape format (aspect > 1)\n      return this.filmGauge / Math.max(this.aspect, 1);\n\n    },\n\n    /**\n     * Sets an offset in a larger frustum. This is useful for multi-window or\n     * multi-monitor/multi-machine setups.\n     *\n     * For example, if you have 3x2 monitors and each monitor is 1920x1080 and\n     * the monitors are in grid like this\n     *\n     *   +---+---+---+\n     *   | A | B | C |\n     *   +---+---+---+\n     *   | D | E | F |\n     *   +---+---+---+\n     *\n     * then for each monitor you would call it like this\n     *\n     *   var w = 1920;\n     *   var h = 1080;\n     *   var fullWidth = w * 3;\n     *   var fullHeight = h * 2;\n     *\n     *   --A--\n     *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 0, w, h );\n     *   --B--\n     *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 0, w, h );\n     *   --C--\n     *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 0, w, h );\n     *   --D--\n     *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 1, w, h );\n     *   --E--\n     *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 1, w, h );\n     *   --F--\n     *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 1, w, h );\n     *\n     *   Note there is no reason monitors have to be the same size or in a grid.\n     */\n    setViewOffset: function(fullWidth, fullHeight, x, y, width, height) {\n\n      this.aspect = fullWidth / fullHeight;\n\n      if (this.view === null) {\n\n        this.view = {\n          enabled: true,\n          fullWidth: 1,\n          fullHeight: 1,\n          offsetX: 0,\n          offsetY: 0,\n          width: 1,\n          height: 1\n        };\n\n      }\n\n      this.view.enabled = true;\n      this.view.fullWidth = fullWidth;\n      this.view.fullHeight = fullHeight;\n      this.view.offsetX = x;\n      this.view.offsetY = y;\n      this.view.width = width;\n      this.view.height = height;\n\n      this.updateProjectionMatrix();\n\n    },\n\n    clearViewOffset: function() {\n\n      if (this.view !== null) {\n\n        this.view.enabled = false;\n\n      }\n\n      this.updateProjectionMatrix();\n\n    },\n\n    updateProjectionMatrix: function() {\n\n      var near = this.near,\n        top = near * Math.tan(_Math.DEG2RAD * 0.5 * this.fov) / this.zoom,\n        height = 2 * top,\n        width = this.aspect * height,\n        left = -0.5 * width,\n        view = this.view;\n\n      if (this.view !== null && this.view.enabled) {\n\n        var fullWidth = view.fullWidth,\n          fullHeight = view.fullHeight;\n\n        left += view.offsetX * width / fullWidth;\n        top -= view.offsetY * height / fullHeight;\n        width *= view.width / fullWidth;\n        height *= view.height / fullHeight;\n\n      }\n\n      var skew = this.filmOffset;\n      if (skew !== 0) {\n        left += near * skew / this.getFilmWidth();\n      }\n\n      this.projectionMatrix.makePerspective(left, left + width, top, top - height, near, this.far);\n\n      this.projectionMatrixInverse.getInverse(this.projectionMatrix);\n\n    },\n\n    toJSON: function(meta) {\n\n      var data = Object3D.prototype.toJSON.call(this, meta);\n\n      data.object.fov = this.fov;\n      data.object.zoom = this.zoom;\n\n      data.object.near = this.near;\n      data.object.far = this.far;\n      data.object.focus = this.focus;\n\n      data.object.aspect = this.aspect;\n\n      if (this.view !== null) {\n        data.object.view = Object.assign({}, this.view);\n      }\n\n      data.object.filmGauge = this.filmGauge;\n      data.object.filmOffset = this.filmOffset;\n\n      return data;\n\n    }\n\n  });\n\n  /**\n   * Camera for rendering cube maps\n   *\t- renders scene into axis-aligned cube\n   *\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n  var fov = 90,\n    aspect = 1;\n\n  function CubeCamera(near, far, cubeResolution, options) {\n\n    Object3D.call(this);\n\n    this.type = 'CubeCamera';\n\n    var cameraPX = new PerspectiveCamera(fov, aspect, near, far);\n    cameraPX.up.set(0, -1, 0);\n    cameraPX.lookAt(new Vector3(1, 0, 0));\n    this.add(cameraPX);\n\n    var cameraNX = new PerspectiveCamera(fov, aspect, near, far);\n    cameraNX.up.set(0, -1, 0);\n    cameraNX.lookAt(new Vector3(-1, 0, 0));\n    this.add(cameraNX);\n\n    var cameraPY = new PerspectiveCamera(fov, aspect, near, far);\n    cameraPY.up.set(0, 0, 1);\n    cameraPY.lookAt(new Vector3(0, 1, 0));\n    this.add(cameraPY);\n\n    var cameraNY = new PerspectiveCamera(fov, aspect, near, far);\n    cameraNY.up.set(0, 0, -1);\n    cameraNY.lookAt(new Vector3(0, -1, 0));\n    this.add(cameraNY);\n\n    var cameraPZ = new PerspectiveCamera(fov, aspect, near, far);\n    cameraPZ.up.set(0, -1, 0);\n    cameraPZ.lookAt(new Vector3(0, 0, 1));\n    this.add(cameraPZ);\n\n    var cameraNZ = new PerspectiveCamera(fov, aspect, near, far);\n    cameraNZ.up.set(0, -1, 0);\n    cameraNZ.lookAt(new Vector3(0, 0, -1));\n    this.add(cameraNZ);\n\n    options = options || {\n      format: RGBFormat,\n      magFilter: LinearFilter,\n      minFilter: LinearFilter\n    };\n\n    this.renderTarget = new WebGLRenderTargetCube(cubeResolution, cubeResolution, options);\n    this.renderTarget.texture.name = \"CubeCamera\";\n\n    this.update = function(renderer, scene) {\n\n      if (this.parent === null) {\n        this.updateMatrixWorld();\n      }\n\n      var currentRenderTarget = renderer.getRenderTarget();\n\n      var renderTarget = this.renderTarget;\n      var generateMipmaps = renderTarget.texture.generateMipmaps;\n\n      renderTarget.texture.generateMipmaps = false;\n\n      renderer.setRenderTarget(renderTarget, 0);\n      renderer.render(scene, cameraPX);\n\n      renderer.setRenderTarget(renderTarget, 1);\n      renderer.render(scene, cameraNX);\n\n      renderer.setRenderTarget(renderTarget, 2);\n      renderer.render(scene, cameraPY);\n\n      renderer.setRenderTarget(renderTarget, 3);\n      renderer.render(scene, cameraNY);\n\n      renderer.setRenderTarget(renderTarget, 4);\n      renderer.render(scene, cameraPZ);\n\n      renderTarget.texture.generateMipmaps = generateMipmaps;\n\n      renderer.setRenderTarget(renderTarget, 5);\n      renderer.render(scene, cameraNZ);\n\n      renderer.setRenderTarget(currentRenderTarget);\n\n    };\n\n    this.clear = function(renderer, color, depth, stencil) {\n\n      var currentRenderTarget = renderer.getRenderTarget();\n\n      var renderTarget = this.renderTarget;\n\n      for (var i = 0; i < 6; i++) {\n\n        renderer.setRenderTarget(renderTarget, i);\n\n        renderer.clear(color, depth, stencil);\n\n      }\n\n      renderer.setRenderTarget(currentRenderTarget);\n\n    };\n\n  }\n\n  CubeCamera.prototype = Object.create(Object3D.prototype);\n  CubeCamera.prototype.constructor = CubeCamera;\n\n  /**\n   * @author alteredq / http://alteredqualia.com\n   * @author WestLangley / http://github.com/WestLangley\n   */\n\n  function WebGLRenderTargetCube(width, height, options) {\n\n    WebGLRenderTarget.call(this, width, height, options);\n\n  }\n\n  WebGLRenderTargetCube.prototype = Object.create(WebGLRenderTarget.prototype);\n  WebGLRenderTargetCube.prototype.constructor = WebGLRenderTargetCube;\n\n  WebGLRenderTargetCube.prototype.isWebGLRenderTargetCube = true;\n\n  WebGLRenderTargetCube.prototype.fromEquirectangularTexture = function(renderer, texture) {\n\n    this.texture.type = texture.type;\n    this.texture.format = texture.format;\n    this.texture.encoding = texture.encoding;\n\n    var scene = new Scene();\n\n    var shader = {\n\n      uniforms: {\n        tEquirect: {\n          value: null\n        },\n      },\n\n      vertexShader: [\n\n        \"varying vec3 vWorldDirection;\",\n\n        \"vec3 transformDirection( in vec3 dir, in mat4 matrix ) {\",\n\n        \"\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\",\n\n        \"}\",\n\n        \"void main() {\",\n\n        \"\tvWorldDirection = transformDirection( position, modelMatrix );\",\n\n        \"\t#include <begin_vertex>\",\n        \"\t#include <project_vertex>\",\n\n        \"}\"\n\n      ].join('\\n'),\n\n      fragmentShader: [\n\n        \"uniform sampler2D tEquirect;\",\n\n        \"varying vec3 vWorldDirection;\",\n\n        \"#define RECIPROCAL_PI 0.31830988618\",\n        \"#define RECIPROCAL_PI2 0.15915494\",\n\n        \"void main() {\",\n\n        \"\tvec3 direction = normalize( vWorldDirection );\",\n\n        \"\tvec2 sampleUV;\",\n\n        \"\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\",\n\n        \"\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\",\n\n        \"\tgl_FragColor = texture2D( tEquirect, sampleUV );\",\n\n        \"}\"\n\n      ].join('\\n'),\n    };\n\n    var material = new ShaderMaterial({\n\n      type: 'CubemapFromEquirect',\n\n      uniforms: cloneUniforms(shader.uniforms),\n      vertexShader: shader.vertexShader,\n      fragmentShader: shader.fragmentShader,\n      side: BackSide,\n      blending: NoBlending\n\n    });\n\n    material.uniforms.tEquirect.value = texture;\n\n    var mesh = new Mesh(new BoxBufferGeometry(5, 5, 5), material);\n\n    scene.add(mesh);\n\n    var camera = new CubeCamera(1, 10, 1);\n\n    camera.renderTarget = this;\n    camera.renderTarget.texture.name = 'CubeCameraTexture';\n\n    camera.update(renderer, scene);\n\n    mesh.geometry.dispose();\n    mesh.material.dispose();\n\n    return this;\n\n  };\n\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n  function DataTexture(data, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding) {\n\n    Texture.call(this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding);\n\n    this.image = {\n      data: data || null,\n      width: width || 1,\n      height: height || 1\n    };\n\n    this.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n    this.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n\n    this.generateMipmaps = false;\n    this.flipY = false;\n    this.unpackAlignment = 1;\n\n    this.needsUpdate = true;\n\n  }\n\n  DataTexture.prototype = Object.create(Texture.prototype);\n  DataTexture.prototype.constructor = DataTexture;\n\n  DataTexture.prototype.isDataTexture = true;\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author alteredq / http://alteredqualia.com/\n   * @author bhouston / http://clara.io\n   */\n\n  var _sphere$1 = new Sphere();\n  var _vector$6 = new Vector3();\n\n  function Frustum(p0, p1, p2, p3, p4, p5) {\n\n    this.planes = [\n\n      (p0 !== undefined) ? p0 : new Plane(),\n      (p1 !== undefined) ? p1 : new Plane(),\n      (p2 !== undefined) ? p2 : new Plane(),\n      (p3 !== undefined) ? p3 : new Plane(),\n      (p4 !== undefined) ? p4 : new Plane(),\n      (p5 !== undefined) ? p5 : new Plane()\n\n    ];\n\n  }\n\n  Object.assign(Frustum.prototype, {\n\n    set: function(p0, p1, p2, p3, p4, p5) {\n\n      var planes = this.planes;\n\n      planes[0].copy(p0);\n      planes[1].copy(p1);\n      planes[2].copy(p2);\n      planes[3].copy(p3);\n      planes[4].copy(p4);\n      planes[5].copy(p5);\n\n      return this;\n\n    },\n\n    clone: function() {\n\n      return new this.constructor().copy(this);\n\n    },\n\n    copy: function(frustum) {\n\n      var planes = this.planes;\n\n      for (var i = 0; i < 6; i++) {\n\n        planes[i].copy(frustum.planes[i]);\n\n      }\n\n      return this;\n\n    },\n\n    setFromMatrix: function(m) {\n\n      var planes = this.planes;\n      var me = m.elements;\n      var me0 = me[0],\n        me1 = me[1],\n        me2 = me[2],\n        me3 = me[3];\n      var me4 = me[4],\n        me5 = me[5],\n        me6 = me[6],\n        me7 = me[7];\n      var me8 = me[8],\n        me9 = me[9],\n        me10 = me[10],\n        me11 = me[11];\n      var me12 = me[12],\n        me13 = me[13],\n        me14 = me[14],\n        me15 = me[15];\n\n      planes[0].setComponents(me3 - me0, me7 - me4, me11 - me8, me15 - me12).normalize();\n      planes[1].setComponents(me3 + me0, me7 + me4, me11 + me8, me15 + me12).normalize();\n      planes[2].setComponents(me3 + me1, me7 + me5, me11 + me9, me15 + me13).normalize();\n      planes[3].setComponents(me3 - me1, me7 - me5, me11 - me9, me15 - me13).normalize();\n      planes[4].setComponents(me3 - me2, me7 - me6, me11 - me10, me15 - me14).normalize();\n      planes[5].setComponents(me3 + me2, me7 + me6, me11 + me10, me15 + me14).normalize();\n\n      return this;\n\n    },\n\n    intersectsObject: function(object) {\n\n      var geometry = object.geometry;\n\n      if (geometry.boundingSphere === null) {\n        geometry.computeBoundingSphere();\n      }\n\n      _sphere$1.copy(geometry.boundingSphere).applyMatrix4(object.matrixWorld);\n\n      return this.intersectsSphere(_sphere$1);\n\n    },\n\n    intersectsSprite: function(sprite) {\n\n      _sphere$1.center.set(0, 0, 0);\n      _sphere$1.radius = 0.7071067811865476;\n      _sphere$1.applyMatrix4(sprite.matrixWorld);\n\n      return this.intersectsSphere(_sphere$1);\n\n    },\n\n    intersectsSphere: function(sphere) {\n\n      var planes = this.planes;\n      var center = sphere.center;\n      var negRadius = -sphere.radius;\n\n      for (var i = 0; i < 6; i++) {\n\n        var distance = planes[i].distanceToPoint(center);\n\n        if (distance < negRadius) {\n\n          return false;\n\n        }\n\n      }\n\n      return true;\n\n    },\n\n    intersectsBox: function(box) {\n\n      var planes = this.planes;\n\n      for (var i = 0; i < 6; i++) {\n\n        var plane = planes[i];\n\n        // corner at max distance\n\n        _vector$6.x = plane.normal.x > 0 ? box.max.x : box.min.x;\n        _vector$6.y = plane.normal.y > 0 ? box.max.y : box.min.y;\n        _vector$6.z = plane.normal.z > 0 ? box.max.z : box.min.z;\n\n        if (plane.distanceToPoint(_vector$6) < 0) {\n\n          return false;\n\n        }\n\n      }\n\n      return true;\n\n    },\n\n    containsPoint: function(point) {\n\n      var planes = this.planes;\n\n      for (var i = 0; i < 6; i++) {\n\n        if (planes[i].distanceToPoint(point) < 0) {\n\n          return false;\n\n        }\n\n      }\n\n      return true;\n\n    }\n\n  });\n\n  var alphamap_fragment = \"#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\\n#endif\";\n\n  var alphamap_pars_fragment = \"#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\";\n\n  var alphatest_fragment = \"#ifdef ALPHATEST\\n\\tif ( diffuseColor.a < ALPHATEST ) discard;\\n#endif\";\n\n  var aomap_fragment = \"#ifdef USE_AOMAP\\n\\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\\n\\treflectedLight.indirectDiffuse *= ambientOcclusion;\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD )\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\\n\\t#endif\\n#endif\";\n\n  var aomap_pars_fragment = \"#ifdef USE_AOMAP\\n\\tuniform sampler2D aoMap;\\n\\tuniform float aoMapIntensity;\\n#endif\";\n\n  var begin_vertex = \"vec3 transformed = vec3( position );\";\n\n  var beginnormal_vertex = \"vec3 objectNormal = vec3( normal );\\n#ifdef USE_TANGENT\\n\\tvec3 objectTangent = vec3( tangent.xyz );\\n#endif\";\n\n  var bsdfs = \"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\\n\\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\\n\\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\\n\\tvec4 r = roughness * c0 + c1;\\n\\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\\n\\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\\n}\\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\\n\\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\\n\\tif( cutoffDistance > 0.0 ) {\\n\\t\\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\\n\\t}\\n\\treturn distanceFalloff;\\n#else\\n\\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\\n\\t\\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\\n\\t}\\n\\treturn 1.0;\\n#endif\\n}\\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\\n\\treturn RECIPROCAL_PI * diffuseColor;\\n}\\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\\n\\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\\n}\\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\\n\\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\\n\\treturn Fr * fresnel + F0;\\n}\\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\treturn 1.0 / ( gl * gv );\\n}\\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\treturn 0.5 / max( gv + gl, EPSILON );\\n}\\nfloat D_GGX( const in float alpha, const in float dotNH ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\\n\\treturn RECIPROCAL_PI * a2 / pow2( denom );\\n}\\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat alpha = pow2( roughness );\\n\\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\\n\\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tfloat dotNH = saturate( dot( normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\\n\\tfloat D = D_GGX( alpha, dotNH );\\n\\treturn F * ( G * D );\\n}\\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\\n\\tconst float LUT_SIZE  = 64.0;\\n\\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\\n\\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\\n\\tfloat dotNV = saturate( dot( N, V ) );\\n\\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\\n\\tuv = uv * LUT_SCALE + LUT_BIAS;\\n\\treturn uv;\\n}\\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\\n\\tfloat l = length( f );\\n\\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\\n}\\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\\n\\tfloat x = dot( v1, v2 );\\n\\tfloat y = abs( x );\\n\\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\\n\\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\\n\\tfloat v = a / b;\\n\\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\\n\\treturn cross( v1, v2 ) * theta_sintheta;\\n}\\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\\n\\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\\n\\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\\n\\tvec3 lightNormal = cross( v1, v2 );\\n\\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\\n\\tvec3 T1, T2;\\n\\tT1 = normalize( V - N * dot( V, N ) );\\n\\tT2 = - cross( N, T1 );\\n\\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\\n\\tvec3 coords[ 4 ];\\n\\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\\n\\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\\n\\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\\n\\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\\n\\tcoords[ 0 ] = normalize( coords[ 0 ] );\\n\\tcoords[ 1 ] = normalize( coords[ 1 ] );\\n\\tcoords[ 2 ] = normalize( coords[ 2 ] );\\n\\tcoords[ 3 ] = normalize( coords[ 3 ] );\\n\\tvec3 vectorFormFactor = vec3( 0.0 );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\\n\\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\\n\\treturn vec3( result );\\n}\\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\\n\\treturn specularColor * brdf.x + brdf.y;\\n}\\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\\n\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\\n\\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\\n\\tvec3 FssEss = F * brdf.x + brdf.y;\\n\\tfloat Ess = brdf.x + brdf.y;\\n\\tfloat Ems = 1.0 - Ess;\\n\\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\\n\\tsingleScatter += FssEss;\\n\\tmultiScatter += Fms * Ems;\\n}\\nfloat G_BlinnPhong_Implicit( ) {\\n\\treturn 0.25;\\n}\\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\\n\\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\\n}\\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\\n\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\n\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_BlinnPhong_Implicit( );\\n\\tfloat D = D_BlinnPhong( shininess, dotNH );\\n\\treturn F * ( G * D );\\n}\\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\\n\\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\\n}\\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\\n\\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\\n}\\n#if defined( USE_SHEEN )\\nfloat D_Charlie(float roughness, float NoH) {\\n\\tfloat invAlpha  = 1.0 / roughness;\\n\\tfloat cos2h = NoH * NoH;\\n\\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\\n}\\nfloat V_Neubelt(float NoV, float NoL) {\\n\\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\\n}\\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\\n\\tvec3 N = geometry.normal;\\n\\tvec3 V = geometry.viewDir;\\n\\tvec3 H = normalize( V + L );\\n\\tfloat dotNH = saturate( dot( N, H ) );\\n\\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\\n}\\n#endif\";\n\n  var bumpmap_pars_fragment = \"#ifdef USE_BUMPMAP\\n\\tuniform sampler2D bumpMap;\\n\\tuniform float bumpScale;\\n\\tvec2 dHdxy_fwd() {\\n\\t\\tvec2 dSTdx = dFdx( vUv );\\n\\t\\tvec2 dSTdy = dFdy( vUv );\\n\\t\\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\\n\\t\\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\\n\\t\\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\\n\\t\\treturn vec2( dBx, dBy );\\n\\t}\\n\\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\\n\\t\\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\\n\\t\\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\\n\\t\\tvec3 vN = surf_norm;\\n\\t\\tvec3 R1 = cross( vSigmaY, vN );\\n\\t\\tvec3 R2 = cross( vN, vSigmaX );\\n\\t\\tfloat fDet = dot( vSigmaX, R1 );\\n\\t\\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\\n\\t\\treturn normalize( abs( fDet ) * surf_norm - vGrad );\\n\\t}\\n#endif\";\n\n  var clipping_planes_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvec4 plane;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\\n\\t\\tplane = clippingPlanes[ i ];\\n\\t\\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\\n\\t}\\n\\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\\n\\t\\tbool clipped = true;\\n\\t\\t#pragma unroll_loop\\n\\t\\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\\n\\t\\t\\tplane = clippingPlanes[ i ];\\n\\t\\t\\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\\n\\t\\t}\\n\\t\\tif ( clipped ) discard;\\n\\t#endif\\n#endif\";\n\n  var clipping_planes_pars_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\t#if ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\\n\\t\\tvarying vec3 vViewPosition;\\n\\t#endif\\n\\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\\n#endif\";\n\n  var clipping_planes_pars_vertex = \"#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\";\n\n  var clipping_planes_vertex = \"#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\";\n\n  var color_fragment = \"#ifdef USE_COLOR\\n\\tdiffuseColor.rgb *= vColor;\\n#endif\";\n\n  var color_pars_fragment = \"#ifdef USE_COLOR\\n\\tvarying vec3 vColor;\\n#endif\";\n\n  var color_pars_vertex = \"#ifdef USE_COLOR\\n\\tvarying vec3 vColor;\\n#endif\";\n\n  var color_vertex = \"#ifdef USE_COLOR\\n\\tvColor.xyz = color.xyz;\\n#endif\";\n\n  var common = \"#define PI 3.14159265359\\n#define PI2 6.28318530718\\n#define PI_HALF 1.5707963267949\\n#define RECIPROCAL_PI 0.31830988618\\n#define RECIPROCAL_PI2 0.15915494\\n#define LOG2 1.442695\\n#define EPSILON 1e-6\\n#ifndef saturate\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#endif\\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\\nfloat pow2( const in float x ) { return x*x; }\\nfloat pow3( const in float x ) { return x*x*x; }\\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\\nhighp float rand( const in vec2 uv ) {\\n\\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\\n\\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\\n\\treturn fract(sin(sn) * c);\\n}\\n#ifdef HIGH_PRECISION\\n\\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\\n#else\\n\\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\\n\\tfloat precisionSafeLength( vec3 v ) {\\n\\t\\tfloat maxComponent = max3( abs( v ) );\\n\\t\\treturn length( v / maxComponent ) * maxComponent;\\n\\t}\\n#endif\\nstruct IncidentLight {\\n\\tvec3 color;\\n\\tvec3 direction;\\n\\tbool visible;\\n};\\nstruct ReflectedLight {\\n\\tvec3 directDiffuse;\\n\\tvec3 directSpecular;\\n\\tvec3 indirectDiffuse;\\n\\tvec3 indirectSpecular;\\n};\\nstruct GeometricContext {\\n\\tvec3 position;\\n\\tvec3 normal;\\n\\tvec3 viewDir;\\n#ifdef CLEARCOAT\\n\\tvec3 clearcoatNormal;\\n#endif\\n};\\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\\n}\\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\\n}\\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\tfloat distance = dot( planeNormal, point - pointOnPlane );\\n\\treturn - distance * planeNormal + point;\\n}\\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn sign( dot( point - pointOnPlane, planeNormal ) );\\n}\\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\\n}\\nmat3 transposeMat3( const in mat3 m ) {\\n\\tmat3 tmp;\\n\\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\\n\\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\\n\\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\\n\\treturn tmp;\\n}\\nfloat linearToRelativeLuminance( const in vec3 color ) {\\n\\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\\n\\treturn dot( weights, color.rgb );\\n}\\nbool isPerspectiveMatrix( mat4 m ) {\\n  return m[ 2 ][ 3 ] == - 1.0;\\n}\";\n\n  var cube_uv_reflection_fragment = \"#ifdef ENVMAP_TYPE_CUBE_UV\\n#define cubeUV_maxMipLevel 8.0\\n#define cubeUV_minMipLevel 4.0\\n#define cubeUV_maxTileSize 256.0\\n#define cubeUV_minTileSize 16.0\\nfloat getFace(vec3 direction) {\\n    vec3 absDirection = abs(direction);\\n    float face = -1.0;\\n    if (absDirection.x > absDirection.z) {\\n      if (absDirection.x > absDirection.y)\\n        face = direction.x > 0.0 ? 0.0 : 3.0;\\n      else\\n        face = direction.y > 0.0 ? 1.0 : 4.0;\\n    } else {\\n      if (absDirection.z > absDirection.y)\\n        face = direction.z > 0.0 ? 2.0 : 5.0;\\n      else\\n        face = direction.y > 0.0 ? 1.0 : 4.0;\\n    }\\n    return face;\\n}\\nvec2 getUV(vec3 direction, float face) {\\n    vec2 uv;\\n    if (face == 0.0) {\\n      uv = vec2(-direction.z, direction.y) / abs(direction.x);\\n    } else if (face == 1.0) {\\n      uv = vec2(direction.x, -direction.z) / abs(direction.y);\\n    } else if (face == 2.0) {\\n      uv = direction.xy / abs(direction.z);\\n    } else if (face == 3.0) {\\n      uv = vec2(direction.z, direction.y) / abs(direction.x);\\n    } else if (face == 4.0) {\\n      uv = direction.xz / abs(direction.y);\\n    } else {\\n      uv = vec2(-direction.x, direction.y) / abs(direction.z);\\n    }\\n    return 0.5 * (uv + 1.0);\\n}\\nvec3 bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {\\n  float face = getFace(direction);\\n  float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);\\n  mipInt = max(mipInt, cubeUV_minMipLevel);\\n  float faceSize = exp2(mipInt);\\n  float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);\\n  vec2 uv = getUV(direction, face) * (faceSize - 1.0);\\n  vec2 f = fract(uv);\\n  uv += 0.5 - f;\\n  if (face > 2.0) {\\n    uv.y += faceSize;\\n    face -= 3.0;\\n  }\\n  uv.x += face * faceSize;\\n  if(mipInt < cubeUV_maxMipLevel){\\n    uv.y += 2.0 * cubeUV_maxTileSize;\\n  }\\n  uv.y += filterInt * 2.0 * cubeUV_minTileSize;\\n  uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);\\n  uv *= texelSize;\\n  vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\\n  uv.x += texelSize;\\n  vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\\n  uv.y += texelSize;\\n  vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\\n  uv.x -= texelSize;\\n  vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\\n  vec3 tm = mix(tl, tr, f.x);\\n  vec3 bm = mix(bl, br, f.x);\\n  return mix(tm, bm, f.y);\\n}\\n#define r0 1.0\\n#define v0 0.339\\n#define m0 -2.0\\n#define r1 0.8\\n#define v1 0.276\\n#define m1 -1.0\\n#define r4 0.4\\n#define v4 0.046\\n#define m4 2.0\\n#define r5 0.305\\n#define v5 0.016\\n#define m5 3.0\\n#define r6 0.21\\n#define v6 0.0038\\n#define m6 4.0\\nfloat roughnessToMip(float roughness) {\\n  float mip = 0.0;\\n  if (roughness >= r1) {\\n    mip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;\\n  } else if (roughness >= r4) {\\n    mip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;\\n  } else if (roughness >= r5) {\\n    mip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;\\n  } else if (roughness >= r6) {\\n    mip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;\\n  } else {\\n    mip = -2.0 * log2(1.16 * roughness);  }\\n  return mip;\\n}\\nvec4 textureCubeUV(sampler2D envMap, vec3 sampleDir, float roughness) {\\n  float mip = clamp(roughnessToMip(roughness), m0, cubeUV_maxMipLevel);\\n  float mipF = fract(mip);\\n  float mipInt = floor(mip);\\n  vec3 color0 = bilinearCubeUV(envMap, sampleDir, mipInt);\\n  if (mipF == 0.0) {\\n    return vec4(color0, 1.0);\\n  } else {\\n    vec3 color1 = bilinearCubeUV(envMap, sampleDir, mipInt + 1.0);\\n    return vec4(mix(color0, color1, mipF), 1.0);\\n  }\\n}\\n#endif\";\n\n  var defaultnormal_vertex = \"vec3 transformedNormal = objectNormal;\\n#ifdef USE_INSTANCING\\n\\ttransformedNormal = mat3( instanceMatrix ) * transformedNormal;\\n#endif\\ntransformedNormal = normalMatrix * transformedNormal;\\n#ifdef FLIP_SIDED\\n\\ttransformedNormal = - transformedNormal;\\n#endif\\n#ifdef USE_TANGENT\\n\\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#ifdef FLIP_SIDED\\n\\t\\ttransformedTangent = - transformedTangent;\\n\\t#endif\\n#endif\";\n\n  var displacementmap_pars_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\tuniform sampler2D displacementMap;\\n\\tuniform float displacementScale;\\n\\tuniform float displacementBias;\\n#endif\";\n\n  var displacementmap_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\\n#endif\";\n\n  var emissivemap_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\\n\\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\\n\\ttotalEmissiveRadiance *= emissiveColor.rgb;\\n#endif\";\n\n  var emissivemap_pars_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tuniform sampler2D emissiveMap;\\n#endif\";\n\n  var encodings_fragment = \"gl_FragColor = linearToOutputTexel( gl_FragColor );\";\n\n  var encodings_pars_fragment = \"\\nvec4 LinearToLinear( in vec4 value ) {\\n\\treturn value;\\n}\\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\\n}\\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\\n}\\nvec4 sRGBToLinear( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\\n}\\nvec4 LinearTosRGB( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\\n}\\nvec4 RGBEToLinear( in vec4 value ) {\\n\\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\\n}\\nvec4 LinearToRGBE( in vec4 value ) {\\n\\tfloat maxComponent = max( max( value.r, value.g ), value.b );\\n\\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\\n\\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\\n}\\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\\n}\\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\\n\\tM = ceil( M * 255.0 ) / 255.0;\\n\\treturn vec4( value.rgb / ( M * maxRange ), M );\\n}\\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\\n}\\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat D = max( maxRange / maxRGB, 1.0 );\\n\\tD = min( floor( D ) / 255.0, 1.0 );\\n\\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\\n}\\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\\nvec4 LinearToLogLuv( in vec4 value )  {\\n\\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\\n\\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\\n\\tvec4 vResult;\\n\\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\\n\\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\\n\\tvResult.w = fract( Le );\\n\\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\\n\\treturn vResult;\\n}\\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\\nvec4 LogLuvToLinear( in vec4 value ) {\\n\\tfloat Le = value.z * 255.0 + value.w;\\n\\tvec3 Xp_Y_XYZp;\\n\\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\\n\\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\\n\\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\\n\\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\\n\\treturn vec4( max( vRGB, 0.0 ), 1.0 );\\n}\";\n\n  var envmap_fragment = \"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvec3 cameraToFrag;\\n\\t\\t\\n\\t\\tif ( isOrthographic ) {\\n\\t\\t\\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\\n\\t\\t}  else {\\n\\t\\t\\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\\n\\t\\t}\\n\\t\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#else\\n\\t\\tvec3 reflectVec = vReflect;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\\n\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tvec4 envColor = textureCubeUV( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ), 0.0 );\\n\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\n\\t\\tvec2 sampleUV;\\n\\t\\treflectVec = normalize( reflectVec );\\n\\t\\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\t\\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\n\\t\\tvec4 envColor = texture2D( envMap, sampleUV );\\n\\t#elif defined( ENVMAP_TYPE_SPHERE )\\n\\t\\treflectVec = normalize( reflectVec );\\n\\t\\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\\n\\t\\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\\n\\t#else\\n\\t\\tvec4 envColor = vec4( 0.0 );\\n\\t#endif\\n\\t#ifndef ENVMAP_TYPE_CUBE_UV\\n\\t\\tenvColor = envMapTexelToLinear( envColor );\\n\\t#endif\\n\\t#ifdef ENVMAP_BLENDING_MULTIPLY\\n\\t\\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_MIX )\\n\\t\\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_ADD )\\n\\t\\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\\n\\t#endif\\n#endif\";\n\n  var envmap_common_pars_fragment = \"#ifdef USE_ENVMAP\\n\\tuniform float envMapIntensity;\\n\\tuniform float flipEnvMap;\\n\\tuniform int maxMipLevel;\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tuniform samplerCube envMap;\\n\\t#else\\n\\t\\tuniform sampler2D envMap;\\n\\t#endif\\n\\t\\n#endif\";\n\n  var envmap_pars_fragment = \"#ifdef USE_ENVMAP\\n\\tuniform float reflectivity;\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t\\tuniform float refractionRatio;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t#endif\\n#endif\";\n\n  var envmap_pars_vertex = \"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\t\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n#endif\";\n\n  var envmap_vertex = \"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvWorldPosition = worldPosition.xyz;\\n\\t#else\\n\\t\\tvec3 cameraToVertex;\\n\\t\\tif ( isOrthographic ) { \\n\\t\\t\\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\\n\\t\\t} else {\\n\\t\\t\\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\\n\\t\\t}\\n\\t\\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvReflect = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#endif\\n#endif\";\n\n  var fog_vertex = \"#ifdef USE_FOG\\n\\tfogDepth = -mvPosition.z;\\n#endif\";\n\n  var fog_pars_vertex = \"#ifdef USE_FOG\\n\\tvarying float fogDepth;\\n#endif\";\n\n  var fog_fragment = \"#ifdef USE_FOG\\n\\t#ifdef FOG_EXP2\\n\\t\\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\\n\\t#else\\n\\t\\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\\n\\t#endif\\n\\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\\n#endif\";\n\n  var fog_pars_fragment = \"#ifdef USE_FOG\\n\\tuniform vec3 fogColor;\\n\\tvarying float fogDepth;\\n\\t#ifdef FOG_EXP2\\n\\t\\tuniform float fogDensity;\\n\\t#else\\n\\t\\tuniform float fogNear;\\n\\t\\tuniform float fogFar;\\n\\t#endif\\n#endif\";\n\n  var gradientmap_pars_fragment = \"#ifdef USE_GRADIENTMAP\\n\\tuniform sampler2D gradientMap;\\n#endif\\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\\n\\tfloat dotNL = dot( normal, lightDirection );\\n\\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\\n\\t#ifdef USE_GRADIENTMAP\\n\\t\\treturn texture2D( gradientMap, coord ).rgb;\\n\\t#else\\n\\t\\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\\n\\t#endif\\n}\";\n\n  var lightmap_fragment = \"#ifdef USE_LIGHTMAP\\n\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n#endif\";\n\n  var lightmap_pars_fragment = \"#ifdef USE_LIGHTMAP\\n\\tuniform sampler2D lightMap;\\n\\tuniform float lightMapIntensity;\\n#endif\";\n\n  var lights_lambert_vertex = \"vec3 diffuse = vec3( 1.0 );\\nGeometricContext geometry;\\ngeometry.position = mvPosition.xyz;\\ngeometry.normal = normalize( transformedNormal );\\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\\nGeometricContext backGeometry;\\nbackGeometry.position = geometry.position;\\nbackGeometry.normal = -geometry.normal;\\nbackGeometry.viewDir = geometry.viewDir;\\nvLightFront = vec3( 0.0 );\\nvIndirectFront = vec3( 0.0 );\\n#ifdef DOUBLE_SIDED\\n\\tvLightBack = vec3( 0.0 );\\n\\tvIndirectBack = vec3( 0.0 );\\n#endif\\nIncidentLight directLight;\\nfloat dotNL;\\nvec3 directLightColor_Diffuse;\\n#if NUM_POINT_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_DIR_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\\n\\t\\t#endif\\n\\t}\\n#endif\";\n\n  var lights_pars_begin = \"uniform bool receiveShadow;\\nuniform vec3 ambientLightColor;\\nuniform vec3 lightProbe[ 9 ];\\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\\n\\tfloat x = normal.x, y = normal.y, z = normal.z;\\n\\tvec3 result = shCoefficients[ 0 ] * 0.886227;\\n\\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\\n\\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\\n\\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\\n\\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\\n\\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\\n\\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\\n\\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\\n\\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\\n\\treturn result;\\n}\\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\\n\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\\n\\treturn irradiance;\\n}\\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\\n\\tvec3 irradiance = ambientLightColor;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treturn irradiance;\\n}\\n#if NUM_DIR_LIGHTS > 0\\n\\tstruct DirectionalLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t};\\n\\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\\n\\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tdirectLight.color = directionalLight.color;\\n\\t\\tdirectLight.direction = directionalLight.direction;\\n\\t\\tdirectLight.visible = true;\\n\\t}\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\tstruct PointLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t\\tfloat shadowCameraNear;\\n\\t\\tfloat shadowCameraFar;\\n\\t};\\n\\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\\n\\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tvec3 lVector = pointLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tdirectLight.color = pointLight.color;\\n\\t\\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\\n\\t\\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\tstruct SpotLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tfloat coneCos;\\n\\t\\tfloat penumbraCos;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t};\\n\\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\\n\\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\\n\\t\\tvec3 lVector = spotLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tfloat angleCos = dot( directLight.direction, spotLight.direction );\\n\\t\\tif ( angleCos > spotLight.coneCos ) {\\n\\t\\t\\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\\n\\t\\t\\tdirectLight.color = spotLight.color;\\n\\t\\t\\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\\n\\t\\t\\tdirectLight.visible = true;\\n\\t\\t} else {\\n\\t\\t\\tdirectLight.color = vec3( 0.0 );\\n\\t\\t\\tdirectLight.visible = false;\\n\\t\\t}\\n\\t}\\n#endif\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tstruct RectAreaLight {\\n\\t\\tvec3 color;\\n\\t\\tvec3 position;\\n\\t\\tvec3 halfWidth;\\n\\t\\tvec3 halfHeight;\\n\\t};\\n\\tuniform sampler2D ltc_1;\\tuniform sampler2D ltc_2;\\n\\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\tstruct HemisphereLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 skyColor;\\n\\t\\tvec3 groundColor;\\n\\t};\\n\\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\\n\\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\\n\\t\\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\\n\\t\\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\\n\\t\\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tirradiance *= PI;\\n\\t\\t#endif\\n\\t\\treturn irradiance;\\n\\t}\\n#endif\";\n\n  var envmap_physical_pars_fragment = \"#if defined( USE_ENVMAP )\\n\\t#ifdef ENVMAP_MODE_REFRACTION\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n\\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\\n\\t\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\\n\\t\\t#else\\n\\t\\t\\tvec4 envMapColor = vec4( 0.0 );\\n\\t\\t#endif\\n\\t\\treturn PI * envMapColor.rgb * envMapIntensity;\\n\\t}\\n\\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\\n\\t\\tfloat maxMIPLevelScalar = float( maxMIPLevel );\\n\\t\\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\\n\\t\\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\\n\\t\\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\\n\\t}\\n\\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t  vec3 reflectVec = reflect( -viewDir, normal );\\n\\t\\t  reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\\n\\t\\t#else\\n\\t\\t  vec3 reflectVec = refract( -viewDir, normal, refractionRatio );\\n\\t\\t#endif\\n\\t\\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\\n\\t\\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, roughness );\\n\\t\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\n\\t\\t\\tvec2 sampleUV;\\n\\t\\t\\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\t\\t\\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_SPHERE )\\n\\t\\t\\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#endif\\n\\t\\treturn envMapColor.rgb * envMapIntensity;\\n\\t}\\n#endif\";\n\n  var lights_toon_fragment = \"ToonMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\\nmaterial.specularColor = specular;\\nmaterial.specularShininess = shininess;\\nmaterial.specularStrength = specularStrength;\";\n\n  var lights_toon_pars_fragment = \"varying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\nstruct ToonMaterial {\\n\\tvec3\\tdiffuseColor;\\n\\tvec3\\tspecularColor;\\n\\tfloat\\tspecularShininess;\\n\\tfloat\\tspecularStrength;\\n};\\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\\n}\\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Toon\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Toon\\n#define Material_LightProbeLOD( material )\\t(0)\";\n\n  var lights_phong_fragment = \"BlinnPhongMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\\nmaterial.specularColor = specular;\\nmaterial.specularShininess = shininess;\\nmaterial.specularStrength = specularStrength;\";\n\n  var lights_phong_pars_fragment = \"varying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\nstruct BlinnPhongMaterial {\\n\\tvec3\\tdiffuseColor;\\n\\tvec3\\tspecularColor;\\n\\tfloat\\tspecularShininess;\\n\\tfloat\\tspecularStrength;\\n};\\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\\n}\\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_BlinnPhong\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_BlinnPhong\\n#define Material_LightProbeLOD( material )\\t(0)\";\n\n  var lights_physical_fragment = \"PhysicalMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\\n#ifdef REFLECTIVITY\\n\\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\\n#else\\n\\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\\n#endif\\n#ifdef CLEARCOAT\\n\\tmaterial.clearcoat = saturate( clearcoat );\\tmaterial.clearcoatRoughness = max( clearcoatRoughness, 0.0525 );\\n\\tmaterial.clearcoatRoughness += geometryRoughness;\\n\\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\\n#endif\\n#ifdef USE_SHEEN\\n\\tmaterial.sheenColor = sheen;\\n#endif\";\n\n  var lights_physical_pars_fragment = \"struct PhysicalMaterial {\\n\\tvec3\\tdiffuseColor;\\n\\tfloat\\tspecularRoughness;\\n\\tvec3\\tspecularColor;\\n#ifdef CLEARCOAT\\n\\tfloat clearcoat;\\n\\tfloat clearcoatRoughness;\\n#endif\\n#ifdef USE_SHEEN\\n\\tvec3 sheenColor;\\n#endif\\n};\\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\\n\\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\\n}\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t\\tvec3 normal = geometry.normal;\\n\\t\\tvec3 viewDir = geometry.viewDir;\\n\\t\\tvec3 position = geometry.position;\\n\\t\\tvec3 lightPos = rectAreaLight.position;\\n\\t\\tvec3 halfWidth = rectAreaLight.halfWidth;\\n\\t\\tvec3 halfHeight = rectAreaLight.halfHeight;\\n\\t\\tvec3 lightColor = rectAreaLight.color;\\n\\t\\tfloat roughness = material.specularRoughness;\\n\\t\\tvec3 rectCoords[ 4 ];\\n\\t\\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\\t\\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\\n\\t\\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\\n\\t\\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\\n\\t\\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\\n\\t\\tvec4 t1 = texture2D( ltc_1, uv );\\n\\t\\tvec4 t2 = texture2D( ltc_2, uv );\\n\\t\\tmat3 mInv = mat3(\\n\\t\\t\\tvec3( t1.x, 0, t1.y ),\\n\\t\\t\\tvec3(    0, 1,    0 ),\\n\\t\\t\\tvec3( t1.z, 0, t1.w )\\n\\t\\t);\\n\\t\\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\\n\\t\\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\\n\\t\\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\\n\\t}\\n#endif\\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\t#ifdef CLEARCOAT\\n\\t\\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\\n\\t\\tvec3 ccIrradiance = ccDotNL * directLight.color;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tccIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\\n\\t\\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\\n\\t#else\\n\\t\\tfloat clearcoatDHR = 0.0;\\n\\t#endif\\n\\t#ifdef USE_SHEEN\\n\\t\\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\\n\\t\\t\\tmaterial.specularRoughness,\\n\\t\\t\\tdirectLight.direction,\\n\\t\\t\\tgeometry,\\n\\t\\t\\tmaterial.sheenColor\\n\\t\\t);\\n\\t#else\\n\\t\\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\\n\\t#endif\\n\\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\\n\\t#ifdef CLEARCOAT\\n\\t\\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\\n\\t\\tfloat ccDotNL = ccDotNV;\\n\\t\\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\\n\\t#else\\n\\t\\tfloat clearcoatDHR = 0.0;\\n\\t#endif\\n\\tfloat clearcoatInv = 1.0 - clearcoatDHR;\\n\\tvec3 singleScattering = vec3( 0.0 );\\n\\tvec3 multiScattering = vec3( 0.0 );\\n\\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\\n\\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\\n\\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\\n\\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\\n\\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\\n\\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Physical\\n#define RE_Direct_RectArea\\t\\tRE_Direct_RectArea_Physical\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Physical\\n#define RE_IndirectSpecular\\t\\tRE_IndirectSpecular_Physical\\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\\n\\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\\n}\";\n\n  var lights_fragment_begin = \"\\nGeometricContext geometry;\\ngeometry.position = - vViewPosition;\\ngeometry.normal = normal;\\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\\n#ifdef CLEARCOAT\\n\\tgeometry.clearcoatNormal = clearcoatNormal;\\n#endif\\nIncidentLight directLight;\\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tPointLight pointLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\\n\\t\\tdirectLight.color *= all( bvec3( pointLight.shadow, directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tSpotLight spotLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\\n\\t\\tdirectLight.color *= all( bvec3( spotLight.shadow, directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tDirectionalLight directionalLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\\n\\t\\tdirectLight.color *= all( bvec3( directionalLight.shadow, directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\\n\\tRectAreaLight rectAreaLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\\n\\t\\trectAreaLight = rectAreaLights[ i ];\\n\\t\\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if defined( RE_IndirectDiffuse )\\n\\tvec3 iblIrradiance = vec3( 0.0 );\\n\\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\\n\\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\\n\\t#if ( NUM_HEMI_LIGHTS > 0 )\\n\\t\\t#pragma unroll_loop\\n\\t\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\t\\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t}\\n\\t#endif\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tvec3 radiance = vec3( 0.0 );\\n\\tvec3 clearcoatRadiance = vec3( 0.0 );\\n#endif\";\n\n  var lights_fragment_maps = \"#if defined( RE_IndirectDiffuse )\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\t\\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tlightMapIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tirradiance += lightMapIrradiance;\\n\\t#endif\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\\n\\t#endif\\n#endif\\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\\n\\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\\n\\t#ifdef CLEARCOAT\\n\\t\\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\\n\\t#endif\\n#endif\";\n\n  var lights_fragment_end = \"#if defined( RE_IndirectDiffuse )\\n\\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\\n#endif\";\n\n  var logdepthbuf_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\\n#endif\";\n\n  var logdepthbuf_pars_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tuniform float logDepthBufFC;\\n\\tvarying float vFragDepth;\\n\\tvarying float vIsPerspective;\\n#endif\";\n\n  var logdepthbuf_pars_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvarying float vFragDepth;\\n\\t\\tvarying float vIsPerspective;\\n\\t#else\\n\\t\\tuniform float logDepthBufFC;\\n\\t#endif\\n#endif\";\n\n  var logdepthbuf_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvFragDepth = 1.0 + gl_Position.w;\\n\\t\\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\\n\\t#else\\n\\t\\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\\n\\t\\t\\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\\n\\t\\t\\tgl_Position.z *= gl_Position.w;\\n\\t\\t}\\n\\t#endif\\n#endif\";\n\n  var map_fragment = \"#ifdef USE_MAP\\n\\tvec4 texelColor = texture2D( map, vUv );\\n\\ttexelColor = mapTexelToLinear( texelColor );\\n\\tdiffuseColor *= texelColor;\\n#endif\";\n\n  var map_pars_fragment = \"#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\";\n\n  var map_particle_fragment = \"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\\n\\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\\n#endif\\n#ifdef USE_MAP\\n\\tvec4 mapTexel = texture2D( map, uv );\\n\\tdiffuseColor *= mapTexelToLinear( mapTexel );\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\\n#endif\";\n\n  var map_particle_pars_fragment = \"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\\n\\tuniform mat3 uvTransform;\\n#endif\\n#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\";\n\n  var metalnessmap_fragment = \"float metalnessFactor = metalness;\\n#ifdef USE_METALNESSMAP\\n\\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\\n\\tmetalnessFactor *= texelMetalness.b;\\n#endif\";\n\n  var metalnessmap_pars_fragment = \"#ifdef USE_METALNESSMAP\\n\\tuniform sampler2D metalnessMap;\\n#endif\";\n\n  var morphnormal_vertex = \"#ifdef USE_MORPHNORMALS\\n\\tobjectNormal *= morphTargetBaseInfluence;\\n\\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\\n\\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\\n\\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\\n\\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\\n#endif\";\n\n  var morphtarget_pars_vertex = \"#ifdef USE_MORPHTARGETS\\n\\tuniform float morphTargetBaseInfluence;\\n\\t#ifndef USE_MORPHNORMALS\\n\\tuniform float morphTargetInfluences[ 8 ];\\n\\t#else\\n\\tuniform float morphTargetInfluences[ 4 ];\\n\\t#endif\\n#endif\";\n\n  var morphtarget_vertex = \"#ifdef USE_MORPHTARGETS\\n\\ttransformed *= morphTargetBaseInfluence;\\n\\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\\n\\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\\n\\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\\n\\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\\n\\t#ifndef USE_MORPHNORMALS\\n\\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\\n\\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\\n\\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\\n\\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\\n\\t#endif\\n#endif\";\n\n  var normal_fragment_begin = \"#ifdef FLAT_SHADED\\n\\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\\n\\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\\n\\tvec3 normal = normalize( cross( fdx, fdy ) );\\n#else\\n\\tvec3 normal = normalize( vNormal );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t#endif\\n\\t#ifdef USE_TANGENT\\n\\t\\tvec3 tangent = normalize( vTangent );\\n\\t\\tvec3 bitangent = normalize( vBitangent );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\t\\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\t#endif\\n\\t\\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\\n\\t\\t\\tmat3 vTBN = mat3( tangent, bitangent, normal );\\n\\t\\t#endif\\n\\t#endif\\n#endif\\nvec3 geometryNormal = normal;\";\n\n  var normal_fragment_maps = \"#ifdef OBJECTSPACE_NORMALMAP\\n\\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t#ifdef FLIP_SIDED\\n\\t\\tnormal = - normal;\\n\\t#endif\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t#endif\\n\\tnormal = normalize( normalMatrix * normal );\\n#elif defined( TANGENTSPACE_NORMALMAP )\\n\\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\tmapN.xy *= normalScale;\\n\\t#ifdef USE_TANGENT\\n\\t\\tnormal = normalize( vTBN * mapN );\\n\\t#else\\n\\t\\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\\n\\t#endif\\n#elif defined( USE_BUMPMAP )\\n\\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\\n#endif\";\n\n  var normalmap_pars_fragment = \"#ifdef USE_NORMALMAP\\n\\tuniform sampler2D normalMap;\\n\\tuniform vec2 normalScale;\\n#endif\\n#ifdef OBJECTSPACE_NORMALMAP\\n\\tuniform mat3 normalMatrix;\\n#endif\\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\\n\\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\\n\\t\\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\\n\\t\\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\\n\\t\\tvec2 st0 = dFdx( vUv.st );\\n\\t\\tvec2 st1 = dFdy( vUv.st );\\n\\t\\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\\n\\t\\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\\n\\t\\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\\n\\t\\tvec3 N = normalize( surf_norm );\\n\\t\\tmat3 tsn = mat3( S, T, N );\\n\\t\\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\treturn normalize( tsn * mapN );\\n\\t}\\n#endif\";\n\n  var clearcoat_normal_fragment_begin = \"#ifdef CLEARCOAT\\n\\tvec3 clearcoatNormal = geometryNormal;\\n#endif\";\n\n  var clearcoat_normal_fragment_maps = \"#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\\n\\tclearcoatMapN.xy *= clearcoatNormalScale;\\n\\t#ifdef USE_TANGENT\\n\\t\\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\\n\\t#else\\n\\t\\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\\n\\t#endif\\n#endif\";\n\n  var clearcoat_normalmap_pars_fragment = \"#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tuniform sampler2D clearcoatNormalMap;\\n\\tuniform vec2 clearcoatNormalScale;\\n#endif\";\n\n  var packing = \"vec3 packNormalToRGB( const in vec3 normal ) {\\n\\treturn normalize( normal ) * 0.5 + 0.5;\\n}\\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\\n\\treturn 2.0 * rgb.xyz - 1.0;\\n}\\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\\nconst float ShiftRight8 = 1. / 256.;\\nvec4 packDepthToRGBA( const in float v ) {\\n\\tvec4 r = vec4( fract( v * PackFactors ), v );\\n\\tr.yzw -= r.xyz * ShiftRight8;\\treturn r * PackUpscale;\\n}\\nfloat unpackRGBAToDepth( const in vec4 v ) {\\n\\treturn dot( v, UnpackFactors );\\n}\\nvec4 pack2HalfToRGBA( vec2 v ) {\\n\\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\\n\\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\\n}\\nvec2 unpackRGBATo2Half( vec4 v ) {\\n\\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\\n}\\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn ( viewZ + near ) / ( near - far );\\n}\\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\\n\\treturn linearClipZ * ( near - far ) - near;\\n}\\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\\n}\\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\\n\\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\\n}\";\n\n  var premultiplied_alpha_fragment = \"#ifdef PREMULTIPLIED_ALPHA\\n\\tgl_FragColor.rgb *= gl_FragColor.a;\\n#endif\";\n\n  var project_vertex = \"vec4 mvPosition = vec4( transformed, 1.0 );\\n#ifdef USE_INSTANCING\\n\\tmvPosition = instanceMatrix * mvPosition;\\n#endif\\nmvPosition = modelViewMatrix * mvPosition;\\ngl_Position = projectionMatrix * mvPosition;\";\n\n  var dithering_fragment = \"#ifdef DITHERING\\n\\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\\n#endif\";\n\n  var dithering_pars_fragment = \"#ifdef DITHERING\\n\\tvec3 dithering( vec3 color ) {\\n\\t\\tfloat grid_position = rand( gl_FragCoord.xy );\\n\\t\\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\\n\\t\\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\\n\\t\\treturn color + dither_shift_RGB;\\n\\t}\\n#endif\";\n\n  var roughnessmap_fragment = \"float roughnessFactor = roughness;\\n#ifdef USE_ROUGHNESSMAP\\n\\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\\n\\troughnessFactor *= texelRoughness.g;\\n#endif\";\n\n  var roughnessmap_pars_fragment = \"#ifdef USE_ROUGHNESSMAP\\n\\tuniform sampler2D roughnessMap;\\n#endif\";\n\n  var shadowmap_pars_fragment = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\\n\\t\\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\\n\\t}\\n\\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\\n\\t\\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\\n\\t}\\n\\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\\n\\t\\tfloat occlusion = 1.0;\\n\\t\\tvec2 distribution = texture2DDistribution( shadow, uv );\\n\\t\\tfloat hard_shadow = step( compare , distribution.x );\\n\\t\\tif (hard_shadow != 1.0 ) {\\n\\t\\t\\tfloat distance = compare - distribution.x ;\\n\\t\\t\\tfloat variance = max( 0.00000, distribution.y * distribution.y );\\n\\t\\t\\tfloat softness_probability = variance / (variance + distance * distance );\\t\\t\\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\\t\\t\\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\\n\\t\\t}\\n\\t\\treturn occlusion;\\n\\t}\\n\\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\\n\\t\\tconst vec2 offset = vec2( 0.0, 1.0 );\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / size;\\n\\t\\tvec2 centroidUV = ( floor( uv * size - 0.5 ) + 0.5 ) * texelSize;\\n\\t\\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\\n\\t\\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\\n\\t\\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\\n\\t\\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\\n\\t\\tvec2 f = fract( uv * size + 0.5 );\\n\\t\\tfloat a = mix( lb, lt, f.y );\\n\\t\\tfloat b = mix( rb, rt, f.y );\\n\\t\\tfloat c = mix( a, b, f.x );\\n\\t\\treturn c;\\n\\t}\\n\\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\n\\t\\tfloat shadow = 1.0;\\n\\t\\tshadowCoord.xyz /= shadowCoord.w;\\n\\t\\tshadowCoord.z += shadowBias;\\n\\t\\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\\n\\t\\tbool inFrustum = all( inFrustumVec );\\n\\t\\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\\n\\t\\tbool frustumTest = all( frustumTestVec );\\n\\t\\tif ( frustumTest ) {\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx2 = dx0 / 2.0;\\n\\t\\t\\tfloat dy2 = dy0 / 2.0;\\n\\t\\t\\tfloat dx3 = dx1 / 2.0;\\n\\t\\t\\tfloat dy3 = dy1 / 2.0;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 17.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#else\\n\\t\\t\\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#endif\\n\\t\\t}\\n\\t\\treturn shadow;\\n\\t}\\n\\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\\n\\t\\tvec3 absV = abs( v );\\n\\t\\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\\n\\t\\tabsV *= scaleToCube;\\n\\t\\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\\n\\t\\tvec2 planar = v.xy;\\n\\t\\tfloat almostATexel = 1.5 * texelSizeY;\\n\\t\\tfloat almostOne = 1.0 - almostATexel;\\n\\t\\tif ( absV.z >= almostOne ) {\\n\\t\\t\\tif ( v.z > 0.0 )\\n\\t\\t\\t\\tplanar.x = 4.0 - v.x;\\n\\t\\t} else if ( absV.x >= almostOne ) {\\n\\t\\t\\tfloat signX = sign( v.x );\\n\\t\\t\\tplanar.x = v.z * signX + 2.0 * signX;\\n\\t\\t} else if ( absV.y >= almostOne ) {\\n\\t\\t\\tfloat signY = sign( v.y );\\n\\t\\t\\tplanar.x = v.x + 2.0 * signY + 2.0;\\n\\t\\t\\tplanar.y = v.z * signY - 2.0;\\n\\t\\t}\\n\\t\\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\\n\\t}\\n\\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\\n\\t\\tvec3 lightToPosition = shadowCoord.xyz;\\n\\t\\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\\t\\tdp += shadowBias;\\n\\t\\tvec3 bd3D = normalize( lightToPosition );\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\\n\\t\\t#endif\\n\\t}\\n#endif\";\n\n  var shadowmap_pars_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n#endif\";\n\n  var shadowmap_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n#endif\";\n\n  var shadowmask_pars_fragment = \"float getShadowMask() {\\n\\tfloat shadow = 1.0;\\n\\t#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\tDirectionalLight directionalLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tshadow *= all( bvec2( directionalLight.shadow, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\tSpotLight spotLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tshadow *= all( bvec2( spotLight.shadow, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\tPointLight pointLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tshadow *= all( bvec2( pointLight.shadow, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#endif\\n\\treturn shadow;\\n}\";\n\n  var skinbase_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\\n\\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\\n\\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\\n\\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\\n#endif\";\n\n  var skinning_pars_vertex = \"#ifdef USE_SKINNING\\n\\tuniform mat4 bindMatrix;\\n\\tuniform mat4 bindMatrixInverse;\\n\\t#ifdef BONE_TEXTURE\\n\\t\\tuniform highp sampler2D boneTexture;\\n\\t\\tuniform int boneTextureSize;\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tfloat j = i * 4.0;\\n\\t\\t\\tfloat x = mod( j, float( boneTextureSize ) );\\n\\t\\t\\tfloat y = floor( j / float( boneTextureSize ) );\\n\\t\\t\\tfloat dx = 1.0 / float( boneTextureSize );\\n\\t\\t\\tfloat dy = 1.0 / float( boneTextureSize );\\n\\t\\t\\ty = dy * ( y + 0.5 );\\n\\t\\t\\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\\n\\t\\t\\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\\n\\t\\t\\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\\n\\t\\t\\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\\n\\t\\t\\tmat4 bone = mat4( v1, v2, v3, v4 );\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#else\\n\\t\\tuniform mat4 boneMatrices[ MAX_BONES ];\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tmat4 bone = boneMatrices[ int(i) ];\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#endif\\n#endif\";\n\n  var skinning_vertex = \"#ifdef USE_SKINNING\\n\\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\\n\\tvec4 skinned = vec4( 0.0 );\\n\\tskinned += boneMatX * skinVertex * skinWeight.x;\\n\\tskinned += boneMatY * skinVertex * skinWeight.y;\\n\\tskinned += boneMatZ * skinVertex * skinWeight.z;\\n\\tskinned += boneMatW * skinVertex * skinWeight.w;\\n\\ttransformed = ( bindMatrixInverse * skinned ).xyz;\\n#endif\";\n\n  var skinnormal_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 skinMatrix = mat4( 0.0 );\\n\\tskinMatrix += skinWeight.x * boneMatX;\\n\\tskinMatrix += skinWeight.y * boneMatY;\\n\\tskinMatrix += skinWeight.z * boneMatZ;\\n\\tskinMatrix += skinWeight.w * boneMatW;\\n\\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\\n\\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\\n\\t#ifdef USE_TANGENT\\n\\t\\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#endif\\n#endif\";\n\n  var specularmap_fragment = \"float specularStrength;\\n#ifdef USE_SPECULARMAP\\n\\tvec4 texelSpecular = texture2D( specularMap, vUv );\\n\\tspecularStrength = texelSpecular.r;\\n#else\\n\\tspecularStrength = 1.0;\\n#endif\";\n\n  var specularmap_pars_fragment = \"#ifdef USE_SPECULARMAP\\n\\tuniform sampler2D specularMap;\\n#endif\";\n\n  var tonemapping_fragment = \"#if defined( TONE_MAPPING )\\n\\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\\n#endif\";\n\n  var tonemapping_pars_fragment = \"#ifndef saturate\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#endif\\nuniform float toneMappingExposure;\\nuniform float toneMappingWhitePoint;\\nvec3 LinearToneMapping( vec3 color ) {\\n\\treturn toneMappingExposure * color;\\n}\\nvec3 ReinhardToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( color / ( vec3( 1.0 ) + color ) );\\n}\\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\\nvec3 Uncharted2ToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\\n}\\nvec3 OptimizedCineonToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\tcolor = max( vec3( 0.0 ), color - 0.004 );\\n\\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\\n}\\nvec3 ACESFilmicToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\\n}\";\n\n  var uv_pars_fragment = \"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\\n\\tvarying vec2 vUv;\\n#endif\";\n\n  var uv_pars_vertex = \"#ifdef USE_UV\\n\\t#ifdef UVS_VERTEX_ONLY\\n\\t\\tvec2 vUv;\\n\\t#else\\n\\t\\tvarying vec2 vUv;\\n\\t#endif\\n\\tuniform mat3 uvTransform;\\n#endif\";\n\n  var uv_vertex = \"#ifdef USE_UV\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n#endif\";\n\n  var uv2_pars_fragment = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvarying vec2 vUv2;\\n#endif\";\n\n  var uv2_pars_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tattribute vec2 uv2;\\n\\tvarying vec2 vUv2;\\n\\tuniform mat3 uv2Transform;\\n#endif\";\n\n  var uv2_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\\n#endif\";\n\n  var worldpos_vertex = \"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\\n\\tvec4 worldPosition = vec4( transformed, 1.0 );\\n\\t#ifdef USE_INSTANCING\\n\\t\\tworldPosition = instanceMatrix * worldPosition;\\n\\t#endif\\n\\tworldPosition = modelMatrix * worldPosition;\\n#endif\";\n\n  var background_frag = \"uniform sampler2D t2D;\\nvarying vec2 vUv;\\nvoid main() {\\n\\tvec4 texColor = texture2D( t2D, vUv );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\n  var background_vert = \"varying vec2 vUv;\\nuniform mat3 uvTransform;\\nvoid main() {\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n\\tgl_Position = vec4( position.xy, 1.0, 1.0 );\\n}\";\n\n  var cube_frag = \"#include <envmap_common_pars_fragment>\\nuniform float opacity;\\nvarying vec3 vWorldDirection;\\n#include <cube_uv_reflection_fragment>\\nvoid main() {\\n\\tvec3 vReflect = vWorldDirection;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = envColor;\\n\\tgl_FragColor.a *= opacity;\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\n  var cube_vert = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\tgl_Position.z = gl_Position.w;\\n}\";\n\n  var depth_frag = \"#if DEPTH_PACKING == 3200\\n\\tuniform float opacity;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tdiffuseColor.a = opacity;\\n\\t#endif\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\\n\\t#elif DEPTH_PACKING == 3201\\n\\t\\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\\n\\t#endif\\n}\";\n\n  var depth_vert = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n}\";\n\n  var distanceRGBA_frag = \"#define DISTANCE\\nuniform vec3 referencePosition;\\nuniform float nearDistance;\\nuniform float farDistance;\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main () {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\tfloat dist = length( vWorldPosition - referencePosition );\\n\\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\\n\\tdist = saturate( dist );\\n\\tgl_FragColor = packDepthToRGBA( dist );\\n}\";\n\n  var distanceRGBA_vert = \"#define DISTANCE\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvWorldPosition = worldPosition.xyz;\\n}\";\n\n  var equirect_frag = \"uniform sampler2D tEquirect;\\nvarying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvec3 direction = normalize( vWorldDirection );\\n\\tvec2 sampleUV;\\n\\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\\n\\tvec4 texColor = texture2D( tEquirect, sampleUV );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\n  var equirect_vert = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n}\";\n\n  var linedashed_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\nuniform float dashSize;\\nuniform float totalSize;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\\n\\t\\tdiscard;\\n\\t}\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <color_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\n  var linedashed_vert = \"uniform float scale;\\nattribute float lineDistance;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\tvLineDistance = scale * lineDistance;\\n\\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\n  var meshbasic_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <fog_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\n\\t\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\t\\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vec3( 1.0 );\\n\\t#endif\\n\\t#include <aomap_fragment>\\n\\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\\n\\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\n  var meshbasic_vert = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_ENVMAP\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\n  var meshlambert_frag = \"uniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <fog_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <emissivemap_fragment>\\n\\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vIndirectFront;\\n\\t#endif\\n\\t#include <lightmap_fragment>\\n\\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\\n\\t#else\\n\\t\\treflectedLight.directDiffuse = vLightFront;\\n\\t#endif\\n\\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\n  var meshlambert_vert = \"#define LAMBERT\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <lights_lambert_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\n  var meshmatcap_frag = \"#define MATCAP\\nuniform vec3 diffuse;\\nuniform float opacity;\\nuniform sampler2D matcap;\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tvec3 viewDir = normalize( vViewPosition );\\n\\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\\n\\tvec3 y = cross( viewDir, x );\\n\\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\\n\\t#ifdef USE_MATCAP\\n\\t\\tvec4 matcapColor = texture2D( matcap, uv );\\n\\t\\tmatcapColor = matcapTexelToLinear( matcapColor );\\n\\t#else\\n\\t\\tvec4 matcapColor = vec4( 1.0 );\\n\\t#endif\\n\\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\n  var meshmatcap_vert = \"#define MATCAP\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#ifndef FLAT_SHADED\\n\\t\\tvNormal = normalize( transformedNormal );\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n}\";\n\n  var meshtoon_frag = \"#define TOON\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform vec3 specular;\\nuniform float shininess;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <gradientmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <lights_toon_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_toon_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\n  var meshtoon_vert = \"#define TOON\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\n  var meshphong_frag = \"#define PHONG\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform vec3 specular;\\nuniform float shininess;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <lights_phong_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_phong_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\n  var meshphong_vert = \"#define PHONG\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\n  var meshphysical_frag = \"#define STANDARD\\n#ifdef PHYSICAL\\n\\t#define REFLECTIVITY\\n\\t#define CLEARCOAT\\n\\t#define TRANSPARENCY\\n#endif\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float roughness;\\nuniform float metalness;\\nuniform float opacity;\\n#ifdef TRANSPARENCY\\n\\tuniform float transparency;\\n#endif\\n#ifdef REFLECTIVITY\\n\\tuniform float reflectivity;\\n#endif\\n#ifdef CLEARCOAT\\n\\tuniform float clearcoat;\\n\\tuniform float clearcoatRoughness;\\n#endif\\n#ifdef USE_SHEEN\\n\\tuniform vec3 sheen;\\n#endif\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <bsdfs>\\n#include <cube_uv_reflection_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_physical_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <lights_pars_begin>\\n#include <lights_physical_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <clearcoat_normalmap_pars_fragment>\\n#include <roughnessmap_pars_fragment>\\n#include <metalnessmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <roughnessmap_fragment>\\n\\t#include <metalnessmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <clearcoat_normal_fragment_begin>\\n\\t#include <clearcoat_normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_physical_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#ifdef TRANSPARENCY\\n\\t\\tdiffuseColor.a *= saturate( 1. - transparency + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );\\n\\t#endif\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\n  var meshphysical_vert = \"#define STANDARD\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n\\t#ifdef USE_TANGENT\\n\\t\\tvTangent = normalize( transformedTangent );\\n\\t\\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\\n\\t#endif\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\n  var normal_frag = \"#define NORMAL\\nuniform float opacity;\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\\n}\";\n\n  var normal_vert = \"#define NORMAL\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n\\t#ifdef USE_TANGENT\\n\\t\\tvTangent = normalize( transformedTangent );\\n\\t\\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\\n\\t#endif\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\\n}\";\n\n  var points_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <map_particle_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_particle_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\n  var points_vert = \"uniform float size;\\nuniform float scale;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <project_vertex>\\n\\tgl_PointSize = size;\\n\\t#ifdef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\\n\\t#endif\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\n  var shadow_frag = \"uniform vec3 color;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\nvoid main() {\\n\\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\\n\\t#include <fog_fragment>\\n}\";\n\n  var shadow_vert = \"#include <fog_pars_vertex>\\n#include <shadowmap_pars_vertex>\\nvoid main() {\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\n  var sprite_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\n  var sprite_vert = \"uniform float rotation;\\nuniform vec2 center;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\\n\\tvec2 scale;\\n\\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\\n\\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\\n\\t#ifndef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) scale *= - mvPosition.z;\\n\\t#endif\\n\\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\\n\\tvec2 rotatedPosition;\\n\\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\\n\\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\\n\\tmvPosition.xy += rotatedPosition;\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\n  var ShaderChunk = {\n    alphamap_fragment: alphamap_fragment,\n    alphamap_pars_fragment: alphamap_pars_fragment,\n    alphatest_fragment: alphatest_fragment,\n    aomap_fragment: aomap_fragment,\n    aomap_pars_fragment: aomap_pars_fragment,\n    begin_vertex: begin_vertex,\n    beginnormal_vertex: beginnormal_vertex,\n    bsdfs: bsdfs,\n    bumpmap_pars_fragment: bumpmap_pars_fragment,\n    clipping_planes_fragment: clipping_planes_fragment,\n    clipping_planes_pars_fragment: clipping_planes_pars_fragment,\n    clipping_planes_pars_vertex: clipping_planes_pars_vertex,\n    clipping_planes_vertex: clipping_planes_vertex,\n    color_fragment: color_fragment,\n    color_pars_fragment: color_pars_fragment,\n    color_pars_vertex: color_pars_vertex,\n    color_vertex: color_vertex,\n    common: common,\n    cube_uv_reflection_fragment: cube_uv_reflection_fragment,\n    defaultnormal_vertex: defaultnormal_vertex,\n    displacementmap_pars_vertex: displacementmap_pars_vertex,\n    displacementmap_vertex: displacementmap_vertex,\n    emissivemap_fragment: emissivemap_fragment,\n    emissivemap_pars_fragment: emissivemap_pars_fragment,\n    encodings_fragment: encodings_fragment,\n    encodings_pars_fragment: encodings_pars_fragment,\n    envmap_fragment: envmap_fragment,\n    envmap_common_pars_fragment: envmap_common_pars_fragment,\n    envmap_pars_fragment: envmap_pars_fragment,\n    envmap_pars_vertex: envmap_pars_vertex,\n    envmap_physical_pars_fragment: envmap_physical_pars_fragment,\n    envmap_vertex: envmap_vertex,\n    fog_vertex: fog_vertex,\n    fog_pars_vertex: fog_pars_vertex,\n    fog_fragment: fog_fragment,\n    fog_pars_fragment: fog_pars_fragment,\n    gradientmap_pars_fragment: gradientmap_pars_fragment,\n    lightmap_fragment: lightmap_fragment,\n    lightmap_pars_fragment: lightmap_pars_fragment,\n    lights_lambert_vertex: lights_lambert_vertex,\n    lights_pars_begin: lights_pars_begin,\n    lights_toon_fragment: lights_toon_fragment,\n    lights_toon_pars_fragment: lights_toon_pars_fragment,\n    lights_phong_fragment: lights_phong_fragment,\n    lights_phong_pars_fragment: lights_phong_pars_fragment,\n    lights_physical_fragment: lights_physical_fragment,\n    lights_physical_pars_fragment: lights_physical_pars_fragment,\n    lights_fragment_begin: lights_fragment_begin,\n    lights_fragment_maps: lights_fragment_maps,\n    lights_fragment_end: lights_fragment_end,\n    logdepthbuf_fragment: logdepthbuf_fragment,\n    logdepthbuf_pars_fragment: logdepthbuf_pars_fragment,\n    logdepthbuf_pars_vertex: logdepthbuf_pars_vertex,\n    logdepthbuf_vertex: logdepthbuf_vertex,\n    map_fragment: map_fragment,\n    map_pars_fragment: map_pars_fragment,\n    map_particle_fragment: map_particle_fragment,\n    map_particle_pars_fragment: map_particle_pars_fragment,\n    metalnessmap_fragment: metalnessmap_fragment,\n    metalnessmap_pars_fragment: metalnessmap_pars_fragment,\n    morphnormal_vertex: morphnormal_vertex,\n    morphtarget_pars_vertex: morphtarget_pars_vertex,\n    morphtarget_vertex: morphtarget_vertex,\n    normal_fragment_begin: normal_fragment_begin,\n    normal_fragment_maps: normal_fragment_maps,\n    normalmap_pars_fragment: normalmap_pars_fragment,\n    clearcoat_normal_fragment_begin: clearcoat_normal_fragment_begin,\n    clearcoat_normal_fragment_maps: clearcoat_normal_fragment_maps,\n    clearcoat_normalmap_pars_fragment: clearcoat_normalmap_pars_fragment,\n    packing: packing,\n    premultiplied_alpha_fragment: premultiplied_alpha_fragment,\n    project_vertex: project_vertex,\n    dithering_fragment: dithering_fragment,\n    dithering_pars_fragment: dithering_pars_fragment,\n    roughnessmap_fragment: roughnessmap_fragment,\n    roughnessmap_pars_fragment: roughnessmap_pars_fragment,\n    shadowmap_pars_fragment: shadowmap_pars_fragment,\n    shadowmap_pars_vertex: shadowmap_pars_vertex,\n    shadowmap_vertex: shadowmap_vertex,\n    shadowmask_pars_fragment: shadowmask_pars_fragment,\n    skinbase_vertex: skinbase_vertex,\n    skinning_pars_vertex: skinning_pars_vertex,\n    skinning_vertex: skinning_vertex,\n    skinnormal_vertex: skinnormal_vertex,\n    specularmap_fragment: specularmap_fragment,\n    specularmap_pars_fragment: specularmap_pars_fragment,\n    tonemapping_fragment: tonemapping_fragment,\n    tonemapping_pars_fragment: tonemapping_pars_fragment,\n    uv_pars_fragment: uv_pars_fragment,\n    uv_pars_vertex: uv_pars_vertex,\n    uv_vertex: uv_vertex,\n    uv2_pars_fragment: uv2_pars_fragment,\n    uv2_pars_vertex: uv2_pars_vertex,\n    uv2_vertex: uv2_vertex,\n    worldpos_vertex: worldpos_vertex,\n\n    background_frag: background_frag,\n    background_vert: background_vert,\n    cube_frag: cube_frag,\n    cube_vert: cube_vert,\n    depth_frag: depth_frag,\n    depth_vert: depth_vert,\n    distanceRGBA_frag: distanceRGBA_frag,\n    distanceRGBA_vert: distanceRGBA_vert,\n    equirect_frag: equirect_frag,\n    equirect_vert: equirect_vert,\n    linedashed_frag: linedashed_frag,\n    linedashed_vert: linedashed_vert,\n    meshbasic_frag: meshbasic_frag,\n    meshbasic_vert: meshbasic_vert,\n    meshlambert_frag: meshlambert_frag,\n    meshlambert_vert: meshlambert_vert,\n    meshmatcap_frag: meshmatcap_frag,\n    meshmatcap_vert: meshmatcap_vert,\n    meshtoon_frag: meshtoon_frag,\n    meshtoon_vert: meshtoon_vert,\n    meshphong_frag: meshphong_frag,\n    meshphong_vert: meshphong_vert,\n    meshphysical_frag: meshphysical_frag,\n    meshphysical_vert: meshphysical_vert,\n    normal_frag: normal_frag,\n    normal_vert: normal_vert,\n    points_frag: points_frag,\n    points_vert: points_vert,\n    shadow_frag: shadow_frag,\n    shadow_vert: shadow_vert,\n    sprite_frag: sprite_frag,\n    sprite_vert: sprite_vert\n  };\n\n  /**\n   * Uniforms library for shared webgl shaders\n   */\n\n  var UniformsLib = {\n\n    common: {\n\n      diffuse: {\n        value: new Color(0xeeeeee)\n      },\n      opacity: {\n        value: 1.0\n      },\n\n      map: {\n        value: null\n      },\n      uvTransform: {\n        value: new Matrix3()\n      },\n      uv2Transform: {\n        value: new Matrix3()\n      },\n\n      alphaMap: {\n        value: null\n      },\n\n    },\n\n    specularmap: {\n\n      specularMap: {\n        value: null\n      },\n\n    },\n\n    envmap: {\n\n      envMap: {\n        value: null\n      },\n      flipEnvMap: {\n        value: -1\n      },\n      reflectivity: {\n        value: 1.0\n      },\n      refractionRatio: {\n        value: 0.98\n      },\n      maxMipLevel: {\n        value: 0\n      }\n\n    },\n\n    aomap: {\n\n      aoMap: {\n        value: null\n      },\n      aoMapIntensity: {\n        value: 1\n      }\n\n    },\n\n    lightmap: {\n\n      lightMap: {\n        value: null\n      },\n      lightMapIntensity: {\n        value: 1\n      }\n\n    },\n\n    emissivemap: {\n\n      emissiveMap: {\n        value: null\n      }\n\n    },\n\n    bumpmap: {\n\n      bumpMap: {\n        value: null\n      },\n      bumpScale: {\n        value: 1\n      }\n\n    },\n\n    normalmap: {\n\n      normalMap: {\n        value: null\n      },\n      normalScale: {\n        value: new Vector2(1, 1)\n      }\n\n    },\n\n    displacementmap: {\n\n      displacementMap: {\n        value: null\n      },\n      displacementScale: {\n        value: 1\n      },\n      displacementBias: {\n        value: 0\n      }\n\n    },\n\n    roughnessmap: {\n\n      roughnessMap: {\n        value: null\n      }\n\n    },\n\n    metalnessmap: {\n\n      metalnessMap: {\n        value: null\n      }\n\n    },\n\n    gradientmap: {\n\n      gradientMap: {\n        value: null\n      }\n\n    },\n\n    fog: {\n\n      fogDensity: {\n        value: 0.00025\n      },\n      fogNear: {\n        value: 1\n      },\n      fogFar: {\n        value: 2000\n      },\n      fogColor: {\n        value: new Color(0xffffff)\n      }\n\n    },\n\n    lights: {\n\n      ambientLightColor: {\n        value: []\n      },\n\n      lightProbe: {\n        value: []\n      },\n\n      directionalLights: {\n        value: [],\n        properties: {\n          direction: {},\n          color: {},\n\n          shadow: {},\n          shadowBias: {},\n          shadowRadius: {},\n          shadowMapSize: {}\n        }\n      },\n\n      directionalShadowMap: {\n        value: []\n      },\n      directionalShadowMatrix: {\n        value: []\n      },\n\n      spotLights: {\n        value: [],\n        properties: {\n          color: {},\n          position: {},\n          direction: {},\n          distance: {},\n          coneCos: {},\n          penumbraCos: {},\n          decay: {},\n\n          shadow: {},\n          shadowBias: {},\n          shadowRadius: {},\n          shadowMapSize: {}\n        }\n      },\n\n      spotShadowMap: {\n        value: []\n      },\n      spotShadowMatrix: {\n        value: []\n      },\n\n      pointLights: {\n        value: [],\n        properties: {\n          color: {},\n          position: {},\n          decay: {},\n          distance: {},\n\n          shadow: {},\n          shadowBias: {},\n          shadowRadius: {},\n          shadowMapSize: {},\n          shadowCameraNear: {},\n          shadowCameraFar: {}\n        }\n      },\n\n      pointShadowMap: {\n        value: []\n      },\n      pointShadowMatrix: {\n        value: []\n      },\n\n      hemisphereLights: {\n        value: [],\n        properties: {\n          direction: {},\n          skyColor: {},\n          groundColor: {}\n        }\n      },\n\n      // TODO (abelnation): RectAreaLight BRDF data needs to be moved from example to main src\n      rectAreaLights: {\n        value: [],\n        properties: {\n          color: {},\n          position: {},\n          width: {},\n          height: {}\n        }\n      }\n\n    },\n\n    points: {\n\n      diffuse: {\n        value: new Color(0xeeeeee)\n      },\n      opacity: {\n        value: 1.0\n      },\n      size: {\n        value: 1.0\n      },\n      scale: {\n        value: 1.0\n      },\n      map: {\n        value: null\n      },\n      alphaMap: {\n        value: null\n      },\n      uvTransform: {\n        value: new Matrix3()\n      }\n\n    },\n\n    sprite: {\n\n      diffuse: {\n        value: new Color(0xeeeeee)\n      },\n      opacity: {\n        value: 1.0\n      },\n      center: {\n        value: new Vector2(0.5, 0.5)\n      },\n      rotation: {\n        value: 0.0\n      },\n      map: {\n        value: null\n      },\n      alphaMap: {\n        value: null\n      },\n      uvTransform: {\n        value: new Matrix3()\n      }\n\n    }\n\n  };\n\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   * @author mrdoob / http://mrdoob.com/\n   * @author mikael emtinger / http://gomo.se/\n   */\n\n  var ShaderLib = {\n\n    basic: {\n\n      uniforms: mergeUniforms([\n        UniformsLib.common,\n        UniformsLib.specularmap,\n        UniformsLib.envmap,\n        UniformsLib.aomap,\n        UniformsLib.lightmap,\n        UniformsLib.fog\n      ]),\n\n      vertexShader: ShaderChunk.meshbasic_vert,\n      fragmentShader: ShaderChunk.meshbasic_frag\n\n    },\n\n    lambert: {\n\n      uniforms: mergeUniforms([\n        UniformsLib.common,\n        UniformsLib.specularmap,\n        UniformsLib.envmap,\n        UniformsLib.aomap,\n        UniformsLib.lightmap,\n        UniformsLib.emissivemap,\n        UniformsLib.fog,\n        UniformsLib.lights,\n        {\n          emissive: {\n            value: new Color(0x000000)\n          }\n        }\n      ]),\n\n      vertexShader: ShaderChunk.meshlambert_vert,\n      fragmentShader: ShaderChunk.meshlambert_frag\n\n    },\n\n    phong: {\n\n      uniforms: mergeUniforms([\n        UniformsLib.common,\n        UniformsLib.specularmap,\n        UniformsLib.envmap,\n        UniformsLib.aomap,\n        UniformsLib.lightmap,\n        UniformsLib.emissivemap,\n        UniformsLib.bumpmap,\n        UniformsLib.normalmap,\n        UniformsLib.displacementmap,\n        UniformsLib.fog,\n        UniformsLib.lights,\n        {\n          emissive: {\n            value: new Color(0x000000)\n          },\n          specular: {\n            value: new Color(0x111111)\n          },\n          shininess: {\n            value: 30\n          }\n        }\n      ]),\n\n      vertexShader: ShaderChunk.meshphong_vert,\n      fragmentShader: ShaderChunk.meshphong_frag\n\n    },\n\n    standard: {\n\n      uniforms: mergeUniforms([\n        UniformsLib.common,\n        UniformsLib.envmap,\n        UniformsLib.aomap,\n        UniformsLib.lightmap,\n        UniformsLib.emissivemap,\n        UniformsLib.bumpmap,\n        UniformsLib.normalmap,\n        UniformsLib.displacementmap,\n        UniformsLib.roughnessmap,\n        UniformsLib.metalnessmap,\n        UniformsLib.fog,\n        UniformsLib.lights,\n        {\n          emissive: {\n            value: new Color(0x000000)\n          },\n          roughness: {\n            value: 0.5\n          },\n          metalness: {\n            value: 0.5\n          },\n          envMapIntensity: {\n            value: 1\n          } // temporary\n        }\n      ]),\n\n      vertexShader: ShaderChunk.meshphysical_vert,\n      fragmentShader: ShaderChunk.meshphysical_frag\n\n    },\n\n    toon: {\n\n      uniforms: mergeUniforms([\n        UniformsLib.common,\n        UniformsLib.specularmap,\n        UniformsLib.aomap,\n        UniformsLib.lightmap,\n        UniformsLib.emissivemap,\n        UniformsLib.bumpmap,\n        UniformsLib.normalmap,\n        UniformsLib.displacementmap,\n        UniformsLib.gradientmap,\n        UniformsLib.fog,\n        UniformsLib.lights,\n        {\n          emissive: {\n            value: new Color(0x000000)\n          },\n          specular: {\n            value: new Color(0x111111)\n          },\n          shininess: {\n            value: 30\n          }\n        }\n      ]),\n\n      vertexShader: ShaderChunk.meshtoon_vert,\n      fragmentShader: ShaderChunk.meshtoon_frag\n\n    },\n\n    matcap: {\n\n      uniforms: mergeUniforms([\n        UniformsLib.common,\n        UniformsLib.bumpmap,\n        UniformsLib.normalmap,\n        UniformsLib.displacementmap,\n        UniformsLib.fog,\n        {\n          matcap: {\n            value: null\n          }\n        }\n      ]),\n\n      vertexShader: ShaderChunk.meshmatcap_vert,\n      fragmentShader: ShaderChunk.meshmatcap_frag\n\n    },\n\n    points: {\n\n      uniforms: mergeUniforms([\n        UniformsLib.points,\n        UniformsLib.fog\n      ]),\n\n      vertexShader: ShaderChunk.points_vert,\n      fragmentShader: ShaderChunk.points_frag\n\n    },\n\n    dashed: {\n\n      uniforms: mergeUniforms([\n        UniformsLib.common,\n        UniformsLib.fog,\n        {\n          scale: {\n            value: 1\n          },\n          dashSize: {\n            value: 1\n          },\n          totalSize: {\n            value: 2\n          }\n        }\n      ]),\n\n      vertexShader: ShaderChunk.linedashed_vert,\n      fragmentShader: ShaderChunk.linedashed_frag\n\n    },\n\n    depth: {\n\n      uniforms: mergeUniforms([\n        UniformsLib.common,\n        UniformsLib.displacementmap\n      ]),\n\n      vertexShader: ShaderChunk.depth_vert,\n      fragmentShader: ShaderChunk.depth_frag\n\n    },\n\n    normal: {\n\n      uniforms: mergeUniforms([\n        UniformsLib.common,\n        UniformsLib.bumpmap,\n        UniformsLib.normalmap,\n        UniformsLib.displacementmap,\n        {\n          opacity: {\n            value: 1.0\n          }\n        }\n      ]),\n\n      vertexShader: ShaderChunk.normal_vert,\n      fragmentShader: ShaderChunk.normal_frag\n\n    },\n\n    sprite: {\n\n      uniforms: mergeUniforms([\n        UniformsLib.sprite,\n        UniformsLib.fog\n      ]),\n\n      vertexShader: ShaderChunk.sprite_vert,\n      fragmentShader: ShaderChunk.sprite_frag\n\n    },\n\n    background: {\n\n      uniforms: {\n        uvTransform: {\n          value: new Matrix3()\n        },\n        t2D: {\n          value: null\n        },\n      },\n\n      vertexShader: ShaderChunk.background_vert,\n      fragmentShader: ShaderChunk.background_frag\n\n    },\n    /* -------------------------------------------------------------------------\n    //\tCube map shader\n     ------------------------------------------------------------------------- */\n\n    cube: {\n\n      uniforms: mergeUniforms([\n        UniformsLib.envmap,\n        {\n          opacity: {\n            value: 1.0\n          }\n        }\n      ]),\n\n      vertexShader: ShaderChunk.cube_vert,\n      fragmentShader: ShaderChunk.cube_frag\n\n    },\n\n    equirect: {\n\n      uniforms: {\n        tEquirect: {\n          value: null\n        },\n      },\n\n      vertexShader: ShaderChunk.equirect_vert,\n      fragmentShader: ShaderChunk.equirect_frag\n\n    },\n\n    distanceRGBA: {\n\n      uniforms: mergeUniforms([\n        UniformsLib.common,\n        UniformsLib.displacementmap,\n        {\n          referencePosition: {\n            value: new Vector3()\n          },\n          nearDistance: {\n            value: 1\n          },\n          farDistance: {\n            value: 1000\n          }\n        }\n      ]),\n\n      vertexShader: ShaderChunk.distanceRGBA_vert,\n      fragmentShader: ShaderChunk.distanceRGBA_frag\n\n    },\n\n    shadow: {\n\n      uniforms: mergeUniforms([\n        UniformsLib.lights,\n        UniformsLib.fog,\n        {\n          color: {\n            value: new Color(0x00000)\n          },\n          opacity: {\n            value: 1.0\n          }\n        }\n      ]),\n\n      vertexShader: ShaderChunk.shadow_vert,\n      fragmentShader: ShaderChunk.shadow_frag\n\n    }\n\n  };\n\n  ShaderLib.physical = {\n\n    uniforms: mergeUniforms([\n      ShaderLib.standard.uniforms,\n      {\n        transparency: {\n          value: 0\n        },\n        clearcoat: {\n          value: 0\n        },\n        clearcoatRoughness: {\n          value: 0\n        },\n        sheen: {\n          value: new Color(0x000000)\n        },\n        clearcoatNormalScale: {\n          value: new Vector2(1, 1)\n        },\n        clearcoatNormalMap: {\n          value: null\n        },\n      }\n    ]),\n\n    vertexShader: ShaderChunk.meshphysical_vert,\n    fragmentShader: ShaderChunk.meshphysical_frag\n\n  };\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function WebGLAnimation() {\n\n    var context = null;\n    var isAnimating = false;\n    var animationLoop = null;\n\n    function onAnimationFrame(time, frame) {\n\n      if (isAnimating === false) {\n        return;\n      }\n\n      animationLoop(time, frame);\n\n      context.requestAnimationFrame(onAnimationFrame);\n\n    }\n\n    return {\n\n      start: function() {\n\n        if (isAnimating === true) {\n          return;\n        }\n        if (animationLoop === null) {\n          return;\n        }\n\n        context.requestAnimationFrame(onAnimationFrame);\n\n        isAnimating = true;\n\n      },\n\n      stop: function() {\n\n        isAnimating = false;\n\n      },\n\n      setAnimationLoop: function(callback) {\n\n        animationLoop = callback;\n\n      },\n\n      setContext: function(value) {\n\n        context = value;\n\n      }\n\n    };\n\n  }\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function WebGLAttributes(gl) {\n\n    var buffers = new WeakMap();\n\n    function createBuffer(attribute, bufferType) {\n\n      var array = attribute.array;\n      var usage = attribute.usage;\n\n      var buffer = gl.createBuffer();\n\n      gl.bindBuffer(bufferType, buffer);\n      gl.bufferData(bufferType, array, usage);\n\n      attribute.onUploadCallback();\n\n      var type = 5126;\n\n      if (array instanceof Float32Array) {\n\n        type = 5126;\n\n      } else if (array instanceof Float64Array) {\n\n        console.warn('THREE.WebGLAttributes: Unsupported data buffer format: Float64Array.');\n\n      } else if (array instanceof Uint16Array) {\n\n        type = 5123;\n\n      } else if (array instanceof Int16Array) {\n\n        type = 5122;\n\n      } else if (array instanceof Uint32Array) {\n\n        type = 5125;\n\n      } else if (array instanceof Int32Array) {\n\n        type = 5124;\n\n      } else if (array instanceof Int8Array) {\n\n        type = 5120;\n\n      } else if (array instanceof Uint8Array) {\n\n        type = 5121;\n\n      }\n\n      return {\n        buffer: buffer,\n        type: type,\n        bytesPerElement: array.BYTES_PER_ELEMENT,\n        version: attribute.version\n      };\n\n    }\n\n    function updateBuffer(buffer, attribute, bufferType) {\n\n      var array = attribute.array;\n      var updateRange = attribute.updateRange;\n\n      gl.bindBuffer(bufferType, buffer);\n\n      if (updateRange.count === -1) {\n\n        // Not using update ranges\n\n        gl.bufferSubData(bufferType, 0, array);\n\n      } else {\n\n        gl.bufferSubData(bufferType, updateRange.offset * array.BYTES_PER_ELEMENT,\n          array.subarray(updateRange.offset, updateRange.offset + updateRange.count));\n\n        updateRange.count = -1; // reset range\n\n      }\n\n    }\n\n    //\n\n    function get(attribute) {\n\n      if (attribute.isInterleavedBufferAttribute) {\n        attribute = attribute.data;\n      }\n\n      return buffers.get(attribute);\n\n    }\n\n    function remove(attribute) {\n\n      if (attribute.isInterleavedBufferAttribute) {\n        attribute = attribute.data;\n      }\n\n      var data = buffers.get(attribute);\n\n      if (data) {\n\n        gl.deleteBuffer(data.buffer);\n\n        buffers.delete(attribute);\n\n      }\n\n    }\n\n    function update(attribute, bufferType) {\n\n      if (attribute.isInterleavedBufferAttribute) {\n        attribute = attribute.data;\n      }\n\n      var data = buffers.get(attribute);\n\n      if (data === undefined) {\n\n        buffers.set(attribute, createBuffer(attribute, bufferType));\n\n      } else if (data.version < attribute.version) {\n\n        updateBuffer(data.buffer, attribute, bufferType);\n\n        data.version = attribute.version;\n\n      }\n\n    }\n\n    return {\n\n      get: get,\n      remove: remove,\n      update: update\n\n    };\n\n  }\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author Mugen87 / https://github.com/Mugen87\n   */\n\n  // PlaneGeometry\n\n  function PlaneGeometry(width, height, widthSegments, heightSegments) {\n\n    Geometry.call(this);\n\n    this.type = 'PlaneGeometry';\n\n    this.parameters = {\n      width: width,\n      height: height,\n      widthSegments: widthSegments,\n      heightSegments: heightSegments\n    };\n\n    this.fromBufferGeometry(new PlaneBufferGeometry(width, height, widthSegments, heightSegments));\n    this.mergeVertices();\n\n  }\n\n  PlaneGeometry.prototype = Object.create(Geometry.prototype);\n  PlaneGeometry.prototype.constructor = PlaneGeometry;\n\n  // PlaneBufferGeometry\n\n  function PlaneBufferGeometry(width, height, widthSegments, heightSegments) {\n\n    BufferGeometry.call(this);\n\n    this.type = 'PlaneBufferGeometry';\n\n    this.parameters = {\n      width: width,\n      height: height,\n      widthSegments: widthSegments,\n      heightSegments: heightSegments\n    };\n\n    width = width || 1;\n    height = height || 1;\n\n    var width_half = width / 2;\n    var height_half = height / 2;\n\n    var gridX = Math.floor(widthSegments) || 1;\n    var gridY = Math.floor(heightSegments) || 1;\n\n    var gridX1 = gridX + 1;\n    var gridY1 = gridY + 1;\n\n    var segment_width = width / gridX;\n    var segment_height = height / gridY;\n\n    var ix, iy;\n\n    // buffers\n\n    var indices = [];\n    var vertices = [];\n    var normals = [];\n    var uvs = [];\n\n    // generate vertices, normals and uvs\n\n    for (iy = 0; iy < gridY1; iy++) {\n\n      var y = iy * segment_height - height_half;\n\n      for (ix = 0; ix < gridX1; ix++) {\n\n        var x = ix * segment_width - width_half;\n\n        vertices.push(x, -y, 0);\n\n        normals.push(0, 0, 1);\n\n        uvs.push(ix / gridX);\n        uvs.push(1 - (iy / gridY));\n\n      }\n\n    }\n\n    // indices\n\n    for (iy = 0; iy < gridY; iy++) {\n\n      for (ix = 0; ix < gridX; ix++) {\n\n        var a = ix + gridX1 * iy;\n        var b = ix + gridX1 * (iy + 1);\n        var c = (ix + 1) + gridX1 * (iy + 1);\n        var d = (ix + 1) + gridX1 * iy;\n\n        // faces\n\n        indices.push(a, b, d);\n        indices.push(b, c, d);\n\n      }\n\n    }\n\n    // build geometry\n\n    this.setIndex(indices);\n    this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n    this.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n    this.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\n  }\n\n  PlaneBufferGeometry.prototype = Object.create(BufferGeometry.prototype);\n  PlaneBufferGeometry.prototype.constructor = PlaneBufferGeometry;\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function WebGLBackground(renderer, state, objects, premultipliedAlpha) {\n\n    var clearColor = new Color(0x000000);\n    var clearAlpha = 0;\n\n    var planeMesh;\n    var boxMesh;\n    // Store the current background texture and its `version`\n    // so we can recompile the material accordingly.\n    var currentBackground = null;\n    var currentBackgroundVersion = 0;\n\n    function render(renderList, scene, camera, forceClear) {\n\n      var background = scene.background;\n\n      // Ignore background in AR\n      // TODO: Reconsider this.\n\n      var xr = renderer.xr;\n      var session = xr.getSession && xr.getSession();\n\n      if (session && session.environmentBlendMode === 'additive') {\n\n        background = null;\n\n      }\n\n      if (background === null) {\n\n        setClear(clearColor, clearAlpha);\n        currentBackground = null;\n        currentBackgroundVersion = 0;\n\n      } else if (background && background.isColor) {\n\n        setClear(background, 1);\n        forceClear = true;\n        currentBackground = null;\n        currentBackgroundVersion = 0;\n\n      }\n\n      if (renderer.autoClear || forceClear) {\n\n        renderer.clear(renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil);\n\n      }\n\n      if (background && (background.isCubeTexture || background.isWebGLRenderTargetCube || background.mapping === CubeUVReflectionMapping)) {\n\n        if (boxMesh === undefined) {\n\n          boxMesh = new Mesh(\n            new BoxBufferGeometry(1, 1, 1),\n            new ShaderMaterial({\n              type: 'BackgroundCubeMaterial',\n              uniforms: cloneUniforms(ShaderLib.cube.uniforms),\n              vertexShader: ShaderLib.cube.vertexShader,\n              fragmentShader: ShaderLib.cube.fragmentShader,\n              side: BackSide,\n              depthTest: false,\n              depthWrite: false,\n              fog: false\n            })\n          );\n\n          boxMesh.geometry.deleteAttribute('normal');\n          boxMesh.geometry.deleteAttribute('uv');\n\n          boxMesh.onBeforeRender = function(renderer, scene, camera) {\n\n            this.matrixWorld.copyPosition(camera.matrixWorld);\n\n          };\n\n          // enable code injection for non-built-in material\n          Object.defineProperty(boxMesh.material, 'envMap', {\n\n            get: function() {\n\n              return this.uniforms.envMap.value;\n\n            }\n\n          });\n\n          objects.update(boxMesh);\n\n        }\n\n        var texture = background.isWebGLRenderTargetCube ? background.texture : background;\n\n        boxMesh.material.uniforms.envMap.value = texture;\n        boxMesh.material.uniforms.flipEnvMap.value = texture.isCubeTexture ? -1 : 1;\n\n        if (currentBackground !== background ||\n          currentBackgroundVersion !== texture.version) {\n\n          boxMesh.material.needsUpdate = true;\n\n          currentBackground = background;\n          currentBackgroundVersion = texture.version;\n\n        }\n\n        // push to the pre-sorted opaque render list\n        renderList.unshift(boxMesh, boxMesh.geometry, boxMesh.material, 0, 0, null);\n\n      } else if (background && background.isTexture) {\n\n        if (planeMesh === undefined) {\n\n          planeMesh = new Mesh(\n            new PlaneBufferGeometry(2, 2),\n            new ShaderMaterial({\n              type: 'BackgroundMaterial',\n              uniforms: cloneUniforms(ShaderLib.background.uniforms),\n              vertexShader: ShaderLib.background.vertexShader,\n              fragmentShader: ShaderLib.background.fragmentShader,\n              side: FrontSide,\n              depthTest: false,\n              depthWrite: false,\n              fog: false\n            })\n          );\n\n          planeMesh.geometry.deleteAttribute('normal');\n\n          // enable code injection for non-built-in material\n          Object.defineProperty(planeMesh.material, 'map', {\n\n            get: function() {\n\n              return this.uniforms.t2D.value;\n\n            }\n\n          });\n\n          objects.update(planeMesh);\n\n        }\n\n        planeMesh.material.uniforms.t2D.value = background;\n\n        if (background.matrixAutoUpdate === true) {\n\n          background.updateMatrix();\n\n        }\n\n        planeMesh.material.uniforms.uvTransform.value.copy(background.matrix);\n\n        if (currentBackground !== background ||\n          currentBackgroundVersion !== background.version) {\n\n          planeMesh.material.needsUpdate = true;\n\n          currentBackground = background;\n          currentBackgroundVersion = background.version;\n\n        }\n\n\n        // push to the pre-sorted opaque render list\n        renderList.unshift(planeMesh, planeMesh.geometry, planeMesh.material, 0, 0, null);\n\n      }\n\n    }\n\n    function setClear(color, alpha) {\n\n      state.buffers.color.setClear(color.r, color.g, color.b, alpha, premultipliedAlpha);\n\n    }\n\n    return {\n\n      getClearColor: function() {\n\n        return clearColor;\n\n      },\n      setClearColor: function(color, alpha) {\n\n        clearColor.set(color);\n        clearAlpha = alpha !== undefined ? alpha : 1;\n        setClear(clearColor, clearAlpha);\n\n      },\n      getClearAlpha: function() {\n\n        return clearAlpha;\n\n      },\n      setClearAlpha: function(alpha) {\n\n        clearAlpha = alpha;\n        setClear(clearColor, clearAlpha);\n\n      },\n      render: render\n\n    };\n\n  }\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function WebGLBufferRenderer(gl, extensions, info, capabilities) {\n\n    var isWebGL2 = capabilities.isWebGL2;\n\n    var mode;\n\n    function setMode(value) {\n\n      mode = value;\n\n    }\n\n    function render(start, count) {\n\n      gl.drawArrays(mode, start, count);\n\n      info.update(count, mode);\n\n    }\n\n    function renderInstances(geometry, start, count, primcount) {\n\n      if (primcount === 0) {\n        return;\n      }\n\n      var extension, methodName;\n\n      if (isWebGL2) {\n\n        extension = gl;\n        methodName = 'drawArraysInstanced';\n\n      } else {\n\n        extension = extensions.get('ANGLE_instanced_arrays');\n        methodName = 'drawArraysInstancedANGLE';\n\n        if (extension === null) {\n\n          console.error('THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.');\n          return;\n\n        }\n\n      }\n\n      extension[methodName](mode, start, count, primcount);\n\n      info.update(count, mode, primcount);\n\n    }\n\n    //\n\n    this.setMode = setMode;\n    this.render = render;\n    this.renderInstances = renderInstances;\n\n  }\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function WebGLCapabilities(gl, extensions, parameters) {\n\n    var maxAnisotropy;\n\n    function getMaxAnisotropy() {\n\n      if (maxAnisotropy !== undefined) {\n        return maxAnisotropy;\n      }\n\n      var extension = extensions.get('EXT_texture_filter_anisotropic');\n\n      if (extension !== null) {\n\n        maxAnisotropy = gl.getParameter(extension.MAX_TEXTURE_MAX_ANISOTROPY_EXT);\n\n      } else {\n\n        maxAnisotropy = 0;\n\n      }\n\n      return maxAnisotropy;\n\n    }\n\n    function getMaxPrecision(precision) {\n\n      if (precision === 'highp') {\n\n        if (gl.getShaderPrecisionFormat(35633, 36338).precision > 0 &&\n          gl.getShaderPrecisionFormat(35632, 36338).precision > 0) {\n\n          return 'highp';\n\n        }\n\n        precision = 'mediump';\n\n      }\n\n      if (precision === 'mediump') {\n\n        if (gl.getShaderPrecisionFormat(35633, 36337).precision > 0 &&\n          gl.getShaderPrecisionFormat(35632, 36337).precision > 0) {\n\n          return 'mediump';\n\n        }\n\n      }\n\n      return 'lowp';\n\n    }\n\n    /* eslint-disable no-undef */\n    var isWebGL2 = (typeof WebGL2RenderingContext !== 'undefined' && gl instanceof WebGL2RenderingContext) ||\n      (typeof WebGL2ComputeRenderingContext !== 'undefined' && gl instanceof WebGL2ComputeRenderingContext);\n    /* eslint-enable no-undef */\n\n    var precision = parameters.precision !== undefined ? parameters.precision : 'highp';\n    var maxPrecision = getMaxPrecision(precision);\n\n    if (maxPrecision !== precision) {\n\n      console.warn('THREE.WebGLRenderer:', precision, 'not supported, using', maxPrecision, 'instead.');\n      precision = maxPrecision;\n\n    }\n\n    var logarithmicDepthBuffer = parameters.logarithmicDepthBuffer === true;\n\n    var maxTextures = gl.getParameter(34930);\n    var maxVertexTextures = gl.getParameter(35660);\n    var maxTextureSize = gl.getParameter(3379);\n    var maxCubemapSize = gl.getParameter(34076);\n\n    var maxAttributes = gl.getParameter(34921);\n    var maxVertexUniforms = gl.getParameter(36347);\n    var maxVaryings = gl.getParameter(36348);\n    var maxFragmentUniforms = gl.getParameter(36349);\n\n    var vertexTextures = maxVertexTextures > 0;\n    var floatFragmentTextures = isWebGL2 || !!extensions.get('OES_texture_float');\n    var floatVertexTextures = vertexTextures && floatFragmentTextures;\n\n    var maxSamples = isWebGL2 ? gl.getParameter(36183) : 0;\n\n    return {\n\n      isWebGL2: isWebGL2,\n\n      getMaxAnisotropy: getMaxAnisotropy,\n      getMaxPrecision: getMaxPrecision,\n\n      precision: precision,\n      logarithmicDepthBuffer: logarithmicDepthBuffer,\n\n      maxTextures: maxTextures,\n      maxVertexTextures: maxVertexTextures,\n      maxTextureSize: maxTextureSize,\n      maxCubemapSize: maxCubemapSize,\n\n      maxAttributes: maxAttributes,\n      maxVertexUniforms: maxVertexUniforms,\n      maxVaryings: maxVaryings,\n      maxFragmentUniforms: maxFragmentUniforms,\n\n      vertexTextures: vertexTextures,\n      floatFragmentTextures: floatFragmentTextures,\n      floatVertexTextures: floatVertexTextures,\n\n      maxSamples: maxSamples\n\n    };\n\n  }\n\n  /**\n   * @author tschw\n   */\n\n  function WebGLClipping() {\n\n    var scope = this,\n\n      globalState = null,\n      numGlobalPlanes = 0,\n      localClippingEnabled = false,\n      renderingShadows = false,\n\n      plane = new Plane(),\n      viewNormalMatrix = new Matrix3(),\n\n      uniform = {\n        value: null,\n        needsUpdate: false\n      };\n\n    this.uniform = uniform;\n    this.numPlanes = 0;\n    this.numIntersection = 0;\n\n    this.init = function(planes, enableLocalClipping, camera) {\n\n      var enabled =\n        planes.length !== 0 ||\n        enableLocalClipping ||\n        // enable state of previous frame - the clipping code has to\n        // run another frame in order to reset the state:\n        numGlobalPlanes !== 0 ||\n        localClippingEnabled;\n\n      localClippingEnabled = enableLocalClipping;\n\n      globalState = projectPlanes(planes, camera, 0);\n      numGlobalPlanes = planes.length;\n\n      return enabled;\n\n    };\n\n    this.beginShadows = function() {\n\n      renderingShadows = true;\n      projectPlanes(null);\n\n    };\n\n    this.endShadows = function() {\n\n      renderingShadows = false;\n      resetGlobalState();\n\n    };\n\n    this.setState = function(planes, clipIntersection, clipShadows, camera, cache, fromCache) {\n\n      if (!localClippingEnabled || planes === null || planes.length === 0 || renderingShadows && !clipShadows) {\n\n        // there's no local clipping\n\n        if (renderingShadows) {\n\n          // there's no global clipping\n\n          projectPlanes(null);\n\n        } else {\n\n          resetGlobalState();\n\n        }\n\n      } else {\n\n        var nGlobal = renderingShadows ? 0 : numGlobalPlanes,\n          lGlobal = nGlobal * 4,\n\n          dstArray = cache.clippingState || null;\n\n        uniform.value = dstArray; // ensure unique state\n\n        dstArray = projectPlanes(planes, camera, lGlobal, fromCache);\n\n        for (var i = 0; i !== lGlobal; ++i) {\n\n          dstArray[i] = globalState[i];\n\n        }\n\n        cache.clippingState = dstArray;\n        this.numIntersection = clipIntersection ? this.numPlanes : 0;\n        this.numPlanes += nGlobal;\n\n      }\n\n\n    };\n\n    function resetGlobalState() {\n\n      if (uniform.value !== globalState) {\n\n        uniform.value = globalState;\n        uniform.needsUpdate = numGlobalPlanes > 0;\n\n      }\n\n      scope.numPlanes = numGlobalPlanes;\n      scope.numIntersection = 0;\n\n    }\n\n    function projectPlanes(planes, camera, dstOffset, skipTransform) {\n\n      var nPlanes = planes !== null ? planes.length : 0,\n        dstArray = null;\n\n      if (nPlanes !== 0) {\n\n        dstArray = uniform.value;\n\n        if (skipTransform !== true || dstArray === null) {\n\n          var flatSize = dstOffset + nPlanes * 4,\n            viewMatrix = camera.matrixWorldInverse;\n\n          viewNormalMatrix.getNormalMatrix(viewMatrix);\n\n          if (dstArray === null || dstArray.length < flatSize) {\n\n            dstArray = new Float32Array(flatSize);\n\n          }\n\n          for (var i = 0, i4 = dstOffset; i !== nPlanes; ++i, i4 += 4) {\n\n            plane.copy(planes[i]).applyMatrix4(viewMatrix, viewNormalMatrix);\n\n            plane.normal.toArray(dstArray, i4);\n            dstArray[i4 + 3] = plane.constant;\n\n          }\n\n        }\n\n        uniform.value = dstArray;\n        uniform.needsUpdate = true;\n\n      }\n\n      scope.numPlanes = nPlanes;\n\n      return dstArray;\n\n    }\n\n  }\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function WebGLExtensions(gl) {\n\n    var extensions = {};\n\n    return {\n\n      get: function(name) {\n\n        if (extensions[name] !== undefined) {\n\n          return extensions[name];\n\n        }\n\n        var extension;\n\n        switch (name) {\n\n          case 'WEBGL_depth_texture':\n            extension = gl.getExtension('WEBGL_depth_texture') || gl.getExtension('MOZ_WEBGL_depth_texture') || gl.getExtension('WEBKIT_WEBGL_depth_texture');\n            break;\n\n          case 'EXT_texture_filter_anisotropic':\n            extension = gl.getExtension('EXT_texture_filter_anisotropic') || gl.getExtension('MOZ_EXT_texture_filter_anisotropic') || gl.getExtension('WEBKIT_EXT_texture_filter_anisotropic');\n            break;\n\n          case 'WEBGL_compressed_texture_s3tc':\n            extension = gl.getExtension('WEBGL_compressed_texture_s3tc') || gl.getExtension('MOZ_WEBGL_compressed_texture_s3tc') || gl.getExtension('WEBKIT_WEBGL_compressed_texture_s3tc');\n            break;\n\n          case 'WEBGL_compressed_texture_pvrtc':\n            extension = gl.getExtension('WEBGL_compressed_texture_pvrtc') || gl.getExtension('WEBKIT_WEBGL_compressed_texture_pvrtc');\n            break;\n\n          default:\n            extension = gl.getExtension(name);\n\n        }\n\n        if (extension === null) {\n\n          console.warn('THREE.WebGLRenderer: ' + name + ' extension not supported.');\n\n        }\n\n        extensions[name] = extension;\n\n        return extension;\n\n      }\n\n    };\n\n  }\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function WebGLGeometries(gl, attributes, info) {\n\n    var geometries = new WeakMap();\n    var wireframeAttributes = new WeakMap();\n\n    function onGeometryDispose(event) {\n\n      var geometry = event.target;\n      var buffergeometry = geometries.get(geometry);\n\n      if (buffergeometry.index !== null) {\n\n        attributes.remove(buffergeometry.index);\n\n      }\n\n      for (var name in buffergeometry.attributes) {\n\n        attributes.remove(buffergeometry.attributes[name]);\n\n      }\n\n      geometry.removeEventListener('dispose', onGeometryDispose);\n\n      geometries.delete(geometry);\n\n      var attribute = wireframeAttributes.get(buffergeometry);\n\n      if (attribute) {\n\n        attributes.remove(attribute);\n        wireframeAttributes.delete(buffergeometry);\n\n      }\n\n      //\n\n      info.memory.geometries--;\n\n    }\n\n    function get(object, geometry) {\n\n      var buffergeometry = geometries.get(geometry);\n\n      if (buffergeometry) {\n        return buffergeometry;\n      }\n\n      geometry.addEventListener('dispose', onGeometryDispose);\n\n      if (geometry.isBufferGeometry) {\n\n        buffergeometry = geometry;\n\n      } else if (geometry.isGeometry) {\n\n        if (geometry._bufferGeometry === undefined) {\n\n          geometry._bufferGeometry = new BufferGeometry().setFromObject(object);\n\n        }\n\n        buffergeometry = geometry._bufferGeometry;\n\n      }\n\n      geometries.set(geometry, buffergeometry);\n\n      info.memory.geometries++;\n\n      return buffergeometry;\n\n    }\n\n    function update(geometry) {\n\n      var index = geometry.index;\n      var geometryAttributes = geometry.attributes;\n\n      if (index !== null) {\n\n        attributes.update(index, 34963);\n\n      }\n\n      for (var name in geometryAttributes) {\n\n        attributes.update(geometryAttributes[name], 34962);\n\n      }\n\n      // morph targets\n\n      var morphAttributes = geometry.morphAttributes;\n\n      for (var name in morphAttributes) {\n\n        var array = morphAttributes[name];\n\n        for (var i = 0, l = array.length; i < l; i++) {\n\n          attributes.update(array[i], 34962);\n\n        }\n\n      }\n\n    }\n\n    function updateWireframeAttribute(geometry) {\n\n      var indices = [];\n\n      var geometryIndex = geometry.index;\n      var geometryPosition = geometry.attributes.position;\n      var version = 0;\n\n      if (geometryIndex !== null) {\n\n        var array = geometryIndex.array;\n        version = geometryIndex.version;\n\n        for (var i = 0, l = array.length; i < l; i += 3) {\n\n          var a = array[i + 0];\n          var b = array[i + 1];\n          var c = array[i + 2];\n\n          indices.push(a, b, b, c, c, a);\n\n        }\n\n      } else {\n\n        var array = geometryPosition.array;\n        version = geometryPosition.version;\n\n        for (var i = 0, l = (array.length / 3) - 1; i < l; i += 3) {\n\n          var a = i + 0;\n          var b = i + 1;\n          var c = i + 2;\n\n          indices.push(a, b, b, c, c, a);\n\n        }\n\n      }\n\n      var attribute = new(arrayMax(indices) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute)(indices, 1);\n      attribute.version = version;\n\n      attributes.update(attribute, 34963);\n\n      //\n\n      var previousAttribute = wireframeAttributes.get(geometry);\n\n      if (previousAttribute) {\n        attributes.remove(previousAttribute);\n      }\n\n      //\n\n      wireframeAttributes.set(geometry, attribute);\n\n    }\n\n    function getWireframeAttribute(geometry) {\n\n      var currentAttribute = wireframeAttributes.get(geometry);\n\n      if (currentAttribute) {\n\n        var geometryIndex = geometry.index;\n\n        if (geometryIndex !== null) {\n\n          // if the attribute is obsolete, create a new one\n\n          if (currentAttribute.version < geometryIndex.version) {\n\n            updateWireframeAttribute(geometry);\n\n          }\n\n        }\n\n      } else {\n\n        updateWireframeAttribute(geometry);\n\n      }\n\n      return wireframeAttributes.get(geometry);\n\n    }\n\n    return {\n\n      get: get,\n      update: update,\n\n      getWireframeAttribute: getWireframeAttribute\n\n    };\n\n  }\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function WebGLIndexedBufferRenderer(gl, extensions, info, capabilities) {\n\n    var isWebGL2 = capabilities.isWebGL2;\n\n    var mode;\n\n    function setMode(value) {\n\n      mode = value;\n\n    }\n\n    var type, bytesPerElement;\n\n    function setIndex(value) {\n\n      type = value.type;\n      bytesPerElement = value.bytesPerElement;\n\n    }\n\n    function render(start, count) {\n\n      gl.drawElements(mode, count, type, start * bytesPerElement);\n\n      info.update(count, mode);\n\n    }\n\n    function renderInstances(geometry, start, count, primcount) {\n\n      if (primcount === 0) {\n        return;\n      }\n\n      var extension, methodName;\n\n      if (isWebGL2) {\n\n        extension = gl;\n        methodName = 'drawElementsInstanced';\n\n      } else {\n\n        extension = extensions.get('ANGLE_instanced_arrays');\n        methodName = 'drawElementsInstancedANGLE';\n\n        if (extension === null) {\n\n          console.error('THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.');\n          return;\n\n        }\n\n      }\n\n      extension[methodName](mode, count, type, start * bytesPerElement, primcount);\n\n      info.update(count, mode, primcount);\n\n    }\n\n    //\n\n    this.setMode = setMode;\n    this.setIndex = setIndex;\n    this.render = render;\n    this.renderInstances = renderInstances;\n\n  }\n\n  /**\n   * @author Mugen87 / https://github.com/Mugen87\n   */\n\n  function WebGLInfo(gl) {\n\n    var memory = {\n      geometries: 0,\n      textures: 0\n    };\n\n    var render = {\n      frame: 0,\n      calls: 0,\n      triangles: 0,\n      points: 0,\n      lines: 0\n    };\n\n    function update(count, mode, instanceCount) {\n\n      instanceCount = instanceCount || 1;\n\n      render.calls++;\n\n      switch (mode) {\n\n        case 4:\n          render.triangles += instanceCount * (count / 3);\n          break;\n\n        case 1:\n          render.lines += instanceCount * (count / 2);\n          break;\n\n        case 3:\n          render.lines += instanceCount * (count - 1);\n          break;\n\n        case 2:\n          render.lines += instanceCount * count;\n          break;\n\n        case 0:\n          render.points += instanceCount * count;\n          break;\n\n        default:\n          console.error('THREE.WebGLInfo: Unknown draw mode:', mode);\n          break;\n\n      }\n\n    }\n\n    function reset() {\n\n      render.frame++;\n      render.calls = 0;\n      render.triangles = 0;\n      render.points = 0;\n      render.lines = 0;\n\n    }\n\n    return {\n      memory: memory,\n      render: render,\n      programs: null,\n      autoReset: true,\n      reset: reset,\n      update: update\n    };\n\n  }\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function absNumericalSort(a, b) {\n\n    return Math.abs(b[1]) - Math.abs(a[1]);\n\n  }\n\n  function WebGLMorphtargets(gl) {\n\n    var influencesList = {};\n    var morphInfluences = new Float32Array(8);\n\n    function update(object, geometry, material, program) {\n\n      var objectInfluences = object.morphTargetInfluences;\n\n      // When object doesn't have morph target influences defined, we treat it as a 0-length array\n      // This is important to make sure we set up morphTargetBaseInfluence / morphTargetInfluences\n\n      var length = objectInfluences === undefined ? 0 : objectInfluences.length;\n\n      var influences = influencesList[geometry.id];\n\n      if (influences === undefined) {\n\n        // initialise list\n\n        influences = [];\n\n        for (var i = 0; i < length; i++) {\n\n          influences[i] = [i, 0];\n\n        }\n\n        influencesList[geometry.id] = influences;\n\n      }\n\n      var morphTargets = material.morphTargets && geometry.morphAttributes.position;\n      var morphNormals = material.morphNormals && geometry.morphAttributes.normal;\n\n      // Remove current morphAttributes\n\n      for (var i = 0; i < length; i++) {\n\n        var influence = influences[i];\n\n        if (influence[1] !== 0) {\n\n          if (morphTargets) {\n            geometry.deleteAttribute('morphTarget' + i);\n          }\n          if (morphNormals) {\n            geometry.deleteAttribute('morphNormal' + i);\n          }\n\n        }\n\n      }\n\n      // Collect influences\n\n      for (var i = 0; i < length; i++) {\n\n        var influence = influences[i];\n\n        influence[0] = i;\n        influence[1] = objectInfluences[i];\n\n      }\n\n      influences.sort(absNumericalSort);\n\n      // Add morphAttributes\n\n      var morphInfluencesSum = 0;\n\n      for (var i = 0; i < 8; i++) {\n\n        var influence = influences[i];\n\n        if (influence) {\n\n          var index = influence[0];\n          var value = influence[1];\n\n          if (value) {\n\n            if (morphTargets) {\n              geometry.setAttribute('morphTarget' + i, morphTargets[index]);\n            }\n            if (morphNormals) {\n              geometry.setAttribute('morphNormal' + i, morphNormals[index]);\n            }\n\n            morphInfluences[i] = value;\n            morphInfluencesSum += value;\n            continue;\n\n          }\n\n        }\n\n        morphInfluences[i] = 0;\n\n      }\n\n      // GLSL shader uses formula baseinfluence * base + sum(target * influence)\n      // This allows us to switch between absolute morphs and relative morphs without changing shader code\n      // When baseinfluence = 1 - sum(influence), the above is equivalent to sum((target - base) * influence)\n      var morphBaseInfluence = geometry.morphTargetsRelative ? 1 : 1 - morphInfluencesSum;\n\n      program.getUniforms().setValue(gl, 'morphTargetBaseInfluence', morphBaseInfluence);\n      program.getUniforms().setValue(gl, 'morphTargetInfluences', morphInfluences);\n\n    }\n\n    return {\n\n      update: update\n\n    };\n\n  }\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function WebGLObjects(gl, geometries, attributes, info) {\n\n    var updateList = {};\n\n    function update(object) {\n\n      var frame = info.render.frame;\n\n      var geometry = object.geometry;\n      var buffergeometry = geometries.get(object, geometry);\n\n      // Update once per frame\n\n      if (updateList[buffergeometry.id] !== frame) {\n\n        if (geometry.isGeometry) {\n\n          buffergeometry.updateFromObject(object);\n\n        }\n\n        geometries.update(buffergeometry);\n\n        updateList[buffergeometry.id] = frame;\n\n      }\n\n      if (object.isInstancedMesh) {\n\n        attributes.update(object.instanceMatrix, 34962);\n\n      }\n\n      return buffergeometry;\n\n    }\n\n    function dispose() {\n\n      updateList = {};\n\n    }\n\n    return {\n\n      update: update,\n      dispose: dispose\n\n    };\n\n  }\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function CubeTexture(images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding) {\n\n    images = images !== undefined ? images : [];\n    mapping = mapping !== undefined ? mapping : CubeReflectionMapping;\n    format = format !== undefined ? format : RGBFormat;\n\n    Texture.call(this, images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding);\n\n    this.flipY = false;\n\n  }\n\n  CubeTexture.prototype = Object.create(Texture.prototype);\n  CubeTexture.prototype.constructor = CubeTexture;\n\n  CubeTexture.prototype.isCubeTexture = true;\n\n  Object.defineProperty(CubeTexture.prototype, 'images', {\n\n    get: function() {\n\n      return this.image;\n\n    },\n\n    set: function(value) {\n\n      this.image = value;\n\n    }\n\n  });\n\n  /**\n   * @author Takahiro https://github.com/takahirox\n   */\n\n  function DataTexture2DArray(data, width, height, depth) {\n\n    Texture.call(this, null);\n\n    this.image = {\n      data: data || null,\n      width: width || 1,\n      height: height || 1,\n      depth: depth || 1\n    };\n\n    this.magFilter = NearestFilter;\n    this.minFilter = NearestFilter;\n\n    this.wrapR = ClampToEdgeWrapping;\n\n    this.generateMipmaps = false;\n    this.flipY = false;\n\n    this.needsUpdate = true;\n\n  }\n\n  DataTexture2DArray.prototype = Object.create(Texture.prototype);\n  DataTexture2DArray.prototype.constructor = DataTexture2DArray;\n  DataTexture2DArray.prototype.isDataTexture2DArray = true;\n\n  /**\n   * @author Artur Trzesiok\n   */\n\n  function DataTexture3D(data, width, height, depth) {\n\n    // We're going to add .setXXX() methods for setting properties later.\n    // Users can still set in DataTexture3D directly.\n    //\n    //\tvar texture = new THREE.DataTexture3D( data, width, height, depth );\n    // \ttexture.anisotropy = 16;\n    //\n    // See #14839\n\n    Texture.call(this, null);\n\n    this.image = {\n      data: data || null,\n      width: width || 1,\n      height: height || 1,\n      depth: depth || 1\n    };\n\n    this.magFilter = NearestFilter;\n    this.minFilter = NearestFilter;\n\n    this.wrapR = ClampToEdgeWrapping;\n\n    this.generateMipmaps = false;\n    this.flipY = false;\n\n    this.needsUpdate = true;\n\n\n  }\n\n  DataTexture3D.prototype = Object.create(Texture.prototype);\n  DataTexture3D.prototype.constructor = DataTexture3D;\n  DataTexture3D.prototype.isDataTexture3D = true;\n\n  /**\n   * @author tschw\n   * @author Mugen87 / https://github.com/Mugen87\n   * @author mrdoob / http://mrdoob.com/\n   *\n   * Uniforms of a program.\n   * Those form a tree structure with a special top-level container for the root,\n   * which you get by calling 'new WebGLUniforms( gl, program )'.\n   *\n   *\n   * Properties of inner nodes including the top-level container:\n   *\n   * .seq - array of nested uniforms\n   * .map - nested uniforms by name\n   *\n   *\n   * Methods of all nodes except the top-level container:\n   *\n   * .setValue( gl, value, [textures] )\n   *\n   * \t\tuploads a uniform value(s)\n   *  \tthe 'textures' parameter is needed for sampler uniforms\n   *\n   *\n   * Static methods of the top-level container (textures factorizations):\n   *\n   * .upload( gl, seq, values, textures )\n   *\n   * \t\tsets uniforms in 'seq' to 'values[id].value'\n   *\n   * .seqWithValue( seq, values ) : filteredSeq\n   *\n   * \t\tfilters 'seq' entries with corresponding entry in values\n   *\n   *\n   * Methods of the top-level container (textures factorizations):\n   *\n   * .setValue( gl, name, value, textures )\n   *\n   * \t\tsets uniform with  name 'name' to 'value'\n   *\n   * .setOptional( gl, obj, prop )\n   *\n   * \t\tlike .set for an optional property of the object\n   *\n   */\n\n  var emptyTexture = new Texture();\n  var emptyTexture2dArray = new DataTexture2DArray();\n  var emptyTexture3d = new DataTexture3D();\n  var emptyCubeTexture = new CubeTexture();\n\n  // --- Utilities ---\n\n  // Array Caches (provide typed arrays for temporary by size)\n\n  var arrayCacheF32 = [];\n  var arrayCacheI32 = [];\n\n  // Float32Array caches used for uploading Matrix uniforms\n\n  var mat4array = new Float32Array(16);\n  var mat3array = new Float32Array(9);\n  var mat2array = new Float32Array(4);\n\n  // Flattening for arrays of vectors and matrices\n\n  function flatten(array, nBlocks, blockSize) {\n\n    var firstElem = array[0];\n\n    if (firstElem <= 0 || firstElem > 0) {\n      return array;\n    }\n    // unoptimized: ! isNaN( firstElem )\n    // see http://jacksondunstan.com/articles/983\n\n    var n = nBlocks * blockSize,\n      r = arrayCacheF32[n];\n\n    if (r === undefined) {\n\n      r = new Float32Array(n);\n      arrayCacheF32[n] = r;\n\n    }\n\n    if (nBlocks !== 0) {\n\n      firstElem.toArray(r, 0);\n\n      for (var i = 1, offset = 0; i !== nBlocks; ++i) {\n\n        offset += blockSize;\n        array[i].toArray(r, offset);\n\n      }\n\n    }\n\n    return r;\n\n  }\n\n  function arraysEqual(a, b) {\n\n    if (a.length !== b.length) {\n      return false;\n    }\n\n    for (var i = 0, l = a.length; i < l; i++) {\n\n      if (a[i] !== b[i]) {\n        return false;\n      }\n\n    }\n\n    return true;\n\n  }\n\n  function copyArray(a, b) {\n\n    for (var i = 0, l = b.length; i < l; i++) {\n\n      a[i] = b[i];\n\n    }\n\n  }\n\n  // Texture unit allocation\n\n  function allocTexUnits(textures, n) {\n\n    var r = arrayCacheI32[n];\n\n    if (r === undefined) {\n\n      r = new Int32Array(n);\n      arrayCacheI32[n] = r;\n\n    }\n\n    for (var i = 0; i !== n; ++i) {\n      r[i] = textures.allocateTextureUnit();\n    }\n\n    return r;\n\n  }\n\n  // --- Setters ---\n\n  // Note: Defining these methods externally, because they come in a bunch\n  // and this way their names minify.\n\n  // Single scalar\n\n  function setValueV1f(gl, v) {\n\n    var cache = this.cache;\n\n    if (cache[0] === v) {\n      return;\n    }\n\n    gl.uniform1f(this.addr, v);\n\n    cache[0] = v;\n\n  }\n\n  // Single float vector (from flat array or THREE.VectorN)\n\n  function setValueV2f(gl, v) {\n\n    var cache = this.cache;\n\n    if (v.x !== undefined) {\n\n      if (cache[0] !== v.x || cache[1] !== v.y) {\n\n        gl.uniform2f(this.addr, v.x, v.y);\n\n        cache[0] = v.x;\n        cache[1] = v.y;\n\n      }\n\n    } else {\n\n      if (arraysEqual(cache, v)) {\n        return;\n      }\n\n      gl.uniform2fv(this.addr, v);\n\n      copyArray(cache, v);\n\n    }\n\n  }\n\n  function setValueV3f(gl, v) {\n\n    var cache = this.cache;\n\n    if (v.x !== undefined) {\n\n      if (cache[0] !== v.x || cache[1] !== v.y || cache[2] !== v.z) {\n\n        gl.uniform3f(this.addr, v.x, v.y, v.z);\n\n        cache[0] = v.x;\n        cache[1] = v.y;\n        cache[2] = v.z;\n\n      }\n\n    } else if (v.r !== undefined) {\n\n      if (cache[0] !== v.r || cache[1] !== v.g || cache[2] !== v.b) {\n\n        gl.uniform3f(this.addr, v.r, v.g, v.b);\n\n        cache[0] = v.r;\n        cache[1] = v.g;\n        cache[2] = v.b;\n\n      }\n\n    } else {\n\n      if (arraysEqual(cache, v)) {\n        return;\n      }\n\n      gl.uniform3fv(this.addr, v);\n\n      copyArray(cache, v);\n\n    }\n\n  }\n\n  function setValueV4f(gl, v) {\n\n    var cache = this.cache;\n\n    if (v.x !== undefined) {\n\n      if (cache[0] !== v.x || cache[1] !== v.y || cache[2] !== v.z || cache[3] !== v.w) {\n\n        gl.uniform4f(this.addr, v.x, v.y, v.z, v.w);\n\n        cache[0] = v.x;\n        cache[1] = v.y;\n        cache[2] = v.z;\n        cache[3] = v.w;\n\n      }\n\n    } else {\n\n      if (arraysEqual(cache, v)) {\n        return;\n      }\n\n      gl.uniform4fv(this.addr, v);\n\n      copyArray(cache, v);\n\n    }\n\n  }\n\n  // Single matrix (from flat array or MatrixN)\n\n  function setValueM2(gl, v) {\n\n    var cache = this.cache;\n    var elements = v.elements;\n\n    if (elements === undefined) {\n\n      if (arraysEqual(cache, v)) {\n        return;\n      }\n\n      gl.uniformMatrix2fv(this.addr, false, v);\n\n      copyArray(cache, v);\n\n    } else {\n\n      if (arraysEqual(cache, elements)) {\n        return;\n      }\n\n      mat2array.set(elements);\n\n      gl.uniformMatrix2fv(this.addr, false, mat2array);\n\n      copyArray(cache, elements);\n\n    }\n\n  }\n\n  function setValueM3(gl, v) {\n\n    var cache = this.cache;\n    var elements = v.elements;\n\n    if (elements === undefined) {\n\n      if (arraysEqual(cache, v)) {\n        return;\n      }\n\n      gl.uniformMatrix3fv(this.addr, false, v);\n\n      copyArray(cache, v);\n\n    } else {\n\n      if (arraysEqual(cache, elements)) {\n        return;\n      }\n\n      mat3array.set(elements);\n\n      gl.uniformMatrix3fv(this.addr, false, mat3array);\n\n      copyArray(cache, elements);\n\n    }\n\n  }\n\n  function setValueM4(gl, v) {\n\n    var cache = this.cache;\n    var elements = v.elements;\n\n    if (elements === undefined) {\n\n      if (arraysEqual(cache, v)) {\n        return;\n      }\n\n      gl.uniformMatrix4fv(this.addr, false, v);\n\n      copyArray(cache, v);\n\n    } else {\n\n      if (arraysEqual(cache, elements)) {\n        return;\n      }\n\n      mat4array.set(elements);\n\n      gl.uniformMatrix4fv(this.addr, false, mat4array);\n\n      copyArray(cache, elements);\n\n    }\n\n  }\n\n  // Single texture (2D / Cube)\n\n  function setValueT1(gl, v, textures) {\n\n    var cache = this.cache;\n    var unit = textures.allocateTextureUnit();\n\n    if (cache[0] !== unit) {\n\n      gl.uniform1i(this.addr, unit);\n      cache[0] = unit;\n\n    }\n\n    textures.safeSetTexture2D(v || emptyTexture, unit);\n\n  }\n\n  function setValueT2DArray1(gl, v, textures) {\n\n    var cache = this.cache;\n    var unit = textures.allocateTextureUnit();\n\n    if (cache[0] !== unit) {\n\n      gl.uniform1i(this.addr, unit);\n      cache[0] = unit;\n\n    }\n\n    textures.setTexture2DArray(v || emptyTexture2dArray, unit);\n\n  }\n\n  function setValueT3D1(gl, v, textures) {\n\n    var cache = this.cache;\n    var unit = textures.allocateTextureUnit();\n\n    if (cache[0] !== unit) {\n\n      gl.uniform1i(this.addr, unit);\n      cache[0] = unit;\n\n    }\n\n    textures.setTexture3D(v || emptyTexture3d, unit);\n\n  }\n\n  function setValueT6(gl, v, textures) {\n\n    var cache = this.cache;\n    var unit = textures.allocateTextureUnit();\n\n    if (cache[0] !== unit) {\n\n      gl.uniform1i(this.addr, unit);\n      cache[0] = unit;\n\n    }\n\n    textures.safeSetTextureCube(v || emptyCubeTexture, unit);\n\n  }\n\n  // Integer / Boolean vectors or arrays thereof (always flat arrays)\n\n  function setValueV1i(gl, v) {\n\n    var cache = this.cache;\n\n    if (cache[0] === v) {\n      return;\n    }\n\n    gl.uniform1i(this.addr, v);\n\n    cache[0] = v;\n\n  }\n\n  function setValueV2i(gl, v) {\n\n    var cache = this.cache;\n\n    if (arraysEqual(cache, v)) {\n      return;\n    }\n\n    gl.uniform2iv(this.addr, v);\n\n    copyArray(cache, v);\n\n  }\n\n  function setValueV3i(gl, v) {\n\n    var cache = this.cache;\n\n    if (arraysEqual(cache, v)) {\n      return;\n    }\n\n    gl.uniform3iv(this.addr, v);\n\n    copyArray(cache, v);\n\n  }\n\n  function setValueV4i(gl, v) {\n\n    var cache = this.cache;\n\n    if (arraysEqual(cache, v)) {\n      return;\n    }\n\n    gl.uniform4iv(this.addr, v);\n\n    copyArray(cache, v);\n\n  }\n\n  // Helper to pick the right setter for the singular case\n\n  function getSingularSetter(type) {\n\n    switch (type) {\n\n      case 0x1406:\n        return setValueV1f; // FLOAT\n      case 0x8b50:\n        return setValueV2f; // _VEC2\n      case 0x8b51:\n        return setValueV3f; // _VEC3\n      case 0x8b52:\n        return setValueV4f; // _VEC4\n\n      case 0x8b5a:\n        return setValueM2; // _MAT2\n      case 0x8b5b:\n        return setValueM3; // _MAT3\n      case 0x8b5c:\n        return setValueM4; // _MAT4\n\n      case 0x8b5e:\n      case 0x8d66:\n        return setValueT1; // SAMPLER_2D, SAMPLER_EXTERNAL_OES\n      case 0x8b5f:\n        return setValueT3D1; // SAMPLER_3D\n      case 0x8b60:\n        return setValueT6; // SAMPLER_CUBE\n      case 0x8DC1:\n        return setValueT2DArray1; // SAMPLER_2D_ARRAY\n\n      case 0x1404:\n      case 0x8b56:\n        return setValueV1i; // INT, BOOL\n      case 0x8b53:\n      case 0x8b57:\n        return setValueV2i; // _VEC2\n      case 0x8b54:\n      case 0x8b58:\n        return setValueV3i; // _VEC3\n      case 0x8b55:\n      case 0x8b59:\n        return setValueV4i; // _VEC4\n\n    }\n\n  }\n\n  // Array of scalars\n  function setValueV1fArray(gl, v) {\n\n    gl.uniform1fv(this.addr, v);\n\n  }\n\n  // Integer / Boolean vectors or arrays thereof (always flat arrays)\n  function setValueV1iArray(gl, v) {\n\n    gl.uniform1iv(this.addr, v);\n\n  }\n\n  function setValueV2iArray(gl, v) {\n\n    gl.uniform2iv(this.addr, v);\n\n  }\n\n  function setValueV3iArray(gl, v) {\n\n    gl.uniform3iv(this.addr, v);\n\n  }\n\n  function setValueV4iArray(gl, v) {\n\n    gl.uniform4iv(this.addr, v);\n\n  }\n\n\n  // Array of vectors (flat or from THREE classes)\n\n  function setValueV2fArray(gl, v) {\n\n    var data = flatten(v, this.size, 2);\n\n    gl.uniform2fv(this.addr, data);\n\n  }\n\n  function setValueV3fArray(gl, v) {\n\n    var data = flatten(v, this.size, 3);\n\n    gl.uniform3fv(this.addr, data);\n\n  }\n\n  function setValueV4fArray(gl, v) {\n\n    var data = flatten(v, this.size, 4);\n\n    gl.uniform4fv(this.addr, data);\n\n  }\n\n  // Array of matrices (flat or from THREE clases)\n\n  function setValueM2Array(gl, v) {\n\n    var data = flatten(v, this.size, 4);\n\n    gl.uniformMatrix2fv(this.addr, false, data);\n\n  }\n\n  function setValueM3Array(gl, v) {\n\n    var data = flatten(v, this.size, 9);\n\n    gl.uniformMatrix3fv(this.addr, false, data);\n\n  }\n\n  function setValueM4Array(gl, v) {\n\n    var data = flatten(v, this.size, 16);\n\n    gl.uniformMatrix4fv(this.addr, false, data);\n\n  }\n\n  // Array of textures (2D / Cube)\n\n  function setValueT1Array(gl, v, textures) {\n\n    var n = v.length;\n\n    var units = allocTexUnits(textures, n);\n\n    gl.uniform1iv(this.addr, units);\n\n    for (var i = 0; i !== n; ++i) {\n\n      textures.safeSetTexture2D(v[i] || emptyTexture, units[i]);\n\n    }\n\n  }\n\n  function setValueT6Array(gl, v, textures) {\n\n    var n = v.length;\n\n    var units = allocTexUnits(textures, n);\n\n    gl.uniform1iv(this.addr, units);\n\n    for (var i = 0; i !== n; ++i) {\n\n      textures.safeSetTextureCube(v[i] || emptyCubeTexture, units[i]);\n\n    }\n\n  }\n\n  // Helper to pick the right setter for a pure (bottom-level) array\n\n  function getPureArraySetter(type) {\n\n    switch (type) {\n\n      case 0x1406:\n        return setValueV1fArray; // FLOAT\n      case 0x8b50:\n        return setValueV2fArray; // _VEC2\n      case 0x8b51:\n        return setValueV3fArray; // _VEC3\n      case 0x8b52:\n        return setValueV4fArray; // _VEC4\n\n      case 0x8b5a:\n        return setValueM2Array; // _MAT2\n      case 0x8b5b:\n        return setValueM3Array; // _MAT3\n      case 0x8b5c:\n        return setValueM4Array; // _MAT4\n\n      case 0x8b5e: // SAMPLER_2D\n      case 0x8d66: // SAMPLER_EXTERNAL_OES\n      case 0x8dca: // INT_SAMPLER_2D\n      case 0x8dd2: // UNSIGNED_INT_SAMPLER_2D\n        return setValueT1Array;\n\n      case 0x8b60: // SAMPLER_CUBE\n      case 0x8dcc: // INT_SAMPLER_CUBE\n      case 0x8dd4: // UNSIGNED_SAMPLER_CUBE\n        return setValueT6Array;\n\n      case 0x1404:\n      case 0x8b56:\n        return setValueV1iArray; // INT, BOOL\n      case 0x8b53:\n      case 0x8b57:\n        return setValueV2iArray; // _VEC2\n      case 0x8b54:\n      case 0x8b58:\n        return setValueV3iArray; // _VEC3\n      case 0x8b55:\n      case 0x8b59:\n        return setValueV4iArray; // _VEC4\n\n    }\n\n  }\n\n  // --- Uniform Classes ---\n\n  function SingleUniform(id, activeInfo, addr) {\n\n    this.id = id;\n    this.addr = addr;\n    this.cache = [];\n    this.setValue = getSingularSetter(activeInfo.type);\n\n    // this.path = activeInfo.name; // DEBUG\n\n  }\n\n  function PureArrayUniform(id, activeInfo, addr) {\n\n    this.id = id;\n    this.addr = addr;\n    this.cache = [];\n    this.size = activeInfo.size;\n    this.setValue = getPureArraySetter(activeInfo.type);\n\n    // this.path = activeInfo.name; // DEBUG\n\n  }\n\n  PureArrayUniform.prototype.updateCache = function(data) {\n\n    var cache = this.cache;\n\n    if (data instanceof Float32Array && cache.length !== data.length) {\n\n      this.cache = new Float32Array(data.length);\n\n    }\n\n    copyArray(cache, data);\n\n  };\n\n  function StructuredUniform(id) {\n\n    this.id = id;\n\n    this.seq = [];\n    this.map = {};\n\n  }\n\n  StructuredUniform.prototype.setValue = function(gl, value, textures) {\n\n    var seq = this.seq;\n\n    for (var i = 0, n = seq.length; i !== n; ++i) {\n\n      var u = seq[i];\n      u.setValue(gl, value[u.id], textures);\n\n    }\n\n  };\n\n  // --- Top-level ---\n\n  // Parser - builds up the property tree from the path strings\n\n  var RePathPart = /([\\w\\d_]+)(\\])?(\\[|\\.)?/g;\n\n  // extracts\n  // \t- the identifier (member name or array index)\n  //  - followed by an optional right bracket (found when array index)\n  //  - followed by an optional left bracket or dot (type of subscript)\n  //\n  // Note: These portions can be read in a non-overlapping fashion and\n  // allow straightforward parsing of the hierarchy that WebGL encodes\n  // in the uniform names.\n\n  function addUniform(container, uniformObject) {\n\n    container.seq.push(uniformObject);\n    container.map[uniformObject.id] = uniformObject;\n\n  }\n\n  function parseUniform(activeInfo, addr, container) {\n\n    var path = activeInfo.name,\n      pathLength = path.length;\n\n    // reset RegExp object, because of the early exit of a previous run\n    RePathPart.lastIndex = 0;\n\n    while (true) {\n\n      var match = RePathPart.exec(path),\n        matchEnd = RePathPart.lastIndex,\n\n        id = match[1],\n        idIsIndex = match[2] === ']',\n        subscript = match[3];\n\n      if (idIsIndex) {\n        id = id | 0;\n      } // convert to integer\n\n      if (subscript === undefined || subscript === '[' && matchEnd + 2 === pathLength) {\n\n        // bare name or \"pure\" bottom-level array \"[0]\" suffix\n\n        addUniform(container, subscript === undefined ?\n          new SingleUniform(id, activeInfo, addr) :\n          new PureArrayUniform(id, activeInfo, addr));\n\n        break;\n\n      } else {\n\n        // step into inner node / create it in case it doesn't exist\n\n        var map = container.map,\n          next = map[id];\n\n        if (next === undefined) {\n\n          next = new StructuredUniform(id);\n          addUniform(container, next);\n\n        }\n\n        container = next;\n\n      }\n\n    }\n\n  }\n\n  // Root Container\n\n  function WebGLUniforms(gl, program) {\n\n    this.seq = [];\n    this.map = {};\n\n    var n = gl.getProgramParameter(program, 35718);\n\n    for (var i = 0; i < n; ++i) {\n\n      var info = gl.getActiveUniform(program, i),\n        addr = gl.getUniformLocation(program, info.name);\n\n      parseUniform(info, addr, this);\n\n    }\n\n  }\n\n  WebGLUniforms.prototype.setValue = function(gl, name, value, textures) {\n\n    var u = this.map[name];\n\n    if (u !== undefined) {\n      u.setValue(gl, value, textures);\n    }\n\n  };\n\n  WebGLUniforms.prototype.setOptional = function(gl, object, name) {\n\n    var v = object[name];\n\n    if (v !== undefined) {\n      this.setValue(gl, name, v);\n    }\n\n  };\n\n\n  // Static interface\n\n  WebGLUniforms.upload = function(gl, seq, values, textures) {\n\n    for (var i = 0, n = seq.length; i !== n; ++i) {\n\n      var u = seq[i],\n        v = values[u.id];\n\n      if (v.needsUpdate !== false) {\n\n        // note: always updating when .needsUpdate is undefined\n        u.setValue(gl, v.value, textures);\n\n      }\n\n    }\n\n  };\n\n  WebGLUniforms.seqWithValue = function(seq, values) {\n\n    var r = [];\n\n    for (var i = 0, n = seq.length; i !== n; ++i) {\n\n      var u = seq[i];\n      if (u.id in values) {\n        r.push(u);\n      }\n\n    }\n\n    return r;\n\n  };\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function WebGLShader(gl, type, string) {\n\n    var shader = gl.createShader(type);\n\n    gl.shaderSource(shader, string);\n    gl.compileShader(shader);\n\n    return shader;\n\n  }\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  var programIdCount = 0;\n\n  function addLineNumbers(string) {\n\n    var lines = string.split('\\n');\n\n    for (var i = 0; i < lines.length; i++) {\n\n      lines[i] = (i + 1) + ': ' + lines[i];\n\n    }\n\n    return lines.join('\\n');\n\n  }\n\n  function getEncodingComponents(encoding) {\n\n    switch (encoding) {\n\n      case LinearEncoding:\n        return ['Linear', '( value )'];\n      case sRGBEncoding:\n        return ['sRGB', '( value )'];\n      case RGBEEncoding:\n        return ['RGBE', '( value )'];\n      case RGBM7Encoding:\n        return ['RGBM', '( value, 7.0 )'];\n      case RGBM16Encoding:\n        return ['RGBM', '( value, 16.0 )'];\n      case RGBDEncoding:\n        return ['RGBD', '( value, 256.0 )'];\n      case GammaEncoding:\n        return ['Gamma', '( value, float( GAMMA_FACTOR ) )'];\n      case LogLuvEncoding:\n        return ['LogLuv', '( value )'];\n      default:\n        throw new Error('unsupported encoding: ' + encoding);\n\n    }\n\n  }\n\n  function getShaderErrors(gl, shader, type) {\n\n    var status = gl.getShaderParameter(shader, 35713);\n    var log = gl.getShaderInfoLog(shader).trim();\n\n    if (status && log === '') {\n      return '';\n    }\n\n    // --enable-privileged-webgl-extension\n    // console.log( '**' + type + '**', gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( shader ) );\n\n    var source = gl.getShaderSource(shader);\n\n    return 'THREE.WebGLShader: gl.getShaderInfoLog() ' + type + '\\n' + log + addLineNumbers(source);\n\n  }\n\n  function getTexelDecodingFunction(functionName, encoding) {\n\n    var components = getEncodingComponents(encoding);\n    return 'vec4 ' + functionName + '( vec4 value ) { return ' + components[0] + 'ToLinear' + components[1] + '; }';\n\n  }\n\n  function getTexelEncodingFunction(functionName, encoding) {\n\n    var components = getEncodingComponents(encoding);\n    return 'vec4 ' + functionName + '( vec4 value ) { return LinearTo' + components[0] + components[1] + '; }';\n\n  }\n\n  function getToneMappingFunction(functionName, toneMapping) {\n\n    var toneMappingName;\n\n    switch (toneMapping) {\n\n      case LinearToneMapping:\n        toneMappingName = 'Linear';\n        break;\n\n      case ReinhardToneMapping:\n        toneMappingName = 'Reinhard';\n        break;\n\n      case Uncharted2ToneMapping:\n        toneMappingName = 'Uncharted2';\n        break;\n\n      case CineonToneMapping:\n        toneMappingName = 'OptimizedCineon';\n        break;\n\n      case ACESFilmicToneMapping:\n        toneMappingName = 'ACESFilmic';\n        break;\n\n      default:\n        throw new Error('unsupported toneMapping: ' + toneMapping);\n\n    }\n\n    return 'vec3 ' + functionName + '( vec3 color ) { return ' + toneMappingName + 'ToneMapping( color ); }';\n\n  }\n\n  function generateExtensions(extensions, parameters, rendererExtensions) {\n\n    extensions = extensions || {};\n\n    var chunks = [\n      (extensions.derivatives || parameters.envMapCubeUV || parameters.bumpMap || parameters.tangentSpaceNormalMap || parameters.clearcoatNormalMap || parameters.flatShading || parameters.shaderID === 'physical') ? '#extension GL_OES_standard_derivatives : enable' : '',\n      (extensions.fragDepth || parameters.logarithmicDepthBuffer) && rendererExtensions.get('EXT_frag_depth') ? '#extension GL_EXT_frag_depth : enable' : '',\n      (extensions.drawBuffers) && rendererExtensions.get('WEBGL_draw_buffers') ? '#extension GL_EXT_draw_buffers : require' : '',\n      (extensions.shaderTextureLOD || parameters.envMap) && rendererExtensions.get('EXT_shader_texture_lod') ? '#extension GL_EXT_shader_texture_lod : enable' : ''\n    ];\n\n    return chunks.filter(filterEmptyLine).join('\\n');\n\n  }\n\n  function generateDefines(defines) {\n\n    var chunks = [];\n\n    for (var name in defines) {\n\n      var value = defines[name];\n\n      if (value === false) {\n        continue;\n      }\n\n      chunks.push('#define ' + name + ' ' + value);\n\n    }\n\n    return chunks.join('\\n');\n\n  }\n\n  function fetchAttributeLocations(gl, program) {\n\n    var attributes = {};\n\n    var n = gl.getProgramParameter(program, 35721);\n\n    for (var i = 0; i < n; i++) {\n\n      var info = gl.getActiveAttrib(program, i);\n      var name = info.name;\n\n      // console.log( 'THREE.WebGLProgram: ACTIVE VERTEX ATTRIBUTE:', name, i );\n\n      attributes[name] = gl.getAttribLocation(program, name);\n\n    }\n\n    return attributes;\n\n  }\n\n  function filterEmptyLine(string) {\n\n    return string !== '';\n\n  }\n\n  function replaceLightNums(string, parameters) {\n\n    return string\n      .replace(/NUM_DIR_LIGHTS/g, parameters.numDirLights)\n      .replace(/NUM_SPOT_LIGHTS/g, parameters.numSpotLights)\n      .replace(/NUM_RECT_AREA_LIGHTS/g, parameters.numRectAreaLights)\n      .replace(/NUM_POINT_LIGHTS/g, parameters.numPointLights)\n      .replace(/NUM_HEMI_LIGHTS/g, parameters.numHemiLights)\n      .replace(/NUM_DIR_LIGHT_SHADOWS/g, parameters.numDirLightShadows)\n      .replace(/NUM_SPOT_LIGHT_SHADOWS/g, parameters.numSpotLightShadows)\n      .replace(/NUM_POINT_LIGHT_SHADOWS/g, parameters.numPointLightShadows);\n\n  }\n\n  function replaceClippingPlaneNums(string, parameters) {\n\n    return string\n      .replace(/NUM_CLIPPING_PLANES/g, parameters.numClippingPlanes)\n      .replace(/UNION_CLIPPING_PLANES/g, (parameters.numClippingPlanes - parameters.numClipIntersection));\n\n  }\n\n  // Resolve Includes\n\n  var includePattern = /^[ \\t]*#include +<([\\w\\d./]+)>/gm;\n\n  function resolveIncludes(string) {\n\n    return string.replace(includePattern, includeReplacer);\n\n  }\n\n  function includeReplacer(match, include) {\n\n    var string = ShaderChunk[include];\n\n    if (string === undefined) {\n\n      throw new Error('Can not resolve #include <' + include + '>');\n\n    }\n\n    return resolveIncludes(string);\n\n  }\n\n  // Unroll Loops\n\n  var loopPattern = /#pragma unroll_loop[\\s]+?for \\( int i \\= (\\d+)\\; i < (\\d+)\\; i \\+\\+ \\) \\{([\\s\\S]+?)(?=\\})\\}/g;\n\n  function unrollLoops(string) {\n\n    return string.replace(loopPattern, loopReplacer);\n\n  }\n\n  function loopReplacer(match, start, end, snippet) {\n\n    var string = '';\n\n    for (var i = parseInt(start); i < parseInt(end); i++) {\n\n      string += snippet\n        .replace(/\\[ i \\]/g, '[ ' + i + ' ]')\n        .replace(/UNROLLED_LOOP_INDEX/g, i);\n\n    }\n\n    return string;\n\n  }\n\n  //\n\n  function generatePrecision(parameters) {\n\n    var precisionstring = \"precision \" + parameters.precision + \" float;\\nprecision \" + parameters.precision + \" int;\";\n\n    if (parameters.precision === \"highp\") {\n\n      precisionstring += \"\\n#define HIGH_PRECISION\";\n\n    } else if (parameters.precision === \"mediump\") {\n\n      precisionstring += \"\\n#define MEDIUM_PRECISION\";\n\n    } else if (parameters.precision === \"lowp\") {\n\n      precisionstring += \"\\n#define LOW_PRECISION\";\n\n    }\n\n    return precisionstring;\n\n  }\n\n  function generateShadowMapTypeDefine(parameters) {\n\n    var shadowMapTypeDefine = 'SHADOWMAP_TYPE_BASIC';\n\n    if (parameters.shadowMapType === PCFShadowMap) {\n\n      shadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF';\n\n    } else if (parameters.shadowMapType === PCFSoftShadowMap) {\n\n      shadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF_SOFT';\n\n    } else if (parameters.shadowMapType === VSMShadowMap) {\n\n      shadowMapTypeDefine = 'SHADOWMAP_TYPE_VSM';\n\n    }\n\n    return shadowMapTypeDefine;\n\n  }\n\n  function generateEnvMapTypeDefine(parameters) {\n\n    var envMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\n    if (parameters.envMap) {\n\n      switch (parameters.envMapMode) {\n\n        case CubeReflectionMapping:\n        case CubeRefractionMapping:\n          envMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n          break;\n\n        case CubeUVReflectionMapping:\n        case CubeUVRefractionMapping:\n          envMapTypeDefine = 'ENVMAP_TYPE_CUBE_UV';\n          break;\n\n        case EquirectangularReflectionMapping:\n        case EquirectangularRefractionMapping:\n          envMapTypeDefine = 'ENVMAP_TYPE_EQUIREC';\n          break;\n\n        case SphericalReflectionMapping:\n          envMapTypeDefine = 'ENVMAP_TYPE_SPHERE';\n          break;\n\n      }\n\n    }\n\n    return envMapTypeDefine;\n\n  }\n\n  function generateEnvMapModeDefine(parameters) {\n\n    var envMapModeDefine = 'ENVMAP_MODE_REFLECTION';\n\n    if (parameters.envMap) {\n\n      switch (parameters.envMapMode) {\n\n        case CubeRefractionMapping:\n        case EquirectangularRefractionMapping:\n          envMapModeDefine = 'ENVMAP_MODE_REFRACTION';\n          break;\n\n      }\n\n    }\n\n    return envMapModeDefine;\n\n  }\n\n  function generateEnvMapBlendingDefine(parameters) {\n\n    var envMapBlendingDefine = 'ENVMAP_BLENDING_NONE';\n\n    if (parameters.envMap) {\n\n      switch (parameters.combine) {\n\n        case MultiplyOperation:\n          envMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';\n          break;\n\n        case MixOperation:\n          envMapBlendingDefine = 'ENVMAP_BLENDING_MIX';\n          break;\n\n        case AddOperation:\n          envMapBlendingDefine = 'ENVMAP_BLENDING_ADD';\n          break;\n\n      }\n\n    }\n\n    return envMapBlendingDefine;\n\n  }\n\n  function WebGLProgram(renderer, extensions, cacheKey, material, shader, parameters) {\n\n    var gl = renderer.getContext();\n\n    var defines = material.defines;\n\n    var vertexShader = shader.vertexShader;\n    var fragmentShader = shader.fragmentShader;\n    var shadowMapTypeDefine = generateShadowMapTypeDefine(parameters);\n    var envMapTypeDefine = generateEnvMapTypeDefine(parameters);\n    var envMapModeDefine = generateEnvMapModeDefine(parameters);\n    var envMapBlendingDefine = generateEnvMapBlendingDefine(parameters);\n\n\n    var gammaFactorDefine = (renderer.gammaFactor > 0) ? renderer.gammaFactor : 1.0;\n\n    var customExtensions = parameters.isWebGL2 ? '' : generateExtensions(material.extensions, parameters, extensions);\n\n    var customDefines = generateDefines(defines);\n\n    var program = gl.createProgram();\n\n    var prefixVertex, prefixFragment;\n\n    var numMultiviewViews = parameters.numMultiviewViews;\n\n    if (material.isRawShaderMaterial) {\n\n      prefixVertex = [\n\n        customDefines\n\n      ].filter(filterEmptyLine).join('\\n');\n\n      if (prefixVertex.length > 0) {\n\n        prefixVertex += '\\n';\n\n      }\n\n      prefixFragment = [\n\n        customExtensions,\n        customDefines\n\n      ].filter(filterEmptyLine).join('\\n');\n\n      if (prefixFragment.length > 0) {\n\n        prefixFragment += '\\n';\n\n      }\n\n    } else {\n\n      prefixVertex = [\n\n        generatePrecision(parameters),\n\n        '#define SHADER_NAME ' + shader.name,\n\n        customDefines,\n\n        parameters.instancing ? '#define USE_INSTANCING' : '',\n        parameters.supportsVertexTextures ? '#define VERTEX_TEXTURES' : '',\n\n        '#define GAMMA_FACTOR ' + gammaFactorDefine,\n\n        '#define MAX_BONES ' + parameters.maxBones,\n        (parameters.useFog && parameters.fog) ? '#define USE_FOG' : '',\n        (parameters.useFog && parameters.fogExp2) ? '#define FOG_EXP2' : '',\n\n        parameters.map ? '#define USE_MAP' : '',\n        parameters.envMap ? '#define USE_ENVMAP' : '',\n        parameters.envMap ? '#define ' + envMapModeDefine : '',\n        parameters.lightMap ? '#define USE_LIGHTMAP' : '',\n        parameters.aoMap ? '#define USE_AOMAP' : '',\n        parameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n        parameters.bumpMap ? '#define USE_BUMPMAP' : '',\n        parameters.normalMap ? '#define USE_NORMALMAP' : '',\n        (parameters.normalMap && parameters.objectSpaceNormalMap) ? '#define OBJECTSPACE_NORMALMAP' : '',\n        (parameters.normalMap && parameters.tangentSpaceNormalMap) ? '#define TANGENTSPACE_NORMALMAP' : '',\n\n        parameters.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '',\n        parameters.displacementMap && parameters.supportsVertexTextures ? '#define USE_DISPLACEMENTMAP' : '',\n        parameters.specularMap ? '#define USE_SPECULARMAP' : '',\n        parameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n        parameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n        parameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n\n        parameters.vertexTangents ? '#define USE_TANGENT' : '',\n        parameters.vertexColors ? '#define USE_COLOR' : '',\n        parameters.vertexUvs ? '#define USE_UV' : '',\n        parameters.uvsVertexOnly ? '#define UVS_VERTEX_ONLY' : '',\n\n        parameters.flatShading ? '#define FLAT_SHADED' : '',\n\n        parameters.skinning ? '#define USE_SKINNING' : '',\n        parameters.useVertexTexture ? '#define BONE_TEXTURE' : '',\n\n        parameters.morphTargets ? '#define USE_MORPHTARGETS' : '',\n        parameters.morphNormals && parameters.flatShading === false ? '#define USE_MORPHNORMALS' : '',\n        parameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n        parameters.flipSided ? '#define FLIP_SIDED' : '',\n\n        parameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n        parameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\n        parameters.sizeAttenuation ? '#define USE_SIZEATTENUATION' : '',\n\n        parameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n        parameters.logarithmicDepthBuffer && (parameters.isWebGL2 || extensions.get('EXT_frag_depth')) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\n        'uniform mat4 modelMatrix;',\n        'uniform mat4 modelViewMatrix;',\n        'uniform mat4 projectionMatrix;',\n        'uniform mat4 viewMatrix;',\n        'uniform mat3 normalMatrix;',\n        'uniform vec3 cameraPosition;',\n        'uniform bool isOrthographic;',\n\n        '#ifdef USE_INSTANCING',\n\n        ' attribute mat4 instanceMatrix;',\n\n        '#endif',\n\n        'attribute vec3 position;',\n        'attribute vec3 normal;',\n        'attribute vec2 uv;',\n\n        '#ifdef USE_TANGENT',\n\n        '\tattribute vec4 tangent;',\n\n        '#endif',\n\n        '#ifdef USE_COLOR',\n\n        '\tattribute vec3 color;',\n\n        '#endif',\n\n        '#ifdef USE_MORPHTARGETS',\n\n        '\tattribute vec3 morphTarget0;',\n        '\tattribute vec3 morphTarget1;',\n        '\tattribute vec3 morphTarget2;',\n        '\tattribute vec3 morphTarget3;',\n\n        '\t#ifdef USE_MORPHNORMALS',\n\n        '\t\tattribute vec3 morphNormal0;',\n        '\t\tattribute vec3 morphNormal1;',\n        '\t\tattribute vec3 morphNormal2;',\n        '\t\tattribute vec3 morphNormal3;',\n\n        '\t#else',\n\n        '\t\tattribute vec3 morphTarget4;',\n        '\t\tattribute vec3 morphTarget5;',\n        '\t\tattribute vec3 morphTarget6;',\n        '\t\tattribute vec3 morphTarget7;',\n\n        '\t#endif',\n\n        '#endif',\n\n        '#ifdef USE_SKINNING',\n\n        '\tattribute vec4 skinIndex;',\n        '\tattribute vec4 skinWeight;',\n\n        '#endif',\n\n        '\\n'\n\n      ].filter(filterEmptyLine).join('\\n');\n\n      prefixFragment = [\n\n        customExtensions,\n\n        generatePrecision(parameters),\n\n        '#define SHADER_NAME ' + shader.name,\n\n        customDefines,\n\n        parameters.alphaTest ? '#define ALPHATEST ' + parameters.alphaTest + (parameters.alphaTest % 1 ? '' : '.0') : '', // add '.0' if integer\n\n        '#define GAMMA_FACTOR ' + gammaFactorDefine,\n\n        (parameters.useFog && parameters.fog) ? '#define USE_FOG' : '',\n        (parameters.useFog && parameters.fogExp2) ? '#define FOG_EXP2' : '',\n\n        parameters.map ? '#define USE_MAP' : '',\n        parameters.matcap ? '#define USE_MATCAP' : '',\n        parameters.envMap ? '#define USE_ENVMAP' : '',\n        parameters.envMap ? '#define ' + envMapTypeDefine : '',\n        parameters.envMap ? '#define ' + envMapModeDefine : '',\n        parameters.envMap ? '#define ' + envMapBlendingDefine : '',\n        parameters.lightMap ? '#define USE_LIGHTMAP' : '',\n        parameters.aoMap ? '#define USE_AOMAP' : '',\n        parameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n        parameters.bumpMap ? '#define USE_BUMPMAP' : '',\n        parameters.normalMap ? '#define USE_NORMALMAP' : '',\n        (parameters.normalMap && parameters.objectSpaceNormalMap) ? '#define OBJECTSPACE_NORMALMAP' : '',\n        (parameters.normalMap && parameters.tangentSpaceNormalMap) ? '#define TANGENTSPACE_NORMALMAP' : '',\n        parameters.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '',\n        parameters.specularMap ? '#define USE_SPECULARMAP' : '',\n        parameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n        parameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n        parameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n\n        parameters.sheen ? '#define USE_SHEEN' : '',\n\n        parameters.vertexTangents ? '#define USE_TANGENT' : '',\n        parameters.vertexColors ? '#define USE_COLOR' : '',\n        parameters.vertexUvs ? '#define USE_UV' : '',\n        parameters.uvsVertexOnly ? '#define UVS_VERTEX_ONLY' : '',\n\n        parameters.gradientMap ? '#define USE_GRADIENTMAP' : '',\n\n        parameters.flatShading ? '#define FLAT_SHADED' : '',\n\n        parameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n        parameters.flipSided ? '#define FLIP_SIDED' : '',\n\n        parameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n        parameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\n        parameters.premultipliedAlpha ? '#define PREMULTIPLIED_ALPHA' : '',\n\n        parameters.physicallyCorrectLights ? '#define PHYSICALLY_CORRECT_LIGHTS' : '',\n\n        parameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n        parameters.logarithmicDepthBuffer && (parameters.isWebGL2 || extensions.get('EXT_frag_depth')) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\n        ((material.extensions ? material.extensions.shaderTextureLOD : false) || parameters.envMap) && (parameters.isWebGL2 || extensions.get('EXT_shader_texture_lod')) ? '#define TEXTURE_LOD_EXT' : '',\n\n        'uniform mat4 viewMatrix;',\n        'uniform vec3 cameraPosition;',\n        'uniform bool isOrthographic;',\n\n        (parameters.toneMapping !== NoToneMapping) ? '#define TONE_MAPPING' : '',\n        (parameters.toneMapping !== NoToneMapping) ? ShaderChunk['tonemapping_pars_fragment'] : '', // this code is required here because it is used by the toneMapping() function defined below\n        (parameters.toneMapping !== NoToneMapping) ? getToneMappingFunction('toneMapping', parameters.toneMapping) : '',\n\n        parameters.dithering ? '#define DITHERING' : '',\n\n        (parameters.outputEncoding || parameters.mapEncoding || parameters.matcapEncoding || parameters.envMapEncoding || parameters.emissiveMapEncoding || parameters.lightMapEncoding) ?\n        ShaderChunk['encodings_pars_fragment'] : '', // this code is required here because it is used by the various encoding/decoding function defined below\n        parameters.mapEncoding ? getTexelDecodingFunction('mapTexelToLinear', parameters.mapEncoding) : '',\n        parameters.matcapEncoding ? getTexelDecodingFunction('matcapTexelToLinear', parameters.matcapEncoding) : '',\n        parameters.envMapEncoding ? getTexelDecodingFunction('envMapTexelToLinear', parameters.envMapEncoding) : '',\n        parameters.emissiveMapEncoding ? getTexelDecodingFunction('emissiveMapTexelToLinear', parameters.emissiveMapEncoding) : '',\n        parameters.lightMapEncoding ? getTexelDecodingFunction('lightMapTexelToLinear', parameters.lightMapEncoding) : '',\n        parameters.outputEncoding ? getTexelEncodingFunction('linearToOutputTexel', parameters.outputEncoding) : '',\n\n        parameters.depthPacking ? '#define DEPTH_PACKING ' + material.depthPacking : '',\n\n        '\\n'\n\n      ].filter(filterEmptyLine).join('\\n');\n\n    }\n\n    vertexShader = resolveIncludes(vertexShader);\n    vertexShader = replaceLightNums(vertexShader, parameters);\n    vertexShader = replaceClippingPlaneNums(vertexShader, parameters);\n\n    fragmentShader = resolveIncludes(fragmentShader);\n    fragmentShader = replaceLightNums(fragmentShader, parameters);\n    fragmentShader = replaceClippingPlaneNums(fragmentShader, parameters);\n\n    vertexShader = unrollLoops(vertexShader);\n    fragmentShader = unrollLoops(fragmentShader);\n\n    if (parameters.isWebGL2 && !material.isRawShaderMaterial) {\n\n      var isGLSL3ShaderMaterial = false;\n\n      var versionRegex = /^\\s*#version\\s+300\\s+es\\s*\\n/;\n\n      if (material.isShaderMaterial &&\n        vertexShader.match(versionRegex) !== null &&\n        fragmentShader.match(versionRegex) !== null) {\n\n        isGLSL3ShaderMaterial = true;\n\n        vertexShader = vertexShader.replace(versionRegex, '');\n        fragmentShader = fragmentShader.replace(versionRegex, '');\n\n      }\n\n      // GLSL 3.0 conversion\n\n      prefixVertex = [\n        '#version 300 es\\n',\n        '#define attribute in',\n        '#define varying out',\n        '#define texture2D texture'\n      ].join('\\n') + '\\n' + prefixVertex;\n\n      prefixFragment = [\n        '#version 300 es\\n',\n        '#define varying in',\n        isGLSL3ShaderMaterial ? '' : 'out highp vec4 pc_fragColor;',\n        isGLSL3ShaderMaterial ? '' : '#define gl_FragColor pc_fragColor',\n        '#define gl_FragDepthEXT gl_FragDepth',\n        '#define texture2D texture',\n        '#define textureCube texture',\n        '#define texture2DProj textureProj',\n        '#define texture2DLodEXT textureLod',\n        '#define texture2DProjLodEXT textureProjLod',\n        '#define textureCubeLodEXT textureLod',\n        '#define texture2DGradEXT textureGrad',\n        '#define texture2DProjGradEXT textureProjGrad',\n        '#define textureCubeGradEXT textureGrad'\n      ].join('\\n') + '\\n' + prefixFragment;\n\n      // Multiview\n\n      if (numMultiviewViews > 0) {\n\n        prefixVertex = prefixVertex.replace(\n          '#version 300 es\\n',\n          [\n            '#version 300 es\\n',\n            '#extension GL_OVR_multiview2 : require',\n            'layout(num_views = ' + numMultiviewViews + ') in;',\n            '#define VIEW_ID gl_ViewID_OVR'\n          ].join('\\n')\n        );\n\n        prefixVertex = prefixVertex.replace(\n          [\n            'uniform mat4 modelViewMatrix;',\n            'uniform mat4 projectionMatrix;',\n            'uniform mat4 viewMatrix;',\n            'uniform mat3 normalMatrix;'\n          ].join('\\n'),\n          [\n            'uniform mat4 modelViewMatrices[' + numMultiviewViews + '];',\n            'uniform mat4 projectionMatrices[' + numMultiviewViews + '];',\n            'uniform mat4 viewMatrices[' + numMultiviewViews + '];',\n            'uniform mat3 normalMatrices[' + numMultiviewViews + '];',\n\n            '#define modelViewMatrix modelViewMatrices[VIEW_ID]',\n            '#define projectionMatrix projectionMatrices[VIEW_ID]',\n            '#define viewMatrix viewMatrices[VIEW_ID]',\n            '#define normalMatrix normalMatrices[VIEW_ID]'\n          ].join('\\n')\n        );\n\n        prefixFragment = prefixFragment.replace(\n          '#version 300 es\\n',\n          [\n            '#version 300 es\\n',\n            '#extension GL_OVR_multiview2 : require',\n            '#define VIEW_ID gl_ViewID_OVR'\n          ].join('\\n')\n        );\n\n        prefixFragment = prefixFragment.replace(\n          'uniform mat4 viewMatrix;',\n          [\n            'uniform mat4 viewMatrices[' + numMultiviewViews + '];',\n            '#define viewMatrix viewMatrices[VIEW_ID]'\n          ].join('\\n')\n        );\n\n      }\n\n    }\n\n    var vertexGlsl = prefixVertex + vertexShader;\n    var fragmentGlsl = prefixFragment + fragmentShader;\n\n    // console.log( '*VERTEX*', vertexGlsl );\n    // console.log( '*FRAGMENT*', fragmentGlsl );\n\n    var glVertexShader = WebGLShader(gl, 35633, vertexGlsl);\n    var glFragmentShader = WebGLShader(gl, 35632, fragmentGlsl);\n\n    gl.attachShader(program, glVertexShader);\n    gl.attachShader(program, glFragmentShader);\n\n    // Force a particular attribute to index 0.\n\n    if (material.index0AttributeName !== undefined) {\n\n      gl.bindAttribLocation(program, 0, material.index0AttributeName);\n\n    } else if (parameters.morphTargets === true) {\n\n      // programs with morphTargets displace position out of attribute 0\n      gl.bindAttribLocation(program, 0, 'position');\n\n    }\n\n    gl.linkProgram(program);\n\n    // check for link errors\n    if (renderer.debug.checkShaderErrors) {\n\n      var programLog = gl.getProgramInfoLog(program).trim();\n      var vertexLog = gl.getShaderInfoLog(glVertexShader).trim();\n      var fragmentLog = gl.getShaderInfoLog(glFragmentShader).trim();\n\n      var runnable = true;\n      var haveDiagnostics = true;\n\n      if (gl.getProgramParameter(program, 35714) === false) {\n\n        runnable = false;\n\n        var vertexErrors = getShaderErrors(gl, glVertexShader, 'vertex');\n        var fragmentErrors = getShaderErrors(gl, glFragmentShader, 'fragment');\n\n        console.error('THREE.WebGLProgram: shader error: ', gl.getError(), '35715', gl.getProgramParameter(program, 35715), 'gl.getProgramInfoLog', programLog, vertexErrors, fragmentErrors);\n\n      } else if (programLog !== '') {\n\n        console.warn('THREE.WebGLProgram: gl.getProgramInfoLog()', programLog);\n\n      } else if (vertexLog === '' || fragmentLog === '') {\n\n        haveDiagnostics = false;\n\n      }\n\n      if (haveDiagnostics) {\n\n        this.diagnostics = {\n\n          runnable: runnable,\n          material: material,\n\n          programLog: programLog,\n\n          vertexShader: {\n\n            log: vertexLog,\n            prefix: prefixVertex\n\n          },\n\n          fragmentShader: {\n\n            log: fragmentLog,\n            prefix: prefixFragment\n\n          }\n\n        };\n\n      }\n\n    }\n\n    // clean up\n\n    gl.deleteShader(glVertexShader);\n    gl.deleteShader(glFragmentShader);\n\n    // set up caching for uniform locations\n\n    var cachedUniforms;\n\n    this.getUniforms = function() {\n\n      if (cachedUniforms === undefined) {\n\n        cachedUniforms = new WebGLUniforms(gl, program);\n\n      }\n\n      return cachedUniforms;\n\n    };\n\n    // set up caching for attribute locations\n\n    var cachedAttributes;\n\n    this.getAttributes = function() {\n\n      if (cachedAttributes === undefined) {\n\n        cachedAttributes = fetchAttributeLocations(gl, program);\n\n      }\n\n      return cachedAttributes;\n\n    };\n\n    // free resource\n\n    this.destroy = function() {\n\n      gl.deleteProgram(program);\n      this.program = undefined;\n\n    };\n\n    //\n\n    this.name = shader.name;\n    this.id = programIdCount++;\n    this.cacheKey = cacheKey;\n    this.usedTimes = 1;\n    this.program = program;\n    this.vertexShader = glVertexShader;\n    this.fragmentShader = glFragmentShader;\n    this.numMultiviewViews = numMultiviewViews;\n\n    return this;\n\n  }\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function WebGLPrograms(renderer, extensions, capabilities) {\n\n    var programs = [];\n\n    var isWebGL2 = capabilities.isWebGL2;\n    var logarithmicDepthBuffer = capabilities.logarithmicDepthBuffer;\n    var floatVertexTextures = capabilities.floatVertexTextures;\n    var precision = capabilities.precision;\n    var maxVertexUniforms = capabilities.maxVertexUniforms;\n    var vertexTextures = capabilities.vertexTextures;\n\n    var shaderIDs = {\n      MeshDepthMaterial: 'depth',\n      MeshDistanceMaterial: 'distanceRGBA',\n      MeshNormalMaterial: 'normal',\n      MeshBasicMaterial: 'basic',\n      MeshLambertMaterial: 'lambert',\n      MeshPhongMaterial: 'phong',\n      MeshToonMaterial: 'toon',\n      MeshStandardMaterial: 'physical',\n      MeshPhysicalMaterial: 'physical',\n      MeshMatcapMaterial: 'matcap',\n      LineBasicMaterial: 'basic',\n      LineDashedMaterial: 'dashed',\n      PointsMaterial: 'points',\n      ShadowMaterial: 'shadow',\n      SpriteMaterial: 'sprite'\n    };\n\n    var parameterNames = [\n      \"precision\", \"isWebGL2\", \"supportsVertexTextures\", \"outputEncoding\", \"instancing\", \"numMultiviewViews\",\n      \"map\", \"mapEncoding\", \"matcap\", \"matcapEncoding\", \"envMap\", \"envMapMode\", \"envMapEncoding\", \"envMapCubeUV\",\n      \"lightMap\", \"lightMapEncoding\", \"aoMap\", \"emissiveMap\", \"emissiveMapEncoding\", \"bumpMap\", \"normalMap\", \"objectSpaceNormalMap\", \"tangentSpaceNormalMap\", \"clearcoatNormalMap\", \"displacementMap\", \"specularMap\",\n      \"roughnessMap\", \"metalnessMap\", \"gradientMap\",\n      \"alphaMap\", \"combine\", \"vertexColors\", \"vertexTangents\", \"vertexUvs\", \"uvsVertexOnly\", \"fog\", \"useFog\", \"fogExp2\",\n      \"flatShading\", \"sizeAttenuation\", \"logarithmicDepthBuffer\", \"skinning\",\n      \"maxBones\", \"useVertexTexture\", \"morphTargets\", \"morphNormals\",\n      \"maxMorphTargets\", \"maxMorphNormals\", \"premultipliedAlpha\",\n      \"numDirLights\", \"numPointLights\", \"numSpotLights\", \"numHemiLights\", \"numRectAreaLights\",\n      \"numDirLightShadows\", \"numPointLightShadows\", \"numSpotLightShadows\",\n      \"shadowMapEnabled\", \"shadowMapType\", \"toneMapping\", 'physicallyCorrectLights',\n      \"alphaTest\", \"doubleSided\", \"flipSided\", \"numClippingPlanes\", \"numClipIntersection\", \"depthPacking\", \"dithering\",\n      \"sheen\"\n    ];\n\n\n    function allocateBones(object) {\n\n      var skeleton = object.skeleton;\n      var bones = skeleton.bones;\n\n      if (floatVertexTextures) {\n\n        return 1024;\n\n      } else {\n\n        // default for when object is not specified\n        // ( for example when prebuilding shader to be used with multiple objects )\n        //\n        //  - leave some extra space for other uniforms\n        //  - limit here is ANGLE's 254 max uniform vectors\n        //    (up to 54 should be safe)\n\n        var nVertexUniforms = maxVertexUniforms;\n        var nVertexMatrices = Math.floor((nVertexUniforms - 20) / 4);\n\n        var maxBones = Math.min(nVertexMatrices, bones.length);\n\n        if (maxBones < bones.length) {\n\n          console.warn('THREE.WebGLRenderer: Skeleton has ' + bones.length + ' bones. This GPU supports ' + maxBones + '.');\n          return 0;\n\n        }\n\n        return maxBones;\n\n      }\n\n    }\n\n    function getTextureEncodingFromMap(map) {\n\n      var encoding;\n\n      if (!map) {\n\n        encoding = LinearEncoding;\n\n      } else if (map.isTexture) {\n\n        encoding = map.encoding;\n\n      } else if (map.isWebGLRenderTarget) {\n\n        console.warn(\"THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead.\");\n        encoding = map.texture.encoding;\n\n      }\n\n      return encoding;\n\n    }\n\n    this.getParameters = function(material, lights, shadows, scene, nClipPlanes, nClipIntersection, object) {\n\n      var fog = scene.fog;\n      var environment = material.isMeshStandardMaterial ? scene.environment : null;\n\n      var envMap = material.envMap || environment;\n\n      var shaderID = shaderIDs[material.type];\n\n      // heuristics to create shader parameters according to lights in the scene\n      // (not to blow over maxLights budget)\n\n      var maxBones = object.isSkinnedMesh ? allocateBones(object) : 0;\n\n      if (material.precision !== null) {\n\n        precision = capabilities.getMaxPrecision(material.precision);\n\n        if (precision !== material.precision) {\n\n          console.warn('THREE.WebGLProgram.getParameters:', material.precision, 'not supported, using', precision, 'instead.');\n\n        }\n\n      }\n\n      var currentRenderTarget = renderer.getRenderTarget();\n      var numMultiviewViews = currentRenderTarget && currentRenderTarget.isWebGLMultiviewRenderTarget ? currentRenderTarget.numViews : 0;\n\n      var parameters = {\n\n        isWebGL2: isWebGL2,\n\n        shaderID: shaderID,\n\n        precision: precision,\n\n        instancing: object.isInstancedMesh === true,\n\n        supportsVertexTextures: vertexTextures,\n        numMultiviewViews: numMultiviewViews,\n        outputEncoding: (currentRenderTarget !== null) ? getTextureEncodingFromMap(currentRenderTarget.texture) : renderer.outputEncoding,\n        map: !!material.map,\n        mapEncoding: getTextureEncodingFromMap(material.map),\n        matcap: !!material.matcap,\n        matcapEncoding: getTextureEncodingFromMap(material.matcap),\n        envMap: !!envMap,\n        envMapMode: envMap && envMap.mapping,\n        envMapEncoding: getTextureEncodingFromMap(envMap),\n        envMapCubeUV: (!!envMap) && ((envMap.mapping === CubeUVReflectionMapping) || (envMap.mapping === CubeUVRefractionMapping)),\n        lightMap: !!material.lightMap,\n        lightMapEncoding: getTextureEncodingFromMap(material.lightMap),\n        aoMap: !!material.aoMap,\n        emissiveMap: !!material.emissiveMap,\n        emissiveMapEncoding: getTextureEncodingFromMap(material.emissiveMap),\n        bumpMap: !!material.bumpMap,\n        normalMap: !!material.normalMap,\n        objectSpaceNormalMap: material.normalMapType === ObjectSpaceNormalMap,\n        tangentSpaceNormalMap: material.normalMapType === TangentSpaceNormalMap,\n        clearcoatNormalMap: !!material.clearcoatNormalMap,\n        displacementMap: !!material.displacementMap,\n        roughnessMap: !!material.roughnessMap,\n        metalnessMap: !!material.metalnessMap,\n        specularMap: !!material.specularMap,\n        alphaMap: !!material.alphaMap,\n\n        gradientMap: !!material.gradientMap,\n\n        sheen: !!material.sheen,\n\n        combine: material.combine,\n\n        vertexTangents: (material.normalMap && material.vertexTangents),\n        vertexColors: material.vertexColors,\n        vertexUvs: !!material.map || !!material.bumpMap || !!material.normalMap || !!material.specularMap || !!material.alphaMap || !!material.emissiveMap || !!material.roughnessMap || !!material.metalnessMap || !!material.clearcoatNormalMap || !!material.displacementMap,\n        uvsVertexOnly: !(!!material.map || !!material.bumpMap || !!material.normalMap || !!material.specularMap || !!material.alphaMap || !!material.emissiveMap || !!material.roughnessMap || !!material.metalnessMap || !!material.clearcoatNormalMap) && !!material.displacementMap,\n\n        fog: !!fog,\n        useFog: material.fog,\n        fogExp2: (fog && fog.isFogExp2),\n\n        flatShading: material.flatShading,\n\n        sizeAttenuation: material.sizeAttenuation,\n        logarithmicDepthBuffer: logarithmicDepthBuffer,\n\n        skinning: material.skinning && maxBones > 0,\n        maxBones: maxBones,\n        useVertexTexture: floatVertexTextures,\n\n        morphTargets: material.morphTargets,\n        morphNormals: material.morphNormals,\n        maxMorphTargets: renderer.maxMorphTargets,\n        maxMorphNormals: renderer.maxMorphNormals,\n\n        numDirLights: lights.directional.length,\n        numPointLights: lights.point.length,\n        numSpotLights: lights.spot.length,\n        numRectAreaLights: lights.rectArea.length,\n        numHemiLights: lights.hemi.length,\n\n        numDirLightShadows: lights.directionalShadowMap.length,\n        numPointLightShadows: lights.pointShadowMap.length,\n        numSpotLightShadows: lights.spotShadowMap.length,\n\n        numClippingPlanes: nClipPlanes,\n        numClipIntersection: nClipIntersection,\n\n        dithering: material.dithering,\n\n        shadowMapEnabled: renderer.shadowMap.enabled && shadows.length > 0,\n        shadowMapType: renderer.shadowMap.type,\n\n        toneMapping: material.toneMapped ? renderer.toneMapping : NoToneMapping,\n        physicallyCorrectLights: renderer.physicallyCorrectLights,\n\n        premultipliedAlpha: material.premultipliedAlpha,\n\n        alphaTest: material.alphaTest,\n        doubleSided: material.side === DoubleSide,\n        flipSided: material.side === BackSide,\n\n        depthPacking: (material.depthPacking !== undefined) ? material.depthPacking : false\n\n      };\n\n      return parameters;\n\n    };\n\n    this.getProgramCacheKey = function(material, parameters) {\n\n      var array = [];\n\n      if (parameters.shaderID) {\n\n        array.push(parameters.shaderID);\n\n      } else {\n\n        array.push(material.fragmentShader);\n        array.push(material.vertexShader);\n\n      }\n\n      if (material.defines !== undefined) {\n\n        for (var name in material.defines) {\n\n          array.push(name);\n          array.push(material.defines[name]);\n\n        }\n\n      }\n\n      if (material.isRawShaderMaterial === undefined) {\n\n        for (var i = 0; i < parameterNames.length; i++) {\n\n          array.push(parameters[parameterNames[i]]);\n\n        }\n\n        array.push(renderer.outputEncoding);\n        array.push(renderer.gammaFactor);\n\n      }\n\n      array.push(material.onBeforeCompile.toString());\n\n      return array.join();\n\n    };\n\n    this.acquireProgram = function(material, shader, parameters, cacheKey) {\n\n      var program;\n\n      // Check if code has been already compiled\n      for (var p = 0, pl = programs.length; p < pl; p++) {\n\n        var preexistingProgram = programs[p];\n\n        if (preexistingProgram.cacheKey === cacheKey) {\n\n          program = preexistingProgram;\n          ++program.usedTimes;\n\n          break;\n\n        }\n\n      }\n\n      if (program === undefined) {\n\n        program = new WebGLProgram(renderer, extensions, cacheKey, material, shader, parameters);\n        programs.push(program);\n\n      }\n\n      return program;\n\n    };\n\n    this.releaseProgram = function(program) {\n\n      if (--program.usedTimes === 0) {\n\n        // Remove from unordered set\n        var i = programs.indexOf(program);\n        programs[i] = programs[programs.length - 1];\n        programs.pop();\n\n        // Free WebGL resources\n        program.destroy();\n\n      }\n\n    };\n\n    // Exposed for resource monitoring & error feedback via renderer.info:\n    this.programs = programs;\n\n  }\n\n  /**\n   * @author fordacious / fordacious.github.io\n   */\n\n  function WebGLProperties() {\n\n    var properties = new WeakMap();\n\n    function get(object) {\n\n      var map = properties.get(object);\n\n      if (map === undefined) {\n\n        map = {};\n        properties.set(object, map);\n\n      }\n\n      return map;\n\n    }\n\n    function remove(object) {\n\n      properties.delete(object);\n\n    }\n\n    function update(object, key, value) {\n\n      properties.get(object)[key] = value;\n\n    }\n\n    function dispose() {\n\n      properties = new WeakMap();\n\n    }\n\n    return {\n      get: get,\n      remove: remove,\n      update: update,\n      dispose: dispose\n    };\n\n  }\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function painterSortStable(a, b) {\n\n    if (a.groupOrder !== b.groupOrder) {\n\n      return a.groupOrder - b.groupOrder;\n\n    } else if (a.renderOrder !== b.renderOrder) {\n\n      return a.renderOrder - b.renderOrder;\n\n    } else if (a.program !== b.program) {\n\n      return a.program.id - b.program.id;\n\n    } else if (a.material.id !== b.material.id) {\n\n      return a.material.id - b.material.id;\n\n    } else if (a.z !== b.z) {\n\n      return a.z - b.z;\n\n    } else {\n\n      return a.id - b.id;\n\n    }\n\n  }\n\n  function reversePainterSortStable(a, b) {\n\n    if (a.groupOrder !== b.groupOrder) {\n\n      return a.groupOrder - b.groupOrder;\n\n    } else if (a.renderOrder !== b.renderOrder) {\n\n      return a.renderOrder - b.renderOrder;\n\n    } else if (a.z !== b.z) {\n\n      return b.z - a.z;\n\n    } else {\n\n      return a.id - b.id;\n\n    }\n\n  }\n\n\n  function WebGLRenderList() {\n\n    var renderItems = [];\n    var renderItemsIndex = 0;\n\n    var opaque = [];\n    var transparent = [];\n\n    var defaultProgram = {\n      id: -1\n    };\n\n    function init() {\n\n      renderItemsIndex = 0;\n\n      opaque.length = 0;\n      transparent.length = 0;\n\n    }\n\n    function getNextRenderItem(object, geometry, material, groupOrder, z, group) {\n\n      var renderItem = renderItems[renderItemsIndex];\n\n      if (renderItem === undefined) {\n\n        renderItem = {\n          id: object.id,\n          object: object,\n          geometry: geometry,\n          material: material,\n          program: material.program || defaultProgram,\n          groupOrder: groupOrder,\n          renderOrder: object.renderOrder,\n          z: z,\n          group: group\n        };\n\n        renderItems[renderItemsIndex] = renderItem;\n\n      } else {\n\n        renderItem.id = object.id;\n        renderItem.object = object;\n        renderItem.geometry = geometry;\n        renderItem.material = material;\n        renderItem.program = material.program || defaultProgram;\n        renderItem.groupOrder = groupOrder;\n        renderItem.renderOrder = object.renderOrder;\n        renderItem.z = z;\n        renderItem.group = group;\n\n      }\n\n      renderItemsIndex++;\n\n      return renderItem;\n\n    }\n\n    function push(object, geometry, material, groupOrder, z, group) {\n\n      var renderItem = getNextRenderItem(object, geometry, material, groupOrder, z, group);\n\n      (material.transparent === true ? transparent : opaque).push(renderItem);\n\n    }\n\n    function unshift(object, geometry, material, groupOrder, z, group) {\n\n      var renderItem = getNextRenderItem(object, geometry, material, groupOrder, z, group);\n\n      (material.transparent === true ? transparent : opaque).unshift(renderItem);\n\n    }\n\n    function sort(customOpaqueSort, customTransparentSort) {\n\n      if (opaque.length > 1) {\n        opaque.sort(customOpaqueSort || painterSortStable);\n      }\n      if (transparent.length > 1) {\n        transparent.sort(customTransparentSort || reversePainterSortStable);\n      }\n\n    }\n\n    return {\n      opaque: opaque,\n      transparent: transparent,\n\n      init: init,\n      push: push,\n      unshift: unshift,\n\n      sort: sort\n    };\n\n  }\n\n  function WebGLRenderLists() {\n\n    var lists = new WeakMap();\n\n    function onSceneDispose(event) {\n\n      var scene = event.target;\n\n      scene.removeEventListener('dispose', onSceneDispose);\n\n      lists.delete(scene);\n\n    }\n\n    function get(scene, camera) {\n\n      var cameras = lists.get(scene);\n      var list;\n      if (cameras === undefined) {\n\n        list = new WebGLRenderList();\n        lists.set(scene, new WeakMap());\n        lists.get(scene).set(camera, list);\n\n        scene.addEventListener('dispose', onSceneDispose);\n\n      } else {\n\n        list = cameras.get(camera);\n        if (list === undefined) {\n\n          list = new WebGLRenderList();\n          cameras.set(camera, list);\n\n        }\n\n      }\n\n      return list;\n\n    }\n\n    function dispose() {\n\n      lists = new WeakMap();\n\n    }\n\n    return {\n      get: get,\n      dispose: dispose\n    };\n\n  }\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function UniformsCache() {\n\n    var lights = {};\n\n    return {\n\n      get: function(light) {\n\n        if (lights[light.id] !== undefined) {\n\n          return lights[light.id];\n\n        }\n\n        var uniforms;\n\n        switch (light.type) {\n\n          case 'DirectionalLight':\n            uniforms = {\n              direction: new Vector3(),\n              color: new Color(),\n\n              shadow: false,\n              shadowBias: 0,\n              shadowRadius: 1,\n              shadowMapSize: new Vector2()\n            };\n            break;\n\n          case 'SpotLight':\n            uniforms = {\n              position: new Vector3(),\n              direction: new Vector3(),\n              color: new Color(),\n              distance: 0,\n              coneCos: 0,\n              penumbraCos: 0,\n              decay: 0,\n\n              shadow: false,\n              shadowBias: 0,\n              shadowRadius: 1,\n              shadowMapSize: new Vector2()\n            };\n            break;\n\n          case 'PointLight':\n            uniforms = {\n              position: new Vector3(),\n              color: new Color(),\n              distance: 0,\n              decay: 0,\n\n              shadow: false,\n              shadowBias: 0,\n              shadowRadius: 1,\n              shadowMapSize: new Vector2(),\n              shadowCameraNear: 1,\n              shadowCameraFar: 1000\n            };\n            break;\n\n          case 'HemisphereLight':\n            uniforms = {\n              direction: new Vector3(),\n              skyColor: new Color(),\n              groundColor: new Color()\n            };\n            break;\n\n          case 'RectAreaLight':\n            uniforms = {\n              color: new Color(),\n              position: new Vector3(),\n              halfWidth: new Vector3(),\n              halfHeight: new Vector3()\n              // TODO (abelnation): set RectAreaLight shadow uniforms\n            };\n            break;\n\n        }\n\n        lights[light.id] = uniforms;\n\n        return uniforms;\n\n      }\n\n    };\n\n  }\n\n  var nextVersion = 0;\n\n  function shadowCastingLightsFirst(lightA, lightB) {\n\n    return (lightB.castShadow ? 1 : 0) - (lightA.castShadow ? 1 : 0);\n\n  }\n\n  function WebGLLights() {\n\n    var cache = new UniformsCache();\n\n    var state = {\n\n      version: 0,\n\n      hash: {\n        directionalLength: -1,\n        pointLength: -1,\n        spotLength: -1,\n        rectAreaLength: -1,\n        hemiLength: -1,\n\n        numDirectionalShadows: -1,\n        numPointShadows: -1,\n        numSpotShadows: -1,\n      },\n\n      ambient: [0, 0, 0],\n      probe: [],\n      directional: [],\n      directionalShadowMap: [],\n      directionalShadowMatrix: [],\n      spot: [],\n      spotShadowMap: [],\n      spotShadowMatrix: [],\n      rectArea: [],\n      point: [],\n      pointShadowMap: [],\n      pointShadowMatrix: [],\n      hemi: [],\n\n      numDirectionalShadows: -1,\n      numPointShadows: -1,\n      numSpotShadows: -1\n\n    };\n\n    for (var i = 0; i < 9; i++) {\n      state.probe.push(new Vector3());\n    }\n\n    var vector3 = new Vector3();\n    var matrix4 = new Matrix4();\n    var matrix42 = new Matrix4();\n\n    function setup(lights, shadows, camera) {\n\n      var r = 0,\n        g = 0,\n        b = 0;\n\n      for (var i = 0; i < 9; i++) {\n        state.probe[i].set(0, 0, 0);\n      }\n\n      var directionalLength = 0;\n      var pointLength = 0;\n      var spotLength = 0;\n      var rectAreaLength = 0;\n      var hemiLength = 0;\n\n      var numDirectionalShadows = 0;\n      var numPointShadows = 0;\n      var numSpotShadows = 0;\n\n      var viewMatrix = camera.matrixWorldInverse;\n\n      lights.sort(shadowCastingLightsFirst);\n\n      for (var i = 0, l = lights.length; i < l; i++) {\n\n        var light = lights[i];\n\n        var color = light.color;\n        var intensity = light.intensity;\n        var distance = light.distance;\n\n        var shadowMap = (light.shadow && light.shadow.map) ? light.shadow.map.texture : null;\n\n        if (light.isAmbientLight) {\n\n          r += color.r * intensity;\n          g += color.g * intensity;\n          b += color.b * intensity;\n\n        } else if (light.isLightProbe) {\n\n          for (var j = 0; j < 9; j++) {\n\n            state.probe[j].addScaledVector(light.sh.coefficients[j], intensity);\n\n          }\n\n        } else if (light.isDirectionalLight) {\n\n          var uniforms = cache.get(light);\n\n          uniforms.color.copy(light.color).multiplyScalar(light.intensity);\n          uniforms.direction.setFromMatrixPosition(light.matrixWorld);\n          vector3.setFromMatrixPosition(light.target.matrixWorld);\n          uniforms.direction.sub(vector3);\n          uniforms.direction.transformDirection(viewMatrix);\n\n          uniforms.shadow = light.castShadow;\n\n          if (light.castShadow) {\n\n            var shadow = light.shadow;\n\n            uniforms.shadowBias = shadow.bias;\n            uniforms.shadowRadius = shadow.radius;\n            uniforms.shadowMapSize = shadow.mapSize;\n\n            state.directionalShadowMap[directionalLength] = shadowMap;\n            state.directionalShadowMatrix[directionalLength] = light.shadow.matrix;\n\n            numDirectionalShadows++;\n\n          }\n\n          state.directional[directionalLength] = uniforms;\n\n          directionalLength++;\n\n        } else if (light.isSpotLight) {\n\n          var uniforms = cache.get(light);\n\n          uniforms.position.setFromMatrixPosition(light.matrixWorld);\n          uniforms.position.applyMatrix4(viewMatrix);\n\n          uniforms.color.copy(color).multiplyScalar(intensity);\n          uniforms.distance = distance;\n\n          uniforms.direction.setFromMatrixPosition(light.matrixWorld);\n          vector3.setFromMatrixPosition(light.target.matrixWorld);\n          uniforms.direction.sub(vector3);\n          uniforms.direction.transformDirection(viewMatrix);\n\n          uniforms.coneCos = Math.cos(light.angle);\n          uniforms.penumbraCos = Math.cos(light.angle * (1 - light.penumbra));\n          uniforms.decay = light.decay;\n\n          uniforms.shadow = light.castShadow;\n\n          if (light.castShadow) {\n\n            var shadow = light.shadow;\n\n            uniforms.shadowBias = shadow.bias;\n            uniforms.shadowRadius = shadow.radius;\n            uniforms.shadowMapSize = shadow.mapSize;\n\n            state.spotShadowMap[spotLength] = shadowMap;\n            state.spotShadowMatrix[spotLength] = light.shadow.matrix;\n\n            numSpotShadows++;\n\n          }\n\n          state.spot[spotLength] = uniforms;\n\n          spotLength++;\n\n        } else if (light.isRectAreaLight) {\n\n          var uniforms = cache.get(light);\n\n          // (a) intensity is the total visible light emitted\n          //uniforms.color.copy( color ).multiplyScalar( intensity / ( light.width * light.height * Math.PI ) );\n\n          // (b) intensity is the brightness of the light\n          uniforms.color.copy(color).multiplyScalar(intensity);\n\n          uniforms.position.setFromMatrixPosition(light.matrixWorld);\n          uniforms.position.applyMatrix4(viewMatrix);\n\n          // extract local rotation of light to derive width/height half vectors\n          matrix42.identity();\n          matrix4.copy(light.matrixWorld);\n          matrix4.premultiply(viewMatrix);\n          matrix42.extractRotation(matrix4);\n\n          uniforms.halfWidth.set(light.width * 0.5, 0.0, 0.0);\n          uniforms.halfHeight.set(0.0, light.height * 0.5, 0.0);\n\n          uniforms.halfWidth.applyMatrix4(matrix42);\n          uniforms.halfHeight.applyMatrix4(matrix42);\n\n          // TODO (abelnation): RectAreaLight distance?\n          // uniforms.distance = distance;\n\n          state.rectArea[rectAreaLength] = uniforms;\n\n          rectAreaLength++;\n\n        } else if (light.isPointLight) {\n\n          var uniforms = cache.get(light);\n\n          uniforms.position.setFromMatrixPosition(light.matrixWorld);\n          uniforms.position.applyMatrix4(viewMatrix);\n\n          uniforms.color.copy(light.color).multiplyScalar(light.intensity);\n          uniforms.distance = light.distance;\n          uniforms.decay = light.decay;\n\n          uniforms.shadow = light.castShadow;\n\n          if (light.castShadow) {\n\n            var shadow = light.shadow;\n\n            uniforms.shadowBias = shadow.bias;\n            uniforms.shadowRadius = shadow.radius;\n            uniforms.shadowMapSize = shadow.mapSize;\n            uniforms.shadowCameraNear = shadow.camera.near;\n            uniforms.shadowCameraFar = shadow.camera.far;\n\n            state.pointShadowMap[pointLength] = shadowMap;\n            state.pointShadowMatrix[pointLength] = light.shadow.matrix;\n\n            numPointShadows++;\n\n          }\n\n          state.point[pointLength] = uniforms;\n\n          pointLength++;\n\n        } else if (light.isHemisphereLight) {\n\n          var uniforms = cache.get(light);\n\n          uniforms.direction.setFromMatrixPosition(light.matrixWorld);\n          uniforms.direction.transformDirection(viewMatrix);\n          uniforms.direction.normalize();\n\n          uniforms.skyColor.copy(light.color).multiplyScalar(intensity);\n          uniforms.groundColor.copy(light.groundColor).multiplyScalar(intensity);\n\n          state.hemi[hemiLength] = uniforms;\n\n          hemiLength++;\n\n        }\n\n      }\n\n      state.ambient[0] = r;\n      state.ambient[1] = g;\n      state.ambient[2] = b;\n\n      var hash = state.hash;\n\n      if (hash.directionalLength !== directionalLength ||\n        hash.pointLength !== pointLength ||\n        hash.spotLength !== spotLength ||\n        hash.rectAreaLength !== rectAreaLength ||\n        hash.hemiLength !== hemiLength ||\n        hash.numDirectionalShadows !== numDirectionalShadows ||\n        hash.numPointShadows !== numPointShadows ||\n        hash.numSpotShadows !== numSpotShadows) {\n\n        state.directional.length = directionalLength;\n        state.spot.length = spotLength;\n        state.rectArea.length = rectAreaLength;\n        state.point.length = pointLength;\n        state.hemi.length = hemiLength;\n\n        state.directionalShadowMap.length = numDirectionalShadows;\n        state.pointShadowMap.length = numPointShadows;\n        state.spotShadowMap.length = numSpotShadows;\n        state.directionalShadowMatrix.length = numDirectionalShadows;\n        state.pointShadowMatrix.length = numPointShadows;\n        state.spotShadowMatrix.length = numSpotShadows;\n\n        hash.directionalLength = directionalLength;\n        hash.pointLength = pointLength;\n        hash.spotLength = spotLength;\n        hash.rectAreaLength = rectAreaLength;\n        hash.hemiLength = hemiLength;\n\n        hash.numDirectionalShadows = numDirectionalShadows;\n        hash.numPointShadows = numPointShadows;\n        hash.numSpotShadows = numSpotShadows;\n\n        state.version = nextVersion++;\n\n      }\n\n    }\n\n    return {\n      setup: setup,\n      state: state\n    };\n\n  }\n\n  /**\n   * @author Mugen87 / https://github.com/Mugen87\n   */\n\n  function WebGLRenderState() {\n\n    var lights = new WebGLLights();\n\n    var lightsArray = [];\n    var shadowsArray = [];\n\n    function init() {\n\n      lightsArray.length = 0;\n      shadowsArray.length = 0;\n\n    }\n\n    function pushLight(light) {\n\n      lightsArray.push(light);\n\n    }\n\n    function pushShadow(shadowLight) {\n\n      shadowsArray.push(shadowLight);\n\n    }\n\n    function setupLights(camera) {\n\n      lights.setup(lightsArray, shadowsArray, camera);\n\n    }\n\n    var state = {\n      lightsArray: lightsArray,\n      shadowsArray: shadowsArray,\n\n      lights: lights\n    };\n\n    return {\n      init: init,\n      state: state,\n      setupLights: setupLights,\n\n      pushLight: pushLight,\n      pushShadow: pushShadow\n    };\n\n  }\n\n  function WebGLRenderStates() {\n\n    var renderStates = new WeakMap();\n\n    function onSceneDispose(event) {\n\n      var scene = event.target;\n\n      scene.removeEventListener('dispose', onSceneDispose);\n\n      renderStates.delete(scene);\n\n    }\n\n    function get(scene, camera) {\n\n      var renderState;\n\n      if (renderStates.has(scene) === false) {\n\n        renderState = new WebGLRenderState();\n        renderStates.set(scene, new WeakMap());\n        renderStates.get(scene).set(camera, renderState);\n\n        scene.addEventListener('dispose', onSceneDispose);\n\n      } else {\n\n        if (renderStates.get(scene).has(camera) === false) {\n\n          renderState = new WebGLRenderState();\n          renderStates.get(scene).set(camera, renderState);\n\n        } else {\n\n          renderState = renderStates.get(scene).get(camera);\n\n        }\n\n      }\n\n      return renderState;\n\n    }\n\n    function dispose() {\n\n      renderStates = new WeakMap();\n\n    }\n\n    return {\n      get: get,\n      dispose: dispose\n    };\n\n  }\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author alteredq / http://alteredqualia.com/\n   * @author bhouston / https://clara.io\n   * @author WestLangley / http://github.com/WestLangley\n   *\n   * parameters = {\n   *\n   *  opacity: <float>,\n   *\n   *  map: new THREE.Texture( <Image> ),\n   *\n   *  alphaMap: new THREE.Texture( <Image> ),\n   *\n   *  displacementMap: new THREE.Texture( <Image> ),\n   *  displacementScale: <float>,\n   *  displacementBias: <float>,\n   *\n   *  wireframe: <boolean>,\n   *  wireframeLinewidth: <float>\n   * }\n   */\n\n  function MeshDepthMaterial(parameters) {\n\n    Material.call(this);\n\n    this.type = 'MeshDepthMaterial';\n\n    this.depthPacking = BasicDepthPacking;\n\n    this.skinning = false;\n    this.morphTargets = false;\n\n    this.map = null;\n\n    this.alphaMap = null;\n\n    this.displacementMap = null;\n    this.displacementScale = 1;\n    this.displacementBias = 0;\n\n    this.wireframe = false;\n    this.wireframeLinewidth = 1;\n\n    this.fog = false;\n\n    this.setValues(parameters);\n\n  }\n\n  MeshDepthMaterial.prototype = Object.create(Material.prototype);\n  MeshDepthMaterial.prototype.constructor = MeshDepthMaterial;\n\n  MeshDepthMaterial.prototype.isMeshDepthMaterial = true;\n\n  MeshDepthMaterial.prototype.copy = function(source) {\n\n    Material.prototype.copy.call(this, source);\n\n    this.depthPacking = source.depthPacking;\n\n    this.skinning = source.skinning;\n    this.morphTargets = source.morphTargets;\n\n    this.map = source.map;\n\n    this.alphaMap = source.alphaMap;\n\n    this.displacementMap = source.displacementMap;\n    this.displacementScale = source.displacementScale;\n    this.displacementBias = source.displacementBias;\n\n    this.wireframe = source.wireframe;\n    this.wireframeLinewidth = source.wireframeLinewidth;\n\n    return this;\n\n  };\n\n  /**\n   * @author WestLangley / http://github.com/WestLangley\n   *\n   * parameters = {\n   *\n   *  referencePosition: <float>,\n   *  nearDistance: <float>,\n   *  farDistance: <float>,\n   *\n   *  skinning: <bool>,\n   *  morphTargets: <bool>,\n   *\n   *  map: new THREE.Texture( <Image> ),\n   *\n   *  alphaMap: new THREE.Texture( <Image> ),\n   *\n   *  displacementMap: new THREE.Texture( <Image> ),\n   *  displacementScale: <float>,\n   *  displacementBias: <float>\n   *\n   * }\n   */\n\n  function MeshDistanceMaterial(parameters) {\n\n    Material.call(this);\n\n    this.type = 'MeshDistanceMaterial';\n\n    this.referencePosition = new Vector3();\n    this.nearDistance = 1;\n    this.farDistance = 1000;\n\n    this.skinning = false;\n    this.morphTargets = false;\n\n    this.map = null;\n\n    this.alphaMap = null;\n\n    this.displacementMap = null;\n    this.displacementScale = 1;\n    this.displacementBias = 0;\n\n    this.fog = false;\n\n    this.setValues(parameters);\n\n  }\n\n  MeshDistanceMaterial.prototype = Object.create(Material.prototype);\n  MeshDistanceMaterial.prototype.constructor = MeshDistanceMaterial;\n\n  MeshDistanceMaterial.prototype.isMeshDistanceMaterial = true;\n\n  MeshDistanceMaterial.prototype.copy = function(source) {\n\n    Material.prototype.copy.call(this, source);\n\n    this.referencePosition.copy(source.referencePosition);\n    this.nearDistance = source.nearDistance;\n    this.farDistance = source.farDistance;\n\n    this.skinning = source.skinning;\n    this.morphTargets = source.morphTargets;\n\n    this.map = source.map;\n\n    this.alphaMap = source.alphaMap;\n\n    this.displacementMap = source.displacementMap;\n    this.displacementScale = source.displacementScale;\n    this.displacementBias = source.displacementBias;\n\n    return this;\n\n  };\n\n  var vsm_frag = \"uniform sampler2D shadow_pass;\\nuniform vec2 resolution;\\nuniform float radius;\\n#include <packing>\\nvoid main() {\\n  float mean = 0.0;\\n  float squared_mean = 0.0;\\n\\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy  ) / resolution ) );\\n  for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\\n    #ifdef HORIZONAL_PASS\\n      vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\\n      mean += distribution.x;\\n      squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\\n    #else\\n      float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0,  i )  * radius ) / resolution ) );\\n      mean += depth;\\n      squared_mean += depth * depth;\\n    #endif\\n  }\\n  mean = mean * HALF_SAMPLE_RATE;\\n  squared_mean = squared_mean * HALF_SAMPLE_RATE;\\n  float std_dev = sqrt( squared_mean - mean * mean );\\n  gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\\n}\";\n\n  var vsm_vert = \"void main() {\\n\\tgl_Position = vec4( position, 1.0 );\\n}\";\n\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function WebGLShadowMap(_renderer, _objects, maxTextureSize) {\n\n    var _frustum = new Frustum(),\n\n      _shadowMapSize = new Vector2(),\n      _viewportSize = new Vector2(),\n\n      _viewport = new Vector4(),\n\n      _depthMaterials = [],\n      _distanceMaterials = [],\n\n      _materialCache = {};\n\n    var shadowSide = {\n      0: BackSide,\n      1: FrontSide,\n      2: DoubleSide\n    };\n\n    var shadowMaterialVertical = new ShaderMaterial({\n\n      defines: {\n        SAMPLE_RATE: 2.0 / 8.0,\n        HALF_SAMPLE_RATE: 1.0 / 8.0\n      },\n\n      uniforms: {\n        shadow_pass: {\n          value: null\n        },\n        resolution: {\n          value: new Vector2()\n        },\n        radius: {\n          value: 4.0\n        }\n      },\n\n      vertexShader: vsm_vert,\n\n      fragmentShader: vsm_frag\n\n    });\n\n    var shadowMaterialHorizonal = shadowMaterialVertical.clone();\n    shadowMaterialHorizonal.defines.HORIZONAL_PASS = 1;\n\n    var fullScreenTri = new BufferGeometry();\n    fullScreenTri.setAttribute(\n      \"position\",\n      new BufferAttribute(\n        new Float32Array([-1, -1, 0.5, 3, -1, 0.5, -1, 3, 0.5]),\n        3\n      )\n    );\n\n    var fullScreenMesh = new Mesh(fullScreenTri, shadowMaterialVertical);\n\n    var scope = this;\n\n    this.enabled = false;\n\n    this.autoUpdate = true;\n    this.needsUpdate = false;\n\n    this.type = PCFShadowMap;\n\n    this.render = function(lights, scene, camera) {\n\n      if (scope.enabled === false) {\n        return;\n      }\n      if (scope.autoUpdate === false && scope.needsUpdate === false) {\n        return;\n      }\n\n      if (lights.length === 0) {\n        return;\n      }\n\n      var currentRenderTarget = _renderer.getRenderTarget();\n      var activeCubeFace = _renderer.getActiveCubeFace();\n      var activeMipmapLevel = _renderer.getActiveMipmapLevel();\n\n      var _state = _renderer.state;\n\n      // Set GL state for depth map.\n      _state.setBlending(NoBlending);\n      _state.buffers.color.setClear(1, 1, 1, 1);\n      _state.buffers.depth.setTest(true);\n      _state.setScissorTest(false);\n\n      // render depth map\n\n      for (var i = 0, il = lights.length; i < il; i++) {\n\n        var light = lights[i];\n        var shadow = light.shadow;\n\n        if (shadow === undefined) {\n\n          console.warn('THREE.WebGLShadowMap:', light, 'has no shadow.');\n          continue;\n\n        }\n\n        _shadowMapSize.copy(shadow.mapSize);\n\n        var shadowFrameExtents = shadow.getFrameExtents();\n\n        _shadowMapSize.multiply(shadowFrameExtents);\n\n        _viewportSize.copy(shadow.mapSize);\n\n        if (_shadowMapSize.x > maxTextureSize || _shadowMapSize.y > maxTextureSize) {\n\n          console.warn('THREE.WebGLShadowMap:', light, 'has shadow exceeding max texture size, reducing');\n\n          if (_shadowMapSize.x > maxTextureSize) {\n\n            _viewportSize.x = Math.floor(maxTextureSize / shadowFrameExtents.x);\n            _shadowMapSize.x = _viewportSize.x * shadowFrameExtents.x;\n            shadow.mapSize.x = _viewportSize.x;\n\n          }\n\n          if (_shadowMapSize.y > maxTextureSize) {\n\n            _viewportSize.y = Math.floor(maxTextureSize / shadowFrameExtents.y);\n            _shadowMapSize.y = _viewportSize.y * shadowFrameExtents.y;\n            shadow.mapSize.y = _viewportSize.y;\n\n          }\n\n        }\n\n        if (shadow.map === null && !shadow.isPointLightShadow && this.type === VSMShadowMap) {\n\n          var pars = {\n            minFilter: LinearFilter,\n            magFilter: LinearFilter,\n            format: RGBAFormat\n          };\n\n          shadow.map = new WebGLRenderTarget(_shadowMapSize.x, _shadowMapSize.y, pars);\n          shadow.map.texture.name = light.name + \".shadowMap\";\n\n          shadow.mapPass = new WebGLRenderTarget(_shadowMapSize.x, _shadowMapSize.y, pars);\n\n          shadow.camera.updateProjectionMatrix();\n\n        }\n\n        if (shadow.map === null) {\n\n          var pars = {\n            minFilter: NearestFilter,\n            magFilter: NearestFilter,\n            format: RGBAFormat\n          };\n\n          shadow.map = new WebGLRenderTarget(_shadowMapSize.x, _shadowMapSize.y, pars);\n          shadow.map.texture.name = light.name + \".shadowMap\";\n\n          shadow.camera.updateProjectionMatrix();\n\n        }\n\n        _renderer.setRenderTarget(shadow.map);\n        _renderer.clear();\n\n        var viewportCount = shadow.getViewportCount();\n\n        for (var vp = 0; vp < viewportCount; vp++) {\n\n          var viewport = shadow.getViewport(vp);\n\n          _viewport.set(\n            _viewportSize.x * viewport.x,\n            _viewportSize.y * viewport.y,\n            _viewportSize.x * viewport.z,\n            _viewportSize.y * viewport.w\n          );\n\n          _state.viewport(_viewport);\n\n          shadow.updateMatrices(light, vp);\n\n          _frustum = shadow.getFrustum();\n\n          renderObject(scene, camera, shadow.camera, light, this.type);\n\n        }\n\n        // do blur pass for VSM\n\n        if (!shadow.isPointLightShadow && this.type === VSMShadowMap) {\n\n          VSMPass(shadow, camera);\n\n        }\n\n      }\n\n      scope.needsUpdate = false;\n\n      _renderer.setRenderTarget(currentRenderTarget, activeCubeFace, activeMipmapLevel);\n\n    };\n\n    function VSMPass(shadow, camera) {\n\n      var geometry = _objects.update(fullScreenMesh);\n\n      // vertical pass\n\n      shadowMaterialVertical.uniforms.shadow_pass.value = shadow.map.texture;\n      shadowMaterialVertical.uniforms.resolution.value = shadow.mapSize;\n      shadowMaterialVertical.uniforms.radius.value = shadow.radius;\n      _renderer.setRenderTarget(shadow.mapPass);\n      _renderer.clear();\n      _renderer.renderBufferDirect(camera, null, geometry, shadowMaterialVertical, fullScreenMesh, null);\n\n      // horizonal pass\n\n      shadowMaterialHorizonal.uniforms.shadow_pass.value = shadow.mapPass.texture;\n      shadowMaterialHorizonal.uniforms.resolution.value = shadow.mapSize;\n      shadowMaterialHorizonal.uniforms.radius.value = shadow.radius;\n      _renderer.setRenderTarget(shadow.map);\n      _renderer.clear();\n      _renderer.renderBufferDirect(camera, null, geometry, shadowMaterialHorizonal, fullScreenMesh, null);\n\n    }\n\n    function getDepthMaterialVariant(useMorphing, useSkinning, useInstancing) {\n\n      var index = useMorphing << 0 | useSkinning << 1 | useInstancing << 2;\n\n      var material = _depthMaterials[index];\n\n      if (material === undefined) {\n\n        material = new MeshDepthMaterial({\n\n          depthPacking: RGBADepthPacking,\n\n          morphTargets: useMorphing,\n          skinning: useSkinning\n\n        });\n\n        _depthMaterials[index] = material;\n\n      }\n\n      return material;\n\n    }\n\n    function getDistanceMaterialVariant(useMorphing, useSkinning, useInstancing) {\n\n      var index = useMorphing << 0 | useSkinning << 1 | useInstancing << 2;\n\n      var material = _distanceMaterials[index];\n\n      if (material === undefined) {\n\n        material = new MeshDistanceMaterial({\n\n          morphTargets: useMorphing,\n          skinning: useSkinning\n\n        });\n\n        _distanceMaterials[index] = material;\n\n      }\n\n      return material;\n\n    }\n\n    function getDepthMaterial(object, material, light, shadowCameraNear, shadowCameraFar, type) {\n\n      var geometry = object.geometry;\n\n      var result = null;\n\n      var getMaterialVariant = getDepthMaterialVariant;\n      var customMaterial = object.customDepthMaterial;\n\n      if (light.isPointLight === true) {\n\n        getMaterialVariant = getDistanceMaterialVariant;\n        customMaterial = object.customDistanceMaterial;\n\n      }\n\n      if (customMaterial === undefined) {\n\n        var useMorphing = false;\n\n        if (material.morphTargets === true) {\n\n          if (geometry.isBufferGeometry === true) {\n\n            useMorphing = geometry.morphAttributes && geometry.morphAttributes.position && geometry.morphAttributes.position.length > 0;\n\n          } else if (geometry.isGeometry === true) {\n\n            useMorphing = geometry.morphTargets && geometry.morphTargets.length > 0;\n\n          }\n\n        }\n\n        var useSkinning = false;\n\n        if (object.isSkinnedMesh === true) {\n\n          if (material.skinning === true) {\n\n            useSkinning = true;\n\n          } else {\n\n            console.warn('THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:', object);\n\n          }\n\n        }\n\n        var useInstancing = object.isInstancedMesh === true;\n\n        result = getMaterialVariant(useMorphing, useSkinning, useInstancing);\n\n      } else {\n\n        result = customMaterial;\n\n      }\n\n      if (_renderer.localClippingEnabled &&\n        material.clipShadows === true &&\n        material.clippingPlanes.length !== 0) {\n\n        // in this case we need a unique material instance reflecting the\n        // appropriate state\n\n        var keyA = result.uuid,\n          keyB = material.uuid;\n\n        var materialsForVariant = _materialCache[keyA];\n\n        if (materialsForVariant === undefined) {\n\n          materialsForVariant = {};\n          _materialCache[keyA] = materialsForVariant;\n\n        }\n\n        var cachedMaterial = materialsForVariant[keyB];\n\n        if (cachedMaterial === undefined) {\n\n          cachedMaterial = result.clone();\n          materialsForVariant[keyB] = cachedMaterial;\n\n        }\n\n        result = cachedMaterial;\n\n      }\n\n      result.visible = material.visible;\n      result.wireframe = material.wireframe;\n\n      if (type === VSMShadowMap) {\n\n        result.side = (material.shadowSide !== null) ? material.shadowSide : material.side;\n\n      } else {\n\n        result.side = (material.shadowSide !== null) ? material.shadowSide : shadowSide[material.side];\n\n      }\n\n      result.clipShadows = material.clipShadows;\n      result.clippingPlanes = material.clippingPlanes;\n      result.clipIntersection = material.clipIntersection;\n\n      result.wireframeLinewidth = material.wireframeLinewidth;\n      result.linewidth = material.linewidth;\n\n      if (light.isPointLight === true && result.isMeshDistanceMaterial === true) {\n\n        result.referencePosition.setFromMatrixPosition(light.matrixWorld);\n        result.nearDistance = shadowCameraNear;\n        result.farDistance = shadowCameraFar;\n\n      }\n\n      return result;\n\n    }\n\n    function renderObject(object, camera, shadowCamera, light, type) {\n\n      if (object.visible === false) {\n        return;\n      }\n\n      var visible = object.layers.test(camera.layers);\n\n      if (visible && (object.isMesh || object.isLine || object.isPoints)) {\n\n        if ((object.castShadow || (object.receiveShadow && type === VSMShadowMap)) && (!object.frustumCulled || _frustum.intersectsObject(object))) {\n\n          object.modelViewMatrix.multiplyMatrices(shadowCamera.matrixWorldInverse, object.matrixWorld);\n\n          var geometry = _objects.update(object);\n          var material = object.material;\n\n          if (Array.isArray(material)) {\n\n            var groups = geometry.groups;\n\n            for (var k = 0, kl = groups.length; k < kl; k++) {\n\n              var group = groups[k];\n              var groupMaterial = material[group.materialIndex];\n\n              if (groupMaterial && groupMaterial.visible) {\n\n                var depthMaterial = getDepthMaterial(object, groupMaterial, light, shadowCamera.near, shadowCamera.far, type);\n\n                _renderer.renderBufferDirect(shadowCamera, null, geometry, depthMaterial, object, group);\n\n              }\n\n            }\n\n          } else if (material.visible) {\n\n            var depthMaterial = getDepthMaterial(object, material, light, shadowCamera.near, shadowCamera.far, type);\n\n            _renderer.renderBufferDirect(shadowCamera, null, geometry, depthMaterial, object, null);\n\n          }\n\n        }\n\n      }\n\n      var children = object.children;\n\n      for (var i = 0, l = children.length; i < l; i++) {\n\n        renderObject(children[i], camera, shadowCamera, light, type);\n\n      }\n\n    }\n\n  }\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function WebGLState(gl, extensions, capabilities) {\n\n    var isWebGL2 = capabilities.isWebGL2;\n\n    function ColorBuffer() {\n\n      var locked = false;\n\n      var color = new Vector4();\n      var currentColorMask = null;\n      var currentColorClear = new Vector4(0, 0, 0, 0);\n\n      return {\n\n        setMask: function(colorMask) {\n\n          if (currentColorMask !== colorMask && !locked) {\n\n            gl.colorMask(colorMask, colorMask, colorMask, colorMask);\n            currentColorMask = colorMask;\n\n          }\n\n        },\n\n        setLocked: function(lock) {\n\n          locked = lock;\n\n        },\n\n        setClear: function(r, g, b, a, premultipliedAlpha) {\n\n          if (premultipliedAlpha === true) {\n\n            r *= a;\n            g *= a;\n            b *= a;\n\n          }\n\n          color.set(r, g, b, a);\n\n          if (currentColorClear.equals(color) === false) {\n\n            gl.clearColor(r, g, b, a);\n            currentColorClear.copy(color);\n\n          }\n\n        },\n\n        reset: function() {\n\n          locked = false;\n\n          currentColorMask = null;\n          currentColorClear.set(-1, 0, 0, 0); // set to invalid state\n\n        }\n\n      };\n\n    }\n\n    function DepthBuffer() {\n\n      var locked = false;\n\n      var currentDepthMask = null;\n      var currentDepthFunc = null;\n      var currentDepthClear = null;\n\n      return {\n\n        setTest: function(depthTest) {\n\n          if (depthTest) {\n\n            enable(2929);\n\n          } else {\n\n            disable(2929);\n\n          }\n\n        },\n\n        setMask: function(depthMask) {\n\n          if (currentDepthMask !== depthMask && !locked) {\n\n            gl.depthMask(depthMask);\n            currentDepthMask = depthMask;\n\n          }\n\n        },\n\n        setFunc: function(depthFunc) {\n\n          if (currentDepthFunc !== depthFunc) {\n\n            if (depthFunc) {\n\n              switch (depthFunc) {\n\n                case NeverDepth:\n\n                  gl.depthFunc(512);\n                  break;\n\n                case AlwaysDepth:\n\n                  gl.depthFunc(519);\n                  break;\n\n                case LessDepth:\n\n                  gl.depthFunc(513);\n                  break;\n\n                case LessEqualDepth:\n\n                  gl.depthFunc(515);\n                  break;\n\n                case EqualDepth:\n\n                  gl.depthFunc(514);\n                  break;\n\n                case GreaterEqualDepth:\n\n                  gl.depthFunc(518);\n                  break;\n\n                case GreaterDepth:\n\n                  gl.depthFunc(516);\n                  break;\n\n                case NotEqualDepth:\n\n                  gl.depthFunc(517);\n                  break;\n\n                default:\n\n                  gl.depthFunc(515);\n\n              }\n\n            } else {\n\n              gl.depthFunc(515);\n\n            }\n\n            currentDepthFunc = depthFunc;\n\n          }\n\n        },\n\n        setLocked: function(lock) {\n\n          locked = lock;\n\n        },\n\n        setClear: function(depth) {\n\n          if (currentDepthClear !== depth) {\n\n            gl.clearDepth(depth);\n            currentDepthClear = depth;\n\n          }\n\n        },\n\n        reset: function() {\n\n          locked = false;\n\n          currentDepthMask = null;\n          currentDepthFunc = null;\n          currentDepthClear = null;\n\n        }\n\n      };\n\n    }\n\n    function StencilBuffer() {\n\n      var locked = false;\n\n      var currentStencilMask = null;\n      var currentStencilFunc = null;\n      var currentStencilRef = null;\n      var currentStencilFuncMask = null;\n      var currentStencilFail = null;\n      var currentStencilZFail = null;\n      var currentStencilZPass = null;\n      var currentStencilClear = null;\n\n      return {\n\n        setTest: function(stencilTest) {\n\n          if (!locked) {\n\n            if (stencilTest) {\n\n              enable(2960);\n\n            } else {\n\n              disable(2960);\n\n            }\n\n          }\n\n        },\n\n        setMask: function(stencilMask) {\n\n          if (currentStencilMask !== stencilMask && !locked) {\n\n            gl.stencilMask(stencilMask);\n            currentStencilMask = stencilMask;\n\n          }\n\n        },\n\n        setFunc: function(stencilFunc, stencilRef, stencilMask) {\n\n          if (currentStencilFunc !== stencilFunc ||\n            currentStencilRef !== stencilRef ||\n            currentStencilFuncMask !== stencilMask) {\n\n            gl.stencilFunc(stencilFunc, stencilRef, stencilMask);\n\n            currentStencilFunc = stencilFunc;\n            currentStencilRef = stencilRef;\n            currentStencilFuncMask = stencilMask;\n\n          }\n\n        },\n\n        setOp: function(stencilFail, stencilZFail, stencilZPass) {\n\n          if (currentStencilFail !== stencilFail ||\n            currentStencilZFail !== stencilZFail ||\n            currentStencilZPass !== stencilZPass) {\n\n            gl.stencilOp(stencilFail, stencilZFail, stencilZPass);\n\n            currentStencilFail = stencilFail;\n            currentStencilZFail = stencilZFail;\n            currentStencilZPass = stencilZPass;\n\n          }\n\n        },\n\n        setLocked: function(lock) {\n\n          locked = lock;\n\n        },\n\n        setClear: function(stencil) {\n\n          if (currentStencilClear !== stencil) {\n\n            gl.clearStencil(stencil);\n            currentStencilClear = stencil;\n\n          }\n\n        },\n\n        reset: function() {\n\n          locked = false;\n\n          currentStencilMask = null;\n          currentStencilFunc = null;\n          currentStencilRef = null;\n          currentStencilFuncMask = null;\n          currentStencilFail = null;\n          currentStencilZFail = null;\n          currentStencilZPass = null;\n          currentStencilClear = null;\n\n        }\n\n      };\n\n    }\n\n    //\n\n    var colorBuffer = new ColorBuffer();\n    var depthBuffer = new DepthBuffer();\n    var stencilBuffer = new StencilBuffer();\n\n    var maxVertexAttributes = gl.getParameter(34921);\n    var newAttributes = new Uint8Array(maxVertexAttributes);\n    var enabledAttributes = new Uint8Array(maxVertexAttributes);\n    var attributeDivisors = new Uint8Array(maxVertexAttributes);\n\n    var enabledCapabilities = {};\n\n    var currentProgram = null;\n\n    var currentBlendingEnabled = null;\n    var currentBlending = null;\n    var currentBlendEquation = null;\n    var currentBlendSrc = null;\n    var currentBlendDst = null;\n    var currentBlendEquationAlpha = null;\n    var currentBlendSrcAlpha = null;\n    var currentBlendDstAlpha = null;\n    var currentPremultipledAlpha = false;\n\n    var currentFlipSided = null;\n    var currentCullFace = null;\n\n    var currentLineWidth = null;\n\n    var currentPolygonOffsetFactor = null;\n    var currentPolygonOffsetUnits = null;\n\n    var maxTextures = gl.getParameter(35661);\n\n    var lineWidthAvailable = false;\n    var version = 0;\n    var glVersion = gl.getParameter(7938);\n\n    if (glVersion.indexOf('WebGL') !== -1) {\n\n      version = parseFloat(/^WebGL\\ ([0-9])/.exec(glVersion)[1]);\n      lineWidthAvailable = (version >= 1.0);\n\n    } else if (glVersion.indexOf('OpenGL ES') !== -1) {\n\n      version = parseFloat(/^OpenGL\\ ES\\ ([0-9])/.exec(glVersion)[1]);\n      lineWidthAvailable = (version >= 2.0);\n\n    }\n\n    var currentTextureSlot = null;\n    var currentBoundTextures = {};\n\n    var currentScissor = new Vector4();\n    var currentViewport = new Vector4();\n\n    function createTexture(type, target, count) {\n\n      var data = new Uint8Array(4); // 4 is required to match default unpack alignment of 4.\n      var texture = gl.createTexture();\n\n      gl.bindTexture(type, texture);\n      gl.texParameteri(type, 10241, 9728);\n      gl.texParameteri(type, 10240, 9728);\n\n      for (var i = 0; i < count; i++) {\n\n        gl.texImage2D(target + i, 0, 6408, 1, 1, 0, 6408, 5121, data);\n\n      }\n\n      return texture;\n\n    }\n\n    var emptyTextures = {};\n    emptyTextures[3553] = createTexture(3553, 3553, 1);\n    emptyTextures[34067] = createTexture(34067, 34069, 6);\n\n    // init\n\n    colorBuffer.setClear(0, 0, 0, 1);\n    depthBuffer.setClear(1);\n    stencilBuffer.setClear(0);\n\n    enable(2929);\n    depthBuffer.setFunc(LessEqualDepth);\n\n    setFlipSided(false);\n    setCullFace(CullFaceBack);\n    enable(2884);\n\n    setBlending(NoBlending);\n\n    //\n\n    function initAttributes() {\n\n      for (var i = 0, l = newAttributes.length; i < l; i++) {\n\n        newAttributes[i] = 0;\n\n      }\n\n    }\n\n    function enableAttribute(attribute) {\n\n      enableAttributeAndDivisor(attribute, 0);\n\n    }\n\n    function enableAttributeAndDivisor(attribute, meshPerAttribute) {\n\n      newAttributes[attribute] = 1;\n\n      if (enabledAttributes[attribute] === 0) {\n\n        gl.enableVertexAttribArray(attribute);\n        enabledAttributes[attribute] = 1;\n\n      }\n\n      if (attributeDivisors[attribute] !== meshPerAttribute) {\n\n        var extension = isWebGL2 ? gl : extensions.get('ANGLE_instanced_arrays');\n\n        extension[isWebGL2 ? 'vertexAttribDivisor' : 'vertexAttribDivisorANGLE'](attribute, meshPerAttribute);\n        attributeDivisors[attribute] = meshPerAttribute;\n\n      }\n\n    }\n\n    function disableUnusedAttributes() {\n\n      for (var i = 0, l = enabledAttributes.length; i !== l; ++i) {\n\n        if (enabledAttributes[i] !== newAttributes[i]) {\n\n          gl.disableVertexAttribArray(i);\n          enabledAttributes[i] = 0;\n\n        }\n\n      }\n\n    }\n\n    function enable(id) {\n\n      if (enabledCapabilities[id] !== true) {\n\n        gl.enable(id);\n        enabledCapabilities[id] = true;\n\n      }\n\n    }\n\n    function disable(id) {\n\n      if (enabledCapabilities[id] !== false) {\n\n        gl.disable(id);\n        enabledCapabilities[id] = false;\n\n      }\n\n    }\n\n    function useProgram(program) {\n\n      if (currentProgram !== program) {\n\n        gl.useProgram(program);\n\n        currentProgram = program;\n\n        return true;\n\n      }\n\n      return false;\n\n    }\n\n    var equationToGL = {};\n    equationToGL[AddEquation] = 32774;\n    equationToGL[SubtractEquation] = 32778;\n    equationToGL[ReverseSubtractEquation] = 32779;\n\n    if (isWebGL2) {\n\n      equationToGL[MinEquation] = 32775;\n      equationToGL[MaxEquation] = 32776;\n\n    } else {\n\n      var extension = extensions.get('EXT_blend_minmax');\n\n      if (extension !== null) {\n\n        equationToGL[MinEquation] = extension.MIN_EXT;\n        equationToGL[MaxEquation] = extension.MAX_EXT;\n\n      }\n\n    }\n\n    var factorToGL = {};\n    factorToGL[ZeroFactor] = 0;\n    factorToGL[OneFactor] = 1;\n    factorToGL[SrcColorFactor] = 768;\n    factorToGL[SrcAlphaFactor] = 770;\n    factorToGL[SrcAlphaSaturateFactor] = 776;\n    factorToGL[DstColorFactor] = 774;\n    factorToGL[DstAlphaFactor] = 772;\n    factorToGL[OneMinusSrcColorFactor] = 769;\n    factorToGL[OneMinusSrcAlphaFactor] = 771;\n    factorToGL[OneMinusDstColorFactor] = 775;\n    factorToGL[OneMinusDstAlphaFactor] = 773;\n\n    function setBlending(blending, blendEquation, blendSrc, blendDst, blendEquationAlpha, blendSrcAlpha, blendDstAlpha, premultipliedAlpha) {\n\n      if (blending === NoBlending) {\n\n        if (currentBlendingEnabled) {\n\n          disable(3042);\n          currentBlendingEnabled = false;\n\n        }\n\n        return;\n\n      }\n\n      if (!currentBlendingEnabled) {\n\n        enable(3042);\n        currentBlendingEnabled = true;\n\n      }\n\n      if (blending !== CustomBlending) {\n\n        if (blending !== currentBlending || premultipliedAlpha !== currentPremultipledAlpha) {\n\n          if (currentBlendEquation !== AddEquation || currentBlendEquationAlpha !== AddEquation) {\n\n            gl.blendEquation(32774);\n\n            currentBlendEquation = AddEquation;\n            currentBlendEquationAlpha = AddEquation;\n\n          }\n\n          if (premultipliedAlpha) {\n\n            switch (blending) {\n\n              case NormalBlending:\n                gl.blendFuncSeparate(1, 771, 1, 771);\n                break;\n\n              case AdditiveBlending:\n                gl.blendFunc(1, 1);\n                break;\n\n              case SubtractiveBlending:\n                gl.blendFuncSeparate(0, 0, 769, 771);\n                break;\n\n              case MultiplyBlending:\n                gl.blendFuncSeparate(0, 768, 0, 770);\n                break;\n\n              default:\n                console.error('THREE.WebGLState: Invalid blending: ', blending);\n                break;\n\n            }\n\n          } else {\n\n            switch (blending) {\n\n              case NormalBlending:\n                gl.blendFuncSeparate(770, 771, 1, 771);\n                break;\n\n              case AdditiveBlending:\n                gl.blendFunc(770, 1);\n                break;\n\n              case SubtractiveBlending:\n                gl.blendFunc(0, 769);\n                break;\n\n              case MultiplyBlending:\n                gl.blendFunc(0, 768);\n                break;\n\n              default:\n                console.error('THREE.WebGLState: Invalid blending: ', blending);\n                break;\n\n            }\n\n          }\n\n          currentBlendSrc = null;\n          currentBlendDst = null;\n          currentBlendSrcAlpha = null;\n          currentBlendDstAlpha = null;\n\n          currentBlending = blending;\n          currentPremultipledAlpha = premultipliedAlpha;\n\n        }\n\n        return;\n\n      }\n\n      // custom blending\n\n      blendEquationAlpha = blendEquationAlpha || blendEquation;\n      blendSrcAlpha = blendSrcAlpha || blendSrc;\n      blendDstAlpha = blendDstAlpha || blendDst;\n\n      if (blendEquation !== currentBlendEquation || blendEquationAlpha !== currentBlendEquationAlpha) {\n\n        gl.blendEquationSeparate(equationToGL[blendEquation], equationToGL[blendEquationAlpha]);\n\n        currentBlendEquation = blendEquation;\n        currentBlendEquationAlpha = blendEquationAlpha;\n\n      }\n\n      if (blendSrc !== currentBlendSrc || blendDst !== currentBlendDst || blendSrcAlpha !== currentBlendSrcAlpha || blendDstAlpha !== currentBlendDstAlpha) {\n\n        gl.blendFuncSeparate(factorToGL[blendSrc], factorToGL[blendDst], factorToGL[blendSrcAlpha], factorToGL[blendDstAlpha]);\n\n        currentBlendSrc = blendSrc;\n        currentBlendDst = blendDst;\n        currentBlendSrcAlpha = blendSrcAlpha;\n        currentBlendDstAlpha = blendDstAlpha;\n\n      }\n\n      currentBlending = blending;\n      currentPremultipledAlpha = null;\n\n    }\n\n    function setMaterial(material, frontFaceCW) {\n\n      material.side === DoubleSide ?\n        disable(2884) :\n        enable(2884);\n\n      var flipSided = (material.side === BackSide);\n      if (frontFaceCW) {\n        flipSided = !flipSided;\n      }\n\n      setFlipSided(flipSided);\n\n      (material.blending === NormalBlending && material.transparent === false) ?\n      setBlending(NoBlending): setBlending(material.blending, material.blendEquation, material.blendSrc, material.blendDst, material.blendEquationAlpha, material.blendSrcAlpha, material.blendDstAlpha, material.premultipliedAlpha);\n\n      depthBuffer.setFunc(material.depthFunc);\n      depthBuffer.setTest(material.depthTest);\n      depthBuffer.setMask(material.depthWrite);\n      colorBuffer.setMask(material.colorWrite);\n\n      var stencilWrite = material.stencilWrite;\n      stencilBuffer.setTest(stencilWrite);\n      if (stencilWrite) {\n\n        stencilBuffer.setMask(material.stencilWriteMask);\n        stencilBuffer.setFunc(material.stencilFunc, material.stencilRef, material.stencilFuncMask);\n        stencilBuffer.setOp(material.stencilFail, material.stencilZFail, material.stencilZPass);\n\n      }\n\n      setPolygonOffset(material.polygonOffset, material.polygonOffsetFactor, material.polygonOffsetUnits);\n\n    }\n\n    //\n\n    function setFlipSided(flipSided) {\n\n      if (currentFlipSided !== flipSided) {\n\n        if (flipSided) {\n\n          gl.frontFace(2304);\n\n        } else {\n\n          gl.frontFace(2305);\n\n        }\n\n        currentFlipSided = flipSided;\n\n      }\n\n    }\n\n    function setCullFace(cullFace) {\n\n      if (cullFace !== CullFaceNone) {\n\n        enable(2884);\n\n        if (cullFace !== currentCullFace) {\n\n          if (cullFace === CullFaceBack) {\n\n            gl.cullFace(1029);\n\n          } else if (cullFace === CullFaceFront) {\n\n            gl.cullFace(1028);\n\n          } else {\n\n            gl.cullFace(1032);\n\n          }\n\n        }\n\n      } else {\n\n        disable(2884);\n\n      }\n\n      currentCullFace = cullFace;\n\n    }\n\n    function setLineWidth(width) {\n\n      if (width !== currentLineWidth) {\n\n        if (lineWidthAvailable) {\n          gl.lineWidth(width);\n        }\n\n        currentLineWidth = width;\n\n      }\n\n    }\n\n    function setPolygonOffset(polygonOffset, factor, units) {\n\n      if (polygonOffset) {\n\n        enable(32823);\n\n        if (currentPolygonOffsetFactor !== factor || currentPolygonOffsetUnits !== units) {\n\n          gl.polygonOffset(factor, units);\n\n          currentPolygonOffsetFactor = factor;\n          currentPolygonOffsetUnits = units;\n\n        }\n\n      } else {\n\n        disable(32823);\n\n      }\n\n    }\n\n    function setScissorTest(scissorTest) {\n\n      if (scissorTest) {\n\n        enable(3089);\n\n      } else {\n\n        disable(3089);\n\n      }\n\n    }\n\n    // texture\n\n    function activeTexture(webglSlot) {\n\n      if (webglSlot === undefined) {\n        webglSlot = 33984 + maxTextures - 1;\n      }\n\n      if (currentTextureSlot !== webglSlot) {\n\n        gl.activeTexture(webglSlot);\n        currentTextureSlot = webglSlot;\n\n      }\n\n    }\n\n    function bindTexture(webglType, webglTexture) {\n\n      if (currentTextureSlot === null) {\n\n        activeTexture();\n\n      }\n\n      var boundTexture = currentBoundTextures[currentTextureSlot];\n\n      if (boundTexture === undefined) {\n\n        boundTexture = {\n          type: undefined,\n          texture: undefined\n        };\n        currentBoundTextures[currentTextureSlot] = boundTexture;\n\n      }\n\n      if (boundTexture.type !== webglType || boundTexture.texture !== webglTexture) {\n\n        gl.bindTexture(webglType, webglTexture || emptyTextures[webglType]);\n\n        boundTexture.type = webglType;\n        boundTexture.texture = webglTexture;\n\n      }\n\n    }\n\n    function unbindTexture() {\n\n      var boundTexture = currentBoundTextures[currentTextureSlot];\n\n      if (boundTexture !== undefined && boundTexture.type !== undefined) {\n\n        gl.bindTexture(boundTexture.type, null);\n\n        boundTexture.type = undefined;\n        boundTexture.texture = undefined;\n\n      }\n\n    }\n\n    function compressedTexImage2D() {\n\n      try {\n\n        gl.compressedTexImage2D.apply(gl, arguments);\n\n      } catch (error) {\n\n        console.error('THREE.WebGLState:', error);\n\n      }\n\n    }\n\n    function texImage2D() {\n\n      try {\n\n        gl.texImage2D.apply(gl, arguments);\n\n      } catch (error) {\n\n        console.error('THREE.WebGLState:', error);\n\n      }\n\n    }\n\n    function texImage3D() {\n\n      try {\n\n        gl.texImage3D.apply(gl, arguments);\n\n      } catch (error) {\n\n        console.error('THREE.WebGLState:', error);\n\n      }\n\n    }\n\n    //\n\n    function scissor(scissor) {\n\n      if (currentScissor.equals(scissor) === false) {\n\n        gl.scissor(scissor.x, scissor.y, scissor.z, scissor.w);\n        currentScissor.copy(scissor);\n\n      }\n\n    }\n\n    function viewport(viewport) {\n\n      if (currentViewport.equals(viewport) === false) {\n\n        gl.viewport(viewport.x, viewport.y, viewport.z, viewport.w);\n        currentViewport.copy(viewport);\n\n      }\n\n    }\n\n    //\n\n    function reset() {\n\n      for (var i = 0; i < enabledAttributes.length; i++) {\n\n        if (enabledAttributes[i] === 1) {\n\n          gl.disableVertexAttribArray(i);\n          enabledAttributes[i] = 0;\n\n        }\n\n      }\n\n      enabledCapabilities = {};\n\n      currentTextureSlot = null;\n      currentBoundTextures = {};\n\n      currentProgram = null;\n\n      currentBlending = null;\n\n      currentFlipSided = null;\n      currentCullFace = null;\n\n      colorBuffer.reset();\n      depthBuffer.reset();\n      stencilBuffer.reset();\n\n    }\n\n    return {\n\n      buffers: {\n        color: colorBuffer,\n        depth: depthBuffer,\n        stencil: stencilBuffer\n      },\n\n      initAttributes: initAttributes,\n      enableAttribute: enableAttribute,\n      enableAttributeAndDivisor: enableAttributeAndDivisor,\n      disableUnusedAttributes: disableUnusedAttributes,\n      enable: enable,\n      disable: disable,\n\n      useProgram: useProgram,\n\n      setBlending: setBlending,\n      setMaterial: setMaterial,\n\n      setFlipSided: setFlipSided,\n      setCullFace: setCullFace,\n\n      setLineWidth: setLineWidth,\n      setPolygonOffset: setPolygonOffset,\n\n      setScissorTest: setScissorTest,\n\n      activeTexture: activeTexture,\n      bindTexture: bindTexture,\n      unbindTexture: unbindTexture,\n      compressedTexImage2D: compressedTexImage2D,\n      texImage2D: texImage2D,\n      texImage3D: texImage3D,\n\n      scissor: scissor,\n      viewport: viewport,\n\n      reset: reset\n\n    };\n\n  }\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function WebGLTextures(_gl, extensions, state, properties, capabilities, utils, info) {\n\n    var isWebGL2 = capabilities.isWebGL2;\n    var maxTextures = capabilities.maxTextures;\n    var maxCubemapSize = capabilities.maxCubemapSize;\n    var maxTextureSize = capabilities.maxTextureSize;\n    var maxSamples = capabilities.maxSamples;\n\n    var _videoTextures = new WeakMap();\n    var _canvas;\n\n    // cordova iOS (as of 5.0) still uses UIWebView, which provides OffscreenCanvas,\n    // also OffscreenCanvas.getContext(\"webgl\"), but not OffscreenCanvas.getContext(\"2d\")!\n    // Some implementations may only implement OffscreenCanvas partially (e.g. lacking 2d).\n\n    var useOffscreenCanvas = false;\n\n    try {\n\n      useOffscreenCanvas = typeof OffscreenCanvas !== 'undefined' &&\n        (new OffscreenCanvas(1, 1).getContext(\"2d\")) !== null;\n\n    } catch (err) {\n\n      // Ignore any errors\n\n    }\n\n    function createCanvas(width, height) {\n\n      // Use OffscreenCanvas when available. Specially needed in web workers\n\n      return useOffscreenCanvas ?\n        new OffscreenCanvas(width, height) :\n        document.createElementNS('http://www.w3.org/1999/xhtml', 'canvas');\n\n    }\n\n    function resizeImage(image, needsPowerOfTwo, needsNewCanvas, maxSize) {\n\n      var scale = 1;\n\n      // handle case if texture exceeds max size\n\n      if (image.width > maxSize || image.height > maxSize) {\n\n        scale = maxSize / Math.max(image.width, image.height);\n\n      }\n\n      // only perform resize if necessary\n\n      if (scale < 1 || needsPowerOfTwo === true) {\n\n        // only perform resize for certain image types\n\n        if ((typeof HTMLImageElement !== 'undefined' && image instanceof HTMLImageElement) ||\n          (typeof HTMLCanvasElement !== 'undefined' && image instanceof HTMLCanvasElement) ||\n          (typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap)) {\n\n          var floor = needsPowerOfTwo ? _Math.floorPowerOfTwo : Math.floor;\n\n          var width = floor(scale * image.width);\n          var height = floor(scale * image.height);\n\n          if (_canvas === undefined) {\n            _canvas = createCanvas(width, height);\n          }\n\n          // cube textures can't reuse the same canvas\n\n          var canvas = needsNewCanvas ? createCanvas(width, height) : _canvas;\n\n          canvas.width = width;\n          canvas.height = height;\n\n          var context = canvas.getContext('2d');\n          context.drawImage(image, 0, 0, width, height);\n\n          console.warn('THREE.WebGLRenderer: Texture has been resized from (' + image.width + 'x' + image.height + ') to (' + width + 'x' + height + ').');\n\n          return canvas;\n\n        } else {\n\n          if ('data' in image) {\n\n            console.warn('THREE.WebGLRenderer: Image in DataTexture is too big (' + image.width + 'x' + image.height + ').');\n\n          }\n\n          return image;\n\n        }\n\n      }\n\n      return image;\n\n    }\n\n    function isPowerOfTwo(image) {\n\n      return _Math.isPowerOfTwo(image.width) && _Math.isPowerOfTwo(image.height);\n\n    }\n\n    function textureNeedsPowerOfTwo(texture) {\n\n      if (isWebGL2) {\n        return false;\n      }\n\n      return (texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping) ||\n        (texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter);\n\n    }\n\n    function textureNeedsGenerateMipmaps(texture, supportsMips) {\n\n      return texture.generateMipmaps && supportsMips &&\n        texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter;\n\n    }\n\n    function generateMipmap(target, texture, width, height) {\n\n      _gl.generateMipmap(target);\n\n      var textureProperties = properties.get(texture);\n\n      // Note: Math.log( x ) * Math.LOG2E used instead of Math.log2( x ) which is not supported by IE11\n      textureProperties.__maxMipLevel = Math.log(Math.max(width, height)) * Math.LOG2E;\n\n    }\n\n    function getInternalFormat(internalFormatName, glFormat, glType) {\n\n      if (isWebGL2 === false) {\n        return glFormat;\n      }\n\n      if (internalFormatName !== null) {\n\n        if (_gl[internalFormatName] !== undefined) {\n          return _gl[internalFormatName];\n        }\n\n        console.warn('THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format \\'' + internalFormatName + '\\'');\n\n      }\n\n      var internalFormat = glFormat;\n\n      if (glFormat === 6403) {\n\n        if (glType === 5126) {\n          internalFormat = 33326;\n        }\n        if (glType === 5131) {\n          internalFormat = 33325;\n        }\n        if (glType === 5121) {\n          internalFormat = 33321;\n        }\n\n      }\n\n      if (glFormat === 6407) {\n\n        if (glType === 5126) {\n          internalFormat = 34837;\n        }\n        if (glType === 5131) {\n          internalFormat = 34843;\n        }\n        if (glType === 5121) {\n          internalFormat = 32849;\n        }\n\n      }\n\n      if (glFormat === 6408) {\n\n        if (glType === 5126) {\n          internalFormat = 34836;\n        }\n        if (glType === 5131) {\n          internalFormat = 34842;\n        }\n        if (glType === 5121) {\n          internalFormat = 32856;\n        }\n\n      }\n\n      if (internalFormat === 33325 || internalFormat === 33326 ||\n        internalFormat === 34842 || internalFormat === 34836) {\n\n        extensions.get('EXT_color_buffer_float');\n\n      } else if (internalFormat === 34843 || internalFormat === 34837) {\n\n        console.warn('THREE.WebGLRenderer: Floating point textures with RGB format not supported. Please use RGBA instead.');\n\n      }\n\n      return internalFormat;\n\n    }\n\n    // Fallback filters for non-power-of-2 textures\n\n    function filterFallback(f) {\n\n      if (f === NearestFilter || f === NearestMipmapNearestFilter || f === NearestMipmapLinearFilter) {\n\n        return 9728;\n\n      }\n\n      return 9729;\n\n    }\n\n    //\n\n    function onTextureDispose(event) {\n\n      var texture = event.target;\n\n      texture.removeEventListener('dispose', onTextureDispose);\n\n      deallocateTexture(texture);\n\n      if (texture.isVideoTexture) {\n\n        _videoTextures.delete(texture);\n\n      }\n\n      info.memory.textures--;\n\n    }\n\n    function onRenderTargetDispose(event) {\n\n      var renderTarget = event.target;\n\n      renderTarget.removeEventListener('dispose', onRenderTargetDispose);\n\n      deallocateRenderTarget(renderTarget);\n\n      info.memory.textures--;\n\n    }\n\n    //\n\n    function deallocateTexture(texture) {\n\n      var textureProperties = properties.get(texture);\n\n      if (textureProperties.__webglInit === undefined) {\n        return;\n      }\n\n      _gl.deleteTexture(textureProperties.__webglTexture);\n\n      properties.remove(texture);\n\n    }\n\n    function deallocateRenderTarget(renderTarget) {\n\n      var renderTargetProperties = properties.get(renderTarget);\n      var textureProperties = properties.get(renderTarget.texture);\n\n      if (!renderTarget) {\n        return;\n      }\n\n      if (textureProperties.__webglTexture !== undefined) {\n\n        _gl.deleteTexture(textureProperties.__webglTexture);\n\n      }\n\n      if (renderTarget.depthTexture) {\n\n        renderTarget.depthTexture.dispose();\n\n      }\n\n      if (renderTarget.isWebGLRenderTargetCube) {\n\n        for (var i = 0; i < 6; i++) {\n\n          _gl.deleteFramebuffer(renderTargetProperties.__webglFramebuffer[i]);\n          if (renderTargetProperties.__webglDepthbuffer) {\n            _gl.deleteRenderbuffer(renderTargetProperties.__webglDepthbuffer[i]);\n          }\n\n        }\n\n      } else {\n\n        _gl.deleteFramebuffer(renderTargetProperties.__webglFramebuffer);\n        if (renderTargetProperties.__webglDepthbuffer) {\n          _gl.deleteRenderbuffer(renderTargetProperties.__webglDepthbuffer);\n        }\n\n      }\n\n      if (renderTarget.isWebGLMultiviewRenderTarget) {\n\n        _gl.deleteTexture(renderTargetProperties.__webglColorTexture);\n        _gl.deleteTexture(renderTargetProperties.__webglDepthStencilTexture);\n\n        info.memory.textures -= 2;\n\n        for (var i = 0, il = renderTargetProperties.__webglViewFramebuffers.length; i < il; i++) {\n\n          _gl.deleteFramebuffer(renderTargetProperties.__webglViewFramebuffers[i]);\n\n        }\n\n      }\n\n      properties.remove(renderTarget.texture);\n      properties.remove(renderTarget);\n\n    }\n\n    //\n\n    var textureUnits = 0;\n\n    function resetTextureUnits() {\n\n      textureUnits = 0;\n\n    }\n\n    function allocateTextureUnit() {\n\n      var textureUnit = textureUnits;\n\n      if (textureUnit >= maxTextures) {\n\n        console.warn('THREE.WebGLTextures: Trying to use ' + textureUnit + ' texture units while this GPU supports only ' + maxTextures);\n\n      }\n\n      textureUnits += 1;\n\n      return textureUnit;\n\n    }\n\n    //\n\n    function setTexture2D(texture, slot) {\n\n      var textureProperties = properties.get(texture);\n\n      if (texture.isVideoTexture) {\n        updateVideoTexture(texture);\n      }\n\n      if (texture.version > 0 && textureProperties.__version !== texture.version) {\n\n        var image = texture.image;\n\n        if (image === undefined) {\n\n          console.warn('THREE.WebGLRenderer: Texture marked for update but image is undefined');\n\n        } else if (image.complete === false) {\n\n          console.warn('THREE.WebGLRenderer: Texture marked for update but image is incomplete');\n\n        } else {\n\n          uploadTexture(textureProperties, texture, slot);\n          return;\n\n        }\n\n      }\n\n      state.activeTexture(33984 + slot);\n      state.bindTexture(3553, textureProperties.__webglTexture);\n\n    }\n\n    function setTexture2DArray(texture, slot) {\n\n      var textureProperties = properties.get(texture);\n\n      if (texture.version > 0 && textureProperties.__version !== texture.version) {\n\n        uploadTexture(textureProperties, texture, slot);\n        return;\n\n      }\n\n      state.activeTexture(33984 + slot);\n      state.bindTexture(35866, textureProperties.__webglTexture);\n\n    }\n\n    function setTexture3D(texture, slot) {\n\n      var textureProperties = properties.get(texture);\n\n      if (texture.version > 0 && textureProperties.__version !== texture.version) {\n\n        uploadTexture(textureProperties, texture, slot);\n        return;\n\n      }\n\n      state.activeTexture(33984 + slot);\n      state.bindTexture(32879, textureProperties.__webglTexture);\n\n    }\n\n    function setTextureCube(texture, slot) {\n\n      if (texture.image.length !== 6) {\n        return;\n      }\n\n      var textureProperties = properties.get(texture);\n\n      if (texture.version > 0 && textureProperties.__version !== texture.version) {\n\n        initTexture(textureProperties, texture);\n\n        state.activeTexture(33984 + slot);\n        state.bindTexture(34067, textureProperties.__webglTexture);\n\n        _gl.pixelStorei(37440, texture.flipY);\n\n        var isCompressed = (texture && texture.isCompressedTexture);\n        var isDataTexture = (texture.image[0] && texture.image[0].isDataTexture);\n\n        var cubeImage = [];\n\n        for (var i = 0; i < 6; i++) {\n\n          if (!isCompressed && !isDataTexture) {\n\n            cubeImage[i] = resizeImage(texture.image[i], false, true, maxCubemapSize);\n\n          } else {\n\n            cubeImage[i] = isDataTexture ? texture.image[i].image : texture.image[i];\n\n          }\n\n        }\n\n        var image = cubeImage[0],\n          supportsMips = isPowerOfTwo(image) || isWebGL2,\n          glFormat = utils.convert(texture.format),\n          glType = utils.convert(texture.type),\n          glInternalFormat = getInternalFormat(texture.internalFormat, glFormat, glType);\n\n        setTextureParameters(34067, texture, supportsMips);\n\n        var mipmaps;\n\n        if (isCompressed) {\n\n          for (var i = 0; i < 6; i++) {\n\n            mipmaps = cubeImage[i].mipmaps;\n\n            for (var j = 0; j < mipmaps.length; j++) {\n\n              var mipmap = mipmaps[j];\n\n              if (texture.format !== RGBAFormat && texture.format !== RGBFormat) {\n\n                if (glFormat !== null) {\n\n                  state.compressedTexImage2D(34069 + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data);\n\n                } else {\n\n                  console.warn('THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()');\n\n                }\n\n              } else {\n\n                state.texImage2D(34069 + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data);\n\n              }\n\n            }\n\n          }\n\n          textureProperties.__maxMipLevel = mipmaps.length - 1;\n\n        } else {\n\n          mipmaps = texture.mipmaps;\n\n          for (var i = 0; i < 6; i++) {\n\n            if (isDataTexture) {\n\n              state.texImage2D(34069 + i, 0, glInternalFormat, cubeImage[i].width, cubeImage[i].height, 0, glFormat, glType, cubeImage[i].data);\n\n              for (var j = 0; j < mipmaps.length; j++) {\n\n                var mipmap = mipmaps[j];\n                var mipmapImage = mipmap.image[i].image;\n\n                state.texImage2D(34069 + i, j + 1, glInternalFormat, mipmapImage.width, mipmapImage.height, 0, glFormat, glType, mipmapImage.data);\n\n              }\n\n            } else {\n\n              state.texImage2D(34069 + i, 0, glInternalFormat, glFormat, glType, cubeImage[i]);\n\n              for (var j = 0; j < mipmaps.length; j++) {\n\n                var mipmap = mipmaps[j];\n\n                state.texImage2D(34069 + i, j + 1, glInternalFormat, glFormat, glType, mipmap.image[i]);\n\n              }\n\n            }\n\n          }\n\n          textureProperties.__maxMipLevel = mipmaps.length;\n\n        }\n\n        if (textureNeedsGenerateMipmaps(texture, supportsMips)) {\n\n          // We assume images for cube map have the same size.\n          generateMipmap(34067, texture, image.width, image.height);\n\n        }\n\n        textureProperties.__version = texture.version;\n\n        if (texture.onUpdate) {\n          texture.onUpdate(texture);\n        }\n\n      } else {\n\n        state.activeTexture(33984 + slot);\n        state.bindTexture(34067, textureProperties.__webglTexture);\n\n      }\n\n    }\n\n    function setTextureCubeDynamic(texture, slot) {\n\n      state.activeTexture(33984 + slot);\n      state.bindTexture(34067, properties.get(texture).__webglTexture);\n\n    }\n\n    var wrappingToGL = {};\n    wrappingToGL[RepeatWrapping] = 10497;\n    wrappingToGL[ClampToEdgeWrapping] = 33071;\n    wrappingToGL[MirroredRepeatWrapping] = 33648;\n\n    var filterToGL = {};\n    filterToGL[NearestFilter] = 9728;\n    filterToGL[NearestMipmapNearestFilter] = 9984;\n    filterToGL[NearestMipmapLinearFilter] = 9986;\n    filterToGL[LinearFilter] = 9729;\n    filterToGL[LinearMipmapNearestFilter] = 9985;\n    filterToGL[LinearMipmapLinearFilter] = 9987;\n\n    function setTextureParameters(textureType, texture, supportsMips) {\n\n      if (supportsMips) {\n\n        _gl.texParameteri(textureType, 10242, wrappingToGL[texture.wrapS]);\n        _gl.texParameteri(textureType, 10243, wrappingToGL[texture.wrapT]);\n\n        if (textureType === 32879 || textureType === 35866) {\n\n          _gl.texParameteri(textureType, 32882, wrappingToGL[texture.wrapR]);\n\n        }\n\n        _gl.texParameteri(textureType, 10240, filterToGL[texture.magFilter]);\n        _gl.texParameteri(textureType, 10241, filterToGL[texture.minFilter]);\n\n      } else {\n\n        _gl.texParameteri(textureType, 10242, 33071);\n        _gl.texParameteri(textureType, 10243, 33071);\n\n        if (textureType === 32879 || textureType === 35866) {\n\n          _gl.texParameteri(textureType, 32882, 33071);\n\n        }\n\n        if (texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping) {\n\n          console.warn('THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.');\n\n        }\n\n        _gl.texParameteri(textureType, 10240, filterFallback(texture.magFilter));\n        _gl.texParameteri(textureType, 10241, filterFallback(texture.minFilter));\n\n        if (texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter) {\n\n          console.warn('THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.');\n\n        }\n\n      }\n\n      var extension = extensions.get('EXT_texture_filter_anisotropic');\n\n      if (extension) {\n\n        if (texture.type === FloatType && extensions.get('OES_texture_float_linear') === null) {\n          return;\n        }\n        if (texture.type === HalfFloatType && (isWebGL2 || extensions.get('OES_texture_half_float_linear')) === null) {\n          return;\n        }\n\n        if (texture.anisotropy > 1 || properties.get(texture).__currentAnisotropy) {\n\n          _gl.texParameterf(textureType, extension.TEXTURE_MAX_ANISOTROPY_EXT, Math.min(texture.anisotropy, capabilities.getMaxAnisotropy()));\n          properties.get(texture).__currentAnisotropy = texture.anisotropy;\n\n        }\n\n      }\n\n    }\n\n    function initTexture(textureProperties, texture) {\n\n      if (textureProperties.__webglInit === undefined) {\n\n        textureProperties.__webglInit = true;\n\n        texture.addEventListener('dispose', onTextureDispose);\n\n        textureProperties.__webglTexture = _gl.createTexture();\n\n        info.memory.textures++;\n\n      }\n\n    }\n\n    function uploadTexture(textureProperties, texture, slot) {\n\n      var textureType = 3553;\n\n      if (texture.isDataTexture2DArray) {\n        textureType = 35866;\n      }\n      if (texture.isDataTexture3D) {\n        textureType = 32879;\n      }\n\n      initTexture(textureProperties, texture);\n\n      state.activeTexture(33984 + slot);\n      state.bindTexture(textureType, textureProperties.__webglTexture);\n\n      _gl.pixelStorei(37440, texture.flipY);\n      _gl.pixelStorei(37441, texture.premultiplyAlpha);\n      _gl.pixelStorei(3317, texture.unpackAlignment);\n\n      var needsPowerOfTwo = textureNeedsPowerOfTwo(texture) && isPowerOfTwo(texture.image) === false;\n      var image = resizeImage(texture.image, needsPowerOfTwo, false, maxTextureSize);\n\n      var supportsMips = isPowerOfTwo(image) || isWebGL2,\n        glFormat = utils.convert(texture.format),\n        glType = utils.convert(texture.type),\n        glInternalFormat = getInternalFormat(texture.internalFormat, glFormat, glType);\n\n      setTextureParameters(textureType, texture, supportsMips);\n\n      var mipmap, mipmaps = texture.mipmaps;\n\n      if (texture.isDepthTexture) {\n\n        // populate depth texture with dummy data\n\n        glInternalFormat = 6402;\n\n        if (texture.type === FloatType) {\n\n          if (isWebGL2 === false) {\n            throw new Error('Float Depth Texture only supported in WebGL2.0');\n          }\n          glInternalFormat = 36012;\n\n        } else if (isWebGL2) {\n\n          // WebGL 2.0 requires signed internalformat for glTexImage2D\n          glInternalFormat = 33189;\n\n        }\n\n        if (texture.format === DepthFormat && glInternalFormat === 6402) {\n\n          // The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n          // DEPTH_COMPONENT and type is not UNSIGNED_SHORT or UNSIGNED_INT\n          // (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n          if (texture.type !== UnsignedShortType && texture.type !== UnsignedIntType) {\n\n            console.warn('THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture.');\n\n            texture.type = UnsignedShortType;\n            glType = utils.convert(texture.type);\n\n          }\n\n        }\n\n        // Depth stencil textures need the DEPTH_STENCIL internal format\n        // (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n        if (texture.format === DepthStencilFormat) {\n\n          glInternalFormat = 34041;\n\n          // The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n          // DEPTH_STENCIL and type is not UNSIGNED_INT_24_8_WEBGL.\n          // (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n          if (texture.type !== UnsignedInt248Type) {\n\n            console.warn('THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture.');\n\n            texture.type = UnsignedInt248Type;\n            glType = utils.convert(texture.type);\n\n          }\n\n        }\n\n        state.texImage2D(3553, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, null);\n\n      } else if (texture.isDataTexture) {\n\n        // use manually created mipmaps if available\n        // if there are no manual mipmaps\n        // set 0 level mipmap and then use GL to generate other mipmap levels\n\n        if (mipmaps.length > 0 && supportsMips) {\n\n          for (var i = 0, il = mipmaps.length; i < il; i++) {\n\n            mipmap = mipmaps[i];\n            state.texImage2D(3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data);\n\n          }\n\n          texture.generateMipmaps = false;\n          textureProperties.__maxMipLevel = mipmaps.length - 1;\n\n        } else {\n\n          state.texImage2D(3553, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, image.data);\n          textureProperties.__maxMipLevel = 0;\n\n        }\n\n      } else if (texture.isCompressedTexture) {\n\n        for (var i = 0, il = mipmaps.length; i < il; i++) {\n\n          mipmap = mipmaps[i];\n\n          if (texture.format !== RGBAFormat && texture.format !== RGBFormat) {\n\n            if (glFormat !== null) {\n\n              state.compressedTexImage2D(3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data);\n\n            } else {\n\n              console.warn('THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()');\n\n            }\n\n          } else {\n\n            state.texImage2D(3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data);\n\n          }\n\n        }\n\n        textureProperties.__maxMipLevel = mipmaps.length - 1;\n\n      } else if (texture.isDataTexture2DArray) {\n\n        state.texImage3D(35866, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data);\n        textureProperties.__maxMipLevel = 0;\n\n      } else if (texture.isDataTexture3D) {\n\n        state.texImage3D(32879, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data);\n        textureProperties.__maxMipLevel = 0;\n\n      } else {\n\n        // regular Texture (image, video, canvas)\n\n        // use manually created mipmaps if available\n        // if there are no manual mipmaps\n        // set 0 level mipmap and then use GL to generate other mipmap levels\n\n        if (mipmaps.length > 0 && supportsMips) {\n\n          for (var i = 0, il = mipmaps.length; i < il; i++) {\n\n            mipmap = mipmaps[i];\n            state.texImage2D(3553, i, glInternalFormat, glFormat, glType, mipmap);\n\n          }\n\n          texture.generateMipmaps = false;\n          textureProperties.__maxMipLevel = mipmaps.length - 1;\n\n        } else {\n\n          state.texImage2D(3553, 0, glInternalFormat, glFormat, glType, image);\n          textureProperties.__maxMipLevel = 0;\n\n        }\n\n      }\n\n      if (textureNeedsGenerateMipmaps(texture, supportsMips)) {\n\n        generateMipmap(textureType, texture, image.width, image.height);\n\n      }\n\n      textureProperties.__version = texture.version;\n\n      if (texture.onUpdate) {\n        texture.onUpdate(texture);\n      }\n\n    }\n\n    // Render targets\n\n    // Setup storage for target texture and bind it to correct framebuffer\n    function setupFrameBufferTexture(framebuffer, renderTarget, attachment, textureTarget) {\n\n      var glFormat = utils.convert(renderTarget.texture.format);\n      var glType = utils.convert(renderTarget.texture.type);\n      var glInternalFormat = getInternalFormat(renderTarget.texture.internalFormat, glFormat, glType);\n      state.texImage2D(textureTarget, 0, glInternalFormat, renderTarget.width, renderTarget.height, 0, glFormat, glType, null);\n      _gl.bindFramebuffer(36160, framebuffer);\n      _gl.framebufferTexture2D(36160, attachment, textureTarget, properties.get(renderTarget.texture).__webglTexture, 0);\n      _gl.bindFramebuffer(36160, null);\n\n    }\n\n    // Setup storage for internal depth/stencil buffers and bind to correct framebuffer\n    function setupRenderBufferStorage(renderbuffer, renderTarget, isMultisample) {\n\n      _gl.bindRenderbuffer(36161, renderbuffer);\n\n      if (renderTarget.depthBuffer && !renderTarget.stencilBuffer) {\n\n        if (isMultisample) {\n\n          var samples = getRenderTargetSamples(renderTarget);\n\n          _gl.renderbufferStorageMultisample(36161, samples, 33189, renderTarget.width, renderTarget.height);\n\n        } else {\n\n          _gl.renderbufferStorage(36161, 33189, renderTarget.width, renderTarget.height);\n\n        }\n\n        _gl.framebufferRenderbuffer(36160, 36096, 36161, renderbuffer);\n\n      } else if (renderTarget.depthBuffer && renderTarget.stencilBuffer) {\n\n        if (isMultisample) {\n\n          var samples = getRenderTargetSamples(renderTarget);\n\n          _gl.renderbufferStorageMultisample(36161, samples, 35056, renderTarget.width, renderTarget.height);\n\n        } else {\n\n          _gl.renderbufferStorage(36161, 34041, renderTarget.width, renderTarget.height);\n\n        }\n\n\n        _gl.framebufferRenderbuffer(36160, 33306, 36161, renderbuffer);\n\n      } else {\n\n        var glFormat = utils.convert(renderTarget.texture.format);\n        var glType = utils.convert(renderTarget.texture.type);\n        var glInternalFormat = getInternalFormat(renderTarget.texture.internalFormat, glFormat, glType);\n\n        if (isMultisample) {\n\n          var samples = getRenderTargetSamples(renderTarget);\n\n          _gl.renderbufferStorageMultisample(36161, samples, glInternalFormat, renderTarget.width, renderTarget.height);\n\n        } else {\n\n          _gl.renderbufferStorage(36161, glInternalFormat, renderTarget.width, renderTarget.height);\n\n        }\n\n      }\n\n      _gl.bindRenderbuffer(36161, null);\n\n    }\n\n    // Setup resources for a Depth Texture for a FBO (needs an extension)\n    function setupDepthTexture(framebuffer, renderTarget) {\n\n      var isCube = (renderTarget && renderTarget.isWebGLRenderTargetCube);\n      if (isCube) {\n        throw new Error('Depth Texture with cube render targets is not supported');\n      }\n\n      _gl.bindFramebuffer(36160, framebuffer);\n\n      if (!(renderTarget.depthTexture && renderTarget.depthTexture.isDepthTexture)) {\n\n        throw new Error('renderTarget.depthTexture must be an instance of THREE.DepthTexture');\n\n      }\n\n      // upload an empty depth texture with framebuffer size\n      if (!properties.get(renderTarget.depthTexture).__webglTexture ||\n        renderTarget.depthTexture.image.width !== renderTarget.width ||\n        renderTarget.depthTexture.image.height !== renderTarget.height) {\n\n        renderTarget.depthTexture.image.width = renderTarget.width;\n        renderTarget.depthTexture.image.height = renderTarget.height;\n        renderTarget.depthTexture.needsUpdate = true;\n\n      }\n\n      setTexture2D(renderTarget.depthTexture, 0);\n\n      var webglDepthTexture = properties.get(renderTarget.depthTexture).__webglTexture;\n\n      if (renderTarget.depthTexture.format === DepthFormat) {\n\n        _gl.framebufferTexture2D(36160, 36096, 3553, webglDepthTexture, 0);\n\n      } else if (renderTarget.depthTexture.format === DepthStencilFormat) {\n\n        _gl.framebufferTexture2D(36160, 33306, 3553, webglDepthTexture, 0);\n\n      } else {\n\n        throw new Error('Unknown depthTexture format');\n\n      }\n\n    }\n\n    // Setup GL resources for a non-texture depth buffer\n    function setupDepthRenderbuffer(renderTarget) {\n\n      var renderTargetProperties = properties.get(renderTarget);\n\n      var isCube = (renderTarget.isWebGLRenderTargetCube === true);\n\n      if (renderTarget.depthTexture) {\n\n        if (isCube) {\n          throw new Error('target.depthTexture not supported in Cube render targets');\n        }\n\n        setupDepthTexture(renderTargetProperties.__webglFramebuffer, renderTarget);\n\n      } else {\n\n        if (isCube) {\n\n          renderTargetProperties.__webglDepthbuffer = [];\n\n          for (var i = 0; i < 6; i++) {\n\n            _gl.bindFramebuffer(36160, renderTargetProperties.__webglFramebuffer[i]);\n            renderTargetProperties.__webglDepthbuffer[i] = _gl.createRenderbuffer();\n            setupRenderBufferStorage(renderTargetProperties.__webglDepthbuffer[i], renderTarget);\n\n          }\n\n        } else {\n\n          _gl.bindFramebuffer(36160, renderTargetProperties.__webglFramebuffer);\n          renderTargetProperties.__webglDepthbuffer = _gl.createRenderbuffer();\n          setupRenderBufferStorage(renderTargetProperties.__webglDepthbuffer, renderTarget);\n\n        }\n\n      }\n\n      _gl.bindFramebuffer(36160, null);\n\n    }\n\n    // Set up GL resources for the render target\n    function setupRenderTarget(renderTarget) {\n\n      var renderTargetProperties = properties.get(renderTarget);\n      var textureProperties = properties.get(renderTarget.texture);\n\n      renderTarget.addEventListener('dispose', onRenderTargetDispose);\n\n      textureProperties.__webglTexture = _gl.createTexture();\n\n      info.memory.textures++;\n\n      var isCube = (renderTarget.isWebGLRenderTargetCube === true);\n      var isMultisample = (renderTarget.isWebGLMultisampleRenderTarget === true);\n      var isMultiview = (renderTarget.isWebGLMultiviewRenderTarget === true);\n      var supportsMips = isPowerOfTwo(renderTarget) || isWebGL2;\n\n      // Setup framebuffer\n\n      if (isCube) {\n\n        renderTargetProperties.__webglFramebuffer = [];\n\n        for (var i = 0; i < 6; i++) {\n\n          renderTargetProperties.__webglFramebuffer[i] = _gl.createFramebuffer();\n\n        }\n\n      } else {\n\n        renderTargetProperties.__webglFramebuffer = _gl.createFramebuffer();\n\n        if (isMultisample) {\n\n          if (isWebGL2) {\n\n            renderTargetProperties.__webglMultisampledFramebuffer = _gl.createFramebuffer();\n            renderTargetProperties.__webglColorRenderbuffer = _gl.createRenderbuffer();\n\n            _gl.bindRenderbuffer(36161, renderTargetProperties.__webglColorRenderbuffer);\n\n            var glFormat = utils.convert(renderTarget.texture.format);\n            var glType = utils.convert(renderTarget.texture.type);\n            var glInternalFormat = getInternalFormat(renderTarget.texture.internalFormat, glFormat, glType);\n            var samples = getRenderTargetSamples(renderTarget);\n            _gl.renderbufferStorageMultisample(36161, samples, glInternalFormat, renderTarget.width, renderTarget.height);\n\n            _gl.bindFramebuffer(36160, renderTargetProperties.__webglMultisampledFramebuffer);\n            _gl.framebufferRenderbuffer(36160, 36064, 36161, renderTargetProperties.__webglColorRenderbuffer);\n            _gl.bindRenderbuffer(36161, null);\n\n            if (renderTarget.depthBuffer) {\n\n              renderTargetProperties.__webglDepthRenderbuffer = _gl.createRenderbuffer();\n              setupRenderBufferStorage(renderTargetProperties.__webglDepthRenderbuffer, renderTarget, true);\n\n            }\n\n            _gl.bindFramebuffer(36160, null);\n\n\n          } else {\n\n            console.warn('THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.');\n\n          }\n\n        } else if (isMultiview) {\n\n          var width = renderTarget.width;\n          var height = renderTarget.height;\n          var numViews = renderTarget.numViews;\n\n          _gl.bindFramebuffer(36160, renderTargetProperties.__webglFramebuffer);\n\n          var ext = extensions.get('OVR_multiview2');\n\n          info.memory.textures += 2;\n\n          var colorTexture = _gl.createTexture();\n          _gl.bindTexture(35866, colorTexture);\n          _gl.texParameteri(35866, 10240, 9728);\n          _gl.texParameteri(35866, 10241, 9728);\n          _gl.texImage3D(35866, 0, 32856, width, height, numViews, 0, 6408, 5121, null);\n          ext.framebufferTextureMultiviewOVR(36160, 36064, colorTexture, 0, 0, numViews);\n\n          var depthStencilTexture = _gl.createTexture();\n          _gl.bindTexture(35866, depthStencilTexture);\n          _gl.texParameteri(35866, 10240, 9728);\n          _gl.texParameteri(35866, 10241, 9728);\n          _gl.texImage3D(35866, 0, 35056, width, height, numViews, 0, 34041, 34042, null);\n          ext.framebufferTextureMultiviewOVR(36160, 33306, depthStencilTexture, 0, 0, numViews);\n\n          var viewFramebuffers = new Array(numViews);\n          for (var i = 0; i < numViews; ++i) {\n\n            viewFramebuffers[i] = _gl.createFramebuffer();\n            _gl.bindFramebuffer(36160, viewFramebuffers[i]);\n            _gl.framebufferTextureLayer(36160, 36064, colorTexture, 0, i);\n\n          }\n\n          renderTargetProperties.__webglColorTexture = colorTexture;\n          renderTargetProperties.__webglDepthStencilTexture = depthStencilTexture;\n          renderTargetProperties.__webglViewFramebuffers = viewFramebuffers;\n\n          _gl.bindFramebuffer(36160, null);\n          _gl.bindTexture(35866, null);\n\n        }\n\n      }\n\n      // Setup color buffer\n\n      if (isCube) {\n\n        state.bindTexture(34067, textureProperties.__webglTexture);\n        setTextureParameters(34067, renderTarget.texture, supportsMips);\n\n        for (var i = 0; i < 6; i++) {\n\n          setupFrameBufferTexture(renderTargetProperties.__webglFramebuffer[i], renderTarget, 36064, 34069 + i);\n\n        }\n\n        if (textureNeedsGenerateMipmaps(renderTarget.texture, supportsMips)) {\n\n          generateMipmap(34067, renderTarget.texture, renderTarget.width, renderTarget.height);\n\n        }\n\n        state.bindTexture(34067, null);\n\n      } else if (!isMultiview) {\n\n        state.bindTexture(3553, textureProperties.__webglTexture);\n        setTextureParameters(3553, renderTarget.texture, supportsMips);\n        setupFrameBufferTexture(renderTargetProperties.__webglFramebuffer, renderTarget, 36064, 3553);\n\n        if (textureNeedsGenerateMipmaps(renderTarget.texture, supportsMips)) {\n\n          generateMipmap(3553, renderTarget.texture, renderTarget.width, renderTarget.height);\n\n        }\n\n        state.bindTexture(3553, null);\n\n      }\n\n      // Setup depth and stencil buffers\n\n      if (renderTarget.depthBuffer) {\n\n        setupDepthRenderbuffer(renderTarget);\n\n      }\n\n    }\n\n    function updateRenderTargetMipmap(renderTarget) {\n\n      var texture = renderTarget.texture;\n      var supportsMips = isPowerOfTwo(renderTarget) || isWebGL2;\n\n      if (textureNeedsGenerateMipmaps(texture, supportsMips)) {\n\n        var target = renderTarget.isWebGLRenderTargetCube ? 34067 : 3553;\n        var webglTexture = properties.get(texture).__webglTexture;\n\n        state.bindTexture(target, webglTexture);\n        generateMipmap(target, texture, renderTarget.width, renderTarget.height);\n        state.bindTexture(target, null);\n\n      }\n\n    }\n\n    function updateMultisampleRenderTarget(renderTarget) {\n\n      if (renderTarget.isWebGLMultisampleRenderTarget) {\n\n        if (isWebGL2) {\n\n          var renderTargetProperties = properties.get(renderTarget);\n\n          _gl.bindFramebuffer(36008, renderTargetProperties.__webglMultisampledFramebuffer);\n          _gl.bindFramebuffer(36009, renderTargetProperties.__webglFramebuffer);\n\n          var width = renderTarget.width;\n          var height = renderTarget.height;\n          var mask = 16384;\n\n          if (renderTarget.depthBuffer) {\n            mask |= 256;\n          }\n          if (renderTarget.stencilBuffer) {\n            mask |= 1024;\n          }\n\n          _gl.blitFramebuffer(0, 0, width, height, 0, 0, width, height, mask, 9728);\n\n        } else {\n\n          console.warn('THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.');\n\n        }\n\n      }\n\n    }\n\n    function getRenderTargetSamples(renderTarget) {\n\n      return (isWebGL2 && renderTarget.isWebGLMultisampleRenderTarget) ?\n        Math.min(maxSamples, renderTarget.samples) : 0;\n\n    }\n\n    function updateVideoTexture(texture) {\n\n      var frame = info.render.frame;\n\n      // Check the last frame we updated the VideoTexture\n\n      if (_videoTextures.get(texture) !== frame) {\n\n        _videoTextures.set(texture, frame);\n        texture.update();\n\n      }\n\n    }\n\n    // backwards compatibility\n\n    var warnedTexture2D = false;\n    var warnedTextureCube = false;\n\n    function safeSetTexture2D(texture, slot) {\n\n      if (texture && texture.isWebGLRenderTarget) {\n\n        if (warnedTexture2D === false) {\n\n          console.warn(\"THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead.\");\n          warnedTexture2D = true;\n\n        }\n\n        texture = texture.texture;\n\n      }\n\n      setTexture2D(texture, slot);\n\n    }\n\n    function safeSetTextureCube(texture, slot) {\n\n      if (texture && texture.isWebGLRenderTargetCube) {\n\n        if (warnedTextureCube === false) {\n\n          console.warn(\"THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead.\");\n          warnedTextureCube = true;\n\n        }\n\n        texture = texture.texture;\n\n      }\n\n      // currently relying on the fact that WebGLRenderTargetCube.texture is a Texture and NOT a CubeTexture\n      // TODO: unify these code paths\n      if ((texture && texture.isCubeTexture) ||\n        (Array.isArray(texture.image) && texture.image.length === 6)) {\n\n        // CompressedTexture can have Array in image :/\n\n        // this function alone should take care of cube textures\n        setTextureCube(texture, slot);\n\n      } else {\n\n        // assumed: texture property of THREE.WebGLRenderTargetCube\n        setTextureCubeDynamic(texture, slot);\n\n      }\n\n    }\n\n    //\n\n    this.allocateTextureUnit = allocateTextureUnit;\n    this.resetTextureUnits = resetTextureUnits;\n\n    this.setTexture2D = setTexture2D;\n    this.setTexture2DArray = setTexture2DArray;\n    this.setTexture3D = setTexture3D;\n    this.setTextureCube = setTextureCube;\n    this.setTextureCubeDynamic = setTextureCubeDynamic;\n    this.setupRenderTarget = setupRenderTarget;\n    this.updateRenderTargetMipmap = updateRenderTargetMipmap;\n    this.updateMultisampleRenderTarget = updateMultisampleRenderTarget;\n\n    this.safeSetTexture2D = safeSetTexture2D;\n    this.safeSetTextureCube = safeSetTextureCube;\n\n  }\n\n  /**\n   * @author thespite / http://www.twitter.com/thespite\n   */\n\n  function WebGLUtils(gl, extensions, capabilities) {\n\n    var isWebGL2 = capabilities.isWebGL2;\n\n    function convert(p) {\n\n      var extension;\n\n      if (p === UnsignedByteType) {\n        return 5121;\n      }\n      if (p === UnsignedShort4444Type) {\n        return 32819;\n      }\n      if (p === UnsignedShort5551Type) {\n        return 32820;\n      }\n      if (p === UnsignedShort565Type) {\n        return 33635;\n      }\n\n      if (p === ByteType) {\n        return 5120;\n      }\n      if (p === ShortType) {\n        return 5122;\n      }\n      if (p === UnsignedShortType) {\n        return 5123;\n      }\n      if (p === IntType) {\n        return 5124;\n      }\n      if (p === UnsignedIntType) {\n        return 5125;\n      }\n      if (p === FloatType) {\n        return 5126;\n      }\n\n      if (p === HalfFloatType) {\n\n        if (isWebGL2) {\n          return 5131;\n        }\n\n        extension = extensions.get('OES_texture_half_float');\n\n        if (extension !== null) {\n\n          return extension.HALF_FLOAT_OES;\n\n        } else {\n\n          return null;\n\n        }\n\n      }\n\n      if (p === AlphaFormat) {\n        return 6406;\n      }\n      if (p === RGBFormat) {\n        return 6407;\n      }\n      if (p === RGBAFormat) {\n        return 6408;\n      }\n      if (p === LuminanceFormat) {\n        return 6409;\n      }\n      if (p === LuminanceAlphaFormat) {\n        return 6410;\n      }\n      if (p === DepthFormat) {\n        return 6402;\n      }\n      if (p === DepthStencilFormat) {\n        return 34041;\n      }\n      if (p === RedFormat) {\n        return 6403;\n      }\n\n      // WebGL2 formats.\n\n      if (p === RedIntegerFormat) {\n        return 36244;\n      }\n      if (p === RGFormat) {\n        return 33319;\n      }\n      if (p === RGIntegerFormat) {\n        return 33320;\n      }\n      if (p === RGBIntegerFormat) {\n        return 36248;\n      }\n      if (p === RGBAIntegerFormat) {\n        return 36249;\n      }\n\n      if (p === RGB_S3TC_DXT1_Format || p === RGBA_S3TC_DXT1_Format ||\n        p === RGBA_S3TC_DXT3_Format || p === RGBA_S3TC_DXT5_Format) {\n\n        extension = extensions.get('WEBGL_compressed_texture_s3tc');\n\n        if (extension !== null) {\n\n          if (p === RGB_S3TC_DXT1_Format) {\n            return extension.COMPRESSED_RGB_S3TC_DXT1_EXT;\n          }\n          if (p === RGBA_S3TC_DXT1_Format) {\n            return extension.COMPRESSED_RGBA_S3TC_DXT1_EXT;\n          }\n          if (p === RGBA_S3TC_DXT3_Format) {\n            return extension.COMPRESSED_RGBA_S3TC_DXT3_EXT;\n          }\n          if (p === RGBA_S3TC_DXT5_Format) {\n            return extension.COMPRESSED_RGBA_S3TC_DXT5_EXT;\n          }\n\n        } else {\n\n          return null;\n\n        }\n\n      }\n\n      if (p === RGB_PVRTC_4BPPV1_Format || p === RGB_PVRTC_2BPPV1_Format ||\n        p === RGBA_PVRTC_4BPPV1_Format || p === RGBA_PVRTC_2BPPV1_Format) {\n\n        extension = extensions.get('WEBGL_compressed_texture_pvrtc');\n\n        if (extension !== null) {\n\n          if (p === RGB_PVRTC_4BPPV1_Format) {\n            return extension.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;\n          }\n          if (p === RGB_PVRTC_2BPPV1_Format) {\n            return extension.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;\n          }\n          if (p === RGBA_PVRTC_4BPPV1_Format) {\n            return extension.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;\n          }\n          if (p === RGBA_PVRTC_2BPPV1_Format) {\n            return extension.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;\n          }\n\n        } else {\n\n          return null;\n\n        }\n\n      }\n\n      if (p === RGB_ETC1_Format) {\n\n        extension = extensions.get('WEBGL_compressed_texture_etc1');\n\n        if (extension !== null) {\n\n          return extension.COMPRESSED_RGB_ETC1_WEBGL;\n\n        } else {\n\n          return null;\n\n        }\n\n      }\n\n      if (p === RGBA_ASTC_4x4_Format || p === RGBA_ASTC_5x4_Format || p === RGBA_ASTC_5x5_Format ||\n        p === RGBA_ASTC_6x5_Format || p === RGBA_ASTC_6x6_Format || p === RGBA_ASTC_8x5_Format ||\n        p === RGBA_ASTC_8x6_Format || p === RGBA_ASTC_8x8_Format || p === RGBA_ASTC_10x5_Format ||\n        p === RGBA_ASTC_10x6_Format || p === RGBA_ASTC_10x8_Format || p === RGBA_ASTC_10x10_Format ||\n        p === RGBA_ASTC_12x10_Format || p === RGBA_ASTC_12x12_Format) {\n\n        extension = extensions.get('WEBGL_compressed_texture_astc');\n\n        if (extension !== null) {\n\n          // TODO Complete?\n\n          return p;\n\n        } else {\n\n          return null;\n\n        }\n\n      }\n\n      if (p === UnsignedInt248Type) {\n\n        if (isWebGL2) {\n          return 34042;\n        }\n\n        extension = extensions.get('WEBGL_depth_texture');\n\n        if (extension !== null) {\n\n          return extension.UNSIGNED_INT_24_8_WEBGL;\n\n        } else {\n\n          return null;\n\n        }\n\n      }\n\n    }\n\n    return {\n      convert: convert\n    };\n\n  }\n\n  /**\n   * @author fernandojsg / http://fernandojsg.com\n   * @author Takahiro https://github.com/takahirox\n   */\n\n  function WebGLMultiviewRenderTarget(width, height, numViews, options) {\n\n    WebGLRenderTarget.call(this, width, height, options);\n\n    this.depthBuffer = false;\n    this.stencilBuffer = false;\n\n    this.numViews = numViews;\n\n  }\n\n  WebGLMultiviewRenderTarget.prototype = Object.assign(Object.create(WebGLRenderTarget.prototype), {\n\n    constructor: WebGLMultiviewRenderTarget,\n\n    isWebGLMultiviewRenderTarget: true,\n\n    copy: function(source) {\n\n      WebGLRenderTarget.prototype.copy.call(this, source);\n\n      this.numViews = source.numViews;\n\n      return this;\n\n    },\n\n    setNumViews: function(numViews) {\n\n      if (this.numViews !== numViews) {\n\n        this.numViews = numViews;\n        this.dispose();\n\n      }\n\n      return this;\n\n    }\n\n  });\n\n  /**\n   * @author fernandojsg / http://fernandojsg.com\n   * @author Takahiro https://github.com/takahirox\n   */\n\n  function WebGLMultiview(renderer, gl) {\n\n    var DEFAULT_NUMVIEWS = 2;\n\n    var extensions = renderer.extensions;\n    var properties = renderer.properties;\n\n    var renderTarget, currentRenderTarget;\n    var mat3, mat4, cameraArray, renderSize;\n\n    var available;\n    var maxNumViews = 0;\n\n    //\n\n    function isAvailable() {\n\n      if (available === undefined) {\n\n        var extension = extensions.get('OVR_multiview2');\n\n        available = extension !== null && gl.getContextAttributes().antialias === false;\n\n        if (available) {\n\n          maxNumViews = gl.getParameter(extension.MAX_VIEWS_OVR);\n          renderTarget = new WebGLMultiviewRenderTarget(0, 0, DEFAULT_NUMVIEWS);\n\n          renderSize = new Vector2();\n          mat4 = [];\n          mat3 = [];\n          cameraArray = [];\n\n          for (var i = 0; i < maxNumViews; i++) {\n\n            mat4[i] = new Matrix4();\n            mat3[i] = new Matrix3();\n\n          }\n\n        }\n\n      }\n\n      return available;\n\n    }\n\n    function getCameraArray(camera) {\n\n      if (camera.isArrayCamera) {\n        return camera.cameras;\n      }\n\n      cameraArray[0] = camera;\n\n      return cameraArray;\n\n    }\n\n    function updateCameraProjectionMatricesUniform(camera, uniforms) {\n\n      var cameras = getCameraArray(camera);\n\n      for (var i = 0; i < cameras.length; i++) {\n\n        mat4[i].copy(cameras[i].projectionMatrix);\n\n      }\n\n      uniforms.setValue(gl, 'projectionMatrices', mat4);\n\n    }\n\n    function updateCameraViewMatricesUniform(camera, uniforms) {\n\n      var cameras = getCameraArray(camera);\n\n      for (var i = 0; i < cameras.length; i++) {\n\n        mat4[i].copy(cameras[i].matrixWorldInverse);\n\n      }\n\n      uniforms.setValue(gl, 'viewMatrices', mat4);\n\n    }\n\n    function updateObjectMatricesUniforms(object, camera, uniforms) {\n\n      var cameras = getCameraArray(camera);\n\n      for (var i = 0; i < cameras.length; i++) {\n\n        mat4[i].multiplyMatrices(cameras[i].matrixWorldInverse, object.matrixWorld);\n        mat3[i].getNormalMatrix(mat4[i]);\n\n      }\n\n      uniforms.setValue(gl, 'modelViewMatrices', mat4);\n      uniforms.setValue(gl, 'normalMatrices', mat3);\n\n    }\n\n    function isMultiviewCompatible(camera) {\n\n      if (camera.isArrayCamera === undefined) {\n        return true;\n      }\n\n      var cameras = camera.cameras;\n\n      if (cameras.length > maxNumViews) {\n        return false;\n      }\n\n      for (var i = 1, il = cameras.length; i < il; i++) {\n\n        if (cameras[0].viewport.z !== cameras[i].viewport.z ||\n          cameras[0].viewport.w !== cameras[i].viewport.w) {\n          return false;\n        }\n\n      }\n\n      return true;\n\n    }\n\n    function resizeRenderTarget(camera) {\n\n      if (currentRenderTarget) {\n\n        renderSize.set(currentRenderTarget.width, currentRenderTarget.height);\n\n      } else {\n\n        renderer.getDrawingBufferSize(renderSize);\n\n      }\n\n      if (camera.isArrayCamera) {\n\n        var viewport = camera.cameras[0].viewport;\n\n        renderTarget.setSize(viewport.z, viewport.w);\n        renderTarget.setNumViews(camera.cameras.length);\n\n      } else {\n\n        renderTarget.setSize(renderSize.x, renderSize.y);\n        renderTarget.setNumViews(DEFAULT_NUMVIEWS);\n\n      }\n\n    }\n\n    function attachCamera(camera) {\n\n      if (isMultiviewCompatible(camera) === false) {\n        return;\n      }\n\n      currentRenderTarget = renderer.getRenderTarget();\n      resizeRenderTarget(camera);\n      renderer.setRenderTarget(renderTarget);\n\n    }\n\n    function detachCamera(camera) {\n\n      if (renderTarget !== renderer.getRenderTarget()) {\n        return;\n      }\n\n      renderer.setRenderTarget(currentRenderTarget);\n\n      flush(camera);\n\n    }\n\n    function flush(camera) {\n\n      var srcRenderTarget = renderTarget;\n      var numViews = srcRenderTarget.numViews;\n\n      var srcFramebuffers = properties.get(srcRenderTarget).__webglViewFramebuffers;\n\n      var viewWidth = srcRenderTarget.width;\n      var viewHeight = srcRenderTarget.height;\n\n      if (camera.isArrayCamera) {\n\n        for (var i = 0; i < numViews; i++) {\n\n          var viewport = camera.cameras[i].viewport;\n\n          var x1 = viewport.x;\n          var y1 = viewport.y;\n          var x2 = x1 + viewport.z;\n          var y2 = y1 + viewport.w;\n\n          gl.bindFramebuffer(36008, srcFramebuffers[i]);\n          gl.blitFramebuffer(0, 0, viewWidth, viewHeight, x1, y1, x2, y2, 16384, 9728);\n\n        }\n\n      } else {\n\n        gl.bindFramebuffer(36008, srcFramebuffers[0]);\n        gl.blitFramebuffer(0, 0, viewWidth, viewHeight, 0, 0, renderSize.x, renderSize.y, 16384, 9728);\n\n      }\n\n    }\n\n    this.isAvailable = isAvailable;\n    this.attachCamera = attachCamera;\n    this.detachCamera = detachCamera;\n    this.updateCameraProjectionMatricesUniform = updateCameraProjectionMatricesUniform;\n    this.updateCameraViewMatricesUniform = updateCameraViewMatricesUniform;\n    this.updateObjectMatricesUniforms = updateObjectMatricesUniforms;\n\n  }\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function ArrayCamera(array) {\n\n    PerspectiveCamera.call(this);\n\n    this.cameras = array || [];\n\n  }\n\n  ArrayCamera.prototype = Object.assign(Object.create(PerspectiveCamera.prototype), {\n\n    constructor: ArrayCamera,\n\n    isArrayCamera: true\n\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function Group() {\n\n    Object3D.call(this);\n\n    this.type = 'Group';\n\n  }\n\n  Group.prototype = Object.assign(Object.create(Object3D.prototype), {\n\n    constructor: Group,\n\n    isGroup: true\n\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function WebXRManager(renderer, gl) {\n\n    var scope = this;\n\n    var session = null;\n\n    // var framebufferScaleFactor = 1.0;\n\n    var referenceSpace = null;\n    var referenceSpaceType = 'local-floor';\n\n    var pose = null;\n\n    var controllers = [];\n    var inputSourcesMap = new Map();\n\n    //\n\n    var cameraL = new PerspectiveCamera();\n    cameraL.layers.enable(1);\n    cameraL.viewport = new Vector4();\n\n    var cameraR = new PerspectiveCamera();\n    cameraR.layers.enable(2);\n    cameraR.viewport = new Vector4();\n\n    var cameraVR = new ArrayCamera([cameraL, cameraR]);\n    cameraVR.layers.enable(1);\n    cameraVR.layers.enable(2);\n\n    //\n\n    this.enabled = false;\n\n    this.isPresenting = false;\n\n    this.getController = function(id) {\n\n      var controller = controllers[id];\n\n      if (controller === undefined) {\n\n        controller = new Group();\n        controller.matrixAutoUpdate = false;\n        controller.visible = false;\n\n        controllers[id] = controller;\n\n      }\n\n      return controller;\n\n    };\n\n    //\n\n    function onSessionEvent(event) {\n\n      var controller = inputSourcesMap.get(event.inputSource);\n\n      if (controller) {\n\n        controller.dispatchEvent({\n          type: event.type\n        });\n\n      }\n\n    }\n\n    function onSessionEnd() {\n\n      inputSourcesMap.forEach(function(controller, inputSource) {\n\n        controller.dispatchEvent({\n          type: 'disconnected',\n          data: inputSource\n        });\n        controller.visible = false;\n\n      });\n\n      inputSourcesMap.clear();\n\n      //\n\n      renderer.setFramebuffer(null);\n      renderer.setRenderTarget(renderer.getRenderTarget()); // Hack #15830\n      animation.stop();\n\n      scope.dispatchEvent({\n        type: 'sessionend'\n      });\n\n      scope.isPresenting = false;\n\n    }\n\n    function onRequestReferenceSpace(value) {\n\n      referenceSpace = value;\n\n      animation.setContext(session);\n      animation.start();\n\n      scope.dispatchEvent({\n        type: 'sessionstart'\n      });\n\n      scope.isPresenting = true;\n\n    }\n\n    this.setFramebufferScaleFactor = function( /* value */ ) {\n\n      // framebufferScaleFactor = value;\n\n    };\n\n    this.setReferenceSpaceType = function(value) {\n\n      referenceSpaceType = value;\n\n    };\n\n    this.getReferenceSpace = function() {\n\n      return referenceSpace;\n\n    };\n\n    this.getSession = function() {\n\n      return session;\n\n    };\n\n    this.setSession = function(value) {\n\n      session = value;\n\n      if (session !== null) {\n\n        session.addEventListener('select', onSessionEvent);\n        session.addEventListener('selectstart', onSessionEvent);\n        session.addEventListener('selectend', onSessionEvent);\n        session.addEventListener('squeeze', onSessionEvent);\n        session.addEventListener('squeezestart', onSessionEvent);\n        session.addEventListener('squeezeend', onSessionEvent);\n        session.addEventListener('end', onSessionEnd);\n\n        var attributes = gl.getContextAttributes();\n\n        var layerInit = {\n          antialias: attributes.antialias,\n          alpha: attributes.alpha,\n          depth: attributes.depth,\n          stencil: attributes.stencil\n        };\n\n        // eslint-disable-next-line no-undef\n        var baseLayer = new XRWebGLLayer(session, gl, layerInit);\n\n        session.updateRenderState({\n          baseLayer: baseLayer\n        });\n\n        session.requestReferenceSpace(referenceSpaceType).then(onRequestReferenceSpace);\n\n        //\n\n        session.addEventListener('inputsourceschange', updateInputSources);\n\n      }\n\n    };\n\n    function updateInputSources(event) {\n\n      var inputSources = session.inputSources;\n\n      // Assign inputSources to available controllers\n\n      for (var i = 0; i < controllers.length; i++) {\n\n        inputSourcesMap.set(inputSources[i], controllers[i]);\n\n      }\n\n      // Notify disconnected\n\n      for (var i = 0; i < event.removed.length; i++) {\n\n        var inputSource = event.removed[i];\n        var controller = inputSourcesMap.get(inputSource);\n\n        if (controller) {\n\n          controller.dispatchEvent({\n            type: 'disconnected',\n            data: inputSource\n          });\n          inputSourcesMap.delete(inputSource);\n\n        }\n\n      }\n\n      // Notify connected\n\n      for (var i = 0; i < event.added.length; i++) {\n\n        var inputSource = event.added[i];\n        var controller = inputSourcesMap.get(inputSource);\n\n        if (controller) {\n\n          controller.dispatchEvent({\n            type: 'connected',\n            data: inputSource\n          });\n\n        }\n\n      }\n\n    }\n\n    //\n\n    var cameraLPos = new Vector3();\n    var cameraRPos = new Vector3();\n\n    /**\n     * @author jsantell / https://www.jsantell.com/\n     *\n     * Assumes 2 cameras that are parallel and share an X-axis, and that\n     * the cameras' projection and world matrices have already been set.\n     * And that near and far planes are identical for both cameras.\n     * Visualization of this technique: https://computergraphics.stackexchange.com/a/4765\n     */\n    function setProjectionFromUnion(camera, cameraL, cameraR) {\n\n      cameraLPos.setFromMatrixPosition(cameraL.matrixWorld);\n      cameraRPos.setFromMatrixPosition(cameraR.matrixWorld);\n\n      var ipd = cameraLPos.distanceTo(cameraRPos);\n\n      var projL = cameraL.projectionMatrix.elements;\n      var projR = cameraR.projectionMatrix.elements;\n\n      // VR systems will have identical far and near planes, and\n      // most likely identical top and bottom frustum extents.\n      // Use the left camera for these values.\n      var near = projL[14] / (projL[10] - 1);\n      var far = projL[14] / (projL[10] + 1);\n      var topFov = (projL[9] + 1) / projL[5];\n      var bottomFov = (projL[9] - 1) / projL[5];\n\n      var leftFov = (projL[8] - 1) / projL[0];\n      var rightFov = (projR[8] + 1) / projR[0];\n      var left = near * leftFov;\n      var right = near * rightFov;\n\n      // Calculate the new camera's position offset from the\n      // left camera. xOffset should be roughly half `ipd`.\n      var zOffset = ipd / (-leftFov + rightFov);\n      var xOffset = zOffset * -leftFov;\n\n      // TODO: Better way to apply this offset?\n      cameraL.matrixWorld.decompose(camera.position, camera.quaternion, camera.scale);\n      camera.translateX(xOffset);\n      camera.translateZ(zOffset);\n      camera.matrixWorld.compose(camera.position, camera.quaternion, camera.scale);\n      camera.matrixWorldInverse.getInverse(camera.matrixWorld);\n\n      // Find the union of the frustum values of the cameras and scale\n      // the values so that the near plane's position does not change in world space,\n      // although must now be relative to the new union camera.\n      var near2 = near + zOffset;\n      var far2 = far + zOffset;\n      var left2 = left - xOffset;\n      var right2 = right + (ipd - xOffset);\n      var top2 = topFov * far / far2 * near2;\n      var bottom2 = bottomFov * far / far2 * near2;\n\n      camera.projectionMatrix.makePerspective(left2, right2, top2, bottom2, near2, far2);\n\n    }\n\n    function updateCamera(camera, parent) {\n\n      if (parent === null) {\n\n        camera.matrixWorld.copy(camera.matrix);\n\n      } else {\n\n        camera.matrixWorld.multiplyMatrices(parent.matrixWorld, camera.matrix);\n\n      }\n\n      camera.matrixWorldInverse.getInverse(camera.matrixWorld);\n\n    }\n\n    this.getCamera = function(camera) {\n\n      var parent = camera.parent;\n      var cameras = cameraVR.cameras;\n\n      updateCamera(cameraVR, parent);\n\n      for (var i = 0; i < cameras.length; i++) {\n\n        updateCamera(cameras[i], parent);\n\n      }\n\n      // update camera and its children\n\n      camera.matrixWorld.copy(cameraVR.matrixWorld);\n\n      var children = camera.children;\n\n      for (var i = 0, l = children.length; i < l; i++) {\n\n        children[i].updateMatrixWorld(true);\n\n      }\n\n      setProjectionFromUnion(cameraVR, cameraL, cameraR);\n\n      return cameraVR;\n\n    };\n\n    // Animation Loop\n\n    var onAnimationFrameCallback = null;\n\n    function onAnimationFrame(time, frame) {\n\n      pose = frame.getViewerPose(referenceSpace);\n\n      if (pose !== null) {\n\n        var views = pose.views;\n        var baseLayer = session.renderState.baseLayer;\n\n        renderer.setFramebuffer(baseLayer.framebuffer);\n\n        for (var i = 0; i < views.length; i++) {\n\n          var view = views[i];\n          var viewport = baseLayer.getViewport(view);\n          var viewMatrix = view.transform.inverse.matrix;\n\n          var camera = cameraVR.cameras[i];\n          camera.matrix.fromArray(viewMatrix).getInverse(camera.matrix);\n          camera.projectionMatrix.fromArray(view.projectionMatrix);\n          camera.viewport.set(viewport.x, viewport.y, viewport.width, viewport.height);\n\n          if (i === 0) {\n\n            cameraVR.matrix.copy(camera.matrix);\n\n          }\n\n        }\n\n      }\n\n      //\n\n      var inputSources = session.inputSources;\n\n      for (var i = 0; i < controllers.length; i++) {\n\n        var controller = controllers[i];\n\n        var inputSource = inputSources[i];\n\n        if (inputSource) {\n\n          var inputPose = frame.getPose(inputSource.targetRaySpace, referenceSpace);\n\n          if (inputPose !== null) {\n\n            controller.matrix.fromArray(inputPose.transform.matrix);\n            controller.matrix.decompose(controller.position, controller.rotation, controller.scale);\n            controller.visible = true;\n\n            continue;\n\n          }\n\n        }\n\n        controller.visible = false;\n\n      }\n\n      if (onAnimationFrameCallback) {\n        onAnimationFrameCallback(time, frame);\n      }\n\n    }\n\n    var animation = new WebGLAnimation();\n    animation.setAnimationLoop(onAnimationFrame);\n\n    this.setAnimationLoop = function(callback) {\n\n      onAnimationFrameCallback = callback;\n\n    };\n\n    this.dispose = function() {};\n\n  }\n\n  Object.assign(WebXRManager.prototype, EventDispatcher.prototype);\n\n  /**\n   * @author supereggbert / http://www.paulbrunt.co.uk/\n   * @author mrdoob / http://mrdoob.com/\n   * @author alteredq / http://alteredqualia.com/\n   * @author szimek / https://github.com/szimek/\n   * @author tschw\n   */\n\n  function WebGLRenderer(parameters) {\n\n    parameters = parameters || {};\n\n    var _canvas = parameters.canvas !== undefined ? parameters.canvas : document.createElementNS('http://www.w3.org/1999/xhtml', 'canvas'),\n      _context = parameters.context !== undefined ? parameters.context : null,\n\n      _alpha = parameters.alpha !== undefined ? parameters.alpha : false,\n      _depth = parameters.depth !== undefined ? parameters.depth : true,\n      _stencil = parameters.stencil !== undefined ? parameters.stencil : true,\n      _antialias = parameters.antialias !== undefined ? parameters.antialias : false,\n      _premultipliedAlpha = parameters.premultipliedAlpha !== undefined ? parameters.premultipliedAlpha : true,\n      _preserveDrawingBuffer = parameters.preserveDrawingBuffer !== undefined ? parameters.preserveDrawingBuffer : false,\n      _powerPreference = parameters.powerPreference !== undefined ? parameters.powerPreference : 'default',\n      _failIfMajorPerformanceCaveat = parameters.failIfMajorPerformanceCaveat !== undefined ? parameters.failIfMajorPerformanceCaveat : false;\n\n    var currentRenderList = null;\n    var currentRenderState = null;\n\n    // public properties\n\n    this.domElement = _canvas;\n\n    // Debug configuration container\n    this.debug = {\n\n      /**\n       * Enables error checking and reporting when shader programs are being compiled\n       * @type {boolean}\n       */\n      checkShaderErrors: true\n    };\n\n    // clearing\n\n    this.autoClear = true;\n    this.autoClearColor = true;\n    this.autoClearDepth = true;\n    this.autoClearStencil = true;\n\n    // scene graph\n\n    this.sortObjects = true;\n\n    // user-defined clipping\n\n    this.clippingPlanes = [];\n    this.localClippingEnabled = false;\n\n    // physically based shading\n\n    this.gammaFactor = 2.0; // for backwards compatibility\n    this.outputEncoding = LinearEncoding;\n\n    // physical lights\n\n    this.physicallyCorrectLights = false;\n\n    // tone mapping\n\n    this.toneMapping = LinearToneMapping;\n    this.toneMappingExposure = 1.0;\n    this.toneMappingWhitePoint = 1.0;\n\n    // morphs\n\n    this.maxMorphTargets = 8;\n    this.maxMorphNormals = 4;\n\n    // internal properties\n\n    var _this = this,\n\n      _isContextLost = false,\n\n      // internal state cache\n\n      _framebuffer = null,\n\n      _currentActiveCubeFace = 0,\n      _currentActiveMipmapLevel = 0,\n      _currentRenderTarget = null,\n      _currentFramebuffer = null,\n      _currentMaterialId = -1,\n\n      // geometry and program caching\n\n      _currentGeometryProgram = {\n        geometry: null,\n        program: null,\n        wireframe: false\n      },\n\n      _currentCamera = null,\n      _currentArrayCamera = null,\n\n      _currentViewport = new Vector4(),\n      _currentScissor = new Vector4(),\n      _currentScissorTest = null,\n\n      //\n\n      _width = _canvas.width,\n      _height = _canvas.height,\n\n      _pixelRatio = 1,\n      _opaqueSort = null,\n      _transparentSort = null,\n\n      _viewport = new Vector4(0, 0, _width, _height),\n      _scissor = new Vector4(0, 0, _width, _height),\n      _scissorTest = false,\n\n      // frustum\n\n      _frustum = new Frustum(),\n\n      // clipping\n\n      _clipping = new WebGLClipping(),\n      _clippingEnabled = false,\n      _localClippingEnabled = false,\n\n      // camera matrices cache\n\n      _projScreenMatrix = new Matrix4(),\n\n      _vector3 = new Vector3();\n\n    function getTargetPixelRatio() {\n\n      return _currentRenderTarget === null ? _pixelRatio : 1;\n\n    }\n\n    // initialize\n\n    var _gl;\n\n    try {\n\n      var contextAttributes = {\n        alpha: _alpha,\n        depth: _depth,\n        stencil: _stencil,\n        antialias: _antialias,\n        premultipliedAlpha: _premultipliedAlpha,\n        preserveDrawingBuffer: _preserveDrawingBuffer,\n        powerPreference: _powerPreference,\n        failIfMajorPerformanceCaveat: _failIfMajorPerformanceCaveat,\n        xrCompatible: true\n      };\n\n      // event listeners must be registered before WebGL context is created, see #12753\n\n      _canvas.addEventListener('webglcontextlost', onContextLost, false);\n      _canvas.addEventListener('webglcontextrestored', onContextRestore, false);\n\n      _gl = _context || _canvas.getContext('webgl', contextAttributes) || _canvas.getContext('experimental-webgl', contextAttributes);\n\n      if (_gl === null) {\n\n        if (_canvas.getContext('webgl') !== null) {\n\n          throw new Error('Error creating WebGL context with your selected attributes.');\n\n        } else {\n\n          throw new Error('Error creating WebGL context.');\n\n        }\n\n      }\n\n      // Some experimental-webgl implementations do not have getShaderPrecisionFormat\n\n      if (_gl.getShaderPrecisionFormat === undefined) {\n\n        _gl.getShaderPrecisionFormat = function() {\n\n          return {\n            'rangeMin': 1,\n            'rangeMax': 1,\n            'precision': 1\n          };\n\n        };\n\n      }\n\n    } catch (error) {\n\n      console.error('THREE.WebGLRenderer: ' + error.message);\n      throw error;\n\n    }\n\n    var extensions, capabilities, state, info;\n    var properties, textures, attributes, geometries, objects;\n    var programCache, renderLists, renderStates;\n\n    var background, morphtargets, bufferRenderer, indexedBufferRenderer;\n\n    var utils;\n\n    function initGLContext() {\n\n      extensions = new WebGLExtensions(_gl);\n\n      capabilities = new WebGLCapabilities(_gl, extensions, parameters);\n\n      if (capabilities.isWebGL2 === false) {\n\n        extensions.get('WEBGL_depth_texture');\n        extensions.get('OES_texture_float');\n        extensions.get('OES_texture_half_float');\n        extensions.get('OES_texture_half_float_linear');\n        extensions.get('OES_standard_derivatives');\n        extensions.get('OES_element_index_uint');\n        extensions.get('ANGLE_instanced_arrays');\n\n      }\n\n      extensions.get('OES_texture_float_linear');\n\n      utils = new WebGLUtils(_gl, extensions, capabilities);\n\n      state = new WebGLState(_gl, extensions, capabilities);\n      state.scissor(_currentScissor.copy(_scissor).multiplyScalar(_pixelRatio).floor());\n      state.viewport(_currentViewport.copy(_viewport).multiplyScalar(_pixelRatio).floor());\n\n      info = new WebGLInfo(_gl);\n      properties = new WebGLProperties();\n      textures = new WebGLTextures(_gl, extensions, state, properties, capabilities, utils, info);\n      attributes = new WebGLAttributes(_gl);\n      geometries = new WebGLGeometries(_gl, attributes, info);\n      objects = new WebGLObjects(_gl, geometries, attributes, info);\n      morphtargets = new WebGLMorphtargets(_gl);\n      programCache = new WebGLPrograms(_this, extensions, capabilities);\n      renderLists = new WebGLRenderLists();\n      renderStates = new WebGLRenderStates();\n\n      background = new WebGLBackground(_this, state, objects, _premultipliedAlpha);\n\n      bufferRenderer = new WebGLBufferRenderer(_gl, extensions, info, capabilities);\n      indexedBufferRenderer = new WebGLIndexedBufferRenderer(_gl, extensions, info, capabilities);\n\n      info.programs = programCache.programs;\n\n      _this.capabilities = capabilities;\n      _this.extensions = extensions;\n      _this.properties = properties;\n      _this.renderLists = renderLists;\n      _this.state = state;\n      _this.info = info;\n\n    }\n\n    initGLContext();\n\n    // xr\n\n    var xr = new WebXRManager(_this, _gl);\n\n    this.xr = xr;\n\n    // Multiview\n\n    var multiview = new WebGLMultiview(_this, _gl);\n\n    // shadow map\n\n    var shadowMap = new WebGLShadowMap(_this, objects, capabilities.maxTextureSize);\n\n    this.shadowMap = shadowMap;\n\n    // API\n\n    this.getContext = function() {\n\n      return _gl;\n\n    };\n\n    this.getContextAttributes = function() {\n\n      return _gl.getContextAttributes();\n\n    };\n\n    this.forceContextLoss = function() {\n\n      var extension = extensions.get('WEBGL_lose_context');\n      if (extension) {\n        extension.loseContext();\n      }\n\n    };\n\n    this.forceContextRestore = function() {\n\n      var extension = extensions.get('WEBGL_lose_context');\n      if (extension) {\n        extension.restoreContext();\n      }\n\n    };\n\n    this.getPixelRatio = function() {\n\n      return _pixelRatio;\n\n    };\n\n    this.setPixelRatio = function(value) {\n\n      if (value === undefined) {\n        return;\n      }\n\n      _pixelRatio = value;\n\n      this.setSize(_width, _height, false);\n\n    };\n\n    this.getSize = function(target) {\n\n      if (target === undefined) {\n\n        console.warn('WebGLRenderer: .getsize() now requires a Vector2 as an argument');\n\n        target = new Vector2();\n\n      }\n\n      return target.set(_width, _height);\n\n    };\n\n    this.setSize = function(width, height, updateStyle) {\n\n      if (xr.isPresenting) {\n\n        console.warn('THREE.WebGLRenderer: Can\\'t change size while VR device is presenting.');\n        return;\n\n      }\n\n      _width = width;\n      _height = height;\n\n      _canvas.width = Math.floor(width * _pixelRatio);\n      _canvas.height = Math.floor(height * _pixelRatio);\n\n      if (updateStyle !== false) {\n\n        _canvas.style.width = width + 'px';\n        _canvas.style.height = height + 'px';\n\n      }\n\n      this.setViewport(0, 0, width, height);\n\n    };\n\n    this.getDrawingBufferSize = function(target) {\n\n      if (target === undefined) {\n\n        console.warn('WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument');\n\n        target = new Vector2();\n\n      }\n\n      return target.set(_width * _pixelRatio, _height * _pixelRatio).floor();\n\n    };\n\n    this.setDrawingBufferSize = function(width, height, pixelRatio) {\n\n      _width = width;\n      _height = height;\n\n      _pixelRatio = pixelRatio;\n\n      _canvas.width = Math.floor(width * pixelRatio);\n      _canvas.height = Math.floor(height * pixelRatio);\n\n      this.setViewport(0, 0, width, height);\n\n    };\n\n    this.getCurrentViewport = function(target) {\n\n      if (target === undefined) {\n\n        console.warn('WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument');\n\n        target = new Vector4();\n\n      }\n\n      return target.copy(_currentViewport);\n\n    };\n\n    this.getViewport = function(target) {\n\n      return target.copy(_viewport);\n\n    };\n\n    this.setViewport = function(x, y, width, height) {\n\n      if (x.isVector4) {\n\n        _viewport.set(x.x, x.y, x.z, x.w);\n\n      } else {\n\n        _viewport.set(x, y, width, height);\n\n      }\n\n      state.viewport(_currentViewport.copy(_viewport).multiplyScalar(_pixelRatio).floor());\n\n    };\n\n    this.getScissor = function(target) {\n\n      return target.copy(_scissor);\n\n    };\n\n    this.setScissor = function(x, y, width, height) {\n\n      if (x.isVector4) {\n\n        _scissor.set(x.x, x.y, x.z, x.w);\n\n      } else {\n\n        _scissor.set(x, y, width, height);\n\n      }\n\n      state.scissor(_currentScissor.copy(_scissor).multiplyScalar(_pixelRatio).floor());\n\n    };\n\n    this.getScissorTest = function() {\n\n      return _scissorTest;\n\n    };\n\n    this.setScissorTest = function(boolean) {\n\n      state.setScissorTest(_scissorTest = boolean);\n\n    };\n\n    this.setOpaqueSort = function(method) {\n\n      _opaqueSort = method;\n\n    };\n\n    this.setTransparentSort = function(method) {\n\n      _transparentSort = method;\n\n    };\n\n    // Clearing\n\n    this.getClearColor = function() {\n\n      return background.getClearColor();\n\n    };\n\n    this.setClearColor = function() {\n\n      background.setClearColor.apply(background, arguments);\n\n    };\n\n    this.getClearAlpha = function() {\n\n      return background.getClearAlpha();\n\n    };\n\n    this.setClearAlpha = function() {\n\n      background.setClearAlpha.apply(background, arguments);\n\n    };\n\n    this.clear = function(color, depth, stencil) {\n\n      var bits = 0;\n\n      if (color === undefined || color) {\n        bits |= 16384;\n      }\n      if (depth === undefined || depth) {\n        bits |= 256;\n      }\n      if (stencil === undefined || stencil) {\n        bits |= 1024;\n      }\n\n      _gl.clear(bits);\n\n    };\n\n    this.clearColor = function() {\n\n      this.clear(true, false, false);\n\n    };\n\n    this.clearDepth = function() {\n\n      this.clear(false, true, false);\n\n    };\n\n    this.clearStencil = function() {\n\n      this.clear(false, false, true);\n\n    };\n\n    //\n\n    this.dispose = function() {\n\n      _canvas.removeEventListener('webglcontextlost', onContextLost, false);\n      _canvas.removeEventListener('webglcontextrestored', onContextRestore, false);\n\n      renderLists.dispose();\n      renderStates.dispose();\n      properties.dispose();\n      objects.dispose();\n\n      xr.dispose();\n\n      animation.stop();\n\n    };\n\n    // Events\n\n    function onContextLost(event) {\n\n      event.preventDefault();\n\n      console.log('THREE.WebGLRenderer: Context Lost.');\n\n      _isContextLost = true;\n\n    }\n\n    function onContextRestore( /* event */ ) {\n\n      console.log('THREE.WebGLRenderer: Context Restored.');\n\n      _isContextLost = false;\n\n      initGLContext();\n\n    }\n\n    function onMaterialDispose(event) {\n\n      var material = event.target;\n\n      material.removeEventListener('dispose', onMaterialDispose);\n\n      deallocateMaterial(material);\n\n    }\n\n    // Buffer deallocation\n\n    function deallocateMaterial(material) {\n\n      releaseMaterialProgramReference(material);\n\n      properties.remove(material);\n\n    }\n\n\n    function releaseMaterialProgramReference(material) {\n\n      var programInfo = properties.get(material).program;\n\n      material.program = undefined;\n\n      if (programInfo !== undefined) {\n\n        programCache.releaseProgram(programInfo);\n\n      }\n\n    }\n\n    // Buffer rendering\n\n    function renderObjectImmediate(object, program) {\n\n      object.render(function(object) {\n\n        _this.renderBufferImmediate(object, program);\n\n      });\n\n    }\n\n    this.renderBufferImmediate = function(object, program) {\n\n      state.initAttributes();\n\n      var buffers = properties.get(object);\n\n      if (object.hasPositions && !buffers.position) {\n        buffers.position = _gl.createBuffer();\n      }\n      if (object.hasNormals && !buffers.normal) {\n        buffers.normal = _gl.createBuffer();\n      }\n      if (object.hasUvs && !buffers.uv) {\n        buffers.uv = _gl.createBuffer();\n      }\n      if (object.hasColors && !buffers.color) {\n        buffers.color = _gl.createBuffer();\n      }\n\n      var programAttributes = program.getAttributes();\n\n      if (object.hasPositions) {\n\n        _gl.bindBuffer(34962, buffers.position);\n        _gl.bufferData(34962, object.positionArray, 35048);\n\n        state.enableAttribute(programAttributes.position);\n        _gl.vertexAttribPointer(programAttributes.position, 3, 5126, false, 0, 0);\n\n      }\n\n      if (object.hasNormals) {\n\n        _gl.bindBuffer(34962, buffers.normal);\n        _gl.bufferData(34962, object.normalArray, 35048);\n\n        state.enableAttribute(programAttributes.normal);\n        _gl.vertexAttribPointer(programAttributes.normal, 3, 5126, false, 0, 0);\n\n      }\n\n      if (object.hasUvs) {\n\n        _gl.bindBuffer(34962, buffers.uv);\n        _gl.bufferData(34962, object.uvArray, 35048);\n\n        state.enableAttribute(programAttributes.uv);\n        _gl.vertexAttribPointer(programAttributes.uv, 2, 5126, false, 0, 0);\n\n      }\n\n      if (object.hasColors) {\n\n        _gl.bindBuffer(34962, buffers.color);\n        _gl.bufferData(34962, object.colorArray, 35048);\n\n        state.enableAttribute(programAttributes.color);\n        _gl.vertexAttribPointer(programAttributes.color, 3, 5126, false, 0, 0);\n\n      }\n\n      state.disableUnusedAttributes();\n\n      _gl.drawArrays(4, 0, object.count);\n\n      object.count = 0;\n\n    };\n\n    var tempScene = new Scene();\n\n    this.renderBufferDirect = function(camera, scene, geometry, material, object, group) {\n\n      if (scene === null) {\n        scene = tempScene;\n      } // renderBufferDirect second parameter used to be fog (could be null)\n\n      var frontFaceCW = (object.isMesh && object.matrixWorld.determinant() < 0);\n\n      var program = setProgram(camera, scene, material, object);\n\n      state.setMaterial(material, frontFaceCW);\n\n      var updateBuffers = false;\n\n      if (_currentGeometryProgram.geometry !== geometry.id ||\n        _currentGeometryProgram.program !== program.id ||\n        _currentGeometryProgram.wireframe !== (material.wireframe === true)) {\n\n        _currentGeometryProgram.geometry = geometry.id;\n        _currentGeometryProgram.program = program.id;\n        _currentGeometryProgram.wireframe = material.wireframe === true;\n        updateBuffers = true;\n\n      }\n\n      if (material.morphTargets || material.morphNormals) {\n\n        morphtargets.update(object, geometry, material, program);\n\n        updateBuffers = true;\n\n      }\n\n      //\n\n      var index = geometry.index;\n      var position = geometry.attributes.position;\n\n      //\n\n      if (index === null) {\n\n        if (position === undefined || position.count === 0) {\n          return;\n        }\n\n      } else if (index.count === 0) {\n\n        return;\n\n      }\n\n      //\n\n      var rangeFactor = 1;\n\n      if (material.wireframe === true) {\n\n        index = geometries.getWireframeAttribute(geometry);\n        rangeFactor = 2;\n\n      }\n\n      var attribute;\n      var renderer = bufferRenderer;\n\n      if (index !== null) {\n\n        attribute = attributes.get(index);\n\n        renderer = indexedBufferRenderer;\n        renderer.setIndex(attribute);\n\n      }\n\n      if (updateBuffers) {\n\n        setupVertexAttributes(object, geometry, material, program);\n\n        if (index !== null) {\n\n          _gl.bindBuffer(34963, attribute.buffer);\n\n        }\n\n      }\n\n      //\n\n      var dataCount = (index !== null) ? index.count : position.count;\n\n      var rangeStart = geometry.drawRange.start * rangeFactor;\n      var rangeCount = geometry.drawRange.count * rangeFactor;\n\n      var groupStart = group !== null ? group.start * rangeFactor : 0;\n      var groupCount = group !== null ? group.count * rangeFactor : Infinity;\n\n      var drawStart = Math.max(rangeStart, groupStart);\n      var drawEnd = Math.min(dataCount, rangeStart + rangeCount, groupStart + groupCount) - 1;\n\n      var drawCount = Math.max(0, drawEnd - drawStart + 1);\n\n      if (drawCount === 0) {\n        return;\n      }\n\n      //\n\n      if (object.isMesh) {\n\n        if (material.wireframe === true) {\n\n          state.setLineWidth(material.wireframeLinewidth * getTargetPixelRatio());\n          renderer.setMode(1);\n\n        } else {\n\n          renderer.setMode(4);\n\n        }\n\n      } else if (object.isLine) {\n\n        var lineWidth = material.linewidth;\n\n        if (lineWidth === undefined) {\n          lineWidth = 1;\n        } // Not using Line*Material\n\n        state.setLineWidth(lineWidth * getTargetPixelRatio());\n\n        if (object.isLineSegments) {\n\n          renderer.setMode(1);\n\n        } else if (object.isLineLoop) {\n\n          renderer.setMode(2);\n\n        } else {\n\n          renderer.setMode(3);\n\n        }\n\n      } else if (object.isPoints) {\n\n        renderer.setMode(0);\n\n      } else if (object.isSprite) {\n\n        renderer.setMode(4);\n\n      }\n\n      if (object.isInstancedMesh) {\n\n        renderer.renderInstances(geometry, drawStart, drawCount, object.count);\n\n      } else if (geometry.isInstancedBufferGeometry) {\n\n        renderer.renderInstances(geometry, drawStart, drawCount, geometry.maxInstancedCount);\n\n      } else {\n\n        renderer.render(drawStart, drawCount);\n\n      }\n\n    };\n\n    function setupVertexAttributes(object, geometry, material, program) {\n\n      if (capabilities.isWebGL2 === false && (object.isInstancedMesh || geometry.isInstancedBufferGeometry)) {\n\n        if (extensions.get('ANGLE_instanced_arrays') === null) {\n          return;\n        }\n\n      }\n\n      state.initAttributes();\n\n      var geometryAttributes = geometry.attributes;\n\n      var programAttributes = program.getAttributes();\n\n      var materialDefaultAttributeValues = material.defaultAttributeValues;\n\n      for (var name in programAttributes) {\n\n        var programAttribute = programAttributes[name];\n\n        if (programAttribute >= 0) {\n\n          var geometryAttribute = geometryAttributes[name];\n\n          if (geometryAttribute !== undefined) {\n\n            var normalized = geometryAttribute.normalized;\n            var size = geometryAttribute.itemSize;\n\n            var attribute = attributes.get(geometryAttribute);\n\n            // TODO Attribute may not be available on context restore\n\n            if (attribute === undefined) {\n              continue;\n            }\n\n            var buffer = attribute.buffer;\n            var type = attribute.type;\n            var bytesPerElement = attribute.bytesPerElement;\n\n            if (geometryAttribute.isInterleavedBufferAttribute) {\n\n              var data = geometryAttribute.data;\n              var stride = data.stride;\n              var offset = geometryAttribute.offset;\n\n              if (data && data.isInstancedInterleavedBuffer) {\n\n                state.enableAttributeAndDivisor(programAttribute, data.meshPerAttribute);\n\n                if (geometry.maxInstancedCount === undefined) {\n\n                  geometry.maxInstancedCount = data.meshPerAttribute * data.count;\n\n                }\n\n              } else {\n\n                state.enableAttribute(programAttribute);\n\n              }\n\n              _gl.bindBuffer(34962, buffer);\n              _gl.vertexAttribPointer(programAttribute, size, type, normalized, stride * bytesPerElement, offset * bytesPerElement);\n\n            } else {\n\n              if (geometryAttribute.isInstancedBufferAttribute) {\n\n                state.enableAttributeAndDivisor(programAttribute, geometryAttribute.meshPerAttribute);\n\n                if (geometry.maxInstancedCount === undefined) {\n\n                  geometry.maxInstancedCount = geometryAttribute.meshPerAttribute * geometryAttribute.count;\n\n                }\n\n              } else {\n\n                state.enableAttribute(programAttribute);\n\n              }\n\n              _gl.bindBuffer(34962, buffer);\n              _gl.vertexAttribPointer(programAttribute, size, type, normalized, 0, 0);\n\n            }\n\n          } else if (name === 'instanceMatrix') {\n\n            var attribute = attributes.get(object.instanceMatrix);\n\n            // TODO Attribute may not be available on context restore\n\n            if (attribute === undefined) {\n              continue;\n            }\n\n            var buffer = attribute.buffer;\n            var type = attribute.type;\n\n            state.enableAttributeAndDivisor(programAttribute + 0, 1);\n            state.enableAttributeAndDivisor(programAttribute + 1, 1);\n            state.enableAttributeAndDivisor(programAttribute + 2, 1);\n            state.enableAttributeAndDivisor(programAttribute + 3, 1);\n\n            _gl.bindBuffer(34962, buffer);\n\n            _gl.vertexAttribPointer(programAttribute + 0, 4, type, false, 64, 0);\n            _gl.vertexAttribPointer(programAttribute + 1, 4, type, false, 64, 16);\n            _gl.vertexAttribPointer(programAttribute + 2, 4, type, false, 64, 32);\n            _gl.vertexAttribPointer(programAttribute + 3, 4, type, false, 64, 48);\n\n          } else if (materialDefaultAttributeValues !== undefined) {\n\n            var value = materialDefaultAttributeValues[name];\n\n            if (value !== undefined) {\n\n              switch (value.length) {\n\n                case 2:\n                  _gl.vertexAttrib2fv(programAttribute, value);\n                  break;\n\n                case 3:\n                  _gl.vertexAttrib3fv(programAttribute, value);\n                  break;\n\n                case 4:\n                  _gl.vertexAttrib4fv(programAttribute, value);\n                  break;\n\n                default:\n                  _gl.vertexAttrib1fv(programAttribute, value);\n\n              }\n\n            }\n\n          }\n\n        }\n\n      }\n\n      state.disableUnusedAttributes();\n\n    }\n\n    // Compile\n\n    this.compile = function(scene, camera) {\n\n      currentRenderState = renderStates.get(scene, camera);\n      currentRenderState.init();\n\n      scene.traverse(function(object) {\n\n        if (object.isLight) {\n\n          currentRenderState.pushLight(object);\n\n          if (object.castShadow) {\n\n            currentRenderState.pushShadow(object);\n\n          }\n\n        }\n\n      });\n\n      currentRenderState.setupLights(camera);\n\n      scene.traverse(function(object) {\n\n        if (object.material) {\n\n          if (Array.isArray(object.material)) {\n\n            for (var i = 0; i < object.material.length; i++) {\n\n              initMaterial(object.material[i], scene, object);\n\n            }\n\n          } else {\n\n            initMaterial(object.material, scene, object);\n\n          }\n\n        }\n\n      });\n\n    };\n\n    // Animation Loop\n\n    var onAnimationFrameCallback = null;\n\n    function onAnimationFrame(time) {\n\n      if (xr.isPresenting) {\n        return;\n      }\n      if (onAnimationFrameCallback) {\n        onAnimationFrameCallback(time);\n      }\n\n    }\n\n    var animation = new WebGLAnimation();\n    animation.setAnimationLoop(onAnimationFrame);\n\n    if (typeof window !== 'undefined') {\n      animation.setContext(window);\n    }\n\n    this.setAnimationLoop = function(callback) {\n\n      onAnimationFrameCallback = callback;\n      xr.setAnimationLoop(callback);\n\n      animation.start();\n\n    };\n\n    // Rendering\n\n    this.render = function(scene, camera) {\n\n      var renderTarget, forceClear;\n\n      if (arguments[2] !== undefined) {\n\n        console.warn('THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead.');\n        renderTarget = arguments[2];\n\n      }\n\n      if (arguments[3] !== undefined) {\n\n        console.warn('THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead.');\n        forceClear = arguments[3];\n\n      }\n\n      if (!(camera && camera.isCamera)) {\n\n        console.error('THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.');\n        return;\n\n      }\n\n      if (_isContextLost) {\n        return;\n      }\n\n      // reset caching for this frame\n\n      _currentGeometryProgram.geometry = null;\n      _currentGeometryProgram.program = null;\n      _currentGeometryProgram.wireframe = false;\n      _currentMaterialId = -1;\n      _currentCamera = null;\n\n      // update scene graph\n\n      if (scene.autoUpdate === true) {\n        scene.updateMatrixWorld();\n      }\n\n      // update camera matrices and frustum\n\n      if (camera.parent === null) {\n        camera.updateMatrixWorld();\n      }\n\n      if (xr.enabled && xr.isPresenting) {\n\n        camera = xr.getCamera(camera);\n\n      }\n\n      //\n\n      currentRenderState = renderStates.get(scene, camera);\n      currentRenderState.init();\n\n      scene.onBeforeRender(_this, scene, camera, renderTarget || _currentRenderTarget);\n\n      _projScreenMatrix.multiplyMatrices(camera.projectionMatrix, camera.matrixWorldInverse);\n      _frustum.setFromMatrix(_projScreenMatrix);\n\n      _localClippingEnabled = this.localClippingEnabled;\n      _clippingEnabled = _clipping.init(this.clippingPlanes, _localClippingEnabled, camera);\n\n      currentRenderList = renderLists.get(scene, camera);\n      currentRenderList.init();\n\n      projectObject(scene, camera, 0, _this.sortObjects);\n\n      if (_this.sortObjects === true) {\n\n        currentRenderList.sort(_opaqueSort, _transparentSort);\n\n      }\n\n      //\n\n      if (_clippingEnabled) {\n        _clipping.beginShadows();\n      }\n\n      var shadowsArray = currentRenderState.state.shadowsArray;\n\n      shadowMap.render(shadowsArray, scene, camera);\n\n      currentRenderState.setupLights(camera);\n\n      if (_clippingEnabled) {\n        _clipping.endShadows();\n      }\n\n      //\n\n      if (this.info.autoReset) {\n        this.info.reset();\n      }\n\n      if (renderTarget !== undefined) {\n\n        this.setRenderTarget(renderTarget);\n\n      }\n\n      if (xr.enabled && multiview.isAvailable()) {\n\n        multiview.attachCamera(camera);\n\n      }\n\n      //\n\n      background.render(currentRenderList, scene, camera, forceClear);\n\n      // render scene\n\n      var opaqueObjects = currentRenderList.opaque;\n      var transparentObjects = currentRenderList.transparent;\n\n      if (scene.overrideMaterial) {\n\n        var overrideMaterial = scene.overrideMaterial;\n\n        if (opaqueObjects.length) {\n          renderObjects(opaqueObjects, scene, camera, overrideMaterial);\n        }\n        if (transparentObjects.length) {\n          renderObjects(transparentObjects, scene, camera, overrideMaterial);\n        }\n\n      } else {\n\n        // opaque pass (front-to-back order)\n\n        if (opaqueObjects.length) {\n          renderObjects(opaqueObjects, scene, camera);\n        }\n\n        // transparent pass (back-to-front order)\n\n        if (transparentObjects.length) {\n          renderObjects(transparentObjects, scene, camera);\n        }\n\n      }\n\n      //\n\n      scene.onAfterRender(_this, scene, camera);\n\n      //\n\n      if (_currentRenderTarget !== null) {\n\n        // Generate mipmap if we're using any kind of mipmap filtering\n\n        textures.updateRenderTargetMipmap(_currentRenderTarget);\n\n        // resolve multisample renderbuffers to a single-sample texture if necessary\n\n        textures.updateMultisampleRenderTarget(_currentRenderTarget);\n\n      }\n\n      // Ensure depth buffer writing is enabled so it can be cleared on next render\n\n      state.buffers.depth.setTest(true);\n      state.buffers.depth.setMask(true);\n      state.buffers.color.setMask(true);\n\n      state.setPolygonOffset(false);\n\n      if (xr.enabled) {\n\n        if (multiview.isAvailable()) {\n\n          multiview.detachCamera(camera);\n\n        }\n\n      }\n\n      // _gl.finish();\n\n      currentRenderList = null;\n      currentRenderState = null;\n\n    };\n\n    function projectObject(object, camera, groupOrder, sortObjects) {\n\n      if (object.visible === false) {\n        return;\n      }\n\n      var visible = object.layers.test(camera.layers);\n\n      if (visible) {\n\n        if (object.isGroup) {\n\n          groupOrder = object.renderOrder;\n\n        } else if (object.isLOD) {\n\n          if (object.autoUpdate === true) {\n            object.update(camera);\n          }\n\n        } else if (object.isLight) {\n\n          currentRenderState.pushLight(object);\n\n          if (object.castShadow) {\n\n            currentRenderState.pushShadow(object);\n\n          }\n\n        } else if (object.isSprite) {\n\n          if (!object.frustumCulled || _frustum.intersectsSprite(object)) {\n\n            if (sortObjects) {\n\n              _vector3.setFromMatrixPosition(object.matrixWorld)\n                .applyMatrix4(_projScreenMatrix);\n\n            }\n\n            var geometry = objects.update(object);\n            var material = object.material;\n\n            if (material.visible) {\n\n              currentRenderList.push(object, geometry, material, groupOrder, _vector3.z, null);\n\n            }\n\n          }\n\n        } else if (object.isImmediateRenderObject) {\n\n          if (sortObjects) {\n\n            _vector3.setFromMatrixPosition(object.matrixWorld)\n              .applyMatrix4(_projScreenMatrix);\n\n          }\n\n          currentRenderList.push(object, null, object.material, groupOrder, _vector3.z, null);\n\n        } else if (object.isMesh || object.isLine || object.isPoints) {\n\n          if (object.isSkinnedMesh) {\n\n            // update skeleton only once in a frame\n\n            if (object.skeleton.frame !== info.render.frame) {\n\n              object.skeleton.update();\n              object.skeleton.frame = info.render.frame;\n\n            }\n\n          }\n\n          if (!object.frustumCulled || _frustum.intersectsObject(object)) {\n\n            if (sortObjects) {\n\n              _vector3.setFromMatrixPosition(object.matrixWorld)\n                .applyMatrix4(_projScreenMatrix);\n\n            }\n\n            var geometry = objects.update(object);\n            var material = object.material;\n\n            if (Array.isArray(material)) {\n\n              var groups = geometry.groups;\n\n              for (var i = 0, l = groups.length; i < l; i++) {\n\n                var group = groups[i];\n                var groupMaterial = material[group.materialIndex];\n\n                if (groupMaterial && groupMaterial.visible) {\n\n                  currentRenderList.push(object, geometry, groupMaterial, groupOrder, _vector3.z, group);\n\n                }\n\n              }\n\n            } else if (material.visible) {\n\n              currentRenderList.push(object, geometry, material, groupOrder, _vector3.z, null);\n\n            }\n\n          }\n\n        }\n\n      }\n\n      var children = object.children;\n\n      for (var i = 0, l = children.length; i < l; i++) {\n\n        projectObject(children[i], camera, groupOrder, sortObjects);\n\n      }\n\n    }\n\n    function renderObjects(renderList, scene, camera, overrideMaterial) {\n\n      for (var i = 0, l = renderList.length; i < l; i++) {\n\n        var renderItem = renderList[i];\n\n        var object = renderItem.object;\n        var geometry = renderItem.geometry;\n        var material = overrideMaterial === undefined ? renderItem.material : overrideMaterial;\n        var group = renderItem.group;\n\n        if (camera.isArrayCamera) {\n\n          _currentArrayCamera = camera;\n\n          if (xr.enabled && multiview.isAvailable()) {\n\n            renderObject(object, scene, camera, geometry, material, group);\n\n          } else {\n\n            var cameras = camera.cameras;\n\n            for (var j = 0, jl = cameras.length; j < jl; j++) {\n\n              var camera2 = cameras[j];\n\n              if (object.layers.test(camera2.layers)) {\n\n                state.viewport(_currentViewport.copy(camera2.viewport));\n\n                currentRenderState.setupLights(camera2);\n\n                renderObject(object, scene, camera2, geometry, material, group);\n\n              }\n\n            }\n\n          }\n\n        } else {\n\n          _currentArrayCamera = null;\n\n          renderObject(object, scene, camera, geometry, material, group);\n\n        }\n\n      }\n\n    }\n\n    function renderObject(object, scene, camera, geometry, material, group) {\n\n      object.onBeforeRender(_this, scene, camera, geometry, material, group);\n      currentRenderState = renderStates.get(scene, _currentArrayCamera || camera);\n\n      object.modelViewMatrix.multiplyMatrices(camera.matrixWorldInverse, object.matrixWorld);\n      object.normalMatrix.getNormalMatrix(object.modelViewMatrix);\n\n      if (object.isImmediateRenderObject) {\n\n        var program = setProgram(camera, scene, material, object);\n\n        state.setMaterial(material);\n\n        _currentGeometryProgram.geometry = null;\n        _currentGeometryProgram.program = null;\n        _currentGeometryProgram.wireframe = false;\n\n        renderObjectImmediate(object, program);\n\n      } else {\n\n        _this.renderBufferDirect(camera, scene, geometry, material, object, group);\n\n      }\n\n      object.onAfterRender(_this, scene, camera, geometry, material, group);\n      currentRenderState = renderStates.get(scene, _currentArrayCamera || camera);\n\n    }\n\n    function initMaterial(material, scene, object) {\n\n      var materialProperties = properties.get(material);\n\n      var lights = currentRenderState.state.lights;\n      var shadowsArray = currentRenderState.state.shadowsArray;\n\n      var lightsStateVersion = lights.state.version;\n\n      var parameters = programCache.getParameters(\n        material, lights.state, shadowsArray, scene, _clipping.numPlanes, _clipping.numIntersection, object);\n\n      var programCacheKey = programCache.getProgramCacheKey(material, parameters);\n\n      var program = materialProperties.program;\n      var programChange = true;\n\n      if (program === undefined) {\n\n        // new material\n        material.addEventListener('dispose', onMaterialDispose);\n\n      } else if (program.cacheKey !== programCacheKey) {\n\n        // changed glsl or parameters\n        releaseMaterialProgramReference(material);\n\n      } else if (materialProperties.lightsStateVersion !== lightsStateVersion) {\n\n        materialProperties.lightsStateVersion = lightsStateVersion;\n\n        programChange = false;\n\n      } else if (parameters.shaderID !== undefined) {\n\n        // same glsl and uniform list\n        return;\n\n      } else {\n\n        // only rebuild uniform list\n        programChange = false;\n\n      }\n\n      if (programChange) {\n\n        if (parameters.shaderID) {\n\n          var shader = ShaderLib[parameters.shaderID];\n\n          materialProperties.shader = {\n            name: material.type,\n            uniforms: cloneUniforms(shader.uniforms),\n            vertexShader: shader.vertexShader,\n            fragmentShader: shader.fragmentShader\n          };\n\n        } else {\n\n          materialProperties.shader = {\n            name: material.type,\n            uniforms: material.uniforms,\n            vertexShader: material.vertexShader,\n            fragmentShader: material.fragmentShader\n          };\n\n        }\n\n        material.onBeforeCompile(materialProperties.shader, _this);\n\n        // Computing cache key again as onBeforeCompile may have changed the shaders\n        programCacheKey = programCache.getProgramCacheKey(material, parameters);\n\n        program = programCache.acquireProgram(material, materialProperties.shader, parameters, programCacheKey);\n\n        materialProperties.program = program;\n        materialProperties.environment = material.isMeshStandardMaterial ? scene.environment : null;\n        materialProperties.outputEncoding = _this.outputEncoding;\n        material.program = program;\n\n      }\n\n      var programAttributes = program.getAttributes();\n\n      if (material.morphTargets) {\n\n        material.numSupportedMorphTargets = 0;\n\n        for (var i = 0; i < _this.maxMorphTargets; i++) {\n\n          if (programAttributes['morphTarget' + i] >= 0) {\n\n            material.numSupportedMorphTargets++;\n\n          }\n\n        }\n\n      }\n\n      if (material.morphNormals) {\n\n        material.numSupportedMorphNormals = 0;\n\n        for (var i = 0; i < _this.maxMorphNormals; i++) {\n\n          if (programAttributes['morphNormal' + i] >= 0) {\n\n            material.numSupportedMorphNormals++;\n\n          }\n\n        }\n\n      }\n\n      var uniforms = materialProperties.shader.uniforms;\n\n      if (!material.isShaderMaterial &&\n        !material.isRawShaderMaterial ||\n        material.clipping === true) {\n\n        materialProperties.numClippingPlanes = _clipping.numPlanes;\n        materialProperties.numIntersection = _clipping.numIntersection;\n        uniforms.clippingPlanes = _clipping.uniform;\n\n      }\n\n      materialProperties.fog = scene.fog;\n\n      // store the light setup it was created for\n\n      materialProperties.needsLights = materialNeedsLights(material);\n      materialProperties.lightsStateVersion = lightsStateVersion;\n\n      if (materialProperties.needsLights) {\n\n        // wire up the material to this renderer's lighting state\n\n        uniforms.ambientLightColor.value = lights.state.ambient;\n        uniforms.lightProbe.value = lights.state.probe;\n        uniforms.directionalLights.value = lights.state.directional;\n        uniforms.spotLights.value = lights.state.spot;\n        uniforms.rectAreaLights.value = lights.state.rectArea;\n        uniforms.pointLights.value = lights.state.point;\n        uniforms.hemisphereLights.value = lights.state.hemi;\n\n        uniforms.directionalShadowMap.value = lights.state.directionalShadowMap;\n        uniforms.directionalShadowMatrix.value = lights.state.directionalShadowMatrix;\n        uniforms.spotShadowMap.value = lights.state.spotShadowMap;\n        uniforms.spotShadowMatrix.value = lights.state.spotShadowMatrix;\n        uniforms.pointShadowMap.value = lights.state.pointShadowMap;\n        uniforms.pointShadowMatrix.value = lights.state.pointShadowMatrix;\n        // TODO (abelnation): add area lights shadow info to uniforms\n\n      }\n\n      var progUniforms = materialProperties.program.getUniforms(),\n        uniformsList =\n        WebGLUniforms.seqWithValue(progUniforms.seq, uniforms);\n\n      materialProperties.uniformsList = uniformsList;\n\n    }\n\n    function setProgram(camera, scene, material, object) {\n\n      textures.resetTextureUnits();\n\n      var fog = scene.fog;\n      var environment = material.isMeshStandardMaterial ? scene.environment : null;\n\n      var materialProperties = properties.get(material);\n      var lights = currentRenderState.state.lights;\n\n      if (_clippingEnabled) {\n\n        if (_localClippingEnabled || camera !== _currentCamera) {\n\n          var useCache =\n            camera === _currentCamera &&\n            material.id === _currentMaterialId;\n\n          // we might want to call this function with some ClippingGroup\n          // object instead of the material, once it becomes feasible\n          // (#8465, #8379)\n          _clipping.setState(\n            material.clippingPlanes, material.clipIntersection, material.clipShadows,\n            camera, materialProperties, useCache);\n\n        }\n\n      }\n\n      if (material.version === materialProperties.__version) {\n\n        if (materialProperties.program === undefined) {\n\n          material.needsUpdate = true;\n\n        } else if (material.fog && materialProperties.fog !== fog) {\n\n          material.needsUpdate = true;\n\n        } else if (materialProperties.environment !== environment) {\n\n          material.needsUpdate = true;\n\n        } else if (materialProperties.needsLights && (materialProperties.lightsStateVersion !== lights.state.version)) {\n\n          material.needsUpdate = true;\n\n        } else if (materialProperties.numClippingPlanes !== undefined &&\n          (materialProperties.numClippingPlanes !== _clipping.numPlanes ||\n            materialProperties.numIntersection !== _clipping.numIntersection)) {\n\n          material.needsUpdate = true;\n\n        } else if (materialProperties.outputEncoding !== _this.outputEncoding) {\n\n          material.needsUpdate = true;\n\n        }\n\n      }\n\n      if (material.version !== materialProperties.__version) {\n\n        initMaterial(material, scene, object);\n        materialProperties.__version = material.version;\n\n      }\n\n      var refreshProgram = false;\n      var refreshMaterial = false;\n      var refreshLights = false;\n\n      var program = materialProperties.program,\n        p_uniforms = program.getUniforms(),\n        m_uniforms = materialProperties.shader.uniforms;\n\n      if (state.useProgram(program.program)) {\n\n        refreshProgram = true;\n        refreshMaterial = true;\n        refreshLights = true;\n\n      }\n\n      if (material.id !== _currentMaterialId) {\n\n        _currentMaterialId = material.id;\n\n        refreshMaterial = true;\n\n      }\n\n      if (refreshProgram || _currentCamera !== camera) {\n\n        if (program.numMultiviewViews > 0) {\n\n          multiview.updateCameraProjectionMatricesUniform(camera, p_uniforms);\n\n        } else {\n\n          p_uniforms.setValue(_gl, 'projectionMatrix', camera.projectionMatrix);\n\n        }\n\n        if (capabilities.logarithmicDepthBuffer) {\n\n          p_uniforms.setValue(_gl, 'logDepthBufFC',\n            2.0 / (Math.log(camera.far + 1.0) / Math.LN2));\n\n        }\n\n        if (_currentCamera !== camera) {\n\n          _currentCamera = camera;\n\n          // lighting uniforms depend on the camera so enforce an update\n          // now, in case this material supports lights - or later, when\n          // the next material that does gets activated:\n\n          refreshMaterial = true; // set to true on material change\n          refreshLights = true; // remains set until update done\n\n        }\n\n        // load material specific uniforms\n        // (shader material also gets them for the sake of genericity)\n\n        if (material.isShaderMaterial ||\n          material.isMeshPhongMaterial ||\n          material.isMeshToonMaterial ||\n          material.isMeshStandardMaterial ||\n          material.envMap) {\n\n          var uCamPos = p_uniforms.map.cameraPosition;\n\n          if (uCamPos !== undefined) {\n\n            uCamPos.setValue(_gl,\n              _vector3.setFromMatrixPosition(camera.matrixWorld));\n\n          }\n\n        }\n\n        if (material.isMeshPhongMaterial ||\n          material.isMeshToonMaterial ||\n          material.isMeshLambertMaterial ||\n          material.isMeshBasicMaterial ||\n          material.isMeshStandardMaterial ||\n          material.isShaderMaterial) {\n\n          p_uniforms.setValue(_gl, 'isOrthographic', camera.isOrthographicCamera === true);\n\n        }\n\n        if (material.isMeshPhongMaterial ||\n          material.isMeshToonMaterial ||\n          material.isMeshLambertMaterial ||\n          material.isMeshBasicMaterial ||\n          material.isMeshStandardMaterial ||\n          material.isShaderMaterial ||\n          material.skinning) {\n\n          if (program.numMultiviewViews > 0) {\n\n            multiview.updateCameraViewMatricesUniform(camera, p_uniforms);\n\n          } else {\n\n            p_uniforms.setValue(_gl, 'viewMatrix', camera.matrixWorldInverse);\n\n          }\n\n        }\n\n      }\n\n      // skinning uniforms must be set even if material didn't change\n      // auto-setting of texture unit for bone texture must go before other textures\n      // not sure why, but otherwise weird things happen\n\n      if (material.skinning) {\n\n        p_uniforms.setOptional(_gl, object, 'bindMatrix');\n        p_uniforms.setOptional(_gl, object, 'bindMatrixInverse');\n\n        var skeleton = object.skeleton;\n\n        if (skeleton) {\n\n          var bones = skeleton.bones;\n\n          if (capabilities.floatVertexTextures) {\n\n            if (skeleton.boneTexture === undefined) {\n\n              // layout (1 matrix = 4 pixels)\n              //      RGBA RGBA RGBA RGBA (=> column1, column2, column3, column4)\n              //  with  8x8  pixel texture max   16 bones * 4 pixels =  (8 * 8)\n              //       16x16 pixel texture max   64 bones * 4 pixels = (16 * 16)\n              //       32x32 pixel texture max  256 bones * 4 pixels = (32 * 32)\n              //       64x64 pixel texture max 1024 bones * 4 pixels = (64 * 64)\n\n\n              var size = Math.sqrt(bones.length * 4); // 4 pixels needed for 1 matrix\n              size = _Math.ceilPowerOfTwo(size);\n              size = Math.max(size, 4);\n\n              var boneMatrices = new Float32Array(size * size * 4); // 4 floats per RGBA pixel\n              boneMatrices.set(skeleton.boneMatrices); // copy current values\n\n              var boneTexture = new DataTexture(boneMatrices, size, size, RGBAFormat, FloatType);\n\n              skeleton.boneMatrices = boneMatrices;\n              skeleton.boneTexture = boneTexture;\n              skeleton.boneTextureSize = size;\n\n            }\n\n            p_uniforms.setValue(_gl, 'boneTexture', skeleton.boneTexture, textures);\n            p_uniforms.setValue(_gl, 'boneTextureSize', skeleton.boneTextureSize);\n\n          } else {\n\n            p_uniforms.setOptional(_gl, skeleton, 'boneMatrices');\n\n          }\n\n        }\n\n      }\n\n      if (refreshMaterial || materialProperties.receiveShadow !== object.receiveShadow) {\n\n        materialProperties.receiveShadow = object.receiveShadow;\n        p_uniforms.setValue(_gl, 'receiveShadow', object.receiveShadow);\n\n      }\n\n      if (refreshMaterial) {\n\n        p_uniforms.setValue(_gl, 'toneMappingExposure', _this.toneMappingExposure);\n        p_uniforms.setValue(_gl, 'toneMappingWhitePoint', _this.toneMappingWhitePoint);\n\n        if (materialProperties.needsLights) {\n\n          // the current material requires lighting info\n\n          // note: all lighting uniforms are always set correctly\n          // they simply reference the renderer's state for their\n          // values\n          //\n          // use the current material's .needsUpdate flags to set\n          // the GL state when required\n\n          markUniformsLightsNeedsUpdate(m_uniforms, refreshLights);\n\n        }\n\n        // refresh uniforms common to several materials\n\n        if (fog && material.fog) {\n\n          refreshUniformsFog(m_uniforms, fog);\n\n        }\n\n        if (material.isMeshBasicMaterial) {\n\n          refreshUniformsCommon(m_uniforms, material);\n\n        } else if (material.isMeshLambertMaterial) {\n\n          refreshUniformsCommon(m_uniforms, material);\n          refreshUniformsLambert(m_uniforms, material);\n\n        } else if (material.isMeshToonMaterial) {\n\n          refreshUniformsCommon(m_uniforms, material);\n          refreshUniformsToon(m_uniforms, material);\n\n        } else if (material.isMeshPhongMaterial) {\n\n          refreshUniformsCommon(m_uniforms, material);\n          refreshUniformsPhong(m_uniforms, material);\n\n        } else if (material.isMeshStandardMaterial) {\n\n          refreshUniformsCommon(m_uniforms, material, environment);\n\n          if (material.isMeshPhysicalMaterial) {\n\n            refreshUniformsPhysical(m_uniforms, material, environment);\n\n          } else {\n\n            refreshUniformsStandard(m_uniforms, material, environment);\n\n          }\n\n        } else if (material.isMeshMatcapMaterial) {\n\n          refreshUniformsCommon(m_uniforms, material);\n          refreshUniformsMatcap(m_uniforms, material);\n\n        } else if (material.isMeshDepthMaterial) {\n\n          refreshUniformsCommon(m_uniforms, material);\n          refreshUniformsDepth(m_uniforms, material);\n\n        } else if (material.isMeshDistanceMaterial) {\n\n          refreshUniformsCommon(m_uniforms, material);\n          refreshUniformsDistance(m_uniforms, material);\n\n        } else if (material.isMeshNormalMaterial) {\n\n          refreshUniformsCommon(m_uniforms, material);\n          refreshUniformsNormal(m_uniforms, material);\n\n        } else if (material.isLineBasicMaterial) {\n\n          refreshUniformsLine(m_uniforms, material);\n\n          if (material.isLineDashedMaterial) {\n\n            refreshUniformsDash(m_uniforms, material);\n\n          }\n\n        } else if (material.isPointsMaterial) {\n\n          refreshUniformsPoints(m_uniforms, material);\n\n        } else if (material.isSpriteMaterial) {\n\n          refreshUniformsSprites(m_uniforms, material);\n\n        } else if (material.isShadowMaterial) {\n\n          m_uniforms.color.value.copy(material.color);\n          m_uniforms.opacity.value = material.opacity;\n\n        }\n\n        // RectAreaLight Texture\n        // TODO (mrdoob): Find a nicer implementation\n\n        if (m_uniforms.ltc_1 !== undefined) {\n          m_uniforms.ltc_1.value = UniformsLib.LTC_1;\n        }\n        if (m_uniforms.ltc_2 !== undefined) {\n          m_uniforms.ltc_2.value = UniformsLib.LTC_2;\n        }\n\n        WebGLUniforms.upload(_gl, materialProperties.uniformsList, m_uniforms, textures);\n\n        if (material.isShaderMaterial) {\n\n          material.uniformsNeedUpdate = false; // #15581\n\n        }\n\n      }\n\n      if (material.isShaderMaterial && material.uniformsNeedUpdate === true) {\n\n        WebGLUniforms.upload(_gl, materialProperties.uniformsList, m_uniforms, textures);\n        material.uniformsNeedUpdate = false;\n\n      }\n\n      if (material.isSpriteMaterial) {\n\n        p_uniforms.setValue(_gl, 'center', object.center);\n\n      }\n\n      // common matrices\n\n      if (program.numMultiviewViews > 0) {\n\n        multiview.updateObjectMatricesUniforms(object, camera, p_uniforms);\n\n      } else {\n\n        p_uniforms.setValue(_gl, 'modelViewMatrix', object.modelViewMatrix);\n        p_uniforms.setValue(_gl, 'normalMatrix', object.normalMatrix);\n\n      }\n\n      p_uniforms.setValue(_gl, 'modelMatrix', object.matrixWorld);\n\n      return program;\n\n    }\n\n    // Uniforms (refresh uniforms objects)\n\n    function refreshUniformsCommon(uniforms, material, environment) {\n\n      uniforms.opacity.value = material.opacity;\n\n      if (material.color) {\n\n        uniforms.diffuse.value.copy(material.color);\n\n      }\n\n      if (material.emissive) {\n\n        uniforms.emissive.value.copy(material.emissive).multiplyScalar(material.emissiveIntensity);\n\n      }\n\n      if (material.map) {\n\n        uniforms.map.value = material.map;\n\n      }\n\n      if (material.alphaMap) {\n\n        uniforms.alphaMap.value = material.alphaMap;\n\n      }\n\n      if (material.specularMap) {\n\n        uniforms.specularMap.value = material.specularMap;\n\n      }\n\n      var envMap = material.envMap || environment;\n\n      if (envMap) {\n\n        uniforms.envMap.value = envMap;\n\n        // don't flip CubeTexture envMaps, flip everything else:\n        //  WebGLRenderTargetCube will be flipped for backwards compatibility\n        //  WebGLRenderTargetCube.texture will be flipped because it's a Texture and NOT a CubeTexture\n        // this check must be handled differently, or removed entirely, if WebGLRenderTargetCube uses a CubeTexture in the future\n        uniforms.flipEnvMap.value = envMap.isCubeTexture ? -1 : 1;\n\n        uniforms.reflectivity.value = material.reflectivity;\n        uniforms.refractionRatio.value = material.refractionRatio;\n\n        uniforms.maxMipLevel.value = properties.get(envMap).__maxMipLevel;\n\n      }\n\n      if (material.lightMap) {\n\n        uniforms.lightMap.value = material.lightMap;\n        uniforms.lightMapIntensity.value = material.lightMapIntensity;\n\n      }\n\n      if (material.aoMap) {\n\n        uniforms.aoMap.value = material.aoMap;\n        uniforms.aoMapIntensity.value = material.aoMapIntensity;\n\n      }\n\n      // uv repeat and offset setting priorities\n      // 1. color map\n      // 2. specular map\n      // 3. normal map\n      // 4. bump map\n      // 5. alpha map\n      // 6. emissive map\n\n      var uvScaleMap;\n\n      if (material.map) {\n\n        uvScaleMap = material.map;\n\n      } else if (material.specularMap) {\n\n        uvScaleMap = material.specularMap;\n\n      } else if (material.displacementMap) {\n\n        uvScaleMap = material.displacementMap;\n\n      } else if (material.normalMap) {\n\n        uvScaleMap = material.normalMap;\n\n      } else if (material.bumpMap) {\n\n        uvScaleMap = material.bumpMap;\n\n      } else if (material.roughnessMap) {\n\n        uvScaleMap = material.roughnessMap;\n\n      } else if (material.metalnessMap) {\n\n        uvScaleMap = material.metalnessMap;\n\n      } else if (material.alphaMap) {\n\n        uvScaleMap = material.alphaMap;\n\n      } else if (material.emissiveMap) {\n\n        uvScaleMap = material.emissiveMap;\n\n      }\n\n      if (uvScaleMap !== undefined) {\n\n        // backwards compatibility\n        if (uvScaleMap.isWebGLRenderTarget) {\n\n          uvScaleMap = uvScaleMap.texture;\n\n        }\n\n        if (uvScaleMap.matrixAutoUpdate === true) {\n\n          uvScaleMap.updateMatrix();\n\n        }\n\n        uniforms.uvTransform.value.copy(uvScaleMap.matrix);\n\n      }\n\n      // uv repeat and offset setting priorities for uv2\n      // 1. ao map\n      // 2. light map\n\n      var uv2ScaleMap;\n\n      if (material.aoMap) {\n\n        uv2ScaleMap = material.aoMap;\n\n      } else if (material.lightMap) {\n\n        uv2ScaleMap = material.lightMap;\n\n      }\n\n      if (uv2ScaleMap !== undefined) {\n\n        // backwards compatibility\n        if (uv2ScaleMap.isWebGLRenderTarget) {\n\n          uv2ScaleMap = uv2ScaleMap.texture;\n\n        }\n\n        if (uv2ScaleMap.matrixAutoUpdate === true) {\n\n          uv2ScaleMap.updateMatrix();\n\n        }\n\n        uniforms.uv2Transform.value.copy(uv2ScaleMap.matrix);\n\n      }\n\n    }\n\n    function refreshUniformsLine(uniforms, material) {\n\n      uniforms.diffuse.value.copy(material.color);\n      uniforms.opacity.value = material.opacity;\n\n    }\n\n    function refreshUniformsDash(uniforms, material) {\n\n      uniforms.dashSize.value = material.dashSize;\n      uniforms.totalSize.value = material.dashSize + material.gapSize;\n      uniforms.scale.value = material.scale;\n\n    }\n\n    function refreshUniformsPoints(uniforms, material) {\n\n      uniforms.diffuse.value.copy(material.color);\n      uniforms.opacity.value = material.opacity;\n      uniforms.size.value = material.size * _pixelRatio;\n      uniforms.scale.value = _height * 0.5;\n\n      if (material.map) {\n\n        uniforms.map.value = material.map;\n\n      }\n\n      if (material.alphaMap) {\n\n        uniforms.alphaMap.value = material.alphaMap;\n\n      }\n\n      // uv repeat and offset setting priorities\n      // 1. color map\n      // 2. alpha map\n\n      var uvScaleMap;\n\n      if (material.map) {\n\n        uvScaleMap = material.map;\n\n      } else if (material.alphaMap) {\n\n        uvScaleMap = material.alphaMap;\n\n      }\n\n      if (uvScaleMap !== undefined) {\n\n        if (uvScaleMap.matrixAutoUpdate === true) {\n\n          uvScaleMap.updateMatrix();\n\n        }\n\n        uniforms.uvTransform.value.copy(uvScaleMap.matrix);\n\n      }\n\n    }\n\n    function refreshUniformsSprites(uniforms, material) {\n\n      uniforms.diffuse.value.copy(material.color);\n      uniforms.opacity.value = material.opacity;\n      uniforms.rotation.value = material.rotation;\n\n      if (material.map) {\n\n        uniforms.map.value = material.map;\n\n      }\n\n      if (material.alphaMap) {\n\n        uniforms.alphaMap.value = material.alphaMap;\n\n      }\n\n      // uv repeat and offset setting priorities\n      // 1. color map\n      // 2. alpha map\n\n      var uvScaleMap;\n\n      if (material.map) {\n\n        uvScaleMap = material.map;\n\n      } else if (material.alphaMap) {\n\n        uvScaleMap = material.alphaMap;\n\n      }\n\n      if (uvScaleMap !== undefined) {\n\n        if (uvScaleMap.matrixAutoUpdate === true) {\n\n          uvScaleMap.updateMatrix();\n\n        }\n\n        uniforms.uvTransform.value.copy(uvScaleMap.matrix);\n\n      }\n\n    }\n\n    function refreshUniformsFog(uniforms, fog) {\n\n      uniforms.fogColor.value.copy(fog.color);\n\n      if (fog.isFog) {\n\n        uniforms.fogNear.value = fog.near;\n        uniforms.fogFar.value = fog.far;\n\n      } else if (fog.isFogExp2) {\n\n        uniforms.fogDensity.value = fog.density;\n\n      }\n\n    }\n\n    function refreshUniformsLambert(uniforms, material) {\n\n      if (material.emissiveMap) {\n\n        uniforms.emissiveMap.value = material.emissiveMap;\n\n      }\n\n    }\n\n    function refreshUniformsPhong(uniforms, material) {\n\n      uniforms.specular.value.copy(material.specular);\n      uniforms.shininess.value = Math.max(material.shininess, 1e-4); // to prevent pow( 0.0, 0.0 )\n\n      if (material.emissiveMap) {\n\n        uniforms.emissiveMap.value = material.emissiveMap;\n\n      }\n\n      if (material.bumpMap) {\n\n        uniforms.bumpMap.value = material.bumpMap;\n        uniforms.bumpScale.value = material.bumpScale;\n        if (material.side === BackSide) {\n          uniforms.bumpScale.value *= -1;\n        }\n\n      }\n\n      if (material.normalMap) {\n\n        uniforms.normalMap.value = material.normalMap;\n        uniforms.normalScale.value.copy(material.normalScale);\n        if (material.side === BackSide) {\n          uniforms.normalScale.value.negate();\n        }\n\n      }\n\n      if (material.displacementMap) {\n\n        uniforms.displacementMap.value = material.displacementMap;\n        uniforms.displacementScale.value = material.displacementScale;\n        uniforms.displacementBias.value = material.displacementBias;\n\n      }\n\n    }\n\n    function refreshUniformsToon(uniforms, material) {\n\n      uniforms.specular.value.copy(material.specular);\n      uniforms.shininess.value = Math.max(material.shininess, 1e-4); // to prevent pow( 0.0, 0.0 )\n\n      if (material.gradientMap) {\n\n        uniforms.gradientMap.value = material.gradientMap;\n\n      }\n\n      if (material.emissiveMap) {\n\n        uniforms.emissiveMap.value = material.emissiveMap;\n\n      }\n\n      if (material.bumpMap) {\n\n        uniforms.bumpMap.value = material.bumpMap;\n        uniforms.bumpScale.value = material.bumpScale;\n        if (material.side === BackSide) {\n          uniforms.bumpScale.value *= -1;\n        }\n\n      }\n\n      if (material.normalMap) {\n\n        uniforms.normalMap.value = material.normalMap;\n        uniforms.normalScale.value.copy(material.normalScale);\n        if (material.side === BackSide) {\n          uniforms.normalScale.value.negate();\n        }\n\n      }\n\n      if (material.displacementMap) {\n\n        uniforms.displacementMap.value = material.displacementMap;\n        uniforms.displacementScale.value = material.displacementScale;\n        uniforms.displacementBias.value = material.displacementBias;\n\n      }\n\n    }\n\n    function refreshUniformsStandard(uniforms, material, environment) {\n\n      uniforms.roughness.value = material.roughness;\n      uniforms.metalness.value = material.metalness;\n\n      if (material.roughnessMap) {\n\n        uniforms.roughnessMap.value = material.roughnessMap;\n\n      }\n\n      if (material.metalnessMap) {\n\n        uniforms.metalnessMap.value = material.metalnessMap;\n\n      }\n\n      if (material.emissiveMap) {\n\n        uniforms.emissiveMap.value = material.emissiveMap;\n\n      }\n\n      if (material.bumpMap) {\n\n        uniforms.bumpMap.value = material.bumpMap;\n        uniforms.bumpScale.value = material.bumpScale;\n        if (material.side === BackSide) {\n          uniforms.bumpScale.value *= -1;\n        }\n\n      }\n\n      if (material.normalMap) {\n\n        uniforms.normalMap.value = material.normalMap;\n        uniforms.normalScale.value.copy(material.normalScale);\n        if (material.side === BackSide) {\n          uniforms.normalScale.value.negate();\n        }\n\n      }\n\n      if (material.displacementMap) {\n\n        uniforms.displacementMap.value = material.displacementMap;\n        uniforms.displacementScale.value = material.displacementScale;\n        uniforms.displacementBias.value = material.displacementBias;\n\n      }\n\n      if (material.envMap || environment) {\n\n        //uniforms.envMap.value = material.envMap; // part of uniforms common\n        uniforms.envMapIntensity.value = material.envMapIntensity;\n\n      }\n\n    }\n\n    function refreshUniformsPhysical(uniforms, material, environment) {\n\n      refreshUniformsStandard(uniforms, material, environment);\n\n      uniforms.reflectivity.value = material.reflectivity; // also part of uniforms common\n\n      uniforms.clearcoat.value = material.clearcoat;\n      uniforms.clearcoatRoughness.value = material.clearcoatRoughness;\n      if (material.sheen) {\n        uniforms.sheen.value.copy(material.sheen);\n      }\n\n      if (material.clearcoatNormalMap) {\n\n        uniforms.clearcoatNormalScale.value.copy(material.clearcoatNormalScale);\n        uniforms.clearcoatNormalMap.value = material.clearcoatNormalMap;\n\n        if (material.side === BackSide) {\n\n          uniforms.clearcoatNormalScale.value.negate();\n\n        }\n\n      }\n\n      uniforms.transparency.value = material.transparency;\n\n    }\n\n    function refreshUniformsMatcap(uniforms, material) {\n\n      if (material.matcap) {\n\n        uniforms.matcap.value = material.matcap;\n\n      }\n\n      if (material.bumpMap) {\n\n        uniforms.bumpMap.value = material.bumpMap;\n        uniforms.bumpScale.value = material.bumpScale;\n        if (material.side === BackSide) {\n          uniforms.bumpScale.value *= -1;\n        }\n\n      }\n\n      if (material.normalMap) {\n\n        uniforms.normalMap.value = material.normalMap;\n        uniforms.normalScale.value.copy(material.normalScale);\n        if (material.side === BackSide) {\n          uniforms.normalScale.value.negate();\n        }\n\n      }\n\n      if (material.displacementMap) {\n\n        uniforms.displacementMap.value = material.displacementMap;\n        uniforms.displacementScale.value = material.displacementScale;\n        uniforms.displacementBias.value = material.displacementBias;\n\n      }\n\n    }\n\n    function refreshUniformsDepth(uniforms, material) {\n\n      if (material.displacementMap) {\n\n        uniforms.displacementMap.value = material.displacementMap;\n        uniforms.displacementScale.value = material.displacementScale;\n        uniforms.displacementBias.value = material.displacementBias;\n\n      }\n\n    }\n\n    function refreshUniformsDistance(uniforms, material) {\n\n      if (material.displacementMap) {\n\n        uniforms.displacementMap.value = material.displacementMap;\n        uniforms.displacementScale.value = material.displacementScale;\n        uniforms.displacementBias.value = material.displacementBias;\n\n      }\n\n      uniforms.referencePosition.value.copy(material.referencePosition);\n      uniforms.nearDistance.value = material.nearDistance;\n      uniforms.farDistance.value = material.farDistance;\n\n    }\n\n    function refreshUniformsNormal(uniforms, material) {\n\n      if (material.bumpMap) {\n\n        uniforms.bumpMap.value = material.bumpMap;\n        uniforms.bumpScale.value = material.bumpScale;\n        if (material.side === BackSide) {\n          uniforms.bumpScale.value *= -1;\n        }\n\n      }\n\n      if (material.normalMap) {\n\n        uniforms.normalMap.value = material.normalMap;\n        uniforms.normalScale.value.copy(material.normalScale);\n        if (material.side === BackSide) {\n          uniforms.normalScale.value.negate();\n        }\n\n      }\n\n      if (material.displacementMap) {\n\n        uniforms.displacementMap.value = material.displacementMap;\n        uniforms.displacementScale.value = material.displacementScale;\n        uniforms.displacementBias.value = material.displacementBias;\n\n      }\n\n    }\n\n    // If uniforms are marked as clean, they don't need to be loaded to the GPU.\n\n    function markUniformsLightsNeedsUpdate(uniforms, value) {\n\n      uniforms.ambientLightColor.needsUpdate = value;\n      uniforms.lightProbe.needsUpdate = value;\n\n      uniforms.directionalLights.needsUpdate = value;\n      uniforms.pointLights.needsUpdate = value;\n      uniforms.spotLights.needsUpdate = value;\n      uniforms.rectAreaLights.needsUpdate = value;\n      uniforms.hemisphereLights.needsUpdate = value;\n\n    }\n\n    function materialNeedsLights(material) {\n\n      return material.isMeshLambertMaterial || material.isMeshToonMaterial || material.isMeshPhongMaterial ||\n        material.isMeshStandardMaterial || material.isShadowMaterial ||\n        (material.isShaderMaterial && material.lights === true);\n\n    }\n\n    //\n    this.setFramebuffer = function(value) {\n\n      if (_framebuffer !== value && _currentRenderTarget === null) {\n        _gl.bindFramebuffer(36160, value);\n      }\n\n      _framebuffer = value;\n\n    };\n\n    this.getActiveCubeFace = function() {\n\n      return _currentActiveCubeFace;\n\n    };\n\n    this.getActiveMipmapLevel = function() {\n\n      return _currentActiveMipmapLevel;\n\n    };\n\n    this.getRenderTarget = function() {\n\n      return _currentRenderTarget;\n\n    };\n\n    this.setRenderTarget = function(renderTarget, activeCubeFace, activeMipmapLevel) {\n\n      _currentRenderTarget = renderTarget;\n      _currentActiveCubeFace = activeCubeFace;\n      _currentActiveMipmapLevel = activeMipmapLevel;\n\n      if (renderTarget && properties.get(renderTarget).__webglFramebuffer === undefined) {\n\n        textures.setupRenderTarget(renderTarget);\n\n      }\n\n      var framebuffer = _framebuffer;\n      var isCube = false;\n\n      if (renderTarget) {\n\n        var __webglFramebuffer = properties.get(renderTarget).__webglFramebuffer;\n\n        if (renderTarget.isWebGLRenderTargetCube) {\n\n          framebuffer = __webglFramebuffer[activeCubeFace || 0];\n          isCube = true;\n\n        } else if (renderTarget.isWebGLMultisampleRenderTarget) {\n\n          framebuffer = properties.get(renderTarget).__webglMultisampledFramebuffer;\n\n        } else {\n\n          framebuffer = __webglFramebuffer;\n\n        }\n\n        _currentViewport.copy(renderTarget.viewport);\n        _currentScissor.copy(renderTarget.scissor);\n        _currentScissorTest = renderTarget.scissorTest;\n\n      } else {\n\n        _currentViewport.copy(_viewport).multiplyScalar(_pixelRatio).floor();\n        _currentScissor.copy(_scissor).multiplyScalar(_pixelRatio).floor();\n        _currentScissorTest = _scissorTest;\n\n      }\n\n      if (_currentFramebuffer !== framebuffer) {\n\n        _gl.bindFramebuffer(36160, framebuffer);\n        _currentFramebuffer = framebuffer;\n\n      }\n\n      state.viewport(_currentViewport);\n      state.scissor(_currentScissor);\n      state.setScissorTest(_currentScissorTest);\n\n      if (isCube) {\n\n        var textureProperties = properties.get(renderTarget.texture);\n        _gl.framebufferTexture2D(36160, 36064, 34069 + (activeCubeFace || 0), textureProperties.__webglTexture, activeMipmapLevel || 0);\n\n      }\n\n    };\n\n    this.readRenderTargetPixels = function(renderTarget, x, y, width, height, buffer, activeCubeFaceIndex) {\n\n      if (!(renderTarget && renderTarget.isWebGLRenderTarget)) {\n\n        console.error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.');\n        return;\n\n      }\n\n      var framebuffer = properties.get(renderTarget).__webglFramebuffer;\n\n      if (renderTarget.isWebGLRenderTargetCube && activeCubeFaceIndex !== undefined) {\n\n        framebuffer = framebuffer[activeCubeFaceIndex];\n\n      }\n\n      if (framebuffer) {\n\n        var restore = false;\n\n        if (framebuffer !== _currentFramebuffer) {\n\n          _gl.bindFramebuffer(36160, framebuffer);\n\n          restore = true;\n\n        }\n\n        try {\n\n          var texture = renderTarget.texture;\n          var textureFormat = texture.format;\n          var textureType = texture.type;\n\n          if (textureFormat !== RGBAFormat && utils.convert(textureFormat) !== _gl.getParameter(35739)) {\n\n            console.error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.');\n            return;\n\n          }\n\n          if (textureType !== UnsignedByteType && utils.convert(textureType) !== _gl.getParameter(35738) && // IE11, Edge and Chrome Mac < 52 (#9513)\n            !(textureType === FloatType && (capabilities.isWebGL2 || extensions.get('OES_texture_float') || extensions.get('WEBGL_color_buffer_float'))) && // Chrome Mac >= 52 and Firefox\n            !(textureType === HalfFloatType && (capabilities.isWebGL2 ? extensions.get('EXT_color_buffer_float') : extensions.get('EXT_color_buffer_half_float')))) {\n\n            console.error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.');\n            return;\n\n          }\n\n          if (_gl.checkFramebufferStatus(36160) === 36053) {\n\n            // the following if statement ensures valid read requests (no out-of-bounds pixels, see #8604)\n\n            if ((x >= 0 && x <= (renderTarget.width - width)) && (y >= 0 && y <= (renderTarget.height - height))) {\n\n              _gl.readPixels(x, y, width, height, utils.convert(textureFormat), utils.convert(textureType), buffer);\n\n            }\n\n          } else {\n\n            console.error('THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.');\n\n          }\n\n        } finally {\n\n          if (restore) {\n\n            _gl.bindFramebuffer(36160, _currentFramebuffer);\n\n          }\n\n        }\n\n      }\n\n    };\n\n    this.copyFramebufferToTexture = function(position, texture, level) {\n\n      if (level === undefined) {\n        level = 0;\n      }\n\n      var levelScale = Math.pow(2, -level);\n      var width = Math.floor(texture.image.width * levelScale);\n      var height = Math.floor(texture.image.height * levelScale);\n      var glFormat = utils.convert(texture.format);\n\n      textures.setTexture2D(texture, 0);\n\n      _gl.copyTexImage2D(3553, level, glFormat, position.x, position.y, width, height, 0);\n\n      state.unbindTexture();\n\n    };\n\n    this.copyTextureToTexture = function(position, srcTexture, dstTexture, level) {\n\n      var width = srcTexture.image.width;\n      var height = srcTexture.image.height;\n      var glFormat = utils.convert(dstTexture.format);\n      var glType = utils.convert(dstTexture.type);\n\n      textures.setTexture2D(dstTexture, 0);\n\n      if (srcTexture.isDataTexture) {\n\n        _gl.texSubImage2D(3553, level || 0, position.x, position.y, width, height, glFormat, glType, srcTexture.image.data);\n\n      } else {\n\n        _gl.texSubImage2D(3553, level || 0, position.x, position.y, glFormat, glType, srcTexture.image);\n\n      }\n\n      state.unbindTexture();\n\n    };\n\n    this.initTexture = function(texture) {\n\n      textures.setTexture2D(texture, 0);\n\n      state.unbindTexture();\n\n    };\n\n    if (typeof __THREE_DEVTOOLS__ !== 'undefined') {\n\n      __THREE_DEVTOOLS__.dispatchEvent(new CustomEvent('observe', {\n        detail: this\n      })); // eslint-disable-line no-undef\n\n    }\n\n  }\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n  function FogExp2(color, density) {\n\n    this.name = '';\n\n    this.color = new Color(color);\n    this.density = (density !== undefined) ? density : 0.00025;\n\n  }\n\n  Object.assign(FogExp2.prototype, {\n\n    isFogExp2: true,\n\n    clone: function() {\n\n      return new FogExp2(this.color, this.density);\n\n    },\n\n    toJSON: function( /* meta */ ) {\n\n      return {\n        type: 'FogExp2',\n        color: this.color.getHex(),\n        density: this.density\n      };\n\n    }\n\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n  function Fog(color, near, far) {\n\n    this.name = '';\n\n    this.color = new Color(color);\n\n    this.near = (near !== undefined) ? near : 1;\n    this.far = (far !== undefined) ? far : 1000;\n\n  }\n\n  Object.assign(Fog.prototype, {\n\n    isFog: true,\n\n    clone: function() {\n\n      return new Fog(this.color, this.near, this.far);\n\n    },\n\n    toJSON: function( /* meta */ ) {\n\n      return {\n        type: 'Fog',\n        color: this.color.getHex(),\n        near: this.near,\n        far: this.far\n      };\n\n    }\n\n  });\n\n  /**\n   * @author benaadams / https://twitter.com/ben_a_adams\n   */\n\n  function InterleavedBuffer(array, stride) {\n\n    this.array = array;\n    this.stride = stride;\n    this.count = array !== undefined ? array.length / stride : 0;\n\n    this.usage = StaticDrawUsage;\n    this.updateRange = {\n      offset: 0,\n      count: -1\n    };\n\n    this.version = 0;\n\n  }\n\n  Object.defineProperty(InterleavedBuffer.prototype, 'needsUpdate', {\n\n    set: function(value) {\n\n      if (value === true) {\n        this.version++;\n      }\n\n    }\n\n  });\n\n  Object.assign(InterleavedBuffer.prototype, {\n\n    isInterleavedBuffer: true,\n\n    onUploadCallback: function() {},\n\n    setUsage: function(value) {\n\n      this.usage = value;\n\n      return this;\n\n    },\n\n    copy: function(source) {\n\n      this.array = new source.array.constructor(source.array);\n      this.count = source.count;\n      this.stride = source.stride;\n      this.usage = source.usage;\n\n      return this;\n\n    },\n\n    copyAt: function(index1, attribute, index2) {\n\n      index1 *= this.stride;\n      index2 *= attribute.stride;\n\n      for (var i = 0, l = this.stride; i < l; i++) {\n\n        this.array[index1 + i] = attribute.array[index2 + i];\n\n      }\n\n      return this;\n\n    },\n\n    set: function(value, offset) {\n\n      if (offset === undefined) {\n        offset = 0;\n      }\n\n      this.array.set(value, offset);\n\n      return this;\n\n    },\n\n    clone: function() {\n\n      return new this.constructor().copy(this);\n\n    },\n\n    onUpload: function(callback) {\n\n      this.onUploadCallback = callback;\n\n      return this;\n\n    }\n\n  });\n\n  /**\n   * @author benaadams / https://twitter.com/ben_a_adams\n   */\n\n  var _vector$7 = new Vector3();\n\n  function InterleavedBufferAttribute(interleavedBuffer, itemSize, offset, normalized) {\n\n    this.data = interleavedBuffer;\n    this.itemSize = itemSize;\n    this.offset = offset;\n\n    this.normalized = normalized === true;\n\n  }\n\n  Object.defineProperties(InterleavedBufferAttribute.prototype, {\n\n    count: {\n\n      get: function() {\n\n        return this.data.count;\n\n      }\n\n    },\n\n    array: {\n\n      get: function() {\n\n        return this.data.array;\n\n      }\n\n    }\n\n  });\n\n  Object.assign(InterleavedBufferAttribute.prototype, {\n\n    isInterleavedBufferAttribute: true,\n\n    applyMatrix4: function(m) {\n\n      for (var i = 0, l = this.data.count; i < l; i++) {\n\n        _vector$7.x = this.getX(i);\n        _vector$7.y = this.getY(i);\n        _vector$7.z = this.getZ(i);\n\n        _vector$7.applyMatrix4(m);\n\n        this.setXYZ(i, _vector$7.x, _vector$7.y, _vector$7.z);\n\n      }\n\n      return this;\n\n    },\n\n    setX: function(index, x) {\n\n      this.data.array[index * this.data.stride + this.offset] = x;\n\n      return this;\n\n    },\n\n    setY: function(index, y) {\n\n      this.data.array[index * this.data.stride + this.offset + 1] = y;\n\n      return this;\n\n    },\n\n    setZ: function(index, z) {\n\n      this.data.array[index * this.data.stride + this.offset + 2] = z;\n\n      return this;\n\n    },\n\n    setW: function(index, w) {\n\n      this.data.array[index * this.data.stride + this.offset + 3] = w;\n\n      return this;\n\n    },\n\n    getX: function(index) {\n\n      return this.data.array[index * this.data.stride + this.offset];\n\n    },\n\n    getY: function(index) {\n\n      return this.data.array[index * this.data.stride + this.offset + 1];\n\n    },\n\n    getZ: function(index) {\n\n      return this.data.array[index * this.data.stride + this.offset + 2];\n\n    },\n\n    getW: function(index) {\n\n      return this.data.array[index * this.data.stride + this.offset + 3];\n\n    },\n\n    setXY: function(index, x, y) {\n\n      index = index * this.data.stride + this.offset;\n\n      this.data.array[index + 0] = x;\n      this.data.array[index + 1] = y;\n\n      return this;\n\n    },\n\n    setXYZ: function(index, x, y, z) {\n\n      index = index * this.data.stride + this.offset;\n\n      this.data.array[index + 0] = x;\n      this.data.array[index + 1] = y;\n      this.data.array[index + 2] = z;\n\n      return this;\n\n    },\n\n    setXYZW: function(index, x, y, z, w) {\n\n      index = index * this.data.stride + this.offset;\n\n      this.data.array[index + 0] = x;\n      this.data.array[index + 1] = y;\n      this.data.array[index + 2] = z;\n      this.data.array[index + 3] = w;\n\n      return this;\n\n    }\n\n  });\n\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   *\n   * parameters = {\n   *  color: <hex>,\n   *  map: new THREE.Texture( <Image> ),\n   *  alphaMap: new THREE.Texture( <Image> ),\n   *  rotation: <float>,\n   *  sizeAttenuation: <bool>\n   * }\n   */\n\n  function SpriteMaterial(parameters) {\n\n    Material.call(this);\n\n    this.type = 'SpriteMaterial';\n\n    this.color = new Color(0xffffff);\n\n    this.map = null;\n\n    this.alphaMap = null;\n\n    this.rotation = 0;\n\n    this.sizeAttenuation = true;\n\n    this.transparent = true;\n\n    this.setValues(parameters);\n\n  }\n\n  SpriteMaterial.prototype = Object.create(Material.prototype);\n  SpriteMaterial.prototype.constructor = SpriteMaterial;\n  SpriteMaterial.prototype.isSpriteMaterial = true;\n\n  SpriteMaterial.prototype.copy = function(source) {\n\n    Material.prototype.copy.call(this, source);\n\n    this.color.copy(source.color);\n\n    this.map = source.map;\n\n    this.alphaMap = source.alphaMap;\n\n    this.rotation = source.rotation;\n\n    this.sizeAttenuation = source.sizeAttenuation;\n\n    return this;\n\n  };\n\n  /**\n   * @author mikael emtinger / http://gomo.se/\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n  var _geometry;\n\n  var _intersectPoint = new Vector3();\n  var _worldScale = new Vector3();\n  var _mvPosition = new Vector3();\n\n  var _alignedPosition = new Vector2();\n  var _rotatedPosition = new Vector2();\n  var _viewWorldMatrix = new Matrix4();\n\n  var _vA$1 = new Vector3();\n  var _vB$1 = new Vector3();\n  var _vC$1 = new Vector3();\n\n  var _uvA$1 = new Vector2();\n  var _uvB$1 = new Vector2();\n  var _uvC$1 = new Vector2();\n\n  function Sprite(material) {\n\n    Object3D.call(this);\n\n    this.type = 'Sprite';\n\n    if (_geometry === undefined) {\n\n      _geometry = new BufferGeometry();\n\n      var float32Array = new Float32Array([\n        -0.5, -0.5, 0, 0, 0,\n        0.5, -0.5, 0, 1, 0,\n        0.5, 0.5, 0, 1, 1,\n        -0.5, 0.5, 0, 0, 1\n      ]);\n\n      var interleavedBuffer = new InterleavedBuffer(float32Array, 5);\n\n      _geometry.setIndex([0, 1, 2, 0, 2, 3]);\n      _geometry.setAttribute('position', new InterleavedBufferAttribute(interleavedBuffer, 3, 0, false));\n      _geometry.setAttribute('uv', new InterleavedBufferAttribute(interleavedBuffer, 2, 3, false));\n\n    }\n\n    this.geometry = _geometry;\n    this.material = (material !== undefined) ? material : new SpriteMaterial();\n\n    this.center = new Vector2(0.5, 0.5);\n\n  }\n\n  Sprite.prototype = Object.assign(Object.create(Object3D.prototype), {\n\n    constructor: Sprite,\n\n    isSprite: true,\n\n    raycast: function(raycaster, intersects) {\n\n      if (raycaster.camera === null) {\n\n        console.error('THREE.Sprite: \"Raycaster.camera\" needs to be set in order to raycast against sprites.');\n\n      }\n\n      _worldScale.setFromMatrixScale(this.matrixWorld);\n\n      _viewWorldMatrix.copy(raycaster.camera.matrixWorld);\n      this.modelViewMatrix.multiplyMatrices(raycaster.camera.matrixWorldInverse, this.matrixWorld);\n\n      _mvPosition.setFromMatrixPosition(this.modelViewMatrix);\n\n      if (raycaster.camera.isPerspectiveCamera && this.material.sizeAttenuation === false) {\n\n        _worldScale.multiplyScalar(-_mvPosition.z);\n\n      }\n\n      var rotation = this.material.rotation;\n      var sin, cos;\n      if (rotation !== 0) {\n\n        cos = Math.cos(rotation);\n        sin = Math.sin(rotation);\n\n      }\n\n      var center = this.center;\n\n      transformVertex(_vA$1.set(-0.5, -0.5, 0), _mvPosition, center, _worldScale, sin, cos);\n      transformVertex(_vB$1.set(0.5, -0.5, 0), _mvPosition, center, _worldScale, sin, cos);\n      transformVertex(_vC$1.set(0.5, 0.5, 0), _mvPosition, center, _worldScale, sin, cos);\n\n      _uvA$1.set(0, 0);\n      _uvB$1.set(1, 0);\n      _uvC$1.set(1, 1);\n\n      // check first triangle\n      var intersect = raycaster.ray.intersectTriangle(_vA$1, _vB$1, _vC$1, false, _intersectPoint);\n\n      if (intersect === null) {\n\n        // check second triangle\n        transformVertex(_vB$1.set(-0.5, 0.5, 0), _mvPosition, center, _worldScale, sin, cos);\n        _uvB$1.set(0, 1);\n\n        intersect = raycaster.ray.intersectTriangle(_vA$1, _vC$1, _vB$1, false, _intersectPoint);\n        if (intersect === null) {\n\n          return;\n\n        }\n\n      }\n\n      var distance = raycaster.ray.origin.distanceTo(_intersectPoint);\n\n      if (distance < raycaster.near || distance > raycaster.far) {\n        return;\n      }\n\n      intersects.push({\n\n        distance: distance,\n        point: _intersectPoint.clone(),\n        uv: Triangle.getUV(_intersectPoint, _vA$1, _vB$1, _vC$1, _uvA$1, _uvB$1, _uvC$1, new Vector2()),\n        face: null,\n        object: this\n\n      });\n\n    },\n\n    clone: function() {\n\n      return new this.constructor(this.material).copy(this);\n\n    },\n\n    copy: function(source) {\n\n      Object3D.prototype.copy.call(this, source);\n\n      if (source.center !== undefined) {\n        this.center.copy(source.center);\n      }\n\n      return this;\n\n    }\n\n\n  });\n\n  function transformVertex(vertexPosition, mvPosition, center, scale, sin, cos) {\n\n    // compute position in camera space\n    _alignedPosition.subVectors(vertexPosition, center).addScalar(0.5).multiply(scale);\n\n    // to check if rotation is not zero\n    if (sin !== undefined) {\n\n      _rotatedPosition.x = (cos * _alignedPosition.x) - (sin * _alignedPosition.y);\n      _rotatedPosition.y = (sin * _alignedPosition.x) + (cos * _alignedPosition.y);\n\n    } else {\n\n      _rotatedPosition.copy(_alignedPosition);\n\n    }\n\n\n    vertexPosition.copy(mvPosition);\n    vertexPosition.x += _rotatedPosition.x;\n    vertexPosition.y += _rotatedPosition.y;\n\n    // transform to world space\n    vertexPosition.applyMatrix4(_viewWorldMatrix);\n\n  }\n\n  /**\n   * @author mikael emtinger / http://gomo.se/\n   * @author alteredq / http://alteredqualia.com/\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  var _v1$4 = new Vector3();\n  var _v2$2 = new Vector3();\n\n  function LOD() {\n\n    Object3D.call(this);\n\n    this.type = 'LOD';\n\n    Object.defineProperties(this, {\n      levels: {\n        enumerable: true,\n        value: []\n      }\n    });\n\n    this.autoUpdate = true;\n\n  }\n\n  LOD.prototype = Object.assign(Object.create(Object3D.prototype), {\n\n    constructor: LOD,\n\n    isLOD: true,\n\n    copy: function(source) {\n\n      Object3D.prototype.copy.call(this, source, false);\n\n      var levels = source.levels;\n\n      for (var i = 0, l = levels.length; i < l; i++) {\n\n        var level = levels[i];\n\n        this.addLevel(level.object.clone(), level.distance);\n\n      }\n\n      this.autoUpdate = source.autoUpdate;\n\n      return this;\n\n    },\n\n    addLevel: function(object, distance) {\n\n      if (distance === undefined) {\n        distance = 0;\n      }\n\n      distance = Math.abs(distance);\n\n      var levels = this.levels;\n\n      for (var l = 0; l < levels.length; l++) {\n\n        if (distance < levels[l].distance) {\n\n          break;\n\n        }\n\n      }\n\n      levels.splice(l, 0, {\n        distance: distance,\n        object: object\n      });\n\n      this.add(object);\n\n      return this;\n\n    },\n\n    getObjectForDistance: function(distance) {\n\n      var levels = this.levels;\n\n      if (levels.length > 0) {\n\n        for (var i = 1, l = levels.length; i < l; i++) {\n\n          if (distance < levels[i].distance) {\n\n            break;\n\n          }\n\n        }\n\n        return levels[i - 1].object;\n\n      }\n\n      return null;\n\n    },\n\n    raycast: function(raycaster, intersects) {\n\n      var levels = this.levels;\n\n      if (levels.length > 0) {\n\n        _v1$4.setFromMatrixPosition(this.matrixWorld);\n\n        var distance = raycaster.ray.origin.distanceTo(_v1$4);\n\n        this.getObjectForDistance(distance).raycast(raycaster, intersects);\n\n      }\n\n    },\n\n    update: function(camera) {\n\n      var levels = this.levels;\n\n      if (levels.length > 1) {\n\n        _v1$4.setFromMatrixPosition(camera.matrixWorld);\n        _v2$2.setFromMatrixPosition(this.matrixWorld);\n\n        var distance = _v1$4.distanceTo(_v2$2);\n\n        levels[0].object.visible = true;\n\n        for (var i = 1, l = levels.length; i < l; i++) {\n\n          if (distance >= levels[i].distance) {\n\n            levels[i - 1].object.visible = false;\n            levels[i].object.visible = true;\n\n          } else {\n\n            break;\n\n          }\n\n        }\n\n        for (; i < l; i++) {\n\n          levels[i].object.visible = false;\n\n        }\n\n      }\n\n    },\n\n    toJSON: function(meta) {\n\n      var data = Object3D.prototype.toJSON.call(this, meta);\n\n      if (this.autoUpdate === false) {\n        data.object.autoUpdate = false;\n      }\n\n      data.object.levels = [];\n\n      var levels = this.levels;\n\n      for (var i = 0, l = levels.length; i < l; i++) {\n\n        var level = levels[i];\n\n        data.object.levels.push({\n          object: level.object.uuid,\n          distance: level.distance\n        });\n\n      }\n\n      return data;\n\n    }\n\n  });\n\n  /**\n   * @author mikael emtinger / http://gomo.se/\n   * @author alteredq / http://alteredqualia.com/\n   * @author ikerr / http://verold.com\n   */\n\n  function SkinnedMesh(geometry, material) {\n\n    if (geometry && geometry.isGeometry) {\n\n      console.error('THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.');\n\n    }\n\n    Mesh.call(this, geometry, material);\n\n    this.type = 'SkinnedMesh';\n\n    this.bindMode = 'attached';\n    this.bindMatrix = new Matrix4();\n    this.bindMatrixInverse = new Matrix4();\n\n  }\n\n  SkinnedMesh.prototype = Object.assign(Object.create(Mesh.prototype), {\n\n    constructor: SkinnedMesh,\n\n    isSkinnedMesh: true,\n\n    bind: function(skeleton, bindMatrix) {\n\n      this.skeleton = skeleton;\n\n      if (bindMatrix === undefined) {\n\n        this.updateMatrixWorld(true);\n\n        this.skeleton.calculateInverses();\n\n        bindMatrix = this.matrixWorld;\n\n      }\n\n      this.bindMatrix.copy(bindMatrix);\n      this.bindMatrixInverse.getInverse(bindMatrix);\n\n    },\n\n    pose: function() {\n\n      this.skeleton.pose();\n\n    },\n\n    normalizeSkinWeights: function() {\n\n      var vector = new Vector4();\n\n      var skinWeight = this.geometry.attributes.skinWeight;\n\n      for (var i = 0, l = skinWeight.count; i < l; i++) {\n\n        vector.x = skinWeight.getX(i);\n        vector.y = skinWeight.getY(i);\n        vector.z = skinWeight.getZ(i);\n        vector.w = skinWeight.getW(i);\n\n        var scale = 1.0 / vector.manhattanLength();\n\n        if (scale !== Infinity) {\n\n          vector.multiplyScalar(scale);\n\n        } else {\n\n          vector.set(1, 0, 0, 0); // do something reasonable\n\n        }\n\n        skinWeight.setXYZW(i, vector.x, vector.y, vector.z, vector.w);\n\n      }\n\n    },\n\n    updateMatrixWorld: function(force) {\n\n      Mesh.prototype.updateMatrixWorld.call(this, force);\n\n      if (this.bindMode === 'attached') {\n\n        this.bindMatrixInverse.getInverse(this.matrixWorld);\n\n      } else if (this.bindMode === 'detached') {\n\n        this.bindMatrixInverse.getInverse(this.bindMatrix);\n\n      } else {\n\n        console.warn('THREE.SkinnedMesh: Unrecognized bindMode: ' + this.bindMode);\n\n      }\n\n    },\n\n    clone: function() {\n\n      return new this.constructor(this.geometry, this.material).copy(this);\n\n    }\n\n  });\n\n  /**\n   * @author mikael emtinger / http://gomo.se/\n   * @author alteredq / http://alteredqualia.com/\n   * @author michael guerrero / http://realitymeltdown.com\n   * @author ikerr / http://verold.com\n   */\n\n  var _offsetMatrix = new Matrix4();\n  var _identityMatrix = new Matrix4();\n\n  function Skeleton(bones, boneInverses) {\n\n    // copy the bone array\n\n    bones = bones || [];\n\n    this.bones = bones.slice(0);\n    this.boneMatrices = new Float32Array(this.bones.length * 16);\n\n    this.frame = -1;\n\n    // use the supplied bone inverses or calculate the inverses\n\n    if (boneInverses === undefined) {\n\n      this.calculateInverses();\n\n    } else {\n\n      if (this.bones.length === boneInverses.length) {\n\n        this.boneInverses = boneInverses.slice(0);\n\n      } else {\n\n        console.warn('THREE.Skeleton boneInverses is the wrong length.');\n\n        this.boneInverses = [];\n\n        for (var i = 0, il = this.bones.length; i < il; i++) {\n\n          this.boneInverses.push(new Matrix4());\n\n        }\n\n      }\n\n    }\n\n  }\n\n  Object.assign(Skeleton.prototype, {\n\n    calculateInverses: function() {\n\n      this.boneInverses = [];\n\n      for (var i = 0, il = this.bones.length; i < il; i++) {\n\n        var inverse = new Matrix4();\n\n        if (this.bones[i]) {\n\n          inverse.getInverse(this.bones[i].matrixWorld);\n\n        }\n\n        this.boneInverses.push(inverse);\n\n      }\n\n    },\n\n    pose: function() {\n\n      var bone, i, il;\n\n      // recover the bind-time world matrices\n\n      for (i = 0, il = this.bones.length; i < il; i++) {\n\n        bone = this.bones[i];\n\n        if (bone) {\n\n          bone.matrixWorld.getInverse(this.boneInverses[i]);\n\n        }\n\n      }\n\n      // compute the local matrices, positions, rotations and scales\n\n      for (i = 0, il = this.bones.length; i < il; i++) {\n\n        bone = this.bones[i];\n\n        if (bone) {\n\n          if (bone.parent && bone.parent.isBone) {\n\n            bone.matrix.getInverse(bone.parent.matrixWorld);\n            bone.matrix.multiply(bone.matrixWorld);\n\n          } else {\n\n            bone.matrix.copy(bone.matrixWorld);\n\n          }\n\n          bone.matrix.decompose(bone.position, bone.quaternion, bone.scale);\n\n        }\n\n      }\n\n    },\n\n    update: function() {\n\n      var bones = this.bones;\n      var boneInverses = this.boneInverses;\n      var boneMatrices = this.boneMatrices;\n      var boneTexture = this.boneTexture;\n\n      // flatten bone matrices to array\n\n      for (var i = 0, il = bones.length; i < il; i++) {\n\n        // compute the offset between the current and the original transform\n\n        var matrix = bones[i] ? bones[i].matrixWorld : _identityMatrix;\n\n        _offsetMatrix.multiplyMatrices(matrix, boneInverses[i]);\n        _offsetMatrix.toArray(boneMatrices, i * 16);\n\n      }\n\n      if (boneTexture !== undefined) {\n\n        boneTexture.needsUpdate = true;\n\n      }\n\n    },\n\n    clone: function() {\n\n      return new Skeleton(this.bones, this.boneInverses);\n\n    },\n\n    getBoneByName: function(name) {\n\n      for (var i = 0, il = this.bones.length; i < il; i++) {\n\n        var bone = this.bones[i];\n\n        if (bone.name === name) {\n\n          return bone;\n\n        }\n\n      }\n\n      return undefined;\n\n    }\n\n  });\n\n  /**\n   * @author mikael emtinger / http://gomo.se/\n   * @author alteredq / http://alteredqualia.com/\n   * @author ikerr / http://verold.com\n   */\n\n  function Bone() {\n\n    Object3D.call(this);\n\n    this.type = 'Bone';\n\n  }\n\n  Bone.prototype = Object.assign(Object.create(Object3D.prototype), {\n\n    constructor: Bone,\n\n    isBone: true\n\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  var _instanceLocalMatrix = new Matrix4();\n  var _instanceWorldMatrix = new Matrix4();\n\n  var _instanceIntersects = [];\n\n  var _mesh = new Mesh();\n\n  function InstancedMesh(geometry, material, count) {\n\n    Mesh.call(this, geometry, material);\n\n    this.instanceMatrix = new BufferAttribute(new Float32Array(count * 16), 16);\n\n    this.count = count;\n\n  }\n\n  InstancedMesh.prototype = Object.assign(Object.create(Mesh.prototype), {\n\n    constructor: InstancedMesh,\n\n    isInstancedMesh: true,\n\n    getMatrixAt: function(index, matrix) {\n\n      matrix.fromArray(this.instanceMatrix.array, index * 16);\n\n    },\n\n    raycast: function(raycaster, intersects) {\n\n      var matrixWorld = this.matrixWorld;\n      var raycastTimes = this.count;\n\n      _mesh.geometry = this.geometry;\n      _mesh.material = this.material;\n\n      if (_mesh.material === undefined) {\n        return;\n      }\n\n      for (var instanceId = 0; instanceId < raycastTimes; instanceId++) {\n\n        // calculate the world matrix for each instance\n\n        this.getMatrixAt(instanceId, _instanceLocalMatrix);\n\n        _instanceWorldMatrix.multiplyMatrices(matrixWorld, _instanceLocalMatrix);\n\n        // the mesh represents this single instance\n\n        _mesh.matrixWorld = _instanceWorldMatrix;\n\n        _mesh.raycast(raycaster, _instanceIntersects);\n\n        // process the result of raycast\n\n        if (_instanceIntersects.length > 0) {\n\n          _instanceIntersects[0].instanceId = instanceId;\n          _instanceIntersects[0].object = this;\n\n          intersects.push(_instanceIntersects[0]);\n\n          _instanceIntersects.length = 0;\n\n        }\n\n      }\n\n    },\n\n    setMatrixAt: function(index, matrix) {\n\n      matrix.toArray(this.instanceMatrix.array, index * 16);\n\n    },\n\n    updateMorphTargets: function() {\n\n    }\n\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author alteredq / http://alteredqualia.com/\n   *\n   * parameters = {\n   *  color: <hex>,\n   *  opacity: <float>,\n   *\n   *  linewidth: <float>,\n   *  linecap: \"round\",\n   *  linejoin: \"round\"\n   * }\n   */\n\n  function LineBasicMaterial(parameters) {\n\n    Material.call(this);\n\n    this.type = 'LineBasicMaterial';\n\n    this.color = new Color(0xffffff);\n\n    this.linewidth = 1;\n    this.linecap = 'round';\n    this.linejoin = 'round';\n\n    this.setValues(parameters);\n\n  }\n\n  LineBasicMaterial.prototype = Object.create(Material.prototype);\n  LineBasicMaterial.prototype.constructor = LineBasicMaterial;\n\n  LineBasicMaterial.prototype.isLineBasicMaterial = true;\n\n  LineBasicMaterial.prototype.copy = function(source) {\n\n    Material.prototype.copy.call(this, source);\n\n    this.color.copy(source.color);\n\n    this.linewidth = source.linewidth;\n    this.linecap = source.linecap;\n    this.linejoin = source.linejoin;\n\n    return this;\n\n  };\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  var _start = new Vector3();\n  var _end = new Vector3();\n  var _inverseMatrix$1 = new Matrix4();\n  var _ray$1 = new Ray();\n  var _sphere$2 = new Sphere();\n\n  function Line(geometry, material, mode) {\n\n    if (mode === 1) {\n\n      console.error('THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead.');\n\n    }\n\n    Object3D.call(this);\n\n    this.type = 'Line';\n\n    this.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n    this.material = material !== undefined ? material : new LineBasicMaterial({\n      color: Math.random() * 0xffffff\n    });\n\n  }\n\n  Line.prototype = Object.assign(Object.create(Object3D.prototype), {\n\n    constructor: Line,\n\n    isLine: true,\n\n    computeLineDistances: function() {\n\n      var geometry = this.geometry;\n\n      if (geometry.isBufferGeometry) {\n\n        // we assume non-indexed geometry\n\n        if (geometry.index === null) {\n\n          var positionAttribute = geometry.attributes.position;\n          var lineDistances = [0];\n\n          for (var i = 1, l = positionAttribute.count; i < l; i++) {\n\n            _start.fromBufferAttribute(positionAttribute, i - 1);\n            _end.fromBufferAttribute(positionAttribute, i);\n\n            lineDistances[i] = lineDistances[i - 1];\n            lineDistances[i] += _start.distanceTo(_end);\n\n          }\n\n          geometry.setAttribute('lineDistance', new Float32BufferAttribute(lineDistances, 1));\n\n        } else {\n\n          console.warn('THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.');\n\n        }\n\n      } else if (geometry.isGeometry) {\n\n        var vertices = geometry.vertices;\n        var lineDistances = geometry.lineDistances;\n\n        lineDistances[0] = 0;\n\n        for (var i = 1, l = vertices.length; i < l; i++) {\n\n          lineDistances[i] = lineDistances[i - 1];\n          lineDistances[i] += vertices[i - 1].distanceTo(vertices[i]);\n\n        }\n\n      }\n\n      return this;\n\n    },\n\n    raycast: function(raycaster, intersects) {\n\n      var precision = raycaster.linePrecision;\n\n      var geometry = this.geometry;\n      var matrixWorld = this.matrixWorld;\n\n      // Checking boundingSphere distance to ray\n\n      if (geometry.boundingSphere === null) {\n        geometry.computeBoundingSphere();\n      }\n\n      _sphere$2.copy(geometry.boundingSphere);\n      _sphere$2.applyMatrix4(matrixWorld);\n      _sphere$2.radius += precision;\n\n      if (raycaster.ray.intersectsSphere(_sphere$2) === false) {\n        return;\n      }\n\n      //\n\n      _inverseMatrix$1.getInverse(matrixWorld);\n      _ray$1.copy(raycaster.ray).applyMatrix4(_inverseMatrix$1);\n\n      var localPrecision = precision / ((this.scale.x + this.scale.y + this.scale.z) / 3);\n      var localPrecisionSq = localPrecision * localPrecision;\n\n      var vStart = new Vector3();\n      var vEnd = new Vector3();\n      var interSegment = new Vector3();\n      var interRay = new Vector3();\n      var step = (this && this.isLineSegments) ? 2 : 1;\n\n      if (geometry.isBufferGeometry) {\n\n        var index = geometry.index;\n        var attributes = geometry.attributes;\n        var positions = attributes.position.array;\n\n        if (index !== null) {\n\n          var indices = index.array;\n\n          for (var i = 0, l = indices.length - 1; i < l; i += step) {\n\n            var a = indices[i];\n            var b = indices[i + 1];\n\n            vStart.fromArray(positions, a * 3);\n            vEnd.fromArray(positions, b * 3);\n\n            var distSq = _ray$1.distanceSqToSegment(vStart, vEnd, interRay, interSegment);\n\n            if (distSq > localPrecisionSq) {\n              continue;\n            }\n\n            interRay.applyMatrix4(this.matrixWorld); //Move back to world space for distance calculation\n\n            var distance = raycaster.ray.origin.distanceTo(interRay);\n\n            if (distance < raycaster.near || distance > raycaster.far) {\n              continue;\n            }\n\n            intersects.push({\n\n              distance: distance,\n              // What do we want? intersection point on the ray or on the segment??\n              // point: raycaster.ray.at( distance ),\n              point: interSegment.clone().applyMatrix4(this.matrixWorld),\n              index: i,\n              face: null,\n              faceIndex: null,\n              object: this\n\n            });\n\n          }\n\n        } else {\n\n          for (var i = 0, l = positions.length / 3 - 1; i < l; i += step) {\n\n            vStart.fromArray(positions, 3 * i);\n            vEnd.fromArray(positions, 3 * i + 3);\n\n            var distSq = _ray$1.distanceSqToSegment(vStart, vEnd, interRay, interSegment);\n\n            if (distSq > localPrecisionSq) {\n              continue;\n            }\n\n            interRay.applyMatrix4(this.matrixWorld); //Move back to world space for distance calculation\n\n            var distance = raycaster.ray.origin.distanceTo(interRay);\n\n            if (distance < raycaster.near || distance > raycaster.far) {\n              continue;\n            }\n\n            intersects.push({\n\n              distance: distance,\n              // What do we want? intersection point on the ray or on the segment??\n              // point: raycaster.ray.at( distance ),\n              point: interSegment.clone().applyMatrix4(this.matrixWorld),\n              index: i,\n              face: null,\n              faceIndex: null,\n              object: this\n\n            });\n\n          }\n\n        }\n\n      } else if (geometry.isGeometry) {\n\n        var vertices = geometry.vertices;\n        var nbVertices = vertices.length;\n\n        for (var i = 0; i < nbVertices - 1; i += step) {\n\n          var distSq = _ray$1.distanceSqToSegment(vertices[i], vertices[i + 1], interRay, interSegment);\n\n          if (distSq > localPrecisionSq) {\n            continue;\n          }\n\n          interRay.applyMatrix4(this.matrixWorld); //Move back to world space for distance calculation\n\n          var distance = raycaster.ray.origin.distanceTo(interRay);\n\n          if (distance < raycaster.near || distance > raycaster.far) {\n            continue;\n          }\n\n          intersects.push({\n\n            distance: distance,\n            // What do we want? intersection point on the ray or on the segment??\n            // point: raycaster.ray.at( distance ),\n            point: interSegment.clone().applyMatrix4(this.matrixWorld),\n            index: i,\n            face: null,\n            faceIndex: null,\n            object: this\n\n          });\n\n        }\n\n      }\n\n    },\n\n    clone: function() {\n\n      return new this.constructor(this.geometry, this.material).copy(this);\n\n    }\n\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  var _start$1 = new Vector3();\n  var _end$1 = new Vector3();\n\n  function LineSegments(geometry, material) {\n\n    Line.call(this, geometry, material);\n\n    this.type = 'LineSegments';\n\n  }\n\n  LineSegments.prototype = Object.assign(Object.create(Line.prototype), {\n\n    constructor: LineSegments,\n\n    isLineSegments: true,\n\n    computeLineDistances: function() {\n\n      var geometry = this.geometry;\n\n      if (geometry.isBufferGeometry) {\n\n        // we assume non-indexed geometry\n\n        if (geometry.index === null) {\n\n          var positionAttribute = geometry.attributes.position;\n          var lineDistances = [];\n\n          for (var i = 0, l = positionAttribute.count; i < l; i += 2) {\n\n            _start$1.fromBufferAttribute(positionAttribute, i);\n            _end$1.fromBufferAttribute(positionAttribute, i + 1);\n\n            lineDistances[i] = (i === 0) ? 0 : lineDistances[i - 1];\n            lineDistances[i + 1] = lineDistances[i] + _start$1.distanceTo(_end$1);\n\n          }\n\n          geometry.setAttribute('lineDistance', new Float32BufferAttribute(lineDistances, 1));\n\n        } else {\n\n          console.warn('THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.');\n\n        }\n\n      } else if (geometry.isGeometry) {\n\n        var vertices = geometry.vertices;\n        var lineDistances = geometry.lineDistances;\n\n        for (var i = 0, l = vertices.length; i < l; i += 2) {\n\n          _start$1.copy(vertices[i]);\n          _end$1.copy(vertices[i + 1]);\n\n          lineDistances[i] = (i === 0) ? 0 : lineDistances[i - 1];\n          lineDistances[i + 1] = lineDistances[i] + _start$1.distanceTo(_end$1);\n\n        }\n\n      }\n\n      return this;\n\n    }\n\n  });\n\n  /**\n   * @author mgreter / http://github.com/mgreter\n   */\n\n  function LineLoop(geometry, material) {\n\n    Line.call(this, geometry, material);\n\n    this.type = 'LineLoop';\n\n  }\n\n  LineLoop.prototype = Object.assign(Object.create(Line.prototype), {\n\n    constructor: LineLoop,\n\n    isLineLoop: true,\n\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author alteredq / http://alteredqualia.com/\n   *\n   * parameters = {\n   *  color: <hex>,\n   *  opacity: <float>,\n   *  map: new THREE.Texture( <Image> ),\n   *  alphaMap: new THREE.Texture( <Image> ),\n   *\n   *  size: <float>,\n   *  sizeAttenuation: <bool>\n   *\n   *  morphTargets: <bool>\n   * }\n   */\n\n  function PointsMaterial(parameters) {\n\n    Material.call(this);\n\n    this.type = 'PointsMaterial';\n\n    this.color = new Color(0xffffff);\n\n    this.map = null;\n\n    this.alphaMap = null;\n\n    this.size = 1;\n    this.sizeAttenuation = true;\n\n    this.morphTargets = false;\n\n    this.setValues(parameters);\n\n  }\n\n  PointsMaterial.prototype = Object.create(Material.prototype);\n  PointsMaterial.prototype.constructor = PointsMaterial;\n\n  PointsMaterial.prototype.isPointsMaterial = true;\n\n  PointsMaterial.prototype.copy = function(source) {\n\n    Material.prototype.copy.call(this, source);\n\n    this.color.copy(source.color);\n\n    this.map = source.map;\n\n    this.alphaMap = source.alphaMap;\n\n    this.size = source.size;\n    this.sizeAttenuation = source.sizeAttenuation;\n\n    this.morphTargets = source.morphTargets;\n\n    return this;\n\n  };\n\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n  var _inverseMatrix$2 = new Matrix4();\n  var _ray$2 = new Ray();\n  var _sphere$3 = new Sphere();\n  var _position$1 = new Vector3();\n\n  function Points(geometry, material) {\n\n    Object3D.call(this);\n\n    this.type = 'Points';\n\n    this.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n    this.material = material !== undefined ? material : new PointsMaterial({\n      color: Math.random() * 0xffffff\n    });\n\n    this.updateMorphTargets();\n\n  }\n\n  Points.prototype = Object.assign(Object.create(Object3D.prototype), {\n\n    constructor: Points,\n\n    isPoints: true,\n\n    raycast: function(raycaster, intersects) {\n\n      var geometry = this.geometry;\n      var matrixWorld = this.matrixWorld;\n      var threshold = raycaster.params.Points.threshold;\n\n      // Checking boundingSphere distance to ray\n\n      if (geometry.boundingSphere === null) {\n        geometry.computeBoundingSphere();\n      }\n\n      _sphere$3.copy(geometry.boundingSphere);\n      _sphere$3.applyMatrix4(matrixWorld);\n      _sphere$3.radius += threshold;\n\n      if (raycaster.ray.intersectsSphere(_sphere$3) === false) {\n        return;\n      }\n\n      //\n\n      _inverseMatrix$2.getInverse(matrixWorld);\n      _ray$2.copy(raycaster.ray).applyMatrix4(_inverseMatrix$2);\n\n      var localThreshold = threshold / ((this.scale.x + this.scale.y + this.scale.z) / 3);\n      var localThresholdSq = localThreshold * localThreshold;\n\n      if (geometry.isBufferGeometry) {\n\n        var index = geometry.index;\n        var attributes = geometry.attributes;\n        var positions = attributes.position.array;\n\n        if (index !== null) {\n\n          var indices = index.array;\n\n          for (var i = 0, il = indices.length; i < il; i++) {\n\n            var a = indices[i];\n\n            _position$1.fromArray(positions, a * 3);\n\n            testPoint(_position$1, a, localThresholdSq, matrixWorld, raycaster, intersects, this);\n\n          }\n\n        } else {\n\n          for (var i = 0, l = positions.length / 3; i < l; i++) {\n\n            _position$1.fromArray(positions, i * 3);\n\n            testPoint(_position$1, i, localThresholdSq, matrixWorld, raycaster, intersects, this);\n\n          }\n\n        }\n\n      } else {\n\n        var vertices = geometry.vertices;\n\n        for (var i = 0, l = vertices.length; i < l; i++) {\n\n          testPoint(vertices[i], i, localThresholdSq, matrixWorld, raycaster, intersects, this);\n\n        }\n\n      }\n\n    },\n\n    updateMorphTargets: function() {\n\n      var geometry = this.geometry;\n      var m, ml, name;\n\n      if (geometry.isBufferGeometry) {\n\n        var morphAttributes = geometry.morphAttributes;\n        var keys = Object.keys(morphAttributes);\n\n        if (keys.length > 0) {\n\n          var morphAttribute = morphAttributes[keys[0]];\n\n          if (morphAttribute !== undefined) {\n\n            this.morphTargetInfluences = [];\n            this.morphTargetDictionary = {};\n\n            for (m = 0, ml = morphAttribute.length; m < ml; m++) {\n\n              name = morphAttribute[m].name || String(m);\n\n              this.morphTargetInfluences.push(0);\n              this.morphTargetDictionary[name] = m;\n\n            }\n\n          }\n\n        }\n\n      } else {\n\n        var morphTargets = geometry.morphTargets;\n\n        if (morphTargets !== undefined && morphTargets.length > 0) {\n\n          console.error('THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.');\n\n        }\n\n      }\n\n    },\n\n    clone: function() {\n\n      return new this.constructor(this.geometry, this.material).copy(this);\n\n    }\n\n  });\n\n  function testPoint(point, index, localThresholdSq, matrixWorld, raycaster, intersects, object) {\n\n    var rayPointDistanceSq = _ray$2.distanceSqToPoint(point);\n\n    if (rayPointDistanceSq < localThresholdSq) {\n\n      var intersectPoint = new Vector3();\n\n      _ray$2.closestPointToPoint(point, intersectPoint);\n      intersectPoint.applyMatrix4(matrixWorld);\n\n      var distance = raycaster.ray.origin.distanceTo(intersectPoint);\n\n      if (distance < raycaster.near || distance > raycaster.far) {\n        return;\n      }\n\n      intersects.push({\n\n        distance: distance,\n        distanceToRay: Math.sqrt(rayPointDistanceSq),\n        point: intersectPoint,\n        index: index,\n        face: null,\n        object: object\n\n      });\n\n    }\n\n  }\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function VideoTexture(video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy) {\n\n    Texture.call(this, video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy);\n\n    this.format = format !== undefined ? format : RGBFormat;\n\n    this.minFilter = minFilter !== undefined ? minFilter : LinearFilter;\n    this.magFilter = magFilter !== undefined ? magFilter : LinearFilter;\n\n    this.generateMipmaps = false;\n\n  }\n\n  VideoTexture.prototype = Object.assign(Object.create(Texture.prototype), {\n\n    constructor: VideoTexture,\n\n    isVideoTexture: true,\n\n    update: function() {\n\n      var video = this.image;\n\n      if (video.readyState >= video.HAVE_CURRENT_DATA) {\n\n        this.needsUpdate = true;\n\n      }\n\n    }\n\n  });\n\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n  function CompressedTexture(mipmaps, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding) {\n\n    Texture.call(this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding);\n\n    this.image = {\n      width: width,\n      height: height\n    };\n    this.mipmaps = mipmaps;\n\n    // no flipping for cube textures\n    // (also flipping doesn't work for compressed textures )\n\n    this.flipY = false;\n\n    // can't generate mipmaps for compressed textures\n    // mips must be embedded in DDS files\n\n    this.generateMipmaps = false;\n\n  }\n\n  CompressedTexture.prototype = Object.create(Texture.prototype);\n  CompressedTexture.prototype.constructor = CompressedTexture;\n\n  CompressedTexture.prototype.isCompressedTexture = true;\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function CanvasTexture(canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy) {\n\n    Texture.call(this, canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy);\n\n    this.needsUpdate = true;\n\n  }\n\n  CanvasTexture.prototype = Object.create(Texture.prototype);\n  CanvasTexture.prototype.constructor = CanvasTexture;\n  CanvasTexture.prototype.isCanvasTexture = true;\n\n  /**\n   * @author Matt DesLauriers / @mattdesl\n   * @author atix / arthursilber.de\n   */\n\n  function DepthTexture(width, height, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, format) {\n\n    format = format !== undefined ? format : DepthFormat;\n\n    if (format !== DepthFormat && format !== DepthStencilFormat) {\n\n      throw new Error('DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat');\n\n    }\n\n    if (type === undefined && format === DepthFormat) {\n      type = UnsignedShortType;\n    }\n    if (type === undefined && format === DepthStencilFormat) {\n      type = UnsignedInt248Type;\n    }\n\n    Texture.call(this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy);\n\n    this.image = {\n      width: width,\n      height: height\n    };\n\n    this.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n    this.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n\n    this.flipY = false;\n    this.generateMipmaps = false;\n\n  }\n\n  DepthTexture.prototype = Object.create(Texture.prototype);\n  DepthTexture.prototype.constructor = DepthTexture;\n  DepthTexture.prototype.isDepthTexture = true;\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author Mugen87 / https://github.com/Mugen87\n   */\n\n  function WireframeGeometry(geometry) {\n\n    BufferGeometry.call(this);\n\n    this.type = 'WireframeGeometry';\n\n    // buffer\n\n    var vertices = [];\n\n    // helper variables\n\n    var i, j, l, o, ol;\n    var edge = [0, 0],\n      edges = {},\n      e, edge1, edge2;\n    var key, keys = ['a', 'b', 'c'];\n    var vertex;\n\n    // different logic for Geometry and BufferGeometry\n\n    if (geometry && geometry.isGeometry) {\n\n      // create a data structure that contains all edges without duplicates\n\n      var faces = geometry.faces;\n\n      for (i = 0, l = faces.length; i < l; i++) {\n\n        var face = faces[i];\n\n        for (j = 0; j < 3; j++) {\n\n          edge1 = face[keys[j]];\n          edge2 = face[keys[(j + 1) % 3]];\n          edge[0] = Math.min(edge1, edge2); // sorting prevents duplicates\n          edge[1] = Math.max(edge1, edge2);\n\n          key = edge[0] + ',' + edge[1];\n\n          if (edges[key] === undefined) {\n\n            edges[key] = {\n              index1: edge[0],\n              index2: edge[1]\n            };\n\n          }\n\n        }\n\n      }\n\n      // generate vertices\n\n      for (key in edges) {\n\n        e = edges[key];\n\n        vertex = geometry.vertices[e.index1];\n        vertices.push(vertex.x, vertex.y, vertex.z);\n\n        vertex = geometry.vertices[e.index2];\n        vertices.push(vertex.x, vertex.y, vertex.z);\n\n      }\n\n    } else if (geometry && geometry.isBufferGeometry) {\n\n      var position, indices, groups;\n      var group, start, count;\n      var index1, index2;\n\n      vertex = new Vector3();\n\n      if (geometry.index !== null) {\n\n        // indexed BufferGeometry\n\n        position = geometry.attributes.position;\n        indices = geometry.index;\n        groups = geometry.groups;\n\n        if (groups.length === 0) {\n\n          groups = [{\n            start: 0,\n            count: indices.count,\n            materialIndex: 0\n          }];\n\n        }\n\n        // create a data structure that contains all eges without duplicates\n\n        for (o = 0, ol = groups.length; o < ol; ++o) {\n\n          group = groups[o];\n\n          start = group.start;\n          count = group.count;\n\n          for (i = start, l = (start + count); i < l; i += 3) {\n\n            for (j = 0; j < 3; j++) {\n\n              edge1 = indices.getX(i + j);\n              edge2 = indices.getX(i + (j + 1) % 3);\n              edge[0] = Math.min(edge1, edge2); // sorting prevents duplicates\n              edge[1] = Math.max(edge1, edge2);\n\n              key = edge[0] + ',' + edge[1];\n\n              if (edges[key] === undefined) {\n\n                edges[key] = {\n                  index1: edge[0],\n                  index2: edge[1]\n                };\n\n              }\n\n            }\n\n          }\n\n        }\n\n        // generate vertices\n\n        for (key in edges) {\n\n          e = edges[key];\n\n          vertex.fromBufferAttribute(position, e.index1);\n          vertices.push(vertex.x, vertex.y, vertex.z);\n\n          vertex.fromBufferAttribute(position, e.index2);\n          vertices.push(vertex.x, vertex.y, vertex.z);\n\n        }\n\n      } else {\n\n        // non-indexed BufferGeometry\n\n        position = geometry.attributes.position;\n\n        for (i = 0, l = (position.count / 3); i < l; i++) {\n\n          for (j = 0; j < 3; j++) {\n\n            // three edges per triangle, an edge is represented as (index1, index2)\n            // e.g. the first triangle has the following edges: (0,1),(1,2),(2,0)\n\n            index1 = 3 * i + j;\n            vertex.fromBufferAttribute(position, index1);\n            vertices.push(vertex.x, vertex.y, vertex.z);\n\n            index2 = 3 * i + ((j + 1) % 3);\n            vertex.fromBufferAttribute(position, index2);\n            vertices.push(vertex.x, vertex.y, vertex.z);\n\n          }\n\n        }\n\n      }\n\n    }\n\n    // build geometry\n\n    this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\n  }\n\n  WireframeGeometry.prototype = Object.create(BufferGeometry.prototype);\n  WireframeGeometry.prototype.constructor = WireframeGeometry;\n\n  /**\n   * @author zz85 / https://github.com/zz85\n   * @author Mugen87 / https://github.com/Mugen87\n   *\n   * Parametric Surfaces Geometry\n   * based on the brilliant article by @prideout http://prideout.net/blog/?p=44\n   */\n\n  // ParametricGeometry\n\n  function ParametricGeometry(func, slices, stacks) {\n\n    Geometry.call(this);\n\n    this.type = 'ParametricGeometry';\n\n    this.parameters = {\n      func: func,\n      slices: slices,\n      stacks: stacks\n    };\n\n    this.fromBufferGeometry(new ParametricBufferGeometry(func, slices, stacks));\n    this.mergeVertices();\n\n  }\n\n  ParametricGeometry.prototype = Object.create(Geometry.prototype);\n  ParametricGeometry.prototype.constructor = ParametricGeometry;\n\n  // ParametricBufferGeometry\n\n  function ParametricBufferGeometry(func, slices, stacks) {\n\n    BufferGeometry.call(this);\n\n    this.type = 'ParametricBufferGeometry';\n\n    this.parameters = {\n      func: func,\n      slices: slices,\n      stacks: stacks\n    };\n\n    // buffers\n\n    var indices = [];\n    var vertices = [];\n    var normals = [];\n    var uvs = [];\n\n    var EPS = 0.00001;\n\n    var normal = new Vector3();\n\n    var p0 = new Vector3(),\n      p1 = new Vector3();\n    var pu = new Vector3(),\n      pv = new Vector3();\n\n    var i, j;\n\n    if (func.length < 3) {\n\n      console.error('THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.');\n\n    }\n\n    // generate vertices, normals and uvs\n\n    var sliceCount = slices + 1;\n\n    for (i = 0; i <= stacks; i++) {\n\n      var v = i / stacks;\n\n      for (j = 0; j <= slices; j++) {\n\n        var u = j / slices;\n\n        // vertex\n\n        func(u, v, p0);\n        vertices.push(p0.x, p0.y, p0.z);\n\n        // normal\n\n        // approximate tangent vectors via finite differences\n\n        if (u - EPS >= 0) {\n\n          func(u - EPS, v, p1);\n          pu.subVectors(p0, p1);\n\n        } else {\n\n          func(u + EPS, v, p1);\n          pu.subVectors(p1, p0);\n\n        }\n\n        if (v - EPS >= 0) {\n\n          func(u, v - EPS, p1);\n          pv.subVectors(p0, p1);\n\n        } else {\n\n          func(u, v + EPS, p1);\n          pv.subVectors(p1, p0);\n\n        }\n\n        // cross product of tangent vectors returns surface normal\n\n        normal.crossVectors(pu, pv).normalize();\n        normals.push(normal.x, normal.y, normal.z);\n\n        // uv\n\n        uvs.push(u, v);\n\n      }\n\n    }\n\n    // generate indices\n\n    for (i = 0; i < stacks; i++) {\n\n      for (j = 0; j < slices; j++) {\n\n        var a = i * sliceCount + j;\n        var b = i * sliceCount + j + 1;\n        var c = (i + 1) * sliceCount + j + 1;\n        var d = (i + 1) * sliceCount + j;\n\n        // faces one and two\n\n        indices.push(a, b, d);\n        indices.push(b, c, d);\n\n      }\n\n    }\n\n    // build geometry\n\n    this.setIndex(indices);\n    this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n    this.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n    this.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\n  }\n\n  ParametricBufferGeometry.prototype = Object.create(BufferGeometry.prototype);\n  ParametricBufferGeometry.prototype.constructor = ParametricBufferGeometry;\n\n  /**\n   * @author clockworkgeek / https://github.com/clockworkgeek\n   * @author timothypratley / https://github.com/timothypratley\n   * @author WestLangley / http://github.com/WestLangley\n   * @author Mugen87 / https://github.com/Mugen87\n   */\n\n  // PolyhedronGeometry\n\n  function PolyhedronGeometry(vertices, indices, radius, detail) {\n\n    Geometry.call(this);\n\n    this.type = 'PolyhedronGeometry';\n\n    this.parameters = {\n      vertices: vertices,\n      indices: indices,\n      radius: radius,\n      detail: detail\n    };\n\n    this.fromBufferGeometry(new PolyhedronBufferGeometry(vertices, indices, radius, detail));\n    this.mergeVertices();\n\n  }\n\n  PolyhedronGeometry.prototype = Object.create(Geometry.prototype);\n  PolyhedronGeometry.prototype.constructor = PolyhedronGeometry;\n\n  // PolyhedronBufferGeometry\n\n  function PolyhedronBufferGeometry(vertices, indices, radius, detail) {\n\n    BufferGeometry.call(this);\n\n    this.type = 'PolyhedronBufferGeometry';\n\n    this.parameters = {\n      vertices: vertices,\n      indices: indices,\n      radius: radius,\n      detail: detail\n    };\n\n    radius = radius || 1;\n    detail = detail || 0;\n\n    // default buffer data\n\n    var vertexBuffer = [];\n    var uvBuffer = [];\n\n    // the subdivision creates the vertex buffer data\n\n    subdivide(detail);\n\n    // all vertices should lie on a conceptual sphere with a given radius\n\n    applyRadius(radius);\n\n    // finally, create the uv data\n\n    generateUVs();\n\n    // build non-indexed geometry\n\n    this.setAttribute('position', new Float32BufferAttribute(vertexBuffer, 3));\n    this.setAttribute('normal', new Float32BufferAttribute(vertexBuffer.slice(), 3));\n    this.setAttribute('uv', new Float32BufferAttribute(uvBuffer, 2));\n\n    if (detail === 0) {\n\n      this.computeVertexNormals(); // flat normals\n\n    } else {\n\n      this.normalizeNormals(); // smooth normals\n\n    }\n\n    // helper functions\n\n    function subdivide(detail) {\n\n      var a = new Vector3();\n      var b = new Vector3();\n      var c = new Vector3();\n\n      // iterate over all faces and apply a subdivison with the given detail value\n\n      for (var i = 0; i < indices.length; i += 3) {\n\n        // get the vertices of the face\n\n        getVertexByIndex(indices[i + 0], a);\n        getVertexByIndex(indices[i + 1], b);\n        getVertexByIndex(indices[i + 2], c);\n\n        // perform subdivision\n\n        subdivideFace(a, b, c, detail);\n\n      }\n\n    }\n\n    function subdivideFace(a, b, c, detail) {\n\n      var cols = Math.pow(2, detail);\n\n      // we use this multidimensional array as a data structure for creating the subdivision\n\n      var v = [];\n\n      var i, j;\n\n      // construct all of the vertices for this subdivision\n\n      for (i = 0; i <= cols; i++) {\n\n        v[i] = [];\n\n        var aj = a.clone().lerp(c, i / cols);\n        var bj = b.clone().lerp(c, i / cols);\n\n        var rows = cols - i;\n\n        for (j = 0; j <= rows; j++) {\n\n          if (j === 0 && i === cols) {\n\n            v[i][j] = aj;\n\n          } else {\n\n            v[i][j] = aj.clone().lerp(bj, j / rows);\n\n          }\n\n        }\n\n      }\n\n      // construct all of the faces\n\n      for (i = 0; i < cols; i++) {\n\n        for (j = 0; j < 2 * (cols - i) - 1; j++) {\n\n          var k = Math.floor(j / 2);\n\n          if (j % 2 === 0) {\n\n            pushVertex(v[i][k + 1]);\n            pushVertex(v[i + 1][k]);\n            pushVertex(v[i][k]);\n\n          } else {\n\n            pushVertex(v[i][k + 1]);\n            pushVertex(v[i + 1][k + 1]);\n            pushVertex(v[i + 1][k]);\n\n          }\n\n        }\n\n      }\n\n    }\n\n    function applyRadius(radius) {\n\n      var vertex = new Vector3();\n\n      // iterate over the entire buffer and apply the radius to each vertex\n\n      for (var i = 0; i < vertexBuffer.length; i += 3) {\n\n        vertex.x = vertexBuffer[i + 0];\n        vertex.y = vertexBuffer[i + 1];\n        vertex.z = vertexBuffer[i + 2];\n\n        vertex.normalize().multiplyScalar(radius);\n\n        vertexBuffer[i + 0] = vertex.x;\n        vertexBuffer[i + 1] = vertex.y;\n        vertexBuffer[i + 2] = vertex.z;\n\n      }\n\n    }\n\n    function generateUVs() {\n\n      var vertex = new Vector3();\n\n      for (var i = 0; i < vertexBuffer.length; i += 3) {\n\n        vertex.x = vertexBuffer[i + 0];\n        vertex.y = vertexBuffer[i + 1];\n        vertex.z = vertexBuffer[i + 2];\n\n        var u = azimuth(vertex) / 2 / Math.PI + 0.5;\n        var v = inclination(vertex) / Math.PI + 0.5;\n        uvBuffer.push(u, 1 - v);\n\n      }\n\n      correctUVs();\n\n      correctSeam();\n\n    }\n\n    function correctSeam() {\n\n      // handle case when face straddles the seam, see #3269\n\n      for (var i = 0; i < uvBuffer.length; i += 6) {\n\n        // uv data of a single face\n\n        var x0 = uvBuffer[i + 0];\n        var x1 = uvBuffer[i + 2];\n        var x2 = uvBuffer[i + 4];\n\n        var max = Math.max(x0, x1, x2);\n        var min = Math.min(x0, x1, x2);\n\n        // 0.9 is somewhat arbitrary\n\n        if (max > 0.9 && min < 0.1) {\n\n          if (x0 < 0.2) {\n            uvBuffer[i + 0] += 1;\n          }\n          if (x1 < 0.2) {\n            uvBuffer[i + 2] += 1;\n          }\n          if (x2 < 0.2) {\n            uvBuffer[i + 4] += 1;\n          }\n\n        }\n\n      }\n\n    }\n\n    function pushVertex(vertex) {\n\n      vertexBuffer.push(vertex.x, vertex.y, vertex.z);\n\n    }\n\n    function getVertexByIndex(index, vertex) {\n\n      var stride = index * 3;\n\n      vertex.x = vertices[stride + 0];\n      vertex.y = vertices[stride + 1];\n      vertex.z = vertices[stride + 2];\n\n    }\n\n    function correctUVs() {\n\n      var a = new Vector3();\n      var b = new Vector3();\n      var c = new Vector3();\n\n      var centroid = new Vector3();\n\n      var uvA = new Vector2();\n      var uvB = new Vector2();\n      var uvC = new Vector2();\n\n      for (var i = 0, j = 0; i < vertexBuffer.length; i += 9, j += 6) {\n\n        a.set(vertexBuffer[i + 0], vertexBuffer[i + 1], vertexBuffer[i + 2]);\n        b.set(vertexBuffer[i + 3], vertexBuffer[i + 4], vertexBuffer[i + 5]);\n        c.set(vertexBuffer[i + 6], vertexBuffer[i + 7], vertexBuffer[i + 8]);\n\n        uvA.set(uvBuffer[j + 0], uvBuffer[j + 1]);\n        uvB.set(uvBuffer[j + 2], uvBuffer[j + 3]);\n        uvC.set(uvBuffer[j + 4], uvBuffer[j + 5]);\n\n        centroid.copy(a).add(b).add(c).divideScalar(3);\n\n        var azi = azimuth(centroid);\n\n        correctUV(uvA, j + 0, a, azi);\n        correctUV(uvB, j + 2, b, azi);\n        correctUV(uvC, j + 4, c, azi);\n\n      }\n\n    }\n\n    function correctUV(uv, stride, vector, azimuth) {\n\n      if ((azimuth < 0) && (uv.x === 1)) {\n\n        uvBuffer[stride] = uv.x - 1;\n\n      }\n\n      if ((vector.x === 0) && (vector.z === 0)) {\n\n        uvBuffer[stride] = azimuth / 2 / Math.PI + 0.5;\n\n      }\n\n    }\n\n    // Angle around the Y axis, counter-clockwise when looking from above.\n\n    function azimuth(vector) {\n\n      return Math.atan2(vector.z, -vector.x);\n\n    }\n\n\n    // Angle above the XZ plane.\n\n    function inclination(vector) {\n\n      return Math.atan2(-vector.y, Math.sqrt((vector.x * vector.x) + (vector.z * vector.z)));\n\n    }\n\n  }\n\n  PolyhedronBufferGeometry.prototype = Object.create(BufferGeometry.prototype);\n  PolyhedronBufferGeometry.prototype.constructor = PolyhedronBufferGeometry;\n\n  /**\n   * @author timothypratley / https://github.com/timothypratley\n   * @author Mugen87 / https://github.com/Mugen87\n   */\n\n  // TetrahedronGeometry\n\n  function TetrahedronGeometry(radius, detail) {\n\n    Geometry.call(this);\n\n    this.type = 'TetrahedronGeometry';\n\n    this.parameters = {\n      radius: radius,\n      detail: detail\n    };\n\n    this.fromBufferGeometry(new TetrahedronBufferGeometry(radius, detail));\n    this.mergeVertices();\n\n  }\n\n  TetrahedronGeometry.prototype = Object.create(Geometry.prototype);\n  TetrahedronGeometry.prototype.constructor = TetrahedronGeometry;\n\n  // TetrahedronBufferGeometry\n\n  function TetrahedronBufferGeometry(radius, detail) {\n\n    var vertices = [\n      1, 1, 1, -1, -1, 1, -1, 1, -1, 1, -1, -1\n    ];\n\n    var indices = [\n      2, 1, 0, 0, 3, 2, 1, 3, 0, 2, 3, 1\n    ];\n\n    PolyhedronBufferGeometry.call(this, vertices, indices, radius, detail);\n\n    this.type = 'TetrahedronBufferGeometry';\n\n    this.parameters = {\n      radius: radius,\n      detail: detail\n    };\n\n  }\n\n  TetrahedronBufferGeometry.prototype = Object.create(PolyhedronBufferGeometry.prototype);\n  TetrahedronBufferGeometry.prototype.constructor = TetrahedronBufferGeometry;\n\n  /**\n   * @author timothypratley / https://github.com/timothypratley\n   * @author Mugen87 / https://github.com/Mugen87\n   */\n\n  // OctahedronGeometry\n\n  function OctahedronGeometry(radius, detail) {\n\n    Geometry.call(this);\n\n    this.type = 'OctahedronGeometry';\n\n    this.parameters = {\n      radius: radius,\n      detail: detail\n    };\n\n    this.fromBufferGeometry(new OctahedronBufferGeometry(radius, detail));\n    this.mergeVertices();\n\n  }\n\n  OctahedronGeometry.prototype = Object.create(Geometry.prototype);\n  OctahedronGeometry.prototype.constructor = OctahedronGeometry;\n\n  // OctahedronBufferGeometry\n\n  function OctahedronBufferGeometry(radius, detail) {\n\n    var vertices = [\n      1, 0, 0, -1, 0, 0, 0, 1, 0,\n      0, -1, 0, 0, 0, 1, 0, 0, -1\n    ];\n\n    var indices = [\n      0, 2, 4, 0, 4, 3, 0, 3, 5,\n      0, 5, 2, 1, 2, 5, 1, 5, 3,\n      1, 3, 4, 1, 4, 2\n    ];\n\n    PolyhedronBufferGeometry.call(this, vertices, indices, radius, detail);\n\n    this.type = 'OctahedronBufferGeometry';\n\n    this.parameters = {\n      radius: radius,\n      detail: detail\n    };\n\n  }\n\n  OctahedronBufferGeometry.prototype = Object.create(PolyhedronBufferGeometry.prototype);\n  OctahedronBufferGeometry.prototype.constructor = OctahedronBufferGeometry;\n\n  /**\n   * @author timothypratley / https://github.com/timothypratley\n   * @author Mugen87 / https://github.com/Mugen87\n   */\n\n  // IcosahedronGeometry\n\n  function IcosahedronGeometry(radius, detail) {\n\n    Geometry.call(this);\n\n    this.type = 'IcosahedronGeometry';\n\n    this.parameters = {\n      radius: radius,\n      detail: detail\n    };\n\n    this.fromBufferGeometry(new IcosahedronBufferGeometry(radius, detail));\n    this.mergeVertices();\n\n  }\n\n  IcosahedronGeometry.prototype = Object.create(Geometry.prototype);\n  IcosahedronGeometry.prototype.constructor = IcosahedronGeometry;\n\n  // IcosahedronBufferGeometry\n\n  function IcosahedronBufferGeometry(radius, detail) {\n\n    var t = (1 + Math.sqrt(5)) / 2;\n\n    var vertices = [\n      -1, t, 0, 1, t, 0, -1, -t, 0, 1, -t, 0,\n      0, -1, t, 0, 1, t, 0, -1, -t, 0, 1, -t,\n      t, 0, -1, t, 0, 1, -t, 0, -1, -t, 0, 1\n    ];\n\n    var indices = [\n      0, 11, 5, 0, 5, 1, 0, 1, 7, 0, 7, 10, 0, 10, 11,\n      1, 5, 9, 5, 11, 4, 11, 10, 2, 10, 7, 6, 7, 1, 8,\n      3, 9, 4, 3, 4, 2, 3, 2, 6, 3, 6, 8, 3, 8, 9,\n      4, 9, 5, 2, 4, 11, 6, 2, 10, 8, 6, 7, 9, 8, 1\n    ];\n\n    PolyhedronBufferGeometry.call(this, vertices, indices, radius, detail);\n\n    this.type = 'IcosahedronBufferGeometry';\n\n    this.parameters = {\n      radius: radius,\n      detail: detail\n    };\n\n  }\n\n  IcosahedronBufferGeometry.prototype = Object.create(PolyhedronBufferGeometry.prototype);\n  IcosahedronBufferGeometry.prototype.constructor = IcosahedronBufferGeometry;\n\n  /**\n   * @author Abe Pazos / https://hamoid.com\n   * @author Mugen87 / https://github.com/Mugen87\n   */\n\n  // DodecahedronGeometry\n\n  function DodecahedronGeometry(radius, detail) {\n\n    Geometry.call(this);\n\n    this.type = 'DodecahedronGeometry';\n\n    this.parameters = {\n      radius: radius,\n      detail: detail\n    };\n\n    this.fromBufferGeometry(new DodecahedronBufferGeometry(radius, detail));\n    this.mergeVertices();\n\n  }\n\n  DodecahedronGeometry.prototype = Object.create(Geometry.prototype);\n  DodecahedronGeometry.prototype.constructor = DodecahedronGeometry;\n\n  // DodecahedronBufferGeometry\n\n  function DodecahedronBufferGeometry(radius, detail) {\n\n    var t = (1 + Math.sqrt(5)) / 2;\n    var r = 1 / t;\n\n    var vertices = [\n\n      // (1, 1, 1)\n      -1, -1, -1, -1, -1, 1,\n      -1, 1, -1, -1, 1, 1,\n      1, -1, -1, 1, -1, 1,\n      1, 1, -1, 1, 1, 1,\n\n      // (0, 1/, )\n      0, -r, -t, 0, -r, t,\n      0, r, -t, 0, r, t,\n\n      // (1/, , 0)\n      -r, -t, 0, -r, t, 0,\n      r, -t, 0, r, t, 0,\n\n      // (, 0, 1/)\n      -t, 0, -r, t, 0, -r,\n      -t, 0, r, t, 0, r\n    ];\n\n    var indices = [\n      3, 11, 7, 3, 7, 15, 3, 15, 13,\n      7, 19, 17, 7, 17, 6, 7, 6, 15,\n      17, 4, 8, 17, 8, 10, 17, 10, 6,\n      8, 0, 16, 8, 16, 2, 8, 2, 10,\n      0, 12, 1, 0, 1, 18, 0, 18, 16,\n      6, 10, 2, 6, 2, 13, 6, 13, 15,\n      2, 16, 18, 2, 18, 3, 2, 3, 13,\n      18, 1, 9, 18, 9, 11, 18, 11, 3,\n      4, 14, 12, 4, 12, 0, 4, 0, 8,\n      11, 9, 5, 11, 5, 19, 11, 19, 7,\n      19, 5, 14, 19, 14, 4, 19, 4, 17,\n      1, 12, 14, 1, 14, 5, 1, 5, 9\n    ];\n\n    PolyhedronBufferGeometry.call(this, vertices, indices, radius, detail);\n\n    this.type = 'DodecahedronBufferGeometry';\n\n    this.parameters = {\n      radius: radius,\n      detail: detail\n    };\n\n  }\n\n  DodecahedronBufferGeometry.prototype = Object.create(PolyhedronBufferGeometry.prototype);\n  DodecahedronBufferGeometry.prototype.constructor = DodecahedronBufferGeometry;\n\n  /**\n   * @author oosmoxiecode / https://github.com/oosmoxiecode\n   * @author WestLangley / https://github.com/WestLangley\n   * @author zz85 / https://github.com/zz85\n   * @author miningold / https://github.com/miningold\n   * @author jonobr1 / https://github.com/jonobr1\n   * @author Mugen87 / https://github.com/Mugen87\n   *\n   */\n\n  // TubeGeometry\n\n  function TubeGeometry(path, tubularSegments, radius, radialSegments, closed, taper) {\n\n    Geometry.call(this);\n\n    this.type = 'TubeGeometry';\n\n    this.parameters = {\n      path: path,\n      tubularSegments: tubularSegments,\n      radius: radius,\n      radialSegments: radialSegments,\n      closed: closed\n    };\n\n    if (taper !== undefined) {\n      console.warn('THREE.TubeGeometry: taper has been removed.');\n    }\n\n    var bufferGeometry = new TubeBufferGeometry(path, tubularSegments, radius, radialSegments, closed);\n\n    // expose internals\n\n    this.tangents = bufferGeometry.tangents;\n    this.normals = bufferGeometry.normals;\n    this.binormals = bufferGeometry.binormals;\n\n    // create geometry\n\n    this.fromBufferGeometry(bufferGeometry);\n    this.mergeVertices();\n\n  }\n\n  TubeGeometry.prototype = Object.create(Geometry.prototype);\n  TubeGeometry.prototype.constructor = TubeGeometry;\n\n  // TubeBufferGeometry\n\n  function TubeBufferGeometry(path, tubularSegments, radius, radialSegments, closed) {\n\n    BufferGeometry.call(this);\n\n    this.type = 'TubeBufferGeometry';\n\n    this.parameters = {\n      path: path,\n      tubularSegments: tubularSegments,\n      radius: radius,\n      radialSegments: radialSegments,\n      closed: closed\n    };\n\n    tubularSegments = tubularSegments || 64;\n    radius = radius || 1;\n    radialSegments = radialSegments || 8;\n    closed = closed || false;\n\n    var frames = path.computeFrenetFrames(tubularSegments, closed);\n\n    // expose internals\n\n    this.tangents = frames.tangents;\n    this.normals = frames.normals;\n    this.binormals = frames.binormals;\n\n    // helper variables\n\n    var vertex = new Vector3();\n    var normal = new Vector3();\n    var uv = new Vector2();\n    var P = new Vector3();\n\n    var i, j;\n\n    // buffer\n\n    var vertices = [];\n    var normals = [];\n    var uvs = [];\n    var indices = [];\n\n    // create buffer data\n\n    generateBufferData();\n\n    // build geometry\n\n    this.setIndex(indices);\n    this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n    this.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n    this.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\n    // functions\n\n    function generateBufferData() {\n\n      for (i = 0; i < tubularSegments; i++) {\n\n        generateSegment(i);\n\n      }\n\n      // if the geometry is not closed, generate the last row of vertices and normals\n      // at the regular position on the given path\n      //\n      // if the geometry is closed, duplicate the first row of vertices and normals (uvs will differ)\n\n      generateSegment((closed === false) ? tubularSegments : 0);\n\n      // uvs are generated in a separate function.\n      // this makes it easy compute correct values for closed geometries\n\n      generateUVs();\n\n      // finally create faces\n\n      generateIndices();\n\n    }\n\n    function generateSegment(i) {\n\n      // we use getPointAt to sample evenly distributed points from the given path\n\n      P = path.getPointAt(i / tubularSegments, P);\n\n      // retrieve corresponding normal and binormal\n\n      var N = frames.normals[i];\n      var B = frames.binormals[i];\n\n      // generate normals and vertices for the current segment\n\n      for (j = 0; j <= radialSegments; j++) {\n\n        var v = j / radialSegments * Math.PI * 2;\n\n        var sin = Math.sin(v);\n        var cos = -Math.cos(v);\n\n        // normal\n\n        normal.x = (cos * N.x + sin * B.x);\n        normal.y = (cos * N.y + sin * B.y);\n        normal.z = (cos * N.z + sin * B.z);\n        normal.normalize();\n\n        normals.push(normal.x, normal.y, normal.z);\n\n        // vertex\n\n        vertex.x = P.x + radius * normal.x;\n        vertex.y = P.y + radius * normal.y;\n        vertex.z = P.z + radius * normal.z;\n\n        vertices.push(vertex.x, vertex.y, vertex.z);\n\n      }\n\n    }\n\n    function generateIndices() {\n\n      for (j = 1; j <= tubularSegments; j++) {\n\n        for (i = 1; i <= radialSegments; i++) {\n\n          var a = (radialSegments + 1) * (j - 1) + (i - 1);\n          var b = (radialSegments + 1) * j + (i - 1);\n          var c = (radialSegments + 1) * j + i;\n          var d = (radialSegments + 1) * (j - 1) + i;\n\n          // faces\n\n          indices.push(a, b, d);\n          indices.push(b, c, d);\n\n        }\n\n      }\n\n    }\n\n    function generateUVs() {\n\n      for (i = 0; i <= tubularSegments; i++) {\n\n        for (j = 0; j <= radialSegments; j++) {\n\n          uv.x = i / tubularSegments;\n          uv.y = j / radialSegments;\n\n          uvs.push(uv.x, uv.y);\n\n        }\n\n      }\n\n    }\n\n  }\n\n  TubeBufferGeometry.prototype = Object.create(BufferGeometry.prototype);\n  TubeBufferGeometry.prototype.constructor = TubeBufferGeometry;\n\n  TubeBufferGeometry.prototype.toJSON = function() {\n\n    var data = BufferGeometry.prototype.toJSON.call(this);\n\n    data.path = this.parameters.path.toJSON();\n\n    return data;\n\n  };\n\n  /**\n   * @author oosmoxiecode\n   * @author Mugen87 / https://github.com/Mugen87\n   *\n   * based on http://www.blackpawn.com/texts/pqtorus/\n   */\n\n  // TorusKnotGeometry\n\n  function TorusKnotGeometry(radius, tube, tubularSegments, radialSegments, p, q, heightScale) {\n\n    Geometry.call(this);\n\n    this.type = 'TorusKnotGeometry';\n\n    this.parameters = {\n      radius: radius,\n      tube: tube,\n      tubularSegments: tubularSegments,\n      radialSegments: radialSegments,\n      p: p,\n      q: q\n    };\n\n    if (heightScale !== undefined) {\n      console.warn('THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.');\n    }\n\n    this.fromBufferGeometry(new TorusKnotBufferGeometry(radius, tube, tubularSegments, radialSegments, p, q));\n    this.mergeVertices();\n\n  }\n\n  TorusKnotGeometry.prototype = Object.create(Geometry.prototype);\n  TorusKnotGeometry.prototype.constructor = TorusKnotGeometry;\n\n  // TorusKnotBufferGeometry\n\n  function TorusKnotBufferGeometry(radius, tube, tubularSegments, radialSegments, p, q) {\n\n    BufferGeometry.call(this);\n\n    this.type = 'TorusKnotBufferGeometry';\n\n    this.parameters = {\n      radius: radius,\n      tube: tube,\n      tubularSegments: tubularSegments,\n      radialSegments: radialSegments,\n      p: p,\n      q: q\n    };\n\n    radius = radius || 1;\n    tube = tube || 0.4;\n    tubularSegments = Math.floor(tubularSegments) || 64;\n    radialSegments = Math.floor(radialSegments) || 8;\n    p = p || 2;\n    q = q || 3;\n\n    // buffers\n\n    var indices = [];\n    var vertices = [];\n    var normals = [];\n    var uvs = [];\n\n    // helper variables\n\n    var i, j;\n\n    var vertex = new Vector3();\n    var normal = new Vector3();\n\n    var P1 = new Vector3();\n    var P2 = new Vector3();\n\n    var B = new Vector3();\n    var T = new Vector3();\n    var N = new Vector3();\n\n    // generate vertices, normals and uvs\n\n    for (i = 0; i <= tubularSegments; ++i) {\n\n      // the radian \"u\" is used to calculate the position on the torus curve of the current tubular segement\n\n      var u = i / tubularSegments * p * Math.PI * 2;\n\n      // now we calculate two points. P1 is our current position on the curve, P2 is a little farther ahead.\n      // these points are used to create a special \"coordinate space\", which is necessary to calculate the correct vertex positions\n\n      calculatePositionOnCurve(u, p, q, radius, P1);\n      calculatePositionOnCurve(u + 0.01, p, q, radius, P2);\n\n      // calculate orthonormal basis\n\n      T.subVectors(P2, P1);\n      N.addVectors(P2, P1);\n      B.crossVectors(T, N);\n      N.crossVectors(B, T);\n\n      // normalize B, N. T can be ignored, we don't use it\n\n      B.normalize();\n      N.normalize();\n\n      for (j = 0; j <= radialSegments; ++j) {\n\n        // now calculate the vertices. they are nothing more than an extrusion of the torus curve.\n        // because we extrude a shape in the xy-plane, there is no need to calculate a z-value.\n\n        var v = j / radialSegments * Math.PI * 2;\n        var cx = -tube * Math.cos(v);\n        var cy = tube * Math.sin(v);\n\n        // now calculate the final vertex position.\n        // first we orient the extrusion with our basis vectos, then we add it to the current position on the curve\n\n        vertex.x = P1.x + (cx * N.x + cy * B.x);\n        vertex.y = P1.y + (cx * N.y + cy * B.y);\n        vertex.z = P1.z + (cx * N.z + cy * B.z);\n\n        vertices.push(vertex.x, vertex.y, vertex.z);\n\n        // normal (P1 is always the center/origin of the extrusion, thus we can use it to calculate the normal)\n\n        normal.subVectors(vertex, P1).normalize();\n\n        normals.push(normal.x, normal.y, normal.z);\n\n        // uv\n\n        uvs.push(i / tubularSegments);\n        uvs.push(j / radialSegments);\n\n      }\n\n    }\n\n    // generate indices\n\n    for (j = 1; j <= tubularSegments; j++) {\n\n      for (i = 1; i <= radialSegments; i++) {\n\n        // indices\n\n        var a = (radialSegments + 1) * (j - 1) + (i - 1);\n        var b = (radialSegments + 1) * j + (i - 1);\n        var c = (radialSegments + 1) * j + i;\n        var d = (radialSegments + 1) * (j - 1) + i;\n\n        // faces\n\n        indices.push(a, b, d);\n        indices.push(b, c, d);\n\n      }\n\n    }\n\n    // build geometry\n\n    this.setIndex(indices);\n    this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n    this.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n    this.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\n    // this function calculates the current position on the torus curve\n\n    function calculatePositionOnCurve(u, p, q, radius, position) {\n\n      var cu = Math.cos(u);\n      var su = Math.sin(u);\n      var quOverP = q / p * u;\n      var cs = Math.cos(quOverP);\n\n      position.x = radius * (2 + cs) * 0.5 * cu;\n      position.y = radius * (2 + cs) * su * 0.5;\n      position.z = radius * Math.sin(quOverP) * 0.5;\n\n    }\n\n  }\n\n  TorusKnotBufferGeometry.prototype = Object.create(BufferGeometry.prototype);\n  TorusKnotBufferGeometry.prototype.constructor = TorusKnotBufferGeometry;\n\n  /**\n   * @author oosmoxiecode\n   * @author mrdoob / http://mrdoob.com/\n   * @author Mugen87 / https://github.com/Mugen87\n   */\n\n  // TorusGeometry\n\n  function TorusGeometry(radius, tube, radialSegments, tubularSegments, arc) {\n\n    Geometry.call(this);\n\n    this.type = 'TorusGeometry';\n\n    this.parameters = {\n      radius: radius,\n      tube: tube,\n      radialSegments: radialSegments,\n      tubularSegments: tubularSegments,\n      arc: arc\n    };\n\n    this.fromBufferGeometry(new TorusBufferGeometry(radius, tube, radialSegments, tubularSegments, arc));\n    this.mergeVertices();\n\n  }\n\n  TorusGeometry.prototype = Object.create(Geometry.prototype);\n  TorusGeometry.prototype.constructor = TorusGeometry;\n\n  // TorusBufferGeometry\n\n  function TorusBufferGeometry(radius, tube, radialSegments, tubularSegments, arc) {\n\n    BufferGeometry.call(this);\n\n    this.type = 'TorusBufferGeometry';\n\n    this.parameters = {\n      radius: radius,\n      tube: tube,\n      radialSegments: radialSegments,\n      tubularSegments: tubularSegments,\n      arc: arc\n    };\n\n    radius = radius || 1;\n    tube = tube || 0.4;\n    radialSegments = Math.floor(radialSegments) || 8;\n    tubularSegments = Math.floor(tubularSegments) || 6;\n    arc = arc || Math.PI * 2;\n\n    // buffers\n\n    var indices = [];\n    var vertices = [];\n    var normals = [];\n    var uvs = [];\n\n    // helper variables\n\n    var center = new Vector3();\n    var vertex = new Vector3();\n    var normal = new Vector3();\n\n    var j, i;\n\n    // generate vertices, normals and uvs\n\n    for (j = 0; j <= radialSegments; j++) {\n\n      for (i = 0; i <= tubularSegments; i++) {\n\n        var u = i / tubularSegments * arc;\n        var v = j / radialSegments * Math.PI * 2;\n\n        // vertex\n\n        vertex.x = (radius + tube * Math.cos(v)) * Math.cos(u);\n        vertex.y = (radius + tube * Math.cos(v)) * Math.sin(u);\n        vertex.z = tube * Math.sin(v);\n\n        vertices.push(vertex.x, vertex.y, vertex.z);\n\n        // normal\n\n        center.x = radius * Math.cos(u);\n        center.y = radius * Math.sin(u);\n        normal.subVectors(vertex, center).normalize();\n\n        normals.push(normal.x, normal.y, normal.z);\n\n        // uv\n\n        uvs.push(i / tubularSegments);\n        uvs.push(j / radialSegments);\n\n      }\n\n    }\n\n    // generate indices\n\n    for (j = 1; j <= radialSegments; j++) {\n\n      for (i = 1; i <= tubularSegments; i++) {\n\n        // indices\n\n        var a = (tubularSegments + 1) * j + i - 1;\n        var b = (tubularSegments + 1) * (j - 1) + i - 1;\n        var c = (tubularSegments + 1) * (j - 1) + i;\n        var d = (tubularSegments + 1) * j + i;\n\n        // faces\n\n        indices.push(a, b, d);\n        indices.push(b, c, d);\n\n      }\n\n    }\n\n    // build geometry\n\n    this.setIndex(indices);\n    this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n    this.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n    this.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\n  }\n\n  TorusBufferGeometry.prototype = Object.create(BufferGeometry.prototype);\n  TorusBufferGeometry.prototype.constructor = TorusBufferGeometry;\n\n  /**\n   * @author Mugen87 / https://github.com/Mugen87\n   * Port from https://github.com/mapbox/earcut (v2.1.5)\n   */\n\n  var Earcut = {\n\n    triangulate: function(data, holeIndices, dim) {\n\n      dim = dim || 2;\n\n      var hasHoles = holeIndices && holeIndices.length,\n        outerLen = hasHoles ? holeIndices[0] * dim : data.length,\n        outerNode = linkedList(data, 0, outerLen, dim, true),\n        triangles = [];\n\n      if (!outerNode || outerNode.next === outerNode.prev) {\n        return triangles;\n      }\n\n      var minX, minY, maxX, maxY, x, y, invSize;\n\n      if (hasHoles) {\n        outerNode = eliminateHoles(data, holeIndices, outerNode, dim);\n      }\n\n      // if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox\n      if (data.length > 80 * dim) {\n\n        minX = maxX = data[0];\n        minY = maxY = data[1];\n\n        for (var i = dim; i < outerLen; i += dim) {\n\n          x = data[i];\n          y = data[i + 1];\n          if (x < minX) {\n            minX = x;\n          }\n          if (y < minY) {\n            minY = y;\n          }\n          if (x > maxX) {\n            maxX = x;\n          }\n          if (y > maxY) {\n            maxY = y;\n          }\n\n        }\n\n        // minX, minY and invSize are later used to transform coords into integers for z-order calculation\n        invSize = Math.max(maxX - minX, maxY - minY);\n        invSize = invSize !== 0 ? 1 / invSize : 0;\n\n      }\n\n      earcutLinked(outerNode, triangles, dim, minX, minY, invSize);\n\n      return triangles;\n\n    }\n\n  };\n\n  // create a circular doubly linked list from polygon points in the specified winding order\n  function linkedList(data, start, end, dim, clockwise) {\n\n    var i, last;\n\n    if (clockwise === (signedArea(data, start, end, dim) > 0)) {\n\n      for (i = start; i < end; i += dim) {\n        last = insertNode(i, data[i], data[i + 1], last);\n      }\n\n    } else {\n\n      for (i = end - dim; i >= start; i -= dim) {\n        last = insertNode(i, data[i], data[i + 1], last);\n      }\n\n    }\n\n    if (last && equals(last, last.next)) {\n\n      removeNode(last);\n      last = last.next;\n\n    }\n\n    return last;\n\n  }\n\n  // eliminate colinear or duplicate points\n  function filterPoints(start, end) {\n\n    if (!start) {\n      return start;\n    }\n    if (!end) {\n      end = start;\n    }\n\n    var p = start,\n      again;\n    do {\n\n      again = false;\n\n      if (!p.steiner && (equals(p, p.next) || area(p.prev, p, p.next) === 0)) {\n\n        removeNode(p);\n        p = end = p.prev;\n        if (p === p.next) {\n          break;\n        }\n        again = true;\n\n      } else {\n\n        p = p.next;\n\n      }\n\n    } while (again || p !== end);\n\n    return end;\n\n  }\n\n  // main ear slicing loop which triangulates a polygon (given as a linked list)\n  function earcutLinked(ear, triangles, dim, minX, minY, invSize, pass) {\n\n    if (!ear) {\n      return;\n    }\n\n    // interlink polygon nodes in z-order\n    if (!pass && invSize) {\n      indexCurve(ear, minX, minY, invSize);\n    }\n\n    var stop = ear,\n      prev, next;\n\n    // iterate through ears, slicing them one by one\n    while (ear.prev !== ear.next) {\n\n      prev = ear.prev;\n      next = ear.next;\n\n      if (invSize ? isEarHashed(ear, minX, minY, invSize) : isEar(ear)) {\n\n        // cut off the triangle\n        triangles.push(prev.i / dim);\n        triangles.push(ear.i / dim);\n        triangles.push(next.i / dim);\n\n        removeNode(ear);\n\n        // skipping the next vertex leads to less sliver triangles\n        ear = next.next;\n        stop = next.next;\n\n        continue;\n\n      }\n\n      ear = next;\n\n      // if we looped through the whole remaining polygon and can't find any more ears\n      if (ear === stop) {\n\n        // try filtering points and slicing again\n        if (!pass) {\n\n          earcutLinked(filterPoints(ear), triangles, dim, minX, minY, invSize, 1);\n\n          // if this didn't work, try curing all small self-intersections locally\n\n        } else if (pass === 1) {\n\n          ear = cureLocalIntersections(ear, triangles, dim);\n          earcutLinked(ear, triangles, dim, minX, minY, invSize, 2);\n\n          // as a last resort, try splitting the remaining polygon into two\n\n        } else if (pass === 2) {\n\n          splitEarcut(ear, triangles, dim, minX, minY, invSize);\n\n        }\n\n        break;\n\n      }\n\n    }\n\n  }\n\n  // check whether a polygon node forms a valid ear with adjacent nodes\n  function isEar(ear) {\n\n    var a = ear.prev,\n      b = ear,\n      c = ear.next;\n\n    if (area(a, b, c) >= 0) {\n      return false;\n    } // reflex, can't be an ear\n\n    // now make sure we don't have other points inside the potential ear\n    var p = ear.next.next;\n\n    while (p !== ear.prev) {\n\n      if (pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) &&\n        area(p.prev, p, p.next) >= 0) {\n        return false;\n      }\n      p = p.next;\n\n    }\n\n    return true;\n\n  }\n\n  function isEarHashed(ear, minX, minY, invSize) {\n\n    var a = ear.prev,\n      b = ear,\n      c = ear.next;\n\n    if (area(a, b, c) >= 0) {\n      return false;\n    } // reflex, can't be an ear\n\n    // triangle bbox; min & max are calculated like this for speed\n    var minTX = a.x < b.x ? (a.x < c.x ? a.x : c.x) : (b.x < c.x ? b.x : c.x),\n      minTY = a.y < b.y ? (a.y < c.y ? a.y : c.y) : (b.y < c.y ? b.y : c.y),\n      maxTX = a.x > b.x ? (a.x > c.x ? a.x : c.x) : (b.x > c.x ? b.x : c.x),\n      maxTY = a.y > b.y ? (a.y > c.y ? a.y : c.y) : (b.y > c.y ? b.y : c.y);\n\n    // z-order range for the current triangle bbox;\n    var minZ = zOrder(minTX, minTY, minX, minY, invSize),\n      maxZ = zOrder(maxTX, maxTY, minX, minY, invSize);\n\n    var p = ear.prevZ,\n      n = ear.nextZ;\n\n    // look for points inside the triangle in both directions\n    while (p && p.z >= minZ && n && n.z <= maxZ) {\n\n      if (p !== ear.prev && p !== ear.next &&\n        pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) &&\n        area(p.prev, p, p.next) >= 0) {\n        return false;\n      }\n      p = p.prevZ;\n\n      if (n !== ear.prev && n !== ear.next &&\n        pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y) &&\n        area(n.prev, n, n.next) >= 0) {\n        return false;\n      }\n      n = n.nextZ;\n\n    }\n\n    // look for remaining points in decreasing z-order\n    while (p && p.z >= minZ) {\n\n      if (p !== ear.prev && p !== ear.next &&\n        pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) &&\n        area(p.prev, p, p.next) >= 0) {\n        return false;\n      }\n      p = p.prevZ;\n\n    }\n\n    // look for remaining points in increasing z-order\n    while (n && n.z <= maxZ) {\n\n      if (n !== ear.prev && n !== ear.next &&\n        pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y) &&\n        area(n.prev, n, n.next) >= 0) {\n        return false;\n      }\n      n = n.nextZ;\n\n    }\n\n    return true;\n\n  }\n\n  // go through all polygon nodes and cure small local self-intersections\n  function cureLocalIntersections(start, triangles, dim) {\n\n    var p = start;\n    do {\n\n      var a = p.prev,\n        b = p.next.next;\n\n      if (!equals(a, b) && intersects(a, p, p.next, b) && locallyInside(a, b) && locallyInside(b, a)) {\n\n        triangles.push(a.i / dim);\n        triangles.push(p.i / dim);\n        triangles.push(b.i / dim);\n\n        // remove two nodes involved\n        removeNode(p);\n        removeNode(p.next);\n\n        p = start = b;\n\n      }\n\n      p = p.next;\n\n    } while (p !== start);\n\n    return p;\n\n  }\n\n  // try splitting polygon into two and triangulate them independently\n  function splitEarcut(start, triangles, dim, minX, minY, invSize) {\n\n    // look for a valid diagonal that divides the polygon into two\n    var a = start;\n    do {\n\n      var b = a.next.next;\n      while (b !== a.prev) {\n\n        if (a.i !== b.i && isValidDiagonal(a, b)) {\n\n          // split the polygon in two by the diagonal\n          var c = splitPolygon(a, b);\n\n          // filter colinear points around the cuts\n          a = filterPoints(a, a.next);\n          c = filterPoints(c, c.next);\n\n          // run earcut on each half\n          earcutLinked(a, triangles, dim, minX, minY, invSize);\n          earcutLinked(c, triangles, dim, minX, minY, invSize);\n          return;\n\n        }\n\n        b = b.next;\n\n      }\n\n      a = a.next;\n\n    } while (a !== start);\n\n  }\n\n  // link every hole into the outer loop, producing a single-ring polygon without holes\n  function eliminateHoles(data, holeIndices, outerNode, dim) {\n\n    var queue = [],\n      i, len, start, end, list;\n\n    for (i = 0, len = holeIndices.length; i < len; i++) {\n\n      start = holeIndices[i] * dim;\n      end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;\n      list = linkedList(data, start, end, dim, false);\n      if (list === list.next) {\n        list.steiner = true;\n      }\n      queue.push(getLeftmost(list));\n\n    }\n\n    queue.sort(compareX);\n\n    // process holes from left to right\n    for (i = 0; i < queue.length; i++) {\n\n      eliminateHole(queue[i], outerNode);\n      outerNode = filterPoints(outerNode, outerNode.next);\n\n    }\n\n    return outerNode;\n\n  }\n\n  function compareX(a, b) {\n\n    return a.x - b.x;\n\n  }\n\n  // find a bridge between vertices that connects hole with an outer ring and and link it\n  function eliminateHole(hole, outerNode) {\n\n    outerNode = findHoleBridge(hole, outerNode);\n    if (outerNode) {\n\n      var b = splitPolygon(outerNode, hole);\n      filterPoints(b, b.next);\n\n    }\n\n  }\n\n  // David Eberly's algorithm for finding a bridge between hole and outer polygon\n  function findHoleBridge(hole, outerNode) {\n\n    var p = outerNode,\n      hx = hole.x,\n      hy = hole.y,\n      qx = -Infinity,\n      m;\n\n    // find a segment intersected by a ray from the hole's leftmost point to the left;\n    // segment's endpoint with lesser x will be potential connection point\n    do {\n\n      if (hy <= p.y && hy >= p.next.y && p.next.y !== p.y) {\n\n        var x = p.x + (hy - p.y) * (p.next.x - p.x) / (p.next.y - p.y);\n        if (x <= hx && x > qx) {\n\n          qx = x;\n          if (x === hx) {\n\n            if (hy === p.y) {\n              return p;\n            }\n            if (hy === p.next.y) {\n              return p.next;\n            }\n\n          }\n\n          m = p.x < p.next.x ? p : p.next;\n\n        }\n\n      }\n\n      p = p.next;\n\n    } while (p !== outerNode);\n\n    if (!m) {\n      return null;\n    }\n\n    if (hx === qx) {\n      return m.prev;\n    } // hole touches outer segment; pick lower endpoint\n\n    // look for points inside the triangle of hole point, segment intersection and endpoint;\n    // if there are no points found, we have a valid connection;\n    // otherwise choose the point of the minimum angle with the ray as connection point\n\n    var stop = m,\n      mx = m.x,\n      my = m.y,\n      tanMin = Infinity,\n      tan;\n\n    p = m.next;\n\n    while (p !== stop) {\n\n      if (hx >= p.x && p.x >= mx && hx !== p.x &&\n        pointInTriangle(hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y)) {\n\n        tan = Math.abs(hy - p.y) / (hx - p.x); // tangential\n\n        if ((tan < tanMin || (tan === tanMin && p.x > m.x)) && locallyInside(p, hole)) {\n\n          m = p;\n          tanMin = tan;\n\n        }\n\n      }\n\n      p = p.next;\n\n    }\n\n    return m;\n\n  }\n\n  // interlink polygon nodes in z-order\n  function indexCurve(start, minX, minY, invSize) {\n\n    var p = start;\n    do {\n\n      if (p.z === null) {\n        p.z = zOrder(p.x, p.y, minX, minY, invSize);\n      }\n      p.prevZ = p.prev;\n      p.nextZ = p.next;\n      p = p.next;\n\n    } while (p !== start);\n\n    p.prevZ.nextZ = null;\n    p.prevZ = null;\n\n    sortLinked(p);\n\n  }\n\n  // Simon Tatham's linked list merge sort algorithm\n  // http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html\n  function sortLinked(list) {\n\n    var i, p, q, e, tail, numMerges, pSize, qSize,\n      inSize = 1;\n\n    do {\n\n      p = list;\n      list = null;\n      tail = null;\n      numMerges = 0;\n\n      while (p) {\n\n        numMerges++;\n        q = p;\n        pSize = 0;\n        for (i = 0; i < inSize; i++) {\n\n          pSize++;\n          q = q.nextZ;\n          if (!q) {\n            break;\n          }\n\n        }\n\n        qSize = inSize;\n\n        while (pSize > 0 || (qSize > 0 && q)) {\n\n          if (pSize !== 0 && (qSize === 0 || !q || p.z <= q.z)) {\n\n            e = p;\n            p = p.nextZ;\n            pSize--;\n\n          } else {\n\n            e = q;\n            q = q.nextZ;\n            qSize--;\n\n          }\n\n          if (tail) {\n            tail.nextZ = e;\n          } else {\n            list = e;\n          }\n\n          e.prevZ = tail;\n          tail = e;\n\n        }\n\n        p = q;\n\n      }\n\n      tail.nextZ = null;\n      inSize *= 2;\n\n    } while (numMerges > 1);\n\n    return list;\n\n  }\n\n  // z-order of a point given coords and inverse of the longer side of data bbox\n  function zOrder(x, y, minX, minY, invSize) {\n\n    // coords are transformed into non-negative 15-bit integer range\n    x = 32767 * (x - minX) * invSize;\n    y = 32767 * (y - minY) * invSize;\n\n    x = (x | (x << 8)) & 0x00FF00FF;\n    x = (x | (x << 4)) & 0x0F0F0F0F;\n    x = (x | (x << 2)) & 0x33333333;\n    x = (x | (x << 1)) & 0x55555555;\n\n    y = (y | (y << 8)) & 0x00FF00FF;\n    y = (y | (y << 4)) & 0x0F0F0F0F;\n    y = (y | (y << 2)) & 0x33333333;\n    y = (y | (y << 1)) & 0x55555555;\n\n    return x | (y << 1);\n\n  }\n\n  // find the leftmost node of a polygon ring\n  function getLeftmost(start) {\n\n    var p = start,\n      leftmost = start;\n    do {\n\n      if (p.x < leftmost.x || (p.x === leftmost.x && p.y < leftmost.y)) {\n        leftmost = p;\n      }\n      p = p.next;\n\n    } while (p !== start);\n\n    return leftmost;\n\n  }\n\n  // check if a point lies within a convex triangle\n  function pointInTriangle(ax, ay, bx, by, cx, cy, px, py) {\n\n    return (cx - px) * (ay - py) - (ax - px) * (cy - py) >= 0 &&\n      (ax - px) * (by - py) - (bx - px) * (ay - py) >= 0 &&\n      (bx - px) * (cy - py) - (cx - px) * (by - py) >= 0;\n\n  }\n\n  // check if a diagonal between two polygon nodes is valid (lies in polygon interior)\n  function isValidDiagonal(a, b) {\n\n    return a.next.i !== b.i && a.prev.i !== b.i && !intersectsPolygon(a, b) &&\n      locallyInside(a, b) && locallyInside(b, a) && middleInside(a, b);\n\n  }\n\n  // signed area of a triangle\n  function area(p, q, r) {\n\n    return (q.y - p.y) * (r.x - q.x) - (q.x - p.x) * (r.y - q.y);\n\n  }\n\n  // check if two points are equal\n  function equals(p1, p2) {\n\n    return p1.x === p2.x && p1.y === p2.y;\n\n  }\n\n  // check if two segments intersect\n  function intersects(p1, q1, p2, q2) {\n\n    if ((equals(p1, p2) && equals(q1, q2)) ||\n      (equals(p1, q2) && equals(p2, q1))) {\n      return true;\n    }\n    return area(p1, q1, p2) > 0 !== area(p1, q1, q2) > 0 &&\n      area(p2, q2, p1) > 0 !== area(p2, q2, q1) > 0;\n\n  }\n\n  // check if a polygon diagonal intersects any polygon segments\n  function intersectsPolygon(a, b) {\n\n    var p = a;\n    do {\n\n      if (p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i &&\n        intersects(p, p.next, a, b)) {\n        return true;\n      }\n      p = p.next;\n\n    } while (p !== a);\n\n    return false;\n\n  }\n\n  // check if a polygon diagonal is locally inside the polygon\n  function locallyInside(a, b) {\n\n    return area(a.prev, a, a.next) < 0 ?\n      area(a, b, a.next) >= 0 && area(a, a.prev, b) >= 0 :\n      area(a, b, a.prev) < 0 || area(a, a.next, b) < 0;\n\n  }\n\n  // check if the middle point of a polygon diagonal is inside the polygon\n  function middleInside(a, b) {\n\n    var p = a,\n      inside = false,\n      px = (a.x + b.x) / 2,\n      py = (a.y + b.y) / 2;\n    do {\n\n      if (((p.y > py) !== (p.next.y > py)) && p.next.y !== p.y &&\n        (px < (p.next.x - p.x) * (py - p.y) / (p.next.y - p.y) + p.x)) {\n        inside = !inside;\n      }\n      p = p.next;\n\n    } while (p !== a);\n\n    return inside;\n\n  }\n\n  // link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;\n  // if one belongs to the outer ring and another to a hole, it merges it into a single ring\n  function splitPolygon(a, b) {\n\n    var a2 = new Node(a.i, a.x, a.y),\n      b2 = new Node(b.i, b.x, b.y),\n      an = a.next,\n      bp = b.prev;\n\n    a.next = b;\n    b.prev = a;\n\n    a2.next = an;\n    an.prev = a2;\n\n    b2.next = a2;\n    a2.prev = b2;\n\n    bp.next = b2;\n    b2.prev = bp;\n\n    return b2;\n\n  }\n\n  // create a node and optionally link it with previous one (in a circular doubly linked list)\n  function insertNode(i, x, y, last) {\n\n    var p = new Node(i, x, y);\n\n    if (!last) {\n\n      p.prev = p;\n      p.next = p;\n\n    } else {\n\n      p.next = last.next;\n      p.prev = last;\n      last.next.prev = p;\n      last.next = p;\n\n    }\n\n    return p;\n\n  }\n\n  function removeNode(p) {\n\n    p.next.prev = p.prev;\n    p.prev.next = p.next;\n\n    if (p.prevZ) {\n      p.prevZ.nextZ = p.nextZ;\n    }\n    if (p.nextZ) {\n      p.nextZ.prevZ = p.prevZ;\n    }\n\n  }\n\n  function Node(i, x, y) {\n\n    // vertex index in coordinates array\n    this.i = i;\n\n    // vertex coordinates\n    this.x = x;\n    this.y = y;\n\n    // previous and next vertex nodes in a polygon ring\n    this.prev = null;\n    this.next = null;\n\n    // z-order curve value\n    this.z = null;\n\n    // previous and next nodes in z-order\n    this.prevZ = null;\n    this.nextZ = null;\n\n    // indicates whether this is a steiner point\n    this.steiner = false;\n\n  }\n\n  function signedArea(data, start, end, dim) {\n\n    var sum = 0;\n    for (var i = start, j = end - dim; i < end; i += dim) {\n\n      sum += (data[j] - data[i]) * (data[i + 1] + data[j + 1]);\n      j = i;\n\n    }\n\n    return sum;\n\n  }\n\n  /**\n   * @author zz85 / http://www.lab4games.net/zz85/blog\n   */\n\n  var ShapeUtils = {\n\n    // calculate area of the contour polygon\n\n    area: function(contour) {\n\n      var n = contour.length;\n      var a = 0.0;\n\n      for (var p = n - 1, q = 0; q < n; p = q++) {\n\n        a += contour[p].x * contour[q].y - contour[q].x * contour[p].y;\n\n      }\n\n      return a * 0.5;\n\n    },\n\n    isClockWise: function(pts) {\n\n      return ShapeUtils.area(pts) < 0;\n\n    },\n\n    triangulateShape: function(contour, holes) {\n\n      var vertices = []; // flat array of vertices like [ x0,y0, x1,y1, x2,y2, ... ]\n      var holeIndices = []; // array of hole indices\n      var faces = []; // final array of vertex indices like [ [ a,b,d ], [ b,c,d ] ]\n\n      removeDupEndPts(contour);\n      addContour(vertices, contour);\n\n      //\n\n      var holeIndex = contour.length;\n\n      holes.forEach(removeDupEndPts);\n\n      for (var i = 0; i < holes.length; i++) {\n\n        holeIndices.push(holeIndex);\n        holeIndex += holes[i].length;\n        addContour(vertices, holes[i]);\n\n      }\n\n      //\n\n      var triangles = Earcut.triangulate(vertices, holeIndices);\n\n      //\n\n      for (var i = 0; i < triangles.length; i += 3) {\n\n        faces.push(triangles.slice(i, i + 3));\n\n      }\n\n      return faces;\n\n    }\n\n  };\n\n  function removeDupEndPts(points) {\n\n    var l = points.length;\n\n    if (l > 2 && points[l - 1].equals(points[0])) {\n\n      points.pop();\n\n    }\n\n  }\n\n  function addContour(vertices, contour) {\n\n    for (var i = 0; i < contour.length; i++) {\n\n      vertices.push(contour[i].x);\n      vertices.push(contour[i].y);\n\n    }\n\n  }\n\n  /**\n   * @author zz85 / http://www.lab4games.net/zz85/blog\n   *\n   * Creates extruded geometry from a path shape.\n   *\n   * parameters = {\n   *\n   *  curveSegments: <int>, // number of points on the curves\n   *  steps: <int>, // number of points for z-side extrusions / used for subdividing segments of extrude spline too\n   *  depth: <float>, // Depth to extrude the shape\n   *\n   *  bevelEnabled: <bool>, // turn on bevel\n   *  bevelThickness: <float>, // how deep into the original shape bevel goes\n   *  bevelSize: <float>, // how far from shape outline (including bevelOffset) is bevel\n   *  bevelOffset: <float>, // how far from shape outline does bevel start\n   *  bevelSegments: <int>, // number of bevel layers\n   *\n   *  extrudePath: <THREE.Curve> // curve to extrude shape along\n   *\n   *  UVGenerator: <Object> // object that provides UV generator functions\n   *\n   * }\n   */\n\n  // ExtrudeGeometry\n\n  function ExtrudeGeometry(shapes, options) {\n\n    Geometry.call(this);\n\n    this.type = 'ExtrudeGeometry';\n\n    this.parameters = {\n      shapes: shapes,\n      options: options\n    };\n\n    this.fromBufferGeometry(new ExtrudeBufferGeometry(shapes, options));\n    this.mergeVertices();\n\n  }\n\n  ExtrudeGeometry.prototype = Object.create(Geometry.prototype);\n  ExtrudeGeometry.prototype.constructor = ExtrudeGeometry;\n\n  ExtrudeGeometry.prototype.toJSON = function() {\n\n    var data = Geometry.prototype.toJSON.call(this);\n\n    var shapes = this.parameters.shapes;\n    var options = this.parameters.options;\n\n    return toJSON(shapes, options, data);\n\n  };\n\n  // ExtrudeBufferGeometry\n\n  function ExtrudeBufferGeometry(shapes, options) {\n\n    BufferGeometry.call(this);\n\n    this.type = 'ExtrudeBufferGeometry';\n\n    this.parameters = {\n      shapes: shapes,\n      options: options\n    };\n\n    shapes = Array.isArray(shapes) ? shapes : [shapes];\n\n    var scope = this;\n\n    var verticesArray = [];\n    var uvArray = [];\n\n    for (var i = 0, l = shapes.length; i < l; i++) {\n\n      var shape = shapes[i];\n      addShape(shape);\n\n    }\n\n    // build geometry\n\n    this.setAttribute('position', new Float32BufferAttribute(verticesArray, 3));\n    this.setAttribute('uv', new Float32BufferAttribute(uvArray, 2));\n\n    this.computeVertexNormals();\n\n    // functions\n\n    function addShape(shape) {\n\n      var placeholder = [];\n\n      // options\n\n      var curveSegments = options.curveSegments !== undefined ? options.curveSegments : 12;\n      var steps = options.steps !== undefined ? options.steps : 1;\n      var depth = options.depth !== undefined ? options.depth : 100;\n\n      var bevelEnabled = options.bevelEnabled !== undefined ? options.bevelEnabled : true;\n      var bevelThickness = options.bevelThickness !== undefined ? options.bevelThickness : 6;\n      var bevelSize = options.bevelSize !== undefined ? options.bevelSize : bevelThickness - 2;\n      var bevelOffset = options.bevelOffset !== undefined ? options.bevelOffset : 0;\n      var bevelSegments = options.bevelSegments !== undefined ? options.bevelSegments : 3;\n\n      var extrudePath = options.extrudePath;\n\n      var uvgen = options.UVGenerator !== undefined ? options.UVGenerator : WorldUVGenerator;\n\n      // deprecated options\n\n      if (options.amount !== undefined) {\n\n        console.warn('THREE.ExtrudeBufferGeometry: amount has been renamed to depth.');\n        depth = options.amount;\n\n      }\n\n      //\n\n      var extrudePts, extrudeByPath = false;\n      var splineTube, binormal, normal, position2;\n\n      if (extrudePath) {\n\n        extrudePts = extrudePath.getSpacedPoints(steps);\n\n        extrudeByPath = true;\n        bevelEnabled = false; // bevels not supported for path extrusion\n\n        // SETUP TNB variables\n\n        // TODO1 - have a .isClosed in spline?\n\n        splineTube = extrudePath.computeFrenetFrames(steps, false);\n\n        // console.log(splineTube, 'splineTube', splineTube.normals.length, 'steps', steps, 'extrudePts', extrudePts.length);\n\n        binormal = new Vector3();\n        normal = new Vector3();\n        position2 = new Vector3();\n\n      }\n\n      // Safeguards if bevels are not enabled\n\n      if (!bevelEnabled) {\n\n        bevelSegments = 0;\n        bevelThickness = 0;\n        bevelSize = 0;\n        bevelOffset = 0;\n\n      }\n\n      // Variables initialization\n\n      var ahole, h, hl; // looping of holes\n\n      var shapePoints = shape.extractPoints(curveSegments);\n\n      var vertices = shapePoints.shape;\n      var holes = shapePoints.holes;\n\n      var reverse = !ShapeUtils.isClockWise(vertices);\n\n      if (reverse) {\n\n        vertices = vertices.reverse();\n\n        // Maybe we should also check if holes are in the opposite direction, just to be safe ...\n\n        for (h = 0, hl = holes.length; h < hl; h++) {\n\n          ahole = holes[h];\n\n          if (ShapeUtils.isClockWise(ahole)) {\n\n            holes[h] = ahole.reverse();\n\n          }\n\n        }\n\n      }\n\n\n      var faces = ShapeUtils.triangulateShape(vertices, holes);\n\n      /* Vertices */\n\n      var contour = vertices; // vertices has all points but contour has only points of circumference\n\n      for (h = 0, hl = holes.length; h < hl; h++) {\n\n        ahole = holes[h];\n\n        vertices = vertices.concat(ahole);\n\n      }\n\n\n      function scalePt2(pt, vec, size) {\n\n        if (!vec) {\n          console.error(\"THREE.ExtrudeGeometry: vec does not exist\");\n        }\n\n        return vec.clone().multiplyScalar(size).add(pt);\n\n      }\n\n      var b, bs, t, z,\n        vert, vlen = vertices.length,\n        face, flen = faces.length;\n\n\n      // Find directions for point movement\n\n\n      function getBevelVec(inPt, inPrev, inNext) {\n\n        // computes for inPt the corresponding point inPt' on a new contour\n        //   shifted by 1 unit (length of normalized vector) to the left\n        // if we walk along contour clockwise, this new contour is outside the old one\n        //\n        // inPt' is the intersection of the two lines parallel to the two\n        //  adjacent edges of inPt at a distance of 1 unit on the left side.\n\n        var v_trans_x, v_trans_y, shrink_by; // resulting translation vector for inPt\n\n        // good reading for geometry algorithms (here: line-line intersection)\n        // http://geomalgorithms.com/a05-_intersect-1.html\n\n        var v_prev_x = inPt.x - inPrev.x,\n          v_prev_y = inPt.y - inPrev.y;\n        var v_next_x = inNext.x - inPt.x,\n          v_next_y = inNext.y - inPt.y;\n\n        var v_prev_lensq = (v_prev_x * v_prev_x + v_prev_y * v_prev_y);\n\n        // check for collinear edges\n        var collinear0 = (v_prev_x * v_next_y - v_prev_y * v_next_x);\n\n        if (Math.abs(collinear0) > Number.EPSILON) {\n\n          // not collinear\n\n          // length of vectors for normalizing\n\n          var v_prev_len = Math.sqrt(v_prev_lensq);\n          var v_next_len = Math.sqrt(v_next_x * v_next_x + v_next_y * v_next_y);\n\n          // shift adjacent points by unit vectors to the left\n\n          var ptPrevShift_x = (inPrev.x - v_prev_y / v_prev_len);\n          var ptPrevShift_y = (inPrev.y + v_prev_x / v_prev_len);\n\n          var ptNextShift_x = (inNext.x - v_next_y / v_next_len);\n          var ptNextShift_y = (inNext.y + v_next_x / v_next_len);\n\n          // scaling factor for v_prev to intersection point\n\n          var sf = ((ptNextShift_x - ptPrevShift_x) * v_next_y -\n              (ptNextShift_y - ptPrevShift_y) * v_next_x) /\n            (v_prev_x * v_next_y - v_prev_y * v_next_x);\n\n          // vector from inPt to intersection point\n\n          v_trans_x = (ptPrevShift_x + v_prev_x * sf - inPt.x);\n          v_trans_y = (ptPrevShift_y + v_prev_y * sf - inPt.y);\n\n          // Don't normalize!, otherwise sharp corners become ugly\n          //  but prevent crazy spikes\n          var v_trans_lensq = (v_trans_x * v_trans_x + v_trans_y * v_trans_y);\n          if (v_trans_lensq <= 2) {\n\n            return new Vector2(v_trans_x, v_trans_y);\n\n          } else {\n\n            shrink_by = Math.sqrt(v_trans_lensq / 2);\n\n          }\n\n        } else {\n\n          // handle special case of collinear edges\n\n          var direction_eq = false; // assumes: opposite\n          if (v_prev_x > Number.EPSILON) {\n\n            if (v_next_x > Number.EPSILON) {\n\n              direction_eq = true;\n\n            }\n\n          } else {\n\n            if (v_prev_x < -Number.EPSILON) {\n\n              if (v_next_x < -Number.EPSILON) {\n\n                direction_eq = true;\n\n              }\n\n            } else {\n\n              if (Math.sign(v_prev_y) === Math.sign(v_next_y)) {\n\n                direction_eq = true;\n\n              }\n\n            }\n\n          }\n\n          if (direction_eq) {\n\n            // console.log(\"Warning: lines are a straight sequence\");\n            v_trans_x = -v_prev_y;\n            v_trans_y = v_prev_x;\n            shrink_by = Math.sqrt(v_prev_lensq);\n\n          } else {\n\n            // console.log(\"Warning: lines are a straight spike\");\n            v_trans_x = v_prev_x;\n            v_trans_y = v_prev_y;\n            shrink_by = Math.sqrt(v_prev_lensq / 2);\n\n          }\n\n        }\n\n        return new Vector2(v_trans_x / shrink_by, v_trans_y / shrink_by);\n\n      }\n\n\n      var contourMovements = [];\n\n      for (var i = 0, il = contour.length, j = il - 1, k = i + 1; i < il; i++, j++, k++) {\n\n        if (j === il) {\n          j = 0;\n        }\n        if (k === il) {\n          k = 0;\n        }\n\n        //  (j)---(i)---(k)\n        // console.log('i,j,k', i, j , k)\n\n        contourMovements[i] = getBevelVec(contour[i], contour[j], contour[k]);\n\n      }\n\n      var holesMovements = [],\n        oneHoleMovements, verticesMovements = contourMovements.concat();\n\n      for (h = 0, hl = holes.length; h < hl; h++) {\n\n        ahole = holes[h];\n\n        oneHoleMovements = [];\n\n        for (i = 0, il = ahole.length, j = il - 1, k = i + 1; i < il; i++, j++, k++) {\n\n          if (j === il) {\n            j = 0;\n          }\n          if (k === il) {\n            k = 0;\n          }\n\n          //  (j)---(i)---(k)\n          oneHoleMovements[i] = getBevelVec(ahole[i], ahole[j], ahole[k]);\n\n        }\n\n        holesMovements.push(oneHoleMovements);\n        verticesMovements = verticesMovements.concat(oneHoleMovements);\n\n      }\n\n\n      // Loop bevelSegments, 1 for the front, 1 for the back\n\n      for (b = 0; b < bevelSegments; b++) {\n\n        //for ( b = bevelSegments; b > 0; b -- ) {\n\n        t = b / bevelSegments;\n        z = bevelThickness * Math.cos(t * Math.PI / 2);\n        bs = bevelSize * Math.sin(t * Math.PI / 2) + bevelOffset;\n\n        // contract shape\n\n        for (i = 0, il = contour.length; i < il; i++) {\n\n          vert = scalePt2(contour[i], contourMovements[i], bs);\n\n          v(vert.x, vert.y, -z);\n\n        }\n\n        // expand holes\n\n        for (h = 0, hl = holes.length; h < hl; h++) {\n\n          ahole = holes[h];\n          oneHoleMovements = holesMovements[h];\n\n          for (i = 0, il = ahole.length; i < il; i++) {\n\n            vert = scalePt2(ahole[i], oneHoleMovements[i], bs);\n\n            v(vert.x, vert.y, -z);\n\n          }\n\n        }\n\n      }\n\n      bs = bevelSize + bevelOffset;\n\n      // Back facing vertices\n\n      for (i = 0; i < vlen; i++) {\n\n        vert = bevelEnabled ? scalePt2(vertices[i], verticesMovements[i], bs) : vertices[i];\n\n        if (!extrudeByPath) {\n\n          v(vert.x, vert.y, 0);\n\n        } else {\n\n          // v( vert.x, vert.y + extrudePts[ 0 ].y, extrudePts[ 0 ].x );\n\n          normal.copy(splineTube.normals[0]).multiplyScalar(vert.x);\n          binormal.copy(splineTube.binormals[0]).multiplyScalar(vert.y);\n\n          position2.copy(extrudePts[0]).add(normal).add(binormal);\n\n          v(position2.x, position2.y, position2.z);\n\n        }\n\n      }\n\n      // Add stepped vertices...\n      // Including front facing vertices\n\n      var s;\n\n      for (s = 1; s <= steps; s++) {\n\n        for (i = 0; i < vlen; i++) {\n\n          vert = bevelEnabled ? scalePt2(vertices[i], verticesMovements[i], bs) : vertices[i];\n\n          if (!extrudeByPath) {\n\n            v(vert.x, vert.y, depth / steps * s);\n\n          } else {\n\n            // v( vert.x, vert.y + extrudePts[ s - 1 ].y, extrudePts[ s - 1 ].x );\n\n            normal.copy(splineTube.normals[s]).multiplyScalar(vert.x);\n            binormal.copy(splineTube.binormals[s]).multiplyScalar(vert.y);\n\n            position2.copy(extrudePts[s]).add(normal).add(binormal);\n\n            v(position2.x, position2.y, position2.z);\n\n          }\n\n        }\n\n      }\n\n\n      // Add bevel segments planes\n\n      //for ( b = 1; b <= bevelSegments; b ++ ) {\n      for (b = bevelSegments - 1; b >= 0; b--) {\n\n        t = b / bevelSegments;\n        z = bevelThickness * Math.cos(t * Math.PI / 2);\n        bs = bevelSize * Math.sin(t * Math.PI / 2) + bevelOffset;\n\n        // contract shape\n\n        for (i = 0, il = contour.length; i < il; i++) {\n\n          vert = scalePt2(contour[i], contourMovements[i], bs);\n          v(vert.x, vert.y, depth + z);\n\n        }\n\n        // expand holes\n\n        for (h = 0, hl = holes.length; h < hl; h++) {\n\n          ahole = holes[h];\n          oneHoleMovements = holesMovements[h];\n\n          for (i = 0, il = ahole.length; i < il; i++) {\n\n            vert = scalePt2(ahole[i], oneHoleMovements[i], bs);\n\n            if (!extrudeByPath) {\n\n              v(vert.x, vert.y, depth + z);\n\n            } else {\n\n              v(vert.x, vert.y + extrudePts[steps - 1].y, extrudePts[steps - 1].x + z);\n\n            }\n\n          }\n\n        }\n\n      }\n\n      /* Faces */\n\n      // Top and bottom faces\n\n      buildLidFaces();\n\n      // Sides faces\n\n      buildSideFaces();\n\n\n      /////  Internal functions\n\n      function buildLidFaces() {\n\n        var start = verticesArray.length / 3;\n\n        if (bevelEnabled) {\n\n          var layer = 0; // steps + 1\n          var offset = vlen * layer;\n\n          // Bottom faces\n\n          for (i = 0; i < flen; i++) {\n\n            face = faces[i];\n            f3(face[2] + offset, face[1] + offset, face[0] + offset);\n\n          }\n\n          layer = steps + bevelSegments * 2;\n          offset = vlen * layer;\n\n          // Top faces\n\n          for (i = 0; i < flen; i++) {\n\n            face = faces[i];\n            f3(face[0] + offset, face[1] + offset, face[2] + offset);\n\n          }\n\n        } else {\n\n          // Bottom faces\n\n          for (i = 0; i < flen; i++) {\n\n            face = faces[i];\n            f3(face[2], face[1], face[0]);\n\n          }\n\n          // Top faces\n\n          for (i = 0; i < flen; i++) {\n\n            face = faces[i];\n            f3(face[0] + vlen * steps, face[1] + vlen * steps, face[2] + vlen * steps);\n\n          }\n\n        }\n\n        scope.addGroup(start, verticesArray.length / 3 - start, 0);\n\n      }\n\n      // Create faces for the z-sides of the shape\n\n      function buildSideFaces() {\n\n        var start = verticesArray.length / 3;\n        var layeroffset = 0;\n        sidewalls(contour, layeroffset);\n        layeroffset += contour.length;\n\n        for (h = 0, hl = holes.length; h < hl; h++) {\n\n          ahole = holes[h];\n          sidewalls(ahole, layeroffset);\n\n          //, true\n          layeroffset += ahole.length;\n\n        }\n\n\n        scope.addGroup(start, verticesArray.length / 3 - start, 1);\n\n\n      }\n\n      function sidewalls(contour, layeroffset) {\n\n        var j, k;\n        i = contour.length;\n\n        while (--i >= 0) {\n\n          j = i;\n          k = i - 1;\n          if (k < 0) {\n            k = contour.length - 1;\n          }\n\n          //console.log('b', i,j, i-1, k,vertices.length);\n\n          var s = 0,\n            sl = steps + bevelSegments * 2;\n\n          for (s = 0; s < sl; s++) {\n\n            var slen1 = vlen * s;\n            var slen2 = vlen * (s + 1);\n\n            var a = layeroffset + j + slen1,\n              b = layeroffset + k + slen1,\n              c = layeroffset + k + slen2,\n              d = layeroffset + j + slen2;\n\n            f4(a, b, c, d);\n\n          }\n\n        }\n\n      }\n\n      function v(x, y, z) {\n\n        placeholder.push(x);\n        placeholder.push(y);\n        placeholder.push(z);\n\n      }\n\n\n      function f3(a, b, c) {\n\n        addVertex(a);\n        addVertex(b);\n        addVertex(c);\n\n        var nextIndex = verticesArray.length / 3;\n        var uvs = uvgen.generateTopUV(scope, verticesArray, nextIndex - 3, nextIndex - 2, nextIndex - 1);\n\n        addUV(uvs[0]);\n        addUV(uvs[1]);\n        addUV(uvs[2]);\n\n      }\n\n      function f4(a, b, c, d) {\n\n        addVertex(a);\n        addVertex(b);\n        addVertex(d);\n\n        addVertex(b);\n        addVertex(c);\n        addVertex(d);\n\n\n        var nextIndex = verticesArray.length / 3;\n        var uvs = uvgen.generateSideWallUV(scope, verticesArray, nextIndex - 6, nextIndex - 3, nextIndex - 2, nextIndex - 1);\n\n        addUV(uvs[0]);\n        addUV(uvs[1]);\n        addUV(uvs[3]);\n\n        addUV(uvs[1]);\n        addUV(uvs[2]);\n        addUV(uvs[3]);\n\n      }\n\n      function addVertex(index) {\n\n        verticesArray.push(placeholder[index * 3 + 0]);\n        verticesArray.push(placeholder[index * 3 + 1]);\n        verticesArray.push(placeholder[index * 3 + 2]);\n\n      }\n\n\n      function addUV(vector2) {\n\n        uvArray.push(vector2.x);\n        uvArray.push(vector2.y);\n\n      }\n\n    }\n\n  }\n\n  ExtrudeBufferGeometry.prototype = Object.create(BufferGeometry.prototype);\n  ExtrudeBufferGeometry.prototype.constructor = ExtrudeBufferGeometry;\n\n  ExtrudeBufferGeometry.prototype.toJSON = function() {\n\n    var data = BufferGeometry.prototype.toJSON.call(this);\n\n    var shapes = this.parameters.shapes;\n    var options = this.parameters.options;\n\n    return toJSON(shapes, options, data);\n\n  };\n\n  //\n\n  var WorldUVGenerator = {\n\n    generateTopUV: function(geometry, vertices, indexA, indexB, indexC) {\n\n      var a_x = vertices[indexA * 3];\n      var a_y = vertices[indexA * 3 + 1];\n      var b_x = vertices[indexB * 3];\n      var b_y = vertices[indexB * 3 + 1];\n      var c_x = vertices[indexC * 3];\n      var c_y = vertices[indexC * 3 + 1];\n\n      return [\n        new Vector2(a_x, a_y),\n        new Vector2(b_x, b_y),\n        new Vector2(c_x, c_y)\n      ];\n\n    },\n\n    generateSideWallUV: function(geometry, vertices, indexA, indexB, indexC, indexD) {\n\n      var a_x = vertices[indexA * 3];\n      var a_y = vertices[indexA * 3 + 1];\n      var a_z = vertices[indexA * 3 + 2];\n      var b_x = vertices[indexB * 3];\n      var b_y = vertices[indexB * 3 + 1];\n      var b_z = vertices[indexB * 3 + 2];\n      var c_x = vertices[indexC * 3];\n      var c_y = vertices[indexC * 3 + 1];\n      var c_z = vertices[indexC * 3 + 2];\n      var d_x = vertices[indexD * 3];\n      var d_y = vertices[indexD * 3 + 1];\n      var d_z = vertices[indexD * 3 + 2];\n\n      if (Math.abs(a_y - b_y) < 0.01) {\n\n        return [\n          new Vector2(a_x, 1 - a_z),\n          new Vector2(b_x, 1 - b_z),\n          new Vector2(c_x, 1 - c_z),\n          new Vector2(d_x, 1 - d_z)\n        ];\n\n      } else {\n\n        return [\n          new Vector2(a_y, 1 - a_z),\n          new Vector2(b_y, 1 - b_z),\n          new Vector2(c_y, 1 - c_z),\n          new Vector2(d_y, 1 - d_z)\n        ];\n\n      }\n\n    }\n  };\n\n  function toJSON(shapes, options, data) {\n\n    //\n\n    data.shapes = [];\n\n    if (Array.isArray(shapes)) {\n\n      for (var i = 0, l = shapes.length; i < l; i++) {\n\n        var shape = shapes[i];\n\n        data.shapes.push(shape.uuid);\n\n      }\n\n    } else {\n\n      data.shapes.push(shapes.uuid);\n\n    }\n\n    //\n\n    if (options.extrudePath !== undefined) {\n      data.options.extrudePath = options.extrudePath.toJSON();\n    }\n\n    return data;\n\n  }\n\n  /**\n   * @author zz85 / http://www.lab4games.net/zz85/blog\n   * @author alteredq / http://alteredqualia.com/\n   *\n   * Text = 3D Text\n   *\n   * parameters = {\n   *  font: <THREE.Font>, // font\n   *\n   *  size: <float>, // size of the text\n   *  height: <float>, // thickness to extrude text\n   *  curveSegments: <int>, // number of points on the curves\n   *\n   *  bevelEnabled: <bool>, // turn on bevel\n   *  bevelThickness: <float>, // how deep into text bevel goes\n   *  bevelSize: <float>, // how far from text outline (including bevelOffset) is bevel\n   *  bevelOffset: <float> // how far from text outline does bevel start\n   * }\n   */\n\n  // TextGeometry\n\n  function TextGeometry(text, parameters) {\n\n    Geometry.call(this);\n\n    this.type = 'TextGeometry';\n\n    this.parameters = {\n      text: text,\n      parameters: parameters\n    };\n\n    this.fromBufferGeometry(new TextBufferGeometry(text, parameters));\n    this.mergeVertices();\n\n  }\n\n  TextGeometry.prototype = Object.create(Geometry.prototype);\n  TextGeometry.prototype.constructor = TextGeometry;\n\n  // TextBufferGeometry\n\n  function TextBufferGeometry(text, parameters) {\n\n    parameters = parameters || {};\n\n    var font = parameters.font;\n\n    if (!(font && font.isFont)) {\n\n      console.error('THREE.TextGeometry: font parameter is not an instance of THREE.Font.');\n      return new Geometry();\n\n    }\n\n    var shapes = font.generateShapes(text, parameters.size);\n\n    // translate parameters to ExtrudeGeometry API\n\n    parameters.depth = parameters.height !== undefined ? parameters.height : 50;\n\n    // defaults\n\n    if (parameters.bevelThickness === undefined) {\n      parameters.bevelThickness = 10;\n    }\n    if (parameters.bevelSize === undefined) {\n      parameters.bevelSize = 8;\n    }\n    if (parameters.bevelEnabled === undefined) {\n      parameters.bevelEnabled = false;\n    }\n\n    ExtrudeBufferGeometry.call(this, shapes, parameters);\n\n    this.type = 'TextBufferGeometry';\n\n  }\n\n  TextBufferGeometry.prototype = Object.create(ExtrudeBufferGeometry.prototype);\n  TextBufferGeometry.prototype.constructor = TextBufferGeometry;\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author benaadams / https://twitter.com/ben_a_adams\n   * @author Mugen87 / https://github.com/Mugen87\n   */\n\n  // SphereGeometry\n\n  function SphereGeometry(radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength) {\n\n    Geometry.call(this);\n\n    this.type = 'SphereGeometry';\n\n    this.parameters = {\n      radius: radius,\n      widthSegments: widthSegments,\n      heightSegments: heightSegments,\n      phiStart: phiStart,\n      phiLength: phiLength,\n      thetaStart: thetaStart,\n      thetaLength: thetaLength\n    };\n\n    this.fromBufferGeometry(new SphereBufferGeometry(radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength));\n    this.mergeVertices();\n\n  }\n\n  SphereGeometry.prototype = Object.create(Geometry.prototype);\n  SphereGeometry.prototype.constructor = SphereGeometry;\n\n  // SphereBufferGeometry\n\n  function SphereBufferGeometry(radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength) {\n\n    BufferGeometry.call(this);\n\n    this.type = 'SphereBufferGeometry';\n\n    this.parameters = {\n      radius: radius,\n      widthSegments: widthSegments,\n      heightSegments: heightSegments,\n      phiStart: phiStart,\n      phiLength: phiLength,\n      thetaStart: thetaStart,\n      thetaLength: thetaLength\n    };\n\n    radius = radius || 1;\n\n    widthSegments = Math.max(3, Math.floor(widthSegments) || 8);\n    heightSegments = Math.max(2, Math.floor(heightSegments) || 6);\n\n    phiStart = phiStart !== undefined ? phiStart : 0;\n    phiLength = phiLength !== undefined ? phiLength : Math.PI * 2;\n\n    thetaStart = thetaStart !== undefined ? thetaStart : 0;\n    thetaLength = thetaLength !== undefined ? thetaLength : Math.PI;\n\n    var thetaEnd = Math.min(thetaStart + thetaLength, Math.PI);\n\n    var ix, iy;\n\n    var index = 0;\n    var grid = [];\n\n    var vertex = new Vector3();\n    var normal = new Vector3();\n\n    // buffers\n\n    var indices = [];\n    var vertices = [];\n    var normals = [];\n    var uvs = [];\n\n    // generate vertices, normals and uvs\n\n    for (iy = 0; iy <= heightSegments; iy++) {\n\n      var verticesRow = [];\n\n      var v = iy / heightSegments;\n\n      // special case for the poles\n\n      var uOffset = 0;\n\n      if (iy == 0 && thetaStart == 0) {\n\n        uOffset = 0.5 / widthSegments;\n\n      } else if (iy == heightSegments && thetaEnd == Math.PI) {\n\n        uOffset = -0.5 / widthSegments;\n\n      }\n\n      for (ix = 0; ix <= widthSegments; ix++) {\n\n        var u = ix / widthSegments;\n\n        // vertex\n\n        vertex.x = -radius * Math.cos(phiStart + u * phiLength) * Math.sin(thetaStart + v * thetaLength);\n        vertex.y = radius * Math.cos(thetaStart + v * thetaLength);\n        vertex.z = radius * Math.sin(phiStart + u * phiLength) * Math.sin(thetaStart + v * thetaLength);\n\n        vertices.push(vertex.x, vertex.y, vertex.z);\n\n        // normal\n\n        normal.copy(vertex).normalize();\n        normals.push(normal.x, normal.y, normal.z);\n\n        // uv\n\n        uvs.push(u + uOffset, 1 - v);\n\n        verticesRow.push(index++);\n\n      }\n\n      grid.push(verticesRow);\n\n    }\n\n    // indices\n\n    for (iy = 0; iy < heightSegments; iy++) {\n\n      for (ix = 0; ix < widthSegments; ix++) {\n\n        var a = grid[iy][ix + 1];\n        var b = grid[iy][ix];\n        var c = grid[iy + 1][ix];\n        var d = grid[iy + 1][ix + 1];\n\n        if (iy !== 0 || thetaStart > 0) {\n          indices.push(a, b, d);\n        }\n        if (iy !== heightSegments - 1 || thetaEnd < Math.PI) {\n          indices.push(b, c, d);\n        }\n\n      }\n\n    }\n\n    // build geometry\n\n    this.setIndex(indices);\n    this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n    this.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n    this.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\n  }\n\n  SphereBufferGeometry.prototype = Object.create(BufferGeometry.prototype);\n  SphereBufferGeometry.prototype.constructor = SphereBufferGeometry;\n\n  /**\n   * @author Kaleb Murphy\n   * @author Mugen87 / https://github.com/Mugen87\n   */\n\n  // RingGeometry\n\n  function RingGeometry(innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength) {\n\n    Geometry.call(this);\n\n    this.type = 'RingGeometry';\n\n    this.parameters = {\n      innerRadius: innerRadius,\n      outerRadius: outerRadius,\n      thetaSegments: thetaSegments,\n      phiSegments: phiSegments,\n      thetaStart: thetaStart,\n      thetaLength: thetaLength\n    };\n\n    this.fromBufferGeometry(new RingBufferGeometry(innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength));\n    this.mergeVertices();\n\n  }\n\n  RingGeometry.prototype = Object.create(Geometry.prototype);\n  RingGeometry.prototype.constructor = RingGeometry;\n\n  // RingBufferGeometry\n\n  function RingBufferGeometry(innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength) {\n\n    BufferGeometry.call(this);\n\n    this.type = 'RingBufferGeometry';\n\n    this.parameters = {\n      innerRadius: innerRadius,\n      outerRadius: outerRadius,\n      thetaSegments: thetaSegments,\n      phiSegments: phiSegments,\n      thetaStart: thetaStart,\n      thetaLength: thetaLength\n    };\n\n    innerRadius = innerRadius || 0.5;\n    outerRadius = outerRadius || 1;\n\n    thetaStart = thetaStart !== undefined ? thetaStart : 0;\n    thetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n\n    thetaSegments = thetaSegments !== undefined ? Math.max(3, thetaSegments) : 8;\n    phiSegments = phiSegments !== undefined ? Math.max(1, phiSegments) : 1;\n\n    // buffers\n\n    var indices = [];\n    var vertices = [];\n    var normals = [];\n    var uvs = [];\n\n    // some helper variables\n\n    var segment;\n    var radius = innerRadius;\n    var radiusStep = ((outerRadius - innerRadius) / phiSegments);\n    var vertex = new Vector3();\n    var uv = new Vector2();\n    var j, i;\n\n    // generate vertices, normals and uvs\n\n    for (j = 0; j <= phiSegments; j++) {\n\n      for (i = 0; i <= thetaSegments; i++) {\n\n        // values are generate from the inside of the ring to the outside\n\n        segment = thetaStart + i / thetaSegments * thetaLength;\n\n        // vertex\n\n        vertex.x = radius * Math.cos(segment);\n        vertex.y = radius * Math.sin(segment);\n\n        vertices.push(vertex.x, vertex.y, vertex.z);\n\n        // normal\n\n        normals.push(0, 0, 1);\n\n        // uv\n\n        uv.x = (vertex.x / outerRadius + 1) / 2;\n        uv.y = (vertex.y / outerRadius + 1) / 2;\n\n        uvs.push(uv.x, uv.y);\n\n      }\n\n      // increase the radius for next row of vertices\n\n      radius += radiusStep;\n\n    }\n\n    // indices\n\n    for (j = 0; j < phiSegments; j++) {\n\n      var thetaSegmentLevel = j * (thetaSegments + 1);\n\n      for (i = 0; i < thetaSegments; i++) {\n\n        segment = i + thetaSegmentLevel;\n\n        var a = segment;\n        var b = segment + thetaSegments + 1;\n        var c = segment + thetaSegments + 2;\n        var d = segment + 1;\n\n        // faces\n\n        indices.push(a, b, d);\n        indices.push(b, c, d);\n\n      }\n\n    }\n\n    // build geometry\n\n    this.setIndex(indices);\n    this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n    this.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n    this.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\n  }\n\n  RingBufferGeometry.prototype = Object.create(BufferGeometry.prototype);\n  RingBufferGeometry.prototype.constructor = RingBufferGeometry;\n\n  /**\n   * @author zz85 / https://github.com/zz85\n   * @author bhouston / http://clara.io\n   * @author Mugen87 / https://github.com/Mugen87\n   */\n\n  // LatheGeometry\n\n  function LatheGeometry(points, segments, phiStart, phiLength) {\n\n    Geometry.call(this);\n\n    this.type = 'LatheGeometry';\n\n    this.parameters = {\n      points: points,\n      segments: segments,\n      phiStart: phiStart,\n      phiLength: phiLength\n    };\n\n    this.fromBufferGeometry(new LatheBufferGeometry(points, segments, phiStart, phiLength));\n    this.mergeVertices();\n\n  }\n\n  LatheGeometry.prototype = Object.create(Geometry.prototype);\n  LatheGeometry.prototype.constructor = LatheGeometry;\n\n  // LatheBufferGeometry\n\n  function LatheBufferGeometry(points, segments, phiStart, phiLength) {\n\n    BufferGeometry.call(this);\n\n    this.type = 'LatheBufferGeometry';\n\n    this.parameters = {\n      points: points,\n      segments: segments,\n      phiStart: phiStart,\n      phiLength: phiLength\n    };\n\n    segments = Math.floor(segments) || 12;\n    phiStart = phiStart || 0;\n    phiLength = phiLength || Math.PI * 2;\n\n    // clamp phiLength so it's in range of [ 0, 2PI ]\n\n    phiLength = _Math.clamp(phiLength, 0, Math.PI * 2);\n\n\n    // buffers\n\n    var indices = [];\n    var vertices = [];\n    var uvs = [];\n\n    // helper variables\n\n    var base;\n    var inverseSegments = 1.0 / segments;\n    var vertex = new Vector3();\n    var uv = new Vector2();\n    var i, j;\n\n    // generate vertices and uvs\n\n    for (i = 0; i <= segments; i++) {\n\n      var phi = phiStart + i * inverseSegments * phiLength;\n\n      var sin = Math.sin(phi);\n      var cos = Math.cos(phi);\n\n      for (j = 0; j <= (points.length - 1); j++) {\n\n        // vertex\n\n        vertex.x = points[j].x * sin;\n        vertex.y = points[j].y;\n        vertex.z = points[j].x * cos;\n\n        vertices.push(vertex.x, vertex.y, vertex.z);\n\n        // uv\n\n        uv.x = i / segments;\n        uv.y = j / (points.length - 1);\n\n        uvs.push(uv.x, uv.y);\n\n\n      }\n\n    }\n\n    // indices\n\n    for (i = 0; i < segments; i++) {\n\n      for (j = 0; j < (points.length - 1); j++) {\n\n        base = j + i * points.length;\n\n        var a = base;\n        var b = base + points.length;\n        var c = base + points.length + 1;\n        var d = base + 1;\n\n        // faces\n\n        indices.push(a, b, d);\n        indices.push(b, c, d);\n\n      }\n\n    }\n\n    // build geometry\n\n    this.setIndex(indices);\n    this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n    this.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\n    // generate normals\n\n    this.computeVertexNormals();\n\n    // if the geometry is closed, we need to average the normals along the seam.\n    // because the corresponding vertices are identical (but still have different UVs).\n\n    if (phiLength === Math.PI * 2) {\n\n      var normals = this.attributes.normal.array;\n      var n1 = new Vector3();\n      var n2 = new Vector3();\n      var n = new Vector3();\n\n      // this is the buffer offset for the last line of vertices\n\n      base = segments * points.length * 3;\n\n      for (i = 0, j = 0; i < points.length; i++, j += 3) {\n\n        // select the normal of the vertex in the first line\n\n        n1.x = normals[j + 0];\n        n1.y = normals[j + 1];\n        n1.z = normals[j + 2];\n\n        // select the normal of the vertex in the last line\n\n        n2.x = normals[base + j + 0];\n        n2.y = normals[base + j + 1];\n        n2.z = normals[base + j + 2];\n\n        // average normals\n\n        n.addVectors(n1, n2).normalize();\n\n        // assign the new values to both normals\n\n        normals[j + 0] = normals[base + j + 0] = n.x;\n        normals[j + 1] = normals[base + j + 1] = n.y;\n        normals[j + 2] = normals[base + j + 2] = n.z;\n\n      }\n\n    }\n\n  }\n\n  LatheBufferGeometry.prototype = Object.create(BufferGeometry.prototype);\n  LatheBufferGeometry.prototype.constructor = LatheBufferGeometry;\n\n  /**\n   * @author jonobr1 / http://jonobr1.com\n   * @author Mugen87 / https://github.com/Mugen87\n   */\n\n  // ShapeGeometry\n\n  function ShapeGeometry(shapes, curveSegments) {\n\n    Geometry.call(this);\n\n    this.type = 'ShapeGeometry';\n\n    if (typeof curveSegments === 'object') {\n\n      console.warn('THREE.ShapeGeometry: Options parameter has been removed.');\n\n      curveSegments = curveSegments.curveSegments;\n\n    }\n\n    this.parameters = {\n      shapes: shapes,\n      curveSegments: curveSegments\n    };\n\n    this.fromBufferGeometry(new ShapeBufferGeometry(shapes, curveSegments));\n    this.mergeVertices();\n\n  }\n\n  ShapeGeometry.prototype = Object.create(Geometry.prototype);\n  ShapeGeometry.prototype.constructor = ShapeGeometry;\n\n  ShapeGeometry.prototype.toJSON = function() {\n\n    var data = Geometry.prototype.toJSON.call(this);\n\n    var shapes = this.parameters.shapes;\n\n    return toJSON$1(shapes, data);\n\n  };\n\n  // ShapeBufferGeometry\n\n  function ShapeBufferGeometry(shapes, curveSegments) {\n\n    BufferGeometry.call(this);\n\n    this.type = 'ShapeBufferGeometry';\n\n    this.parameters = {\n      shapes: shapes,\n      curveSegments: curveSegments\n    };\n\n    curveSegments = curveSegments || 12;\n\n    // buffers\n\n    var indices = [];\n    var vertices = [];\n    var normals = [];\n    var uvs = [];\n\n    // helper variables\n\n    var groupStart = 0;\n    var groupCount = 0;\n\n    // allow single and array values for \"shapes\" parameter\n\n    if (Array.isArray(shapes) === false) {\n\n      addShape(shapes);\n\n    } else {\n\n      for (var i = 0; i < shapes.length; i++) {\n\n        addShape(shapes[i]);\n\n        this.addGroup(groupStart, groupCount, i); // enables MultiMaterial support\n\n        groupStart += groupCount;\n        groupCount = 0;\n\n      }\n\n    }\n\n    // build geometry\n\n    this.setIndex(indices);\n    this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n    this.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n    this.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\n\n    // helper functions\n\n    function addShape(shape) {\n\n      var i, l, shapeHole;\n\n      var indexOffset = vertices.length / 3;\n      var points = shape.extractPoints(curveSegments);\n\n      var shapeVertices = points.shape;\n      var shapeHoles = points.holes;\n\n      // check direction of vertices\n\n      if (ShapeUtils.isClockWise(shapeVertices) === false) {\n\n        shapeVertices = shapeVertices.reverse();\n\n      }\n\n      for (i = 0, l = shapeHoles.length; i < l; i++) {\n\n        shapeHole = shapeHoles[i];\n\n        if (ShapeUtils.isClockWise(shapeHole) === true) {\n\n          shapeHoles[i] = shapeHole.reverse();\n\n        }\n\n      }\n\n      var faces = ShapeUtils.triangulateShape(shapeVertices, shapeHoles);\n\n      // join vertices of inner and outer paths to a single array\n\n      for (i = 0, l = shapeHoles.length; i < l; i++) {\n\n        shapeHole = shapeHoles[i];\n        shapeVertices = shapeVertices.concat(shapeHole);\n\n      }\n\n      // vertices, normals, uvs\n\n      for (i = 0, l = shapeVertices.length; i < l; i++) {\n\n        var vertex = shapeVertices[i];\n\n        vertices.push(vertex.x, vertex.y, 0);\n        normals.push(0, 0, 1);\n        uvs.push(vertex.x, vertex.y); // world uvs\n\n      }\n\n      // incides\n\n      for (i = 0, l = faces.length; i < l; i++) {\n\n        var face = faces[i];\n\n        var a = face[0] + indexOffset;\n        var b = face[1] + indexOffset;\n        var c = face[2] + indexOffset;\n\n        indices.push(a, b, c);\n        groupCount += 3;\n\n      }\n\n    }\n\n  }\n\n  ShapeBufferGeometry.prototype = Object.create(BufferGeometry.prototype);\n  ShapeBufferGeometry.prototype.constructor = ShapeBufferGeometry;\n\n  ShapeBufferGeometry.prototype.toJSON = function() {\n\n    var data = BufferGeometry.prototype.toJSON.call(this);\n\n    var shapes = this.parameters.shapes;\n\n    return toJSON$1(shapes, data);\n\n  };\n\n  //\n\n  function toJSON$1(shapes, data) {\n\n    data.shapes = [];\n\n    if (Array.isArray(shapes)) {\n\n      for (var i = 0, l = shapes.length; i < l; i++) {\n\n        var shape = shapes[i];\n\n        data.shapes.push(shape.uuid);\n\n      }\n\n    } else {\n\n      data.shapes.push(shapes.uuid);\n\n    }\n\n    return data;\n\n  }\n\n  /**\n   * @author WestLangley / http://github.com/WestLangley\n   * @author Mugen87 / https://github.com/Mugen87\n   */\n\n  function EdgesGeometry(geometry, thresholdAngle) {\n\n    BufferGeometry.call(this);\n\n    this.type = 'EdgesGeometry';\n\n    this.parameters = {\n      thresholdAngle: thresholdAngle\n    };\n\n    thresholdAngle = (thresholdAngle !== undefined) ? thresholdAngle : 1;\n\n    // buffer\n\n    var vertices = [];\n\n    // helper variables\n\n    var thresholdDot = Math.cos(_Math.DEG2RAD * thresholdAngle);\n    var edge = [0, 0],\n      edges = {},\n      edge1, edge2;\n    var key, keys = ['a', 'b', 'c'];\n\n    // prepare source geometry\n\n    var geometry2;\n\n    if (geometry.isBufferGeometry) {\n\n      geometry2 = new Geometry();\n      geometry2.fromBufferGeometry(geometry);\n\n    } else {\n\n      geometry2 = geometry.clone();\n\n    }\n\n    geometry2.mergeVertices();\n    geometry2.computeFaceNormals();\n\n    var sourceVertices = geometry2.vertices;\n    var faces = geometry2.faces;\n\n    // now create a data structure where each entry represents an edge with its adjoining faces\n\n    for (var i = 0, l = faces.length; i < l; i++) {\n\n      var face = faces[i];\n\n      for (var j = 0; j < 3; j++) {\n\n        edge1 = face[keys[j]];\n        edge2 = face[keys[(j + 1) % 3]];\n        edge[0] = Math.min(edge1, edge2);\n        edge[1] = Math.max(edge1, edge2);\n\n        key = edge[0] + ',' + edge[1];\n\n        if (edges[key] === undefined) {\n\n          edges[key] = {\n            index1: edge[0],\n            index2: edge[1],\n            face1: i,\n            face2: undefined\n          };\n\n        } else {\n\n          edges[key].face2 = i;\n\n        }\n\n      }\n\n    }\n\n    // generate vertices\n\n    for (key in edges) {\n\n      var e = edges[key];\n\n      // an edge is only rendered if the angle (in degrees) between the face normals of the adjoining faces exceeds this value. default = 1 degree.\n\n      if (e.face2 === undefined || faces[e.face1].normal.dot(faces[e.face2].normal) <= thresholdDot) {\n\n        var vertex = sourceVertices[e.index1];\n        vertices.push(vertex.x, vertex.y, vertex.z);\n\n        vertex = sourceVertices[e.index2];\n        vertices.push(vertex.x, vertex.y, vertex.z);\n\n      }\n\n    }\n\n    // build geometry\n\n    this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\n  }\n\n  EdgesGeometry.prototype = Object.create(BufferGeometry.prototype);\n  EdgesGeometry.prototype.constructor = EdgesGeometry;\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author Mugen87 / https://github.com/Mugen87\n   */\n\n  // CylinderGeometry\n\n  function CylinderGeometry(radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength) {\n\n    Geometry.call(this);\n\n    this.type = 'CylinderGeometry';\n\n    this.parameters = {\n      radiusTop: radiusTop,\n      radiusBottom: radiusBottom,\n      height: height,\n      radialSegments: radialSegments,\n      heightSegments: heightSegments,\n      openEnded: openEnded,\n      thetaStart: thetaStart,\n      thetaLength: thetaLength\n    };\n\n    this.fromBufferGeometry(new CylinderBufferGeometry(radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength));\n    this.mergeVertices();\n\n  }\n\n  CylinderGeometry.prototype = Object.create(Geometry.prototype);\n  CylinderGeometry.prototype.constructor = CylinderGeometry;\n\n  // CylinderBufferGeometry\n\n  function CylinderBufferGeometry(radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength) {\n\n    BufferGeometry.call(this);\n\n    this.type = 'CylinderBufferGeometry';\n\n    this.parameters = {\n      radiusTop: radiusTop,\n      radiusBottom: radiusBottom,\n      height: height,\n      radialSegments: radialSegments,\n      heightSegments: heightSegments,\n      openEnded: openEnded,\n      thetaStart: thetaStart,\n      thetaLength: thetaLength\n    };\n\n    var scope = this;\n\n    radiusTop = radiusTop !== undefined ? radiusTop : 1;\n    radiusBottom = radiusBottom !== undefined ? radiusBottom : 1;\n    height = height || 1;\n\n    radialSegments = Math.floor(radialSegments) || 8;\n    heightSegments = Math.floor(heightSegments) || 1;\n\n    openEnded = openEnded !== undefined ? openEnded : false;\n    thetaStart = thetaStart !== undefined ? thetaStart : 0.0;\n    thetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n\n    // buffers\n\n    var indices = [];\n    var vertices = [];\n    var normals = [];\n    var uvs = [];\n\n    // helper variables\n\n    var index = 0;\n    var indexArray = [];\n    var halfHeight = height / 2;\n    var groupStart = 0;\n\n    // generate geometry\n\n    generateTorso();\n\n    if (openEnded === false) {\n\n      if (radiusTop > 0) {\n        generateCap(true);\n      }\n      if (radiusBottom > 0) {\n        generateCap(false);\n      }\n\n    }\n\n    // build geometry\n\n    this.setIndex(indices);\n    this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n    this.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n    this.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\n    function generateTorso() {\n\n      var x, y;\n      var normal = new Vector3();\n      var vertex = new Vector3();\n\n      var groupCount = 0;\n\n      // this will be used to calculate the normal\n      var slope = (radiusBottom - radiusTop) / height;\n\n      // generate vertices, normals and uvs\n\n      for (y = 0; y <= heightSegments; y++) {\n\n        var indexRow = [];\n\n        var v = y / heightSegments;\n\n        // calculate the radius of the current row\n\n        var radius = v * (radiusBottom - radiusTop) + radiusTop;\n\n        for (x = 0; x <= radialSegments; x++) {\n\n          var u = x / radialSegments;\n\n          var theta = u * thetaLength + thetaStart;\n\n          var sinTheta = Math.sin(theta);\n          var cosTheta = Math.cos(theta);\n\n          // vertex\n\n          vertex.x = radius * sinTheta;\n          vertex.y = -v * height + halfHeight;\n          vertex.z = radius * cosTheta;\n          vertices.push(vertex.x, vertex.y, vertex.z);\n\n          // normal\n\n          normal.set(sinTheta, slope, cosTheta).normalize();\n          normals.push(normal.x, normal.y, normal.z);\n\n          // uv\n\n          uvs.push(u, 1 - v);\n\n          // save index of vertex in respective row\n\n          indexRow.push(index++);\n\n        }\n\n        // now save vertices of the row in our index array\n\n        indexArray.push(indexRow);\n\n      }\n\n      // generate indices\n\n      for (x = 0; x < radialSegments; x++) {\n\n        for (y = 0; y < heightSegments; y++) {\n\n          // we use the index array to access the correct indices\n\n          var a = indexArray[y][x];\n          var b = indexArray[y + 1][x];\n          var c = indexArray[y + 1][x + 1];\n          var d = indexArray[y][x + 1];\n\n          // faces\n\n          indices.push(a, b, d);\n          indices.push(b, c, d);\n\n          // update group counter\n\n          groupCount += 6;\n\n        }\n\n      }\n\n      // add a group to the geometry. this will ensure multi material support\n\n      scope.addGroup(groupStart, groupCount, 0);\n\n      // calculate new start value for groups\n\n      groupStart += groupCount;\n\n    }\n\n    function generateCap(top) {\n\n      var x, centerIndexStart, centerIndexEnd;\n\n      var uv = new Vector2();\n      var vertex = new Vector3();\n\n      var groupCount = 0;\n\n      var radius = (top === true) ? radiusTop : radiusBottom;\n      var sign = (top === true) ? 1 : -1;\n\n      // save the index of the first center vertex\n      centerIndexStart = index;\n\n      // first we generate the center vertex data of the cap.\n      // because the geometry needs one set of uvs per face,\n      // we must generate a center vertex per face/segment\n\n      for (x = 1; x <= radialSegments; x++) {\n\n        // vertex\n\n        vertices.push(0, halfHeight * sign, 0);\n\n        // normal\n\n        normals.push(0, sign, 0);\n\n        // uv\n\n        uvs.push(0.5, 0.5);\n\n        // increase index\n\n        index++;\n\n      }\n\n      // save the index of the last center vertex\n\n      centerIndexEnd = index;\n\n      // now we generate the surrounding vertices, normals and uvs\n\n      for (x = 0; x <= radialSegments; x++) {\n\n        var u = x / radialSegments;\n        var theta = u * thetaLength + thetaStart;\n\n        var cosTheta = Math.cos(theta);\n        var sinTheta = Math.sin(theta);\n\n        // vertex\n\n        vertex.x = radius * sinTheta;\n        vertex.y = halfHeight * sign;\n        vertex.z = radius * cosTheta;\n        vertices.push(vertex.x, vertex.y, vertex.z);\n\n        // normal\n\n        normals.push(0, sign, 0);\n\n        // uv\n\n        uv.x = (cosTheta * 0.5) + 0.5;\n        uv.y = (sinTheta * 0.5 * sign) + 0.5;\n        uvs.push(uv.x, uv.y);\n\n        // increase index\n\n        index++;\n\n      }\n\n      // generate indices\n\n      for (x = 0; x < radialSegments; x++) {\n\n        var c = centerIndexStart + x;\n        var i = centerIndexEnd + x;\n\n        if (top === true) {\n\n          // face top\n\n          indices.push(i, i + 1, c);\n\n        } else {\n\n          // face bottom\n\n          indices.push(i + 1, i, c);\n\n        }\n\n        groupCount += 3;\n\n      }\n\n      // add a group to the geometry. this will ensure multi material support\n\n      scope.addGroup(groupStart, groupCount, top === true ? 1 : 2);\n\n      // calculate new start value for groups\n\n      groupStart += groupCount;\n\n    }\n\n  }\n\n  CylinderBufferGeometry.prototype = Object.create(BufferGeometry.prototype);\n  CylinderBufferGeometry.prototype.constructor = CylinderBufferGeometry;\n\n  /**\n   * @author abelnation / http://github.com/abelnation\n   */\n\n  // ConeGeometry\n\n  function ConeGeometry(radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength) {\n\n    CylinderGeometry.call(this, 0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength);\n\n    this.type = 'ConeGeometry';\n\n    this.parameters = {\n      radius: radius,\n      height: height,\n      radialSegments: radialSegments,\n      heightSegments: heightSegments,\n      openEnded: openEnded,\n      thetaStart: thetaStart,\n      thetaLength: thetaLength\n    };\n\n  }\n\n  ConeGeometry.prototype = Object.create(CylinderGeometry.prototype);\n  ConeGeometry.prototype.constructor = ConeGeometry;\n\n  // ConeBufferGeometry\n\n  function ConeBufferGeometry(radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength) {\n\n    CylinderBufferGeometry.call(this, 0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength);\n\n    this.type = 'ConeBufferGeometry';\n\n    this.parameters = {\n      radius: radius,\n      height: height,\n      radialSegments: radialSegments,\n      heightSegments: heightSegments,\n      openEnded: openEnded,\n      thetaStart: thetaStart,\n      thetaLength: thetaLength\n    };\n\n  }\n\n  ConeBufferGeometry.prototype = Object.create(CylinderBufferGeometry.prototype);\n  ConeBufferGeometry.prototype.constructor = ConeBufferGeometry;\n\n  /**\n   * @author benaadams / https://twitter.com/ben_a_adams\n   * @author Mugen87 / https://github.com/Mugen87\n   * @author hughes\n   */\n\n  // CircleGeometry\n\n  function CircleGeometry(radius, segments, thetaStart, thetaLength) {\n\n    Geometry.call(this);\n\n    this.type = 'CircleGeometry';\n\n    this.parameters = {\n      radius: radius,\n      segments: segments,\n      thetaStart: thetaStart,\n      thetaLength: thetaLength\n    };\n\n    this.fromBufferGeometry(new CircleBufferGeometry(radius, segments, thetaStart, thetaLength));\n    this.mergeVertices();\n\n  }\n\n  CircleGeometry.prototype = Object.create(Geometry.prototype);\n  CircleGeometry.prototype.constructor = CircleGeometry;\n\n  // CircleBufferGeometry\n\n  function CircleBufferGeometry(radius, segments, thetaStart, thetaLength) {\n\n    BufferGeometry.call(this);\n\n    this.type = 'CircleBufferGeometry';\n\n    this.parameters = {\n      radius: radius,\n      segments: segments,\n      thetaStart: thetaStart,\n      thetaLength: thetaLength\n    };\n\n    radius = radius || 1;\n    segments = segments !== undefined ? Math.max(3, segments) : 8;\n\n    thetaStart = thetaStart !== undefined ? thetaStart : 0;\n    thetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n\n    // buffers\n\n    var indices = [];\n    var vertices = [];\n    var normals = [];\n    var uvs = [];\n\n    // helper variables\n\n    var i, s;\n    var vertex = new Vector3();\n    var uv = new Vector2();\n\n    // center point\n\n    vertices.push(0, 0, 0);\n    normals.push(0, 0, 1);\n    uvs.push(0.5, 0.5);\n\n    for (s = 0, i = 3; s <= segments; s++, i += 3) {\n\n      var segment = thetaStart + s / segments * thetaLength;\n\n      // vertex\n\n      vertex.x = radius * Math.cos(segment);\n      vertex.y = radius * Math.sin(segment);\n\n      vertices.push(vertex.x, vertex.y, vertex.z);\n\n      // normal\n\n      normals.push(0, 0, 1);\n\n      // uvs\n\n      uv.x = (vertices[i] / radius + 1) / 2;\n      uv.y = (vertices[i + 1] / radius + 1) / 2;\n\n      uvs.push(uv.x, uv.y);\n\n    }\n\n    // indices\n\n    for (i = 1; i <= segments; i++) {\n\n      indices.push(i, i + 1, 0);\n\n    }\n\n    // build geometry\n\n    this.setIndex(indices);\n    this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n    this.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n    this.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\n  }\n\n  CircleBufferGeometry.prototype = Object.create(BufferGeometry.prototype);\n  CircleBufferGeometry.prototype.constructor = CircleBufferGeometry;\n\n\n\n  var Geometries = /*#__PURE__*/ Object.freeze({\n    __proto__: null,\n    WireframeGeometry: WireframeGeometry,\n    ParametricGeometry: ParametricGeometry,\n    ParametricBufferGeometry: ParametricBufferGeometry,\n    TetrahedronGeometry: TetrahedronGeometry,\n    TetrahedronBufferGeometry: TetrahedronBufferGeometry,\n    OctahedronGeometry: OctahedronGeometry,\n    OctahedronBufferGeometry: OctahedronBufferGeometry,\n    IcosahedronGeometry: IcosahedronGeometry,\n    IcosahedronBufferGeometry: IcosahedronBufferGeometry,\n    DodecahedronGeometry: DodecahedronGeometry,\n    DodecahedronBufferGeometry: DodecahedronBufferGeometry,\n    PolyhedronGeometry: PolyhedronGeometry,\n    PolyhedronBufferGeometry: PolyhedronBufferGeometry,\n    TubeGeometry: TubeGeometry,\n    TubeBufferGeometry: TubeBufferGeometry,\n    TorusKnotGeometry: TorusKnotGeometry,\n    TorusKnotBufferGeometry: TorusKnotBufferGeometry,\n    TorusGeometry: TorusGeometry,\n    TorusBufferGeometry: TorusBufferGeometry,\n    TextGeometry: TextGeometry,\n    TextBufferGeometry: TextBufferGeometry,\n    SphereGeometry: SphereGeometry,\n    SphereBufferGeometry: SphereBufferGeometry,\n    RingGeometry: RingGeometry,\n    RingBufferGeometry: RingBufferGeometry,\n    PlaneGeometry: PlaneGeometry,\n    PlaneBufferGeometry: PlaneBufferGeometry,\n    LatheGeometry: LatheGeometry,\n    LatheBufferGeometry: LatheBufferGeometry,\n    ShapeGeometry: ShapeGeometry,\n    ShapeBufferGeometry: ShapeBufferGeometry,\n    ExtrudeGeometry: ExtrudeGeometry,\n    ExtrudeBufferGeometry: ExtrudeBufferGeometry,\n    EdgesGeometry: EdgesGeometry,\n    ConeGeometry: ConeGeometry,\n    ConeBufferGeometry: ConeBufferGeometry,\n    CylinderGeometry: CylinderGeometry,\n    CylinderBufferGeometry: CylinderBufferGeometry,\n    CircleGeometry: CircleGeometry,\n    CircleBufferGeometry: CircleBufferGeometry,\n    BoxGeometry: BoxGeometry,\n    BoxBufferGeometry: BoxBufferGeometry\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   *\n   * parameters = {\n   *  color: <THREE.Color>\n   * }\n   */\n\n  function ShadowMaterial(parameters) {\n\n    Material.call(this);\n\n    this.type = 'ShadowMaterial';\n\n    this.color = new Color(0x000000);\n    this.transparent = true;\n\n    this.setValues(parameters);\n\n  }\n\n  ShadowMaterial.prototype = Object.create(Material.prototype);\n  ShadowMaterial.prototype.constructor = ShadowMaterial;\n\n  ShadowMaterial.prototype.isShadowMaterial = true;\n\n  ShadowMaterial.prototype.copy = function(source) {\n\n    Material.prototype.copy.call(this, source);\n\n    this.color.copy(source.color);\n\n    return this;\n\n  };\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function RawShaderMaterial(parameters) {\n\n    ShaderMaterial.call(this, parameters);\n\n    this.type = 'RawShaderMaterial';\n\n  }\n\n  RawShaderMaterial.prototype = Object.create(ShaderMaterial.prototype);\n  RawShaderMaterial.prototype.constructor = RawShaderMaterial;\n\n  RawShaderMaterial.prototype.isRawShaderMaterial = true;\n\n  /**\n   * @author WestLangley / http://github.com/WestLangley\n   *\n   * parameters = {\n   *  color: <hex>,\n   *  roughness: <float>,\n   *  metalness: <float>,\n   *  opacity: <float>,\n   *\n   *  map: new THREE.Texture( <Image> ),\n   *\n   *  lightMap: new THREE.Texture( <Image> ),\n   *  lightMapIntensity: <float>\n   *\n   *  aoMap: new THREE.Texture( <Image> ),\n   *  aoMapIntensity: <float>\n   *\n   *  emissive: <hex>,\n   *  emissiveIntensity: <float>\n   *  emissiveMap: new THREE.Texture( <Image> ),\n   *\n   *  bumpMap: new THREE.Texture( <Image> ),\n   *  bumpScale: <float>,\n   *\n   *  normalMap: new THREE.Texture( <Image> ),\n   *  normalMapType: THREE.TangentSpaceNormalMap,\n   *  normalScale: <Vector2>,\n   *\n   *  displacementMap: new THREE.Texture( <Image> ),\n   *  displacementScale: <float>,\n   *  displacementBias: <float>,\n   *\n   *  roughnessMap: new THREE.Texture( <Image> ),\n   *\n   *  metalnessMap: new THREE.Texture( <Image> ),\n   *\n   *  alphaMap: new THREE.Texture( <Image> ),\n   *\n   *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n   *  envMapIntensity: <float>\n   *\n   *  refractionRatio: <float>,\n   *\n   *  wireframe: <boolean>,\n   *  wireframeLinewidth: <float>,\n   *\n   *  skinning: <bool>,\n   *  morphTargets: <bool>,\n   *  morphNormals: <bool>\n   * }\n   */\n\n  function MeshStandardMaterial(parameters) {\n\n    Material.call(this);\n\n    this.defines = {\n      'STANDARD': ''\n    };\n\n    this.type = 'MeshStandardMaterial';\n\n    this.color = new Color(0xffffff); // diffuse\n    this.roughness = 1.0;\n    this.metalness = 0.0;\n\n    this.map = null;\n\n    this.lightMap = null;\n    this.lightMapIntensity = 1.0;\n\n    this.aoMap = null;\n    this.aoMapIntensity = 1.0;\n\n    this.emissive = new Color(0x000000);\n    this.emissiveIntensity = 1.0;\n    this.emissiveMap = null;\n\n    this.bumpMap = null;\n    this.bumpScale = 1;\n\n    this.normalMap = null;\n    this.normalMapType = TangentSpaceNormalMap;\n    this.normalScale = new Vector2(1, 1);\n\n    this.displacementMap = null;\n    this.displacementScale = 1;\n    this.displacementBias = 0;\n\n    this.roughnessMap = null;\n\n    this.metalnessMap = null;\n\n    this.alphaMap = null;\n\n    this.envMap = null;\n    this.envMapIntensity = 1.0;\n\n    this.refractionRatio = 0.98;\n\n    this.wireframe = false;\n    this.wireframeLinewidth = 1;\n    this.wireframeLinecap = 'round';\n    this.wireframeLinejoin = 'round';\n\n    this.skinning = false;\n    this.morphTargets = false;\n    this.morphNormals = false;\n\n    this.setValues(parameters);\n\n  }\n\n  MeshStandardMaterial.prototype = Object.create(Material.prototype);\n  MeshStandardMaterial.prototype.constructor = MeshStandardMaterial;\n\n  MeshStandardMaterial.prototype.isMeshStandardMaterial = true;\n\n  MeshStandardMaterial.prototype.copy = function(source) {\n\n    Material.prototype.copy.call(this, source);\n\n    this.defines = {\n      'STANDARD': ''\n    };\n\n    this.color.copy(source.color);\n    this.roughness = source.roughness;\n    this.metalness = source.metalness;\n\n    this.map = source.map;\n\n    this.lightMap = source.lightMap;\n    this.lightMapIntensity = source.lightMapIntensity;\n\n    this.aoMap = source.aoMap;\n    this.aoMapIntensity = source.aoMapIntensity;\n\n    this.emissive.copy(source.emissive);\n    this.emissiveMap = source.emissiveMap;\n    this.emissiveIntensity = source.emissiveIntensity;\n\n    this.bumpMap = source.bumpMap;\n    this.bumpScale = source.bumpScale;\n\n    this.normalMap = source.normalMap;\n    this.normalMapType = source.normalMapType;\n    this.normalScale.copy(source.normalScale);\n\n    this.displacementMap = source.displacementMap;\n    this.displacementScale = source.displacementScale;\n    this.displacementBias = source.displacementBias;\n\n    this.roughnessMap = source.roughnessMap;\n\n    this.metalnessMap = source.metalnessMap;\n\n    this.alphaMap = source.alphaMap;\n\n    this.envMap = source.envMap;\n    this.envMapIntensity = source.envMapIntensity;\n\n    this.refractionRatio = source.refractionRatio;\n\n    this.wireframe = source.wireframe;\n    this.wireframeLinewidth = source.wireframeLinewidth;\n    this.wireframeLinecap = source.wireframeLinecap;\n    this.wireframeLinejoin = source.wireframeLinejoin;\n\n    this.skinning = source.skinning;\n    this.morphTargets = source.morphTargets;\n    this.morphNormals = source.morphNormals;\n\n    return this;\n\n  };\n\n  /**\n   * @author WestLangley / http://github.com/WestLangley\n   *\n   * parameters = {\n   *  reflectivity: <float>\n   *  clearcoat: <float>\n   *  clearcoatRoughness: <float>\n   *\n   *  sheen: <Color>\n   *\n   *  clearcoatNormalScale: <Vector2>,\n   *  clearcoatNormalMap: new THREE.Texture( <Image> ),\n   * }\n   */\n\n  function MeshPhysicalMaterial(parameters) {\n\n    MeshStandardMaterial.call(this);\n\n    this.defines = {\n\n      'STANDARD': '',\n      'PHYSICAL': ''\n\n    };\n\n    this.type = 'MeshPhysicalMaterial';\n\n    this.reflectivity = 0.5; // maps to F0 = 0.04\n\n    this.clearcoat = 0.0;\n    this.clearcoatRoughness = 0.0;\n\n    this.sheen = null; // null will disable sheen bsdf\n\n    this.clearcoatNormalScale = new Vector2(1, 1);\n    this.clearcoatNormalMap = null;\n\n    this.transparency = 0.0;\n\n    this.setValues(parameters);\n\n  }\n\n  MeshPhysicalMaterial.prototype = Object.create(MeshStandardMaterial.prototype);\n  MeshPhysicalMaterial.prototype.constructor = MeshPhysicalMaterial;\n\n  MeshPhysicalMaterial.prototype.isMeshPhysicalMaterial = true;\n\n  MeshPhysicalMaterial.prototype.copy = function(source) {\n\n    MeshStandardMaterial.prototype.copy.call(this, source);\n\n    this.defines = {\n\n      'STANDARD': '',\n      'PHYSICAL': ''\n\n    };\n\n    this.reflectivity = source.reflectivity;\n\n    this.clearcoat = source.clearcoat;\n    this.clearcoatRoughness = source.clearcoatRoughness;\n\n    if (source.sheen) {\n      this.sheen = (this.sheen || new Color()).copy(source.sheen);\n    } else {\n      this.sheen = null;\n    }\n\n    this.clearcoatNormalMap = source.clearcoatNormalMap;\n    this.clearcoatNormalScale.copy(source.clearcoatNormalScale);\n\n    this.transparency = source.transparency;\n\n    return this;\n\n  };\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author alteredq / http://alteredqualia.com/\n   *\n   * parameters = {\n   *  color: <hex>,\n   *  specular: <hex>,\n   *  shininess: <float>,\n   *  opacity: <float>,\n   *\n   *  map: new THREE.Texture( <Image> ),\n   *\n   *  lightMap: new THREE.Texture( <Image> ),\n   *  lightMapIntensity: <float>\n   *\n   *  aoMap: new THREE.Texture( <Image> ),\n   *  aoMapIntensity: <float>\n   *\n   *  emissive: <hex>,\n   *  emissiveIntensity: <float>\n   *  emissiveMap: new THREE.Texture( <Image> ),\n   *\n   *  bumpMap: new THREE.Texture( <Image> ),\n   *  bumpScale: <float>,\n   *\n   *  normalMap: new THREE.Texture( <Image> ),\n   *  normalMapType: THREE.TangentSpaceNormalMap,\n   *  normalScale: <Vector2>,\n   *\n   *  displacementMap: new THREE.Texture( <Image> ),\n   *  displacementScale: <float>,\n   *  displacementBias: <float>,\n   *\n   *  specularMap: new THREE.Texture( <Image> ),\n   *\n   *  alphaMap: new THREE.Texture( <Image> ),\n   *\n   *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n   *  combine: THREE.MultiplyOperation,\n   *  reflectivity: <float>,\n   *  refractionRatio: <float>,\n   *\n   *  wireframe: <boolean>,\n   *  wireframeLinewidth: <float>,\n   *\n   *  skinning: <bool>,\n   *  morphTargets: <bool>,\n   *  morphNormals: <bool>\n   * }\n   */\n\n  function MeshPhongMaterial(parameters) {\n\n    Material.call(this);\n\n    this.type = 'MeshPhongMaterial';\n\n    this.color = new Color(0xffffff); // diffuse\n    this.specular = new Color(0x111111);\n    this.shininess = 30;\n\n    this.map = null;\n\n    this.lightMap = null;\n    this.lightMapIntensity = 1.0;\n\n    this.aoMap = null;\n    this.aoMapIntensity = 1.0;\n\n    this.emissive = new Color(0x000000);\n    this.emissiveIntensity = 1.0;\n    this.emissiveMap = null;\n\n    this.bumpMap = null;\n    this.bumpScale = 1;\n\n    this.normalMap = null;\n    this.normalMapType = TangentSpaceNormalMap;\n    this.normalScale = new Vector2(1, 1);\n\n    this.displacementMap = null;\n    this.displacementScale = 1;\n    this.displacementBias = 0;\n\n    this.specularMap = null;\n\n    this.alphaMap = null;\n\n    this.envMap = null;\n    this.combine = MultiplyOperation;\n    this.reflectivity = 1;\n    this.refractionRatio = 0.98;\n\n    this.wireframe = false;\n    this.wireframeLinewidth = 1;\n    this.wireframeLinecap = 'round';\n    this.wireframeLinejoin = 'round';\n\n    this.skinning = false;\n    this.morphTargets = false;\n    this.morphNormals = false;\n\n    this.setValues(parameters);\n\n  }\n\n  MeshPhongMaterial.prototype = Object.create(Material.prototype);\n  MeshPhongMaterial.prototype.constructor = MeshPhongMaterial;\n\n  MeshPhongMaterial.prototype.isMeshPhongMaterial = true;\n\n  MeshPhongMaterial.prototype.copy = function(source) {\n\n    Material.prototype.copy.call(this, source);\n\n    this.color.copy(source.color);\n    this.specular.copy(source.specular);\n    this.shininess = source.shininess;\n\n    this.map = source.map;\n\n    this.lightMap = source.lightMap;\n    this.lightMapIntensity = source.lightMapIntensity;\n\n    this.aoMap = source.aoMap;\n    this.aoMapIntensity = source.aoMapIntensity;\n\n    this.emissive.copy(source.emissive);\n    this.emissiveMap = source.emissiveMap;\n    this.emissiveIntensity = source.emissiveIntensity;\n\n    this.bumpMap = source.bumpMap;\n    this.bumpScale = source.bumpScale;\n\n    this.normalMap = source.normalMap;\n    this.normalMapType = source.normalMapType;\n    this.normalScale.copy(source.normalScale);\n\n    this.displacementMap = source.displacementMap;\n    this.displacementScale = source.displacementScale;\n    this.displacementBias = source.displacementBias;\n\n    this.specularMap = source.specularMap;\n\n    this.alphaMap = source.alphaMap;\n\n    this.envMap = source.envMap;\n    this.combine = source.combine;\n    this.reflectivity = source.reflectivity;\n    this.refractionRatio = source.refractionRatio;\n\n    this.wireframe = source.wireframe;\n    this.wireframeLinewidth = source.wireframeLinewidth;\n    this.wireframeLinecap = source.wireframeLinecap;\n    this.wireframeLinejoin = source.wireframeLinejoin;\n\n    this.skinning = source.skinning;\n    this.morphTargets = source.morphTargets;\n    this.morphNormals = source.morphNormals;\n\n    return this;\n\n  };\n\n  /**\n   * @author takahirox / http://github.com/takahirox\n   *\n   * parameters = {\n   *  color: <hex>,\n   *  specular: <hex>,\n   *  shininess: <float>,\n   *\n   *  map: new THREE.Texture( <Image> ),\n   *  gradientMap: new THREE.Texture( <Image> ),\n   *\n   *  lightMap: new THREE.Texture( <Image> ),\n   *  lightMapIntensity: <float>\n   *\n   *  aoMap: new THREE.Texture( <Image> ),\n   *  aoMapIntensity: <float>\n   *\n   *  emissive: <hex>,\n   *  emissiveIntensity: <float>\n   *  emissiveMap: new THREE.Texture( <Image> ),\n   *\n   *  bumpMap: new THREE.Texture( <Image> ),\n   *  bumpScale: <float>,\n   *\n   *  normalMap: new THREE.Texture( <Image> ),\n   *  normalMapType: THREE.TangentSpaceNormalMap,\n   *  normalScale: <Vector2>,\n   *\n   *  displacementMap: new THREE.Texture( <Image> ),\n   *  displacementScale: <float>,\n   *  displacementBias: <float>,\n   *\n   *  specularMap: new THREE.Texture( <Image> ),\n   *\n   *  alphaMap: new THREE.Texture( <Image> ),\n   *\n   *  wireframe: <boolean>,\n   *  wireframeLinewidth: <float>,\n   *\n   *  skinning: <bool>,\n   *  morphTargets: <bool>,\n   *  morphNormals: <bool>\n   * }\n   */\n\n  function MeshToonMaterial(parameters) {\n\n    Material.call(this);\n\n    this.defines = {\n      'TOON': ''\n    };\n\n    this.type = 'MeshToonMaterial';\n\n    this.color = new Color(0xffffff);\n    this.specular = new Color(0x111111);\n    this.shininess = 30;\n\n    this.map = null;\n    this.gradientMap = null;\n\n    this.lightMap = null;\n    this.lightMapIntensity = 1.0;\n\n    this.aoMap = null;\n    this.aoMapIntensity = 1.0;\n\n    this.emissive = new Color(0x000000);\n    this.emissiveIntensity = 1.0;\n    this.emissiveMap = null;\n\n    this.bumpMap = null;\n    this.bumpScale = 1;\n\n    this.normalMap = null;\n    this.normalMapType = TangentSpaceNormalMap;\n    this.normalScale = new Vector2(1, 1);\n\n    this.displacementMap = null;\n    this.displacementScale = 1;\n    this.displacementBias = 0;\n\n    this.specularMap = null;\n\n    this.alphaMap = null;\n\n    this.wireframe = false;\n    this.wireframeLinewidth = 1;\n    this.wireframeLinecap = 'round';\n    this.wireframeLinejoin = 'round';\n\n    this.skinning = false;\n    this.morphTargets = false;\n    this.morphNormals = false;\n\n    this.setValues(parameters);\n\n  }\n\n  MeshToonMaterial.prototype = Object.create(Material.prototype);\n  MeshToonMaterial.prototype.constructor = MeshToonMaterial;\n\n  MeshToonMaterial.prototype.isMeshToonMaterial = true;\n\n  MeshToonMaterial.prototype.copy = function(source) {\n\n    Material.prototype.copy.call(this, source);\n\n    this.color.copy(source.color);\n    this.specular.copy(source.specular);\n    this.shininess = source.shininess;\n\n    this.map = source.map;\n    this.gradientMap = source.gradientMap;\n\n    this.lightMap = source.lightMap;\n    this.lightMapIntensity = source.lightMapIntensity;\n\n    this.aoMap = source.aoMap;\n    this.aoMapIntensity = source.aoMapIntensity;\n\n    this.emissive.copy(source.emissive);\n    this.emissiveMap = source.emissiveMap;\n    this.emissiveIntensity = source.emissiveIntensity;\n\n    this.bumpMap = source.bumpMap;\n    this.bumpScale = source.bumpScale;\n\n    this.normalMap = source.normalMap;\n    this.normalMapType = source.normalMapType;\n    this.normalScale.copy(source.normalScale);\n\n    this.displacementMap = source.displacementMap;\n    this.displacementScale = source.displacementScale;\n    this.displacementBias = source.displacementBias;\n\n    this.specularMap = source.specularMap;\n\n    this.alphaMap = source.alphaMap;\n\n    this.wireframe = source.wireframe;\n    this.wireframeLinewidth = source.wireframeLinewidth;\n    this.wireframeLinecap = source.wireframeLinecap;\n    this.wireframeLinejoin = source.wireframeLinejoin;\n\n    this.skinning = source.skinning;\n    this.morphTargets = source.morphTargets;\n    this.morphNormals = source.morphNormals;\n\n    return this;\n\n  };\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author WestLangley / http://github.com/WestLangley\n   *\n   * parameters = {\n   *  opacity: <float>,\n   *\n   *  bumpMap: new THREE.Texture( <Image> ),\n   *  bumpScale: <float>,\n   *\n   *  normalMap: new THREE.Texture( <Image> ),\n   *  normalMapType: THREE.TangentSpaceNormalMap,\n   *  normalScale: <Vector2>,\n   *\n   *  displacementMap: new THREE.Texture( <Image> ),\n   *  displacementScale: <float>,\n   *  displacementBias: <float>,\n   *\n   *  wireframe: <boolean>,\n   *  wireframeLinewidth: <float>\n   *\n   *  skinning: <bool>,\n   *  morphTargets: <bool>,\n   *  morphNormals: <bool>\n   * }\n   */\n\n  function MeshNormalMaterial(parameters) {\n\n    Material.call(this);\n\n    this.type = 'MeshNormalMaterial';\n\n    this.bumpMap = null;\n    this.bumpScale = 1;\n\n    this.normalMap = null;\n    this.normalMapType = TangentSpaceNormalMap;\n    this.normalScale = new Vector2(1, 1);\n\n    this.displacementMap = null;\n    this.displacementScale = 1;\n    this.displacementBias = 0;\n\n    this.wireframe = false;\n    this.wireframeLinewidth = 1;\n\n    this.fog = false;\n\n    this.skinning = false;\n    this.morphTargets = false;\n    this.morphNormals = false;\n\n    this.setValues(parameters);\n\n  }\n\n  MeshNormalMaterial.prototype = Object.create(Material.prototype);\n  MeshNormalMaterial.prototype.constructor = MeshNormalMaterial;\n\n  MeshNormalMaterial.prototype.isMeshNormalMaterial = true;\n\n  MeshNormalMaterial.prototype.copy = function(source) {\n\n    Material.prototype.copy.call(this, source);\n\n    this.bumpMap = source.bumpMap;\n    this.bumpScale = source.bumpScale;\n\n    this.normalMap = source.normalMap;\n    this.normalMapType = source.normalMapType;\n    this.normalScale.copy(source.normalScale);\n\n    this.displacementMap = source.displacementMap;\n    this.displacementScale = source.displacementScale;\n    this.displacementBias = source.displacementBias;\n\n    this.wireframe = source.wireframe;\n    this.wireframeLinewidth = source.wireframeLinewidth;\n\n    this.skinning = source.skinning;\n    this.morphTargets = source.morphTargets;\n    this.morphNormals = source.morphNormals;\n\n    return this;\n\n  };\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author alteredq / http://alteredqualia.com/\n   *\n   * parameters = {\n   *  color: <hex>,\n   *  opacity: <float>,\n   *\n   *  map: new THREE.Texture( <Image> ),\n   *\n   *  lightMap: new THREE.Texture( <Image> ),\n   *  lightMapIntensity: <float>\n   *\n   *  aoMap: new THREE.Texture( <Image> ),\n   *  aoMapIntensity: <float>\n   *\n   *  emissive: <hex>,\n   *  emissiveIntensity: <float>\n   *  emissiveMap: new THREE.Texture( <Image> ),\n   *\n   *  specularMap: new THREE.Texture( <Image> ),\n   *\n   *  alphaMap: new THREE.Texture( <Image> ),\n   *\n   *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n   *  combine: THREE.Multiply,\n   *  reflectivity: <float>,\n   *  refractionRatio: <float>,\n   *\n   *  wireframe: <boolean>,\n   *  wireframeLinewidth: <float>,\n   *\n   *  skinning: <bool>,\n   *  morphTargets: <bool>,\n   *  morphNormals: <bool>\n   * }\n   */\n\n  function MeshLambertMaterial(parameters) {\n\n    Material.call(this);\n\n    this.type = 'MeshLambertMaterial';\n\n    this.color = new Color(0xffffff); // diffuse\n\n    this.map = null;\n\n    this.lightMap = null;\n    this.lightMapIntensity = 1.0;\n\n    this.aoMap = null;\n    this.aoMapIntensity = 1.0;\n\n    this.emissive = new Color(0x000000);\n    this.emissiveIntensity = 1.0;\n    this.emissiveMap = null;\n\n    this.specularMap = null;\n\n    this.alphaMap = null;\n\n    this.envMap = null;\n    this.combine = MultiplyOperation;\n    this.reflectivity = 1;\n    this.refractionRatio = 0.98;\n\n    this.wireframe = false;\n    this.wireframeLinewidth = 1;\n    this.wireframeLinecap = 'round';\n    this.wireframeLinejoin = 'round';\n\n    this.skinning = false;\n    this.morphTargets = false;\n    this.morphNormals = false;\n\n    this.setValues(parameters);\n\n  }\n\n  MeshLambertMaterial.prototype = Object.create(Material.prototype);\n  MeshLambertMaterial.prototype.constructor = MeshLambertMaterial;\n\n  MeshLambertMaterial.prototype.isMeshLambertMaterial = true;\n\n  MeshLambertMaterial.prototype.copy = function(source) {\n\n    Material.prototype.copy.call(this, source);\n\n    this.color.copy(source.color);\n\n    this.map = source.map;\n\n    this.lightMap = source.lightMap;\n    this.lightMapIntensity = source.lightMapIntensity;\n\n    this.aoMap = source.aoMap;\n    this.aoMapIntensity = source.aoMapIntensity;\n\n    this.emissive.copy(source.emissive);\n    this.emissiveMap = source.emissiveMap;\n    this.emissiveIntensity = source.emissiveIntensity;\n\n    this.specularMap = source.specularMap;\n\n    this.alphaMap = source.alphaMap;\n\n    this.envMap = source.envMap;\n    this.combine = source.combine;\n    this.reflectivity = source.reflectivity;\n    this.refractionRatio = source.refractionRatio;\n\n    this.wireframe = source.wireframe;\n    this.wireframeLinewidth = source.wireframeLinewidth;\n    this.wireframeLinecap = source.wireframeLinecap;\n    this.wireframeLinejoin = source.wireframeLinejoin;\n\n    this.skinning = source.skinning;\n    this.morphTargets = source.morphTargets;\n    this.morphNormals = source.morphNormals;\n\n    return this;\n\n  };\n\n  /**\n   * @author WestLangley / http://github.com/WestLangley\n   *\n   * parameters = {\n   *  color: <hex>,\n   *  opacity: <float>,\n   *\n   *  matcap: new THREE.Texture( <Image> ),\n   *\n   *  map: new THREE.Texture( <Image> ),\n   *\n   *  bumpMap: new THREE.Texture( <Image> ),\n   *  bumpScale: <float>,\n   *\n   *  normalMap: new THREE.Texture( <Image> ),\n   *  normalMapType: THREE.TangentSpaceNormalMap,\n   *  normalScale: <Vector2>,\n   *\n   *  displacementMap: new THREE.Texture( <Image> ),\n   *  displacementScale: <float>,\n   *  displacementBias: <float>,\n   *\n   *  alphaMap: new THREE.Texture( <Image> ),\n   *\n   *  skinning: <bool>,\n   *  morphTargets: <bool>,\n   *  morphNormals: <bool>\n   * }\n   */\n\n  function MeshMatcapMaterial(parameters) {\n\n    Material.call(this);\n\n    this.defines = {\n      'MATCAP': ''\n    };\n\n    this.type = 'MeshMatcapMaterial';\n\n    this.color = new Color(0xffffff); // diffuse\n\n    this.matcap = null;\n\n    this.map = null;\n\n    this.bumpMap = null;\n    this.bumpScale = 1;\n\n    this.normalMap = null;\n    this.normalMapType = TangentSpaceNormalMap;\n    this.normalScale = new Vector2(1, 1);\n\n    this.displacementMap = null;\n    this.displacementScale = 1;\n    this.displacementBias = 0;\n\n    this.alphaMap = null;\n\n    this.skinning = false;\n    this.morphTargets = false;\n    this.morphNormals = false;\n\n    this.setValues(parameters);\n\n  }\n\n  MeshMatcapMaterial.prototype = Object.create(Material.prototype);\n  MeshMatcapMaterial.prototype.constructor = MeshMatcapMaterial;\n\n  MeshMatcapMaterial.prototype.isMeshMatcapMaterial = true;\n\n  MeshMatcapMaterial.prototype.copy = function(source) {\n\n    Material.prototype.copy.call(this, source);\n\n    this.defines = {\n      'MATCAP': ''\n    };\n\n    this.color.copy(source.color);\n\n    this.matcap = source.matcap;\n\n    this.map = source.map;\n\n    this.bumpMap = source.bumpMap;\n    this.bumpScale = source.bumpScale;\n\n    this.normalMap = source.normalMap;\n    this.normalMapType = source.normalMapType;\n    this.normalScale.copy(source.normalScale);\n\n    this.displacementMap = source.displacementMap;\n    this.displacementScale = source.displacementScale;\n    this.displacementBias = source.displacementBias;\n\n    this.alphaMap = source.alphaMap;\n\n    this.skinning = source.skinning;\n    this.morphTargets = source.morphTargets;\n    this.morphNormals = source.morphNormals;\n\n    return this;\n\n  };\n\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   *\n   * parameters = {\n   *  color: <hex>,\n   *  opacity: <float>,\n   *\n   *  linewidth: <float>,\n   *\n   *  scale: <float>,\n   *  dashSize: <float>,\n   *  gapSize: <float>\n   * }\n   */\n\n  function LineDashedMaterial(parameters) {\n\n    LineBasicMaterial.call(this);\n\n    this.type = 'LineDashedMaterial';\n\n    this.scale = 1;\n    this.dashSize = 3;\n    this.gapSize = 1;\n\n    this.setValues(parameters);\n\n  }\n\n  LineDashedMaterial.prototype = Object.create(LineBasicMaterial.prototype);\n  LineDashedMaterial.prototype.constructor = LineDashedMaterial;\n\n  LineDashedMaterial.prototype.isLineDashedMaterial = true;\n\n  LineDashedMaterial.prototype.copy = function(source) {\n\n    LineBasicMaterial.prototype.copy.call(this, source);\n\n    this.scale = source.scale;\n    this.dashSize = source.dashSize;\n    this.gapSize = source.gapSize;\n\n    return this;\n\n  };\n\n\n\n  var Materials = /*#__PURE__*/ Object.freeze({\n    __proto__: null,\n    ShadowMaterial: ShadowMaterial,\n    SpriteMaterial: SpriteMaterial,\n    RawShaderMaterial: RawShaderMaterial,\n    ShaderMaterial: ShaderMaterial,\n    PointsMaterial: PointsMaterial,\n    MeshPhysicalMaterial: MeshPhysicalMaterial,\n    MeshStandardMaterial: MeshStandardMaterial,\n    MeshPhongMaterial: MeshPhongMaterial,\n    MeshToonMaterial: MeshToonMaterial,\n    MeshNormalMaterial: MeshNormalMaterial,\n    MeshLambertMaterial: MeshLambertMaterial,\n    MeshDepthMaterial: MeshDepthMaterial,\n    MeshDistanceMaterial: MeshDistanceMaterial,\n    MeshBasicMaterial: MeshBasicMaterial,\n    MeshMatcapMaterial: MeshMatcapMaterial,\n    LineDashedMaterial: LineDashedMaterial,\n    LineBasicMaterial: LineBasicMaterial,\n    Material: Material\n  });\n\n  /**\n   * @author tschw\n   * @author Ben Houston / http://clara.io/\n   * @author David Sarno / http://lighthaus.us/\n   */\n\n  var AnimationUtils = {\n\n    // same as Array.prototype.slice, but also works on typed arrays\n    arraySlice: function(array, from, to) {\n\n      if (AnimationUtils.isTypedArray(array)) {\n\n        // in ios9 array.subarray(from, undefined) will return empty array\n        // but array.subarray(from) or array.subarray(from, len) is correct\n        return new array.constructor(array.subarray(from, to !== undefined ? to : array.length));\n\n      }\n\n      return array.slice(from, to);\n\n    },\n\n    // converts an array to a specific type\n    convertArray: function(array, type, forceClone) {\n\n      if (!array || // let 'undefined' and 'null' pass\n        !forceClone && array.constructor === type) {\n        return array;\n      }\n\n      if (typeof type.BYTES_PER_ELEMENT === 'number') {\n\n        return new type(array); // create typed array\n\n      }\n\n      return Array.prototype.slice.call(array); // create Array\n\n    },\n\n    isTypedArray: function(object) {\n\n      return ArrayBuffer.isView(object) &&\n        !(object instanceof DataView);\n\n    },\n\n    // returns an array by which times and values can be sorted\n    getKeyframeOrder: function(times) {\n\n      function compareTime(i, j) {\n\n        return times[i] - times[j];\n\n      }\n\n      var n = times.length;\n      var result = new Array(n);\n      for (var i = 0; i !== n; ++i) {\n        result[i] = i;\n      }\n\n      result.sort(compareTime);\n\n      return result;\n\n    },\n\n    // uses the array previously returned by 'getKeyframeOrder' to sort data\n    sortedArray: function(values, stride, order) {\n\n      var nValues = values.length;\n      var result = new values.constructor(nValues);\n\n      for (var i = 0, dstOffset = 0; dstOffset !== nValues; ++i) {\n\n        var srcOffset = order[i] * stride;\n\n        for (var j = 0; j !== stride; ++j) {\n\n          result[dstOffset++] = values[srcOffset + j];\n\n        }\n\n      }\n\n      return result;\n\n    },\n\n    // function for parsing AOS keyframe formats\n    flattenJSON: function(jsonKeys, times, values, valuePropertyName) {\n\n      var i = 1,\n        key = jsonKeys[0];\n\n      while (key !== undefined && key[valuePropertyName] === undefined) {\n\n        key = jsonKeys[i++];\n\n      }\n\n      if (key === undefined) {\n        return;\n      } // no data\n\n      var value = key[valuePropertyName];\n      if (value === undefined) {\n        return;\n      } // no data\n\n      if (Array.isArray(value)) {\n\n        do {\n\n          value = key[valuePropertyName];\n\n          if (value !== undefined) {\n\n            times.push(key.time);\n            values.push.apply(values, value); // push all elements\n\n          }\n\n          key = jsonKeys[i++];\n\n        } while (key !== undefined);\n\n      } else if (value.toArray !== undefined) {\n\n        // ...assume THREE.Math-ish\n\n        do {\n\n          value = key[valuePropertyName];\n\n          if (value !== undefined) {\n\n            times.push(key.time);\n            value.toArray(values, values.length);\n\n          }\n\n          key = jsonKeys[i++];\n\n        } while (key !== undefined);\n\n      } else {\n\n        // otherwise push as-is\n\n        do {\n\n          value = key[valuePropertyName];\n\n          if (value !== undefined) {\n\n            times.push(key.time);\n            values.push(value);\n\n          }\n\n          key = jsonKeys[i++];\n\n        } while (key !== undefined);\n\n      }\n\n    },\n\n    subclip: function(sourceClip, name, startFrame, endFrame, fps) {\n\n      fps = fps || 30;\n\n      var clip = sourceClip.clone();\n\n      clip.name = name;\n\n      var tracks = [];\n\n      for (var i = 0; i < clip.tracks.length; ++i) {\n\n        var track = clip.tracks[i];\n        var valueSize = track.getValueSize();\n\n        var times = [];\n        var values = [];\n\n        for (var j = 0; j < track.times.length; ++j) {\n\n          var frame = track.times[j] * fps;\n\n          if (frame < startFrame || frame >= endFrame) {\n            continue;\n          }\n\n          times.push(track.times[j]);\n\n          for (var k = 0; k < valueSize; ++k) {\n\n            values.push(track.values[j * valueSize + k]);\n\n          }\n\n        }\n\n        if (times.length === 0) {\n          continue;\n        }\n\n        track.times = AnimationUtils.convertArray(times, track.times.constructor);\n        track.values = AnimationUtils.convertArray(values, track.values.constructor);\n\n        tracks.push(track);\n\n      }\n\n      clip.tracks = tracks;\n\n      // find minimum .times value across all tracks in the trimmed clip\n\n      var minStartTime = Infinity;\n\n      for (var i = 0; i < clip.tracks.length; ++i) {\n\n        if (minStartTime > clip.tracks[i].times[0]) {\n\n          minStartTime = clip.tracks[i].times[0];\n\n        }\n\n      }\n\n      // shift all tracks such that clip begins at t=0\n\n      for (var i = 0; i < clip.tracks.length; ++i) {\n\n        clip.tracks[i].shift(-1 * minStartTime);\n\n      }\n\n      clip.resetDuration();\n\n      return clip;\n\n    }\n\n  };\n\n  /**\n   * Abstract base class of interpolants over parametric samples.\n   *\n   * The parameter domain is one dimensional, typically the time or a path\n   * along a curve defined by the data.\n   *\n   * The sample values can have any dimensionality and derived classes may\n   * apply special interpretations to the data.\n   *\n   * This class provides the interval seek in a Template Method, deferring\n   * the actual interpolation to derived classes.\n   *\n   * Time complexity is O(1) for linear access crossing at most two points\n   * and O(log N) for random access, where N is the number of positions.\n   *\n   * References:\n   *\n   * \t\thttp://www.oodesign.com/template-method-pattern.html\n   *\n   * @author tschw\n   */\n\n  function Interpolant(parameterPositions, sampleValues, sampleSize, resultBuffer) {\n\n    this.parameterPositions = parameterPositions;\n    this._cachedIndex = 0;\n\n    this.resultBuffer = resultBuffer !== undefined ?\n      resultBuffer : new sampleValues.constructor(sampleSize);\n    this.sampleValues = sampleValues;\n    this.valueSize = sampleSize;\n\n  }\n\n  Object.assign(Interpolant.prototype, {\n\n    evaluate: function(t) {\n\n      var pp = this.parameterPositions,\n        i1 = this._cachedIndex,\n\n        t1 = pp[i1],\n        t0 = pp[i1 - 1];\n\n      validate_interval: {\n\n        seek: {\n\n          var right;\n\n          linear_scan: {\n\n            //- See http://jsperf.com/comparison-to-undefined/3\n            //- slower code:\n            //-\n            //- \t\t\t\tif ( t >= t1 || t1 === undefined ) {\n            forward_scan: if (!(t < t1)) {\n\n              for (var giveUpAt = i1 + 2;;) {\n\n                if (t1 === undefined) {\n\n                  if (t < t0) {\n                    break forward_scan;\n                  }\n\n                  // after end\n\n                  i1 = pp.length;\n                  this._cachedIndex = i1;\n                  return this.afterEnd_(i1 - 1, t, t0);\n\n                }\n\n                if (i1 === giveUpAt) {\n                  break;\n                } // this loop\n\n                t0 = t1;\n                t1 = pp[++i1];\n\n                if (t < t1) {\n\n                  // we have arrived at the sought interval\n                  break seek;\n\n                }\n\n              }\n\n              // prepare binary search on the right side of the index\n              right = pp.length;\n              break linear_scan;\n\n            }\n\n            //- slower code:\n            //-\t\t\t\t\tif ( t < t0 || t0 === undefined ) {\n            if (!(t >= t0)) {\n\n              // looping?\n\n              var t1global = pp[1];\n\n              if (t < t1global) {\n\n                i1 = 2; // + 1, using the scan for the details\n                t0 = t1global;\n\n              }\n\n              // linear reverse scan\n\n              for (var giveUpAt = i1 - 2;;) {\n\n                if (t0 === undefined) {\n\n                  // before start\n\n                  this._cachedIndex = 0;\n                  return this.beforeStart_(0, t, t1);\n\n                }\n\n                if (i1 === giveUpAt) {\n                  break;\n                } // this loop\n\n                t1 = t0;\n                t0 = pp[--i1 - 1];\n\n                if (t >= t0) {\n\n                  // we have arrived at the sought interval\n                  break seek;\n\n                }\n\n              }\n\n              // prepare binary search on the left side of the index\n              right = i1;\n              i1 = 0;\n              break linear_scan;\n\n            }\n\n            // the interval is valid\n\n            break validate_interval;\n\n          } // linear scan\n\n          // binary search\n\n          while (i1 < right) {\n\n            var mid = (i1 + right) >>> 1;\n\n            if (t < pp[mid]) {\n\n              right = mid;\n\n            } else {\n\n              i1 = mid + 1;\n\n            }\n\n          }\n\n          t1 = pp[i1];\n          t0 = pp[i1 - 1];\n\n          // check boundary cases, again\n\n          if (t0 === undefined) {\n\n            this._cachedIndex = 0;\n            return this.beforeStart_(0, t, t1);\n\n          }\n\n          if (t1 === undefined) {\n\n            i1 = pp.length;\n            this._cachedIndex = i1;\n            return this.afterEnd_(i1 - 1, t0, t);\n\n          }\n\n        } // seek\n\n        this._cachedIndex = i1;\n\n        this.intervalChanged_(i1, t0, t1);\n\n      } // validate_interval\n\n      return this.interpolate_(i1, t0, t, t1);\n\n    },\n\n    settings: null, // optional, subclass-specific settings structure\n    // Note: The indirection allows central control of many interpolants.\n\n    // --- Protected interface\n\n    DefaultSettings_: {},\n\n    getSettings_: function() {\n\n      return this.settings || this.DefaultSettings_;\n\n    },\n\n    copySampleValue_: function(index) {\n\n      // copies a sample value to the result buffer\n\n      var result = this.resultBuffer,\n        values = this.sampleValues,\n        stride = this.valueSize,\n        offset = index * stride;\n\n      for (var i = 0; i !== stride; ++i) {\n\n        result[i] = values[offset + i];\n\n      }\n\n      return result;\n\n    },\n\n    // Template methods for derived classes:\n\n    interpolate_: function( /* i1, t0, t, t1 */ ) {\n\n      throw new Error('call to abstract method');\n      // implementations shall return this.resultBuffer\n\n    },\n\n    intervalChanged_: function( /* i1, t0, t1 */ ) {\n\n      // empty\n\n    }\n\n  });\n\n  //!\\ DECLARE ALIAS AFTER assign prototype !\n  Object.assign(Interpolant.prototype, {\n\n    //( 0, t, t0 ), returns this.resultBuffer\n    beforeStart_: Interpolant.prototype.copySampleValue_,\n\n    //( N-1, tN-1, t ), returns this.resultBuffer\n    afterEnd_: Interpolant.prototype.copySampleValue_,\n\n  });\n\n  /**\n   * Fast and simple cubic spline interpolant.\n   *\n   * It was derived from a Hermitian construction setting the first derivative\n   * at each sample position to the linear slope between neighboring positions\n   * over their parameter interval.\n   *\n   * @author tschw\n   */\n\n  function CubicInterpolant(parameterPositions, sampleValues, sampleSize, resultBuffer) {\n\n    Interpolant.call(this, parameterPositions, sampleValues, sampleSize, resultBuffer);\n\n    this._weightPrev = -0;\n    this._offsetPrev = -0;\n    this._weightNext = -0;\n    this._offsetNext = -0;\n\n  }\n\n  CubicInterpolant.prototype = Object.assign(Object.create(Interpolant.prototype), {\n\n    constructor: CubicInterpolant,\n\n    DefaultSettings_: {\n\n      endingStart: ZeroCurvatureEnding,\n      endingEnd: ZeroCurvatureEnding\n\n    },\n\n    intervalChanged_: function(i1, t0, t1) {\n\n      var pp = this.parameterPositions,\n        iPrev = i1 - 2,\n        iNext = i1 + 1,\n\n        tPrev = pp[iPrev],\n        tNext = pp[iNext];\n\n      if (tPrev === undefined) {\n\n        switch (this.getSettings_().endingStart) {\n\n          case ZeroSlopeEnding:\n\n            // f'(t0) = 0\n            iPrev = i1;\n            tPrev = 2 * t0 - t1;\n\n            break;\n\n          case WrapAroundEnding:\n\n            // use the other end of the curve\n            iPrev = pp.length - 2;\n            tPrev = t0 + pp[iPrev] - pp[iPrev + 1];\n\n            break;\n\n          default: // ZeroCurvatureEnding\n\n            // f''(t0) = 0 a.k.a. Natural Spline\n            iPrev = i1;\n            tPrev = t1;\n\n        }\n\n      }\n\n      if (tNext === undefined) {\n\n        switch (this.getSettings_().endingEnd) {\n\n          case ZeroSlopeEnding:\n\n            // f'(tN) = 0\n            iNext = i1;\n            tNext = 2 * t1 - t0;\n\n            break;\n\n          case WrapAroundEnding:\n\n            // use the other end of the curve\n            iNext = 1;\n            tNext = t1 + pp[1] - pp[0];\n\n            break;\n\n          default: // ZeroCurvatureEnding\n\n            // f''(tN) = 0, a.k.a. Natural Spline\n            iNext = i1 - 1;\n            tNext = t0;\n\n        }\n\n      }\n\n      var halfDt = (t1 - t0) * 0.5,\n        stride = this.valueSize;\n\n      this._weightPrev = halfDt / (t0 - tPrev);\n      this._weightNext = halfDt / (tNext - t1);\n      this._offsetPrev = iPrev * stride;\n      this._offsetNext = iNext * stride;\n\n    },\n\n    interpolate_: function(i1, t0, t, t1) {\n\n      var result = this.resultBuffer,\n        values = this.sampleValues,\n        stride = this.valueSize,\n\n        o1 = i1 * stride,\n        o0 = o1 - stride,\n        oP = this._offsetPrev,\n        oN = this._offsetNext,\n        wP = this._weightPrev,\n        wN = this._weightNext,\n\n        p = (t - t0) / (t1 - t0),\n        pp = p * p,\n        ppp = pp * p;\n\n      // evaluate polynomials\n\n      var sP = -wP * ppp + 2 * wP * pp - wP * p;\n      var s0 = (1 + wP) * ppp + (-1.5 - 2 * wP) * pp + (-0.5 + wP) * p + 1;\n      var s1 = (-1 - wN) * ppp + (1.5 + wN) * pp + 0.5 * p;\n      var sN = wN * ppp - wN * pp;\n\n      // combine data linearly\n\n      for (var i = 0; i !== stride; ++i) {\n\n        result[i] =\n          sP * values[oP + i] +\n          s0 * values[o0 + i] +\n          s1 * values[o1 + i] +\n          sN * values[oN + i];\n\n      }\n\n      return result;\n\n    }\n\n  });\n\n  /**\n   * @author tschw\n   */\n\n  function LinearInterpolant(parameterPositions, sampleValues, sampleSize, resultBuffer) {\n\n    Interpolant.call(this, parameterPositions, sampleValues, sampleSize, resultBuffer);\n\n  }\n\n  LinearInterpolant.prototype = Object.assign(Object.create(Interpolant.prototype), {\n\n    constructor: LinearInterpolant,\n\n    interpolate_: function(i1, t0, t, t1) {\n\n      var result = this.resultBuffer,\n        values = this.sampleValues,\n        stride = this.valueSize,\n\n        offset1 = i1 * stride,\n        offset0 = offset1 - stride,\n\n        weight1 = (t - t0) / (t1 - t0),\n        weight0 = 1 - weight1;\n\n      for (var i = 0; i !== stride; ++i) {\n\n        result[i] =\n          values[offset0 + i] * weight0 +\n          values[offset1 + i] * weight1;\n\n      }\n\n      return result;\n\n    }\n\n  });\n\n  /**\n   *\n   * Interpolant that evaluates to the sample value at the position preceeding\n   * the parameter.\n   *\n   * @author tschw\n   */\n\n  function DiscreteInterpolant(parameterPositions, sampleValues, sampleSize, resultBuffer) {\n\n    Interpolant.call(this, parameterPositions, sampleValues, sampleSize, resultBuffer);\n\n  }\n\n  DiscreteInterpolant.prototype = Object.assign(Object.create(Interpolant.prototype), {\n\n    constructor: DiscreteInterpolant,\n\n    interpolate_: function(i1 /*, t0, t, t1 */ ) {\n\n      return this.copySampleValue_(i1 - 1);\n\n    }\n\n  });\n\n  /**\n   *\n   * A timed sequence of keyframes for a specific property.\n   *\n   *\n   * @author Ben Houston / http://clara.io/\n   * @author David Sarno / http://lighthaus.us/\n   * @author tschw\n   */\n\n  function KeyframeTrack(name, times, values, interpolation) {\n\n    if (name === undefined) {\n      throw new Error('THREE.KeyframeTrack: track name is undefined');\n    }\n    if (times === undefined || times.length === 0) {\n      throw new Error('THREE.KeyframeTrack: no keyframes in track named ' + name);\n    }\n\n    this.name = name;\n\n    this.times = AnimationUtils.convertArray(times, this.TimeBufferType);\n    this.values = AnimationUtils.convertArray(values, this.ValueBufferType);\n\n    this.setInterpolation(interpolation || this.DefaultInterpolation);\n\n  }\n\n  // Static methods\n\n  Object.assign(KeyframeTrack, {\n\n    // Serialization (in static context, because of constructor invocation\n    // and automatic invocation of .toJSON):\n\n    toJSON: function(track) {\n\n      var trackType = track.constructor;\n\n      var json;\n\n      // derived classes can define a static toJSON method\n      if (trackType.toJSON !== undefined) {\n\n        json = trackType.toJSON(track);\n\n      } else {\n\n        // by default, we assume the data can be serialized as-is\n        json = {\n\n          'name': track.name,\n          'times': AnimationUtils.convertArray(track.times, Array),\n          'values': AnimationUtils.convertArray(track.values, Array)\n\n        };\n\n        var interpolation = track.getInterpolation();\n\n        if (interpolation !== track.DefaultInterpolation) {\n\n          json.interpolation = interpolation;\n\n        }\n\n      }\n\n      json.type = track.ValueTypeName; // mandatory\n\n      return json;\n\n    }\n\n  });\n\n  Object.assign(KeyframeTrack.prototype, {\n\n    constructor: KeyframeTrack,\n\n    TimeBufferType: Float32Array,\n\n    ValueBufferType: Float32Array,\n\n    DefaultInterpolation: InterpolateLinear,\n\n    InterpolantFactoryMethodDiscrete: function(result) {\n\n      return new DiscreteInterpolant(this.times, this.values, this.getValueSize(), result);\n\n    },\n\n    InterpolantFactoryMethodLinear: function(result) {\n\n      return new LinearInterpolant(this.times, this.values, this.getValueSize(), result);\n\n    },\n\n    InterpolantFactoryMethodSmooth: function(result) {\n\n      return new CubicInterpolant(this.times, this.values, this.getValueSize(), result);\n\n    },\n\n    setInterpolation: function(interpolation) {\n\n      var factoryMethod;\n\n      switch (interpolation) {\n\n        case InterpolateDiscrete:\n\n          factoryMethod = this.InterpolantFactoryMethodDiscrete;\n\n          break;\n\n        case InterpolateLinear:\n\n          factoryMethod = this.InterpolantFactoryMethodLinear;\n\n          break;\n\n        case InterpolateSmooth:\n\n          factoryMethod = this.InterpolantFactoryMethodSmooth;\n\n          break;\n\n      }\n\n      if (factoryMethod === undefined) {\n\n        var message = \"unsupported interpolation for \" +\n          this.ValueTypeName + \" keyframe track named \" + this.name;\n\n        if (this.createInterpolant === undefined) {\n\n          // fall back to default, unless the default itself is messed up\n          if (interpolation !== this.DefaultInterpolation) {\n\n            this.setInterpolation(this.DefaultInterpolation);\n\n          } else {\n\n            throw new Error(message); // fatal, in this case\n\n          }\n\n        }\n\n        console.warn('THREE.KeyframeTrack:', message);\n        return this;\n\n      }\n\n      this.createInterpolant = factoryMethod;\n\n      return this;\n\n    },\n\n    getInterpolation: function() {\n\n      switch (this.createInterpolant) {\n\n        case this.InterpolantFactoryMethodDiscrete:\n\n          return InterpolateDiscrete;\n\n        case this.InterpolantFactoryMethodLinear:\n\n          return InterpolateLinear;\n\n        case this.InterpolantFactoryMethodSmooth:\n\n          return InterpolateSmooth;\n\n      }\n\n    },\n\n    getValueSize: function() {\n\n      return this.values.length / this.times.length;\n\n    },\n\n    // move all keyframes either forwards or backwards in time\n    shift: function(timeOffset) {\n\n      if (timeOffset !== 0.0) {\n\n        var times = this.times;\n\n        for (var i = 0, n = times.length; i !== n; ++i) {\n\n          times[i] += timeOffset;\n\n        }\n\n      }\n\n      return this;\n\n    },\n\n    // scale all keyframe times by a factor (useful for frame <-> seconds conversions)\n    scale: function(timeScale) {\n\n      if (timeScale !== 1.0) {\n\n        var times = this.times;\n\n        for (var i = 0, n = times.length; i !== n; ++i) {\n\n          times[i] *= timeScale;\n\n        }\n\n      }\n\n      return this;\n\n    },\n\n    // removes keyframes before and after animation without changing any values within the range [startTime, endTime].\n    // IMPORTANT: We do not shift around keys to the start of the track time, because for interpolated keys this will change their values\n    trim: function(startTime, endTime) {\n\n      var times = this.times,\n        nKeys = times.length,\n        from = 0,\n        to = nKeys - 1;\n\n      while (from !== nKeys && times[from] < startTime) {\n\n        ++from;\n\n      }\n\n      while (to !== -1 && times[to] > endTime) {\n\n        --to;\n\n      }\n\n      ++to; // inclusive -> exclusive bound\n\n      if (from !== 0 || to !== nKeys) {\n\n        // empty tracks are forbidden, so keep at least one keyframe\n        if (from >= to) {\n          to = Math.max(to, 1), from = to - 1;\n        }\n\n        var stride = this.getValueSize();\n        this.times = AnimationUtils.arraySlice(times, from, to);\n        this.values = AnimationUtils.arraySlice(this.values, from * stride, to * stride);\n\n      }\n\n      return this;\n\n    },\n\n    // ensure we do not get a GarbageInGarbageOut situation, make sure tracks are at least minimally viable\n    validate: function() {\n\n      var valid = true;\n\n      var valueSize = this.getValueSize();\n      if (valueSize - Math.floor(valueSize) !== 0) {\n\n        console.error('THREE.KeyframeTrack: Invalid value size in track.', this);\n        valid = false;\n\n      }\n\n      var times = this.times,\n        values = this.values,\n\n        nKeys = times.length;\n\n      if (nKeys === 0) {\n\n        console.error('THREE.KeyframeTrack: Track is empty.', this);\n        valid = false;\n\n      }\n\n      var prevTime = null;\n\n      for (var i = 0; i !== nKeys; i++) {\n\n        var currTime = times[i];\n\n        if (typeof currTime === 'number' && isNaN(currTime)) {\n\n          console.error('THREE.KeyframeTrack: Time is not a valid number.', this, i, currTime);\n          valid = false;\n          break;\n\n        }\n\n        if (prevTime !== null && prevTime > currTime) {\n\n          console.error('THREE.KeyframeTrack: Out of order keys.', this, i, currTime, prevTime);\n          valid = false;\n          break;\n\n        }\n\n        prevTime = currTime;\n\n      }\n\n      if (values !== undefined) {\n\n        if (AnimationUtils.isTypedArray(values)) {\n\n          for (var i = 0, n = values.length; i !== n; ++i) {\n\n            var value = values[i];\n\n            if (isNaN(value)) {\n\n              console.error('THREE.KeyframeTrack: Value is not a valid number.', this, i, value);\n              valid = false;\n              break;\n\n            }\n\n          }\n\n        }\n\n      }\n\n      return valid;\n\n    },\n\n    // removes equivalent sequential keys as common in morph target sequences\n    // (0,0,0,0,1,1,1,0,0,0,0,0,0,0) --> (0,0,1,1,0,0)\n    optimize: function() {\n\n      var times = this.times,\n        values = this.values,\n        stride = this.getValueSize(),\n\n        smoothInterpolation = this.getInterpolation() === InterpolateSmooth,\n\n        writeIndex = 1,\n        lastIndex = times.length - 1;\n\n      for (var i = 1; i < lastIndex; ++i) {\n\n        var keep = false;\n\n        var time = times[i];\n        var timeNext = times[i + 1];\n\n        // remove adjacent keyframes scheduled at the same time\n\n        if (time !== timeNext && (i !== 1 || time !== time[0])) {\n\n          if (!smoothInterpolation) {\n\n            // remove unnecessary keyframes same as their neighbors\n\n            var offset = i * stride,\n              offsetP = offset - stride,\n              offsetN = offset + stride;\n\n            for (var j = 0; j !== stride; ++j) {\n\n              var value = values[offset + j];\n\n              if (value !== values[offsetP + j] ||\n                value !== values[offsetN + j]) {\n\n                keep = true;\n                break;\n\n              }\n\n            }\n\n          } else {\n\n            keep = true;\n\n          }\n\n        }\n\n        // in-place compaction\n\n        if (keep) {\n\n          if (i !== writeIndex) {\n\n            times[writeIndex] = times[i];\n\n            var readOffset = i * stride,\n              writeOffset = writeIndex * stride;\n\n            for (var j = 0; j !== stride; ++j) {\n\n              values[writeOffset + j] = values[readOffset + j];\n\n            }\n\n          }\n\n          ++writeIndex;\n\n        }\n\n      }\n\n      // flush last keyframe (compaction looks ahead)\n\n      if (lastIndex > 0) {\n\n        times[writeIndex] = times[lastIndex];\n\n        for (var readOffset = lastIndex * stride, writeOffset = writeIndex * stride, j = 0; j !== stride; ++j) {\n\n          values[writeOffset + j] = values[readOffset + j];\n\n        }\n\n        ++writeIndex;\n\n      }\n\n      if (writeIndex !== times.length) {\n\n        this.times = AnimationUtils.arraySlice(times, 0, writeIndex);\n        this.values = AnimationUtils.arraySlice(values, 0, writeIndex * stride);\n\n      }\n\n      return this;\n\n    },\n\n    clone: function() {\n\n      var times = AnimationUtils.arraySlice(this.times, 0);\n      var values = AnimationUtils.arraySlice(this.values, 0);\n\n      var TypedKeyframeTrack = this.constructor;\n      var track = new TypedKeyframeTrack(this.name, times, values);\n\n      // Interpolant argument to constructor is not saved, so copy the factory method directly.\n      track.createInterpolant = this.createInterpolant;\n\n      return track;\n\n    }\n\n  });\n\n  /**\n   *\n   * A Track of Boolean keyframe values.\n   *\n   *\n   * @author Ben Houston / http://clara.io/\n   * @author David Sarno / http://lighthaus.us/\n   * @author tschw\n   */\n\n  function BooleanKeyframeTrack(name, times, values) {\n\n    KeyframeTrack.call(this, name, times, values);\n\n  }\n\n  BooleanKeyframeTrack.prototype = Object.assign(Object.create(KeyframeTrack.prototype), {\n\n    constructor: BooleanKeyframeTrack,\n\n    ValueTypeName: 'bool',\n    ValueBufferType: Array,\n\n    DefaultInterpolation: InterpolateDiscrete,\n\n    InterpolantFactoryMethodLinear: undefined,\n    InterpolantFactoryMethodSmooth: undefined\n\n    // Note: Actually this track could have a optimized / compressed\n    // representation of a single value and a custom interpolant that\n    // computes \"firstValue ^ isOdd( index )\".\n\n  });\n\n  /**\n   *\n   * A Track of keyframe values that represent color.\n   *\n   *\n   * @author Ben Houston / http://clara.io/\n   * @author David Sarno / http://lighthaus.us/\n   * @author tschw\n   */\n\n  function ColorKeyframeTrack(name, times, values, interpolation) {\n\n    KeyframeTrack.call(this, name, times, values, interpolation);\n\n  }\n\n  ColorKeyframeTrack.prototype = Object.assign(Object.create(KeyframeTrack.prototype), {\n\n    constructor: ColorKeyframeTrack,\n\n    ValueTypeName: 'color'\n\n    // ValueBufferType is inherited\n\n    // DefaultInterpolation is inherited\n\n    // Note: Very basic implementation and nothing special yet.\n    // However, this is the place for color space parameterization.\n\n  });\n\n  /**\n   *\n   * A Track of numeric keyframe values.\n   *\n   * @author Ben Houston / http://clara.io/\n   * @author David Sarno / http://lighthaus.us/\n   * @author tschw\n   */\n\n  function NumberKeyframeTrack(name, times, values, interpolation) {\n\n    KeyframeTrack.call(this, name, times, values, interpolation);\n\n  }\n\n  NumberKeyframeTrack.prototype = Object.assign(Object.create(KeyframeTrack.prototype), {\n\n    constructor: NumberKeyframeTrack,\n\n    ValueTypeName: 'number'\n\n    // ValueBufferType is inherited\n\n    // DefaultInterpolation is inherited\n\n  });\n\n  /**\n   * Spherical linear unit quaternion interpolant.\n   *\n   * @author tschw\n   */\n\n  function QuaternionLinearInterpolant(parameterPositions, sampleValues, sampleSize, resultBuffer) {\n\n    Interpolant.call(this, parameterPositions, sampleValues, sampleSize, resultBuffer);\n\n  }\n\n  QuaternionLinearInterpolant.prototype = Object.assign(Object.create(Interpolant.prototype), {\n\n    constructor: QuaternionLinearInterpolant,\n\n    interpolate_: function(i1, t0, t, t1) {\n\n      var result = this.resultBuffer,\n        values = this.sampleValues,\n        stride = this.valueSize,\n\n        offset = i1 * stride,\n\n        alpha = (t - t0) / (t1 - t0);\n\n      for (var end = offset + stride; offset !== end; offset += 4) {\n\n        Quaternion.slerpFlat(result, 0, values, offset - stride, values, offset, alpha);\n\n      }\n\n      return result;\n\n    }\n\n  });\n\n  /**\n   *\n   * A Track of quaternion keyframe values.\n   *\n   * @author Ben Houston / http://clara.io/\n   * @author David Sarno / http://lighthaus.us/\n   * @author tschw\n   */\n\n  function QuaternionKeyframeTrack(name, times, values, interpolation) {\n\n    KeyframeTrack.call(this, name, times, values, interpolation);\n\n  }\n\n  QuaternionKeyframeTrack.prototype = Object.assign(Object.create(KeyframeTrack.prototype), {\n\n    constructor: QuaternionKeyframeTrack,\n\n    ValueTypeName: 'quaternion',\n\n    // ValueBufferType is inherited\n\n    DefaultInterpolation: InterpolateLinear,\n\n    InterpolantFactoryMethodLinear: function(result) {\n\n      return new QuaternionLinearInterpolant(this.times, this.values, this.getValueSize(), result);\n\n    },\n\n    InterpolantFactoryMethodSmooth: undefined // not yet implemented\n\n  });\n\n  /**\n   *\n   * A Track that interpolates Strings\n   *\n   *\n   * @author Ben Houston / http://clara.io/\n   * @author David Sarno / http://lighthaus.us/\n   * @author tschw\n   */\n\n  function StringKeyframeTrack(name, times, values, interpolation) {\n\n    KeyframeTrack.call(this, name, times, values, interpolation);\n\n  }\n\n  StringKeyframeTrack.prototype = Object.assign(Object.create(KeyframeTrack.prototype), {\n\n    constructor: StringKeyframeTrack,\n\n    ValueTypeName: 'string',\n    ValueBufferType: Array,\n\n    DefaultInterpolation: InterpolateDiscrete,\n\n    InterpolantFactoryMethodLinear: undefined,\n\n    InterpolantFactoryMethodSmooth: undefined\n\n  });\n\n  /**\n   *\n   * A Track of vectored keyframe values.\n   *\n   *\n   * @author Ben Houston / http://clara.io/\n   * @author David Sarno / http://lighthaus.us/\n   * @author tschw\n   */\n\n  function VectorKeyframeTrack(name, times, values, interpolation) {\n\n    KeyframeTrack.call(this, name, times, values, interpolation);\n\n  }\n\n  VectorKeyframeTrack.prototype = Object.assign(Object.create(KeyframeTrack.prototype), {\n\n    constructor: VectorKeyframeTrack,\n\n    ValueTypeName: 'vector'\n\n    // ValueBufferType is inherited\n\n    // DefaultInterpolation is inherited\n\n  });\n\n  /**\n   *\n   * Reusable set of Tracks that represent an animation.\n   *\n   * @author Ben Houston / http://clara.io/\n   * @author David Sarno / http://lighthaus.us/\n   */\n\n  function AnimationClip(name, duration, tracks) {\n\n    this.name = name;\n    this.tracks = tracks;\n    this.duration = (duration !== undefined) ? duration : -1;\n\n    this.uuid = _Math.generateUUID();\n\n    // this means it should figure out its duration by scanning the tracks\n    if (this.duration < 0) {\n\n      this.resetDuration();\n\n    }\n\n  }\n\n  function getTrackTypeForValueTypeName(typeName) {\n\n    switch (typeName.toLowerCase()) {\n\n      case 'scalar':\n      case 'double':\n      case 'float':\n      case 'number':\n      case 'integer':\n\n        return NumberKeyframeTrack;\n\n      case 'vector':\n      case 'vector2':\n      case 'vector3':\n      case 'vector4':\n\n        return VectorKeyframeTrack;\n\n      case 'color':\n\n        return ColorKeyframeTrack;\n\n      case 'quaternion':\n\n        return QuaternionKeyframeTrack;\n\n      case 'bool':\n      case 'boolean':\n\n        return BooleanKeyframeTrack;\n\n      case 'string':\n\n        return StringKeyframeTrack;\n\n    }\n\n    throw new Error('THREE.KeyframeTrack: Unsupported typeName: ' + typeName);\n\n  }\n\n  function parseKeyframeTrack(json) {\n\n    if (json.type === undefined) {\n\n      throw new Error('THREE.KeyframeTrack: track type undefined, can not parse');\n\n    }\n\n    var trackType = getTrackTypeForValueTypeName(json.type);\n\n    if (json.times === undefined) {\n\n      var times = [],\n        values = [];\n\n      AnimationUtils.flattenJSON(json.keys, times, values, 'value');\n\n      json.times = times;\n      json.values = values;\n\n    }\n\n    // derived classes can define a static parse method\n    if (trackType.parse !== undefined) {\n\n      return trackType.parse(json);\n\n    } else {\n\n      // by default, we assume a constructor compatible with the base\n      return new trackType(json.name, json.times, json.values, json.interpolation);\n\n    }\n\n  }\n\n  Object.assign(AnimationClip, {\n\n    parse: function(json) {\n\n      var tracks = [],\n        jsonTracks = json.tracks,\n        frameTime = 1.0 / (json.fps || 1.0);\n\n      for (var i = 0, n = jsonTracks.length; i !== n; ++i) {\n\n        tracks.push(parseKeyframeTrack(jsonTracks[i]).scale(frameTime));\n\n      }\n\n      return new AnimationClip(json.name, json.duration, tracks);\n\n    },\n\n    toJSON: function(clip) {\n\n      var tracks = [],\n        clipTracks = clip.tracks;\n\n      var json = {\n\n        'name': clip.name,\n        'duration': clip.duration,\n        'tracks': tracks,\n        'uuid': clip.uuid\n\n      };\n\n      for (var i = 0, n = clipTracks.length; i !== n; ++i) {\n\n        tracks.push(KeyframeTrack.toJSON(clipTracks[i]));\n\n      }\n\n      return json;\n\n    },\n\n    CreateFromMorphTargetSequence: function(name, morphTargetSequence, fps, noLoop) {\n\n      var numMorphTargets = morphTargetSequence.length;\n      var tracks = [];\n\n      for (var i = 0; i < numMorphTargets; i++) {\n\n        var times = [];\n        var values = [];\n\n        times.push(\n          (i + numMorphTargets - 1) % numMorphTargets,\n          i,\n          (i + 1) % numMorphTargets);\n\n        values.push(0, 1, 0);\n\n        var order = AnimationUtils.getKeyframeOrder(times);\n        times = AnimationUtils.sortedArray(times, 1, order);\n        values = AnimationUtils.sortedArray(values, 1, order);\n\n        // if there is a key at the first frame, duplicate it as the\n        // last frame as well for perfect loop.\n        if (!noLoop && times[0] === 0) {\n\n          times.push(numMorphTargets);\n          values.push(values[0]);\n\n        }\n\n        tracks.push(\n          new NumberKeyframeTrack(\n            '.morphTargetInfluences[' + morphTargetSequence[i].name + ']',\n            times, values\n          ).scale(1.0 / fps));\n\n      }\n\n      return new AnimationClip(name, -1, tracks);\n\n    },\n\n    findByName: function(objectOrClipArray, name) {\n\n      var clipArray = objectOrClipArray;\n\n      if (!Array.isArray(objectOrClipArray)) {\n\n        var o = objectOrClipArray;\n        clipArray = o.geometry && o.geometry.animations || o.animations;\n\n      }\n\n      for (var i = 0; i < clipArray.length; i++) {\n\n        if (clipArray[i].name === name) {\n\n          return clipArray[i];\n\n        }\n\n      }\n\n      return null;\n\n    },\n\n    CreateClipsFromMorphTargetSequences: function(morphTargets, fps, noLoop) {\n\n      var animationToMorphTargets = {};\n\n      // tested with https://regex101.com/ on trick sequences\n      // such flamingo_flyA_003, flamingo_run1_003, crdeath0059\n      var pattern = /^([\\w-]*?)([\\d]+)$/;\n\n      // sort morph target names into animation groups based\n      // patterns like Walk_001, Walk_002, Run_001, Run_002\n      for (var i = 0, il = morphTargets.length; i < il; i++) {\n\n        var morphTarget = morphTargets[i];\n        var parts = morphTarget.name.match(pattern);\n\n        if (parts && parts.length > 1) {\n\n          var name = parts[1];\n\n          var animationMorphTargets = animationToMorphTargets[name];\n          if (!animationMorphTargets) {\n\n            animationToMorphTargets[name] = animationMorphTargets = [];\n\n          }\n\n          animationMorphTargets.push(morphTarget);\n\n        }\n\n      }\n\n      var clips = [];\n\n      for (var name in animationToMorphTargets) {\n\n        clips.push(AnimationClip.CreateFromMorphTargetSequence(name, animationToMorphTargets[name], fps, noLoop));\n\n      }\n\n      return clips;\n\n    },\n\n    // parse the animation.hierarchy format\n    parseAnimation: function(animation, bones) {\n\n      if (!animation) {\n\n        console.error('THREE.AnimationClip: No animation in JSONLoader data.');\n        return null;\n\n      }\n\n      var addNonemptyTrack = function(trackType, trackName, animationKeys, propertyName, destTracks) {\n\n        // only return track if there are actually keys.\n        if (animationKeys.length !== 0) {\n\n          var times = [];\n          var values = [];\n\n          AnimationUtils.flattenJSON(animationKeys, times, values, propertyName);\n\n          // empty keys are filtered out, so check again\n          if (times.length !== 0) {\n\n            destTracks.push(new trackType(trackName, times, values));\n\n          }\n\n        }\n\n      };\n\n      var tracks = [];\n\n      var clipName = animation.name || 'default';\n      // automatic length determination in AnimationClip.\n      var duration = animation.length || -1;\n      var fps = animation.fps || 30;\n\n      var hierarchyTracks = animation.hierarchy || [];\n\n      for (var h = 0; h < hierarchyTracks.length; h++) {\n\n        var animationKeys = hierarchyTracks[h].keys;\n\n        // skip empty tracks\n        if (!animationKeys || animationKeys.length === 0) {\n          continue;\n        }\n\n        // process morph targets\n        if (animationKeys[0].morphTargets) {\n\n          // figure out all morph targets used in this track\n          var morphTargetNames = {};\n\n          for (var k = 0; k < animationKeys.length; k++) {\n\n            if (animationKeys[k].morphTargets) {\n\n              for (var m = 0; m < animationKeys[k].morphTargets.length; m++) {\n\n                morphTargetNames[animationKeys[k].morphTargets[m]] = -1;\n\n              }\n\n            }\n\n          }\n\n          // create a track for each morph target with all zero\n          // morphTargetInfluences except for the keys in which\n          // the morphTarget is named.\n          for (var morphTargetName in morphTargetNames) {\n\n            var times = [];\n            var values = [];\n\n            for (var m = 0; m !== animationKeys[k].morphTargets.length; ++m) {\n\n              var animationKey = animationKeys[k];\n\n              times.push(animationKey.time);\n              values.push((animationKey.morphTarget === morphTargetName) ? 1 : 0);\n\n            }\n\n            tracks.push(new NumberKeyframeTrack('.morphTargetInfluence[' + morphTargetName + ']', times, values));\n\n          }\n\n          duration = morphTargetNames.length * (fps || 1.0);\n\n        } else {\n\n          // ...assume skeletal animation\n\n          var boneName = '.bones[' + bones[h].name + ']';\n\n          addNonemptyTrack(\n            VectorKeyframeTrack, boneName + '.position',\n            animationKeys, 'pos', tracks);\n\n          addNonemptyTrack(\n            QuaternionKeyframeTrack, boneName + '.quaternion',\n            animationKeys, 'rot', tracks);\n\n          addNonemptyTrack(\n            VectorKeyframeTrack, boneName + '.scale',\n            animationKeys, 'scl', tracks);\n\n        }\n\n      }\n\n      if (tracks.length === 0) {\n\n        return null;\n\n      }\n\n      var clip = new AnimationClip(clipName, duration, tracks);\n\n      return clip;\n\n    }\n\n  });\n\n  Object.assign(AnimationClip.prototype, {\n\n    resetDuration: function() {\n\n      var tracks = this.tracks,\n        duration = 0;\n\n      for (var i = 0, n = tracks.length; i !== n; ++i) {\n\n        var track = this.tracks[i];\n\n        duration = Math.max(duration, track.times[track.times.length - 1]);\n\n      }\n\n      this.duration = duration;\n\n      return this;\n\n    },\n\n    trim: function() {\n\n      for (var i = 0; i < this.tracks.length; i++) {\n\n        this.tracks[i].trim(0, this.duration);\n\n      }\n\n      return this;\n\n    },\n\n    validate: function() {\n\n      var valid = true;\n\n      for (var i = 0; i < this.tracks.length; i++) {\n\n        valid = valid && this.tracks[i].validate();\n\n      }\n\n      return valid;\n\n    },\n\n    optimize: function() {\n\n      for (var i = 0; i < this.tracks.length; i++) {\n\n        this.tracks[i].optimize();\n\n      }\n\n      return this;\n\n    },\n\n    clone: function() {\n\n      var tracks = [];\n\n      for (var i = 0; i < this.tracks.length; i++) {\n\n        tracks.push(this.tracks[i].clone());\n\n      }\n\n      return new AnimationClip(this.name, this.duration, tracks);\n\n    }\n\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  var Cache = {\n\n    enabled: false,\n\n    files: {},\n\n    add: function(key, file) {\n\n      if (this.enabled === false) {\n        return;\n      }\n\n      // console.log( 'THREE.Cache', 'Adding key:', key );\n\n      this.files[key] = file;\n\n    },\n\n    get: function(key) {\n\n      if (this.enabled === false) {\n        return;\n      }\n\n      // console.log( 'THREE.Cache', 'Checking key:', key );\n\n      return this.files[key];\n\n    },\n\n    remove: function(key) {\n\n      delete this.files[key];\n\n    },\n\n    clear: function() {\n\n      this.files = {};\n\n    }\n\n  };\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function LoadingManager(onLoad, onProgress, onError) {\n\n    var scope = this;\n\n    var isLoading = false;\n    var itemsLoaded = 0;\n    var itemsTotal = 0;\n    var urlModifier = undefined;\n    var handlers = [];\n\n    // Refer to #5689 for the reason why we don't set .onStart\n    // in the constructor\n\n    this.onStart = undefined;\n    this.onLoad = onLoad;\n    this.onProgress = onProgress;\n    this.onError = onError;\n\n    this.itemStart = function(url) {\n\n      itemsTotal++;\n\n      if (isLoading === false) {\n\n        if (scope.onStart !== undefined) {\n\n          scope.onStart(url, itemsLoaded, itemsTotal);\n\n        }\n\n      }\n\n      isLoading = true;\n\n    };\n\n    this.itemEnd = function(url) {\n\n      itemsLoaded++;\n\n      if (scope.onProgress !== undefined) {\n\n        scope.onProgress(url, itemsLoaded, itemsTotal);\n\n      }\n\n      if (itemsLoaded === itemsTotal) {\n\n        isLoading = false;\n\n        if (scope.onLoad !== undefined) {\n\n          scope.onLoad();\n\n        }\n\n      }\n\n    };\n\n    this.itemError = function(url) {\n\n      if (scope.onError !== undefined) {\n\n        scope.onError(url);\n\n      }\n\n    };\n\n    this.resolveURL = function(url) {\n\n      if (urlModifier) {\n\n        return urlModifier(url);\n\n      }\n\n      return url;\n\n    };\n\n    this.setURLModifier = function(transform) {\n\n      urlModifier = transform;\n\n      return this;\n\n    };\n\n    this.addHandler = function(regex, loader) {\n\n      handlers.push(regex, loader);\n\n      return this;\n\n    };\n\n    this.removeHandler = function(regex) {\n\n      var index = handlers.indexOf(regex);\n\n      if (index !== -1) {\n\n        handlers.splice(index, 2);\n\n      }\n\n      return this;\n\n    };\n\n    this.getHandler = function(file) {\n\n      for (var i = 0, l = handlers.length; i < l; i += 2) {\n\n        var regex = handlers[i];\n        var loader = handlers[i + 1];\n\n        if (regex.global) {\n          regex.lastIndex = 0;\n        } // see #17920\n\n        if (regex.test(file)) {\n\n          return loader;\n\n        }\n\n      }\n\n      return null;\n\n    };\n\n  }\n\n  var DefaultLoadingManager = new LoadingManager();\n\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n  function Loader(manager) {\n\n    this.manager = (manager !== undefined) ? manager : DefaultLoadingManager;\n\n    this.crossOrigin = 'anonymous';\n    this.path = '';\n    this.resourcePath = '';\n\n  }\n\n  Object.assign(Loader.prototype, {\n\n    load: function( /* url, onLoad, onProgress, onError */ ) {},\n\n    parse: function( /* data */ ) {},\n\n    setCrossOrigin: function(crossOrigin) {\n\n      this.crossOrigin = crossOrigin;\n      return this;\n\n    },\n\n    setPath: function(path) {\n\n      this.path = path;\n      return this;\n\n    },\n\n    setResourcePath: function(resourcePath) {\n\n      this.resourcePath = resourcePath;\n      return this;\n\n    }\n\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  var loading = {};\n\n  function FileLoader(manager) {\n\n    Loader.call(this, manager);\n\n  }\n\n  FileLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n\n    constructor: FileLoader,\n\n    load: function(url, onLoad, onProgress, onError) {\n\n      if (url === undefined) {\n        url = '';\n      }\n\n      if (this.path !== undefined) {\n        url = this.path + url;\n      }\n\n      url = this.manager.resolveURL(url);\n\n      var scope = this;\n\n      var cached = Cache.get(url);\n\n      if (cached !== undefined) {\n\n        scope.manager.itemStart(url);\n\n        setTimeout(function() {\n\n          if (onLoad) {\n            onLoad(cached);\n          }\n\n          scope.manager.itemEnd(url);\n\n        }, 0);\n\n        return cached;\n\n      }\n\n      // Check if request is duplicate\n\n      if (loading[url] !== undefined) {\n\n        loading[url].push({\n\n          onLoad: onLoad,\n          onProgress: onProgress,\n          onError: onError\n\n        });\n\n        return;\n\n      }\n\n      // Check for data: URI\n      var dataUriRegex = /^data:(.*?)(;base64)?,(.*)$/;\n      var dataUriRegexResult = url.match(dataUriRegex);\n\n      // Safari can not handle Data URIs through XMLHttpRequest so process manually\n      if (dataUriRegexResult) {\n\n        var mimeType = dataUriRegexResult[1];\n        var isBase64 = !!dataUriRegexResult[2];\n        var data = dataUriRegexResult[3];\n\n        data = decodeURIComponent(data);\n\n        if (isBase64) {\n          data = atob(data);\n        }\n\n        try {\n\n          var response;\n          var responseType = (this.responseType || '').toLowerCase();\n\n          switch (responseType) {\n\n            case 'arraybuffer':\n            case 'blob':\n\n              var view = new Uint8Array(data.length);\n\n              for (var i = 0; i < data.length; i++) {\n\n                view[i] = data.charCodeAt(i);\n\n              }\n\n              if (responseType === 'blob') {\n\n                response = new Blob([view.buffer], {\n                  type: mimeType\n                });\n\n              } else {\n\n                response = view.buffer;\n\n              }\n\n              break;\n\n            case 'document':\n\n              var parser = new DOMParser();\n              response = parser.parseFromString(data, mimeType);\n\n              break;\n\n            case 'json':\n\n              response = JSON.parse(data);\n\n              break;\n\n            default: // 'text' or other\n\n              response = data;\n\n              break;\n\n          }\n\n          // Wait for next browser tick like standard XMLHttpRequest event dispatching does\n          setTimeout(function() {\n\n            if (onLoad) {\n              onLoad(response);\n            }\n\n            scope.manager.itemEnd(url);\n\n          }, 0);\n\n        } catch (error) {\n\n          // Wait for next browser tick like standard XMLHttpRequest event dispatching does\n          setTimeout(function() {\n\n            if (onError) {\n              onError(error);\n            }\n\n            scope.manager.itemError(url);\n            scope.manager.itemEnd(url);\n\n          }, 0);\n\n        }\n\n      } else {\n\n        // Initialise array for duplicate requests\n\n        loading[url] = [];\n\n        loading[url].push({\n\n          onLoad: onLoad,\n          onProgress: onProgress,\n          onError: onError\n\n        });\n\n        var request = new XMLHttpRequest();\n\n        request.open('GET', url, true);\n\n        request.addEventListener('load', function(event) {\n\n          var response = this.response;\n\n          var callbacks = loading[url];\n\n          delete loading[url];\n\n          if (this.status === 200 || this.status === 0) {\n\n            // Some browsers return HTTP Status 0 when using non-http protocol\n            // e.g. 'file://' or 'data://'. Handle as success.\n\n            if (this.status === 0) {\n              console.warn('THREE.FileLoader: HTTP Status 0 received.');\n            }\n\n            // Add to cache only on HTTP success, so that we do not cache\n            // error response bodies as proper responses to requests.\n            Cache.add(url, response);\n\n            for (var i = 0, il = callbacks.length; i < il; i++) {\n\n              var callback = callbacks[i];\n              if (callback.onLoad) {\n                callback.onLoad(response);\n              }\n\n            }\n\n            scope.manager.itemEnd(url);\n\n          } else {\n\n            for (var i = 0, il = callbacks.length; i < il; i++) {\n\n              var callback = callbacks[i];\n              if (callback.onError) {\n                callback.onError(event);\n              }\n\n            }\n\n            scope.manager.itemError(url);\n            scope.manager.itemEnd(url);\n\n          }\n\n        }, false);\n\n        request.addEventListener('progress', function(event) {\n\n          var callbacks = loading[url];\n\n          for (var i = 0, il = callbacks.length; i < il; i++) {\n\n            var callback = callbacks[i];\n            if (callback.onProgress) {\n              callback.onProgress(event);\n            }\n\n          }\n\n        }, false);\n\n        request.addEventListener('error', function(event) {\n\n          var callbacks = loading[url];\n\n          delete loading[url];\n\n          for (var i = 0, il = callbacks.length; i < il; i++) {\n\n            var callback = callbacks[i];\n            if (callback.onError) {\n              callback.onError(event);\n            }\n\n          }\n\n          scope.manager.itemError(url);\n          scope.manager.itemEnd(url);\n\n        }, false);\n\n        request.addEventListener('abort', function(event) {\n\n          var callbacks = loading[url];\n\n          delete loading[url];\n\n          for (var i = 0, il = callbacks.length; i < il; i++) {\n\n            var callback = callbacks[i];\n            if (callback.onError) {\n              callback.onError(event);\n            }\n\n          }\n\n          scope.manager.itemError(url);\n          scope.manager.itemEnd(url);\n\n        }, false);\n\n        if (this.responseType !== undefined) {\n          request.responseType = this.responseType;\n        }\n        if (this.withCredentials !== undefined) {\n          request.withCredentials = this.withCredentials;\n        }\n\n        if (request.overrideMimeType) {\n          request.overrideMimeType(this.mimeType !== undefined ? this.mimeType : 'text/plain');\n        }\n\n        for (var header in this.requestHeader) {\n\n          request.setRequestHeader(header, this.requestHeader[header]);\n\n        }\n\n        request.send(null);\n\n      }\n\n      scope.manager.itemStart(url);\n\n      return request;\n\n    },\n\n    setResponseType: function(value) {\n\n      this.responseType = value;\n      return this;\n\n    },\n\n    setWithCredentials: function(value) {\n\n      this.withCredentials = value;\n      return this;\n\n    },\n\n    setMimeType: function(value) {\n\n      this.mimeType = value;\n      return this;\n\n    },\n\n    setRequestHeader: function(value) {\n\n      this.requestHeader = value;\n      return this;\n\n    }\n\n  });\n\n  /**\n   * @author bhouston / http://clara.io/\n   */\n\n  function AnimationLoader(manager) {\n\n    Loader.call(this, manager);\n\n  }\n\n  AnimationLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n\n    constructor: AnimationLoader,\n\n    load: function(url, onLoad, onProgress, onError) {\n\n      var scope = this;\n\n      var loader = new FileLoader(scope.manager);\n      loader.setPath(scope.path);\n      loader.load(url, function(text) {\n\n        onLoad(scope.parse(JSON.parse(text)));\n\n      }, onProgress, onError);\n\n    },\n\n    parse: function(json) {\n\n      var animations = [];\n\n      for (var i = 0; i < json.length; i++) {\n\n        var clip = AnimationClip.parse(json[i]);\n\n        animations.push(clip);\n\n      }\n\n      return animations;\n\n    }\n\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   *\n   * Abstract Base class to block based textures loader (dds, pvr, ...)\n   *\n   * Sub classes have to implement the parse() method which will be used in load().\n   */\n\n  function CompressedTextureLoader(manager) {\n\n    Loader.call(this, manager);\n\n  }\n\n  CompressedTextureLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n\n    constructor: CompressedTextureLoader,\n\n    load: function(url, onLoad, onProgress, onError) {\n\n      var scope = this;\n\n      var images = [];\n\n      var texture = new CompressedTexture();\n      texture.image = images;\n\n      var loader = new FileLoader(this.manager);\n      loader.setPath(this.path);\n      loader.setResponseType('arraybuffer');\n\n      function loadTexture(i) {\n\n        loader.load(url[i], function(buffer) {\n\n          var texDatas = scope.parse(buffer, true);\n\n          images[i] = {\n            width: texDatas.width,\n            height: texDatas.height,\n            format: texDatas.format,\n            mipmaps: texDatas.mipmaps\n          };\n\n          loaded += 1;\n\n          if (loaded === 6) {\n\n            if (texDatas.mipmapCount === 1) {\n              texture.minFilter = LinearFilter;\n            }\n\n            texture.format = texDatas.format;\n            texture.needsUpdate = true;\n\n            if (onLoad) {\n              onLoad(texture);\n            }\n\n          }\n\n        }, onProgress, onError);\n\n      }\n\n      if (Array.isArray(url)) {\n\n        var loaded = 0;\n\n        for (var i = 0, il = url.length; i < il; ++i) {\n\n          loadTexture(i);\n\n        }\n\n      } else {\n\n        // compressed cubemap texture stored in a single DDS file\n\n        loader.load(url, function(buffer) {\n\n          var texDatas = scope.parse(buffer, true);\n\n          if (texDatas.isCubemap) {\n\n            var faces = texDatas.mipmaps.length / texDatas.mipmapCount;\n\n            for (var f = 0; f < faces; f++) {\n\n              images[f] = {\n                mipmaps: []\n              };\n\n              for (var i = 0; i < texDatas.mipmapCount; i++) {\n\n                images[f].mipmaps.push(texDatas.mipmaps[f * texDatas.mipmapCount + i]);\n                images[f].format = texDatas.format;\n                images[f].width = texDatas.width;\n                images[f].height = texDatas.height;\n\n              }\n\n            }\n\n          } else {\n\n            texture.image.width = texDatas.width;\n            texture.image.height = texDatas.height;\n            texture.mipmaps = texDatas.mipmaps;\n\n          }\n\n          if (texDatas.mipmapCount === 1) {\n\n            texture.minFilter = LinearFilter;\n\n          }\n\n          texture.format = texDatas.format;\n          texture.needsUpdate = true;\n\n          if (onLoad) {\n            onLoad(texture);\n          }\n\n        }, onProgress, onError);\n\n      }\n\n      return texture;\n\n    }\n\n  });\n\n  /**\n   * @author Nikos M. / https://github.com/foo123/\n   *\n   * Abstract Base class to load generic binary textures formats (rgbe, hdr, ...)\n   *\n   * Sub classes have to implement the parse() method which will be used in load().\n   */\n\n  function DataTextureLoader(manager) {\n\n    Loader.call(this, manager);\n\n  }\n\n  DataTextureLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n\n    constructor: DataTextureLoader,\n\n    load: function(url, onLoad, onProgress, onError) {\n\n      var scope = this;\n\n      var texture = new DataTexture();\n\n      var loader = new FileLoader(this.manager);\n      loader.setResponseType('arraybuffer');\n      loader.setPath(this.path);\n      loader.load(url, function(buffer) {\n\n        var texData = scope.parse(buffer);\n\n        if (!texData) {\n          return;\n        }\n\n        if (texData.image !== undefined) {\n\n          texture.image = texData.image;\n\n        } else if (texData.data !== undefined) {\n\n          texture.image.width = texData.width;\n          texture.image.height = texData.height;\n          texture.image.data = texData.data;\n\n        }\n\n        texture.wrapS = texData.wrapS !== undefined ? texData.wrapS : ClampToEdgeWrapping;\n        texture.wrapT = texData.wrapT !== undefined ? texData.wrapT : ClampToEdgeWrapping;\n\n        texture.magFilter = texData.magFilter !== undefined ? texData.magFilter : LinearFilter;\n        texture.minFilter = texData.minFilter !== undefined ? texData.minFilter : LinearFilter;\n\n        texture.anisotropy = texData.anisotropy !== undefined ? texData.anisotropy : 1;\n\n        if (texData.format !== undefined) {\n\n          texture.format = texData.format;\n\n        }\n        if (texData.type !== undefined) {\n\n          texture.type = texData.type;\n\n        }\n\n        if (texData.mipmaps !== undefined) {\n\n          texture.mipmaps = texData.mipmaps;\n          texture.minFilter = LinearMipmapLinearFilter; // presumably...\n\n        }\n\n        if (texData.mipmapCount === 1) {\n\n          texture.minFilter = LinearFilter;\n\n        }\n\n        texture.needsUpdate = true;\n\n        if (onLoad) {\n          onLoad(texture, texData);\n        }\n\n      }, onProgress, onError);\n\n\n      return texture;\n\n    }\n\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function ImageLoader(manager) {\n\n    Loader.call(this, manager);\n\n  }\n\n  ImageLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n\n    constructor: ImageLoader,\n\n    load: function(url, onLoad, onProgress, onError) {\n\n      if (this.path !== undefined) {\n        url = this.path + url;\n      }\n\n      url = this.manager.resolveURL(url);\n\n      var scope = this;\n\n      var cached = Cache.get(url);\n\n      if (cached !== undefined) {\n\n        scope.manager.itemStart(url);\n\n        setTimeout(function() {\n\n          if (onLoad) {\n            onLoad(cached);\n          }\n\n          scope.manager.itemEnd(url);\n\n        }, 0);\n\n        return cached;\n\n      }\n\n      var image = document.createElementNS('http://www.w3.org/1999/xhtml', 'img');\n\n      function onImageLoad() {\n\n        image.removeEventListener('load', onImageLoad, false);\n        image.removeEventListener('error', onImageError, false);\n\n        Cache.add(url, this);\n\n        if (onLoad) {\n          onLoad(this);\n        }\n\n        scope.manager.itemEnd(url);\n\n      }\n\n      function onImageError(event) {\n\n        image.removeEventListener('load', onImageLoad, false);\n        image.removeEventListener('error', onImageError, false);\n\n        if (onError) {\n          onError(event);\n        }\n\n        scope.manager.itemError(url);\n        scope.manager.itemEnd(url);\n\n      }\n\n      image.addEventListener('load', onImageLoad, false);\n      image.addEventListener('error', onImageError, false);\n\n      if (url.substr(0, 5) !== 'data:') {\n\n        if (this.crossOrigin !== undefined) {\n          image.crossOrigin = this.crossOrigin;\n        }\n\n      }\n\n      scope.manager.itemStart(url);\n\n      image.src = url;\n\n      return image;\n\n    }\n\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n\n  function CubeTextureLoader(manager) {\n\n    Loader.call(this, manager);\n\n  }\n\n  CubeTextureLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n\n    constructor: CubeTextureLoader,\n\n    load: function(urls, onLoad, onProgress, onError) {\n\n      var texture = new CubeTexture();\n\n      var loader = new ImageLoader(this.manager);\n      loader.setCrossOrigin(this.crossOrigin);\n      loader.setPath(this.path);\n\n      var loaded = 0;\n\n      function loadTexture(i) {\n\n        loader.load(urls[i], function(image) {\n\n          texture.images[i] = image;\n\n          loaded++;\n\n          if (loaded === 6) {\n\n            texture.needsUpdate = true;\n\n            if (onLoad) {\n              onLoad(texture);\n            }\n\n          }\n\n        }, undefined, onError);\n\n      }\n\n      for (var i = 0; i < urls.length; ++i) {\n\n        loadTexture(i);\n\n      }\n\n      return texture;\n\n    }\n\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function TextureLoader(manager) {\n\n    Loader.call(this, manager);\n\n  }\n\n  TextureLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n\n    constructor: TextureLoader,\n\n    load: function(url, onLoad, onProgress, onError) {\n\n      var texture = new Texture();\n\n      var loader = new ImageLoader(this.manager);\n      loader.setCrossOrigin(this.crossOrigin);\n      loader.setPath(this.path);\n\n      loader.load(url, function(image) {\n\n        texture.image = image;\n\n        // JPEGs can't have an alpha channel, so memory can be saved by storing them as RGB.\n        var isJPEG = url.search(/\\.jpe?g($|\\?)/i) > 0 || url.search(/^data\\:image\\/jpeg/) === 0;\n\n        texture.format = isJPEG ? RGBFormat : RGBAFormat;\n        texture.needsUpdate = true;\n\n        if (onLoad !== undefined) {\n\n          onLoad(texture);\n\n        }\n\n      }, onProgress, onError);\n\n      return texture;\n\n    }\n\n  });\n\n  /**\n   * @author zz85 / http://www.lab4games.net/zz85/blog\n   * Extensible curve object\n   *\n   * Some common of curve methods:\n   * .getPoint( t, optionalTarget ), .getTangent( t )\n   * .getPointAt( u, optionalTarget ), .getTangentAt( u )\n   * .getPoints(), .getSpacedPoints()\n   * .getLength()\n   * .updateArcLengths()\n   *\n   * This following curves inherit from THREE.Curve:\n   *\n   * -- 2D curves --\n   * THREE.ArcCurve\n   * THREE.CubicBezierCurve\n   * THREE.EllipseCurve\n   * THREE.LineCurve\n   * THREE.QuadraticBezierCurve\n   * THREE.SplineCurve\n   *\n   * -- 3D curves --\n   * THREE.CatmullRomCurve3\n   * THREE.CubicBezierCurve3\n   * THREE.LineCurve3\n   * THREE.QuadraticBezierCurve3\n   *\n   * A series of curves can be represented as a THREE.CurvePath.\n   *\n   **/\n\n  /**************************************************************\n   *\tAbstract Curve base class\n   **************************************************************/\n\n  function Curve() {\n\n    this.type = 'Curve';\n\n    this.arcLengthDivisions = 200;\n\n  }\n\n  Object.assign(Curve.prototype, {\n\n    // Virtual base class method to overwrite and implement in subclasses\n    //\t- t [0 .. 1]\n\n    getPoint: function( /* t, optionalTarget */ ) {\n\n      console.warn('THREE.Curve: .getPoint() not implemented.');\n      return null;\n\n    },\n\n    // Get point at relative position in curve according to arc length\n    // - u [0 .. 1]\n\n    getPointAt: function(u, optionalTarget) {\n\n      var t = this.getUtoTmapping(u);\n      return this.getPoint(t, optionalTarget);\n\n    },\n\n    // Get sequence of points using getPoint( t )\n\n    getPoints: function(divisions) {\n\n      if (divisions === undefined) {\n        divisions = 5;\n      }\n\n      var points = [];\n\n      for (var d = 0; d <= divisions; d++) {\n\n        points.push(this.getPoint(d / divisions));\n\n      }\n\n      return points;\n\n    },\n\n    // Get sequence of points using getPointAt( u )\n\n    getSpacedPoints: function(divisions) {\n\n      if (divisions === undefined) {\n        divisions = 5;\n      }\n\n      var points = [];\n\n      for (var d = 0; d <= divisions; d++) {\n\n        points.push(this.getPointAt(d / divisions));\n\n      }\n\n      return points;\n\n    },\n\n    // Get total curve arc length\n\n    getLength: function() {\n\n      var lengths = this.getLengths();\n      return lengths[lengths.length - 1];\n\n    },\n\n    // Get list of cumulative segment lengths\n\n    getLengths: function(divisions) {\n\n      if (divisions === undefined) {\n        divisions = this.arcLengthDivisions;\n      }\n\n      if (this.cacheArcLengths &&\n        (this.cacheArcLengths.length === divisions + 1) &&\n        !this.needsUpdate) {\n\n        return this.cacheArcLengths;\n\n      }\n\n      this.needsUpdate = false;\n\n      var cache = [];\n      var current, last = this.getPoint(0);\n      var p, sum = 0;\n\n      cache.push(0);\n\n      for (p = 1; p <= divisions; p++) {\n\n        current = this.getPoint(p / divisions);\n        sum += current.distanceTo(last);\n        cache.push(sum);\n        last = current;\n\n      }\n\n      this.cacheArcLengths = cache;\n\n      return cache; // { sums: cache, sum: sum }; Sum is in the last element.\n\n    },\n\n    updateArcLengths: function() {\n\n      this.needsUpdate = true;\n      this.getLengths();\n\n    },\n\n    // Given u ( 0 .. 1 ), get a t to find p. This gives you points which are equidistant\n\n    getUtoTmapping: function(u, distance) {\n\n      var arcLengths = this.getLengths();\n\n      var i = 0,\n        il = arcLengths.length;\n\n      var targetArcLength; // The targeted u distance value to get\n\n      if (distance) {\n\n        targetArcLength = distance;\n\n      } else {\n\n        targetArcLength = u * arcLengths[il - 1];\n\n      }\n\n      // binary search for the index with largest value smaller than target u distance\n\n      var low = 0,\n        high = il - 1,\n        comparison;\n\n      while (low <= high) {\n\n        i = Math.floor(low + (high - low) / 2); // less likely to overflow, though probably not issue here, JS doesn't really have integers, all numbers are floats\n\n        comparison = arcLengths[i] - targetArcLength;\n\n        if (comparison < 0) {\n\n          low = i + 1;\n\n        } else if (comparison > 0) {\n\n          high = i - 1;\n\n        } else {\n\n          high = i;\n          break;\n\n          // DONE\n\n        }\n\n      }\n\n      i = high;\n\n      if (arcLengths[i] === targetArcLength) {\n\n        return i / (il - 1);\n\n      }\n\n      // we could get finer grain at lengths, or use simple interpolation between two points\n\n      var lengthBefore = arcLengths[i];\n      var lengthAfter = arcLengths[i + 1];\n\n      var segmentLength = lengthAfter - lengthBefore;\n\n      // determine where we are between the 'before' and 'after' points\n\n      var segmentFraction = (targetArcLength - lengthBefore) / segmentLength;\n\n      // add that fractional amount to t\n\n      var t = (i + segmentFraction) / (il - 1);\n\n      return t;\n\n    },\n\n    // Returns a unit vector tangent at t\n    // In case any sub curve does not implement its tangent derivation,\n    // 2 points a small delta apart will be used to find its gradient\n    // which seems to give a reasonable approximation\n\n    getTangent: function(t) {\n\n      var delta = 0.0001;\n      var t1 = t - delta;\n      var t2 = t + delta;\n\n      // Capping in case of danger\n\n      if (t1 < 0) {\n        t1 = 0;\n      }\n      if (t2 > 1) {\n        t2 = 1;\n      }\n\n      var pt1 = this.getPoint(t1);\n      var pt2 = this.getPoint(t2);\n\n      var vec = pt2.clone().sub(pt1);\n      return vec.normalize();\n\n    },\n\n    getTangentAt: function(u) {\n\n      var t = this.getUtoTmapping(u);\n      return this.getTangent(t);\n\n    },\n\n    computeFrenetFrames: function(segments, closed) {\n\n      // see http://www.cs.indiana.edu/pub/techreports/TR425.pdf\n\n      var normal = new Vector3();\n\n      var tangents = [];\n      var normals = [];\n      var binormals = [];\n\n      var vec = new Vector3();\n      var mat = new Matrix4();\n\n      var i, u, theta;\n\n      // compute the tangent vectors for each segment on the curve\n\n      for (i = 0; i <= segments; i++) {\n\n        u = i / segments;\n\n        tangents[i] = this.getTangentAt(u);\n        tangents[i].normalize();\n\n      }\n\n      // select an initial normal vector perpendicular to the first tangent vector,\n      // and in the direction of the minimum tangent xyz component\n\n      normals[0] = new Vector3();\n      binormals[0] = new Vector3();\n      var min = Number.MAX_VALUE;\n      var tx = Math.abs(tangents[0].x);\n      var ty = Math.abs(tangents[0].y);\n      var tz = Math.abs(tangents[0].z);\n\n      if (tx <= min) {\n\n        min = tx;\n        normal.set(1, 0, 0);\n\n      }\n\n      if (ty <= min) {\n\n        min = ty;\n        normal.set(0, 1, 0);\n\n      }\n\n      if (tz <= min) {\n\n        normal.set(0, 0, 1);\n\n      }\n\n      vec.crossVectors(tangents[0], normal).normalize();\n\n      normals[0].crossVectors(tangents[0], vec);\n      binormals[0].crossVectors(tangents[0], normals[0]);\n\n\n      // compute the slowly-varying normal and binormal vectors for each segment on the curve\n\n      for (i = 1; i <= segments; i++) {\n\n        normals[i] = normals[i - 1].clone();\n\n        binormals[i] = binormals[i - 1].clone();\n\n        vec.crossVectors(tangents[i - 1], tangents[i]);\n\n        if (vec.length() > Number.EPSILON) {\n\n          vec.normalize();\n\n          theta = Math.acos(_Math.clamp(tangents[i - 1].dot(tangents[i]), -1, 1)); // clamp for floating pt errors\n\n          normals[i].applyMatrix4(mat.makeRotationAxis(vec, theta));\n\n        }\n\n        binormals[i].crossVectors(tangents[i], normals[i]);\n\n      }\n\n      // if the curve is closed, postprocess the vectors so the first and last normal vectors are the same\n\n      if (closed === true) {\n\n        theta = Math.acos(_Math.clamp(normals[0].dot(normals[segments]), -1, 1));\n        theta /= segments;\n\n        if (tangents[0].dot(vec.crossVectors(normals[0], normals[segments])) > 0) {\n\n          theta = -theta;\n\n        }\n\n        for (i = 1; i <= segments; i++) {\n\n          // twist a little...\n          normals[i].applyMatrix4(mat.makeRotationAxis(tangents[i], theta * i));\n          binormals[i].crossVectors(tangents[i], normals[i]);\n\n        }\n\n      }\n\n      return {\n        tangents: tangents,\n        normals: normals,\n        binormals: binormals\n      };\n\n    },\n\n    clone: function() {\n\n      return new this.constructor().copy(this);\n\n    },\n\n    copy: function(source) {\n\n      this.arcLengthDivisions = source.arcLengthDivisions;\n\n      return this;\n\n    },\n\n    toJSON: function() {\n\n      var data = {\n        metadata: {\n          version: 4.5,\n          type: 'Curve',\n          generator: 'Curve.toJSON'\n        }\n      };\n\n      data.arcLengthDivisions = this.arcLengthDivisions;\n      data.type = this.type;\n\n      return data;\n\n    },\n\n    fromJSON: function(json) {\n\n      this.arcLengthDivisions = json.arcLengthDivisions;\n\n      return this;\n\n    }\n\n  });\n\n  function EllipseCurve(aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation) {\n\n    Curve.call(this);\n\n    this.type = 'EllipseCurve';\n\n    this.aX = aX || 0;\n    this.aY = aY || 0;\n\n    this.xRadius = xRadius || 1;\n    this.yRadius = yRadius || 1;\n\n    this.aStartAngle = aStartAngle || 0;\n    this.aEndAngle = aEndAngle || 2 * Math.PI;\n\n    this.aClockwise = aClockwise || false;\n\n    this.aRotation = aRotation || 0;\n\n  }\n\n  EllipseCurve.prototype = Object.create(Curve.prototype);\n  EllipseCurve.prototype.constructor = EllipseCurve;\n\n  EllipseCurve.prototype.isEllipseCurve = true;\n\n  EllipseCurve.prototype.getPoint = function(t, optionalTarget) {\n\n    var point = optionalTarget || new Vector2();\n\n    var twoPi = Math.PI * 2;\n    var deltaAngle = this.aEndAngle - this.aStartAngle;\n    var samePoints = Math.abs(deltaAngle) < Number.EPSILON;\n\n    // ensures that deltaAngle is 0 .. 2 PI\n    while (deltaAngle < 0) {\n      deltaAngle += twoPi;\n    }\n    while (deltaAngle > twoPi) {\n      deltaAngle -= twoPi;\n    }\n\n    if (deltaAngle < Number.EPSILON) {\n\n      if (samePoints) {\n\n        deltaAngle = 0;\n\n      } else {\n\n        deltaAngle = twoPi;\n\n      }\n\n    }\n\n    if (this.aClockwise === true && !samePoints) {\n\n      if (deltaAngle === twoPi) {\n\n        deltaAngle = -twoPi;\n\n      } else {\n\n        deltaAngle = deltaAngle - twoPi;\n\n      }\n\n    }\n\n    var angle = this.aStartAngle + t * deltaAngle;\n    var x = this.aX + this.xRadius * Math.cos(angle);\n    var y = this.aY + this.yRadius * Math.sin(angle);\n\n    if (this.aRotation !== 0) {\n\n      var cos = Math.cos(this.aRotation);\n      var sin = Math.sin(this.aRotation);\n\n      var tx = x - this.aX;\n      var ty = y - this.aY;\n\n      // Rotate the point about the center of the ellipse.\n      x = tx * cos - ty * sin + this.aX;\n      y = tx * sin + ty * cos + this.aY;\n\n    }\n\n    return point.set(x, y);\n\n  };\n\n  EllipseCurve.prototype.copy = function(source) {\n\n    Curve.prototype.copy.call(this, source);\n\n    this.aX = source.aX;\n    this.aY = source.aY;\n\n    this.xRadius = source.xRadius;\n    this.yRadius = source.yRadius;\n\n    this.aStartAngle = source.aStartAngle;\n    this.aEndAngle = source.aEndAngle;\n\n    this.aClockwise = source.aClockwise;\n\n    this.aRotation = source.aRotation;\n\n    return this;\n\n  };\n\n\n  EllipseCurve.prototype.toJSON = function() {\n\n    var data = Curve.prototype.toJSON.call(this);\n\n    data.aX = this.aX;\n    data.aY = this.aY;\n\n    data.xRadius = this.xRadius;\n    data.yRadius = this.yRadius;\n\n    data.aStartAngle = this.aStartAngle;\n    data.aEndAngle = this.aEndAngle;\n\n    data.aClockwise = this.aClockwise;\n\n    data.aRotation = this.aRotation;\n\n    return data;\n\n  };\n\n  EllipseCurve.prototype.fromJSON = function(json) {\n\n    Curve.prototype.fromJSON.call(this, json);\n\n    this.aX = json.aX;\n    this.aY = json.aY;\n\n    this.xRadius = json.xRadius;\n    this.yRadius = json.yRadius;\n\n    this.aStartAngle = json.aStartAngle;\n    this.aEndAngle = json.aEndAngle;\n\n    this.aClockwise = json.aClockwise;\n\n    this.aRotation = json.aRotation;\n\n    return this;\n\n  };\n\n  function ArcCurve(aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise) {\n\n    EllipseCurve.call(this, aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise);\n\n    this.type = 'ArcCurve';\n\n  }\n\n  ArcCurve.prototype = Object.create(EllipseCurve.prototype);\n  ArcCurve.prototype.constructor = ArcCurve;\n\n  ArcCurve.prototype.isArcCurve = true;\n\n  /**\n   * @author zz85 https://github.com/zz85\n   *\n   * Centripetal CatmullRom Curve - which is useful for avoiding\n   * cusps and self-intersections in non-uniform catmull rom curves.\n   * http://www.cemyuksel.com/research/catmullrom_param/catmullrom.pdf\n   *\n   * curve.type accepts centripetal(default), chordal and catmullrom\n   * curve.tension is used for catmullrom which defaults to 0.5\n   */\n\n\n  /*\n  Based on an optimized c++ solution in\n   - http://stackoverflow.com/questions/9489736/catmull-rom-curve-with-no-cusps-and-no-self-intersections/\n   - http://ideone.com/NoEbVM\n\n  This CubicPoly class could be used for reusing some variables and calculations,\n  but for three.js curve use, it could be possible inlined and flatten into a single function call\n  which can be placed in CurveUtils.\n  */\n\n  function CubicPoly() {\n\n    var c0 = 0,\n      c1 = 0,\n      c2 = 0,\n      c3 = 0;\n\n    /*\n     * Compute coefficients for a cubic polynomial\n     *   p(s) = c0 + c1*s + c2*s^2 + c3*s^3\n     * such that\n     *   p(0) = x0, p(1) = x1\n     *  and\n     *   p'(0) = t0, p'(1) = t1.\n     */\n    function init(x0, x1, t0, t1) {\n\n      c0 = x0;\n      c1 = t0;\n      c2 = -3 * x0 + 3 * x1 - 2 * t0 - t1;\n      c3 = 2 * x0 - 2 * x1 + t0 + t1;\n\n    }\n\n    return {\n\n      initCatmullRom: function(x0, x1, x2, x3, tension) {\n\n        init(x1, x2, tension * (x2 - x0), tension * (x3 - x1));\n\n      },\n\n      initNonuniformCatmullRom: function(x0, x1, x2, x3, dt0, dt1, dt2) {\n\n        // compute tangents when parameterized in [t1,t2]\n        var t1 = (x1 - x0) / dt0 - (x2 - x0) / (dt0 + dt1) + (x2 - x1) / dt1;\n        var t2 = (x2 - x1) / dt1 - (x3 - x1) / (dt1 + dt2) + (x3 - x2) / dt2;\n\n        // rescale tangents for parametrization in [0,1]\n        t1 *= dt1;\n        t2 *= dt1;\n\n        init(x1, x2, t1, t2);\n\n      },\n\n      calc: function(t) {\n\n        var t2 = t * t;\n        var t3 = t2 * t;\n        return c0 + c1 * t + c2 * t2 + c3 * t3;\n\n      }\n\n    };\n\n  }\n\n  //\n\n  var tmp = new Vector3();\n  var px = new CubicPoly(),\n    py = new CubicPoly(),\n    pz = new CubicPoly();\n\n  function CatmullRomCurve3(points, closed, curveType, tension) {\n\n    Curve.call(this);\n\n    this.type = 'CatmullRomCurve3';\n\n    this.points = points || [];\n    this.closed = closed || false;\n    this.curveType = curveType || 'centripetal';\n    this.tension = tension || 0.5;\n\n  }\n\n  CatmullRomCurve3.prototype = Object.create(Curve.prototype);\n  CatmullRomCurve3.prototype.constructor = CatmullRomCurve3;\n\n  CatmullRomCurve3.prototype.isCatmullRomCurve3 = true;\n\n  CatmullRomCurve3.prototype.getPoint = function(t, optionalTarget) {\n\n    var point = optionalTarget || new Vector3();\n\n    var points = this.points;\n    var l = points.length;\n\n    var p = (l - (this.closed ? 0 : 1)) * t;\n    var intPoint = Math.floor(p);\n    var weight = p - intPoint;\n\n    if (this.closed) {\n\n      intPoint += intPoint > 0 ? 0 : (Math.floor(Math.abs(intPoint) / l) + 1) * l;\n\n    } else if (weight === 0 && intPoint === l - 1) {\n\n      intPoint = l - 2;\n      weight = 1;\n\n    }\n\n    var p0, p1, p2, p3; // 4 points\n\n    if (this.closed || intPoint > 0) {\n\n      p0 = points[(intPoint - 1) % l];\n\n    } else {\n\n      // extrapolate first point\n      tmp.subVectors(points[0], points[1]).add(points[0]);\n      p0 = tmp;\n\n    }\n\n    p1 = points[intPoint % l];\n    p2 = points[(intPoint + 1) % l];\n\n    if (this.closed || intPoint + 2 < l) {\n\n      p3 = points[(intPoint + 2) % l];\n\n    } else {\n\n      // extrapolate last point\n      tmp.subVectors(points[l - 1], points[l - 2]).add(points[l - 1]);\n      p3 = tmp;\n\n    }\n\n    if (this.curveType === 'centripetal' || this.curveType === 'chordal') {\n\n      // init Centripetal / Chordal Catmull-Rom\n      var pow = this.curveType === 'chordal' ? 0.5 : 0.25;\n      var dt0 = Math.pow(p0.distanceToSquared(p1), pow);\n      var dt1 = Math.pow(p1.distanceToSquared(p2), pow);\n      var dt2 = Math.pow(p2.distanceToSquared(p3), pow);\n\n      // safety check for repeated points\n      if (dt1 < 1e-4) {\n        dt1 = 1.0;\n      }\n      if (dt0 < 1e-4) {\n        dt0 = dt1;\n      }\n      if (dt2 < 1e-4) {\n        dt2 = dt1;\n      }\n\n      px.initNonuniformCatmullRom(p0.x, p1.x, p2.x, p3.x, dt0, dt1, dt2);\n      py.initNonuniformCatmullRom(p0.y, p1.y, p2.y, p3.y, dt0, dt1, dt2);\n      pz.initNonuniformCatmullRom(p0.z, p1.z, p2.z, p3.z, dt0, dt1, dt2);\n\n    } else if (this.curveType === 'catmullrom') {\n\n      px.initCatmullRom(p0.x, p1.x, p2.x, p3.x, this.tension);\n      py.initCatmullRom(p0.y, p1.y, p2.y, p3.y, this.tension);\n      pz.initCatmullRom(p0.z, p1.z, p2.z, p3.z, this.tension);\n\n    }\n\n    point.set(\n      px.calc(weight),\n      py.calc(weight),\n      pz.calc(weight)\n    );\n\n    return point;\n\n  };\n\n  CatmullRomCurve3.prototype.copy = function(source) {\n\n    Curve.prototype.copy.call(this, source);\n\n    this.points = [];\n\n    for (var i = 0, l = source.points.length; i < l; i++) {\n\n      var point = source.points[i];\n\n      this.points.push(point.clone());\n\n    }\n\n    this.closed = source.closed;\n    this.curveType = source.curveType;\n    this.tension = source.tension;\n\n    return this;\n\n  };\n\n  CatmullRomCurve3.prototype.toJSON = function() {\n\n    var data = Curve.prototype.toJSON.call(this);\n\n    data.points = [];\n\n    for (var i = 0, l = this.points.length; i < l; i++) {\n\n      var point = this.points[i];\n      data.points.push(point.toArray());\n\n    }\n\n    data.closed = this.closed;\n    data.curveType = this.curveType;\n    data.tension = this.tension;\n\n    return data;\n\n  };\n\n  CatmullRomCurve3.prototype.fromJSON = function(json) {\n\n    Curve.prototype.fromJSON.call(this, json);\n\n    this.points = [];\n\n    for (var i = 0, l = json.points.length; i < l; i++) {\n\n      var point = json.points[i];\n      this.points.push(new Vector3().fromArray(point));\n\n    }\n\n    this.closed = json.closed;\n    this.curveType = json.curveType;\n    this.tension = json.tension;\n\n    return this;\n\n  };\n\n  /**\n   * @author zz85 / http://www.lab4games.net/zz85/blog\n   *\n   * Bezier Curves formulas obtained from\n   * http://en.wikipedia.org/wiki/Bzier_curve\n   */\n\n  function CatmullRom(t, p0, p1, p2, p3) {\n\n    var v0 = (p2 - p0) * 0.5;\n    var v1 = (p3 - p1) * 0.5;\n    var t2 = t * t;\n    var t3 = t * t2;\n    return (2 * p1 - 2 * p2 + v0 + v1) * t3 + (-3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1;\n\n  }\n\n  //\n\n  function QuadraticBezierP0(t, p) {\n\n    var k = 1 - t;\n    return k * k * p;\n\n  }\n\n  function QuadraticBezierP1(t, p) {\n\n    return 2 * (1 - t) * t * p;\n\n  }\n\n  function QuadraticBezierP2(t, p) {\n\n    return t * t * p;\n\n  }\n\n  function QuadraticBezier(t, p0, p1, p2) {\n\n    return QuadraticBezierP0(t, p0) + QuadraticBezierP1(t, p1) +\n      QuadraticBezierP2(t, p2);\n\n  }\n\n  //\n\n  function CubicBezierP0(t, p) {\n\n    var k = 1 - t;\n    return k * k * k * p;\n\n  }\n\n  function CubicBezierP1(t, p) {\n\n    var k = 1 - t;\n    return 3 * k * k * t * p;\n\n  }\n\n  function CubicBezierP2(t, p) {\n\n    return 3 * (1 - t) * t * t * p;\n\n  }\n\n  function CubicBezierP3(t, p) {\n\n    return t * t * t * p;\n\n  }\n\n  function CubicBezier(t, p0, p1, p2, p3) {\n\n    return CubicBezierP0(t, p0) + CubicBezierP1(t, p1) + CubicBezierP2(t, p2) +\n      CubicBezierP3(t, p3);\n\n  }\n\n  function CubicBezierCurve(v0, v1, v2, v3) {\n\n    Curve.call(this);\n\n    this.type = 'CubicBezierCurve';\n\n    this.v0 = v0 || new Vector2();\n    this.v1 = v1 || new Vector2();\n    this.v2 = v2 || new Vector2();\n    this.v3 = v3 || new Vector2();\n\n  }\n\n  CubicBezierCurve.prototype = Object.create(Curve.prototype);\n  CubicBezierCurve.prototype.constructor = CubicBezierCurve;\n\n  CubicBezierCurve.prototype.isCubicBezierCurve = true;\n\n  CubicBezierCurve.prototype.getPoint = function(t, optionalTarget) {\n\n    var point = optionalTarget || new Vector2();\n\n    var v0 = this.v0,\n      v1 = this.v1,\n      v2 = this.v2,\n      v3 = this.v3;\n\n    point.set(\n      CubicBezier(t, v0.x, v1.x, v2.x, v3.x),\n      CubicBezier(t, v0.y, v1.y, v2.y, v3.y)\n    );\n\n    return point;\n\n  };\n\n  CubicBezierCurve.prototype.copy = function(source) {\n\n    Curve.prototype.copy.call(this, source);\n\n    this.v0.copy(source.v0);\n    this.v1.copy(source.v1);\n    this.v2.copy(source.v2);\n    this.v3.copy(source.v3);\n\n    return this;\n\n  };\n\n  CubicBezierCurve.prototype.toJSON = function() {\n\n    var data = Curve.prototype.toJSON.call(this);\n\n    data.v0 = this.v0.toArray();\n    data.v1 = this.v1.toArray();\n    data.v2 = this.v2.toArray();\n    data.v3 = this.v3.toArray();\n\n    return data;\n\n  };\n\n  CubicBezierCurve.prototype.fromJSON = function(json) {\n\n    Curve.prototype.fromJSON.call(this, json);\n\n    this.v0.fromArray(json.v0);\n    this.v1.fromArray(json.v1);\n    this.v2.fromArray(json.v2);\n    this.v3.fromArray(json.v3);\n\n    return this;\n\n  };\n\n  function CubicBezierCurve3(v0, v1, v2, v3) {\n\n    Curve.call(this);\n\n    this.type = 'CubicBezierCurve3';\n\n    this.v0 = v0 || new Vector3();\n    this.v1 = v1 || new Vector3();\n    this.v2 = v2 || new Vector3();\n    this.v3 = v3 || new Vector3();\n\n  }\n\n  CubicBezierCurve3.prototype = Object.create(Curve.prototype);\n  CubicBezierCurve3.prototype.constructor = CubicBezierCurve3;\n\n  CubicBezierCurve3.prototype.isCubicBezierCurve3 = true;\n\n  CubicBezierCurve3.prototype.getPoint = function(t, optionalTarget) {\n\n    var point = optionalTarget || new Vector3();\n\n    var v0 = this.v0,\n      v1 = this.v1,\n      v2 = this.v2,\n      v3 = this.v3;\n\n    point.set(\n      CubicBezier(t, v0.x, v1.x, v2.x, v3.x),\n      CubicBezier(t, v0.y, v1.y, v2.y, v3.y),\n      CubicBezier(t, v0.z, v1.z, v2.z, v3.z)\n    );\n\n    return point;\n\n  };\n\n  CubicBezierCurve3.prototype.copy = function(source) {\n\n    Curve.prototype.copy.call(this, source);\n\n    this.v0.copy(source.v0);\n    this.v1.copy(source.v1);\n    this.v2.copy(source.v2);\n    this.v3.copy(source.v3);\n\n    return this;\n\n  };\n\n  CubicBezierCurve3.prototype.toJSON = function() {\n\n    var data = Curve.prototype.toJSON.call(this);\n\n    data.v0 = this.v0.toArray();\n    data.v1 = this.v1.toArray();\n    data.v2 = this.v2.toArray();\n    data.v3 = this.v3.toArray();\n\n    return data;\n\n  };\n\n  CubicBezierCurve3.prototype.fromJSON = function(json) {\n\n    Curve.prototype.fromJSON.call(this, json);\n\n    this.v0.fromArray(json.v0);\n    this.v1.fromArray(json.v1);\n    this.v2.fromArray(json.v2);\n    this.v3.fromArray(json.v3);\n\n    return this;\n\n  };\n\n  function LineCurve(v1, v2) {\n\n    Curve.call(this);\n\n    this.type = 'LineCurve';\n\n    this.v1 = v1 || new Vector2();\n    this.v2 = v2 || new Vector2();\n\n  }\n\n  LineCurve.prototype = Object.create(Curve.prototype);\n  LineCurve.prototype.constructor = LineCurve;\n\n  LineCurve.prototype.isLineCurve = true;\n\n  LineCurve.prototype.getPoint = function(t, optionalTarget) {\n\n    var point = optionalTarget || new Vector2();\n\n    if (t === 1) {\n\n      point.copy(this.v2);\n\n    } else {\n\n      point.copy(this.v2).sub(this.v1);\n      point.multiplyScalar(t).add(this.v1);\n\n    }\n\n    return point;\n\n  };\n\n  // Line curve is linear, so we can overwrite default getPointAt\n\n  LineCurve.prototype.getPointAt = function(u, optionalTarget) {\n\n    return this.getPoint(u, optionalTarget);\n\n  };\n\n  LineCurve.prototype.getTangent = function( /* t */ ) {\n\n    var tangent = this.v2.clone().sub(this.v1);\n\n    return tangent.normalize();\n\n  };\n\n  LineCurve.prototype.copy = function(source) {\n\n    Curve.prototype.copy.call(this, source);\n\n    this.v1.copy(source.v1);\n    this.v2.copy(source.v2);\n\n    return this;\n\n  };\n\n  LineCurve.prototype.toJSON = function() {\n\n    var data = Curve.prototype.toJSON.call(this);\n\n    data.v1 = this.v1.toArray();\n    data.v2 = this.v2.toArray();\n\n    return data;\n\n  };\n\n  LineCurve.prototype.fromJSON = function(json) {\n\n    Curve.prototype.fromJSON.call(this, json);\n\n    this.v1.fromArray(json.v1);\n    this.v2.fromArray(json.v2);\n\n    return this;\n\n  };\n\n  function LineCurve3(v1, v2) {\n\n    Curve.call(this);\n\n    this.type = 'LineCurve3';\n\n    this.v1 = v1 || new Vector3();\n    this.v2 = v2 || new Vector3();\n\n  }\n\n  LineCurve3.prototype = Object.create(Curve.prototype);\n  LineCurve3.prototype.constructor = LineCurve3;\n\n  LineCurve3.prototype.isLineCurve3 = true;\n\n  LineCurve3.prototype.getPoint = function(t, optionalTarget) {\n\n    var point = optionalTarget || new Vector3();\n\n    if (t === 1) {\n\n      point.copy(this.v2);\n\n    } else {\n\n      point.copy(this.v2).sub(this.v1);\n      point.multiplyScalar(t).add(this.v1);\n\n    }\n\n    return point;\n\n  };\n\n  // Line curve is linear, so we can overwrite default getPointAt\n\n  LineCurve3.prototype.getPointAt = function(u, optionalTarget) {\n\n    return this.getPoint(u, optionalTarget);\n\n  };\n\n  LineCurve3.prototype.copy = function(source) {\n\n    Curve.prototype.copy.call(this, source);\n\n    this.v1.copy(source.v1);\n    this.v2.copy(source.v2);\n\n    return this;\n\n  };\n\n  LineCurve3.prototype.toJSON = function() {\n\n    var data = Curve.prototype.toJSON.call(this);\n\n    data.v1 = this.v1.toArray();\n    data.v2 = this.v2.toArray();\n\n    return data;\n\n  };\n\n  LineCurve3.prototype.fromJSON = function(json) {\n\n    Curve.prototype.fromJSON.call(this, json);\n\n    this.v1.fromArray(json.v1);\n    this.v2.fromArray(json.v2);\n\n    return this;\n\n  };\n\n  function QuadraticBezierCurve(v0, v1, v2) {\n\n    Curve.call(this);\n\n    this.type = 'QuadraticBezierCurve';\n\n    this.v0 = v0 || new Vector2();\n    this.v1 = v1 || new Vector2();\n    this.v2 = v2 || new Vector2();\n\n  }\n\n  QuadraticBezierCurve.prototype = Object.create(Curve.prototype);\n  QuadraticBezierCurve.prototype.constructor = QuadraticBezierCurve;\n\n  QuadraticBezierCurve.prototype.isQuadraticBezierCurve = true;\n\n  QuadraticBezierCurve.prototype.getPoint = function(t, optionalTarget) {\n\n    var point = optionalTarget || new Vector2();\n\n    var v0 = this.v0,\n      v1 = this.v1,\n      v2 = this.v2;\n\n    point.set(\n      QuadraticBezier(t, v0.x, v1.x, v2.x),\n      QuadraticBezier(t, v0.y, v1.y, v2.y)\n    );\n\n    return point;\n\n  };\n\n  QuadraticBezierCurve.prototype.copy = function(source) {\n\n    Curve.prototype.copy.call(this, source);\n\n    this.v0.copy(source.v0);\n    this.v1.copy(source.v1);\n    this.v2.copy(source.v2);\n\n    return this;\n\n  };\n\n  QuadraticBezierCurve.prototype.toJSON = function() {\n\n    var data = Curve.prototype.toJSON.call(this);\n\n    data.v0 = this.v0.toArray();\n    data.v1 = this.v1.toArray();\n    data.v2 = this.v2.toArray();\n\n    return data;\n\n  };\n\n  QuadraticBezierCurve.prototype.fromJSON = function(json) {\n\n    Curve.prototype.fromJSON.call(this, json);\n\n    this.v0.fromArray(json.v0);\n    this.v1.fromArray(json.v1);\n    this.v2.fromArray(json.v2);\n\n    return this;\n\n  };\n\n  function QuadraticBezierCurve3(v0, v1, v2) {\n\n    Curve.call(this);\n\n    this.type = 'QuadraticBezierCurve3';\n\n    this.v0 = v0 || new Vector3();\n    this.v1 = v1 || new Vector3();\n    this.v2 = v2 || new Vector3();\n\n  }\n\n  QuadraticBezierCurve3.prototype = Object.create(Curve.prototype);\n  QuadraticBezierCurve3.prototype.constructor = QuadraticBezierCurve3;\n\n  QuadraticBezierCurve3.prototype.isQuadraticBezierCurve3 = true;\n\n  QuadraticBezierCurve3.prototype.getPoint = function(t, optionalTarget) {\n\n    var point = optionalTarget || new Vector3();\n\n    var v0 = this.v0,\n      v1 = this.v1,\n      v2 = this.v2;\n\n    point.set(\n      QuadraticBezier(t, v0.x, v1.x, v2.x),\n      QuadraticBezier(t, v0.y, v1.y, v2.y),\n      QuadraticBezier(t, v0.z, v1.z, v2.z)\n    );\n\n    return point;\n\n  };\n\n  QuadraticBezierCurve3.prototype.copy = function(source) {\n\n    Curve.prototype.copy.call(this, source);\n\n    this.v0.copy(source.v0);\n    this.v1.copy(source.v1);\n    this.v2.copy(source.v2);\n\n    return this;\n\n  };\n\n  QuadraticBezierCurve3.prototype.toJSON = function() {\n\n    var data = Curve.prototype.toJSON.call(this);\n\n    data.v0 = this.v0.toArray();\n    data.v1 = this.v1.toArray();\n    data.v2 = this.v2.toArray();\n\n    return data;\n\n  };\n\n  QuadraticBezierCurve3.prototype.fromJSON = function(json) {\n\n    Curve.prototype.fromJSON.call(this, json);\n\n    this.v0.fromArray(json.v0);\n    this.v1.fromArray(json.v1);\n    this.v2.fromArray(json.v2);\n\n    return this;\n\n  };\n\n  function SplineCurve(points /* array of Vector2 */ ) {\n\n    Curve.call(this);\n\n    this.type = 'SplineCurve';\n\n    this.points = points || [];\n\n  }\n\n  SplineCurve.prototype = Object.create(Curve.prototype);\n  SplineCurve.prototype.constructor = SplineCurve;\n\n  SplineCurve.prototype.isSplineCurve = true;\n\n  SplineCurve.prototype.getPoint = function(t, optionalTarget) {\n\n    var point = optionalTarget || new Vector2();\n\n    var points = this.points;\n    var p = (points.length - 1) * t;\n\n    var intPoint = Math.floor(p);\n    var weight = p - intPoint;\n\n    var p0 = points[intPoint === 0 ? intPoint : intPoint - 1];\n    var p1 = points[intPoint];\n    var p2 = points[intPoint > points.length - 2 ? points.length - 1 : intPoint + 1];\n    var p3 = points[intPoint > points.length - 3 ? points.length - 1 : intPoint + 2];\n\n    point.set(\n      CatmullRom(weight, p0.x, p1.x, p2.x, p3.x),\n      CatmullRom(weight, p0.y, p1.y, p2.y, p3.y)\n    );\n\n    return point;\n\n  };\n\n  SplineCurve.prototype.copy = function(source) {\n\n    Curve.prototype.copy.call(this, source);\n\n    this.points = [];\n\n    for (var i = 0, l = source.points.length; i < l; i++) {\n\n      var point = source.points[i];\n\n      this.points.push(point.clone());\n\n    }\n\n    return this;\n\n  };\n\n  SplineCurve.prototype.toJSON = function() {\n\n    var data = Curve.prototype.toJSON.call(this);\n\n    data.points = [];\n\n    for (var i = 0, l = this.points.length; i < l; i++) {\n\n      var point = this.points[i];\n      data.points.push(point.toArray());\n\n    }\n\n    return data;\n\n  };\n\n  SplineCurve.prototype.fromJSON = function(json) {\n\n    Curve.prototype.fromJSON.call(this, json);\n\n    this.points = [];\n\n    for (var i = 0, l = json.points.length; i < l; i++) {\n\n      var point = json.points[i];\n      this.points.push(new Vector2().fromArray(point));\n\n    }\n\n    return this;\n\n  };\n\n\n\n  var Curves = /*#__PURE__*/ Object.freeze({\n    __proto__: null,\n    ArcCurve: ArcCurve,\n    CatmullRomCurve3: CatmullRomCurve3,\n    CubicBezierCurve: CubicBezierCurve,\n    CubicBezierCurve3: CubicBezierCurve3,\n    EllipseCurve: EllipseCurve,\n    LineCurve: LineCurve,\n    LineCurve3: LineCurve3,\n    QuadraticBezierCurve: QuadraticBezierCurve,\n    QuadraticBezierCurve3: QuadraticBezierCurve3,\n    SplineCurve: SplineCurve\n  });\n\n  /**\n   * @author zz85 / http://www.lab4games.net/zz85/blog\n   *\n   **/\n\n  /**************************************************************\n   *\tCurved Path - a curve path is simply a array of connected\n   *  curves, but retains the api of a curve\n   **************************************************************/\n\n  function CurvePath() {\n\n    Curve.call(this);\n\n    this.type = 'CurvePath';\n\n    this.curves = [];\n    this.autoClose = false; // Automatically closes the path\n\n  }\n\n  CurvePath.prototype = Object.assign(Object.create(Curve.prototype), {\n\n    constructor: CurvePath,\n\n    add: function(curve) {\n\n      this.curves.push(curve);\n\n    },\n\n    closePath: function() {\n\n      // Add a line curve if start and end of lines are not connected\n      var startPoint = this.curves[0].getPoint(0);\n      var endPoint = this.curves[this.curves.length - 1].getPoint(1);\n\n      if (!startPoint.equals(endPoint)) {\n\n        this.curves.push(new LineCurve(endPoint, startPoint));\n\n      }\n\n    },\n\n    // To get accurate point with reference to\n    // entire path distance at time t,\n    // following has to be done:\n\n    // 1. Length of each sub path have to be known\n    // 2. Locate and identify type of curve\n    // 3. Get t for the curve\n    // 4. Return curve.getPointAt(t')\n\n    getPoint: function(t) {\n\n      var d = t * this.getLength();\n      var curveLengths = this.getCurveLengths();\n      var i = 0;\n\n      // To think about boundaries points.\n\n      while (i < curveLengths.length) {\n\n        if (curveLengths[i] >= d) {\n\n          var diff = curveLengths[i] - d;\n          var curve = this.curves[i];\n\n          var segmentLength = curve.getLength();\n          var u = segmentLength === 0 ? 0 : 1 - diff / segmentLength;\n\n          return curve.getPointAt(u);\n\n        }\n\n        i++;\n\n      }\n\n      return null;\n\n      // loop where sum != 0, sum > d , sum+1 <d\n\n    },\n\n    // We cannot use the default THREE.Curve getPoint() with getLength() because in\n    // THREE.Curve, getLength() depends on getPoint() but in THREE.CurvePath\n    // getPoint() depends on getLength\n\n    getLength: function() {\n\n      var lens = this.getCurveLengths();\n      return lens[lens.length - 1];\n\n    },\n\n    // cacheLengths must be recalculated.\n    updateArcLengths: function() {\n\n      this.needsUpdate = true;\n      this.cacheLengths = null;\n      this.getCurveLengths();\n\n    },\n\n    // Compute lengths and cache them\n    // We cannot overwrite getLengths() because UtoT mapping uses it.\n\n    getCurveLengths: function() {\n\n      // We use cache values if curves and cache array are same length\n\n      if (this.cacheLengths && this.cacheLengths.length === this.curves.length) {\n\n        return this.cacheLengths;\n\n      }\n\n      // Get length of sub-curve\n      // Push sums into cached array\n\n      var lengths = [],\n        sums = 0;\n\n      for (var i = 0, l = this.curves.length; i < l; i++) {\n\n        sums += this.curves[i].getLength();\n        lengths.push(sums);\n\n      }\n\n      this.cacheLengths = lengths;\n\n      return lengths;\n\n    },\n\n    getSpacedPoints: function(divisions) {\n\n      if (divisions === undefined) {\n        divisions = 40;\n      }\n\n      var points = [];\n\n      for (var i = 0; i <= divisions; i++) {\n\n        points.push(this.getPoint(i / divisions));\n\n      }\n\n      if (this.autoClose) {\n\n        points.push(points[0]);\n\n      }\n\n      return points;\n\n    },\n\n    getPoints: function(divisions) {\n\n      divisions = divisions || 12;\n\n      var points = [],\n        last;\n\n      for (var i = 0, curves = this.curves; i < curves.length; i++) {\n\n        var curve = curves[i];\n        var resolution = (curve && curve.isEllipseCurve) ? divisions * 2 :\n          (curve && (curve.isLineCurve || curve.isLineCurve3)) ? 1 :\n          (curve && curve.isSplineCurve) ? divisions * curve.points.length :\n          divisions;\n\n        var pts = curve.getPoints(resolution);\n\n        for (var j = 0; j < pts.length; j++) {\n\n          var point = pts[j];\n\n          if (last && last.equals(point)) {\n            continue;\n          } // ensures no consecutive points are duplicates\n\n          points.push(point);\n          last = point;\n\n        }\n\n      }\n\n      if (this.autoClose && points.length > 1 && !points[points.length - 1].equals(points[0])) {\n\n        points.push(points[0]);\n\n      }\n\n      return points;\n\n    },\n\n    copy: function(source) {\n\n      Curve.prototype.copy.call(this, source);\n\n      this.curves = [];\n\n      for (var i = 0, l = source.curves.length; i < l; i++) {\n\n        var curve = source.curves[i];\n\n        this.curves.push(curve.clone());\n\n      }\n\n      this.autoClose = source.autoClose;\n\n      return this;\n\n    },\n\n    toJSON: function() {\n\n      var data = Curve.prototype.toJSON.call(this);\n\n      data.autoClose = this.autoClose;\n      data.curves = [];\n\n      for (var i = 0, l = this.curves.length; i < l; i++) {\n\n        var curve = this.curves[i];\n        data.curves.push(curve.toJSON());\n\n      }\n\n      return data;\n\n    },\n\n    fromJSON: function(json) {\n\n      Curve.prototype.fromJSON.call(this, json);\n\n      this.autoClose = json.autoClose;\n      this.curves = [];\n\n      for (var i = 0, l = json.curves.length; i < l; i++) {\n\n        var curve = json.curves[i];\n        this.curves.push(new Curves[curve.type]().fromJSON(curve));\n\n      }\n\n      return this;\n\n    }\n\n  });\n\n  /**\n   * @author zz85 / http://www.lab4games.net/zz85/blog\n   * Creates free form 2d path using series of points, lines or curves.\n   **/\n\n  function Path(points) {\n\n    CurvePath.call(this);\n\n    this.type = 'Path';\n\n    this.currentPoint = new Vector2();\n\n    if (points) {\n\n      this.setFromPoints(points);\n\n    }\n\n  }\n\n  Path.prototype = Object.assign(Object.create(CurvePath.prototype), {\n\n    constructor: Path,\n\n    setFromPoints: function(points) {\n\n      this.moveTo(points[0].x, points[0].y);\n\n      for (var i = 1, l = points.length; i < l; i++) {\n\n        this.lineTo(points[i].x, points[i].y);\n\n      }\n\n      return this;\n\n    },\n\n    moveTo: function(x, y) {\n\n      this.currentPoint.set(x, y); // TODO consider referencing vectors instead of copying?\n\n      return this;\n\n    },\n\n    lineTo: function(x, y) {\n\n      var curve = new LineCurve(this.currentPoint.clone(), new Vector2(x, y));\n      this.curves.push(curve);\n\n      this.currentPoint.set(x, y);\n\n      return this;\n\n    },\n\n    quadraticCurveTo: function(aCPx, aCPy, aX, aY) {\n\n      var curve = new QuadraticBezierCurve(\n        this.currentPoint.clone(),\n        new Vector2(aCPx, aCPy),\n        new Vector2(aX, aY)\n      );\n\n      this.curves.push(curve);\n\n      this.currentPoint.set(aX, aY);\n\n      return this;\n\n    },\n\n    bezierCurveTo: function(aCP1x, aCP1y, aCP2x, aCP2y, aX, aY) {\n\n      var curve = new CubicBezierCurve(\n        this.currentPoint.clone(),\n        new Vector2(aCP1x, aCP1y),\n        new Vector2(aCP2x, aCP2y),\n        new Vector2(aX, aY)\n      );\n\n      this.curves.push(curve);\n\n      this.currentPoint.set(aX, aY);\n\n      return this;\n\n    },\n\n    splineThru: function(pts /*Array of Vector*/ ) {\n\n      var npts = [this.currentPoint.clone()].concat(pts);\n\n      var curve = new SplineCurve(npts);\n      this.curves.push(curve);\n\n      this.currentPoint.copy(pts[pts.length - 1]);\n\n      return this;\n\n    },\n\n    arc: function(aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise) {\n\n      var x0 = this.currentPoint.x;\n      var y0 = this.currentPoint.y;\n\n      this.absarc(aX + x0, aY + y0, aRadius,\n        aStartAngle, aEndAngle, aClockwise);\n\n      return this;\n\n    },\n\n    absarc: function(aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise) {\n\n      this.absellipse(aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise);\n\n      return this;\n\n    },\n\n    ellipse: function(aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation) {\n\n      var x0 = this.currentPoint.x;\n      var y0 = this.currentPoint.y;\n\n      this.absellipse(aX + x0, aY + y0, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation);\n\n      return this;\n\n    },\n\n    absellipse: function(aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation) {\n\n      var curve = new EllipseCurve(aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation);\n\n      if (this.curves.length > 0) {\n\n        // if a previous curve is present, attempt to join\n        var firstPoint = curve.getPoint(0);\n\n        if (!firstPoint.equals(this.currentPoint)) {\n\n          this.lineTo(firstPoint.x, firstPoint.y);\n\n        }\n\n      }\n\n      this.curves.push(curve);\n\n      var lastPoint = curve.getPoint(1);\n      this.currentPoint.copy(lastPoint);\n\n      return this;\n\n    },\n\n    copy: function(source) {\n\n      CurvePath.prototype.copy.call(this, source);\n\n      this.currentPoint.copy(source.currentPoint);\n\n      return this;\n\n    },\n\n    toJSON: function() {\n\n      var data = CurvePath.prototype.toJSON.call(this);\n\n      data.currentPoint = this.currentPoint.toArray();\n\n      return data;\n\n    },\n\n    fromJSON: function(json) {\n\n      CurvePath.prototype.fromJSON.call(this, json);\n\n      this.currentPoint.fromArray(json.currentPoint);\n\n      return this;\n\n    }\n\n  });\n\n  /**\n   * @author zz85 / http://www.lab4games.net/zz85/blog\n   * Defines a 2d shape plane using paths.\n   **/\n\n  // STEP 1 Create a path.\n  // STEP 2 Turn path into shape.\n  // STEP 3 ExtrudeGeometry takes in Shape/Shapes\n  // STEP 3a - Extract points from each shape, turn to vertices\n  // STEP 3b - Triangulate each shape, add faces.\n\n  function Shape(points) {\n\n    Path.call(this, points);\n\n    this.uuid = _Math.generateUUID();\n\n    this.type = 'Shape';\n\n    this.holes = [];\n\n  }\n\n  Shape.prototype = Object.assign(Object.create(Path.prototype), {\n\n    constructor: Shape,\n\n    getPointsHoles: function(divisions) {\n\n      var holesPts = [];\n\n      for (var i = 0, l = this.holes.length; i < l; i++) {\n\n        holesPts[i] = this.holes[i].getPoints(divisions);\n\n      }\n\n      return holesPts;\n\n    },\n\n    // get points of shape and holes (keypoints based on segments parameter)\n\n    extractPoints: function(divisions) {\n\n      return {\n\n        shape: this.getPoints(divisions),\n        holes: this.getPointsHoles(divisions)\n\n      };\n\n    },\n\n    copy: function(source) {\n\n      Path.prototype.copy.call(this, source);\n\n      this.holes = [];\n\n      for (var i = 0, l = source.holes.length; i < l; i++) {\n\n        var hole = source.holes[i];\n\n        this.holes.push(hole.clone());\n\n      }\n\n      return this;\n\n    },\n\n    toJSON: function() {\n\n      var data = Path.prototype.toJSON.call(this);\n\n      data.uuid = this.uuid;\n      data.holes = [];\n\n      for (var i = 0, l = this.holes.length; i < l; i++) {\n\n        var hole = this.holes[i];\n        data.holes.push(hole.toJSON());\n\n      }\n\n      return data;\n\n    },\n\n    fromJSON: function(json) {\n\n      Path.prototype.fromJSON.call(this, json);\n\n      this.uuid = json.uuid;\n      this.holes = [];\n\n      for (var i = 0, l = json.holes.length; i < l; i++) {\n\n        var hole = json.holes[i];\n        this.holes.push(new Path().fromJSON(hole));\n\n      }\n\n      return this;\n\n    }\n\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n  function Light(color, intensity) {\n\n    Object3D.call(this);\n\n    this.type = 'Light';\n\n    this.color = new Color(color);\n    this.intensity = intensity !== undefined ? intensity : 1;\n\n    this.receiveShadow = undefined;\n\n  }\n\n  Light.prototype = Object.assign(Object.create(Object3D.prototype), {\n\n    constructor: Light,\n\n    isLight: true,\n\n    copy: function(source) {\n\n      Object3D.prototype.copy.call(this, source);\n\n      this.color.copy(source.color);\n      this.intensity = source.intensity;\n\n      return this;\n\n    },\n\n    toJSON: function(meta) {\n\n      var data = Object3D.prototype.toJSON.call(this, meta);\n\n      data.object.color = this.color.getHex();\n      data.object.intensity = this.intensity;\n\n      if (this.groundColor !== undefined) {\n        data.object.groundColor = this.groundColor.getHex();\n      }\n\n      if (this.distance !== undefined) {\n        data.object.distance = this.distance;\n      }\n      if (this.angle !== undefined) {\n        data.object.angle = this.angle;\n      }\n      if (this.decay !== undefined) {\n        data.object.decay = this.decay;\n      }\n      if (this.penumbra !== undefined) {\n        data.object.penumbra = this.penumbra;\n      }\n\n      if (this.shadow !== undefined) {\n        data.object.shadow = this.shadow.toJSON();\n      }\n\n      return data;\n\n    }\n\n  });\n\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n  function HemisphereLight(skyColor, groundColor, intensity) {\n\n    Light.call(this, skyColor, intensity);\n\n    this.type = 'HemisphereLight';\n\n    this.castShadow = undefined;\n\n    this.position.copy(Object3D.DefaultUp);\n    this.updateMatrix();\n\n    this.groundColor = new Color(groundColor);\n\n  }\n\n  HemisphereLight.prototype = Object.assign(Object.create(Light.prototype), {\n\n    constructor: HemisphereLight,\n\n    isHemisphereLight: true,\n\n    copy: function(source) {\n\n      Light.prototype.copy.call(this, source);\n\n      this.groundColor.copy(source.groundColor);\n\n      return this;\n\n    }\n\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function LightShadow(camera) {\n\n    this.camera = camera;\n\n    this.bias = 0;\n    this.radius = 1;\n\n    this.mapSize = new Vector2(512, 512);\n\n    this.map = null;\n    this.mapPass = null;\n    this.matrix = new Matrix4();\n\n    this._frustum = new Frustum();\n    this._frameExtents = new Vector2(1, 1);\n\n    this._viewportCount = 1;\n\n    this._viewports = [\n\n      new Vector4(0, 0, 1, 1)\n\n    ];\n\n  }\n\n  Object.assign(LightShadow.prototype, {\n\n    _projScreenMatrix: new Matrix4(),\n\n    _lightPositionWorld: new Vector3(),\n\n    _lookTarget: new Vector3(),\n\n    getViewportCount: function() {\n\n      return this._viewportCount;\n\n    },\n\n    getFrustum: function() {\n\n      return this._frustum;\n\n    },\n\n    updateMatrices: function(light) {\n\n      var shadowCamera = this.camera,\n        shadowMatrix = this.matrix,\n        projScreenMatrix = this._projScreenMatrix,\n        lookTarget = this._lookTarget,\n        lightPositionWorld = this._lightPositionWorld;\n\n      lightPositionWorld.setFromMatrixPosition(light.matrixWorld);\n      shadowCamera.position.copy(lightPositionWorld);\n\n      lookTarget.setFromMatrixPosition(light.target.matrixWorld);\n      shadowCamera.lookAt(lookTarget);\n      shadowCamera.updateMatrixWorld();\n\n      projScreenMatrix.multiplyMatrices(shadowCamera.projectionMatrix, shadowCamera.matrixWorldInverse);\n      this._frustum.setFromMatrix(projScreenMatrix);\n\n      shadowMatrix.set(\n        0.5, 0.0, 0.0, 0.5,\n        0.0, 0.5, 0.0, 0.5,\n        0.0, 0.0, 0.5, 0.5,\n        0.0, 0.0, 0.0, 1.0\n      );\n\n      shadowMatrix.multiply(shadowCamera.projectionMatrix);\n      shadowMatrix.multiply(shadowCamera.matrixWorldInverse);\n\n    },\n\n    getViewport: function(viewportIndex) {\n\n      return this._viewports[viewportIndex];\n\n    },\n\n    getFrameExtents: function() {\n\n      return this._frameExtents;\n\n    },\n\n    copy: function(source) {\n\n      this.camera = source.camera.clone();\n\n      this.bias = source.bias;\n      this.radius = source.radius;\n\n      this.mapSize.copy(source.mapSize);\n\n      return this;\n\n    },\n\n    clone: function() {\n\n      return new this.constructor().copy(this);\n\n    },\n\n    toJSON: function() {\n\n      var object = {};\n\n      if (this.bias !== 0) {\n        object.bias = this.bias;\n      }\n      if (this.radius !== 1) {\n        object.radius = this.radius;\n      }\n      if (this.mapSize.x !== 512 || this.mapSize.y !== 512) {\n        object.mapSize = this.mapSize.toArray();\n      }\n\n      object.camera = this.camera.toJSON(false).object;\n      delete object.camera.matrix;\n\n      return object;\n\n    }\n\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function SpotLightShadow() {\n\n    LightShadow.call(this, new PerspectiveCamera(50, 1, 0.5, 500));\n\n  }\n\n  SpotLightShadow.prototype = Object.assign(Object.create(LightShadow.prototype), {\n\n    constructor: SpotLightShadow,\n\n    isSpotLightShadow: true,\n\n    updateMatrices: function(light) {\n\n      var camera = this.camera;\n\n      var fov = _Math.RAD2DEG * 2 * light.angle;\n      var aspect = this.mapSize.width / this.mapSize.height;\n      var far = light.distance || camera.far;\n\n      if (fov !== camera.fov || aspect !== camera.aspect || far !== camera.far) {\n\n        camera.fov = fov;\n        camera.aspect = aspect;\n        camera.far = far;\n        camera.updateProjectionMatrix();\n\n      }\n\n      LightShadow.prototype.updateMatrices.call(this, light);\n\n    }\n\n  });\n\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n  function SpotLight(color, intensity, distance, angle, penumbra, decay) {\n\n    Light.call(this, color, intensity);\n\n    this.type = 'SpotLight';\n\n    this.position.copy(Object3D.DefaultUp);\n    this.updateMatrix();\n\n    this.target = new Object3D();\n\n    Object.defineProperty(this, 'power', {\n      get: function() {\n\n        // intensity = power per solid angle.\n        // ref: equation (17) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n        return this.intensity * Math.PI;\n\n      },\n      set: function(power) {\n\n        // intensity = power per solid angle.\n        // ref: equation (17) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n        this.intensity = power / Math.PI;\n\n      }\n    });\n\n    this.distance = (distance !== undefined) ? distance : 0;\n    this.angle = (angle !== undefined) ? angle : Math.PI / 3;\n    this.penumbra = (penumbra !== undefined) ? penumbra : 0;\n    this.decay = (decay !== undefined) ? decay : 1; // for physically correct lights, should be 2.\n\n    this.shadow = new SpotLightShadow();\n\n  }\n\n  SpotLight.prototype = Object.assign(Object.create(Light.prototype), {\n\n    constructor: SpotLight,\n\n    isSpotLight: true,\n\n    copy: function(source) {\n\n      Light.prototype.copy.call(this, source);\n\n      this.distance = source.distance;\n      this.angle = source.angle;\n      this.penumbra = source.penumbra;\n      this.decay = source.decay;\n\n      this.target = source.target.clone();\n\n      this.shadow = source.shadow.clone();\n\n      return this;\n\n    }\n\n  });\n\n  function PointLightShadow() {\n\n    LightShadow.call(this, new PerspectiveCamera(90, 1, 0.5, 500));\n\n    this._frameExtents = new Vector2(4, 2);\n\n    this._viewportCount = 6;\n\n    this._viewports = [\n      // These viewports map a cube-map onto a 2D texture with the\n      // following orientation:\n      //\n      //  xzXZ\n      //   y Y\n      //\n      // X - Positive x direction\n      // x - Negative x direction\n      // Y - Positive y direction\n      // y - Negative y direction\n      // Z - Positive z direction\n      // z - Negative z direction\n\n      // positive X\n      new Vector4(2, 1, 1, 1),\n      // negative X\n      new Vector4(0, 1, 1, 1),\n      // positive Z\n      new Vector4(3, 1, 1, 1),\n      // negative Z\n      new Vector4(1, 1, 1, 1),\n      // positive Y\n      new Vector4(3, 0, 1, 1),\n      // negative Y\n      new Vector4(1, 0, 1, 1)\n    ];\n\n    this._cubeDirections = [\n      new Vector3(1, 0, 0), new Vector3(-1, 0, 0), new Vector3(0, 0, 1),\n      new Vector3(0, 0, -1), new Vector3(0, 1, 0), new Vector3(0, -1, 0)\n    ];\n\n    this._cubeUps = [\n      new Vector3(0, 1, 0), new Vector3(0, 1, 0), new Vector3(0, 1, 0),\n      new Vector3(0, 1, 0), new Vector3(0, 0, 1), new Vector3(0, 0, -1)\n    ];\n\n  }\n\n  PointLightShadow.prototype = Object.assign(Object.create(LightShadow.prototype), {\n\n    constructor: PointLightShadow,\n\n    isPointLightShadow: true,\n\n    updateMatrices: function(light, viewportIndex) {\n\n      if (viewportIndex === undefined) {\n        viewportIndex = 0;\n      }\n\n      var camera = this.camera,\n        shadowMatrix = this.matrix,\n        lightPositionWorld = this._lightPositionWorld,\n        lookTarget = this._lookTarget,\n        projScreenMatrix = this._projScreenMatrix;\n\n      lightPositionWorld.setFromMatrixPosition(light.matrixWorld);\n      camera.position.copy(lightPositionWorld);\n\n      lookTarget.copy(camera.position);\n      lookTarget.add(this._cubeDirections[viewportIndex]);\n      camera.up.copy(this._cubeUps[viewportIndex]);\n      camera.lookAt(lookTarget);\n      camera.updateMatrixWorld();\n\n      shadowMatrix.makeTranslation(-lightPositionWorld.x, -lightPositionWorld.y, -lightPositionWorld.z);\n\n      projScreenMatrix.multiplyMatrices(camera.projectionMatrix, camera.matrixWorldInverse);\n      this._frustum.setFromMatrix(projScreenMatrix);\n\n    }\n\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n\n  function PointLight(color, intensity, distance, decay) {\n\n    Light.call(this, color, intensity);\n\n    this.type = 'PointLight';\n\n    Object.defineProperty(this, 'power', {\n      get: function() {\n\n        // intensity = power per solid angle.\n        // ref: equation (15) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n        return this.intensity * 4 * Math.PI;\n\n      },\n      set: function(power) {\n\n        // intensity = power per solid angle.\n        // ref: equation (15) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n        this.intensity = power / (4 * Math.PI);\n\n      }\n    });\n\n    this.distance = (distance !== undefined) ? distance : 0;\n    this.decay = (decay !== undefined) ? decay : 1; // for physically correct lights, should be 2.\n\n    this.shadow = new PointLightShadow();\n\n  }\n\n  PointLight.prototype = Object.assign(Object.create(Light.prototype), {\n\n    constructor: PointLight,\n\n    isPointLight: true,\n\n    copy: function(source) {\n\n      Light.prototype.copy.call(this, source);\n\n      this.distance = source.distance;\n      this.decay = source.decay;\n\n      this.shadow = source.shadow.clone();\n\n      return this;\n\n    }\n\n  });\n\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   * @author arose / http://github.com/arose\n   */\n\n  function OrthographicCamera(left, right, top, bottom, near, far) {\n\n    Camera.call(this);\n\n    this.type = 'OrthographicCamera';\n\n    this.zoom = 1;\n    this.view = null;\n\n    this.left = (left !== undefined) ? left : -1;\n    this.right = (right !== undefined) ? right : 1;\n    this.top = (top !== undefined) ? top : 1;\n    this.bottom = (bottom !== undefined) ? bottom : -1;\n\n    this.near = (near !== undefined) ? near : 0.1;\n    this.far = (far !== undefined) ? far : 2000;\n\n    this.updateProjectionMatrix();\n\n  }\n\n  OrthographicCamera.prototype = Object.assign(Object.create(Camera.prototype), {\n\n    constructor: OrthographicCamera,\n\n    isOrthographicCamera: true,\n\n    copy: function(source, recursive) {\n\n      Camera.prototype.copy.call(this, source, recursive);\n\n      this.left = source.left;\n      this.right = source.right;\n      this.top = source.top;\n      this.bottom = source.bottom;\n      this.near = source.near;\n      this.far = source.far;\n\n      this.zoom = source.zoom;\n      this.view = source.view === null ? null : Object.assign({}, source.view);\n\n      return this;\n\n    },\n\n    setViewOffset: function(fullWidth, fullHeight, x, y, width, height) {\n\n      if (this.view === null) {\n\n        this.view = {\n          enabled: true,\n          fullWidth: 1,\n          fullHeight: 1,\n          offsetX: 0,\n          offsetY: 0,\n          width: 1,\n          height: 1\n        };\n\n      }\n\n      this.view.enabled = true;\n      this.view.fullWidth = fullWidth;\n      this.view.fullHeight = fullHeight;\n      this.view.offsetX = x;\n      this.view.offsetY = y;\n      this.view.width = width;\n      this.view.height = height;\n\n      this.updateProjectionMatrix();\n\n    },\n\n    clearViewOffset: function() {\n\n      if (this.view !== null) {\n\n        this.view.enabled = false;\n\n      }\n\n      this.updateProjectionMatrix();\n\n    },\n\n    updateProjectionMatrix: function() {\n\n      var dx = (this.right - this.left) / (2 * this.zoom);\n      var dy = (this.top - this.bottom) / (2 * this.zoom);\n      var cx = (this.right + this.left) / 2;\n      var cy = (this.top + this.bottom) / 2;\n\n      var left = cx - dx;\n      var right = cx + dx;\n      var top = cy + dy;\n      var bottom = cy - dy;\n\n      if (this.view !== null && this.view.enabled) {\n\n        var zoomW = this.zoom / (this.view.width / this.view.fullWidth);\n        var zoomH = this.zoom / (this.view.height / this.view.fullHeight);\n        var scaleW = (this.right - this.left) / this.view.width;\n        var scaleH = (this.top - this.bottom) / this.view.height;\n\n        left += scaleW * (this.view.offsetX / zoomW);\n        right = left + scaleW * (this.view.width / zoomW);\n        top -= scaleH * (this.view.offsetY / zoomH);\n        bottom = top - scaleH * (this.view.height / zoomH);\n\n      }\n\n      this.projectionMatrix.makeOrthographic(left, right, top, bottom, this.near, this.far);\n\n      this.projectionMatrixInverse.getInverse(this.projectionMatrix);\n\n    },\n\n    toJSON: function(meta) {\n\n      var data = Object3D.prototype.toJSON.call(this, meta);\n\n      data.object.zoom = this.zoom;\n      data.object.left = this.left;\n      data.object.right = this.right;\n      data.object.top = this.top;\n      data.object.bottom = this.bottom;\n      data.object.near = this.near;\n      data.object.far = this.far;\n\n      if (this.view !== null) {\n        data.object.view = Object.assign({}, this.view);\n      }\n\n      return data;\n\n    }\n\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function DirectionalLightShadow() {\n\n    LightShadow.call(this, new OrthographicCamera(-5, 5, 5, -5, 0.5, 500));\n\n  }\n\n  DirectionalLightShadow.prototype = Object.assign(Object.create(LightShadow.prototype), {\n\n    constructor: DirectionalLightShadow,\n\n    isDirectionalLightShadow: true,\n\n    updateMatrices: function(light) {\n\n      LightShadow.prototype.updateMatrices.call(this, light);\n\n    }\n\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n  function DirectionalLight(color, intensity) {\n\n    Light.call(this, color, intensity);\n\n    this.type = 'DirectionalLight';\n\n    this.position.copy(Object3D.DefaultUp);\n    this.updateMatrix();\n\n    this.target = new Object3D();\n\n    this.shadow = new DirectionalLightShadow();\n\n  }\n\n  DirectionalLight.prototype = Object.assign(Object.create(Light.prototype), {\n\n    constructor: DirectionalLight,\n\n    isDirectionalLight: true,\n\n    copy: function(source) {\n\n      Light.prototype.copy.call(this, source);\n\n      this.target = source.target.clone();\n\n      this.shadow = source.shadow.clone();\n\n      return this;\n\n    }\n\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function AmbientLight(color, intensity) {\n\n    Light.call(this, color, intensity);\n\n    this.type = 'AmbientLight';\n\n    this.castShadow = undefined;\n\n  }\n\n  AmbientLight.prototype = Object.assign(Object.create(Light.prototype), {\n\n    constructor: AmbientLight,\n\n    isAmbientLight: true\n\n  });\n\n  /**\n   * @author abelnation / http://github.com/abelnation\n   */\n\n  function RectAreaLight(color, intensity, width, height) {\n\n    Light.call(this, color, intensity);\n\n    this.type = 'RectAreaLight';\n\n    this.width = (width !== undefined) ? width : 10;\n    this.height = (height !== undefined) ? height : 10;\n\n  }\n\n  RectAreaLight.prototype = Object.assign(Object.create(Light.prototype), {\n\n    constructor: RectAreaLight,\n\n    isRectAreaLight: true,\n\n    copy: function(source) {\n\n      Light.prototype.copy.call(this, source);\n\n      this.width = source.width;\n      this.height = source.height;\n\n      return this;\n\n    },\n\n    toJSON: function(meta) {\n\n      var data = Light.prototype.toJSON.call(this, meta);\n\n      data.object.width = this.width;\n      data.object.height = this.height;\n\n      return data;\n\n    }\n\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function MaterialLoader(manager) {\n\n    Loader.call(this, manager);\n\n    this.textures = {};\n\n  }\n\n  MaterialLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n\n    constructor: MaterialLoader,\n\n    load: function(url, onLoad, onProgress, onError) {\n\n      var scope = this;\n\n      var loader = new FileLoader(scope.manager);\n      loader.setPath(scope.path);\n      loader.load(url, function(text) {\n\n        onLoad(scope.parse(JSON.parse(text)));\n\n      }, onProgress, onError);\n\n    },\n\n    parse: function(json) {\n\n      var textures = this.textures;\n\n      function getTexture(name) {\n\n        if (textures[name] === undefined) {\n\n          console.warn('THREE.MaterialLoader: Undefined texture', name);\n\n        }\n\n        return textures[name];\n\n      }\n\n      var material = new Materials[json.type]();\n\n      if (json.uuid !== undefined) {\n        material.uuid = json.uuid;\n      }\n      if (json.name !== undefined) {\n        material.name = json.name;\n      }\n      if (json.color !== undefined) {\n        material.color.setHex(json.color);\n      }\n      if (json.roughness !== undefined) {\n        material.roughness = json.roughness;\n      }\n      if (json.metalness !== undefined) {\n        material.metalness = json.metalness;\n      }\n      if (json.sheen !== undefined) {\n        material.sheen = new Color().setHex(json.sheen);\n      }\n      if (json.emissive !== undefined) {\n        material.emissive.setHex(json.emissive);\n      }\n      if (json.specular !== undefined) {\n        material.specular.setHex(json.specular);\n      }\n      if (json.shininess !== undefined) {\n        material.shininess = json.shininess;\n      }\n      if (json.clearcoat !== undefined) {\n        material.clearcoat = json.clearcoat;\n      }\n      if (json.clearcoatRoughness !== undefined) {\n        material.clearcoatRoughness = json.clearcoatRoughness;\n      }\n      if (json.vertexColors !== undefined) {\n        material.vertexColors = json.vertexColors;\n      }\n      if (json.fog !== undefined) {\n        material.fog = json.fog;\n      }\n      if (json.flatShading !== undefined) {\n        material.flatShading = json.flatShading;\n      }\n      if (json.blending !== undefined) {\n        material.blending = json.blending;\n      }\n      if (json.combine !== undefined) {\n        material.combine = json.combine;\n      }\n      if (json.side !== undefined) {\n        material.side = json.side;\n      }\n      if (json.opacity !== undefined) {\n        material.opacity = json.opacity;\n      }\n      if (json.transparent !== undefined) {\n        material.transparent = json.transparent;\n      }\n      if (json.alphaTest !== undefined) {\n        material.alphaTest = json.alphaTest;\n      }\n      if (json.depthTest !== undefined) {\n        material.depthTest = json.depthTest;\n      }\n      if (json.depthWrite !== undefined) {\n        material.depthWrite = json.depthWrite;\n      }\n      if (json.colorWrite !== undefined) {\n        material.colorWrite = json.colorWrite;\n      }\n\n      if (json.stencilWrite !== undefined) {\n        material.stencilWrite = json.stencilWrite;\n      }\n      if (json.stencilWriteMask !== undefined) {\n        material.stencilWriteMask = json.stencilWriteMask;\n      }\n      if (json.stencilFunc !== undefined) {\n        material.stencilFunc = json.stencilFunc;\n      }\n      if (json.stencilRef !== undefined) {\n        material.stencilRef = json.stencilRef;\n      }\n      if (json.stencilFuncMask !== undefined) {\n        material.stencilFuncMask = json.stencilFuncMask;\n      }\n      if (json.stencilFail !== undefined) {\n        material.stencilFail = json.stencilFail;\n      }\n      if (json.stencilZFail !== undefined) {\n        material.stencilZFail = json.stencilZFail;\n      }\n      if (json.stencilZPass !== undefined) {\n        material.stencilZPass = json.stencilZPass;\n      }\n\n      if (json.wireframe !== undefined) {\n        material.wireframe = json.wireframe;\n      }\n      if (json.wireframeLinewidth !== undefined) {\n        material.wireframeLinewidth = json.wireframeLinewidth;\n      }\n      if (json.wireframeLinecap !== undefined) {\n        material.wireframeLinecap = json.wireframeLinecap;\n      }\n      if (json.wireframeLinejoin !== undefined) {\n        material.wireframeLinejoin = json.wireframeLinejoin;\n      }\n\n      if (json.rotation !== undefined) {\n        material.rotation = json.rotation;\n      }\n\n      if (json.linewidth !== 1) {\n        material.linewidth = json.linewidth;\n      }\n      if (json.dashSize !== undefined) {\n        material.dashSize = json.dashSize;\n      }\n      if (json.gapSize !== undefined) {\n        material.gapSize = json.gapSize;\n      }\n      if (json.scale !== undefined) {\n        material.scale = json.scale;\n      }\n\n      if (json.polygonOffset !== undefined) {\n        material.polygonOffset = json.polygonOffset;\n      }\n      if (json.polygonOffsetFactor !== undefined) {\n        material.polygonOffsetFactor = json.polygonOffsetFactor;\n      }\n      if (json.polygonOffsetUnits !== undefined) {\n        material.polygonOffsetUnits = json.polygonOffsetUnits;\n      }\n\n      if (json.skinning !== undefined) {\n        material.skinning = json.skinning;\n      }\n      if (json.morphTargets !== undefined) {\n        material.morphTargets = json.morphTargets;\n      }\n      if (json.morphNormals !== undefined) {\n        material.morphNormals = json.morphNormals;\n      }\n      if (json.dithering !== undefined) {\n        material.dithering = json.dithering;\n      }\n\n      if (json.visible !== undefined) {\n        material.visible = json.visible;\n      }\n\n      if (json.toneMapped !== undefined) {\n        material.toneMapped = json.toneMapped;\n      }\n\n      if (json.userData !== undefined) {\n        material.userData = json.userData;\n      }\n\n      // Shader Material\n\n      if (json.uniforms !== undefined) {\n\n        for (var name in json.uniforms) {\n\n          var uniform = json.uniforms[name];\n\n          material.uniforms[name] = {};\n\n          switch (uniform.type) {\n\n            case 't':\n              material.uniforms[name].value = getTexture(uniform.value);\n              break;\n\n            case 'c':\n              material.uniforms[name].value = new Color().setHex(uniform.value);\n              break;\n\n            case 'v2':\n              material.uniforms[name].value = new Vector2().fromArray(uniform.value);\n              break;\n\n            case 'v3':\n              material.uniforms[name].value = new Vector3().fromArray(uniform.value);\n              break;\n\n            case 'v4':\n              material.uniforms[name].value = new Vector4().fromArray(uniform.value);\n              break;\n\n            case 'm3':\n              material.uniforms[name].value = new Matrix3().fromArray(uniform.value);\n\n            case 'm4':\n              material.uniforms[name].value = new Matrix4().fromArray(uniform.value);\n              break;\n\n            default:\n              material.uniforms[name].value = uniform.value;\n\n          }\n\n        }\n\n      }\n\n      if (json.defines !== undefined) {\n        material.defines = json.defines;\n      }\n      if (json.vertexShader !== undefined) {\n        material.vertexShader = json.vertexShader;\n      }\n      if (json.fragmentShader !== undefined) {\n        material.fragmentShader = json.fragmentShader;\n      }\n\n      if (json.extensions !== undefined) {\n\n        for (var key in json.extensions) {\n\n          material.extensions[key] = json.extensions[key];\n\n        }\n\n      }\n\n      // Deprecated\n\n      if (json.shading !== undefined) {\n        material.flatShading = json.shading === 1;\n      } // THREE.FlatShading\n\n      // for PointsMaterial\n\n      if (json.size !== undefined) {\n        material.size = json.size;\n      }\n      if (json.sizeAttenuation !== undefined) {\n        material.sizeAttenuation = json.sizeAttenuation;\n      }\n\n      // maps\n\n      if (json.map !== undefined) {\n        material.map = getTexture(json.map);\n      }\n      if (json.matcap !== undefined) {\n        material.matcap = getTexture(json.matcap);\n      }\n\n      if (json.alphaMap !== undefined) {\n\n        material.alphaMap = getTexture(json.alphaMap);\n        material.transparent = true;\n\n      }\n\n      if (json.bumpMap !== undefined) {\n        material.bumpMap = getTexture(json.bumpMap);\n      }\n      if (json.bumpScale !== undefined) {\n        material.bumpScale = json.bumpScale;\n      }\n\n      if (json.normalMap !== undefined) {\n        material.normalMap = getTexture(json.normalMap);\n      }\n      if (json.normalMapType !== undefined) {\n        material.normalMapType = json.normalMapType;\n      }\n      if (json.normalScale !== undefined) {\n\n        var normalScale = json.normalScale;\n\n        if (Array.isArray(normalScale) === false) {\n\n          // Blender exporter used to export a scalar. See #7459\n\n          normalScale = [normalScale, normalScale];\n\n        }\n\n        material.normalScale = new Vector2().fromArray(normalScale);\n\n      }\n\n      if (json.displacementMap !== undefined) {\n        material.displacementMap = getTexture(json.displacementMap);\n      }\n      if (json.displacementScale !== undefined) {\n        material.displacementScale = json.displacementScale;\n      }\n      if (json.displacementBias !== undefined) {\n        material.displacementBias = json.displacementBias;\n      }\n\n      if (json.roughnessMap !== undefined) {\n        material.roughnessMap = getTexture(json.roughnessMap);\n      }\n      if (json.metalnessMap !== undefined) {\n        material.metalnessMap = getTexture(json.metalnessMap);\n      }\n\n      if (json.emissiveMap !== undefined) {\n        material.emissiveMap = getTexture(json.emissiveMap);\n      }\n      if (json.emissiveIntensity !== undefined) {\n        material.emissiveIntensity = json.emissiveIntensity;\n      }\n\n      if (json.specularMap !== undefined) {\n        material.specularMap = getTexture(json.specularMap);\n      }\n\n      if (json.envMap !== undefined) {\n        material.envMap = getTexture(json.envMap);\n      }\n      if (json.envMapIntensity !== undefined) {\n        material.envMapIntensity = json.envMapIntensity;\n      }\n\n      if (json.reflectivity !== undefined) {\n        material.reflectivity = json.reflectivity;\n      }\n      if (json.refractionRatio !== undefined) {\n        material.refractionRatio = json.refractionRatio;\n      }\n\n      if (json.lightMap !== undefined) {\n        material.lightMap = getTexture(json.lightMap);\n      }\n      if (json.lightMapIntensity !== undefined) {\n        material.lightMapIntensity = json.lightMapIntensity;\n      }\n\n      if (json.aoMap !== undefined) {\n        material.aoMap = getTexture(json.aoMap);\n      }\n      if (json.aoMapIntensity !== undefined) {\n        material.aoMapIntensity = json.aoMapIntensity;\n      }\n\n      if (json.gradientMap !== undefined) {\n        material.gradientMap = getTexture(json.gradientMap);\n      }\n\n      if (json.clearcoatNormalMap !== undefined) {\n        material.clearcoatNormalMap = getTexture(json.clearcoatNormalMap);\n      }\n      if (json.clearcoatNormalScale !== undefined) {\n        material.clearcoatNormalScale = new Vector2().fromArray(json.clearcoatNormalScale);\n      }\n\n      return material;\n\n    },\n\n    setTextures: function(value) {\n\n      this.textures = value;\n      return this;\n\n    }\n\n  });\n\n  /**\n   * @author Don McCurdy / https://www.donmccurdy.com\n   */\n\n  var LoaderUtils = {\n\n    decodeText: function(array) {\n\n      if (typeof TextDecoder !== 'undefined') {\n\n        return new TextDecoder().decode(array);\n\n      }\n\n      // Avoid the String.fromCharCode.apply(null, array) shortcut, which\n      // throws a \"maximum call stack size exceeded\" error for large arrays.\n\n      var s = '';\n\n      for (var i = 0, il = array.length; i < il; i++) {\n\n        // Implicitly assumes little-endian.\n        s += String.fromCharCode(array[i]);\n\n      }\n\n      try {\n\n        // merges multi-byte utf-8 characters.\n\n        return decodeURIComponent(escape(s));\n\n      } catch (e) { // see #16358\n\n        return s;\n\n      }\n\n    },\n\n    extractUrlBase: function(url) {\n\n      var index = url.lastIndexOf('/');\n\n      if (index === -1) {\n        return './';\n      }\n\n      return url.substr(0, index + 1);\n\n    }\n\n  };\n\n  /**\n   * @author benaadams / https://twitter.com/ben_a_adams\n   */\n\n  function InstancedBufferGeometry() {\n\n    BufferGeometry.call(this);\n\n    this.type = 'InstancedBufferGeometry';\n    this.maxInstancedCount = undefined;\n\n  }\n\n  InstancedBufferGeometry.prototype = Object.assign(Object.create(BufferGeometry.prototype), {\n\n    constructor: InstancedBufferGeometry,\n\n    isInstancedBufferGeometry: true,\n\n    copy: function(source) {\n\n      BufferGeometry.prototype.copy.call(this, source);\n\n      this.maxInstancedCount = source.maxInstancedCount;\n\n      return this;\n\n    },\n\n    clone: function() {\n\n      return new this.constructor().copy(this);\n\n    },\n\n    toJSON: function() {\n\n      var data = BufferGeometry.prototype.toJSON.call(this);\n\n      data.maxInstancedCount = this.maxInstancedCount;\n\n      data.isInstancedBufferGeometry = true;\n\n      return data;\n\n    }\n\n  });\n\n  /**\n   * @author benaadams / https://twitter.com/ben_a_adams\n   */\n\n  function InstancedBufferAttribute(array, itemSize, normalized, meshPerAttribute) {\n\n    if (typeof(normalized) === 'number') {\n\n      meshPerAttribute = normalized;\n\n      normalized = false;\n\n      console.error('THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.');\n\n    }\n\n    BufferAttribute.call(this, array, itemSize, normalized);\n\n    this.meshPerAttribute = meshPerAttribute || 1;\n\n  }\n\n  InstancedBufferAttribute.prototype = Object.assign(Object.create(BufferAttribute.prototype), {\n\n    constructor: InstancedBufferAttribute,\n\n    isInstancedBufferAttribute: true,\n\n    copy: function(source) {\n\n      BufferAttribute.prototype.copy.call(this, source);\n\n      this.meshPerAttribute = source.meshPerAttribute;\n\n      return this;\n\n    },\n\n    toJSON: function() {\n\n      var data = BufferAttribute.prototype.toJSON.call(this);\n\n      data.meshPerAttribute = this.meshPerAttribute;\n\n      data.isInstancedBufferAttribute = true;\n\n      return data;\n\n    }\n\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function BufferGeometryLoader(manager) {\n\n    Loader.call(this, manager);\n\n  }\n\n  BufferGeometryLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n\n    constructor: BufferGeometryLoader,\n\n    load: function(url, onLoad, onProgress, onError) {\n\n      var scope = this;\n\n      var loader = new FileLoader(scope.manager);\n      loader.setPath(scope.path);\n      loader.load(url, function(text) {\n\n        onLoad(scope.parse(JSON.parse(text)));\n\n      }, onProgress, onError);\n\n    },\n\n    parse: function(json) {\n\n      var geometry = json.isInstancedBufferGeometry ? new InstancedBufferGeometry() : new BufferGeometry();\n\n      var index = json.data.index;\n\n      if (index !== undefined) {\n\n        var typedArray = new TYPED_ARRAYS[index.type](index.array);\n        geometry.setIndex(new BufferAttribute(typedArray, 1));\n\n      }\n\n      var attributes = json.data.attributes;\n\n      for (var key in attributes) {\n\n        var attribute = attributes[key];\n        var typedArray = new TYPED_ARRAYS[attribute.type](attribute.array);\n        var bufferAttributeConstr = attribute.isInstancedBufferAttribute ? InstancedBufferAttribute : BufferAttribute;\n        var bufferAttribute = new bufferAttributeConstr(typedArray, attribute.itemSize, attribute.normalized);\n        if (attribute.name !== undefined) {\n          bufferAttribute.name = attribute.name;\n        }\n        geometry.setAttribute(key, bufferAttribute);\n\n      }\n\n      var morphAttributes = json.data.morphAttributes;\n\n      if (morphAttributes) {\n\n        for (var key in morphAttributes) {\n\n          var attributeArray = morphAttributes[key];\n\n          var array = [];\n\n          for (var i = 0, il = attributeArray.length; i < il; i++) {\n\n            var attribute = attributeArray[i];\n            var typedArray = new TYPED_ARRAYS[attribute.type](attribute.array);\n\n            var bufferAttribute = new BufferAttribute(typedArray, attribute.itemSize, attribute.normalized);\n            if (attribute.name !== undefined) {\n              bufferAttribute.name = attribute.name;\n            }\n            array.push(bufferAttribute);\n\n          }\n\n          geometry.morphAttributes[key] = array;\n\n        }\n\n      }\n\n      var morphTargetsRelative = json.data.morphTargetsRelative;\n\n      if (morphTargetsRelative) {\n\n        geometry.morphTargetsRelative = true;\n\n      }\n\n      var groups = json.data.groups || json.data.drawcalls || json.data.offsets;\n\n      if (groups !== undefined) {\n\n        for (var i = 0, n = groups.length; i !== n; ++i) {\n\n          var group = groups[i];\n\n          geometry.addGroup(group.start, group.count, group.materialIndex);\n\n        }\n\n      }\n\n      var boundingSphere = json.data.boundingSphere;\n\n      if (boundingSphere !== undefined) {\n\n        var center = new Vector3();\n\n        if (boundingSphere.center !== undefined) {\n\n          center.fromArray(boundingSphere.center);\n\n        }\n\n        geometry.boundingSphere = new Sphere(center, boundingSphere.radius);\n\n      }\n\n      if (json.name) {\n        geometry.name = json.name;\n      }\n      if (json.userData) {\n        geometry.userData = json.userData;\n      }\n\n      return geometry;\n\n    }\n\n  });\n\n  var TYPED_ARRAYS = {\n    Int8Array: Int8Array,\n    Uint8Array: Uint8Array,\n    // Workaround for IE11 pre KB2929437. See #11440\n    Uint8ClampedArray: typeof Uint8ClampedArray !== 'undefined' ? Uint8ClampedArray : Uint8Array,\n    Int16Array: Int16Array,\n    Uint16Array: Uint16Array,\n    Int32Array: Int32Array,\n    Uint32Array: Uint32Array,\n    Float32Array: Float32Array,\n    Float64Array: Float64Array\n  };\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function ObjectLoader(manager) {\n\n    Loader.call(this, manager);\n\n  }\n\n  ObjectLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n\n    constructor: ObjectLoader,\n\n    load: function(url, onLoad, onProgress, onError) {\n\n      var scope = this;\n\n      var path = (this.path === '') ? LoaderUtils.extractUrlBase(url) : this.path;\n      this.resourcePath = this.resourcePath || path;\n\n      var loader = new FileLoader(scope.manager);\n      loader.setPath(this.path);\n      loader.load(url, function(text) {\n\n        var json = null;\n\n        try {\n\n          json = JSON.parse(text);\n\n        } catch (error) {\n\n          if (onError !== undefined) {\n            onError(error);\n          }\n\n          console.error('THREE:ObjectLoader: Can\\'t parse ' + url + '.', error.message);\n\n          return;\n\n        }\n\n        var metadata = json.metadata;\n\n        if (metadata === undefined || metadata.type === undefined || metadata.type.toLowerCase() === 'geometry') {\n\n          console.error('THREE.ObjectLoader: Can\\'t load ' + url);\n          return;\n\n        }\n\n        scope.parse(json, onLoad);\n\n      }, onProgress, onError);\n\n    },\n\n    parse: function(json, onLoad) {\n\n      var shapes = this.parseShape(json.shapes);\n      var geometries = this.parseGeometries(json.geometries, shapes);\n\n      var images = this.parseImages(json.images, function() {\n\n        if (onLoad !== undefined) {\n          onLoad(object);\n        }\n\n      });\n\n      var textures = this.parseTextures(json.textures, images);\n      var materials = this.parseMaterials(json.materials, textures);\n\n      var object = this.parseObject(json.object, geometries, materials);\n\n      if (json.animations) {\n\n        object.animations = this.parseAnimations(json.animations);\n\n      }\n\n      if (json.images === undefined || json.images.length === 0) {\n\n        if (onLoad !== undefined) {\n          onLoad(object);\n        }\n\n      }\n\n      return object;\n\n    },\n\n    parseShape: function(json) {\n\n      var shapes = {};\n\n      if (json !== undefined) {\n\n        for (var i = 0, l = json.length; i < l; i++) {\n\n          var shape = new Shape().fromJSON(json[i]);\n\n          shapes[shape.uuid] = shape;\n\n        }\n\n      }\n\n      return shapes;\n\n    },\n\n    parseGeometries: function(json, shapes) {\n\n      var geometries = {};\n\n      if (json !== undefined) {\n\n        var bufferGeometryLoader = new BufferGeometryLoader();\n\n        for (var i = 0, l = json.length; i < l; i++) {\n\n          var geometry;\n          var data = json[i];\n\n          switch (data.type) {\n\n            case 'PlaneGeometry':\n            case 'PlaneBufferGeometry':\n\n              geometry = new Geometries[data.type](\n                data.width,\n                data.height,\n                data.widthSegments,\n                data.heightSegments\n              );\n\n              break;\n\n            case 'BoxGeometry':\n            case 'BoxBufferGeometry':\n            case 'CubeGeometry': // backwards compatible\n\n              geometry = new Geometries[data.type](\n                data.width,\n                data.height,\n                data.depth,\n                data.widthSegments,\n                data.heightSegments,\n                data.depthSegments\n              );\n\n              break;\n\n            case 'CircleGeometry':\n            case 'CircleBufferGeometry':\n\n              geometry = new Geometries[data.type](\n                data.radius,\n                data.segments,\n                data.thetaStart,\n                data.thetaLength\n              );\n\n              break;\n\n            case 'CylinderGeometry':\n            case 'CylinderBufferGeometry':\n\n              geometry = new Geometries[data.type](\n                data.radiusTop,\n                data.radiusBottom,\n                data.height,\n                data.radialSegments,\n                data.heightSegments,\n                data.openEnded,\n                data.thetaStart,\n                data.thetaLength\n              );\n\n              break;\n\n            case 'ConeGeometry':\n            case 'ConeBufferGeometry':\n\n              geometry = new Geometries[data.type](\n                data.radius,\n                data.height,\n                data.radialSegments,\n                data.heightSegments,\n                data.openEnded,\n                data.thetaStart,\n                data.thetaLength\n              );\n\n              break;\n\n            case 'SphereGeometry':\n            case 'SphereBufferGeometry':\n\n              geometry = new Geometries[data.type](\n                data.radius,\n                data.widthSegments,\n                data.heightSegments,\n                data.phiStart,\n                data.phiLength,\n                data.thetaStart,\n                data.thetaLength\n              );\n\n              break;\n\n            case 'DodecahedronGeometry':\n            case 'DodecahedronBufferGeometry':\n            case 'IcosahedronGeometry':\n            case 'IcosahedronBufferGeometry':\n            case 'OctahedronGeometry':\n            case 'OctahedronBufferGeometry':\n            case 'TetrahedronGeometry':\n            case 'TetrahedronBufferGeometry':\n\n              geometry = new Geometries[data.type](\n                data.radius,\n                data.detail\n              );\n\n              break;\n\n            case 'RingGeometry':\n            case 'RingBufferGeometry':\n\n              geometry = new Geometries[data.type](\n                data.innerRadius,\n                data.outerRadius,\n                data.thetaSegments,\n                data.phiSegments,\n                data.thetaStart,\n                data.thetaLength\n              );\n\n              break;\n\n            case 'TorusGeometry':\n            case 'TorusBufferGeometry':\n\n              geometry = new Geometries[data.type](\n                data.radius,\n                data.tube,\n                data.radialSegments,\n                data.tubularSegments,\n                data.arc\n              );\n\n              break;\n\n            case 'TorusKnotGeometry':\n            case 'TorusKnotBufferGeometry':\n\n              geometry = new Geometries[data.type](\n                data.radius,\n                data.tube,\n                data.tubularSegments,\n                data.radialSegments,\n                data.p,\n                data.q\n              );\n\n              break;\n\n            case 'TubeGeometry':\n            case 'TubeBufferGeometry':\n\n              // This only works for built-in curves (e.g. CatmullRomCurve3).\n              // User defined curves or instances of CurvePath will not be deserialized.\n              geometry = new Geometries[data.type](\n                new Curves[data.path.type]().fromJSON(data.path),\n                data.tubularSegments,\n                data.radius,\n                data.radialSegments,\n                data.closed\n              );\n\n              break;\n\n            case 'LatheGeometry':\n            case 'LatheBufferGeometry':\n\n              geometry = new Geometries[data.type](\n                data.points,\n                data.segments,\n                data.phiStart,\n                data.phiLength\n              );\n\n              break;\n\n            case 'PolyhedronGeometry':\n            case 'PolyhedronBufferGeometry':\n\n              geometry = new Geometries[data.type](\n                data.vertices,\n                data.indices,\n                data.radius,\n                data.details\n              );\n\n              break;\n\n            case 'ShapeGeometry':\n            case 'ShapeBufferGeometry':\n\n              var geometryShapes = [];\n\n              for (var j = 0, jl = data.shapes.length; j < jl; j++) {\n\n                var shape = shapes[data.shapes[j]];\n\n                geometryShapes.push(shape);\n\n              }\n\n              geometry = new Geometries[data.type](\n                geometryShapes,\n                data.curveSegments\n              );\n\n              break;\n\n\n            case 'ExtrudeGeometry':\n            case 'ExtrudeBufferGeometry':\n\n              var geometryShapes = [];\n\n              for (var j = 0, jl = data.shapes.length; j < jl; j++) {\n\n                var shape = shapes[data.shapes[j]];\n\n                geometryShapes.push(shape);\n\n              }\n\n              var extrudePath = data.options.extrudePath;\n\n              if (extrudePath !== undefined) {\n\n                data.options.extrudePath = new Curves[extrudePath.type]().fromJSON(extrudePath);\n\n              }\n\n              geometry = new Geometries[data.type](\n                geometryShapes,\n                data.options\n              );\n\n              break;\n\n            case 'BufferGeometry':\n            case 'InstancedBufferGeometry':\n\n              geometry = bufferGeometryLoader.parse(data);\n\n              break;\n\n            case 'Geometry':\n\n              if ('THREE' in window && 'LegacyJSONLoader' in THREE) {\n\n                var geometryLoader = new THREE.LegacyJSONLoader();\n                geometry = geometryLoader.parse(data, this.resourcePath).geometry;\n\n\n              } else {\n\n                console.error('THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type \"Geometry\".');\n\n              }\n\n              break;\n\n            default:\n\n              console.warn('THREE.ObjectLoader: Unsupported geometry type \"' + data.type + '\"');\n\n              continue;\n\n          }\n\n          geometry.uuid = data.uuid;\n\n          if (data.name !== undefined) {\n            geometry.name = data.name;\n          }\n          if (geometry.isBufferGeometry === true && data.userData !== undefined) {\n            geometry.userData = data.userData;\n          }\n\n          geometries[data.uuid] = geometry;\n\n        }\n\n      }\n\n      return geometries;\n\n    },\n\n    parseMaterials: function(json, textures) {\n\n      var cache = {}; // MultiMaterial\n      var materials = {};\n\n      if (json !== undefined) {\n\n        var loader = new MaterialLoader();\n        loader.setTextures(textures);\n\n        for (var i = 0, l = json.length; i < l; i++) {\n\n          var data = json[i];\n\n          if (data.type === 'MultiMaterial') {\n\n            // Deprecated\n\n            var array = [];\n\n            for (var j = 0; j < data.materials.length; j++) {\n\n              var material = data.materials[j];\n\n              if (cache[material.uuid] === undefined) {\n\n                cache[material.uuid] = loader.parse(material);\n\n              }\n\n              array.push(cache[material.uuid]);\n\n            }\n\n            materials[data.uuid] = array;\n\n          } else {\n\n            if (cache[data.uuid] === undefined) {\n\n              cache[data.uuid] = loader.parse(data);\n\n            }\n\n            materials[data.uuid] = cache[data.uuid];\n\n          }\n\n        }\n\n      }\n\n      return materials;\n\n    },\n\n    parseAnimations: function(json) {\n\n      var animations = [];\n\n      for (var i = 0; i < json.length; i++) {\n\n        var data = json[i];\n\n        var clip = AnimationClip.parse(data);\n\n        if (data.uuid !== undefined) {\n          clip.uuid = data.uuid;\n        }\n\n        animations.push(clip);\n\n      }\n\n      return animations;\n\n    },\n\n    parseImages: function(json, onLoad) {\n\n      var scope = this;\n      var images = {};\n\n      function loadImage(url) {\n\n        scope.manager.itemStart(url);\n\n        return loader.load(url, function() {\n\n          scope.manager.itemEnd(url);\n\n        }, undefined, function() {\n\n          scope.manager.itemError(url);\n          scope.manager.itemEnd(url);\n\n        });\n\n      }\n\n      if (json !== undefined && json.length > 0) {\n\n        var manager = new LoadingManager(onLoad);\n\n        var loader = new ImageLoader(manager);\n        loader.setCrossOrigin(this.crossOrigin);\n\n        for (var i = 0, il = json.length; i < il; i++) {\n\n          var image = json[i];\n          var url = image.url;\n\n          if (Array.isArray(url)) {\n\n            // load array of images e.g CubeTexture\n\n            images[image.uuid] = [];\n\n            for (var j = 0, jl = url.length; j < jl; j++) {\n\n              var currentUrl = url[j];\n\n              var path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test(currentUrl) ? currentUrl : scope.resourcePath + currentUrl;\n\n              images[image.uuid].push(loadImage(path));\n\n            }\n\n          } else {\n\n            // load single image\n\n            var path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test(image.url) ? image.url : scope.resourcePath + image.url;\n\n            images[image.uuid] = loadImage(path);\n\n          }\n\n        }\n\n      }\n\n      return images;\n\n    },\n\n    parseTextures: function(json, images) {\n\n      function parseConstant(value, type) {\n\n        if (typeof value === 'number') {\n          return value;\n        }\n\n        console.warn('THREE.ObjectLoader.parseTexture: Constant should be in numeric form.', value);\n\n        return type[value];\n\n      }\n\n      var textures = {};\n\n      if (json !== undefined) {\n\n        for (var i = 0, l = json.length; i < l; i++) {\n\n          var data = json[i];\n\n          if (data.image === undefined) {\n\n            console.warn('THREE.ObjectLoader: No \"image\" specified for', data.uuid);\n\n          }\n\n          if (images[data.image] === undefined) {\n\n            console.warn('THREE.ObjectLoader: Undefined image', data.image);\n\n          }\n\n          var texture;\n\n          if (Array.isArray(images[data.image])) {\n\n            texture = new CubeTexture(images[data.image]);\n\n          } else {\n\n            texture = new Texture(images[data.image]);\n\n          }\n\n          texture.needsUpdate = true;\n\n          texture.uuid = data.uuid;\n\n          if (data.name !== undefined) {\n            texture.name = data.name;\n          }\n\n          if (data.mapping !== undefined) {\n            texture.mapping = parseConstant(data.mapping, TEXTURE_MAPPING);\n          }\n\n          if (data.offset !== undefined) {\n            texture.offset.fromArray(data.offset);\n          }\n          if (data.repeat !== undefined) {\n            texture.repeat.fromArray(data.repeat);\n          }\n          if (data.center !== undefined) {\n            texture.center.fromArray(data.center);\n          }\n          if (data.rotation !== undefined) {\n            texture.rotation = data.rotation;\n          }\n\n          if (data.wrap !== undefined) {\n\n            texture.wrapS = parseConstant(data.wrap[0], TEXTURE_WRAPPING);\n            texture.wrapT = parseConstant(data.wrap[1], TEXTURE_WRAPPING);\n\n          }\n\n          if (data.format !== undefined) {\n            texture.format = data.format;\n          }\n          if (data.type !== undefined) {\n            texture.type = data.type;\n          }\n          if (data.encoding !== undefined) {\n            texture.encoding = data.encoding;\n          }\n\n          if (data.minFilter !== undefined) {\n            texture.minFilter = parseConstant(data.minFilter, TEXTURE_FILTER);\n          }\n          if (data.magFilter !== undefined) {\n            texture.magFilter = parseConstant(data.magFilter, TEXTURE_FILTER);\n          }\n          if (data.anisotropy !== undefined) {\n            texture.anisotropy = data.anisotropy;\n          }\n\n          if (data.flipY !== undefined) {\n            texture.flipY = data.flipY;\n          }\n\n          if (data.premultiplyAlpha !== undefined) {\n            texture.premultiplyAlpha = data.premultiplyAlpha;\n          }\n          if (data.unpackAlignment !== undefined) {\n            texture.unpackAlignment = data.unpackAlignment;\n          }\n\n          textures[data.uuid] = texture;\n\n        }\n\n      }\n\n      return textures;\n\n    },\n\n    parseObject: function(data, geometries, materials) {\n\n      var object;\n\n      function getGeometry(name) {\n\n        if (geometries[name] === undefined) {\n\n          console.warn('THREE.ObjectLoader: Undefined geometry', name);\n\n        }\n\n        return geometries[name];\n\n      }\n\n      function getMaterial(name) {\n\n        if (name === undefined) {\n          return undefined;\n        }\n\n        if (Array.isArray(name)) {\n\n          var array = [];\n\n          for (var i = 0, l = name.length; i < l; i++) {\n\n            var uuid = name[i];\n\n            if (materials[uuid] === undefined) {\n\n              console.warn('THREE.ObjectLoader: Undefined material', uuid);\n\n            }\n\n            array.push(materials[uuid]);\n\n          }\n\n          return array;\n\n        }\n\n        if (materials[name] === undefined) {\n\n          console.warn('THREE.ObjectLoader: Undefined material', name);\n\n        }\n\n        return materials[name];\n\n      }\n\n      switch (data.type) {\n\n        case 'Scene':\n\n          object = new Scene();\n\n          if (data.background !== undefined) {\n\n            if (Number.isInteger(data.background)) {\n\n              object.background = new Color(data.background);\n\n            }\n\n          }\n\n          if (data.fog !== undefined) {\n\n            if (data.fog.type === 'Fog') {\n\n              object.fog = new Fog(data.fog.color, data.fog.near, data.fog.far);\n\n            } else if (data.fog.type === 'FogExp2') {\n\n              object.fog = new FogExp2(data.fog.color, data.fog.density);\n\n            }\n\n          }\n\n          break;\n\n        case 'PerspectiveCamera':\n\n          object = new PerspectiveCamera(data.fov, data.aspect, data.near, data.far);\n\n          if (data.focus !== undefined) {\n            object.focus = data.focus;\n          }\n          if (data.zoom !== undefined) {\n            object.zoom = data.zoom;\n          }\n          if (data.filmGauge !== undefined) {\n            object.filmGauge = data.filmGauge;\n          }\n          if (data.filmOffset !== undefined) {\n            object.filmOffset = data.filmOffset;\n          }\n          if (data.view !== undefined) {\n            object.view = Object.assign({}, data.view);\n          }\n\n          break;\n\n        case 'OrthographicCamera':\n\n          object = new OrthographicCamera(data.left, data.right, data.top, data.bottom, data.near, data.far);\n\n          if (data.zoom !== undefined) {\n            object.zoom = data.zoom;\n          }\n          if (data.view !== undefined) {\n            object.view = Object.assign({}, data.view);\n          }\n\n          break;\n\n        case 'AmbientLight':\n\n          object = new AmbientLight(data.color, data.intensity);\n\n          break;\n\n        case 'DirectionalLight':\n\n          object = new DirectionalLight(data.color, data.intensity);\n\n          break;\n\n        case 'PointLight':\n\n          object = new PointLight(data.color, data.intensity, data.distance, data.decay);\n\n          break;\n\n        case 'RectAreaLight':\n\n          object = new RectAreaLight(data.color, data.intensity, data.width, data.height);\n\n          break;\n\n        case 'SpotLight':\n\n          object = new SpotLight(data.color, data.intensity, data.distance, data.angle, data.penumbra, data.decay);\n\n          break;\n\n        case 'HemisphereLight':\n\n          object = new HemisphereLight(data.color, data.groundColor, data.intensity);\n\n          break;\n\n        case 'SkinnedMesh':\n\n          console.warn('THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.');\n\n        case 'Mesh':\n\n          var geometry = getGeometry(data.geometry);\n          var material = getMaterial(data.material);\n\n          if (geometry.bones && geometry.bones.length > 0) {\n\n            object = new SkinnedMesh(geometry, material);\n\n          } else {\n\n            object = new Mesh(geometry, material);\n\n          }\n\n          break;\n\n        case 'InstancedMesh':\n\n          var geometry = getGeometry(data.geometry);\n          var material = getMaterial(data.material);\n          var count = data.count;\n          var instanceMatrix = data.instanceMatrix;\n\n          object = new InstancedMesh(geometry, material, count);\n          object.instanceMatrix = new BufferAttribute(new Float32Array(instanceMatrix.array), 16);\n\n          break;\n\n        case 'LOD':\n\n          object = new LOD();\n\n          break;\n\n        case 'Line':\n\n          object = new Line(getGeometry(data.geometry), getMaterial(data.material), data.mode);\n\n          break;\n\n        case 'LineLoop':\n\n          object = new LineLoop(getGeometry(data.geometry), getMaterial(data.material));\n\n          break;\n\n        case 'LineSegments':\n\n          object = new LineSegments(getGeometry(data.geometry), getMaterial(data.material));\n\n          break;\n\n        case 'PointCloud':\n        case 'Points':\n\n          object = new Points(getGeometry(data.geometry), getMaterial(data.material));\n\n          break;\n\n        case 'Sprite':\n\n          object = new Sprite(getMaterial(data.material));\n\n          break;\n\n        case 'Group':\n\n          object = new Group();\n\n          break;\n\n        default:\n\n          object = new Object3D();\n\n      }\n\n      object.uuid = data.uuid;\n\n      if (data.name !== undefined) {\n        object.name = data.name;\n      }\n\n      if (data.matrix !== undefined) {\n\n        object.matrix.fromArray(data.matrix);\n\n        if (data.matrixAutoUpdate !== undefined) {\n          object.matrixAutoUpdate = data.matrixAutoUpdate;\n        }\n        if (object.matrixAutoUpdate) {\n          object.matrix.decompose(object.position, object.quaternion, object.scale);\n        }\n\n      } else {\n\n        if (data.position !== undefined) {\n          object.position.fromArray(data.position);\n        }\n        if (data.rotation !== undefined) {\n          object.rotation.fromArray(data.rotation);\n        }\n        if (data.quaternion !== undefined) {\n          object.quaternion.fromArray(data.quaternion);\n        }\n        if (data.scale !== undefined) {\n          object.scale.fromArray(data.scale);\n        }\n\n      }\n\n      if (data.castShadow !== undefined) {\n        object.castShadow = data.castShadow;\n      }\n      if (data.receiveShadow !== undefined) {\n        object.receiveShadow = data.receiveShadow;\n      }\n\n      if (data.shadow) {\n\n        if (data.shadow.bias !== undefined) {\n          object.shadow.bias = data.shadow.bias;\n        }\n        if (data.shadow.radius !== undefined) {\n          object.shadow.radius = data.shadow.radius;\n        }\n        if (data.shadow.mapSize !== undefined) {\n          object.shadow.mapSize.fromArray(data.shadow.mapSize);\n        }\n        if (data.shadow.camera !== undefined) {\n          object.shadow.camera = this.parseObject(data.shadow.camera);\n        }\n\n      }\n\n      if (data.visible !== undefined) {\n        object.visible = data.visible;\n      }\n      if (data.frustumCulled !== undefined) {\n        object.frustumCulled = data.frustumCulled;\n      }\n      if (data.renderOrder !== undefined) {\n        object.renderOrder = data.renderOrder;\n      }\n      if (data.userData !== undefined) {\n        object.userData = data.userData;\n      }\n      if (data.layers !== undefined) {\n        object.layers.mask = data.layers;\n      }\n\n      if (data.children !== undefined) {\n\n        var children = data.children;\n\n        for (var i = 0; i < children.length; i++) {\n\n          object.add(this.parseObject(children[i], geometries, materials));\n\n        }\n\n      }\n\n      if (data.type === 'LOD') {\n\n        if (data.autoUpdate !== undefined) {\n          object.autoUpdate = data.autoUpdate;\n        }\n\n        var levels = data.levels;\n\n        for (var l = 0; l < levels.length; l++) {\n\n          var level = levels[l];\n          var child = object.getObjectByProperty('uuid', level.object);\n\n          if (child !== undefined) {\n\n            object.addLevel(child, level.distance);\n\n          }\n\n        }\n\n      }\n\n      return object;\n\n    }\n\n  });\n\n  var TEXTURE_MAPPING = {\n    UVMapping: UVMapping,\n    CubeReflectionMapping: CubeReflectionMapping,\n    CubeRefractionMapping: CubeRefractionMapping,\n    EquirectangularReflectionMapping: EquirectangularReflectionMapping,\n    EquirectangularRefractionMapping: EquirectangularRefractionMapping,\n    SphericalReflectionMapping: SphericalReflectionMapping,\n    CubeUVReflectionMapping: CubeUVReflectionMapping,\n    CubeUVRefractionMapping: CubeUVRefractionMapping\n  };\n\n  var TEXTURE_WRAPPING = {\n    RepeatWrapping: RepeatWrapping,\n    ClampToEdgeWrapping: ClampToEdgeWrapping,\n    MirroredRepeatWrapping: MirroredRepeatWrapping\n  };\n\n  var TEXTURE_FILTER = {\n    NearestFilter: NearestFilter,\n    NearestMipmapNearestFilter: NearestMipmapNearestFilter,\n    NearestMipmapLinearFilter: NearestMipmapLinearFilter,\n    LinearFilter: LinearFilter,\n    LinearMipmapNearestFilter: LinearMipmapNearestFilter,\n    LinearMipmapLinearFilter: LinearMipmapLinearFilter\n  };\n\n  /**\n   * @author thespite / http://clicktorelease.com/\n   */\n\n\n  function ImageBitmapLoader(manager) {\n\n    if (typeof createImageBitmap === 'undefined') {\n\n      console.warn('THREE.ImageBitmapLoader: createImageBitmap() not supported.');\n\n    }\n\n    if (typeof fetch === 'undefined') {\n\n      console.warn('THREE.ImageBitmapLoader: fetch() not supported.');\n\n    }\n\n    Loader.call(this, manager);\n\n    this.options = undefined;\n\n  }\n\n  ImageBitmapLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n\n    constructor: ImageBitmapLoader,\n\n    setOptions: function setOptions(options) {\n\n      this.options = options;\n\n      return this;\n\n    },\n\n    load: function(url, onLoad, onProgress, onError) {\n\n      if (url === undefined) {\n        url = '';\n      }\n\n      if (this.path !== undefined) {\n        url = this.path + url;\n      }\n\n      url = this.manager.resolveURL(url);\n\n      var scope = this;\n\n      var cached = Cache.get(url);\n\n      if (cached !== undefined) {\n\n        scope.manager.itemStart(url);\n\n        setTimeout(function() {\n\n          if (onLoad) {\n            onLoad(cached);\n          }\n\n          scope.manager.itemEnd(url);\n\n        }, 0);\n\n        return cached;\n\n      }\n\n      fetch(url).then(function(res) {\n\n        return res.blob();\n\n      }).then(function(blob) {\n\n        if (scope.options === undefined) {\n\n          // Workaround for FireFox. It causes an error if you pass options.\n          return createImageBitmap(blob);\n\n        } else {\n\n          return createImageBitmap(blob, scope.options);\n\n        }\n\n      }).then(function(imageBitmap) {\n\n        Cache.add(url, imageBitmap);\n\n        if (onLoad) {\n          onLoad(imageBitmap);\n        }\n\n        scope.manager.itemEnd(url);\n\n      }).catch(function(e) {\n\n        if (onError) {\n          onError(e);\n        }\n\n        scope.manager.itemError(url);\n        scope.manager.itemEnd(url);\n\n      });\n\n      scope.manager.itemStart(url);\n\n    }\n\n  });\n\n  /**\n   * @author zz85 / http://www.lab4games.net/zz85/blog\n   * minimal class for proxing functions to Path. Replaces old \"extractSubpaths()\"\n   **/\n\n  function ShapePath() {\n\n    this.type = 'ShapePath';\n\n    this.color = new Color();\n\n    this.subPaths = [];\n    this.currentPath = null;\n\n  }\n\n  Object.assign(ShapePath.prototype, {\n\n    moveTo: function(x, y) {\n\n      this.currentPath = new Path();\n      this.subPaths.push(this.currentPath);\n      this.currentPath.moveTo(x, y);\n\n      return this;\n\n    },\n\n    lineTo: function(x, y) {\n\n      this.currentPath.lineTo(x, y);\n\n      return this;\n\n    },\n\n    quadraticCurveTo: function(aCPx, aCPy, aX, aY) {\n\n      this.currentPath.quadraticCurveTo(aCPx, aCPy, aX, aY);\n\n      return this;\n\n    },\n\n    bezierCurveTo: function(aCP1x, aCP1y, aCP2x, aCP2y, aX, aY) {\n\n      this.currentPath.bezierCurveTo(aCP1x, aCP1y, aCP2x, aCP2y, aX, aY);\n\n      return this;\n\n    },\n\n    splineThru: function(pts) {\n\n      this.currentPath.splineThru(pts);\n\n      return this;\n\n    },\n\n    toShapes: function(isCCW, noHoles) {\n\n      function toShapesNoHoles(inSubpaths) {\n\n        var shapes = [];\n\n        for (var i = 0, l = inSubpaths.length; i < l; i++) {\n\n          var tmpPath = inSubpaths[i];\n\n          var tmpShape = new Shape();\n          tmpShape.curves = tmpPath.curves;\n\n          shapes.push(tmpShape);\n\n        }\n\n        return shapes;\n\n      }\n\n      function isPointInsidePolygon(inPt, inPolygon) {\n\n        var polyLen = inPolygon.length;\n\n        // inPt on polygon contour => immediate success    or\n        // toggling of inside/outside at every single! intersection point of an edge\n        //  with the horizontal line through inPt, left of inPt\n        //  not counting lowerY endpoints of edges and whole edges on that line\n        var inside = false;\n        for (var p = polyLen - 1, q = 0; q < polyLen; p = q++) {\n\n          var edgeLowPt = inPolygon[p];\n          var edgeHighPt = inPolygon[q];\n\n          var edgeDx = edgeHighPt.x - edgeLowPt.x;\n          var edgeDy = edgeHighPt.y - edgeLowPt.y;\n\n          if (Math.abs(edgeDy) > Number.EPSILON) {\n\n            // not parallel\n            if (edgeDy < 0) {\n\n              edgeLowPt = inPolygon[q];\n              edgeDx = -edgeDx;\n              edgeHighPt = inPolygon[p];\n              edgeDy = -edgeDy;\n\n            }\n            if ((inPt.y < edgeLowPt.y) || (inPt.y > edgeHighPt.y)) {\n              continue;\n            }\n\n            if (inPt.y === edgeLowPt.y) {\n\n              if (inPt.x === edgeLowPt.x) {\n                return true;\n              } // inPt is on contour ?\n              // continue;\t\t\t\t// no intersection or edgeLowPt => doesn't count !!!\n\n            } else {\n\n              var perpEdge = edgeDy * (inPt.x - edgeLowPt.x) - edgeDx * (inPt.y - edgeLowPt.y);\n              if (perpEdge === 0) {\n                return true;\n              } // inPt is on contour ?\n              if (perpEdge < 0) {\n                continue;\n              }\n              inside = !inside; // true intersection left of inPt\n\n            }\n\n          } else {\n\n            // parallel or collinear\n            if (inPt.y !== edgeLowPt.y) {\n              continue;\n            } // parallel\n            // edge lies on the same horizontal line as inPt\n            if (((edgeHighPt.x <= inPt.x) && (inPt.x <= edgeLowPt.x)) ||\n              ((edgeLowPt.x <= inPt.x) && (inPt.x <= edgeHighPt.x))) {\n              return true;\n            } // inPt: Point on contour !\n            // continue;\n\n          }\n\n        }\n\n        return inside;\n\n      }\n\n      var isClockWise = ShapeUtils.isClockWise;\n\n      var subPaths = this.subPaths;\n      if (subPaths.length === 0) {\n        return [];\n      }\n\n      if (noHoles === true) {\n        return toShapesNoHoles(subPaths);\n      }\n\n\n      var solid, tmpPath, tmpShape, shapes = [];\n\n      if (subPaths.length === 1) {\n\n        tmpPath = subPaths[0];\n        tmpShape = new Shape();\n        tmpShape.curves = tmpPath.curves;\n        shapes.push(tmpShape);\n        return shapes;\n\n      }\n\n      var holesFirst = !isClockWise(subPaths[0].getPoints());\n      holesFirst = isCCW ? !holesFirst : holesFirst;\n\n      // console.log(\"Holes first\", holesFirst);\n\n      var betterShapeHoles = [];\n      var newShapes = [];\n      var newShapeHoles = [];\n      var mainIdx = 0;\n      var tmpPoints;\n\n      newShapes[mainIdx] = undefined;\n      newShapeHoles[mainIdx] = [];\n\n      for (var i = 0, l = subPaths.length; i < l; i++) {\n\n        tmpPath = subPaths[i];\n        tmpPoints = tmpPath.getPoints();\n        solid = isClockWise(tmpPoints);\n        solid = isCCW ? !solid : solid;\n\n        if (solid) {\n\n          if ((!holesFirst) && (newShapes[mainIdx])) {\n            mainIdx++;\n          }\n\n          newShapes[mainIdx] = {\n            s: new Shape(),\n            p: tmpPoints\n          };\n          newShapes[mainIdx].s.curves = tmpPath.curves;\n\n          if (holesFirst) {\n            mainIdx++;\n          }\n          newShapeHoles[mainIdx] = [];\n\n          //console.log('cw', i);\n\n        } else {\n\n          newShapeHoles[mainIdx].push({\n            h: tmpPath,\n            p: tmpPoints[0]\n          });\n\n          //console.log('ccw', i);\n\n        }\n\n      }\n\n      // only Holes? -> probably all Shapes with wrong orientation\n      if (!newShapes[0]) {\n        return toShapesNoHoles(subPaths);\n      }\n\n\n      if (newShapes.length > 1) {\n\n        var ambiguous = false;\n        var toChange = [];\n\n        for (var sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx++) {\n\n          betterShapeHoles[sIdx] = [];\n\n        }\n\n        for (var sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx++) {\n\n          var sho = newShapeHoles[sIdx];\n\n          for (var hIdx = 0; hIdx < sho.length; hIdx++) {\n\n            var ho = sho[hIdx];\n            var hole_unassigned = true;\n\n            for (var s2Idx = 0; s2Idx < newShapes.length; s2Idx++) {\n\n              if (isPointInsidePolygon(ho.p, newShapes[s2Idx].p)) {\n\n                if (sIdx !== s2Idx) {\n                  toChange.push({\n                    froms: sIdx,\n                    tos: s2Idx,\n                    hole: hIdx\n                  });\n                }\n                if (hole_unassigned) {\n\n                  hole_unassigned = false;\n                  betterShapeHoles[s2Idx].push(ho);\n\n                } else {\n\n                  ambiguous = true;\n\n                }\n\n              }\n\n            }\n            if (hole_unassigned) {\n\n              betterShapeHoles[sIdx].push(ho);\n\n            }\n\n          }\n\n        }\n        // console.log(\"ambiguous: \", ambiguous);\n        if (toChange.length > 0) {\n\n          // console.log(\"to change: \", toChange);\n          if (!ambiguous) {\n            newShapeHoles = betterShapeHoles;\n          }\n\n        }\n\n      }\n\n      var tmpHoles;\n\n      for (var i = 0, il = newShapes.length; i < il; i++) {\n\n        tmpShape = newShapes[i].s;\n        shapes.push(tmpShape);\n        tmpHoles = newShapeHoles[i];\n\n        for (var j = 0, jl = tmpHoles.length; j < jl; j++) {\n\n          tmpShape.holes.push(tmpHoles[j].h);\n\n        }\n\n      }\n\n      //console.log(\"shape\", shapes);\n\n      return shapes;\n\n    }\n\n  });\n\n  /**\n   * @author zz85 / http://www.lab4games.net/zz85/blog\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n\n  function Font(data) {\n\n    this.type = 'Font';\n\n    this.data = data;\n\n  }\n\n  Object.assign(Font.prototype, {\n\n    isFont: true,\n\n    generateShapes: function(text, size) {\n\n      if (size === undefined) {\n        size = 100;\n      }\n\n      var shapes = [];\n      var paths = createPaths(text, size, this.data);\n\n      for (var p = 0, pl = paths.length; p < pl; p++) {\n\n        Array.prototype.push.apply(shapes, paths[p].toShapes());\n\n      }\n\n      return shapes;\n\n    }\n\n  });\n\n  function createPaths(text, size, data) {\n\n    var chars = Array.from ? Array.from(text) : String(text).split(''); // see #13988\n    var scale = size / data.resolution;\n    var line_height = (data.boundingBox.yMax - data.boundingBox.yMin + data.underlineThickness) * scale;\n\n    var paths = [];\n\n    var offsetX = 0,\n      offsetY = 0;\n\n    for (var i = 0; i < chars.length; i++) {\n\n      var char = chars[i];\n\n      if (char === '\\n') {\n\n        offsetX = 0;\n        offsetY -= line_height;\n\n      } else {\n\n        var ret = createPath(char, scale, offsetX, offsetY, data);\n        offsetX += ret.offsetX;\n        paths.push(ret.path);\n\n      }\n\n    }\n\n    return paths;\n\n  }\n\n  function createPath(char, scale, offsetX, offsetY, data) {\n\n    var glyph = data.glyphs[char] || data.glyphs['?'];\n\n    if (!glyph) {\n\n      console.error('THREE.Font: character \"' + char + '\" does not exists in font family ' + data.familyName + '.');\n\n      return;\n\n    }\n\n    var path = new ShapePath();\n\n    var x, y, cpx, cpy, cpx1, cpy1, cpx2, cpy2;\n\n    if (glyph.o) {\n\n      var outline = glyph._cachedOutline || (glyph._cachedOutline = glyph.o.split(' '));\n\n      for (var i = 0, l = outline.length; i < l;) {\n\n        var action = outline[i++];\n\n        switch (action) {\n\n          case 'm': // moveTo\n\n            x = outline[i++] * scale + offsetX;\n            y = outline[i++] * scale + offsetY;\n\n            path.moveTo(x, y);\n\n            break;\n\n          case 'l': // lineTo\n\n            x = outline[i++] * scale + offsetX;\n            y = outline[i++] * scale + offsetY;\n\n            path.lineTo(x, y);\n\n            break;\n\n          case 'q': // quadraticCurveTo\n\n            cpx = outline[i++] * scale + offsetX;\n            cpy = outline[i++] * scale + offsetY;\n            cpx1 = outline[i++] * scale + offsetX;\n            cpy1 = outline[i++] * scale + offsetY;\n\n            path.quadraticCurveTo(cpx1, cpy1, cpx, cpy);\n\n            break;\n\n          case 'b': // bezierCurveTo\n\n            cpx = outline[i++] * scale + offsetX;\n            cpy = outline[i++] * scale + offsetY;\n            cpx1 = outline[i++] * scale + offsetX;\n            cpy1 = outline[i++] * scale + offsetY;\n            cpx2 = outline[i++] * scale + offsetX;\n            cpy2 = outline[i++] * scale + offsetY;\n\n            path.bezierCurveTo(cpx1, cpy1, cpx2, cpy2, cpx, cpy);\n\n            break;\n\n        }\n\n      }\n\n    }\n\n    return {\n      offsetX: glyph.ha * scale,\n      path: path\n    };\n\n  }\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function FontLoader(manager) {\n\n    Loader.call(this, manager);\n\n  }\n\n  FontLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n\n    constructor: FontLoader,\n\n    load: function(url, onLoad, onProgress, onError) {\n\n      var scope = this;\n\n      var loader = new FileLoader(this.manager);\n      loader.setPath(this.path);\n      loader.load(url, function(text) {\n\n        var json;\n\n        try {\n\n          json = JSON.parse(text);\n\n        } catch (e) {\n\n          console.warn('THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead.');\n          json = JSON.parse(text.substring(65, text.length - 2));\n\n        }\n\n        var font = scope.parse(json);\n\n        if (onLoad) {\n          onLoad(font);\n        }\n\n      }, onProgress, onError);\n\n    },\n\n    parse: function(json) {\n\n      return new Font(json);\n\n    }\n\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  var _context;\n\n  var AudioContext = {\n\n    getContext: function() {\n\n      if (_context === undefined) {\n\n        _context = new(window.AudioContext || window.webkitAudioContext)();\n\n      }\n\n      return _context;\n\n    },\n\n    setContext: function(value) {\n\n      _context = value;\n\n    }\n\n  };\n\n  /**\n   * @author Reece Aaron Lecrivain / http://reecenotes.com/\n   */\n\n  function AudioLoader(manager) {\n\n    Loader.call(this, manager);\n\n  }\n\n  AudioLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n\n    constructor: AudioLoader,\n\n    load: function(url, onLoad, onProgress, onError) {\n\n      var loader = new FileLoader(this.manager);\n      loader.setResponseType('arraybuffer');\n      loader.setPath(this.path);\n      loader.load(url, function(buffer) {\n\n        // Create a copy of the buffer. The `decodeAudioData` method\n        // detaches the buffer when complete, preventing reuse.\n        var bufferCopy = buffer.slice(0);\n\n        var context = AudioContext.getContext();\n        context.decodeAudioData(bufferCopy, function(audioBuffer) {\n\n          onLoad(audioBuffer);\n\n        });\n\n      }, onProgress, onError);\n\n    }\n\n  });\n\n  /**\n   * @author bhouston / http://clara.io\n   * @author WestLangley / http://github.com/WestLangley\n   *\n   * Primary reference:\n   *   https://graphics.stanford.edu/papers/envmap/envmap.pdf\n   *\n   * Secondary reference:\n   *   https://www.ppsloan.org/publications/StupidSH36.pdf\n   */\n\n  // 3-band SH defined by 9 coefficients\n\n  function SphericalHarmonics3() {\n\n    this.coefficients = [];\n\n    for (var i = 0; i < 9; i++) {\n\n      this.coefficients.push(new Vector3());\n\n    }\n\n  }\n\n  Object.assign(SphericalHarmonics3.prototype, {\n\n    isSphericalHarmonics3: true,\n\n    set: function(coefficients) {\n\n      for (var i = 0; i < 9; i++) {\n\n        this.coefficients[i].copy(coefficients[i]);\n\n      }\n\n      return this;\n\n    },\n\n    zero: function() {\n\n      for (var i = 0; i < 9; i++) {\n\n        this.coefficients[i].set(0, 0, 0);\n\n      }\n\n      return this;\n\n    },\n\n    // get the radiance in the direction of the normal\n    // target is a Vector3\n    getAt: function(normal, target) {\n\n      // normal is assumed to be unit length\n\n      var x = normal.x,\n        y = normal.y,\n        z = normal.z;\n\n      var coeff = this.coefficients;\n\n      // band 0\n      target.copy(coeff[0]).multiplyScalar(0.282095);\n\n      // band 1\n      target.addScale(coeff[1], 0.488603 * y);\n      target.addScale(coeff[2], 0.488603 * z);\n      target.addScale(coeff[3], 0.488603 * x);\n\n      // band 2\n      target.addScale(coeff[4], 1.092548 * (x * y));\n      target.addScale(coeff[5], 1.092548 * (y * z));\n      target.addScale(coeff[6], 0.315392 * (3.0 * z * z - 1.0));\n      target.addScale(coeff[7], 1.092548 * (x * z));\n      target.addScale(coeff[8], 0.546274 * (x * x - y * y));\n\n      return target;\n\n    },\n\n    // get the irradiance (radiance convolved with cosine lobe) in the direction of the normal\n    // target is a Vector3\n    // https://graphics.stanford.edu/papers/envmap/envmap.pdf\n    getIrradianceAt: function(normal, target) {\n\n      // normal is assumed to be unit length\n\n      var x = normal.x,\n        y = normal.y,\n        z = normal.z;\n\n      var coeff = this.coefficients;\n\n      // band 0\n      target.copy(coeff[0]).multiplyScalar(0.886227); //  * 0.282095\n\n      // band 1\n      target.addScale(coeff[1], 2.0 * 0.511664 * y); // ( 2 *  / 3 ) * 0.488603\n      target.addScale(coeff[2], 2.0 * 0.511664 * z);\n      target.addScale(coeff[3], 2.0 * 0.511664 * x);\n\n      // band 2\n      target.addScale(coeff[4], 2.0 * 0.429043 * x * y); // (  / 4 ) * 1.092548\n      target.addScale(coeff[5], 2.0 * 0.429043 * y * z);\n      target.addScale(coeff[6], 0.743125 * z * z - 0.247708); // (  / 4 ) * 0.315392 * 3\n      target.addScale(coeff[7], 2.0 * 0.429043 * x * z);\n      target.addScale(coeff[8], 0.429043 * (x * x - y * y)); // (  / 4 ) * 0.546274\n\n      return target;\n\n    },\n\n    add: function(sh) {\n\n      for (var i = 0; i < 9; i++) {\n\n        this.coefficients[i].add(sh.coefficients[i]);\n\n      }\n\n      return this;\n\n    },\n\n\n    scale: function(s) {\n\n      for (var i = 0; i < 9; i++) {\n\n        this.coefficients[i].multiplyScalar(s);\n\n      }\n\n      return this;\n\n    },\n\n    lerp: function(sh, alpha) {\n\n      for (var i = 0; i < 9; i++) {\n\n        this.coefficients[i].lerp(sh.coefficients[i], alpha);\n\n      }\n\n      return this;\n\n    },\n\n    equals: function(sh) {\n\n      for (var i = 0; i < 9; i++) {\n\n        if (!this.coefficients[i].equals(sh.coefficients[i])) {\n\n          return false;\n\n        }\n\n      }\n\n      return true;\n\n    },\n\n    copy: function(sh) {\n\n      return this.set(sh.coefficients);\n\n    },\n\n    clone: function() {\n\n      return new this.constructor().copy(this);\n\n    },\n\n    fromArray: function(array, offset) {\n\n      if (offset === undefined) {\n        offset = 0;\n      }\n\n      var coefficients = this.coefficients;\n\n      for (var i = 0; i < 9; i++) {\n\n        coefficients[i].fromArray(array, offset + (i * 3));\n\n      }\n\n      return this;\n\n    },\n\n    toArray: function(array, offset) {\n\n      if (array === undefined) {\n        array = [];\n      }\n      if (offset === undefined) {\n        offset = 0;\n      }\n\n      var coefficients = this.coefficients;\n\n      for (var i = 0; i < 9; i++) {\n\n        coefficients[i].toArray(array, offset + (i * 3));\n\n      }\n\n      return array;\n\n    }\n\n  });\n\n  Object.assign(SphericalHarmonics3, {\n\n    // evaluate the basis functions\n    // shBasis is an Array[ 9 ]\n    getBasisAt: function(normal, shBasis) {\n\n      // normal is assumed to be unit length\n\n      var x = normal.x,\n        y = normal.y,\n        z = normal.z;\n\n      // band 0\n      shBasis[0] = 0.282095;\n\n      // band 1\n      shBasis[1] = 0.488603 * y;\n      shBasis[2] = 0.488603 * z;\n      shBasis[3] = 0.488603 * x;\n\n      // band 2\n      shBasis[4] = 1.092548 * x * y;\n      shBasis[5] = 1.092548 * y * z;\n      shBasis[6] = 0.315392 * (3 * z * z - 1);\n      shBasis[7] = 1.092548 * x * z;\n      shBasis[8] = 0.546274 * (x * x - y * y);\n\n    }\n\n  });\n\n  /**\n   * @author WestLangley / http://github.com/WestLangley\n   *\n   * A LightProbe is a source of indirect-diffuse light\n   */\n\n  function LightProbe(sh, intensity) {\n\n    Light.call(this, undefined, intensity);\n\n    this.sh = (sh !== undefined) ? sh : new SphericalHarmonics3();\n\n  }\n\n  LightProbe.prototype = Object.assign(Object.create(Light.prototype), {\n\n    constructor: LightProbe,\n\n    isLightProbe: true,\n\n    copy: function(source) {\n\n      Light.prototype.copy.call(this, source);\n\n      this.sh.copy(source.sh);\n      this.intensity = source.intensity;\n\n      return this;\n\n    },\n\n    toJSON: function(meta) {\n\n      var data = Light.prototype.toJSON.call(this, meta);\n\n      // data.sh = this.sh.toArray(); // todo\n\n      return data;\n\n    }\n\n  });\n\n  /**\n   * @author WestLangley / http://github.com/WestLangley\n   */\n\n  function HemisphereLightProbe(skyColor, groundColor, intensity) {\n\n    LightProbe.call(this, undefined, intensity);\n\n    var color1 = new Color().set(skyColor);\n    var color2 = new Color().set(groundColor);\n\n    var sky = new Vector3(color1.r, color1.g, color1.b);\n    var ground = new Vector3(color2.r, color2.g, color2.b);\n\n    // without extra factor of PI in the shader, should = 1 / Math.sqrt( Math.PI );\n    var c0 = Math.sqrt(Math.PI);\n    var c1 = c0 * Math.sqrt(0.75);\n\n    this.sh.coefficients[0].copy(sky).add(ground).multiplyScalar(c0);\n    this.sh.coefficients[1].copy(sky).sub(ground).multiplyScalar(c1);\n\n  }\n\n  HemisphereLightProbe.prototype = Object.assign(Object.create(LightProbe.prototype), {\n\n    constructor: HemisphereLightProbe,\n\n    isHemisphereLightProbe: true,\n\n    copy: function(source) { // modifying colors not currently supported\n\n      LightProbe.prototype.copy.call(this, source);\n\n      return this;\n\n    },\n\n    toJSON: function(meta) {\n\n      var data = LightProbe.prototype.toJSON.call(this, meta);\n\n      // data.sh = this.sh.toArray(); // todo\n\n      return data;\n\n    }\n\n  });\n\n  /**\n   * @author WestLangley / http://github.com/WestLangley\n   */\n\n  function AmbientLightProbe(color, intensity) {\n\n    LightProbe.call(this, undefined, intensity);\n\n    var color1 = new Color().set(color);\n\n    // without extra factor of PI in the shader, would be 2 / Math.sqrt( Math.PI );\n    this.sh.coefficients[0].set(color1.r, color1.g, color1.b).multiplyScalar(2 * Math.sqrt(Math.PI));\n\n  }\n\n  AmbientLightProbe.prototype = Object.assign(Object.create(LightProbe.prototype), {\n\n    constructor: AmbientLightProbe,\n\n    isAmbientLightProbe: true,\n\n    copy: function(source) { // modifying color not currently supported\n\n      LightProbe.prototype.copy.call(this, source);\n\n      return this;\n\n    },\n\n    toJSON: function(meta) {\n\n      var data = LightProbe.prototype.toJSON.call(this, meta);\n\n      // data.sh = this.sh.toArray(); // todo\n\n      return data;\n\n    }\n\n  });\n\n  var _eyeRight = new Matrix4();\n  var _eyeLeft = new Matrix4();\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function StereoCamera() {\n\n    this.type = 'StereoCamera';\n\n    this.aspect = 1;\n\n    this.eyeSep = 0.064;\n\n    this.cameraL = new PerspectiveCamera();\n    this.cameraL.layers.enable(1);\n    this.cameraL.matrixAutoUpdate = false;\n\n    this.cameraR = new PerspectiveCamera();\n    this.cameraR.layers.enable(2);\n    this.cameraR.matrixAutoUpdate = false;\n\n    this._cache = {\n      focus: null,\n      fov: null,\n      aspect: null,\n      near: null,\n      far: null,\n      zoom: null,\n      eyeSep: null\n    };\n\n  }\n\n  Object.assign(StereoCamera.prototype, {\n\n    update: function(camera) {\n\n      var cache = this._cache;\n\n      var needsUpdate = cache.focus !== camera.focus || cache.fov !== camera.fov ||\n        cache.aspect !== camera.aspect * this.aspect || cache.near !== camera.near ||\n        cache.far !== camera.far || cache.zoom !== camera.zoom || cache.eyeSep !== this.eyeSep;\n\n      if (needsUpdate) {\n\n        cache.focus = camera.focus;\n        cache.fov = camera.fov;\n        cache.aspect = camera.aspect * this.aspect;\n        cache.near = camera.near;\n        cache.far = camera.far;\n        cache.zoom = camera.zoom;\n        cache.eyeSep = this.eyeSep;\n\n        // Off-axis stereoscopic effect based on\n        // http://paulbourke.net/stereographics/stereorender/\n\n        var projectionMatrix = camera.projectionMatrix.clone();\n        var eyeSepHalf = cache.eyeSep / 2;\n        var eyeSepOnProjection = eyeSepHalf * cache.near / cache.focus;\n        var ymax = (cache.near * Math.tan(_Math.DEG2RAD * cache.fov * 0.5)) / cache.zoom;\n        var xmin, xmax;\n\n        // translate xOffset\n\n        _eyeLeft.elements[12] = -eyeSepHalf;\n        _eyeRight.elements[12] = eyeSepHalf;\n\n        // for left eye\n\n        xmin = -ymax * cache.aspect + eyeSepOnProjection;\n        xmax = ymax * cache.aspect + eyeSepOnProjection;\n\n        projectionMatrix.elements[0] = 2 * cache.near / (xmax - xmin);\n        projectionMatrix.elements[8] = (xmax + xmin) / (xmax - xmin);\n\n        this.cameraL.projectionMatrix.copy(projectionMatrix);\n\n        // for right eye\n\n        xmin = -ymax * cache.aspect - eyeSepOnProjection;\n        xmax = ymax * cache.aspect - eyeSepOnProjection;\n\n        projectionMatrix.elements[0] = 2 * cache.near / (xmax - xmin);\n        projectionMatrix.elements[8] = (xmax + xmin) / (xmax - xmin);\n\n        this.cameraR.projectionMatrix.copy(projectionMatrix);\n\n      }\n\n      this.cameraL.matrixWorld.copy(camera.matrixWorld).multiply(_eyeLeft);\n      this.cameraR.matrixWorld.copy(camera.matrixWorld).multiply(_eyeRight);\n\n    }\n\n  });\n\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n  function Clock(autoStart) {\n\n    this.autoStart = (autoStart !== undefined) ? autoStart : true;\n\n    this.startTime = 0;\n    this.oldTime = 0;\n    this.elapsedTime = 0;\n\n    this.running = false;\n\n  }\n\n  Object.assign(Clock.prototype, {\n\n    start: function() {\n\n      this.startTime = (typeof performance === 'undefined' ? Date : performance).now(); // see #10732\n\n      this.oldTime = this.startTime;\n      this.elapsedTime = 0;\n      this.running = true;\n\n    },\n\n    stop: function() {\n\n      this.getElapsedTime();\n      this.running = false;\n      this.autoStart = false;\n\n    },\n\n    getElapsedTime: function() {\n\n      this.getDelta();\n      return this.elapsedTime;\n\n    },\n\n    getDelta: function() {\n\n      var diff = 0;\n\n      if (this.autoStart && !this.running) {\n\n        this.start();\n        return 0;\n\n      }\n\n      if (this.running) {\n\n        var newTime = (typeof performance === 'undefined' ? Date : performance).now();\n\n        diff = (newTime - this.oldTime) / 1000;\n        this.oldTime = newTime;\n\n        this.elapsedTime += diff;\n\n      }\n\n      return diff;\n\n    }\n\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  var _position$2 = new Vector3();\n  var _quaternion$3 = new Quaternion();\n  var _scale$1 = new Vector3();\n  var _orientation = new Vector3();\n\n  function AudioListener() {\n\n    Object3D.call(this);\n\n    this.type = 'AudioListener';\n\n    this.context = AudioContext.getContext();\n\n    this.gain = this.context.createGain();\n    this.gain.connect(this.context.destination);\n\n    this.filter = null;\n\n    this.timeDelta = 0;\n\n    // private\n\n    this._clock = new Clock();\n\n  }\n\n  AudioListener.prototype = Object.assign(Object.create(Object3D.prototype), {\n\n    constructor: AudioListener,\n\n    getInput: function() {\n\n      return this.gain;\n\n    },\n\n    removeFilter: function() {\n\n      if (this.filter !== null) {\n\n        this.gain.disconnect(this.filter);\n        this.filter.disconnect(this.context.destination);\n        this.gain.connect(this.context.destination);\n        this.filter = null;\n\n      }\n\n      return this;\n\n    },\n\n    getFilter: function() {\n\n      return this.filter;\n\n    },\n\n    setFilter: function(value) {\n\n      if (this.filter !== null) {\n\n        this.gain.disconnect(this.filter);\n        this.filter.disconnect(this.context.destination);\n\n      } else {\n\n        this.gain.disconnect(this.context.destination);\n\n      }\n\n      this.filter = value;\n      this.gain.connect(this.filter);\n      this.filter.connect(this.context.destination);\n\n      return this;\n\n    },\n\n    getMasterVolume: function() {\n\n      return this.gain.gain.value;\n\n    },\n\n    setMasterVolume: function(value) {\n\n      this.gain.gain.setTargetAtTime(value, this.context.currentTime, 0.01);\n\n      return this;\n\n    },\n\n    updateMatrixWorld: function(force) {\n\n      Object3D.prototype.updateMatrixWorld.call(this, force);\n\n      var listener = this.context.listener;\n      var up = this.up;\n\n      this.timeDelta = this._clock.getDelta();\n\n      this.matrixWorld.decompose(_position$2, _quaternion$3, _scale$1);\n\n      _orientation.set(0, 0, -1).applyQuaternion(_quaternion$3);\n\n      if (listener.positionX) {\n\n        // code path for Chrome (see #14393)\n\n        var endTime = this.context.currentTime + this.timeDelta;\n\n        listener.positionX.linearRampToValueAtTime(_position$2.x, endTime);\n        listener.positionY.linearRampToValueAtTime(_position$2.y, endTime);\n        listener.positionZ.linearRampToValueAtTime(_position$2.z, endTime);\n        listener.forwardX.linearRampToValueAtTime(_orientation.x, endTime);\n        listener.forwardY.linearRampToValueAtTime(_orientation.y, endTime);\n        listener.forwardZ.linearRampToValueAtTime(_orientation.z, endTime);\n        listener.upX.linearRampToValueAtTime(up.x, endTime);\n        listener.upY.linearRampToValueAtTime(up.y, endTime);\n        listener.upZ.linearRampToValueAtTime(up.z, endTime);\n\n      } else {\n\n        listener.setPosition(_position$2.x, _position$2.y, _position$2.z);\n        listener.setOrientation(_orientation.x, _orientation.y, _orientation.z, up.x, up.y, up.z);\n\n      }\n\n    }\n\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author Reece Aaron Lecrivain / http://reecenotes.com/\n   */\n\n  function Audio(listener) {\n\n    Object3D.call(this);\n\n    this.type = 'Audio';\n\n    this.listener = listener;\n    this.context = listener.context;\n\n    this.gain = this.context.createGain();\n    this.gain.connect(listener.getInput());\n\n    this.autoplay = false;\n\n    this.buffer = null;\n    this.detune = 0;\n    this.loop = false;\n    this.loopStart = 0;\n    this.loopEnd = 0;\n    this.offset = 0;\n    this.duration = undefined;\n    this.playbackRate = 1;\n    this.isPlaying = false;\n    this.hasPlaybackControl = true;\n    this.sourceType = 'empty';\n\n    this._startedAt = 0;\n    this._pausedAt = 0;\n\n    this.filters = [];\n\n  }\n\n  Audio.prototype = Object.assign(Object.create(Object3D.prototype), {\n\n    constructor: Audio,\n\n    getOutput: function() {\n\n      return this.gain;\n\n    },\n\n    setNodeSource: function(audioNode) {\n\n      this.hasPlaybackControl = false;\n      this.sourceType = 'audioNode';\n      this.source = audioNode;\n      this.connect();\n\n      return this;\n\n    },\n\n    setMediaElementSource: function(mediaElement) {\n\n      this.hasPlaybackControl = false;\n      this.sourceType = 'mediaNode';\n      this.source = this.context.createMediaElementSource(mediaElement);\n      this.connect();\n\n      return this;\n\n    },\n\n    setMediaStreamSource: function(mediaStream) {\n\n      this.hasPlaybackControl = false;\n      this.sourceType = 'mediaStreamNode';\n      this.source = this.context.createMediaStreamSource(mediaStream);\n      this.connect();\n\n      return this;\n\n    },\n\n    setBuffer: function(audioBuffer) {\n\n      this.buffer = audioBuffer;\n      this.sourceType = 'buffer';\n\n      if (this.autoplay) {\n        this.play();\n      }\n\n      return this;\n\n    },\n\n    play: function(delay) {\n\n      if (delay === undefined) {\n        delay = 0;\n      }\n\n      if (this.isPlaying === true) {\n\n        console.warn('THREE.Audio: Audio is already playing.');\n        return;\n\n      }\n\n      if (this.hasPlaybackControl === false) {\n\n        console.warn('THREE.Audio: this Audio has no playback control.');\n        return;\n\n      }\n\n      this._startedAt = this.context.currentTime + delay;\n\n      var source = this.context.createBufferSource();\n      source.buffer = this.buffer;\n      source.loop = this.loop;\n      source.loopStart = this.loopStart;\n      source.loopEnd = this.loopEnd;\n      source.onended = this.onEnded.bind(this);\n      source.start(this._startedAt, this._pausedAt + this.offset, this.duration);\n\n      this.isPlaying = true;\n\n      this.source = source;\n\n      this.setDetune(this.detune);\n      this.setPlaybackRate(this.playbackRate);\n\n      return this.connect();\n\n    },\n\n    pause: function() {\n\n      if (this.hasPlaybackControl === false) {\n\n        console.warn('THREE.Audio: this Audio has no playback control.');\n        return;\n\n      }\n\n      if (this.isPlaying === true) {\n\n        this._pausedAt = (this.context.currentTime - this._startedAt) * this.playbackRate;\n\n        this.source.stop();\n        this.source.onended = null;\n\n        this.isPlaying = false;\n\n      }\n\n      return this;\n\n    },\n\n    stop: function() {\n\n      if (this.hasPlaybackControl === false) {\n\n        console.warn('THREE.Audio: this Audio has no playback control.');\n        return;\n\n      }\n\n      this._pausedAt = 0;\n\n      this.source.stop();\n      this.source.onended = null;\n      this.isPlaying = false;\n\n      return this;\n\n    },\n\n    connect: function() {\n\n      if (this.filters.length > 0) {\n\n        this.source.connect(this.filters[0]);\n\n        for (var i = 1, l = this.filters.length; i < l; i++) {\n\n          this.filters[i - 1].connect(this.filters[i]);\n\n        }\n\n        this.filters[this.filters.length - 1].connect(this.getOutput());\n\n      } else {\n\n        this.source.connect(this.getOutput());\n\n      }\n\n      return this;\n\n    },\n\n    disconnect: function() {\n\n      if (this.filters.length > 0) {\n\n        this.source.disconnect(this.filters[0]);\n\n        for (var i = 1, l = this.filters.length; i < l; i++) {\n\n          this.filters[i - 1].disconnect(this.filters[i]);\n\n        }\n\n        this.filters[this.filters.length - 1].disconnect(this.getOutput());\n\n      } else {\n\n        this.source.disconnect(this.getOutput());\n\n      }\n\n      return this;\n\n    },\n\n    getFilters: function() {\n\n      return this.filters;\n\n    },\n\n    setFilters: function(value) {\n\n      if (!value) {\n        value = [];\n      }\n\n      if (this.isPlaying === true) {\n\n        this.disconnect();\n        this.filters = value;\n        this.connect();\n\n      } else {\n\n        this.filters = value;\n\n      }\n\n      return this;\n\n    },\n\n    setDetune: function(value) {\n\n      this.detune = value;\n\n      if (this.source.detune === undefined) {\n        return;\n      } // only set detune when available\n\n      if (this.isPlaying === true) {\n\n        this.source.detune.setTargetAtTime(this.detune, this.context.currentTime, 0.01);\n\n      }\n\n      return this;\n\n    },\n\n    getDetune: function() {\n\n      return this.detune;\n\n    },\n\n    getFilter: function() {\n\n      return this.getFilters()[0];\n\n    },\n\n    setFilter: function(filter) {\n\n      return this.setFilters(filter ? [filter] : []);\n\n    },\n\n    setPlaybackRate: function(value) {\n\n      if (this.hasPlaybackControl === false) {\n\n        console.warn('THREE.Audio: this Audio has no playback control.');\n        return;\n\n      }\n\n      this.playbackRate = value;\n\n      if (this.isPlaying === true) {\n\n        this.source.playbackRate.setTargetAtTime(this.playbackRate, this.context.currentTime, 0.01);\n\n      }\n\n      return this;\n\n    },\n\n    getPlaybackRate: function() {\n\n      return this.playbackRate;\n\n    },\n\n    onEnded: function() {\n\n      this.isPlaying = false;\n\n    },\n\n    getLoop: function() {\n\n      if (this.hasPlaybackControl === false) {\n\n        console.warn('THREE.Audio: this Audio has no playback control.');\n        return false;\n\n      }\n\n      return this.loop;\n\n    },\n\n    setLoop: function(value) {\n\n      if (this.hasPlaybackControl === false) {\n\n        console.warn('THREE.Audio: this Audio has no playback control.');\n        return;\n\n      }\n\n      this.loop = value;\n\n      if (this.isPlaying === true) {\n\n        this.source.loop = this.loop;\n\n      }\n\n      return this;\n\n    },\n\n    setLoopStart: function(value) {\n\n      this.loopStart = value;\n\n      return this;\n\n    },\n\n    setLoopEnd: function(value) {\n\n      this.loopEnd = value;\n\n      return this;\n\n    },\n\n    getVolume: function() {\n\n      return this.gain.gain.value;\n\n    },\n\n    setVolume: function(value) {\n\n      this.gain.gain.setTargetAtTime(value, this.context.currentTime, 0.01);\n\n      return this;\n\n    }\n\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  var _position$3 = new Vector3();\n  var _quaternion$4 = new Quaternion();\n  var _scale$2 = new Vector3();\n  var _orientation$1 = new Vector3();\n\n  function PositionalAudio(listener) {\n\n    Audio.call(this, listener);\n\n    this.panner = this.context.createPanner();\n    this.panner.panningModel = 'HRTF';\n    this.panner.connect(this.gain);\n\n  }\n\n  PositionalAudio.prototype = Object.assign(Object.create(Audio.prototype), {\n\n    constructor: PositionalAudio,\n\n    getOutput: function() {\n\n      return this.panner;\n\n    },\n\n    getRefDistance: function() {\n\n      return this.panner.refDistance;\n\n    },\n\n    setRefDistance: function(value) {\n\n      this.panner.refDistance = value;\n\n      return this;\n\n    },\n\n    getRolloffFactor: function() {\n\n      return this.panner.rolloffFactor;\n\n    },\n\n    setRolloffFactor: function(value) {\n\n      this.panner.rolloffFactor = value;\n\n      return this;\n\n    },\n\n    getDistanceModel: function() {\n\n      return this.panner.distanceModel;\n\n    },\n\n    setDistanceModel: function(value) {\n\n      this.panner.distanceModel = value;\n\n      return this;\n\n    },\n\n    getMaxDistance: function() {\n\n      return this.panner.maxDistance;\n\n    },\n\n    setMaxDistance: function(value) {\n\n      this.panner.maxDistance = value;\n\n      return this;\n\n    },\n\n    setDirectionalCone: function(coneInnerAngle, coneOuterAngle, coneOuterGain) {\n\n      this.panner.coneInnerAngle = coneInnerAngle;\n      this.panner.coneOuterAngle = coneOuterAngle;\n      this.panner.coneOuterGain = coneOuterGain;\n\n      return this;\n\n    },\n\n    updateMatrixWorld: function(force) {\n\n      Object3D.prototype.updateMatrixWorld.call(this, force);\n\n      if (this.hasPlaybackControl === true && this.isPlaying === false) {\n        return;\n      }\n\n      this.matrixWorld.decompose(_position$3, _quaternion$4, _scale$2);\n\n      _orientation$1.set(0, 0, 1).applyQuaternion(_quaternion$4);\n\n      var panner = this.panner;\n\n      if (panner.positionX) {\n\n        // code path for Chrome and Firefox (see #14393)\n\n        var endTime = this.context.currentTime + this.listener.timeDelta;\n\n        panner.positionX.linearRampToValueAtTime(_position$3.x, endTime);\n        panner.positionY.linearRampToValueAtTime(_position$3.y, endTime);\n        panner.positionZ.linearRampToValueAtTime(_position$3.z, endTime);\n        panner.orientationX.linearRampToValueAtTime(_orientation$1.x, endTime);\n        panner.orientationY.linearRampToValueAtTime(_orientation$1.y, endTime);\n        panner.orientationZ.linearRampToValueAtTime(_orientation$1.z, endTime);\n\n      } else {\n\n        panner.setPosition(_position$3.x, _position$3.y, _position$3.z);\n        panner.setOrientation(_orientation$1.x, _orientation$1.y, _orientation$1.z);\n\n      }\n\n    }\n\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function AudioAnalyser(audio, fftSize) {\n\n    this.analyser = audio.context.createAnalyser();\n    this.analyser.fftSize = fftSize !== undefined ? fftSize : 2048;\n\n    this.data = new Uint8Array(this.analyser.frequencyBinCount);\n\n    audio.getOutput().connect(this.analyser);\n\n  }\n\n  Object.assign(AudioAnalyser.prototype, {\n\n    getFrequencyData: function() {\n\n      this.analyser.getByteFrequencyData(this.data);\n\n      return this.data;\n\n    },\n\n    getAverageFrequency: function() {\n\n      var value = 0,\n        data = this.getFrequencyData();\n\n      for (var i = 0; i < data.length; i++) {\n\n        value += data[i];\n\n      }\n\n      return value / data.length;\n\n    }\n\n  });\n\n  /**\n   *\n   * Buffered scene graph property that allows weighted accumulation.\n   *\n   *\n   * @author Ben Houston / http://clara.io/\n   * @author David Sarno / http://lighthaus.us/\n   * @author tschw\n   */\n\n  function PropertyMixer(binding, typeName, valueSize) {\n\n    this.binding = binding;\n    this.valueSize = valueSize;\n\n    var bufferType = Float64Array,\n      mixFunction;\n\n    switch (typeName) {\n\n      case 'quaternion':\n        mixFunction = this._slerp;\n        break;\n\n      case 'string':\n      case 'bool':\n        bufferType = Array;\n        mixFunction = this._select;\n        break;\n\n      default:\n        mixFunction = this._lerp;\n\n    }\n\n    this.buffer = new bufferType(valueSize * 4);\n    // layout: [ incoming | accu0 | accu1 | orig ]\n    //\n    // interpolators can use .buffer as their .result\n    // the data then goes to 'incoming'\n    //\n    // 'accu0' and 'accu1' are used frame-interleaved for\n    // the cumulative result and are compared to detect\n    // changes\n    //\n    // 'orig' stores the original state of the property\n\n    this._mixBufferRegion = mixFunction;\n\n    this.cumulativeWeight = 0;\n\n    this.useCount = 0;\n    this.referenceCount = 0;\n\n  }\n\n  Object.assign(PropertyMixer.prototype, {\n\n    // accumulate data in the 'incoming' region into 'accu<i>'\n    accumulate: function(accuIndex, weight) {\n\n      // note: happily accumulating nothing when weight = 0, the caller knows\n      // the weight and shouldn't have made the call in the first place\n\n      var buffer = this.buffer,\n        stride = this.valueSize,\n        offset = accuIndex * stride + stride,\n\n        currentWeight = this.cumulativeWeight;\n\n      if (currentWeight === 0) {\n\n        // accuN := incoming * weight\n\n        for (var i = 0; i !== stride; ++i) {\n\n          buffer[offset + i] = buffer[i];\n\n        }\n\n        currentWeight = weight;\n\n      } else {\n\n        // accuN := accuN + incoming * weight\n\n        currentWeight += weight;\n        var mix = weight / currentWeight;\n        this._mixBufferRegion(buffer, offset, 0, mix, stride);\n\n      }\n\n      this.cumulativeWeight = currentWeight;\n\n    },\n\n    // apply the state of 'accu<i>' to the binding when accus differ\n    apply: function(accuIndex) {\n\n      var stride = this.valueSize,\n        buffer = this.buffer,\n        offset = accuIndex * stride + stride,\n\n        weight = this.cumulativeWeight,\n\n        binding = this.binding;\n\n      this.cumulativeWeight = 0;\n\n      if (weight < 1) {\n\n        // accuN := accuN + original * ( 1 - cumulativeWeight )\n\n        var originalValueOffset = stride * 3;\n\n        this._mixBufferRegion(\n          buffer, offset, originalValueOffset, 1 - weight, stride);\n\n      }\n\n      for (var i = stride, e = stride + stride; i !== e; ++i) {\n\n        if (buffer[i] !== buffer[i + stride]) {\n\n          // value has changed -> update scene graph\n\n          binding.setValue(buffer, offset);\n          break;\n\n        }\n\n      }\n\n    },\n\n    // remember the state of the bound property and copy it to both accus\n    saveOriginalState: function() {\n\n      var binding = this.binding;\n\n      var buffer = this.buffer,\n        stride = this.valueSize,\n\n        originalValueOffset = stride * 3;\n\n      binding.getValue(buffer, originalValueOffset);\n\n      // accu[0..1] := orig -- initially detect changes against the original\n      for (var i = stride, e = originalValueOffset; i !== e; ++i) {\n\n        buffer[i] = buffer[originalValueOffset + (i % stride)];\n\n      }\n\n      this.cumulativeWeight = 0;\n\n    },\n\n    // apply the state previously taken via 'saveOriginalState' to the binding\n    restoreOriginalState: function() {\n\n      var originalValueOffset = this.valueSize * 3;\n      this.binding.setValue(this.buffer, originalValueOffset);\n\n    },\n\n\n    // mix functions\n\n    _select: function(buffer, dstOffset, srcOffset, t, stride) {\n\n      if (t >= 0.5) {\n\n        for (var i = 0; i !== stride; ++i) {\n\n          buffer[dstOffset + i] = buffer[srcOffset + i];\n\n        }\n\n      }\n\n    },\n\n    _slerp: function(buffer, dstOffset, srcOffset, t) {\n\n      Quaternion.slerpFlat(buffer, dstOffset, buffer, dstOffset, buffer, srcOffset, t);\n\n    },\n\n    _lerp: function(buffer, dstOffset, srcOffset, t, stride) {\n\n      var s = 1 - t;\n\n      for (var i = 0; i !== stride; ++i) {\n\n        var j = dstOffset + i;\n\n        buffer[j] = buffer[j] * s + buffer[srcOffset + i] * t;\n\n      }\n\n    }\n\n  });\n\n  /**\n   *\n   * A reference to a real property in the scene graph.\n   *\n   *\n   * @author Ben Houston / http://clara.io/\n   * @author David Sarno / http://lighthaus.us/\n   * @author tschw\n   */\n\n  // Characters [].:/ are reserved for track binding syntax.\n  var _RESERVED_CHARS_RE = '\\\\[\\\\]\\\\.:\\\\/';\n  var _reservedRe = new RegExp('[' + _RESERVED_CHARS_RE + ']', 'g');\n\n  // Attempts to allow node names from any language. ES5's `\\w` regexp matches\n  // only latin characters, and the unicode \\p{L} is not yet supported. So\n  // instead, we exclude reserved characters and match everything else.\n  var _wordChar = '[^' + _RESERVED_CHARS_RE + ']';\n  var _wordCharOrDot = '[^' + _RESERVED_CHARS_RE.replace('\\\\.', '') + ']';\n\n  // Parent directories, delimited by '/' or ':'. Currently unused, but must\n  // be matched to parse the rest of the track name.\n  var _directoryRe = /((?:WC+[\\/:])*)/.source.replace('WC', _wordChar);\n\n  // Target node. May contain word characters (a-zA-Z0-9_) and '.' or '-'.\n  var _nodeRe = /(WCOD+)?/.source.replace('WCOD', _wordCharOrDot);\n\n  // Object on target node, and accessor. May not contain reserved\n  // characters. Accessor may contain any character except closing bracket.\n  var _objectRe = /(?:\\.(WC+)(?:\\[(.+)\\])?)?/.source.replace('WC', _wordChar);\n\n  // Property and accessor. May not contain reserved characters. Accessor may\n  // contain any non-bracket characters.\n  var _propertyRe = /\\.(WC+)(?:\\[(.+)\\])?/.source.replace('WC', _wordChar);\n\n  var _trackRe = new RegExp('' +\n    '^' +\n    _directoryRe +\n    _nodeRe +\n    _objectRe +\n    _propertyRe +\n    '$'\n  );\n\n  var _supportedObjectNames = ['material', 'materials', 'bones'];\n\n  function Composite(targetGroup, path, optionalParsedPath) {\n\n    var parsedPath = optionalParsedPath || PropertyBinding.parseTrackName(path);\n\n    this._targetGroup = targetGroup;\n    this._bindings = targetGroup.subscribe_(path, parsedPath);\n\n  }\n\n  Object.assign(Composite.prototype, {\n\n    getValue: function(array, offset) {\n\n      this.bind(); // bind all binding\n\n      var firstValidIndex = this._targetGroup.nCachedObjects_,\n        binding = this._bindings[firstValidIndex];\n\n      // and only call .getValue on the first\n      if (binding !== undefined) {\n        binding.getValue(array, offset);\n      }\n\n    },\n\n    setValue: function(array, offset) {\n\n      var bindings = this._bindings;\n\n      for (var i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++i) {\n\n        bindings[i].setValue(array, offset);\n\n      }\n\n    },\n\n    bind: function() {\n\n      var bindings = this._bindings;\n\n      for (var i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++i) {\n\n        bindings[i].bind();\n\n      }\n\n    },\n\n    unbind: function() {\n\n      var bindings = this._bindings;\n\n      for (var i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++i) {\n\n        bindings[i].unbind();\n\n      }\n\n    }\n\n  });\n\n\n  function PropertyBinding(rootNode, path, parsedPath) {\n\n    this.path = path;\n    this.parsedPath = parsedPath || PropertyBinding.parseTrackName(path);\n\n    this.node = PropertyBinding.findNode(rootNode, this.parsedPath.nodeName) || rootNode;\n\n    this.rootNode = rootNode;\n\n  }\n\n  Object.assign(PropertyBinding, {\n\n    Composite: Composite,\n\n    create: function(root, path, parsedPath) {\n\n      if (!(root && root.isAnimationObjectGroup)) {\n\n        return new PropertyBinding(root, path, parsedPath);\n\n      } else {\n\n        return new PropertyBinding.Composite(root, path, parsedPath);\n\n      }\n\n    },\n\n    /**\n     * Replaces spaces with underscores and removes unsupported characters from\n     * node names, to ensure compatibility with parseTrackName().\n     *\n     * @param {string} name Node name to be sanitized.\n     * @return {string}\n     */\n    sanitizeNodeName: function(name) {\n\n      return name.replace(/\\s/g, '_').replace(_reservedRe, '');\n\n    },\n\n    parseTrackName: function(trackName) {\n\n      var matches = _trackRe.exec(trackName);\n\n      if (!matches) {\n\n        throw new Error('PropertyBinding: Cannot parse trackName: ' + trackName);\n\n      }\n\n      var results = {\n        // directoryName: matches[ 1 ], // (tschw) currently unused\n        nodeName: matches[2],\n        objectName: matches[3],\n        objectIndex: matches[4],\n        propertyName: matches[5], // required\n        propertyIndex: matches[6]\n      };\n\n      var lastDot = results.nodeName && results.nodeName.lastIndexOf('.');\n\n      if (lastDot !== undefined && lastDot !== -1) {\n\n        var objectName = results.nodeName.substring(lastDot + 1);\n\n        // Object names must be checked against a whitelist. Otherwise, there\n        // is no way to parse 'foo.bar.baz': 'baz' must be a property, but\n        // 'bar' could be the objectName, or part of a nodeName (which can\n        // include '.' characters).\n        if (_supportedObjectNames.indexOf(objectName) !== -1) {\n\n          results.nodeName = results.nodeName.substring(0, lastDot);\n          results.objectName = objectName;\n\n        }\n\n      }\n\n      if (results.propertyName === null || results.propertyName.length === 0) {\n\n        throw new Error('PropertyBinding: can not parse propertyName from trackName: ' + trackName);\n\n      }\n\n      return results;\n\n    },\n\n    findNode: function(root, nodeName) {\n\n      if (!nodeName || nodeName === \"\" || nodeName === \"root\" || nodeName === \".\" || nodeName === -1 || nodeName === root.name || nodeName === root.uuid) {\n\n        return root;\n\n      }\n\n      // search into skeleton bones.\n      if (root.skeleton) {\n\n        var bone = root.skeleton.getBoneByName(nodeName);\n\n        if (bone !== undefined) {\n\n          return bone;\n\n        }\n\n      }\n\n      // search into node subtree.\n      if (root.children) {\n\n        var searchNodeSubtree = function(children) {\n\n          for (var i = 0; i < children.length; i++) {\n\n            var childNode = children[i];\n\n            if (childNode.name === nodeName || childNode.uuid === nodeName) {\n\n              return childNode;\n\n            }\n\n            var result = searchNodeSubtree(childNode.children);\n\n            if (result) {\n              return result;\n            }\n\n          }\n\n          return null;\n\n        };\n\n        var subTreeNode = searchNodeSubtree(root.children);\n\n        if (subTreeNode) {\n\n          return subTreeNode;\n\n        }\n\n      }\n\n      return null;\n\n    }\n\n  });\n\n  Object.assign(PropertyBinding.prototype, { // prototype, continued\n\n    // these are used to \"bind\" a nonexistent property\n    _getValue_unavailable: function() {},\n    _setValue_unavailable: function() {},\n\n    BindingType: {\n      Direct: 0,\n      EntireArray: 1,\n      ArrayElement: 2,\n      HasFromToArray: 3\n    },\n\n    Versioning: {\n      None: 0,\n      NeedsUpdate: 1,\n      MatrixWorldNeedsUpdate: 2\n    },\n\n    GetterByBindingType: [\n\n      function getValue_direct(buffer, offset) {\n\n        buffer[offset] = this.node[this.propertyName];\n\n      },\n\n      function getValue_array(buffer, offset) {\n\n        var source = this.resolvedProperty;\n\n        for (var i = 0, n = source.length; i !== n; ++i) {\n\n          buffer[offset++] = source[i];\n\n        }\n\n      },\n\n      function getValue_arrayElement(buffer, offset) {\n\n        buffer[offset] = this.resolvedProperty[this.propertyIndex];\n\n      },\n\n      function getValue_toArray(buffer, offset) {\n\n        this.resolvedProperty.toArray(buffer, offset);\n\n      }\n\n    ],\n\n    SetterByBindingTypeAndVersioning: [\n\n      [\n        // Direct\n\n        function setValue_direct(buffer, offset) {\n\n          this.targetObject[this.propertyName] = buffer[offset];\n\n        },\n\n        function setValue_direct_setNeedsUpdate(buffer, offset) {\n\n          this.targetObject[this.propertyName] = buffer[offset];\n          this.targetObject.needsUpdate = true;\n\n        },\n\n        function setValue_direct_setMatrixWorldNeedsUpdate(buffer, offset) {\n\n          this.targetObject[this.propertyName] = buffer[offset];\n          this.targetObject.matrixWorldNeedsUpdate = true;\n\n        }\n\n      ],\n      [\n\n        // EntireArray\n\n        function setValue_array(buffer, offset) {\n\n          var dest = this.resolvedProperty;\n\n          for (var i = 0, n = dest.length; i !== n; ++i) {\n\n            dest[i] = buffer[offset++];\n\n          }\n\n        },\n\n        function setValue_array_setNeedsUpdate(buffer, offset) {\n\n          var dest = this.resolvedProperty;\n\n          for (var i = 0, n = dest.length; i !== n; ++i) {\n\n            dest[i] = buffer[offset++];\n\n          }\n\n          this.targetObject.needsUpdate = true;\n\n        },\n\n        function setValue_array_setMatrixWorldNeedsUpdate(buffer, offset) {\n\n          var dest = this.resolvedProperty;\n\n          for (var i = 0, n = dest.length; i !== n; ++i) {\n\n            dest[i] = buffer[offset++];\n\n          }\n\n          this.targetObject.matrixWorldNeedsUpdate = true;\n\n        }\n\n      ],\n      [\n\n        // ArrayElement\n\n        function setValue_arrayElement(buffer, offset) {\n\n          this.resolvedProperty[this.propertyIndex] = buffer[offset];\n\n        },\n\n        function setValue_arrayElement_setNeedsUpdate(buffer, offset) {\n\n          this.resolvedProperty[this.propertyIndex] = buffer[offset];\n          this.targetObject.needsUpdate = true;\n\n        },\n\n        function setValue_arrayElement_setMatrixWorldNeedsUpdate(buffer, offset) {\n\n          this.resolvedProperty[this.propertyIndex] = buffer[offset];\n          this.targetObject.matrixWorldNeedsUpdate = true;\n\n        }\n\n      ],\n      [\n\n        // HasToFromArray\n\n        function setValue_fromArray(buffer, offset) {\n\n          this.resolvedProperty.fromArray(buffer, offset);\n\n        },\n\n        function setValue_fromArray_setNeedsUpdate(buffer, offset) {\n\n          this.resolvedProperty.fromArray(buffer, offset);\n          this.targetObject.needsUpdate = true;\n\n        },\n\n        function setValue_fromArray_setMatrixWorldNeedsUpdate(buffer, offset) {\n\n          this.resolvedProperty.fromArray(buffer, offset);\n          this.targetObject.matrixWorldNeedsUpdate = true;\n\n        }\n\n      ]\n\n    ],\n\n    getValue: function getValue_unbound(targetArray, offset) {\n\n      this.bind();\n      this.getValue(targetArray, offset);\n\n      // Note: This class uses a State pattern on a per-method basis:\n      // 'bind' sets 'this.getValue' / 'setValue' and shadows the\n      // prototype version of these methods with one that represents\n      // the bound state. When the property is not found, the methods\n      // become no-ops.\n\n    },\n\n    setValue: function getValue_unbound(sourceArray, offset) {\n\n      this.bind();\n      this.setValue(sourceArray, offset);\n\n    },\n\n    // create getter / setter pair for a property in the scene graph\n    bind: function() {\n\n      var targetObject = this.node,\n        parsedPath = this.parsedPath,\n\n        objectName = parsedPath.objectName,\n        propertyName = parsedPath.propertyName,\n        propertyIndex = parsedPath.propertyIndex;\n\n      if (!targetObject) {\n\n        targetObject = PropertyBinding.findNode(this.rootNode, parsedPath.nodeName) || this.rootNode;\n\n        this.node = targetObject;\n\n      }\n\n      // set fail state so we can just 'return' on error\n      this.getValue = this._getValue_unavailable;\n      this.setValue = this._setValue_unavailable;\n\n      // ensure there is a value node\n      if (!targetObject) {\n\n        console.error('THREE.PropertyBinding: Trying to update node for track: ' + this.path + ' but it wasn\\'t found.');\n        return;\n\n      }\n\n      if (objectName) {\n\n        var objectIndex = parsedPath.objectIndex;\n\n        // special cases were we need to reach deeper into the hierarchy to get the face materials....\n        switch (objectName) {\n\n          case 'materials':\n\n            if (!targetObject.material) {\n\n              console.error('THREE.PropertyBinding: Can not bind to material as node does not have a material.', this);\n              return;\n\n            }\n\n            if (!targetObject.material.materials) {\n\n              console.error('THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.', this);\n              return;\n\n            }\n\n            targetObject = targetObject.material.materials;\n\n            break;\n\n          case 'bones':\n\n            if (!targetObject.skeleton) {\n\n              console.error('THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.', this);\n              return;\n\n            }\n\n            // potential future optimization: skip this if propertyIndex is already an integer\n            // and convert the integer string to a true integer.\n\n            targetObject = targetObject.skeleton.bones;\n\n            // support resolving morphTarget names into indices.\n            for (var i = 0; i < targetObject.length; i++) {\n\n              if (targetObject[i].name === objectIndex) {\n\n                objectIndex = i;\n                break;\n\n              }\n\n            }\n\n            break;\n\n          default:\n\n            if (targetObject[objectName] === undefined) {\n\n              console.error('THREE.PropertyBinding: Can not bind to objectName of node undefined.', this);\n              return;\n\n            }\n\n            targetObject = targetObject[objectName];\n\n        }\n\n\n        if (objectIndex !== undefined) {\n\n          if (targetObject[objectIndex] === undefined) {\n\n            console.error('THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.', this, targetObject);\n            return;\n\n          }\n\n          targetObject = targetObject[objectIndex];\n\n        }\n\n      }\n\n      // resolve property\n      var nodeProperty = targetObject[propertyName];\n\n      if (nodeProperty === undefined) {\n\n        var nodeName = parsedPath.nodeName;\n\n        console.error('THREE.PropertyBinding: Trying to update property for track: ' + nodeName +\n          '.' + propertyName + ' but it wasn\\'t found.', targetObject);\n        return;\n\n      }\n\n      // determine versioning scheme\n      var versioning = this.Versioning.None;\n\n      this.targetObject = targetObject;\n\n      if (targetObject.needsUpdate !== undefined) { // material\n\n        versioning = this.Versioning.NeedsUpdate;\n\n      } else if (targetObject.matrixWorldNeedsUpdate !== undefined) { // node transform\n\n        versioning = this.Versioning.MatrixWorldNeedsUpdate;\n\n      }\n\n      // determine how the property gets bound\n      var bindingType = this.BindingType.Direct;\n\n      if (propertyIndex !== undefined) {\n\n        // access a sub element of the property array (only primitives are supported right now)\n\n        if (propertyName === \"morphTargetInfluences\") {\n\n          // potential optimization, skip this if propertyIndex is already an integer, and convert the integer string to a true integer.\n\n          // support resolving morphTarget names into indices.\n          if (!targetObject.geometry) {\n\n            console.error('THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.', this);\n            return;\n\n          }\n\n          if (targetObject.geometry.isBufferGeometry) {\n\n            if (!targetObject.geometry.morphAttributes) {\n\n              console.error('THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.', this);\n              return;\n\n            }\n\n            for (var i = 0; i < this.node.geometry.morphAttributes.position.length; i++) {\n\n              if (targetObject.geometry.morphAttributes.position[i].name === propertyIndex) {\n\n                propertyIndex = i;\n                break;\n\n              }\n\n            }\n\n\n          } else {\n\n            if (!targetObject.geometry.morphTargets) {\n\n              console.error('THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.', this);\n              return;\n\n            }\n\n            for (var i = 0; i < this.node.geometry.morphTargets.length; i++) {\n\n              if (targetObject.geometry.morphTargets[i].name === propertyIndex) {\n\n                propertyIndex = i;\n                break;\n\n              }\n\n            }\n\n          }\n\n        }\n\n        bindingType = this.BindingType.ArrayElement;\n\n        this.resolvedProperty = nodeProperty;\n        this.propertyIndex = propertyIndex;\n\n      } else if (nodeProperty.fromArray !== undefined && nodeProperty.toArray !== undefined) {\n\n        // must use copy for Object3D.Euler/Quaternion\n\n        bindingType = this.BindingType.HasFromToArray;\n\n        this.resolvedProperty = nodeProperty;\n\n      } else if (Array.isArray(nodeProperty)) {\n\n        bindingType = this.BindingType.EntireArray;\n\n        this.resolvedProperty = nodeProperty;\n\n      } else {\n\n        this.propertyName = propertyName;\n\n      }\n\n      // select getter / setter\n      this.getValue = this.GetterByBindingType[bindingType];\n      this.setValue = this.SetterByBindingTypeAndVersioning[bindingType][versioning];\n\n    },\n\n    unbind: function() {\n\n      this.node = null;\n\n      // back to the prototype version of getValue / setValue\n      // note: avoiding to mutate the shape of 'this' via 'delete'\n      this.getValue = this._getValue_unbound;\n      this.setValue = this._setValue_unbound;\n\n    }\n\n  });\n\n  //!\\ DECLARE ALIAS AFTER assign prototype !\n  Object.assign(PropertyBinding.prototype, {\n\n    // initial state of these methods that calls 'bind'\n    _getValue_unbound: PropertyBinding.prototype.getValue,\n    _setValue_unbound: PropertyBinding.prototype.setValue,\n\n  });\n\n  /**\n   *\n   * A group of objects that receives a shared animation state.\n   *\n   * Usage:\n   *\n   *  - Add objects you would otherwise pass as 'root' to the\n   *    constructor or the .clipAction method of AnimationMixer.\n   *\n   *  - Instead pass this object as 'root'.\n   *\n   *  - You can also add and remove objects later when the mixer\n   *    is running.\n   *\n   * Note:\n   *\n   *    Objects of this class appear as one object to the mixer,\n   *    so cache control of the individual objects must be done\n   *    on the group.\n   *\n   * Limitation:\n   *\n   *  - The animated properties must be compatible among the\n   *    all objects in the group.\n   *\n   *  - A single property can either be controlled through a\n   *    target group or directly, but not both.\n   *\n   * @author tschw\n   */\n\n  function AnimationObjectGroup() {\n\n    this.uuid = _Math.generateUUID();\n\n    // cached objects followed by the active ones\n    this._objects = Array.prototype.slice.call(arguments);\n\n    this.nCachedObjects_ = 0; // threshold\n    // note: read by PropertyBinding.Composite\n\n    var indices = {};\n    this._indicesByUUID = indices; // for bookkeeping\n\n    for (var i = 0, n = arguments.length; i !== n; ++i) {\n\n      indices[arguments[i].uuid] = i;\n\n    }\n\n    this._paths = []; // inside: string\n    this._parsedPaths = []; // inside: { we don't care, here }\n    this._bindings = []; // inside: Array< PropertyBinding >\n    this._bindingsIndicesByPath = {}; // inside: indices in these arrays\n\n    var scope = this;\n\n    this.stats = {\n\n      objects: {\n        get total() {\n\n          return scope._objects.length;\n\n        },\n        get inUse() {\n\n          return this.total - scope.nCachedObjects_;\n\n        }\n      },\n      get bindingsPerObject() {\n\n        return scope._bindings.length;\n\n      }\n\n    };\n\n  }\n\n  Object.assign(AnimationObjectGroup.prototype, {\n\n    isAnimationObjectGroup: true,\n\n    add: function() {\n\n      var objects = this._objects,\n        nObjects = objects.length,\n        nCachedObjects = this.nCachedObjects_,\n        indicesByUUID = this._indicesByUUID,\n        paths = this._paths,\n        parsedPaths = this._parsedPaths,\n        bindings = this._bindings,\n        nBindings = bindings.length,\n        knownObject = undefined;\n\n      for (var i = 0, n = arguments.length; i !== n; ++i) {\n\n        var object = arguments[i],\n          uuid = object.uuid,\n          index = indicesByUUID[uuid];\n\n        if (index === undefined) {\n\n          // unknown object -> add it to the ACTIVE region\n\n          index = nObjects++;\n          indicesByUUID[uuid] = index;\n          objects.push(object);\n\n          // accounting is done, now do the same for all bindings\n\n          for (var j = 0, m = nBindings; j !== m; ++j) {\n\n            bindings[j].push(new PropertyBinding(object, paths[j], parsedPaths[j]));\n\n          }\n\n        } else if (index < nCachedObjects) {\n\n          knownObject = objects[index];\n\n          // move existing object to the ACTIVE region\n\n          var firstActiveIndex = --nCachedObjects,\n            lastCachedObject = objects[firstActiveIndex];\n\n          indicesByUUID[lastCachedObject.uuid] = index;\n          objects[index] = lastCachedObject;\n\n          indicesByUUID[uuid] = firstActiveIndex;\n          objects[firstActiveIndex] = object;\n\n          // accounting is done, now do the same for all bindings\n\n          for (var j = 0, m = nBindings; j !== m; ++j) {\n\n            var bindingsForPath = bindings[j],\n              lastCached = bindingsForPath[firstActiveIndex],\n              binding = bindingsForPath[index];\n\n            bindingsForPath[index] = lastCached;\n\n            if (binding === undefined) {\n\n              // since we do not bother to create new bindings\n              // for objects that are cached, the binding may\n              // or may not exist\n\n              binding = new PropertyBinding(object, paths[j], parsedPaths[j]);\n\n            }\n\n            bindingsForPath[firstActiveIndex] = binding;\n\n          }\n\n        } else if (objects[index] !== knownObject) {\n\n          console.error('THREE.AnimationObjectGroup: Different objects with the same UUID ' +\n            'detected. Clean the caches or recreate your infrastructure when reloading scenes.');\n\n        } // else the object is already where we want it to be\n\n      } // for arguments\n\n      this.nCachedObjects_ = nCachedObjects;\n\n    },\n\n    remove: function() {\n\n      var objects = this._objects,\n        nCachedObjects = this.nCachedObjects_,\n        indicesByUUID = this._indicesByUUID,\n        bindings = this._bindings,\n        nBindings = bindings.length;\n\n      for (var i = 0, n = arguments.length; i !== n; ++i) {\n\n        var object = arguments[i],\n          uuid = object.uuid,\n          index = indicesByUUID[uuid];\n\n        if (index !== undefined && index >= nCachedObjects) {\n\n          // move existing object into the CACHED region\n\n          var lastCachedIndex = nCachedObjects++,\n            firstActiveObject = objects[lastCachedIndex];\n\n          indicesByUUID[firstActiveObject.uuid] = index;\n          objects[index] = firstActiveObject;\n\n          indicesByUUID[uuid] = lastCachedIndex;\n          objects[lastCachedIndex] = object;\n\n          // accounting is done, now do the same for all bindings\n\n          for (var j = 0, m = nBindings; j !== m; ++j) {\n\n            var bindingsForPath = bindings[j],\n              firstActive = bindingsForPath[lastCachedIndex],\n              binding = bindingsForPath[index];\n\n            bindingsForPath[index] = firstActive;\n            bindingsForPath[lastCachedIndex] = binding;\n\n          }\n\n        }\n\n      } // for arguments\n\n      this.nCachedObjects_ = nCachedObjects;\n\n    },\n\n    // remove & forget\n    uncache: function() {\n\n      var objects = this._objects,\n        nObjects = objects.length,\n        nCachedObjects = this.nCachedObjects_,\n        indicesByUUID = this._indicesByUUID,\n        bindings = this._bindings,\n        nBindings = bindings.length;\n\n      for (var i = 0, n = arguments.length; i !== n; ++i) {\n\n        var object = arguments[i],\n          uuid = object.uuid,\n          index = indicesByUUID[uuid];\n\n        if (index !== undefined) {\n\n          delete indicesByUUID[uuid];\n\n          if (index < nCachedObjects) {\n\n            // object is cached, shrink the CACHED region\n\n            var firstActiveIndex = --nCachedObjects,\n              lastCachedObject = objects[firstActiveIndex],\n              lastIndex = --nObjects,\n              lastObject = objects[lastIndex];\n\n            // last cached object takes this object's place\n            indicesByUUID[lastCachedObject.uuid] = index;\n            objects[index] = lastCachedObject;\n\n            // last object goes to the activated slot and pop\n            indicesByUUID[lastObject.uuid] = firstActiveIndex;\n            objects[firstActiveIndex] = lastObject;\n            objects.pop();\n\n            // accounting is done, now do the same for all bindings\n\n            for (var j = 0, m = nBindings; j !== m; ++j) {\n\n              var bindingsForPath = bindings[j],\n                lastCached = bindingsForPath[firstActiveIndex],\n                last = bindingsForPath[lastIndex];\n\n              bindingsForPath[index] = lastCached;\n              bindingsForPath[firstActiveIndex] = last;\n              bindingsForPath.pop();\n\n            }\n\n          } else {\n\n            // object is active, just swap with the last and pop\n\n            var lastIndex = --nObjects,\n              lastObject = objects[lastIndex];\n\n            indicesByUUID[lastObject.uuid] = index;\n            objects[index] = lastObject;\n            objects.pop();\n\n            // accounting is done, now do the same for all bindings\n\n            for (var j = 0, m = nBindings; j !== m; ++j) {\n\n              var bindingsForPath = bindings[j];\n\n              bindingsForPath[index] = bindingsForPath[lastIndex];\n              bindingsForPath.pop();\n\n            }\n\n          } // cached or active\n\n        } // if object is known\n\n      } // for arguments\n\n      this.nCachedObjects_ = nCachedObjects;\n\n    },\n\n    // Internal interface used by befriended PropertyBinding.Composite:\n\n    subscribe_: function(path, parsedPath) {\n\n      // returns an array of bindings for the given path that is changed\n      // according to the contained objects in the group\n\n      var indicesByPath = this._bindingsIndicesByPath,\n        index = indicesByPath[path],\n        bindings = this._bindings;\n\n      if (index !== undefined) {\n        return bindings[index];\n      }\n\n      var paths = this._paths,\n        parsedPaths = this._parsedPaths,\n        objects = this._objects,\n        nObjects = objects.length,\n        nCachedObjects = this.nCachedObjects_,\n        bindingsForPath = new Array(nObjects);\n\n      index = bindings.length;\n\n      indicesByPath[path] = index;\n\n      paths.push(path);\n      parsedPaths.push(parsedPath);\n      bindings.push(bindingsForPath);\n\n      for (var i = nCachedObjects, n = objects.length; i !== n; ++i) {\n\n        var object = objects[i];\n        bindingsForPath[i] = new PropertyBinding(object, path, parsedPath);\n\n      }\n\n      return bindingsForPath;\n\n    },\n\n    unsubscribe_: function(path) {\n\n      // tells the group to forget about a property path and no longer\n      // update the array previously obtained with 'subscribe_'\n\n      var indicesByPath = this._bindingsIndicesByPath,\n        index = indicesByPath[path];\n\n      if (index !== undefined) {\n\n        var paths = this._paths,\n          parsedPaths = this._parsedPaths,\n          bindings = this._bindings,\n          lastBindingsIndex = bindings.length - 1,\n          lastBindings = bindings[lastBindingsIndex],\n          lastBindingsPath = path[lastBindingsIndex];\n\n        indicesByPath[lastBindingsPath] = index;\n\n        bindings[index] = lastBindings;\n        bindings.pop();\n\n        parsedPaths[index] = parsedPaths[lastBindingsIndex];\n        parsedPaths.pop();\n\n        paths[index] = paths[lastBindingsIndex];\n        paths.pop();\n\n      }\n\n    }\n\n  });\n\n  /**\n   *\n   * Action provided by AnimationMixer for scheduling clip playback on specific\n   * objects.\n   *\n   * @author Ben Houston / http://clara.io/\n   * @author David Sarno / http://lighthaus.us/\n   * @author tschw\n   *\n   */\n\n  function AnimationAction(mixer, clip, localRoot) {\n\n    this._mixer = mixer;\n    this._clip = clip;\n    this._localRoot = localRoot || null;\n\n    var tracks = clip.tracks,\n      nTracks = tracks.length,\n      interpolants = new Array(nTracks);\n\n    var interpolantSettings = {\n      endingStart: ZeroCurvatureEnding,\n      endingEnd: ZeroCurvatureEnding\n    };\n\n    for (var i = 0; i !== nTracks; ++i) {\n\n      var interpolant = tracks[i].createInterpolant(null);\n      interpolants[i] = interpolant;\n      interpolant.settings = interpolantSettings;\n\n    }\n\n    this._interpolantSettings = interpolantSettings;\n\n    this._interpolants = interpolants; // bound by the mixer\n\n    // inside: PropertyMixer (managed by the mixer)\n    this._propertyBindings = new Array(nTracks);\n\n    this._cacheIndex = null; // for the memory manager\n    this._byClipCacheIndex = null; // for the memory manager\n\n    this._timeScaleInterpolant = null;\n    this._weightInterpolant = null;\n\n    this.loop = LoopRepeat;\n    this._loopCount = -1;\n\n    // global mixer time when the action is to be started\n    // it's set back to 'null' upon start of the action\n    this._startTime = null;\n\n    // scaled local time of the action\n    // gets clamped or wrapped to 0..clip.duration according to loop\n    this.time = 0;\n\n    this.timeScale = 1;\n    this._effectiveTimeScale = 1;\n\n    this.weight = 1;\n    this._effectiveWeight = 1;\n\n    this.repetitions = Infinity; // no. of repetitions when looping\n\n    this.paused = false; // true -> zero effective time scale\n    this.enabled = true; // false -> zero effective weight\n\n    this.clampWhenFinished = false; // keep feeding the last frame?\n\n    this.zeroSlopeAtStart = true; // for smooth interpolation w/o separate\n    this.zeroSlopeAtEnd = true; // clips for start, loop and end\n\n  }\n\n  Object.assign(AnimationAction.prototype, {\n\n    // State & Scheduling\n\n    play: function() {\n\n      this._mixer._activateAction(this);\n\n      return this;\n\n    },\n\n    stop: function() {\n\n      this._mixer._deactivateAction(this);\n\n      return this.reset();\n\n    },\n\n    reset: function() {\n\n      this.paused = false;\n      this.enabled = true;\n\n      this.time = 0; // restart clip\n      this._loopCount = -1; // forget previous loops\n      this._startTime = null; // forget scheduling\n\n      return this.stopFading().stopWarping();\n\n    },\n\n    isRunning: function() {\n\n      return this.enabled && !this.paused && this.timeScale !== 0 &&\n        this._startTime === null && this._mixer._isActiveAction(this);\n\n    },\n\n    // return true when play has been called\n    isScheduled: function() {\n\n      return this._mixer._isActiveAction(this);\n\n    },\n\n    startAt: function(time) {\n\n      this._startTime = time;\n\n      return this;\n\n    },\n\n    setLoop: function(mode, repetitions) {\n\n      this.loop = mode;\n      this.repetitions = repetitions;\n\n      return this;\n\n    },\n\n    // Weight\n\n    // set the weight stopping any scheduled fading\n    // although .enabled = false yields an effective weight of zero, this\n    // method does *not* change .enabled, because it would be confusing\n    setEffectiveWeight: function(weight) {\n\n      this.weight = weight;\n\n      // note: same logic as when updated at runtime\n      this._effectiveWeight = this.enabled ? weight : 0;\n\n      return this.stopFading();\n\n    },\n\n    // return the weight considering fading and .enabled\n    getEffectiveWeight: function() {\n\n      return this._effectiveWeight;\n\n    },\n\n    fadeIn: function(duration) {\n\n      return this._scheduleFading(duration, 0, 1);\n\n    },\n\n    fadeOut: function(duration) {\n\n      return this._scheduleFading(duration, 1, 0);\n\n    },\n\n    crossFadeFrom: function(fadeOutAction, duration, warp) {\n\n      fadeOutAction.fadeOut(duration);\n      this.fadeIn(duration);\n\n      if (warp) {\n\n        var fadeInDuration = this._clip.duration,\n          fadeOutDuration = fadeOutAction._clip.duration,\n\n          startEndRatio = fadeOutDuration / fadeInDuration,\n          endStartRatio = fadeInDuration / fadeOutDuration;\n\n        fadeOutAction.warp(1.0, startEndRatio, duration);\n        this.warp(endStartRatio, 1.0, duration);\n\n      }\n\n      return this;\n\n    },\n\n    crossFadeTo: function(fadeInAction, duration, warp) {\n\n      return fadeInAction.crossFadeFrom(this, duration, warp);\n\n    },\n\n    stopFading: function() {\n\n      var weightInterpolant = this._weightInterpolant;\n\n      if (weightInterpolant !== null) {\n\n        this._weightInterpolant = null;\n        this._mixer._takeBackControlInterpolant(weightInterpolant);\n\n      }\n\n      return this;\n\n    },\n\n    // Time Scale Control\n\n    // set the time scale stopping any scheduled warping\n    // although .paused = true yields an effective time scale of zero, this\n    // method does *not* change .paused, because it would be confusing\n    setEffectiveTimeScale: function(timeScale) {\n\n      this.timeScale = timeScale;\n      this._effectiveTimeScale = this.paused ? 0 : timeScale;\n\n      return this.stopWarping();\n\n    },\n\n    // return the time scale considering warping and .paused\n    getEffectiveTimeScale: function() {\n\n      return this._effectiveTimeScale;\n\n    },\n\n    setDuration: function(duration) {\n\n      this.timeScale = this._clip.duration / duration;\n\n      return this.stopWarping();\n\n    },\n\n    syncWith: function(action) {\n\n      this.time = action.time;\n      this.timeScale = action.timeScale;\n\n      return this.stopWarping();\n\n    },\n\n    halt: function(duration) {\n\n      return this.warp(this._effectiveTimeScale, 0, duration);\n\n    },\n\n    warp: function(startTimeScale, endTimeScale, duration) {\n\n      var mixer = this._mixer,\n        now = mixer.time,\n        interpolant = this._timeScaleInterpolant,\n\n        timeScale = this.timeScale;\n\n      if (interpolant === null) {\n\n        interpolant = mixer._lendControlInterpolant();\n        this._timeScaleInterpolant = interpolant;\n\n      }\n\n      var times = interpolant.parameterPositions,\n        values = interpolant.sampleValues;\n\n      times[0] = now;\n      times[1] = now + duration;\n\n      values[0] = startTimeScale / timeScale;\n      values[1] = endTimeScale / timeScale;\n\n      return this;\n\n    },\n\n    stopWarping: function() {\n\n      var timeScaleInterpolant = this._timeScaleInterpolant;\n\n      if (timeScaleInterpolant !== null) {\n\n        this._timeScaleInterpolant = null;\n        this._mixer._takeBackControlInterpolant(timeScaleInterpolant);\n\n      }\n\n      return this;\n\n    },\n\n    // Object Accessors\n\n    getMixer: function() {\n\n      return this._mixer;\n\n    },\n\n    getClip: function() {\n\n      return this._clip;\n\n    },\n\n    getRoot: function() {\n\n      return this._localRoot || this._mixer._root;\n\n    },\n\n    // Interna\n\n    _update: function(time, deltaTime, timeDirection, accuIndex) {\n\n      // called by the mixer\n\n      if (!this.enabled) {\n\n        // call ._updateWeight() to update ._effectiveWeight\n\n        this._updateWeight(time);\n        return;\n\n      }\n\n      var startTime = this._startTime;\n\n      if (startTime !== null) {\n\n        // check for scheduled start of action\n\n        var timeRunning = (time - startTime) * timeDirection;\n        if (timeRunning < 0 || timeDirection === 0) {\n\n          return; // yet to come / don't decide when delta = 0\n\n        }\n\n        // start\n\n        this._startTime = null; // unschedule\n        deltaTime = timeDirection * timeRunning;\n\n      }\n\n      // apply time scale and advance time\n\n      deltaTime *= this._updateTimeScale(time);\n      var clipTime = this._updateTime(deltaTime);\n\n      // note: _updateTime may disable the action resulting in\n      // an effective weight of 0\n\n      var weight = this._updateWeight(time);\n\n      if (weight > 0) {\n\n        var interpolants = this._interpolants;\n        var propertyMixers = this._propertyBindings;\n\n        for (var j = 0, m = interpolants.length; j !== m; ++j) {\n\n          interpolants[j].evaluate(clipTime);\n          propertyMixers[j].accumulate(accuIndex, weight);\n\n        }\n\n      }\n\n    },\n\n    _updateWeight: function(time) {\n\n      var weight = 0;\n\n      if (this.enabled) {\n\n        weight = this.weight;\n        var interpolant = this._weightInterpolant;\n\n        if (interpolant !== null) {\n\n          var interpolantValue = interpolant.evaluate(time)[0];\n\n          weight *= interpolantValue;\n\n          if (time > interpolant.parameterPositions[1]) {\n\n            this.stopFading();\n\n            if (interpolantValue === 0) {\n\n              // faded out, disable\n              this.enabled = false;\n\n            }\n\n          }\n\n        }\n\n      }\n\n      this._effectiveWeight = weight;\n      return weight;\n\n    },\n\n    _updateTimeScale: function(time) {\n\n      var timeScale = 0;\n\n      if (!this.paused) {\n\n        timeScale = this.timeScale;\n\n        var interpolant = this._timeScaleInterpolant;\n\n        if (interpolant !== null) {\n\n          var interpolantValue = interpolant.evaluate(time)[0];\n\n          timeScale *= interpolantValue;\n\n          if (time > interpolant.parameterPositions[1]) {\n\n            this.stopWarping();\n\n            if (timeScale === 0) {\n\n              // motion has halted, pause\n              this.paused = true;\n\n            } else {\n\n              // warp done - apply final time scale\n              this.timeScale = timeScale;\n\n            }\n\n          }\n\n        }\n\n      }\n\n      this._effectiveTimeScale = timeScale;\n      return timeScale;\n\n    },\n\n    _updateTime: function(deltaTime) {\n\n      var time = this.time + deltaTime;\n      var duration = this._clip.duration;\n      var loop = this.loop;\n      var loopCount = this._loopCount;\n\n      var pingPong = (loop === LoopPingPong);\n\n      if (deltaTime === 0) {\n\n        if (loopCount === -1) {\n          return time;\n        }\n\n        return (pingPong && (loopCount & 1) === 1) ? duration - time : time;\n\n      }\n\n      if (loop === LoopOnce) {\n\n        if (loopCount === -1) {\n\n          // just started\n\n          this._loopCount = 0;\n          this._setEndings(true, true, false);\n\n        }\n\n        handle_stop: {\n\n          if (time >= duration) {\n\n            time = duration;\n\n          } else if (time < 0) {\n\n            time = 0;\n\n          } else {\n\n            this.time = time;\n\n            break handle_stop;\n\n          }\n\n          if (this.clampWhenFinished) {\n            this.paused = true;\n          } else {\n            this.enabled = false;\n          }\n\n          this.time = time;\n\n          this._mixer.dispatchEvent({\n            type: 'finished',\n            action: this,\n            direction: deltaTime < 0 ? -1 : 1\n          });\n\n        }\n\n      } else { // repetitive Repeat or PingPong\n\n        if (loopCount === -1) {\n\n          // just started\n\n          if (deltaTime >= 0) {\n\n            loopCount = 0;\n\n            this._setEndings(true, this.repetitions === 0, pingPong);\n\n          } else {\n\n            // when looping in reverse direction, the initial\n            // transition through zero counts as a repetition,\n            // so leave loopCount at -1\n\n            this._setEndings(this.repetitions === 0, true, pingPong);\n\n          }\n\n        }\n\n        if (time >= duration || time < 0) {\n\n          // wrap around\n\n          var loopDelta = Math.floor(time / duration); // signed\n          time -= duration * loopDelta;\n\n          loopCount += Math.abs(loopDelta);\n\n          var pending = this.repetitions - loopCount;\n\n          if (pending <= 0) {\n\n            // have to stop (switch state, clamp time, fire event)\n\n            if (this.clampWhenFinished) {\n              this.paused = true;\n            } else {\n              this.enabled = false;\n            }\n\n            time = deltaTime > 0 ? duration : 0;\n\n            this.time = time;\n\n            this._mixer.dispatchEvent({\n              type: 'finished',\n              action: this,\n              direction: deltaTime > 0 ? 1 : -1\n            });\n\n          } else {\n\n            // keep running\n\n            if (pending === 1) {\n\n              // entering the last round\n\n              var atStart = deltaTime < 0;\n              this._setEndings(atStart, !atStart, pingPong);\n\n            } else {\n\n              this._setEndings(false, false, pingPong);\n\n            }\n\n            this._loopCount = loopCount;\n\n            this.time = time;\n\n            this._mixer.dispatchEvent({\n              type: 'loop',\n              action: this,\n              loopDelta: loopDelta\n            });\n\n          }\n\n        } else {\n\n          this.time = time;\n\n        }\n\n        if (pingPong && (loopCount & 1) === 1) {\n\n          // invert time for the \"pong round\"\n\n          return duration - time;\n\n        }\n\n      }\n\n      return time;\n\n    },\n\n    _setEndings: function(atStart, atEnd, pingPong) {\n\n      var settings = this._interpolantSettings;\n\n      if (pingPong) {\n\n        settings.endingStart = ZeroSlopeEnding;\n        settings.endingEnd = ZeroSlopeEnding;\n\n      } else {\n\n        // assuming for LoopOnce atStart == atEnd == true\n\n        if (atStart) {\n\n          settings.endingStart = this.zeroSlopeAtStart ? ZeroSlopeEnding : ZeroCurvatureEnding;\n\n        } else {\n\n          settings.endingStart = WrapAroundEnding;\n\n        }\n\n        if (atEnd) {\n\n          settings.endingEnd = this.zeroSlopeAtEnd ? ZeroSlopeEnding : ZeroCurvatureEnding;\n\n        } else {\n\n          settings.endingEnd = WrapAroundEnding;\n\n        }\n\n      }\n\n    },\n\n    _scheduleFading: function(duration, weightNow, weightThen) {\n\n      var mixer = this._mixer,\n        now = mixer.time,\n        interpolant = this._weightInterpolant;\n\n      if (interpolant === null) {\n\n        interpolant = mixer._lendControlInterpolant();\n        this._weightInterpolant = interpolant;\n\n      }\n\n      var times = interpolant.parameterPositions,\n        values = interpolant.sampleValues;\n\n      times[0] = now;\n      values[0] = weightNow;\n      times[1] = now + duration;\n      values[1] = weightThen;\n\n      return this;\n\n    }\n\n  });\n\n  /**\n   *\n   * Player for AnimationClips.\n   *\n   *\n   * @author Ben Houston / http://clara.io/\n   * @author David Sarno / http://lighthaus.us/\n   * @author tschw\n   */\n\n  function AnimationMixer(root) {\n\n    this._root = root;\n    this._initMemoryManager();\n    this._accuIndex = 0;\n\n    this.time = 0;\n\n    this.timeScale = 1.0;\n\n  }\n\n  AnimationMixer.prototype = Object.assign(Object.create(EventDispatcher.prototype), {\n\n    constructor: AnimationMixer,\n\n    _bindAction: function(action, prototypeAction) {\n\n      var root = action._localRoot || this._root,\n        tracks = action._clip.tracks,\n        nTracks = tracks.length,\n        bindings = action._propertyBindings,\n        interpolants = action._interpolants,\n        rootUuid = root.uuid,\n        bindingsByRoot = this._bindingsByRootAndName,\n        bindingsByName = bindingsByRoot[rootUuid];\n\n      if (bindingsByName === undefined) {\n\n        bindingsByName = {};\n        bindingsByRoot[rootUuid] = bindingsByName;\n\n      }\n\n      for (var i = 0; i !== nTracks; ++i) {\n\n        var track = tracks[i],\n          trackName = track.name,\n          binding = bindingsByName[trackName];\n\n        if (binding !== undefined) {\n\n          bindings[i] = binding;\n\n        } else {\n\n          binding = bindings[i];\n\n          if (binding !== undefined) {\n\n            // existing binding, make sure the cache knows\n\n            if (binding._cacheIndex === null) {\n\n              ++binding.referenceCount;\n              this._addInactiveBinding(binding, rootUuid, trackName);\n\n            }\n\n            continue;\n\n          }\n\n          var path = prototypeAction && prototypeAction.\n          _propertyBindings[i].binding.parsedPath;\n\n          binding = new PropertyMixer(\n            PropertyBinding.create(root, trackName, path),\n            track.ValueTypeName, track.getValueSize());\n\n          ++binding.referenceCount;\n          this._addInactiveBinding(binding, rootUuid, trackName);\n\n          bindings[i] = binding;\n\n        }\n\n        interpolants[i].resultBuffer = binding.buffer;\n\n      }\n\n    },\n\n    _activateAction: function(action) {\n\n      if (!this._isActiveAction(action)) {\n\n        if (action._cacheIndex === null) {\n\n          // this action has been forgotten by the cache, but the user\n          // appears to be still using it -> rebind\n\n          var rootUuid = (action._localRoot || this._root).uuid,\n            clipUuid = action._clip.uuid,\n            actionsForClip = this._actionsByClip[clipUuid];\n\n          this._bindAction(action,\n            actionsForClip && actionsForClip.knownActions[0]);\n\n          this._addInactiveAction(action, clipUuid, rootUuid);\n\n        }\n\n        var bindings = action._propertyBindings;\n\n        // increment reference counts / sort out state\n        for (var i = 0, n = bindings.length; i !== n; ++i) {\n\n          var binding = bindings[i];\n\n          if (binding.useCount++ === 0) {\n\n            this._lendBinding(binding);\n            binding.saveOriginalState();\n\n          }\n\n        }\n\n        this._lendAction(action);\n\n      }\n\n    },\n\n    _deactivateAction: function(action) {\n\n      if (this._isActiveAction(action)) {\n\n        var bindings = action._propertyBindings;\n\n        // decrement reference counts / sort out state\n        for (var i = 0, n = bindings.length; i !== n; ++i) {\n\n          var binding = bindings[i];\n\n          if (--binding.useCount === 0) {\n\n            binding.restoreOriginalState();\n            this._takeBackBinding(binding);\n\n          }\n\n        }\n\n        this._takeBackAction(action);\n\n      }\n\n    },\n\n    // Memory manager\n\n    _initMemoryManager: function() {\n\n      this._actions = []; // 'nActiveActions' followed by inactive ones\n      this._nActiveActions = 0;\n\n      this._actionsByClip = {};\n      // inside:\n      // {\n      // \tknownActions: Array< AnimationAction > - used as prototypes\n      // \tactionByRoot: AnimationAction - lookup\n      // }\n\n\n      this._bindings = []; // 'nActiveBindings' followed by inactive ones\n      this._nActiveBindings = 0;\n\n      this._bindingsByRootAndName = {}; // inside: Map< name, PropertyMixer >\n\n\n      this._controlInterpolants = []; // same game as above\n      this._nActiveControlInterpolants = 0;\n\n      var scope = this;\n\n      this.stats = {\n\n        actions: {\n          get total() {\n\n            return scope._actions.length;\n\n          },\n          get inUse() {\n\n            return scope._nActiveActions;\n\n          }\n        },\n        bindings: {\n          get total() {\n\n            return scope._bindings.length;\n\n          },\n          get inUse() {\n\n            return scope._nActiveBindings;\n\n          }\n        },\n        controlInterpolants: {\n          get total() {\n\n            return scope._controlInterpolants.length;\n\n          },\n          get inUse() {\n\n            return scope._nActiveControlInterpolants;\n\n          }\n        }\n\n      };\n\n    },\n\n    // Memory management for AnimationAction objects\n\n    _isActiveAction: function(action) {\n\n      var index = action._cacheIndex;\n      return index !== null && index < this._nActiveActions;\n\n    },\n\n    _addInactiveAction: function(action, clipUuid, rootUuid) {\n\n      var actions = this._actions,\n        actionsByClip = this._actionsByClip,\n        actionsForClip = actionsByClip[clipUuid];\n\n      if (actionsForClip === undefined) {\n\n        actionsForClip = {\n\n          knownActions: [action],\n          actionByRoot: {}\n\n        };\n\n        action._byClipCacheIndex = 0;\n\n        actionsByClip[clipUuid] = actionsForClip;\n\n      } else {\n\n        var knownActions = actionsForClip.knownActions;\n\n        action._byClipCacheIndex = knownActions.length;\n        knownActions.push(action);\n\n      }\n\n      action._cacheIndex = actions.length;\n      actions.push(action);\n\n      actionsForClip.actionByRoot[rootUuid] = action;\n\n    },\n\n    _removeInactiveAction: function(action) {\n\n      var actions = this._actions,\n        lastInactiveAction = actions[actions.length - 1],\n        cacheIndex = action._cacheIndex;\n\n      lastInactiveAction._cacheIndex = cacheIndex;\n      actions[cacheIndex] = lastInactiveAction;\n      actions.pop();\n\n      action._cacheIndex = null;\n\n\n      var clipUuid = action._clip.uuid,\n        actionsByClip = this._actionsByClip,\n        actionsForClip = actionsByClip[clipUuid],\n        knownActionsForClip = actionsForClip.knownActions,\n\n        lastKnownAction =\n        knownActionsForClip[knownActionsForClip.length - 1],\n\n        byClipCacheIndex = action._byClipCacheIndex;\n\n      lastKnownAction._byClipCacheIndex = byClipCacheIndex;\n      knownActionsForClip[byClipCacheIndex] = lastKnownAction;\n      knownActionsForClip.pop();\n\n      action._byClipCacheIndex = null;\n\n\n      var actionByRoot = actionsForClip.actionByRoot,\n        rootUuid = (action._localRoot || this._root).uuid;\n\n      delete actionByRoot[rootUuid];\n\n      if (knownActionsForClip.length === 0) {\n\n        delete actionsByClip[clipUuid];\n\n      }\n\n      this._removeInactiveBindingsForAction(action);\n\n    },\n\n    _removeInactiveBindingsForAction: function(action) {\n\n      var bindings = action._propertyBindings;\n      for (var i = 0, n = bindings.length; i !== n; ++i) {\n\n        var binding = bindings[i];\n\n        if (--binding.referenceCount === 0) {\n\n          this._removeInactiveBinding(binding);\n\n        }\n\n      }\n\n    },\n\n    _lendAction: function(action) {\n\n      // [ active actions |  inactive actions  ]\n      // [  active actions >| inactive actions ]\n      //                 s        a\n      //                  <-swap->\n      //                 a        s\n\n      var actions = this._actions,\n        prevIndex = action._cacheIndex,\n\n        lastActiveIndex = this._nActiveActions++,\n\n        firstInactiveAction = actions[lastActiveIndex];\n\n      action._cacheIndex = lastActiveIndex;\n      actions[lastActiveIndex] = action;\n\n      firstInactiveAction._cacheIndex = prevIndex;\n      actions[prevIndex] = firstInactiveAction;\n\n    },\n\n    _takeBackAction: function(action) {\n\n      // [  active actions  | inactive actions ]\n      // [ active actions |< inactive actions  ]\n      //        a        s\n      //         <-swap->\n      //        s        a\n\n      var actions = this._actions,\n        prevIndex = action._cacheIndex,\n\n        firstInactiveIndex = --this._nActiveActions,\n\n        lastActiveAction = actions[firstInactiveIndex];\n\n      action._cacheIndex = firstInactiveIndex;\n      actions[firstInactiveIndex] = action;\n\n      lastActiveAction._cacheIndex = prevIndex;\n      actions[prevIndex] = lastActiveAction;\n\n    },\n\n    // Memory management for PropertyMixer objects\n\n    _addInactiveBinding: function(binding, rootUuid, trackName) {\n\n      var bindingsByRoot = this._bindingsByRootAndName,\n        bindingByName = bindingsByRoot[rootUuid],\n\n        bindings = this._bindings;\n\n      if (bindingByName === undefined) {\n\n        bindingByName = {};\n        bindingsByRoot[rootUuid] = bindingByName;\n\n      }\n\n      bindingByName[trackName] = binding;\n\n      binding._cacheIndex = bindings.length;\n      bindings.push(binding);\n\n    },\n\n    _removeInactiveBinding: function(binding) {\n\n      var bindings = this._bindings,\n        propBinding = binding.binding,\n        rootUuid = propBinding.rootNode.uuid,\n        trackName = propBinding.path,\n        bindingsByRoot = this._bindingsByRootAndName,\n        bindingByName = bindingsByRoot[rootUuid],\n\n        lastInactiveBinding = bindings[bindings.length - 1],\n        cacheIndex = binding._cacheIndex;\n\n      lastInactiveBinding._cacheIndex = cacheIndex;\n      bindings[cacheIndex] = lastInactiveBinding;\n      bindings.pop();\n\n      delete bindingByName[trackName];\n\n      if (Object.keys(bindingByName).length === 0) {\n\n        delete bindingsByRoot[rootUuid];\n\n      }\n\n    },\n\n    _lendBinding: function(binding) {\n\n      var bindings = this._bindings,\n        prevIndex = binding._cacheIndex,\n\n        lastActiveIndex = this._nActiveBindings++,\n\n        firstInactiveBinding = bindings[lastActiveIndex];\n\n      binding._cacheIndex = lastActiveIndex;\n      bindings[lastActiveIndex] = binding;\n\n      firstInactiveBinding._cacheIndex = prevIndex;\n      bindings[prevIndex] = firstInactiveBinding;\n\n    },\n\n    _takeBackBinding: function(binding) {\n\n      var bindings = this._bindings,\n        prevIndex = binding._cacheIndex,\n\n        firstInactiveIndex = --this._nActiveBindings,\n\n        lastActiveBinding = bindings[firstInactiveIndex];\n\n      binding._cacheIndex = firstInactiveIndex;\n      bindings[firstInactiveIndex] = binding;\n\n      lastActiveBinding._cacheIndex = prevIndex;\n      bindings[prevIndex] = lastActiveBinding;\n\n    },\n\n\n    // Memory management of Interpolants for weight and time scale\n\n    _lendControlInterpolant: function() {\n\n      var interpolants = this._controlInterpolants,\n        lastActiveIndex = this._nActiveControlInterpolants++,\n        interpolant = interpolants[lastActiveIndex];\n\n      if (interpolant === undefined) {\n\n        interpolant = new LinearInterpolant(\n          new Float32Array(2), new Float32Array(2),\n          1, this._controlInterpolantsResultBuffer);\n\n        interpolant.__cacheIndex = lastActiveIndex;\n        interpolants[lastActiveIndex] = interpolant;\n\n      }\n\n      return interpolant;\n\n    },\n\n    _takeBackControlInterpolant: function(interpolant) {\n\n      var interpolants = this._controlInterpolants,\n        prevIndex = interpolant.__cacheIndex,\n\n        firstInactiveIndex = --this._nActiveControlInterpolants,\n\n        lastActiveInterpolant = interpolants[firstInactiveIndex];\n\n      interpolant.__cacheIndex = firstInactiveIndex;\n      interpolants[firstInactiveIndex] = interpolant;\n\n      lastActiveInterpolant.__cacheIndex = prevIndex;\n      interpolants[prevIndex] = lastActiveInterpolant;\n\n    },\n\n    _controlInterpolantsResultBuffer: new Float32Array(1),\n\n    // return an action for a clip optionally using a custom root target\n    // object (this method allocates a lot of dynamic memory in case a\n    // previously unknown clip/root combination is specified)\n    clipAction: function(clip, optionalRoot) {\n\n      var root = optionalRoot || this._root,\n        rootUuid = root.uuid,\n\n        clipObject = typeof clip === 'string' ?\n        AnimationClip.findByName(root, clip) : clip,\n\n        clipUuid = clipObject !== null ? clipObject.uuid : clip,\n\n        actionsForClip = this._actionsByClip[clipUuid],\n        prototypeAction = null;\n\n      if (actionsForClip !== undefined) {\n\n        var existingAction =\n          actionsForClip.actionByRoot[rootUuid];\n\n        if (existingAction !== undefined) {\n\n          return existingAction;\n\n        }\n\n        // we know the clip, so we don't have to parse all\n        // the bindings again but can just copy\n        prototypeAction = actionsForClip.knownActions[0];\n\n        // also, take the clip from the prototype action\n        if (clipObject === null) {\n          clipObject = prototypeAction._clip;\n        }\n\n      }\n\n      // clip must be known when specified via string\n      if (clipObject === null) {\n        return null;\n      }\n\n      // allocate all resources required to run it\n      var newAction = new AnimationAction(this, clipObject, optionalRoot);\n\n      this._bindAction(newAction, prototypeAction);\n\n      // and make the action known to the memory manager\n      this._addInactiveAction(newAction, clipUuid, rootUuid);\n\n      return newAction;\n\n    },\n\n    // get an existing action\n    existingAction: function(clip, optionalRoot) {\n\n      var root = optionalRoot || this._root,\n        rootUuid = root.uuid,\n\n        clipObject = typeof clip === 'string' ?\n        AnimationClip.findByName(root, clip) : clip,\n\n        clipUuid = clipObject ? clipObject.uuid : clip,\n\n        actionsForClip = this._actionsByClip[clipUuid];\n\n      if (actionsForClip !== undefined) {\n\n        return actionsForClip.actionByRoot[rootUuid] || null;\n\n      }\n\n      return null;\n\n    },\n\n    // deactivates all previously scheduled actions\n    stopAllAction: function() {\n\n      var actions = this._actions,\n        nActions = this._nActiveActions,\n        bindings = this._bindings,\n        nBindings = this._nActiveBindings;\n\n      this._nActiveActions = 0;\n      this._nActiveBindings = 0;\n\n      for (var i = 0; i !== nActions; ++i) {\n\n        actions[i].reset();\n\n      }\n\n      for (var i = 0; i !== nBindings; ++i) {\n\n        bindings[i].useCount = 0;\n\n      }\n\n      return this;\n\n    },\n\n    // advance the time and update apply the animation\n    update: function(deltaTime) {\n\n      deltaTime *= this.timeScale;\n\n      var actions = this._actions,\n        nActions = this._nActiveActions,\n\n        time = this.time += deltaTime,\n        timeDirection = Math.sign(deltaTime),\n\n        accuIndex = this._accuIndex ^= 1;\n\n      // run active actions\n\n      for (var i = 0; i !== nActions; ++i) {\n\n        var action = actions[i];\n\n        action._update(time, deltaTime, timeDirection, accuIndex);\n\n      }\n\n      // update scene graph\n\n      var bindings = this._bindings,\n        nBindings = this._nActiveBindings;\n\n      for (var i = 0; i !== nBindings; ++i) {\n\n        bindings[i].apply(accuIndex);\n\n      }\n\n      return this;\n\n    },\n\n    // Allows you to seek to a specific time in an animation.\n    setTime: function(timeInSeconds) {\n\n      this.time = 0; // Zero out time attribute for AnimationMixer object;\n      for (var i = 0; i < this._actions.length; i++) {\n\n        this._actions[i].time = 0; // Zero out time attribute for all associated AnimationAction objects.\n\n      }\n\n      return this.update(timeInSeconds); // Update used to set exact time. Returns \"this\" AnimationMixer object.\n\n    },\n\n    // return this mixer's root target object\n    getRoot: function() {\n\n      return this._root;\n\n    },\n\n    // free all resources specific to a particular clip\n    uncacheClip: function(clip) {\n\n      var actions = this._actions,\n        clipUuid = clip.uuid,\n        actionsByClip = this._actionsByClip,\n        actionsForClip = actionsByClip[clipUuid];\n\n      if (actionsForClip !== undefined) {\n\n        // note: just calling _removeInactiveAction would mess up the\n        // iteration state and also require updating the state we can\n        // just throw away\n\n        var actionsToRemove = actionsForClip.knownActions;\n\n        for (var i = 0, n = actionsToRemove.length; i !== n; ++i) {\n\n          var action = actionsToRemove[i];\n\n          this._deactivateAction(action);\n\n          var cacheIndex = action._cacheIndex,\n            lastInactiveAction = actions[actions.length - 1];\n\n          action._cacheIndex = null;\n          action._byClipCacheIndex = null;\n\n          lastInactiveAction._cacheIndex = cacheIndex;\n          actions[cacheIndex] = lastInactiveAction;\n          actions.pop();\n\n          this._removeInactiveBindingsForAction(action);\n\n        }\n\n        delete actionsByClip[clipUuid];\n\n      }\n\n    },\n\n    // free all resources specific to a particular root target object\n    uncacheRoot: function(root) {\n\n      var rootUuid = root.uuid,\n        actionsByClip = this._actionsByClip;\n\n      for (var clipUuid in actionsByClip) {\n\n        var actionByRoot = actionsByClip[clipUuid].actionByRoot,\n          action = actionByRoot[rootUuid];\n\n        if (action !== undefined) {\n\n          this._deactivateAction(action);\n          this._removeInactiveAction(action);\n\n        }\n\n      }\n\n      var bindingsByRoot = this._bindingsByRootAndName,\n        bindingByName = bindingsByRoot[rootUuid];\n\n      if (bindingByName !== undefined) {\n\n        for (var trackName in bindingByName) {\n\n          var binding = bindingByName[trackName];\n          binding.restoreOriginalState();\n          this._removeInactiveBinding(binding);\n\n        }\n\n      }\n\n    },\n\n    // remove a targeted clip from the cache\n    uncacheAction: function(clip, optionalRoot) {\n\n      var action = this.existingAction(clip, optionalRoot);\n\n      if (action !== null) {\n\n        this._deactivateAction(action);\n        this._removeInactiveAction(action);\n\n      }\n\n    }\n\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function Uniform(value) {\n\n    if (typeof value === 'string') {\n\n      console.warn('THREE.Uniform: Type parameter is no longer needed.');\n      value = arguments[1];\n\n    }\n\n    this.value = value;\n\n  }\n\n  Uniform.prototype.clone = function() {\n\n    return new Uniform(this.value.clone === undefined ? this.value : this.value.clone());\n\n  };\n\n  /**\n   * @author benaadams / https://twitter.com/ben_a_adams\n   */\n\n  function InstancedInterleavedBuffer(array, stride, meshPerAttribute) {\n\n    InterleavedBuffer.call(this, array, stride);\n\n    this.meshPerAttribute = meshPerAttribute || 1;\n\n  }\n\n  InstancedInterleavedBuffer.prototype = Object.assign(Object.create(InterleavedBuffer.prototype), {\n\n    constructor: InstancedInterleavedBuffer,\n\n    isInstancedInterleavedBuffer: true,\n\n    copy: function(source) {\n\n      InterleavedBuffer.prototype.copy.call(this, source);\n\n      this.meshPerAttribute = source.meshPerAttribute;\n\n      return this;\n\n    }\n\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author bhouston / http://clara.io/\n   * @author stephomi / http://stephaneginier.com/\n   */\n\n  function Raycaster(origin, direction, near, far) {\n\n    this.ray = new Ray(origin, direction);\n    // direction is assumed to be normalized (for accurate distance calculations)\n\n    this.near = near || 0;\n    this.far = far || Infinity;\n    this.camera = null;\n\n    this.params = {\n      Mesh: {},\n      Line: {},\n      LOD: {},\n      Points: {\n        threshold: 1\n      },\n      Sprite: {}\n    };\n\n    Object.defineProperties(this.params, {\n      PointCloud: {\n        get: function() {\n\n          console.warn('THREE.Raycaster: params.PointCloud has been renamed to params.Points.');\n          return this.Points;\n\n        }\n      }\n    });\n\n  }\n\n  function ascSort(a, b) {\n\n    return a.distance - b.distance;\n\n  }\n\n  function intersectObject(object, raycaster, intersects, recursive) {\n\n    if (object.visible === false) {\n      return;\n    }\n\n    object.raycast(raycaster, intersects);\n\n    if (recursive === true) {\n\n      var children = object.children;\n\n      for (var i = 0, l = children.length; i < l; i++) {\n\n        intersectObject(children[i], raycaster, intersects, true);\n\n      }\n\n    }\n\n  }\n\n  Object.assign(Raycaster.prototype, {\n\n    linePrecision: 1,\n\n    set: function(origin, direction) {\n\n      // direction is assumed to be normalized (for accurate distance calculations)\n\n      this.ray.set(origin, direction);\n\n    },\n\n    setFromCamera: function(coords, camera) {\n\n      if ((camera && camera.isPerspectiveCamera)) {\n\n        this.ray.origin.setFromMatrixPosition(camera.matrixWorld);\n        this.ray.direction.set(coords.x, coords.y, 0.5).unproject(camera).sub(this.ray.origin).normalize();\n        this.camera = camera;\n\n      } else if ((camera && camera.isOrthographicCamera)) {\n\n        this.ray.origin.set(coords.x, coords.y, (camera.near + camera.far) / (camera.near - camera.far)).unproject(camera); // set origin in plane of camera\n        this.ray.direction.set(0, 0, -1).transformDirection(camera.matrixWorld);\n        this.camera = camera;\n\n      } else {\n\n        console.error('THREE.Raycaster: Unsupported camera type.');\n\n      }\n\n    },\n\n    intersectObject: function(object, recursive, optionalTarget) {\n\n      var intersects = optionalTarget || [];\n\n      intersectObject(object, this, intersects, recursive);\n\n      intersects.sort(ascSort);\n\n      return intersects;\n\n    },\n\n    intersectObjects: function(objects, recursive, optionalTarget) {\n\n      var intersects = optionalTarget || [];\n\n      if (Array.isArray(objects) === false) {\n\n        console.warn('THREE.Raycaster.intersectObjects: objects is not an Array.');\n        return intersects;\n\n      }\n\n      for (var i = 0, l = objects.length; i < l; i++) {\n\n        intersectObject(objects[i], this, intersects, recursive);\n\n      }\n\n      intersects.sort(ascSort);\n\n      return intersects;\n\n    }\n\n  });\n\n  /**\n   * @author bhouston / http://clara.io\n   * @author WestLangley / http://github.com/WestLangley\n   *\n   * Ref: https://en.wikipedia.org/wiki/Spherical_coordinate_system\n   *\n   * The polar angle (phi) is measured from the positive y-axis. The positive y-axis is up.\n   * The azimuthal angle (theta) is measured from the positive z-axis.\n   */\n\n  function Spherical(radius, phi, theta) {\n\n    this.radius = (radius !== undefined) ? radius : 1.0;\n    this.phi = (phi !== undefined) ? phi : 0; // polar angle\n    this.theta = (theta !== undefined) ? theta : 0; // azimuthal angle\n\n    return this;\n\n  }\n\n  Object.assign(Spherical.prototype, {\n\n    set: function(radius, phi, theta) {\n\n      this.radius = radius;\n      this.phi = phi;\n      this.theta = theta;\n\n      return this;\n\n    },\n\n    clone: function() {\n\n      return new this.constructor().copy(this);\n\n    },\n\n    copy: function(other) {\n\n      this.radius = other.radius;\n      this.phi = other.phi;\n      this.theta = other.theta;\n\n      return this;\n\n    },\n\n    // restrict phi to be betwee EPS and PI-EPS\n    makeSafe: function() {\n\n      var EPS = 0.000001;\n      this.phi = Math.max(EPS, Math.min(Math.PI - EPS, this.phi));\n\n      return this;\n\n    },\n\n    setFromVector3: function(v) {\n\n      return this.setFromCartesianCoords(v.x, v.y, v.z);\n\n    },\n\n    setFromCartesianCoords: function(x, y, z) {\n\n      this.radius = Math.sqrt(x * x + y * y + z * z);\n\n      if (this.radius === 0) {\n\n        this.theta = 0;\n        this.phi = 0;\n\n      } else {\n\n        this.theta = Math.atan2(x, z);\n        this.phi = Math.acos(_Math.clamp(y / this.radius, -1, 1));\n\n      }\n\n      return this;\n\n    }\n\n  });\n\n  /**\n   * @author Mugen87 / https://github.com/Mugen87\n   *\n   * Ref: https://en.wikipedia.org/wiki/Cylindrical_coordinate_system\n   *\n   */\n\n  function Cylindrical(radius, theta, y) {\n\n    this.radius = (radius !== undefined) ? radius : 1.0; // distance from the origin to a point in the x-z plane\n    this.theta = (theta !== undefined) ? theta : 0; // counterclockwise angle in the x-z plane measured in radians from the positive z-axis\n    this.y = (y !== undefined) ? y : 0; // height above the x-z plane\n\n    return this;\n\n  }\n\n  Object.assign(Cylindrical.prototype, {\n\n    set: function(radius, theta, y) {\n\n      this.radius = radius;\n      this.theta = theta;\n      this.y = y;\n\n      return this;\n\n    },\n\n    clone: function() {\n\n      return new this.constructor().copy(this);\n\n    },\n\n    copy: function(other) {\n\n      this.radius = other.radius;\n      this.theta = other.theta;\n      this.y = other.y;\n\n      return this;\n\n    },\n\n    setFromVector3: function(v) {\n\n      return this.setFromCartesianCoords(v.x, v.y, v.z);\n\n    },\n\n    setFromCartesianCoords: function(x, y, z) {\n\n      this.radius = Math.sqrt(x * x + z * z);\n      this.theta = Math.atan2(x, z);\n      this.y = y;\n\n      return this;\n\n    }\n\n  });\n\n  /**\n   * @author bhouston / http://clara.io\n   */\n\n  var _vector$8 = new Vector2();\n\n  function Box2(min, max) {\n\n    this.min = (min !== undefined) ? min : new Vector2(+Infinity, +Infinity);\n    this.max = (max !== undefined) ? max : new Vector2(-Infinity, -Infinity);\n\n  }\n\n  Object.assign(Box2.prototype, {\n\n    set: function(min, max) {\n\n      this.min.copy(min);\n      this.max.copy(max);\n\n      return this;\n\n    },\n\n    setFromPoints: function(points) {\n\n      this.makeEmpty();\n\n      for (var i = 0, il = points.length; i < il; i++) {\n\n        this.expandByPoint(points[i]);\n\n      }\n\n      return this;\n\n    },\n\n    setFromCenterAndSize: function(center, size) {\n\n      var halfSize = _vector$8.copy(size).multiplyScalar(0.5);\n      this.min.copy(center).sub(halfSize);\n      this.max.copy(center).add(halfSize);\n\n      return this;\n\n    },\n\n    clone: function() {\n\n      return new this.constructor().copy(this);\n\n    },\n\n    copy: function(box) {\n\n      this.min.copy(box.min);\n      this.max.copy(box.max);\n\n      return this;\n\n    },\n\n    makeEmpty: function() {\n\n      this.min.x = this.min.y = +Infinity;\n      this.max.x = this.max.y = -Infinity;\n\n      return this;\n\n    },\n\n    isEmpty: function() {\n\n      // this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n      return (this.max.x < this.min.x) || (this.max.y < this.min.y);\n\n    },\n\n    getCenter: function(target) {\n\n      if (target === undefined) {\n\n        console.warn('THREE.Box2: .getCenter() target is now required');\n        target = new Vector2();\n\n      }\n\n      return this.isEmpty() ? target.set(0, 0) : target.addVectors(this.min, this.max).multiplyScalar(0.5);\n\n    },\n\n    getSize: function(target) {\n\n      if (target === undefined) {\n\n        console.warn('THREE.Box2: .getSize() target is now required');\n        target = new Vector2();\n\n      }\n\n      return this.isEmpty() ? target.set(0, 0) : target.subVectors(this.max, this.min);\n\n    },\n\n    expandByPoint: function(point) {\n\n      this.min.min(point);\n      this.max.max(point);\n\n      return this;\n\n    },\n\n    expandByVector: function(vector) {\n\n      this.min.sub(vector);\n      this.max.add(vector);\n\n      return this;\n\n    },\n\n    expandByScalar: function(scalar) {\n\n      this.min.addScalar(-scalar);\n      this.max.addScalar(scalar);\n\n      return this;\n\n    },\n\n    containsPoint: function(point) {\n\n      return point.x < this.min.x || point.x > this.max.x ||\n        point.y < this.min.y || point.y > this.max.y ? false : true;\n\n    },\n\n    containsBox: function(box) {\n\n      return this.min.x <= box.min.x && box.max.x <= this.max.x &&\n        this.min.y <= box.min.y && box.max.y <= this.max.y;\n\n    },\n\n    getParameter: function(point, target) {\n\n      // This can potentially have a divide by zero if the box\n      // has a size dimension of 0.\n\n      if (target === undefined) {\n\n        console.warn('THREE.Box2: .getParameter() target is now required');\n        target = new Vector2();\n\n      }\n\n      return target.set(\n        (point.x - this.min.x) / (this.max.x - this.min.x),\n        (point.y - this.min.y) / (this.max.y - this.min.y)\n      );\n\n    },\n\n    intersectsBox: function(box) {\n\n      // using 4 splitting planes to rule out intersections\n\n      return box.max.x < this.min.x || box.min.x > this.max.x ||\n        box.max.y < this.min.y || box.min.y > this.max.y ? false : true;\n\n    },\n\n    clampPoint: function(point, target) {\n\n      if (target === undefined) {\n\n        console.warn('THREE.Box2: .clampPoint() target is now required');\n        target = new Vector2();\n\n      }\n\n      return target.copy(point).clamp(this.min, this.max);\n\n    },\n\n    distanceToPoint: function(point) {\n\n      var clampedPoint = _vector$8.copy(point).clamp(this.min, this.max);\n      return clampedPoint.sub(point).length();\n\n    },\n\n    intersect: function(box) {\n\n      this.min.max(box.min);\n      this.max.min(box.max);\n\n      return this;\n\n    },\n\n    union: function(box) {\n\n      this.min.min(box.min);\n      this.max.max(box.max);\n\n      return this;\n\n    },\n\n    translate: function(offset) {\n\n      this.min.add(offset);\n      this.max.add(offset);\n\n      return this;\n\n    },\n\n    equals: function(box) {\n\n      return box.min.equals(this.min) && box.max.equals(this.max);\n\n    }\n\n  });\n\n  /**\n   * @author bhouston / http://clara.io\n   */\n\n  var _startP = new Vector3();\n  var _startEnd = new Vector3();\n\n  function Line3(start, end) {\n\n    this.start = (start !== undefined) ? start : new Vector3();\n    this.end = (end !== undefined) ? end : new Vector3();\n\n  }\n\n  Object.assign(Line3.prototype, {\n\n    set: function(start, end) {\n\n      this.start.copy(start);\n      this.end.copy(end);\n\n      return this;\n\n    },\n\n    clone: function() {\n\n      return new this.constructor().copy(this);\n\n    },\n\n    copy: function(line) {\n\n      this.start.copy(line.start);\n      this.end.copy(line.end);\n\n      return this;\n\n    },\n\n    getCenter: function(target) {\n\n      if (target === undefined) {\n\n        console.warn('THREE.Line3: .getCenter() target is now required');\n        target = new Vector3();\n\n      }\n\n      return target.addVectors(this.start, this.end).multiplyScalar(0.5);\n\n    },\n\n    delta: function(target) {\n\n      if (target === undefined) {\n\n        console.warn('THREE.Line3: .delta() target is now required');\n        target = new Vector3();\n\n      }\n\n      return target.subVectors(this.end, this.start);\n\n    },\n\n    distanceSq: function() {\n\n      return this.start.distanceToSquared(this.end);\n\n    },\n\n    distance: function() {\n\n      return this.start.distanceTo(this.end);\n\n    },\n\n    at: function(t, target) {\n\n      if (target === undefined) {\n\n        console.warn('THREE.Line3: .at() target is now required');\n        target = new Vector3();\n\n      }\n\n      return this.delta(target).multiplyScalar(t).add(this.start);\n\n    },\n\n    closestPointToPointParameter: function(point, clampToLine) {\n\n      _startP.subVectors(point, this.start);\n      _startEnd.subVectors(this.end, this.start);\n\n      var startEnd2 = _startEnd.dot(_startEnd);\n      var startEnd_startP = _startEnd.dot(_startP);\n\n      var t = startEnd_startP / startEnd2;\n\n      if (clampToLine) {\n\n        t = _Math.clamp(t, 0, 1);\n\n      }\n\n      return t;\n\n    },\n\n    closestPointToPoint: function(point, clampToLine, target) {\n\n      var t = this.closestPointToPointParameter(point, clampToLine);\n\n      if (target === undefined) {\n\n        console.warn('THREE.Line3: .closestPointToPoint() target is now required');\n        target = new Vector3();\n\n      }\n\n      return this.delta(target).multiplyScalar(t).add(this.start);\n\n    },\n\n    applyMatrix4: function(matrix) {\n\n      this.start.applyMatrix4(matrix);\n      this.end.applyMatrix4(matrix);\n\n      return this;\n\n    },\n\n    equals: function(line) {\n\n      return line.start.equals(this.start) && line.end.equals(this.end);\n\n    }\n\n  });\n\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n  function ImmediateRenderObject(material) {\n\n    Object3D.call(this);\n\n    this.material = material;\n    this.render = function( /* renderCallback */ ) {};\n\n  }\n\n  ImmediateRenderObject.prototype = Object.create(Object3D.prototype);\n  ImmediateRenderObject.prototype.constructor = ImmediateRenderObject;\n\n  ImmediateRenderObject.prototype.isImmediateRenderObject = true;\n\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   * @author mrdoob / http://mrdoob.com/\n   * @author WestLangley / http://github.com/WestLangley\n   */\n\n  var _vector$9 = new Vector3();\n\n  function SpotLightHelper(light, color) {\n\n    Object3D.call(this);\n\n    this.light = light;\n    this.light.updateMatrixWorld();\n\n    this.matrix = light.matrixWorld;\n    this.matrixAutoUpdate = false;\n\n    this.color = color;\n\n    var geometry = new BufferGeometry();\n\n    var positions = [\n      0, 0, 0, 0, 0, 1,\n      0, 0, 0, 1, 0, 1,\n      0, 0, 0, -1, 0, 1,\n      0, 0, 0, 0, 1, 1,\n      0, 0, 0, 0, -1, 1\n    ];\n\n    for (var i = 0, j = 1, l = 32; i < l; i++, j++) {\n\n      var p1 = (i / l) * Math.PI * 2;\n      var p2 = (j / l) * Math.PI * 2;\n\n      positions.push(\n        Math.cos(p1), Math.sin(p1), 1,\n        Math.cos(p2), Math.sin(p2), 1\n      );\n\n    }\n\n    geometry.setAttribute('position', new Float32BufferAttribute(positions, 3));\n\n    var material = new LineBasicMaterial({\n      fog: false\n    });\n\n    this.cone = new LineSegments(geometry, material);\n    this.add(this.cone);\n\n    this.update();\n\n  }\n\n  SpotLightHelper.prototype = Object.create(Object3D.prototype);\n  SpotLightHelper.prototype.constructor = SpotLightHelper;\n\n  SpotLightHelper.prototype.dispose = function() {\n\n    this.cone.geometry.dispose();\n    this.cone.material.dispose();\n\n  };\n\n  SpotLightHelper.prototype.update = function() {\n\n    this.light.updateMatrixWorld();\n\n    var coneLength = this.light.distance ? this.light.distance : 1000;\n    var coneWidth = coneLength * Math.tan(this.light.angle);\n\n    this.cone.scale.set(coneWidth, coneWidth, coneLength);\n\n    _vector$9.setFromMatrixPosition(this.light.target.matrixWorld);\n\n    this.cone.lookAt(_vector$9);\n\n    if (this.color !== undefined) {\n\n      this.cone.material.color.set(this.color);\n\n    } else {\n\n      this.cone.material.color.copy(this.light.color);\n\n    }\n\n  };\n\n  /**\n   * @author Sean Griffin / http://twitter.com/sgrif\n   * @author Michael Guerrero / http://realitymeltdown.com\n   * @author mrdoob / http://mrdoob.com/\n   * @author ikerr / http://verold.com\n   * @author Mugen87 / https://github.com/Mugen87\n   */\n\n  var _vector$a = new Vector3();\n  var _boneMatrix = new Matrix4();\n  var _matrixWorldInv = new Matrix4();\n\n  function getBoneList(object) {\n\n    var boneList = [];\n\n    if (object && object.isBone) {\n\n      boneList.push(object);\n\n    }\n\n    for (var i = 0; i < object.children.length; i++) {\n\n      boneList.push.apply(boneList, getBoneList(object.children[i]));\n\n    }\n\n    return boneList;\n\n  }\n\n  function SkeletonHelper(object) {\n\n    var bones = getBoneList(object);\n\n    var geometry = new BufferGeometry();\n\n    var vertices = [];\n    var colors = [];\n\n    var color1 = new Color(0, 0, 1);\n    var color2 = new Color(0, 1, 0);\n\n    for (var i = 0; i < bones.length; i++) {\n\n      var bone = bones[i];\n\n      if (bone.parent && bone.parent.isBone) {\n\n        vertices.push(0, 0, 0);\n        vertices.push(0, 0, 0);\n        colors.push(color1.r, color1.g, color1.b);\n        colors.push(color2.r, color2.g, color2.b);\n\n      }\n\n    }\n\n    geometry.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n    geometry.setAttribute('color', new Float32BufferAttribute(colors, 3));\n\n    var material = new LineBasicMaterial({\n      vertexColors: VertexColors,\n      depthTest: false,\n      depthWrite: false,\n      transparent: true\n    });\n\n    LineSegments.call(this, geometry, material);\n\n    this.root = object;\n    this.bones = bones;\n\n    this.matrix = object.matrixWorld;\n    this.matrixAutoUpdate = false;\n\n  }\n\n  SkeletonHelper.prototype = Object.create(LineSegments.prototype);\n  SkeletonHelper.prototype.constructor = SkeletonHelper;\n\n  SkeletonHelper.prototype.updateMatrixWorld = function(force) {\n\n    var bones = this.bones;\n\n    var geometry = this.geometry;\n    var position = geometry.getAttribute('position');\n\n    _matrixWorldInv.getInverse(this.root.matrixWorld);\n\n    for (var i = 0, j = 0; i < bones.length; i++) {\n\n      var bone = bones[i];\n\n      if (bone.parent && bone.parent.isBone) {\n\n        _boneMatrix.multiplyMatrices(_matrixWorldInv, bone.matrixWorld);\n        _vector$a.setFromMatrixPosition(_boneMatrix);\n        position.setXYZ(j, _vector$a.x, _vector$a.y, _vector$a.z);\n\n        _boneMatrix.multiplyMatrices(_matrixWorldInv, bone.parent.matrixWorld);\n        _vector$a.setFromMatrixPosition(_boneMatrix);\n        position.setXYZ(j + 1, _vector$a.x, _vector$a.y, _vector$a.z);\n\n        j += 2;\n\n      }\n\n    }\n\n    geometry.getAttribute('position').needsUpdate = true;\n\n    Object3D.prototype.updateMatrixWorld.call(this, force);\n\n  };\n\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function PointLightHelper(light, sphereSize, color) {\n\n    this.light = light;\n    this.light.updateMatrixWorld();\n\n    this.color = color;\n\n    var geometry = new SphereBufferGeometry(sphereSize, 4, 2);\n    var material = new MeshBasicMaterial({\n      wireframe: true,\n      fog: false\n    });\n\n    Mesh.call(this, geometry, material);\n\n    this.matrix = this.light.matrixWorld;\n    this.matrixAutoUpdate = false;\n\n    this.update();\n\n\n    /*\n    var distanceGeometry = new THREE.IcosahedronBufferGeometry( 1, 2 );\n    var distanceMaterial = new THREE.MeshBasicMaterial( { color: hexColor, fog: false, wireframe: true, opacity: 0.1, transparent: true } );\n\n    this.lightSphere = new THREE.Mesh( bulbGeometry, bulbMaterial );\n    this.lightDistance = new THREE.Mesh( distanceGeometry, distanceMaterial );\n\n    var d = light.distance;\n\n    if ( d === 0.0 ) {\n\n    \tthis.lightDistance.visible = false;\n\n    } else {\n\n    \tthis.lightDistance.scale.set( d, d, d );\n\n    }\n\n    this.add( this.lightDistance );\n    */\n\n  }\n\n  PointLightHelper.prototype = Object.create(Mesh.prototype);\n  PointLightHelper.prototype.constructor = PointLightHelper;\n\n  PointLightHelper.prototype.dispose = function() {\n\n    this.geometry.dispose();\n    this.material.dispose();\n\n  };\n\n  PointLightHelper.prototype.update = function() {\n\n    if (this.color !== undefined) {\n\n      this.material.color.set(this.color);\n\n    } else {\n\n      this.material.color.copy(this.light.color);\n\n    }\n\n    /*\n    var d = this.light.distance;\n\n    if ( d === 0.0 ) {\n\n    \tthis.lightDistance.visible = false;\n\n    } else {\n\n    \tthis.lightDistance.visible = true;\n    \tthis.lightDistance.scale.set( d, d, d );\n\n    }\n    */\n\n  };\n\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   * @author mrdoob / http://mrdoob.com/\n   * @author Mugen87 / https://github.com/Mugen87\n   */\n\n  var _vector$b = new Vector3();\n  var _color1 = new Color();\n  var _color2 = new Color();\n\n  function HemisphereLightHelper(light, size, color) {\n\n    Object3D.call(this);\n\n    this.light = light;\n    this.light.updateMatrixWorld();\n\n    this.matrix = light.matrixWorld;\n    this.matrixAutoUpdate = false;\n\n    this.color = color;\n\n    var geometry = new OctahedronBufferGeometry(size);\n    geometry.rotateY(Math.PI * 0.5);\n\n    this.material = new MeshBasicMaterial({\n      wireframe: true,\n      fog: false\n    });\n    if (this.color === undefined) {\n      this.material.vertexColors = VertexColors;\n    }\n\n    var position = geometry.getAttribute('position');\n    var colors = new Float32Array(position.count * 3);\n\n    geometry.setAttribute('color', new BufferAttribute(colors, 3));\n\n    this.add(new Mesh(geometry, this.material));\n\n    this.update();\n\n  }\n\n  HemisphereLightHelper.prototype = Object.create(Object3D.prototype);\n  HemisphereLightHelper.prototype.constructor = HemisphereLightHelper;\n\n  HemisphereLightHelper.prototype.dispose = function() {\n\n    this.children[0].geometry.dispose();\n    this.children[0].material.dispose();\n\n  };\n\n  HemisphereLightHelper.prototype.update = function() {\n\n    var mesh = this.children[0];\n\n    if (this.color !== undefined) {\n\n      this.material.color.set(this.color);\n\n    } else {\n\n      var colors = mesh.geometry.getAttribute('color');\n\n      _color1.copy(this.light.color);\n      _color2.copy(this.light.groundColor);\n\n      for (var i = 0, l = colors.count; i < l; i++) {\n\n        var color = (i < (l / 2)) ? _color1 : _color2;\n\n        colors.setXYZ(i, color.r, color.g, color.b);\n\n      }\n\n      colors.needsUpdate = true;\n\n    }\n\n    mesh.lookAt(_vector$b.setFromMatrixPosition(this.light.matrixWorld).negate());\n\n  };\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function GridHelper(size, divisions, color1, color2) {\n\n    size = size || 10;\n    divisions = divisions || 10;\n    color1 = new Color(color1 !== undefined ? color1 : 0x444444);\n    color2 = new Color(color2 !== undefined ? color2 : 0x888888);\n\n    var center = divisions / 2;\n    var step = size / divisions;\n    var halfSize = size / 2;\n\n    var vertices = [],\n      colors = [];\n\n    for (var i = 0, j = 0, k = -halfSize; i <= divisions; i++, k += step) {\n\n      vertices.push(-halfSize, 0, k, halfSize, 0, k);\n      vertices.push(k, 0, -halfSize, k, 0, halfSize);\n\n      var color = i === center ? color1 : color2;\n\n      color.toArray(colors, j);\n      j += 3;\n      color.toArray(colors, j);\n      j += 3;\n      color.toArray(colors, j);\n      j += 3;\n      color.toArray(colors, j);\n      j += 3;\n\n    }\n\n    var geometry = new BufferGeometry();\n    geometry.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n    geometry.setAttribute('color', new Float32BufferAttribute(colors, 3));\n\n    var material = new LineBasicMaterial({\n      vertexColors: VertexColors\n    });\n\n    LineSegments.call(this, geometry, material);\n\n  }\n\n  GridHelper.prototype = Object.assign(Object.create(LineSegments.prototype), {\n\n    constructor: GridHelper,\n\n    copy: function(source) {\n\n      LineSegments.prototype.copy.call(this, source);\n\n      this.geometry.copy(source.geometry);\n      this.material.copy(source.material);\n\n      return this;\n\n    },\n\n    clone: function() {\n\n      return new this.constructor().copy(this);\n\n    }\n\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author Mugen87 / http://github.com/Mugen87\n   * @author Hectate / http://www.github.com/Hectate\n   */\n\n  function PolarGridHelper(radius, radials, circles, divisions, color1, color2) {\n\n    radius = radius || 10;\n    radials = radials || 16;\n    circles = circles || 8;\n    divisions = divisions || 64;\n    color1 = new Color(color1 !== undefined ? color1 : 0x444444);\n    color2 = new Color(color2 !== undefined ? color2 : 0x888888);\n\n    var vertices = [];\n    var colors = [];\n\n    var x, z;\n    var v, i, j, r, color;\n\n    // create the radials\n\n    for (i = 0; i <= radials; i++) {\n\n      v = (i / radials) * (Math.PI * 2);\n\n      x = Math.sin(v) * radius;\n      z = Math.cos(v) * radius;\n\n      vertices.push(0, 0, 0);\n      vertices.push(x, 0, z);\n\n      color = (i & 1) ? color1 : color2;\n\n      colors.push(color.r, color.g, color.b);\n      colors.push(color.r, color.g, color.b);\n\n    }\n\n    // create the circles\n\n    for (i = 0; i <= circles; i++) {\n\n      color = (i & 1) ? color1 : color2;\n\n      r = radius - (radius / circles * i);\n\n      for (j = 0; j < divisions; j++) {\n\n        // first vertex\n\n        v = (j / divisions) * (Math.PI * 2);\n\n        x = Math.sin(v) * r;\n        z = Math.cos(v) * r;\n\n        vertices.push(x, 0, z);\n        colors.push(color.r, color.g, color.b);\n\n        // second vertex\n\n        v = ((j + 1) / divisions) * (Math.PI * 2);\n\n        x = Math.sin(v) * r;\n        z = Math.cos(v) * r;\n\n        vertices.push(x, 0, z);\n        colors.push(color.r, color.g, color.b);\n\n      }\n\n    }\n\n    var geometry = new BufferGeometry();\n    geometry.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n    geometry.setAttribute('color', new Float32BufferAttribute(colors, 3));\n\n    var material = new LineBasicMaterial({\n      vertexColors: VertexColors\n    });\n\n    LineSegments.call(this, geometry, material);\n\n  }\n\n  PolarGridHelper.prototype = Object.create(LineSegments.prototype);\n  PolarGridHelper.prototype.constructor = PolarGridHelper;\n\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   * @author mrdoob / http://mrdoob.com/\n   * @author WestLangley / http://github.com/WestLangley\n   */\n\n  var _v1$5 = new Vector3();\n  var _v2$3 = new Vector3();\n  var _v3$1 = new Vector3();\n\n  function DirectionalLightHelper(light, size, color) {\n\n    Object3D.call(this);\n\n    this.light = light;\n    this.light.updateMatrixWorld();\n\n    this.matrix = light.matrixWorld;\n    this.matrixAutoUpdate = false;\n\n    this.color = color;\n\n    if (size === undefined) {\n      size = 1;\n    }\n\n    var geometry = new BufferGeometry();\n    geometry.setAttribute('position', new Float32BufferAttribute([\n      -size, size, 0,\n      size, size, 0,\n      size, -size, 0,\n      -size, -size, 0,\n      -size, size, 0\n    ], 3));\n\n    var material = new LineBasicMaterial({\n      fog: false\n    });\n\n    this.lightPlane = new Line(geometry, material);\n    this.add(this.lightPlane);\n\n    geometry = new BufferGeometry();\n    geometry.setAttribute('position', new Float32BufferAttribute([0, 0, 0, 0, 0, 1], 3));\n\n    this.targetLine = new Line(geometry, material);\n    this.add(this.targetLine);\n\n    this.update();\n\n  }\n\n  DirectionalLightHelper.prototype = Object.create(Object3D.prototype);\n  DirectionalLightHelper.prototype.constructor = DirectionalLightHelper;\n\n  DirectionalLightHelper.prototype.dispose = function() {\n\n    this.lightPlane.geometry.dispose();\n    this.lightPlane.material.dispose();\n    this.targetLine.geometry.dispose();\n    this.targetLine.material.dispose();\n\n  };\n\n  DirectionalLightHelper.prototype.update = function() {\n\n    _v1$5.setFromMatrixPosition(this.light.matrixWorld);\n    _v2$3.setFromMatrixPosition(this.light.target.matrixWorld);\n    _v3$1.subVectors(_v2$3, _v1$5);\n\n    this.lightPlane.lookAt(_v2$3);\n\n    if (this.color !== undefined) {\n\n      this.lightPlane.material.color.set(this.color);\n      this.targetLine.material.color.set(this.color);\n\n    } else {\n\n      this.lightPlane.material.color.copy(this.light.color);\n      this.targetLine.material.color.copy(this.light.color);\n\n    }\n\n    this.targetLine.lookAt(_v2$3);\n    this.targetLine.scale.z = _v3$1.length();\n\n  };\n\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   * @author Mugen87 / https://github.com/Mugen87\n   *\n   *\t- shows frustum, line of sight and up of the camera\n   *\t- suitable for fast updates\n   * \t- based on frustum visualization in lightgl.js shadowmap example\n   *\t\thttp://evanw.github.com/lightgl.js/tests/shadowmap.html\n   */\n\n  var _vector$c = new Vector3();\n  var _camera = new Camera();\n\n  function CameraHelper(camera) {\n\n    var geometry = new BufferGeometry();\n    var material = new LineBasicMaterial({\n      color: 0xffffff,\n      vertexColors: FaceColors\n    });\n\n    var vertices = [];\n    var colors = [];\n\n    var pointMap = {};\n\n    // colors\n\n    var colorFrustum = new Color(0xffaa00);\n    var colorCone = new Color(0xff0000);\n    var colorUp = new Color(0x00aaff);\n    var colorTarget = new Color(0xffffff);\n    var colorCross = new Color(0x333333);\n\n    // near\n\n    addLine('n1', 'n2', colorFrustum);\n    addLine('n2', 'n4', colorFrustum);\n    addLine('n4', 'n3', colorFrustum);\n    addLine('n3', 'n1', colorFrustum);\n\n    // far\n\n    addLine('f1', 'f2', colorFrustum);\n    addLine('f2', 'f4', colorFrustum);\n    addLine('f4', 'f3', colorFrustum);\n    addLine('f3', 'f1', colorFrustum);\n\n    // sides\n\n    addLine('n1', 'f1', colorFrustum);\n    addLine('n2', 'f2', colorFrustum);\n    addLine('n3', 'f3', colorFrustum);\n    addLine('n4', 'f4', colorFrustum);\n\n    // cone\n\n    addLine('p', 'n1', colorCone);\n    addLine('p', 'n2', colorCone);\n    addLine('p', 'n3', colorCone);\n    addLine('p', 'n4', colorCone);\n\n    // up\n\n    addLine('u1', 'u2', colorUp);\n    addLine('u2', 'u3', colorUp);\n    addLine('u3', 'u1', colorUp);\n\n    // target\n\n    addLine('c', 't', colorTarget);\n    addLine('p', 'c', colorCross);\n\n    // cross\n\n    addLine('cn1', 'cn2', colorCross);\n    addLine('cn3', 'cn4', colorCross);\n\n    addLine('cf1', 'cf2', colorCross);\n    addLine('cf3', 'cf4', colorCross);\n\n    function addLine(a, b, color) {\n\n      addPoint(a, color);\n      addPoint(b, color);\n\n    }\n\n    function addPoint(id, color) {\n\n      vertices.push(0, 0, 0);\n      colors.push(color.r, color.g, color.b);\n\n      if (pointMap[id] === undefined) {\n\n        pointMap[id] = [];\n\n      }\n\n      pointMap[id].push((vertices.length / 3) - 1);\n\n    }\n\n    geometry.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n    geometry.setAttribute('color', new Float32BufferAttribute(colors, 3));\n\n    LineSegments.call(this, geometry, material);\n\n    this.camera = camera;\n    if (this.camera.updateProjectionMatrix) {\n      this.camera.updateProjectionMatrix();\n    }\n\n    this.matrix = camera.matrixWorld;\n    this.matrixAutoUpdate = false;\n\n    this.pointMap = pointMap;\n\n    this.update();\n\n  }\n\n  CameraHelper.prototype = Object.create(LineSegments.prototype);\n  CameraHelper.prototype.constructor = CameraHelper;\n\n  CameraHelper.prototype.update = function() {\n\n    var geometry = this.geometry;\n    var pointMap = this.pointMap;\n\n    var w = 1,\n      h = 1;\n\n    // we need just camera projection matrix inverse\n    // world matrix must be identity\n\n    _camera.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);\n\n    // center / target\n\n    setPoint('c', pointMap, geometry, _camera, 0, 0, -1);\n    setPoint('t', pointMap, geometry, _camera, 0, 0, 1);\n\n    // near\n\n    setPoint('n1', pointMap, geometry, _camera, -w, -h, -1);\n    setPoint('n2', pointMap, geometry, _camera, w, -h, -1);\n    setPoint('n3', pointMap, geometry, _camera, -w, h, -1);\n    setPoint('n4', pointMap, geometry, _camera, w, h, -1);\n\n    // far\n\n    setPoint('f1', pointMap, geometry, _camera, -w, -h, 1);\n    setPoint('f2', pointMap, geometry, _camera, w, -h, 1);\n    setPoint('f3', pointMap, geometry, _camera, -w, h, 1);\n    setPoint('f4', pointMap, geometry, _camera, w, h, 1);\n\n    // up\n\n    setPoint('u1', pointMap, geometry, _camera, w * 0.7, h * 1.1, -1);\n    setPoint('u2', pointMap, geometry, _camera, -w * 0.7, h * 1.1, -1);\n    setPoint('u3', pointMap, geometry, _camera, 0, h * 2, -1);\n\n    // cross\n\n    setPoint('cf1', pointMap, geometry, _camera, -w, 0, 1);\n    setPoint('cf2', pointMap, geometry, _camera, w, 0, 1);\n    setPoint('cf3', pointMap, geometry, _camera, 0, -h, 1);\n    setPoint('cf4', pointMap, geometry, _camera, 0, h, 1);\n\n    setPoint('cn1', pointMap, geometry, _camera, -w, 0, -1);\n    setPoint('cn2', pointMap, geometry, _camera, w, 0, -1);\n    setPoint('cn3', pointMap, geometry, _camera, 0, -h, -1);\n    setPoint('cn4', pointMap, geometry, _camera, 0, h, -1);\n\n    geometry.getAttribute('position').needsUpdate = true;\n\n  };\n\n  function setPoint(point, pointMap, geometry, camera, x, y, z) {\n\n    _vector$c.set(x, y, z).unproject(camera);\n\n    var points = pointMap[point];\n\n    if (points !== undefined) {\n\n      var position = geometry.getAttribute('position');\n\n      for (var i = 0, l = points.length; i < l; i++) {\n\n        position.setXYZ(points[i], _vector$c.x, _vector$c.y, _vector$c.z);\n\n      }\n\n    }\n\n  }\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author Mugen87 / http://github.com/Mugen87\n   */\n\n  var _box$3 = new Box3();\n\n  function BoxHelper(object, color) {\n\n    this.object = object;\n\n    if (color === undefined) {\n      color = 0xffff00;\n    }\n\n    var indices = new Uint16Array([0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7]);\n    var positions = new Float32Array(8 * 3);\n\n    var geometry = new BufferGeometry();\n    geometry.setIndex(new BufferAttribute(indices, 1));\n    geometry.setAttribute('position', new BufferAttribute(positions, 3));\n\n    LineSegments.call(this, geometry, new LineBasicMaterial({\n      color: color\n    }));\n\n    this.matrixAutoUpdate = false;\n\n    this.update();\n\n  }\n\n  BoxHelper.prototype = Object.create(LineSegments.prototype);\n  BoxHelper.prototype.constructor = BoxHelper;\n\n  BoxHelper.prototype.update = function(object) {\n\n    if (object !== undefined) {\n\n      console.warn('THREE.BoxHelper: .update() has no longer arguments.');\n\n    }\n\n    if (this.object !== undefined) {\n\n      _box$3.setFromObject(this.object);\n\n    }\n\n    if (_box$3.isEmpty()) {\n      return;\n    }\n\n    var min = _box$3.min;\n    var max = _box$3.max;\n\n    /*\n      5____4\n    1/___0/|\n    | 6__|_7\n    2/___3/\n\n    0: max.x, max.y, max.z\n    1: min.x, max.y, max.z\n    2: min.x, min.y, max.z\n    3: max.x, min.y, max.z\n    4: max.x, max.y, min.z\n    5: min.x, max.y, min.z\n    6: min.x, min.y, min.z\n    7: max.x, min.y, min.z\n    */\n\n    var position = this.geometry.attributes.position;\n    var array = position.array;\n\n    array[0] = max.x;\n    array[1] = max.y;\n    array[2] = max.z;\n    array[3] = min.x;\n    array[4] = max.y;\n    array[5] = max.z;\n    array[6] = min.x;\n    array[7] = min.y;\n    array[8] = max.z;\n    array[9] = max.x;\n    array[10] = min.y;\n    array[11] = max.z;\n    array[12] = max.x;\n    array[13] = max.y;\n    array[14] = min.z;\n    array[15] = min.x;\n    array[16] = max.y;\n    array[17] = min.z;\n    array[18] = min.x;\n    array[19] = min.y;\n    array[20] = min.z;\n    array[21] = max.x;\n    array[22] = min.y;\n    array[23] = min.z;\n\n    position.needsUpdate = true;\n\n    this.geometry.computeBoundingSphere();\n\n\n  };\n\n  BoxHelper.prototype.setFromObject = function(object) {\n\n    this.object = object;\n    this.update();\n\n    return this;\n\n  };\n\n  BoxHelper.prototype.copy = function(source) {\n\n    LineSegments.prototype.copy.call(this, source);\n\n    this.object = source.object;\n\n    return this;\n\n  };\n\n  BoxHelper.prototype.clone = function() {\n\n    return new this.constructor().copy(this);\n\n  };\n\n  /**\n   * @author WestLangley / http://github.com/WestLangley\n   */\n\n  function Box3Helper(box, color) {\n\n    this.type = 'Box3Helper';\n\n    this.box = box;\n\n    color = color || 0xffff00;\n\n    var indices = new Uint16Array([0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7]);\n\n    var positions = [1, 1, 1, -1, 1, 1, -1, -1, 1, 1, -1, 1, 1, 1, -1, -1, 1, -1, -1, -1, -1, 1, -1, -1];\n\n    var geometry = new BufferGeometry();\n\n    geometry.setIndex(new BufferAttribute(indices, 1));\n\n    geometry.setAttribute('position', new Float32BufferAttribute(positions, 3));\n\n    LineSegments.call(this, geometry, new LineBasicMaterial({\n      color: color\n    }));\n\n    this.geometry.computeBoundingSphere();\n\n  }\n\n  Box3Helper.prototype = Object.create(LineSegments.prototype);\n  Box3Helper.prototype.constructor = Box3Helper;\n\n  Box3Helper.prototype.updateMatrixWorld = function(force) {\n\n    var box = this.box;\n\n    if (box.isEmpty()) {\n      return;\n    }\n\n    box.getCenter(this.position);\n\n    box.getSize(this.scale);\n\n    this.scale.multiplyScalar(0.5);\n\n    Object3D.prototype.updateMatrixWorld.call(this, force);\n\n  };\n\n  /**\n   * @author WestLangley / http://github.com/WestLangley\n   */\n\n  function PlaneHelper(plane, size, hex) {\n\n    this.type = 'PlaneHelper';\n\n    this.plane = plane;\n\n    this.size = (size === undefined) ? 1 : size;\n\n    var color = (hex !== undefined) ? hex : 0xffff00;\n\n    var positions = [1, -1, 1, -1, 1, 1, -1, -1, 1, 1, 1, 1, -1, 1, 1, -1, -1, 1, 1, -1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0];\n\n    var geometry = new BufferGeometry();\n    geometry.setAttribute('position', new Float32BufferAttribute(positions, 3));\n    geometry.computeBoundingSphere();\n\n    Line.call(this, geometry, new LineBasicMaterial({\n      color: color\n    }));\n\n    //\n\n    var positions2 = [1, 1, 1, -1, 1, 1, -1, -1, 1, 1, 1, 1, -1, -1, 1, 1, -1, 1];\n\n    var geometry2 = new BufferGeometry();\n    geometry2.setAttribute('position', new Float32BufferAttribute(positions2, 3));\n    geometry2.computeBoundingSphere();\n\n    this.add(new Mesh(geometry2, new MeshBasicMaterial({\n      color: color,\n      opacity: 0.2,\n      transparent: true,\n      depthWrite: false\n    })));\n\n  }\n\n  PlaneHelper.prototype = Object.create(Line.prototype);\n  PlaneHelper.prototype.constructor = PlaneHelper;\n\n  PlaneHelper.prototype.updateMatrixWorld = function(force) {\n\n    var scale = -this.plane.constant;\n\n    if (Math.abs(scale) < 1e-8) {\n      scale = 1e-8;\n    } // sign does not matter\n\n    this.scale.set(0.5 * this.size, 0.5 * this.size, scale);\n\n    this.children[0].material.side = (scale < 0) ? BackSide : FrontSide; // renderer flips side when determinant < 0; flipping not wanted here\n\n    this.lookAt(this.plane.normal);\n\n    Object3D.prototype.updateMatrixWorld.call(this, force);\n\n  };\n\n  /**\n   * @author WestLangley / http://github.com/WestLangley\n   * @author zz85 / http://github.com/zz85\n   * @author bhouston / http://clara.io\n   *\n   * Creates an arrow for visualizing directions\n   *\n   * Parameters:\n   *  dir - Vector3\n   *  origin - Vector3\n   *  length - Number\n   *  color - color in hex value\n   *  headLength - Number\n   *  headWidth - Number\n   */\n\n  var _axis = new Vector3();\n  var _lineGeometry, _coneGeometry;\n\n  function ArrowHelper(dir, origin, length, color, headLength, headWidth) {\n\n    // dir is assumed to be normalized\n\n    Object3D.call(this);\n\n    if (dir === undefined) {\n      dir = new Vector3(0, 0, 1);\n    }\n    if (origin === undefined) {\n      origin = new Vector3(0, 0, 0);\n    }\n    if (length === undefined) {\n      length = 1;\n    }\n    if (color === undefined) {\n      color = 0xffff00;\n    }\n    if (headLength === undefined) {\n      headLength = 0.2 * length;\n    }\n    if (headWidth === undefined) {\n      headWidth = 0.2 * headLength;\n    }\n\n    if (_lineGeometry === undefined) {\n\n      _lineGeometry = new BufferGeometry();\n      _lineGeometry.setAttribute('position', new Float32BufferAttribute([0, 0, 0, 0, 1, 0], 3));\n\n      _coneGeometry = new CylinderBufferGeometry(0, 0.5, 1, 5, 1);\n      _coneGeometry.translate(0, -0.5, 0);\n\n    }\n\n    this.position.copy(origin);\n\n    this.line = new Line(_lineGeometry, new LineBasicMaterial({\n      color: color\n    }));\n    this.line.matrixAutoUpdate = false;\n    this.add(this.line);\n\n    this.cone = new Mesh(_coneGeometry, new MeshBasicMaterial({\n      color: color\n    }));\n    this.cone.matrixAutoUpdate = false;\n    this.add(this.cone);\n\n    this.setDirection(dir);\n    this.setLength(length, headLength, headWidth);\n\n  }\n\n  ArrowHelper.prototype = Object.create(Object3D.prototype);\n  ArrowHelper.prototype.constructor = ArrowHelper;\n\n  ArrowHelper.prototype.setDirection = function(dir) {\n\n    // dir is assumed to be normalized\n\n    if (dir.y > 0.99999) {\n\n      this.quaternion.set(0, 0, 0, 1);\n\n    } else if (dir.y < -0.99999) {\n\n      this.quaternion.set(1, 0, 0, 0);\n\n    } else {\n\n      _axis.set(dir.z, 0, -dir.x).normalize();\n\n      var radians = Math.acos(dir.y);\n\n      this.quaternion.setFromAxisAngle(_axis, radians);\n\n    }\n\n  };\n\n  ArrowHelper.prototype.setLength = function(length, headLength, headWidth) {\n\n    if (headLength === undefined) {\n      headLength = 0.2 * length;\n    }\n    if (headWidth === undefined) {\n      headWidth = 0.2 * headLength;\n    }\n\n    this.line.scale.set(1, Math.max(0.0001, length - headLength), 1); // see #17458\n    this.line.updateMatrix();\n\n    this.cone.scale.set(headWidth, headLength, headWidth);\n    this.cone.position.y = length;\n    this.cone.updateMatrix();\n\n  };\n\n  ArrowHelper.prototype.setColor = function(color) {\n\n    this.line.material.color.set(color);\n    this.cone.material.color.set(color);\n\n  };\n\n  ArrowHelper.prototype.copy = function(source) {\n\n    Object3D.prototype.copy.call(this, source, false);\n\n    this.line.copy(source.line);\n    this.cone.copy(source.cone);\n\n    return this;\n\n  };\n\n  ArrowHelper.prototype.clone = function() {\n\n    return new this.constructor().copy(this);\n\n  };\n\n  /**\n   * @author sroucheray / http://sroucheray.org/\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function AxesHelper(size) {\n\n    size = size || 1;\n\n    var vertices = [\n      0, 0, 0, size, 0, 0,\n      0, 0, 0, 0, size, 0,\n      0, 0, 0, 0, 0, size\n    ];\n\n    var colors = [\n      1, 0, 0, 1, 0.6, 0,\n      0, 1, 0, 0.6, 1, 0,\n      0, 0, 1, 0, 0.6, 1\n    ];\n\n    var geometry = new BufferGeometry();\n    geometry.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n    geometry.setAttribute('color', new Float32BufferAttribute(colors, 3));\n\n    var material = new LineBasicMaterial({\n      vertexColors: VertexColors\n    });\n\n    LineSegments.call(this, geometry, material);\n\n  }\n\n  AxesHelper.prototype = Object.create(LineSegments.prototype);\n  AxesHelper.prototype.constructor = AxesHelper;\n\n  /**\n   * @author Emmett Lalish / elalish\n   *\n   * This class generates a Prefiltered, Mipmapped Radiance Environment Map\n   * (PMREM) from a cubeMap environment texture. This allows different levels of\n   * blur to be quickly accessed based on material roughness. It is packed into a\n   * special CubeUV format that allows us to perform custom interpolation so that\n   * we can support nonlinear formats such as RGBE. Unlike a traditional mipmap\n   * chain, it only goes down to the LOD_MIN level (above), and then creates extra\n   * even more filtered 'mips' at the same LOD_MIN resolution, associated with\n   * higher roughness levels. In this way we maintain resolution to smoothly\n   * interpolate diffuse lighting while limiting sampling computation.\n   */\n\n  var LOD_MIN = 4;\n  var LOD_MAX = 8;\n  var SIZE_MAX = Math.pow(2, LOD_MAX);\n  // The standard deviations (radians) associated with the extra mips. These are\n  // chosen to approximate a Trowbridge-Reitz distribution function times the\n  // geometric shadowing function. These sigma values squared must match the\n  // variance #defines in cube_uv_reflection_fragment.glsl.js.\n  var EXTRA_LOD_SIGMA = [0.125, 0.215, 0.35, 0.446, 0.526, 0.582];\n  var TOTAL_LODS = LOD_MAX - LOD_MIN + 1 + EXTRA_LOD_SIGMA.length;\n  // The maximum length of the blur for loop. Smaller sigmas will use fewer\n  // samples and exit early, but not recompile the shader.\n  var MAX_SAMPLES = 20;\n  var ENCODINGS = {};\n  ENCODINGS[LinearEncoding] = 0;\n  ENCODINGS[sRGBEncoding] = 1;\n  ENCODINGS[RGBEEncoding] = 2;\n  ENCODINGS[RGBM7Encoding] = 3;\n  ENCODINGS[RGBM16Encoding] = 4;\n  ENCODINGS[RGBDEncoding] = 5;\n  ENCODINGS[GammaEncoding] = 6;\n\n  var _flatCamera = new OrthographicCamera();\n  var _blurMaterial = _getBlurShader(MAX_SAMPLES);\n  var _equirectShader = null;\n  var _cubemapShader = null;\n\n  var ref = _createPlanes();\n  var _lodPlanes = ref._lodPlanes;\n  var _sizeLods = ref._sizeLods;\n  var _sigmas = ref._sigmas;\n  var _pingPongRenderTarget = null;\n  var _renderer = null;\n\n  // Golden Ratio\n  var PHI = (1 + Math.sqrt(5)) / 2;\n  var INV_PHI = 1 / PHI;\n  // Vertices of a dodecahedron (except the opposites, which represent the\n  // same axis), used as axis directions evenly spread on a sphere.\n  var _axisDirections = [\n    new Vector3(1, 1, 1),\n    new Vector3(-1, 1, 1),\n    new Vector3(1, 1, -1),\n    new Vector3(-1, 1, -1),\n    new Vector3(0, PHI, INV_PHI),\n    new Vector3(0, PHI, -INV_PHI),\n    new Vector3(INV_PHI, 0, PHI),\n    new Vector3(-INV_PHI, 0, PHI),\n    new Vector3(PHI, INV_PHI, 0),\n    new Vector3(-PHI, INV_PHI, 0)\n  ];\n\n  function PMREMGenerator(renderer) {\n\n    _renderer = renderer;\n    _compileMaterial(_blurMaterial);\n\n  }\n\n  PMREMGenerator.prototype = {\n\n    constructor: PMREMGenerator,\n\n    /**\n     * Generates a PMREM from a supplied Scene, which can be faster than using an\n     * image if networking bandwidth is low. Optional sigma specifies a blur radius\n     * in radians to be applied to the scene before PMREM generation. Optional near\n     * and far planes ensure the scene is rendered in its entirety (the cubeCamera\n     * is placed at the origin).\n     */\n    fromScene: function(scene, sigma, near, far) {\n      if (sigma === void 0) sigma = 0;\n      if (near === void 0) near = 0.1;\n      if (far === void 0) far = 100;\n\n\n      var cubeUVRenderTarget = _allocateTargets();\n      _sceneToCubeUV(scene, near, far, cubeUVRenderTarget);\n      if (sigma > 0) {\n\n        _blur(cubeUVRenderTarget, 0, 0, sigma);\n\n      }\n      _applyPMREM(cubeUVRenderTarget);\n      _cleanup();\n      cubeUVRenderTarget.scissorTest = false;\n\n      return cubeUVRenderTarget;\n\n    },\n\n    /**\n     * Generates a PMREM from an equirectangular texture, which can be either LDR\n     * (RGBFormat) or HDR (RGBEFormat). The ideal input image size is 1k (1024 x 512),\n     * as this matches best with the 256 x 256 cubemap output.\n     */\n    fromEquirectangular: function(equirectangular) {\n\n      equirectangular.magFilter = NearestFilter;\n      equirectangular.minFilter = NearestFilter;\n      equirectangular.generateMipmaps = false;\n\n      return this.fromCubemap(equirectangular);\n\n    },\n\n    /**\n     * Generates a PMREM from an cubemap texture, which can be either LDR\n     * (RGBFormat) or HDR (RGBEFormat). The ideal input cube size is 256 x 256,\n     * as this matches best with the 256 x 256 cubemap output.\n     */\n    fromCubemap: function(cubemap) {\n\n      var cubeUVRenderTarget = _allocateTargets(cubemap);\n      _textureToCubeUV(cubemap, cubeUVRenderTarget);\n      _applyPMREM(cubeUVRenderTarget);\n      _cleanup();\n      cubeUVRenderTarget.scissorTest = false;\n\n      return cubeUVRenderTarget;\n\n    },\n\n    /**\n     * Pre-compiles the cubemap shader. You can get faster start-up by invoking this method during\n     * your texture's network fetch for increased concurrency.\n     */\n    compileCubemapShader: function() {\n\n      if (_cubemapShader == null) {\n\n        _cubemapShader = _getCubemapShader();\n        _compileMaterial(_cubemapShader);\n\n      }\n\n    },\n\n    /**\n     * Pre-compiles the equirectangular shader. You can get faster start-up by invoking this method during\n     * your texture's network fetch for increased concurrency.\n     */\n    compileEquirectangularShader: function() {\n\n      if (_equirectShader == null) {\n\n        _equirectShader = _getEquirectShader();\n        _compileMaterial(_equirectShader);\n\n      }\n\n    },\n\n    /**\n     * Disposes of the PMREMGenerator's internal memory. Note that PMREMGenerator is a static class,\n     * so you should not need more than one PMREMGenerator object. If you do, calling dispose() on\n     * one of them will cause any others to also become unusable.\n     */\n    dispose: function() {\n\n      _blurMaterial.dispose();\n\n      if (_cubemapShader != null) {\n        _cubemapShader.dispose();\n      }\n      if (_equirectShader != null) {\n        _equirectShader.dispose();\n      }\n\n      for (var i = 0; i < _lodPlanes.length; i++) {\n\n        _lodPlanes[i].dispose();\n\n      }\n\n    },\n\n  };\n\n  function _createPlanes() {\n\n    var _lodPlanes = [];\n    var _sizeLods = [];\n    var _sigmas = [];\n\n    var lod = LOD_MAX;\n    for (var i = 0; i < TOTAL_LODS; i++) {\n\n      var sizeLod = Math.pow(2, lod);\n      _sizeLods.push(sizeLod);\n      var sigma = 1.0 / sizeLod;\n      if (i > LOD_MAX - LOD_MIN) {\n\n        sigma = EXTRA_LOD_SIGMA[i - LOD_MAX + LOD_MIN - 1];\n\n      } else if (i == 0) {\n\n        sigma = 0;\n\n      }\n      _sigmas.push(sigma);\n\n      var texelSize = 1.0 / (sizeLod - 1);\n      var min = -texelSize / 2;\n      var max = 1 + texelSize / 2;\n      var uv1 = [min, min, max, min, max, max, min, min, max, max, min, max];\n\n      var cubeFaces = 6;\n      var vertices = 6;\n      var positionSize = 3;\n      var uvSize = 2;\n      var faceIndexSize = 1;\n\n      var position = new Float32Array(positionSize * vertices * cubeFaces);\n      var uv = new Float32Array(uvSize * vertices * cubeFaces);\n      var faceIndex = new Float32Array(faceIndexSize * vertices * cubeFaces);\n\n      for (var face = 0; face < cubeFaces; face++) {\n\n        var x = (face % 3) * 2 / 3 - 1;\n        var y = face > 2 ? 0 : -1;\n        var coordinates = [\n          x, y, 0,\n          x + 2 / 3, y, 0,\n          x + 2 / 3, y + 1, 0,\n          x, y, 0,\n          x + 2 / 3, y + 1, 0,\n          x, y + 1, 0\n        ];\n        position.set(coordinates, positionSize * vertices * face);\n        uv.set(uv1, uvSize * vertices * face);\n        var fill = [face, face, face, face, face, face];\n        faceIndex.set(fill, faceIndexSize * vertices * face);\n\n      }\n      var planes = new BufferGeometry();\n      planes.setAttribute('position', new BufferAttribute(position, positionSize));\n      planes.setAttribute('uv', new BufferAttribute(uv, uvSize));\n      planes.setAttribute('faceIndex', new BufferAttribute(faceIndex, faceIndexSize));\n      _lodPlanes.push(planes);\n\n      if (lod > LOD_MIN) {\n\n        lod--;\n\n      }\n\n    }\n    return {\n      _lodPlanes: _lodPlanes,\n      _sizeLods: _sizeLods,\n      _sigmas: _sigmas\n    };\n\n  }\n\n  function _allocateTargets(equirectangular) {\n\n    var params = {\n      magFilter: NearestFilter,\n      minFilter: NearestFilter,\n      generateMipmaps: false,\n      type: equirectangular ? equirectangular.type : UnsignedByteType,\n      format: equirectangular ? equirectangular.format : RGBEFormat,\n      encoding: equirectangular ? equirectangular.encoding : RGBEEncoding,\n      depthBuffer: false,\n      stencilBuffer: false\n    };\n    var cubeUVRenderTarget = _createRenderTarget(params);\n    cubeUVRenderTarget.depthBuffer = equirectangular ? false : true;\n    _pingPongRenderTarget = _createRenderTarget(params);\n    return cubeUVRenderTarget;\n\n  }\n\n  function _cleanup() {\n\n    _pingPongRenderTarget.dispose();\n    _renderer.setRenderTarget(null);\n    var size = _renderer.getSize(new Vector2());\n    _renderer.setViewport(0, 0, size.x, size.y);\n\n  }\n\n  function _sceneToCubeUV(scene, near, far, cubeUVRenderTarget) {\n\n    var fov = 90;\n    var aspect = 1;\n    var cubeCamera = new PerspectiveCamera(fov, aspect, near, far);\n    var upSign = [1, 1, 1, 1, -1, 1];\n    var forwardSign = [1, 1, -1, -1, -1, 1];\n\n    var outputEncoding = _renderer.outputEncoding;\n    var toneMapping = _renderer.toneMapping;\n    var toneMappingExposure = _renderer.toneMappingExposure;\n    var clearColor = _renderer.getClearColor();\n    var clearAlpha = _renderer.getClearAlpha();\n\n    _renderer.toneMapping = LinearToneMapping;\n    _renderer.toneMappingExposure = 1.0;\n    _renderer.outputEncoding = LinearEncoding;\n    scene.scale.z *= -1;\n\n    var background = scene.background;\n    if (background && background.isColor) {\n\n      background.convertSRGBToLinear();\n      // Convert linear to RGBE\n      var maxComponent = Math.max(background.r, background.g, background.b);\n      var fExp = Math.min(Math.max(Math.ceil(Math.log2(maxComponent)), -128.0), 127.0);\n      background = background.multiplyScalar(Math.pow(2.0, -fExp));\n      var alpha = (fExp + 128.0) / 255.0;\n      _renderer.setClearColor(background, alpha);\n      scene.background = null;\n\n    }\n\n    _renderer.setRenderTarget(cubeUVRenderTarget);\n    for (var i = 0; i < 6; i++) {\n\n      var col = i % 3;\n      if (col == 0) {\n\n        cubeCamera.up.set(0, upSign[i], 0);\n        cubeCamera.lookAt(forwardSign[i], 0, 0);\n\n      } else if (col == 1) {\n\n        cubeCamera.up.set(0, 0, upSign[i]);\n        cubeCamera.lookAt(0, forwardSign[i], 0);\n\n      } else {\n\n        cubeCamera.up.set(0, upSign[i], 0);\n        cubeCamera.lookAt(0, 0, forwardSign[i]);\n\n      }\n      _setViewport(\n        col * SIZE_MAX, i > 2 ? SIZE_MAX : 0, SIZE_MAX, SIZE_MAX);\n      _renderer.render(scene, cubeCamera);\n\n    }\n\n    _renderer.toneMapping = toneMapping;\n    _renderer.toneMappingExposure = toneMappingExposure;\n    _renderer.outputEncoding = outputEncoding;\n    _renderer.setClearColor(clearColor, clearAlpha);\n    scene.scale.z *= -1;\n\n  }\n\n  function _textureToCubeUV(texture, cubeUVRenderTarget) {\n\n    var scene = new Scene();\n    if (texture.isCubeTexture) {\n\n      if (_cubemapShader == null) {\n\n        _cubemapShader = _getCubemapShader();\n\n      }\n\n    } else {\n\n      if (_equirectShader == null) {\n\n        _equirectShader = _getEquirectShader();\n\n      }\n\n    }\n    var material = texture.isCubeTexture ? _cubemapShader : _equirectShader;\n    scene.add(new Mesh(_lodPlanes[0], material));\n    var uniforms = material.uniforms;\n\n    uniforms['envMap'].value = texture;\n    if (!texture.isCubeTexture) {\n\n      uniforms['texelSize'].value.set(1.0 / texture.image.width, 1.0 / texture.image.height);\n\n    }\n    uniforms['inputEncoding'].value = ENCODINGS[texture.encoding];\n    uniforms['outputEncoding'].value = ENCODINGS[texture.encoding];\n\n    _renderer.setRenderTarget(cubeUVRenderTarget);\n    _setViewport(0, 0, 3 * SIZE_MAX, 2 * SIZE_MAX);\n    _renderer.render(scene, _flatCamera);\n\n  }\n\n  function _compileMaterial(material) {\n\n    var tmpScene = new Scene();\n    tmpScene.add(new Mesh(_lodPlanes[0], material));\n    _renderer.compile(tmpScene, _flatCamera);\n\n  }\n\n  function _createRenderTarget(params) {\n\n    var cubeUVRenderTarget = new WebGLRenderTarget(3 * SIZE_MAX, 3 * SIZE_MAX, params);\n    cubeUVRenderTarget.texture.mapping = CubeUVReflectionMapping;\n    cubeUVRenderTarget.texture.name = 'PMREM.cubeUv';\n    cubeUVRenderTarget.scissorTest = true;\n    return cubeUVRenderTarget;\n\n  }\n\n  function _setViewport(x, y, width, height) {\n\n    var invDpr = 1.0 / _renderer.getPixelRatio();\n    x *= invDpr;\n    y *= invDpr;\n    width *= invDpr;\n    height *= invDpr;\n    _renderer.setViewport(x, y, width, height);\n    _renderer.setScissor(x, y, width, height);\n\n  }\n\n  function _applyPMREM(cubeUVRenderTarget) {\n\n    var autoClear = _renderer.autoClear;\n    _renderer.autoClear = false;\n\n    for (var i = 1; i < TOTAL_LODS; i++) {\n\n      var sigma = Math.sqrt(\n        _sigmas[i] * _sigmas[i] -\n        _sigmas[i - 1] * _sigmas[i - 1]);\n      var poleAxis =\n        _axisDirections[(i - 1) % _axisDirections.length];\n      _blur(cubeUVRenderTarget, i - 1, i, sigma, poleAxis);\n\n    }\n\n    _renderer.autoClear = autoClear;\n\n  }\n\n  /**\n   * This is a two-pass Gaussian blur for a cubemap. Normally this is done\n   * vertically and horizontally, but this breaks down on a cube. Here we apply\n   * the blur latitudinally (around the poles), and then longitudinally (towards\n   * the poles) to approximate the orthogonally-separable blur. It is least\n   * accurate at the poles, but still does a decent job.\n   */\n  function _blur(cubeUVRenderTarget, lodIn, lodOut, sigma, poleAxis) {\n\n    _halfBlur(\n      cubeUVRenderTarget,\n      _pingPongRenderTarget,\n      lodIn,\n      lodOut,\n      sigma,\n      'latitudinal',\n      poleAxis);\n\n    _halfBlur(\n      _pingPongRenderTarget,\n      cubeUVRenderTarget,\n      lodOut,\n      lodOut,\n      sigma,\n      'longitudinal',\n      poleAxis);\n\n  }\n\n  function _halfBlur(targetIn, targetOut, lodIn, lodOut, sigmaRadians, direction, poleAxis) {\n\n    if (direction !== 'latitudinal' && direction !== 'longitudinal') {\n\n      console.error(\n        'blur direction must be either latitudinal or longitudinal!');\n\n    }\n\n    // Number of standard deviations at which to cut off the discrete approximation.\n    var STANDARD_DEVIATIONS = 3;\n\n    var blurScene = new Scene();\n    blurScene.add(new Mesh(_lodPlanes[lodOut], _blurMaterial));\n    var blurUniforms = _blurMaterial.uniforms;\n\n    var pixels = _sizeLods[lodIn] - 1;\n    var radiansPerPixel = isFinite(sigmaRadians) ? Math.PI / (2 * pixels) : 2 * Math.PI / (2 * MAX_SAMPLES - 1);\n    var sigmaPixels = sigmaRadians / radiansPerPixel;\n    var samples = isFinite(sigmaRadians) ? 1 + Math.floor(STANDARD_DEVIATIONS * sigmaPixels) : MAX_SAMPLES;\n\n    if (samples > MAX_SAMPLES) {\n\n      console.warn((\"sigmaRadians, \" + sigmaRadians + \", is too large and will clip, as it requested \" + samples + \" samples when the maximum is set to \" + MAX_SAMPLES));\n\n    }\n\n    var weights = [];\n    var sum = 0;\n\n    for (var i = 0; i < MAX_SAMPLES; ++i) {\n\n      var x = i / sigmaPixels;\n      var weight = Math.exp(-x * x / 2);\n      weights.push(weight);\n\n      if (i == 0) {\n\n        sum += weight;\n\n      } else if (i < samples) {\n\n        sum += 2 * weight;\n\n      }\n\n    }\n\n    for (var i = 0; i < weights.length; i++) {\n\n      weights[i] = weights[i] / sum;\n\n    }\n\n    blurUniforms['envMap'].value = targetIn.texture;\n    blurUniforms['samples'].value = samples;\n    blurUniforms['weights'].value = weights;\n    blurUniforms['latitudinal'].value = direction === 'latitudinal';\n    if (poleAxis) {\n\n      blurUniforms['poleAxis'].value = poleAxis;\n\n    }\n    blurUniforms['dTheta'].value = radiansPerPixel;\n    blurUniforms['mipInt'].value = LOD_MAX - lodIn;\n    blurUniforms['inputEncoding'].value = ENCODINGS[targetIn.texture.encoding];\n    blurUniforms['outputEncoding'].value = ENCODINGS[targetIn.texture.encoding];\n\n    var outputSize = _sizeLods[lodOut];\n    var x = 3 * Math.max(0, SIZE_MAX - 2 * outputSize);\n    var y = (lodOut === 0 ? 0 : 2 * SIZE_MAX) +\n      2 * outputSize *\n      (lodOut > LOD_MAX - LOD_MIN ? lodOut - LOD_MAX + LOD_MIN : 0);\n\n    _renderer.setRenderTarget(targetOut);\n    _setViewport(x, y, 3 * outputSize, 2 * outputSize);\n    _renderer.render(blurScene, _flatCamera);\n\n  }\n\n  function _getBlurShader(maxSamples) {\n\n    var weights = new Float32Array(maxSamples);\n    var poleAxis = new Vector3(0, 1, 0);\n    var shaderMaterial = new RawShaderMaterial({\n\n      defines: {\n        'n': maxSamples\n      },\n\n      uniforms: {\n        'envMap': {\n          value: null\n        },\n        'samples': {\n          value: 1\n        },\n        'weights': {\n          value: weights\n        },\n        'latitudinal': {\n          value: false\n        },\n        'dTheta': {\n          value: 0\n        },\n        'mipInt': {\n          value: 0\n        },\n        'poleAxis': {\n          value: poleAxis\n        },\n        'inputEncoding': {\n          value: ENCODINGS[LinearEncoding]\n        },\n        'outputEncoding': {\n          value: ENCODINGS[LinearEncoding]\n        }\n      },\n\n      vertexShader: _getCommonVertexShader(),\n\n      fragmentShader: (\"\\nprecision mediump float;\\nprecision mediump int;\\nvarying vec3 vOutputDirection;\\nuniform sampler2D envMap;\\nuniform int samples;\\nuniform float weights[n];\\nuniform bool latitudinal;\\nuniform float dTheta;\\nuniform float mipInt;\\nuniform vec3 poleAxis;\\n\\n\" + (_getEncodings()) + \"\\n\\n#define ENVMAP_TYPE_CUBE_UV\\n#include <cube_uv_reflection_fragment>\\n\\nvoid main() {\\n\\tgl_FragColor = vec4(0.0);\\n\\tfor (int i = 0; i < n; i++) {\\n\\t\\tif (i >= samples)\\n\\t\\t\\tbreak;\\n\\t\\tfor (int dir = -1; dir < 2; dir += 2) {\\n\\t\\t\\tif (i == 0 && dir == 1)\\n\\t\\t\\t\\tcontinue;\\n\\t\\t\\tvec3 axis = latitudinal ? poleAxis : cross(poleAxis, vOutputDirection);\\n\\t\\t\\tif (all(equal(axis, vec3(0.0))))\\n\\t\\t\\t\\taxis = cross(vec3(0.0, 1.0, 0.0), vOutputDirection);\\n\\t\\t\\taxis = normalize(axis);\\n\\t\\t\\tfloat theta = dTheta * float(dir * i);\\n\\t\\t\\tfloat cosTheta = cos(theta);\\n\\t\\t\\t// Rodrigues' axis-angle rotation\\n\\t\\t\\tvec3 sampleDirection = vOutputDirection * cosTheta\\n\\t\\t\\t\\t\\t+ cross(axis, vOutputDirection) * sin(theta)\\n\\t\\t\\t\\t\\t+ axis * dot(axis, vOutputDirection) * (1.0 - cosTheta);\\n\\t\\t\\tgl_FragColor.rgb +=\\n\\t\\t\\t\\t\\tweights[i] * bilinearCubeUV(envMap, sampleDirection, mipInt);\\n\\t\\t}\\n\\t}\\n\\tgl_FragColor = linearToOutputTexel(gl_FragColor);\\n}\\n\\t\\t\"),\n\n      blending: NoBlending,\n      depthTest: false,\n      depthWrite: false\n\n    });\n\n    shaderMaterial.type = 'SphericalGaussianBlur';\n\n    return shaderMaterial;\n\n  }\n\n  function _getEquirectShader() {\n\n    var texelSize = new Vector2(1, 1);\n    var shaderMaterial = new RawShaderMaterial({\n\n      uniforms: {\n        'envMap': {\n          value: null\n        },\n        'texelSize': {\n          value: texelSize\n        },\n        'inputEncoding': {\n          value: ENCODINGS[LinearEncoding]\n        },\n        'outputEncoding': {\n          value: ENCODINGS[LinearEncoding]\n        }\n      },\n\n      vertexShader: _getCommonVertexShader(),\n\n      fragmentShader: (\"\\nprecision mediump float;\\nprecision mediump int;\\nvarying vec3 vOutputDirection;\\nuniform sampler2D envMap;\\nuniform vec2 texelSize;\\n\\n\" + (_getEncodings()) + \"\\n\\n#define RECIPROCAL_PI 0.31830988618\\n#define RECIPROCAL_PI2 0.15915494\\n\\nvoid main() {\\n\\tgl_FragColor = vec4(0.0);\\n\\tvec3 outputDirection = normalize(vOutputDirection);\\n\\tvec2 uv;\\n\\tuv.y = asin(clamp(outputDirection.y, -1.0, 1.0)) * RECIPROCAL_PI + 0.5;\\n\\tuv.x = atan(outputDirection.z, outputDirection.x) * RECIPROCAL_PI2 + 0.5;\\n\\tvec2 f = fract(uv / texelSize - 0.5);\\n\\tuv -= f * texelSize;\\n\\tvec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\\n\\tuv.x += texelSize.x;\\n\\tvec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\\n\\tuv.y += texelSize.y;\\n\\tvec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\\n\\tuv.x -= texelSize.x;\\n\\tvec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\\n\\tvec3 tm = mix(tl, tr, f.x);\\n\\tvec3 bm = mix(bl, br, f.x);\\n\\tgl_FragColor.rgb = mix(tm, bm, f.y);\\n\\tgl_FragColor = linearToOutputTexel(gl_FragColor);\\n}\\n\\t\\t\"),\n\n      blending: NoBlending,\n      depthTest: false,\n      depthWrite: false\n\n    });\n\n    shaderMaterial.type = 'EquirectangularToCubeUV';\n\n    return shaderMaterial;\n\n  }\n\n  function _getCubemapShader() {\n\n    var shaderMaterial = new RawShaderMaterial({\n\n      uniforms: {\n        'envMap': {\n          value: null\n        },\n        'inputEncoding': {\n          value: ENCODINGS[LinearEncoding]\n        },\n        'outputEncoding': {\n          value: ENCODINGS[LinearEncoding]\n        }\n      },\n\n      vertexShader: _getCommonVertexShader(),\n\n      fragmentShader: (\"\\nprecision mediump float;\\nprecision mediump int;\\nvarying vec3 vOutputDirection;\\nuniform samplerCube envMap;\\n\\n\" + (_getEncodings()) + \"\\n\\nvoid main() {\\n\\tgl_FragColor = vec4(0.0);\\n\\tgl_FragColor.rgb = envMapTexelToLinear(textureCube(envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ))).rgb;\\n\\tgl_FragColor = linearToOutputTexel(gl_FragColor);\\n}\\n\\t\\t\"),\n\n      blending: NoBlending,\n      depthTest: false,\n      depthWrite: false\n\n    });\n\n    shaderMaterial.type = 'CubemapToCubeUV';\n\n    return shaderMaterial;\n\n  }\n\n  function _getCommonVertexShader() {\n\n    return \"\\nprecision mediump float;\\nprecision mediump int;\\nattribute vec3 position;\\nattribute vec2 uv;\\nattribute float faceIndex;\\nvarying vec3 vOutputDirection;\\nvec3 getDirection(vec2 uv, float face) {\\n\\tuv = 2.0 * uv - 1.0;\\n\\tvec3 direction = vec3(uv, 1.0);\\n\\tif (face == 0.0) {\\n\\t\\tdirection = direction.zyx;\\n\\t\\tdirection.z *= -1.0;\\n\\t} else if (face == 1.0) {\\n\\t\\tdirection = direction.xzy;\\n\\t\\tdirection.z *= -1.0;\\n\\t} else if (face == 3.0) {\\n\\t\\tdirection = direction.zyx;\\n\\t\\tdirection.x *= -1.0;\\n\\t} else if (face == 4.0) {\\n\\t\\tdirection = direction.xzy;\\n\\t\\tdirection.y *= -1.0;\\n\\t} else if (face == 5.0) {\\n\\t\\tdirection.xz *= -1.0;\\n\\t}\\n\\treturn direction;\\n}\\nvoid main() {\\n\\tvOutputDirection = getDirection(uv, faceIndex);\\n\\tgl_Position = vec4( position, 1.0 );\\n}\\n\\t\";\n\n  }\n\n  function _getEncodings() {\n\n    return \"\\nuniform int inputEncoding;\\nuniform int outputEncoding;\\n\\n#include <encodings_pars_fragment>\\n\\nvec4 inputTexelToLinear(vec4 value){\\n\\tif(inputEncoding == 0){\\n\\t\\treturn value;\\n\\t}else if(inputEncoding == 1){\\n\\t\\treturn sRGBToLinear(value);\\n\\t}else if(inputEncoding == 2){\\n\\t\\treturn RGBEToLinear(value);\\n\\t}else if(inputEncoding == 3){\\n\\t\\treturn RGBMToLinear(value, 7.0);\\n\\t}else if(inputEncoding == 4){\\n\\t\\treturn RGBMToLinear(value, 16.0);\\n\\t}else if(inputEncoding == 5){\\n\\t\\treturn RGBDToLinear(value, 256.0);\\n\\t}else{\\n\\t\\treturn GammaToLinear(value, 2.2);\\n\\t}\\n}\\n\\nvec4 linearToOutputTexel(vec4 value){\\n\\tif(outputEncoding == 0){\\n\\t\\treturn value;\\n\\t}else if(outputEncoding == 1){\\n\\t\\treturn LinearTosRGB(value);\\n\\t}else if(outputEncoding == 2){\\n\\t\\treturn LinearToRGBE(value);\\n\\t}else if(outputEncoding == 3){\\n\\t\\treturn LinearToRGBM(value, 7.0);\\n\\t}else if(outputEncoding == 4){\\n\\t\\treturn LinearToRGBM(value, 16.0);\\n\\t}else if(outputEncoding == 5){\\n\\t\\treturn LinearToRGBD(value, 256.0);\\n\\t}else{\\n\\t\\treturn LinearToGamma(value, 2.2);\\n\\t}\\n}\\n\\nvec4 envMapTexelToLinear(vec4 color) {\\n\\treturn inputTexelToLinear(color);\\n}\\n\\t\";\n\n  }\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function Face4(a, b, c, d, normal, color, materialIndex) {\n\n    console.warn('THREE.Face4 has been removed. A THREE.Face3 will be created instead.');\n    return new Face3(a, b, c, normal, color, materialIndex);\n\n  }\n\n  var LineStrip = 0;\n\n  var LinePieces = 1;\n\n  function MeshFaceMaterial(materials) {\n\n    console.warn('THREE.MeshFaceMaterial has been removed. Use an Array instead.');\n    return materials;\n\n  }\n\n  function MultiMaterial(materials) {\n\n    if (materials === undefined) {\n      materials = [];\n    }\n\n    console.warn('THREE.MultiMaterial has been removed. Use an Array instead.');\n    materials.isMultiMaterial = true;\n    materials.materials = materials;\n    materials.clone = function() {\n\n      return materials.slice();\n\n    };\n    return materials;\n\n  }\n\n  function PointCloud(geometry, material) {\n\n    console.warn('THREE.PointCloud has been renamed to THREE.Points.');\n    return new Points(geometry, material);\n\n  }\n\n  function Particle(material) {\n\n    console.warn('THREE.Particle has been renamed to THREE.Sprite.');\n    return new Sprite(material);\n\n  }\n\n  function ParticleSystem(geometry, material) {\n\n    console.warn('THREE.ParticleSystem has been renamed to THREE.Points.');\n    return new Points(geometry, material);\n\n  }\n\n  function PointCloudMaterial(parameters) {\n\n    console.warn('THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.');\n    return new PointsMaterial(parameters);\n\n  }\n\n  function ParticleBasicMaterial(parameters) {\n\n    console.warn('THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.');\n    return new PointsMaterial(parameters);\n\n  }\n\n  function ParticleSystemMaterial(parameters) {\n\n    console.warn('THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.');\n    return new PointsMaterial(parameters);\n\n  }\n\n  function Vertex(x, y, z) {\n\n    console.warn('THREE.Vertex has been removed. Use THREE.Vector3 instead.');\n    return new Vector3(x, y, z);\n\n  }\n\n  //\n\n  function DynamicBufferAttribute(array, itemSize) {\n\n    console.warn('THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead.');\n    return new BufferAttribute(array, itemSize).setDynamic(true);\n\n  }\n\n  function Int8Attribute(array, itemSize) {\n\n    console.warn('THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead.');\n    return new Int8BufferAttribute(array, itemSize);\n\n  }\n\n  function Uint8Attribute(array, itemSize) {\n\n    console.warn('THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead.');\n    return new Uint8BufferAttribute(array, itemSize);\n\n  }\n\n  function Uint8ClampedAttribute(array, itemSize) {\n\n    console.warn('THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead.');\n    return new Uint8ClampedBufferAttribute(array, itemSize);\n\n  }\n\n  function Int16Attribute(array, itemSize) {\n\n    console.warn('THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead.');\n    return new Int16BufferAttribute(array, itemSize);\n\n  }\n\n  function Uint16Attribute(array, itemSize) {\n\n    console.warn('THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead.');\n    return new Uint16BufferAttribute(array, itemSize);\n\n  }\n\n  function Int32Attribute(array, itemSize) {\n\n    console.warn('THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead.');\n    return new Int32BufferAttribute(array, itemSize);\n\n  }\n\n  function Uint32Attribute(array, itemSize) {\n\n    console.warn('THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead.');\n    return new Uint32BufferAttribute(array, itemSize);\n\n  }\n\n  function Float32Attribute(array, itemSize) {\n\n    console.warn('THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead.');\n    return new Float32BufferAttribute(array, itemSize);\n\n  }\n\n  function Float64Attribute(array, itemSize) {\n\n    console.warn('THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead.');\n    return new Float64BufferAttribute(array, itemSize);\n\n  }\n\n  //\n\n  Curve.create = function(construct, getPoint) {\n\n    console.log('THREE.Curve.create() has been deprecated');\n\n    construct.prototype = Object.create(Curve.prototype);\n    construct.prototype.constructor = construct;\n    construct.prototype.getPoint = getPoint;\n\n    return construct;\n\n  };\n\n  //\n\n  Object.assign(CurvePath.prototype, {\n\n    createPointsGeometry: function(divisions) {\n\n      console.warn('THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.');\n\n      // generate geometry from path points (for Line or Points objects)\n\n      var pts = this.getPoints(divisions);\n      return this.createGeometry(pts);\n\n    },\n\n    createSpacedPointsGeometry: function(divisions) {\n\n      console.warn('THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.');\n\n      // generate geometry from equidistant sampling along the path\n\n      var pts = this.getSpacedPoints(divisions);\n      return this.createGeometry(pts);\n\n    },\n\n    createGeometry: function(points) {\n\n      console.warn('THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.');\n\n      var geometry = new Geometry();\n\n      for (var i = 0, l = points.length; i < l; i++) {\n\n        var point = points[i];\n        geometry.vertices.push(new Vector3(point.x, point.y, point.z || 0));\n\n      }\n\n      return geometry;\n\n    }\n\n  });\n\n  //\n\n  Object.assign(Path.prototype, {\n\n    fromPoints: function(points) {\n\n      console.warn('THREE.Path: .fromPoints() has been renamed to .setFromPoints().');\n      return this.setFromPoints(points);\n\n    }\n\n  });\n\n  //\n\n  function ClosedSplineCurve3(points) {\n\n    console.warn('THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.');\n\n    CatmullRomCurve3.call(this, points);\n    this.type = 'catmullrom';\n    this.closed = true;\n\n  }\n\n  ClosedSplineCurve3.prototype = Object.create(CatmullRomCurve3.prototype);\n\n  //\n\n  function SplineCurve3(points) {\n\n    console.warn('THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.');\n\n    CatmullRomCurve3.call(this, points);\n    this.type = 'catmullrom';\n\n  }\n\n  SplineCurve3.prototype = Object.create(CatmullRomCurve3.prototype);\n\n  //\n\n  function Spline(points) {\n\n    console.warn('THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead.');\n\n    CatmullRomCurve3.call(this, points);\n    this.type = 'catmullrom';\n\n  }\n\n  Spline.prototype = Object.create(CatmullRomCurve3.prototype);\n\n  Object.assign(Spline.prototype, {\n\n    initFromArray: function( /* a */ ) {\n\n      console.error('THREE.Spline: .initFromArray() has been removed.');\n\n    },\n    getControlPointsArray: function( /* optionalTarget */ ) {\n\n      console.error('THREE.Spline: .getControlPointsArray() has been removed.');\n\n    },\n    reparametrizeByArcLength: function( /* samplingCoef */ ) {\n\n      console.error('THREE.Spline: .reparametrizeByArcLength() has been removed.');\n\n    }\n\n  });\n\n  //\n\n  function AxisHelper(size) {\n\n    console.warn('THREE.AxisHelper has been renamed to THREE.AxesHelper.');\n    return new AxesHelper(size);\n\n  }\n\n  function BoundingBoxHelper(object, color) {\n\n    console.warn('THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead.');\n    return new BoxHelper(object, color);\n\n  }\n\n  function EdgesHelper(object, hex) {\n\n    console.warn('THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.');\n    return new LineSegments(new EdgesGeometry(object.geometry), new LineBasicMaterial({\n      color: hex !== undefined ? hex : 0xffffff\n    }));\n\n  }\n\n  GridHelper.prototype.setColors = function() {\n\n    console.error('THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.');\n\n  };\n\n  SkeletonHelper.prototype.update = function() {\n\n    console.error('THREE.SkeletonHelper: update() no longer needs to be called.');\n\n  };\n\n  function WireframeHelper(object, hex) {\n\n    console.warn('THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.');\n    return new LineSegments(new WireframeGeometry(object.geometry), new LineBasicMaterial({\n      color: hex !== undefined ? hex : 0xffffff\n    }));\n\n  }\n\n  //\n\n  Object.assign(Loader.prototype, {\n\n    extractUrlBase: function(url) {\n\n      console.warn('THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead.');\n      return LoaderUtils.extractUrlBase(url);\n\n    }\n\n  });\n\n  Loader.Handlers = {\n\n    add: function( /* regex, loader */ ) {\n\n      console.error('THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.');\n\n    },\n\n    get: function( /* file */ ) {\n\n      console.error('THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.');\n\n    }\n\n  };\n\n  function XHRLoader(manager) {\n\n    console.warn('THREE.XHRLoader has been renamed to THREE.FileLoader.');\n    return new FileLoader(manager);\n\n  }\n\n  function BinaryTextureLoader(manager) {\n\n    console.warn('THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader.');\n    return new DataTextureLoader(manager);\n\n  }\n\n  Object.assign(ObjectLoader.prototype, {\n\n    setTexturePath: function(value) {\n\n      console.warn('THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath().');\n      return this.setResourcePath(value);\n\n    }\n\n  });\n\n  //\n\n  Object.assign(Box2.prototype, {\n\n    center: function(optionalTarget) {\n\n      console.warn('THREE.Box2: .center() has been renamed to .getCenter().');\n      return this.getCenter(optionalTarget);\n\n    },\n    empty: function() {\n\n      console.warn('THREE.Box2: .empty() has been renamed to .isEmpty().');\n      return this.isEmpty();\n\n    },\n    isIntersectionBox: function(box) {\n\n      console.warn('THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().');\n      return this.intersectsBox(box);\n\n    },\n    size: function(optionalTarget) {\n\n      console.warn('THREE.Box2: .size() has been renamed to .getSize().');\n      return this.getSize(optionalTarget);\n\n    }\n  });\n\n  Object.assign(Box3.prototype, {\n\n    center: function(optionalTarget) {\n\n      console.warn('THREE.Box3: .center() has been renamed to .getCenter().');\n      return this.getCenter(optionalTarget);\n\n    },\n    empty: function() {\n\n      console.warn('THREE.Box3: .empty() has been renamed to .isEmpty().');\n      return this.isEmpty();\n\n    },\n    isIntersectionBox: function(box) {\n\n      console.warn('THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().');\n      return this.intersectsBox(box);\n\n    },\n    isIntersectionSphere: function(sphere) {\n\n      console.warn('THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().');\n      return this.intersectsSphere(sphere);\n\n    },\n    size: function(optionalTarget) {\n\n      console.warn('THREE.Box3: .size() has been renamed to .getSize().');\n      return this.getSize(optionalTarget);\n\n    }\n  });\n\n  Line3.prototype.center = function(optionalTarget) {\n\n    console.warn('THREE.Line3: .center() has been renamed to .getCenter().');\n    return this.getCenter(optionalTarget);\n\n  };\n\n  Object.assign(_Math, {\n\n    random16: function() {\n\n      console.warn('THREE.Math: .random16() has been deprecated. Use Math.random() instead.');\n      return Math.random();\n\n    },\n\n    nearestPowerOfTwo: function(value) {\n\n      console.warn('THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo().');\n      return _Math.floorPowerOfTwo(value);\n\n    },\n\n    nextPowerOfTwo: function(value) {\n\n      console.warn('THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo().');\n      return _Math.ceilPowerOfTwo(value);\n\n    }\n\n  });\n\n  Object.assign(Matrix3.prototype, {\n\n    flattenToArrayOffset: function(array, offset) {\n\n      console.warn(\"THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\");\n      return this.toArray(array, offset);\n\n    },\n    multiplyVector3: function(vector) {\n\n      console.warn('THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.');\n      return vector.applyMatrix3(this);\n\n    },\n    multiplyVector3Array: function( /* a */ ) {\n\n      console.error('THREE.Matrix3: .multiplyVector3Array() has been removed.');\n\n    },\n    applyToBuffer: function(buffer /*, offset, length */ ) {\n\n      console.warn('THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.');\n      return this.applyToBufferAttribute(buffer);\n\n    },\n    applyToVector3Array: function( /* array, offset, length */ ) {\n\n      console.error('THREE.Matrix3: .applyToVector3Array() has been removed.');\n\n    }\n\n  });\n\n  Object.assign(Matrix4.prototype, {\n\n    extractPosition: function(m) {\n\n      console.warn('THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().');\n      return this.copyPosition(m);\n\n    },\n    flattenToArrayOffset: function(array, offset) {\n\n      console.warn(\"THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\");\n      return this.toArray(array, offset);\n\n    },\n    getPosition: function() {\n\n      console.warn('THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.');\n      return new Vector3().setFromMatrixColumn(this, 3);\n\n    },\n    setRotationFromQuaternion: function(q) {\n\n      console.warn('THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().');\n      return this.makeRotationFromQuaternion(q);\n\n    },\n    multiplyToArray: function() {\n\n      console.warn('THREE.Matrix4: .multiplyToArray() has been removed.');\n\n    },\n    multiplyVector3: function(vector) {\n\n      console.warn('THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead.');\n      return vector.applyMatrix4(this);\n\n    },\n    multiplyVector4: function(vector) {\n\n      console.warn('THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.');\n      return vector.applyMatrix4(this);\n\n    },\n    multiplyVector3Array: function( /* a */ ) {\n\n      console.error('THREE.Matrix4: .multiplyVector3Array() has been removed.');\n\n    },\n    rotateAxis: function(v) {\n\n      console.warn('THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.');\n      v.transformDirection(this);\n\n    },\n    crossVector: function(vector) {\n\n      console.warn('THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.');\n      return vector.applyMatrix4(this);\n\n    },\n    translate: function() {\n\n      console.error('THREE.Matrix4: .translate() has been removed.');\n\n    },\n    rotateX: function() {\n\n      console.error('THREE.Matrix4: .rotateX() has been removed.');\n\n    },\n    rotateY: function() {\n\n      console.error('THREE.Matrix4: .rotateY() has been removed.');\n\n    },\n    rotateZ: function() {\n\n      console.error('THREE.Matrix4: .rotateZ() has been removed.');\n\n    },\n    rotateByAxis: function() {\n\n      console.error('THREE.Matrix4: .rotateByAxis() has been removed.');\n\n    },\n    applyToBuffer: function(buffer /*, offset, length */ ) {\n\n      console.warn('THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.');\n      return this.applyToBufferAttribute(buffer);\n\n    },\n    applyToVector3Array: function( /* array, offset, length */ ) {\n\n      console.error('THREE.Matrix4: .applyToVector3Array() has been removed.');\n\n    },\n    makeFrustum: function(left, right, bottom, top, near, far) {\n\n      console.warn('THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead.');\n      return this.makePerspective(left, right, top, bottom, near, far);\n\n    }\n\n  });\n\n  Plane.prototype.isIntersectionLine = function(line) {\n\n    console.warn('THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().');\n    return this.intersectsLine(line);\n\n  };\n\n  Quaternion.prototype.multiplyVector3 = function(vector) {\n\n    console.warn('THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.');\n    return vector.applyQuaternion(this);\n\n  };\n\n  Object.assign(Ray.prototype, {\n\n    isIntersectionBox: function(box) {\n\n      console.warn('THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().');\n      return this.intersectsBox(box);\n\n    },\n    isIntersectionPlane: function(plane) {\n\n      console.warn('THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().');\n      return this.intersectsPlane(plane);\n\n    },\n    isIntersectionSphere: function(sphere) {\n\n      console.warn('THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().');\n      return this.intersectsSphere(sphere);\n\n    }\n\n  });\n\n  Object.assign(Triangle.prototype, {\n\n    area: function() {\n\n      console.warn('THREE.Triangle: .area() has been renamed to .getArea().');\n      return this.getArea();\n\n    },\n    barycoordFromPoint: function(point, target) {\n\n      console.warn('THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().');\n      return this.getBarycoord(point, target);\n\n    },\n    midpoint: function(target) {\n\n      console.warn('THREE.Triangle: .midpoint() has been renamed to .getMidpoint().');\n      return this.getMidpoint(target);\n\n    },\n    normal: function(target) {\n\n      console.warn('THREE.Triangle: .normal() has been renamed to .getNormal().');\n      return this.getNormal(target);\n\n    },\n    plane: function(target) {\n\n      console.warn('THREE.Triangle: .plane() has been renamed to .getPlane().');\n      return this.getPlane(target);\n\n    }\n\n  });\n\n  Object.assign(Triangle, {\n\n    barycoordFromPoint: function(point, a, b, c, target) {\n\n      console.warn('THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().');\n      return Triangle.getBarycoord(point, a, b, c, target);\n\n    },\n    normal: function(a, b, c, target) {\n\n      console.warn('THREE.Triangle: .normal() has been renamed to .getNormal().');\n      return Triangle.getNormal(a, b, c, target);\n\n    }\n\n  });\n\n  Object.assign(Shape.prototype, {\n\n    extractAllPoints: function(divisions) {\n\n      console.warn('THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead.');\n      return this.extractPoints(divisions);\n\n    },\n    extrude: function(options) {\n\n      console.warn('THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.');\n      return new ExtrudeGeometry(this, options);\n\n    },\n    makeGeometry: function(options) {\n\n      console.warn('THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.');\n      return new ShapeGeometry(this, options);\n\n    }\n\n  });\n\n  Object.assign(Vector2.prototype, {\n\n    fromAttribute: function(attribute, index, offset) {\n\n      console.warn('THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute().');\n      return this.fromBufferAttribute(attribute, index, offset);\n\n    },\n    distanceToManhattan: function(v) {\n\n      console.warn('THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo().');\n      return this.manhattanDistanceTo(v);\n\n    },\n    lengthManhattan: function() {\n\n      console.warn('THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength().');\n      return this.manhattanLength();\n\n    }\n\n  });\n\n  Object.assign(Vector3.prototype, {\n\n    setEulerFromRotationMatrix: function() {\n\n      console.error('THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.');\n\n    },\n    setEulerFromQuaternion: function() {\n\n      console.error('THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.');\n\n    },\n    getPositionFromMatrix: function(m) {\n\n      console.warn('THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().');\n      return this.setFromMatrixPosition(m);\n\n    },\n    getScaleFromMatrix: function(m) {\n\n      console.warn('THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().');\n      return this.setFromMatrixScale(m);\n\n    },\n    getColumnFromMatrix: function(index, matrix) {\n\n      console.warn('THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().');\n      return this.setFromMatrixColumn(matrix, index);\n\n    },\n    applyProjection: function(m) {\n\n      console.warn('THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead.');\n      return this.applyMatrix4(m);\n\n    },\n    fromAttribute: function(attribute, index, offset) {\n\n      console.warn('THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute().');\n      return this.fromBufferAttribute(attribute, index, offset);\n\n    },\n    distanceToManhattan: function(v) {\n\n      console.warn('THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo().');\n      return this.manhattanDistanceTo(v);\n\n    },\n    lengthManhattan: function() {\n\n      console.warn('THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength().');\n      return this.manhattanLength();\n\n    }\n\n  });\n\n  Object.assign(Vector4.prototype, {\n\n    fromAttribute: function(attribute, index, offset) {\n\n      console.warn('THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute().');\n      return this.fromBufferAttribute(attribute, index, offset);\n\n    },\n    lengthManhattan: function() {\n\n      console.warn('THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength().');\n      return this.manhattanLength();\n\n    }\n\n  });\n\n  //\n\n  Object.assign(Geometry.prototype, {\n\n    computeTangents: function() {\n\n      console.error('THREE.Geometry: .computeTangents() has been removed.');\n\n    },\n    computeLineDistances: function() {\n\n      console.error('THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.');\n\n    }\n\n  });\n\n  Object.assign(Object3D.prototype, {\n\n    getChildByName: function(name) {\n\n      console.warn('THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().');\n      return this.getObjectByName(name);\n\n    },\n    renderDepth: function() {\n\n      console.warn('THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.');\n\n    },\n    translate: function(distance, axis) {\n\n      console.warn('THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.');\n      return this.translateOnAxis(axis, distance);\n\n    },\n    getWorldRotation: function() {\n\n      console.error('THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.');\n\n    }\n\n  });\n\n  Object.defineProperties(Object3D.prototype, {\n\n    eulerOrder: {\n      get: function() {\n\n        console.warn('THREE.Object3D: .eulerOrder is now .rotation.order.');\n        return this.rotation.order;\n\n      },\n      set: function(value) {\n\n        console.warn('THREE.Object3D: .eulerOrder is now .rotation.order.');\n        this.rotation.order = value;\n\n      }\n    },\n    useQuaternion: {\n      get: function() {\n\n        console.warn('THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.');\n\n      },\n      set: function() {\n\n        console.warn('THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.');\n\n      }\n    }\n\n  });\n\n  Object.assign(Mesh.prototype, {\n\n    setDrawMode: function() {\n\n      console.error('THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.');\n\n    },\n\n  });\n\n  Object.defineProperties(Mesh.prototype, {\n\n    drawMode: {\n      get: function() {\n\n        console.error('THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode.');\n        return TrianglesDrawMode;\n\n      },\n      set: function() {\n\n        console.error('THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.');\n\n      }\n    }\n\n  });\n\n  Object.defineProperties(LOD.prototype, {\n\n    objects: {\n      get: function() {\n\n        console.warn('THREE.LOD: .objects has been renamed to .levels.');\n        return this.levels;\n\n      }\n    }\n\n  });\n\n  Object.defineProperty(Skeleton.prototype, 'useVertexTexture', {\n\n    get: function() {\n\n      console.warn('THREE.Skeleton: useVertexTexture has been removed.');\n\n    },\n    set: function() {\n\n      console.warn('THREE.Skeleton: useVertexTexture has been removed.');\n\n    }\n\n  });\n\n  SkinnedMesh.prototype.initBones = function() {\n\n    console.error('THREE.SkinnedMesh: initBones() has been removed.');\n\n  };\n\n  Object.defineProperty(Curve.prototype, '__arcLengthDivisions', {\n\n    get: function() {\n\n      console.warn('THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.');\n      return this.arcLengthDivisions;\n\n    },\n    set: function(value) {\n\n      console.warn('THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.');\n      this.arcLengthDivisions = value;\n\n    }\n\n  });\n\n  //\n\n  PerspectiveCamera.prototype.setLens = function(focalLength, filmGauge) {\n\n    console.warn(\"THREE.PerspectiveCamera.setLens is deprecated. \" +\n      \"Use .setFocalLength and .filmGauge for a photographic setup.\");\n\n    if (filmGauge !== undefined) {\n      this.filmGauge = filmGauge;\n    }\n    this.setFocalLength(focalLength);\n\n  };\n\n  //\n\n  Object.defineProperties(Light.prototype, {\n    onlyShadow: {\n      set: function() {\n\n        console.warn('THREE.Light: .onlyShadow has been removed.');\n\n      }\n    },\n    shadowCameraFov: {\n      set: function(value) {\n\n        console.warn('THREE.Light: .shadowCameraFov is now .shadow.camera.fov.');\n        this.shadow.camera.fov = value;\n\n      }\n    },\n    shadowCameraLeft: {\n      set: function(value) {\n\n        console.warn('THREE.Light: .shadowCameraLeft is now .shadow.camera.left.');\n        this.shadow.camera.left = value;\n\n      }\n    },\n    shadowCameraRight: {\n      set: function(value) {\n\n        console.warn('THREE.Light: .shadowCameraRight is now .shadow.camera.right.');\n        this.shadow.camera.right = value;\n\n      }\n    },\n    shadowCameraTop: {\n      set: function(value) {\n\n        console.warn('THREE.Light: .shadowCameraTop is now .shadow.camera.top.');\n        this.shadow.camera.top = value;\n\n      }\n    },\n    shadowCameraBottom: {\n      set: function(value) {\n\n        console.warn('THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.');\n        this.shadow.camera.bottom = value;\n\n      }\n    },\n    shadowCameraNear: {\n      set: function(value) {\n\n        console.warn('THREE.Light: .shadowCameraNear is now .shadow.camera.near.');\n        this.shadow.camera.near = value;\n\n      }\n    },\n    shadowCameraFar: {\n      set: function(value) {\n\n        console.warn('THREE.Light: .shadowCameraFar is now .shadow.camera.far.');\n        this.shadow.camera.far = value;\n\n      }\n    },\n    shadowCameraVisible: {\n      set: function() {\n\n        console.warn('THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.');\n\n      }\n    },\n    shadowBias: {\n      set: function(value) {\n\n        console.warn('THREE.Light: .shadowBias is now .shadow.bias.');\n        this.shadow.bias = value;\n\n      }\n    },\n    shadowDarkness: {\n      set: function() {\n\n        console.warn('THREE.Light: .shadowDarkness has been removed.');\n\n      }\n    },\n    shadowMapWidth: {\n      set: function(value) {\n\n        console.warn('THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.');\n        this.shadow.mapSize.width = value;\n\n      }\n    },\n    shadowMapHeight: {\n      set: function(value) {\n\n        console.warn('THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.');\n        this.shadow.mapSize.height = value;\n\n      }\n    }\n  });\n\n  //\n\n  Object.defineProperties(BufferAttribute.prototype, {\n\n    length: {\n      get: function() {\n\n        console.warn('THREE.BufferAttribute: .length has been deprecated. Use .count instead.');\n        return this.array.length;\n\n      }\n    },\n    dynamic: {\n      get: function() {\n\n        console.warn('THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead.');\n        return this.usage === DynamicDrawUsage;\n\n      },\n      set: function( /* value */ ) {\n\n        console.warn('THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead.');\n        this.setUsage(DynamicDrawUsage);\n\n      }\n    }\n\n  });\n\n  Object.assign(BufferAttribute.prototype, {\n    setDynamic: function(value) {\n\n      console.warn('THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead.');\n      this.setUsage(value === true ? DynamicDrawUsage : StaticDrawUsage);\n      return this;\n\n    },\n    copyIndicesArray: function( /* indices */ ) {\n\n      console.error('THREE.BufferAttribute: .copyIndicesArray() has been removed.');\n\n    },\n    setArray: function( /* array */ ) {\n\n      console.error('THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers');\n\n    }\n  });\n\n  Object.assign(BufferGeometry.prototype, {\n\n    addIndex: function(index) {\n\n      console.warn('THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().');\n      this.setIndex(index);\n\n    },\n    addAttribute: function(name, attribute) {\n\n      console.warn('THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute().');\n\n      if (!(attribute && attribute.isBufferAttribute) && !(attribute && attribute.isInterleavedBufferAttribute)) {\n\n        console.warn('THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).');\n\n        return this.setAttribute(name, new BufferAttribute(arguments[1], arguments[2]));\n\n      }\n\n      if (name === 'index') {\n\n        console.warn('THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute.');\n        this.setIndex(attribute);\n\n        return this;\n\n      }\n\n      return this.setAttribute(name, attribute);\n\n    },\n    addDrawCall: function(start, count, indexOffset) {\n\n      if (indexOffset !== undefined) {\n\n        console.warn('THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.');\n\n      }\n      console.warn('THREE.BufferGeometry: .addDrawCall() is now .addGroup().');\n      this.addGroup(start, count);\n\n    },\n    clearDrawCalls: function() {\n\n      console.warn('THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().');\n      this.clearGroups();\n\n    },\n    computeTangents: function() {\n\n      console.warn('THREE.BufferGeometry: .computeTangents() has been removed.');\n\n    },\n    computeOffsets: function() {\n\n      console.warn('THREE.BufferGeometry: .computeOffsets() has been removed.');\n\n    },\n    removeAttribute: function(name) {\n\n      console.warn('THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute().');\n\n      return this.deleteAttribute(name);\n\n    }\n  });\n\n  Object.defineProperties(BufferGeometry.prototype, {\n\n    drawcalls: {\n      get: function() {\n\n        console.error('THREE.BufferGeometry: .drawcalls has been renamed to .groups.');\n        return this.groups;\n\n      }\n    },\n    offsets: {\n      get: function() {\n\n        console.warn('THREE.BufferGeometry: .offsets has been renamed to .groups.');\n        return this.groups;\n\n      }\n    }\n\n  });\n\n  Object.defineProperties(InterleavedBuffer.prototype, {\n\n    dynamic: {\n      get: function() {\n\n        console.warn('THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead.');\n        return this.usage === DynamicDrawUsage;\n\n      },\n      set: function(value) {\n\n        console.warn('THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead.');\n        this.setUsage(value);\n\n      }\n    }\n\n  });\n\n  Object.assign(InterleavedBuffer.prototype, {\n    setDynamic: function(value) {\n\n      console.warn('THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead.');\n      this.setUsage(value === true ? DynamicDrawUsage : StaticDrawUsage);\n      return this;\n\n    },\n    setArray: function( /* array */ ) {\n\n      console.error('THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers');\n\n    }\n  });\n\n  //\n\n  Object.assign(ExtrudeBufferGeometry.prototype, {\n\n    getArrays: function() {\n\n      console.error('THREE.ExtrudeBufferGeometry: .getArrays() has been removed.');\n\n    },\n\n    addShapeList: function() {\n\n      console.error('THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.');\n\n    },\n\n    addShape: function() {\n\n      console.error('THREE.ExtrudeBufferGeometry: .addShape() has been removed.');\n\n    }\n\n  });\n\n  //\n\n  Object.defineProperties(Uniform.prototype, {\n\n    dynamic: {\n      set: function() {\n\n        console.warn('THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.');\n\n      }\n    },\n    onUpdate: {\n      value: function() {\n\n        console.warn('THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.');\n        return this;\n\n      }\n    }\n\n  });\n\n  //\n\n  Object.defineProperties(Material.prototype, {\n\n    wrapAround: {\n      get: function() {\n\n        console.warn('THREE.Material: .wrapAround has been removed.');\n\n      },\n      set: function() {\n\n        console.warn('THREE.Material: .wrapAround has been removed.');\n\n      }\n    },\n\n    overdraw: {\n      get: function() {\n\n        console.warn('THREE.Material: .overdraw has been removed.');\n\n      },\n      set: function() {\n\n        console.warn('THREE.Material: .overdraw has been removed.');\n\n      }\n    },\n\n    wrapRGB: {\n      get: function() {\n\n        console.warn('THREE.Material: .wrapRGB has been removed.');\n        return new Color();\n\n      }\n    },\n\n    shading: {\n      get: function() {\n\n        console.error('THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.');\n\n      },\n      set: function(value) {\n\n        console.warn('THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.');\n        this.flatShading = (value === FlatShading);\n\n      }\n    },\n\n    stencilMask: {\n      get: function() {\n\n        console.warn('THREE.' + this.type + ': .stencilMask has been removed. Use .stencilFuncMask instead.');\n        return this.stencilFuncMask;\n\n      },\n      set: function(value) {\n\n        console.warn('THREE.' + this.type + ': .stencilMask has been removed. Use .stencilFuncMask instead.');\n        this.stencilFuncMask = value;\n\n      }\n    }\n\n  });\n\n  Object.defineProperties(MeshPhongMaterial.prototype, {\n\n    metal: {\n      get: function() {\n\n        console.warn('THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.');\n        return false;\n\n      },\n      set: function() {\n\n        console.warn('THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead');\n\n      }\n    }\n\n  });\n\n  Object.defineProperties(ShaderMaterial.prototype, {\n\n    derivatives: {\n      get: function() {\n\n        console.warn('THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.');\n        return this.extensions.derivatives;\n\n      },\n      set: function(value) {\n\n        console.warn('THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.');\n        this.extensions.derivatives = value;\n\n      }\n    }\n\n  });\n\n  //\n\n  Object.assign(WebGLRenderer.prototype, {\n\n    clearTarget: function(renderTarget, color, depth, stencil) {\n\n      console.warn('THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead.');\n      this.setRenderTarget(renderTarget);\n      this.clear(color, depth, stencil);\n\n    },\n    animate: function(callback) {\n\n      console.warn('THREE.WebGLRenderer: .animate() is now .setAnimationLoop().');\n      this.setAnimationLoop(callback);\n\n    },\n    getCurrentRenderTarget: function() {\n\n      console.warn('THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget().');\n      return this.getRenderTarget();\n\n    },\n    getMaxAnisotropy: function() {\n\n      console.warn('THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy().');\n      return this.capabilities.getMaxAnisotropy();\n\n    },\n    getPrecision: function() {\n\n      console.warn('THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision.');\n      return this.capabilities.precision;\n\n    },\n    resetGLState: function() {\n\n      console.warn('THREE.WebGLRenderer: .resetGLState() is now .state.reset().');\n      return this.state.reset();\n\n    },\n    supportsFloatTextures: function() {\n\n      console.warn('THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( \\'OES_texture_float\\' ).');\n      return this.extensions.get('OES_texture_float');\n\n    },\n    supportsHalfFloatTextures: function() {\n\n      console.warn('THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( \\'OES_texture_half_float\\' ).');\n      return this.extensions.get('OES_texture_half_float');\n\n    },\n    supportsStandardDerivatives: function() {\n\n      console.warn('THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( \\'OES_standard_derivatives\\' ).');\n      return this.extensions.get('OES_standard_derivatives');\n\n    },\n    supportsCompressedTextureS3TC: function() {\n\n      console.warn('THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( \\'WEBGL_compressed_texture_s3tc\\' ).');\n      return this.extensions.get('WEBGL_compressed_texture_s3tc');\n\n    },\n    supportsCompressedTexturePVRTC: function() {\n\n      console.warn('THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( \\'WEBGL_compressed_texture_pvrtc\\' ).');\n      return this.extensions.get('WEBGL_compressed_texture_pvrtc');\n\n    },\n    supportsBlendMinMax: function() {\n\n      console.warn('THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( \\'EXT_blend_minmax\\' ).');\n      return this.extensions.get('EXT_blend_minmax');\n\n    },\n    supportsVertexTextures: function() {\n\n      console.warn('THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures.');\n      return this.capabilities.vertexTextures;\n\n    },\n    supportsInstancedArrays: function() {\n\n      console.warn('THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( \\'ANGLE_instanced_arrays\\' ).');\n      return this.extensions.get('ANGLE_instanced_arrays');\n\n    },\n    enableScissorTest: function(boolean) {\n\n      console.warn('THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().');\n      this.setScissorTest(boolean);\n\n    },\n    initMaterial: function() {\n\n      console.warn('THREE.WebGLRenderer: .initMaterial() has been removed.');\n\n    },\n    addPrePlugin: function() {\n\n      console.warn('THREE.WebGLRenderer: .addPrePlugin() has been removed.');\n\n    },\n    addPostPlugin: function() {\n\n      console.warn('THREE.WebGLRenderer: .addPostPlugin() has been removed.');\n\n    },\n    updateShadowMap: function() {\n\n      console.warn('THREE.WebGLRenderer: .updateShadowMap() has been removed.');\n\n    },\n    setFaceCulling: function() {\n\n      console.warn('THREE.WebGLRenderer: .setFaceCulling() has been removed.');\n\n    },\n    allocTextureUnit: function() {\n\n      console.warn('THREE.WebGLRenderer: .allocTextureUnit() has been removed.');\n\n    },\n    setTexture: function() {\n\n      console.warn('THREE.WebGLRenderer: .setTexture() has been removed.');\n\n    },\n    setTexture2D: function() {\n\n      console.warn('THREE.WebGLRenderer: .setTexture2D() has been removed.');\n\n    },\n    setTextureCube: function() {\n\n      console.warn('THREE.WebGLRenderer: .setTextureCube() has been removed.');\n\n    },\n    getActiveMipMapLevel: function() {\n\n      console.warn('THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel().');\n      return this.getActiveMipmapLevel();\n\n    }\n\n  });\n\n  Object.defineProperties(WebGLRenderer.prototype, {\n\n    shadowMapEnabled: {\n      get: function() {\n\n        return this.shadowMap.enabled;\n\n      },\n      set: function(value) {\n\n        console.warn('THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.');\n        this.shadowMap.enabled = value;\n\n      }\n    },\n    shadowMapType: {\n      get: function() {\n\n        return this.shadowMap.type;\n\n      },\n      set: function(value) {\n\n        console.warn('THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.');\n        this.shadowMap.type = value;\n\n      }\n    },\n    shadowMapCullFace: {\n      get: function() {\n\n        console.warn('THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.');\n        return undefined;\n\n      },\n      set: function( /* value */ ) {\n\n        console.warn('THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.');\n\n      }\n    },\n    context: {\n      get: function() {\n\n        console.warn('THREE.WebGLRenderer: .context has been removed. Use .getContext() instead.');\n        return this.getContext();\n\n      }\n    },\n    vr: {\n      get: function() {\n\n        console.warn('THREE.WebGLRenderer: .vr has been renamed to .xr');\n        return this.xr;\n\n      }\n    },\n    gammaInput: {\n      get: function() {\n\n        console.warn('THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.');\n        return false;\n\n      },\n      set: function() {\n\n        console.warn('THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.');\n\n      }\n    },\n    gammaOutput: {\n      get: function() {\n\n        console.warn('THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead.');\n        return false;\n\n      },\n      set: function(value) {\n\n        console.warn('THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead.');\n        this.outputEncoding = (value === true) ? sRGBEncoding : LinearEncoding;\n\n      }\n    }\n\n  });\n\n  Object.defineProperties(WebGLShadowMap.prototype, {\n\n    cullFace: {\n      get: function() {\n\n        console.warn('THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.');\n        return undefined;\n\n      },\n      set: function( /* cullFace */ ) {\n\n        console.warn('THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.');\n\n      }\n    },\n    renderReverseSided: {\n      get: function() {\n\n        console.warn('THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.');\n        return undefined;\n\n      },\n      set: function() {\n\n        console.warn('THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.');\n\n      }\n    },\n    renderSingleSided: {\n      get: function() {\n\n        console.warn('THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.');\n        return undefined;\n\n      },\n      set: function() {\n\n        console.warn('THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.');\n\n      }\n    }\n\n  });\n\n  //\n\n  Object.defineProperties(WebGLRenderTargetCube.prototype, {\n\n    activeCubeFace: {\n      set: function( /* value */ ) {\n\n        console.warn('THREE.WebGLRenderTargetCube: .activeCubeFace has been removed. It is now the second parameter of WebGLRenderer.setRenderTarget().');\n\n      }\n    },\n    activeMipMapLevel: {\n      set: function( /* value */ ) {\n\n        console.warn('THREE.WebGLRenderTargetCube: .activeMipMapLevel has been removed. It is now the third parameter of WebGLRenderer.setRenderTarget().');\n\n      }\n    }\n\n  });\n\n  //\n\n  Object.defineProperties(WebGLRenderTarget.prototype, {\n\n    wrapS: {\n      get: function() {\n\n        console.warn('THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.');\n        return this.texture.wrapS;\n\n      },\n      set: function(value) {\n\n        console.warn('THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.');\n        this.texture.wrapS = value;\n\n      }\n    },\n    wrapT: {\n      get: function() {\n\n        console.warn('THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.');\n        return this.texture.wrapT;\n\n      },\n      set: function(value) {\n\n        console.warn('THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.');\n        this.texture.wrapT = value;\n\n      }\n    },\n    magFilter: {\n      get: function() {\n\n        console.warn('THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.');\n        return this.texture.magFilter;\n\n      },\n      set: function(value) {\n\n        console.warn('THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.');\n        this.texture.magFilter = value;\n\n      }\n    },\n    minFilter: {\n      get: function() {\n\n        console.warn('THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.');\n        return this.texture.minFilter;\n\n      },\n      set: function(value) {\n\n        console.warn('THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.');\n        this.texture.minFilter = value;\n\n      }\n    },\n    anisotropy: {\n      get: function() {\n\n        console.warn('THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.');\n        return this.texture.anisotropy;\n\n      },\n      set: function(value) {\n\n        console.warn('THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.');\n        this.texture.anisotropy = value;\n\n      }\n    },\n    offset: {\n      get: function() {\n\n        console.warn('THREE.WebGLRenderTarget: .offset is now .texture.offset.');\n        return this.texture.offset;\n\n      },\n      set: function(value) {\n\n        console.warn('THREE.WebGLRenderTarget: .offset is now .texture.offset.');\n        this.texture.offset = value;\n\n      }\n    },\n    repeat: {\n      get: function() {\n\n        console.warn('THREE.WebGLRenderTarget: .repeat is now .texture.repeat.');\n        return this.texture.repeat;\n\n      },\n      set: function(value) {\n\n        console.warn('THREE.WebGLRenderTarget: .repeat is now .texture.repeat.');\n        this.texture.repeat = value;\n\n      }\n    },\n    format: {\n      get: function() {\n\n        console.warn('THREE.WebGLRenderTarget: .format is now .texture.format.');\n        return this.texture.format;\n\n      },\n      set: function(value) {\n\n        console.warn('THREE.WebGLRenderTarget: .format is now .texture.format.');\n        this.texture.format = value;\n\n      }\n    },\n    type: {\n      get: function() {\n\n        console.warn('THREE.WebGLRenderTarget: .type is now .texture.type.');\n        return this.texture.type;\n\n      },\n      set: function(value) {\n\n        console.warn('THREE.WebGLRenderTarget: .type is now .texture.type.');\n        this.texture.type = value;\n\n      }\n    },\n    generateMipmaps: {\n      get: function() {\n\n        console.warn('THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.');\n        return this.texture.generateMipmaps;\n\n      },\n      set: function(value) {\n\n        console.warn('THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.');\n        this.texture.generateMipmaps = value;\n\n      }\n    }\n\n  });\n\n  //\n\n  Object.defineProperties(Audio.prototype, {\n\n    load: {\n      value: function(file) {\n\n        console.warn('THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.');\n        var scope = this;\n        var audioLoader = new AudioLoader();\n        audioLoader.load(file, function(buffer) {\n\n          scope.setBuffer(buffer);\n\n        });\n        return this;\n\n      }\n    },\n    startTime: {\n      set: function() {\n\n        console.warn('THREE.Audio: .startTime is now .play( delay ).');\n\n      }\n    }\n\n  });\n\n  AudioAnalyser.prototype.getData = function() {\n\n    console.warn('THREE.AudioAnalyser: .getData() is now .getFrequencyData().');\n    return this.getFrequencyData();\n\n  };\n\n  //\n\n  CubeCamera.prototype.updateCubeMap = function(renderer, scene) {\n\n    console.warn('THREE.CubeCamera: .updateCubeMap() is now .update().');\n    return this.update(renderer, scene);\n\n  };\n\n  //\n\n  var GeometryUtils = {\n\n    merge: function(geometry1, geometry2, materialIndexOffset) {\n\n      console.warn('THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.');\n      var matrix;\n\n      if (geometry2.isMesh) {\n\n        geometry2.matrixAutoUpdate && geometry2.updateMatrix();\n\n        matrix = geometry2.matrix;\n        geometry2 = geometry2.geometry;\n\n      }\n\n      geometry1.merge(geometry2, matrix, materialIndexOffset);\n\n    },\n\n    center: function(geometry) {\n\n      console.warn('THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.');\n      return geometry.center();\n\n    }\n\n  };\n\n  ImageUtils.crossOrigin = undefined;\n\n  ImageUtils.loadTexture = function(url, mapping, onLoad, onError) {\n\n    console.warn('THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.');\n\n    var loader = new TextureLoader();\n    loader.setCrossOrigin(this.crossOrigin);\n\n    var texture = loader.load(url, onLoad, undefined, onError);\n\n    if (mapping) {\n      texture.mapping = mapping;\n    }\n\n    return texture;\n\n  };\n\n  ImageUtils.loadTextureCube = function(urls, mapping, onLoad, onError) {\n\n    console.warn('THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.');\n\n    var loader = new CubeTextureLoader();\n    loader.setCrossOrigin(this.crossOrigin);\n\n    var texture = loader.load(urls, onLoad, undefined, onError);\n\n    if (mapping) {\n      texture.mapping = mapping;\n    }\n\n    return texture;\n\n  };\n\n  ImageUtils.loadCompressedTexture = function() {\n\n    console.error('THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.');\n\n  };\n\n  ImageUtils.loadCompressedTextureCube = function() {\n\n    console.error('THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.');\n\n  };\n\n  //\n\n  function CanvasRenderer() {\n\n    console.error('THREE.CanvasRenderer has been removed');\n\n  }\n\n  //\n\n  function JSONLoader() {\n\n    console.error('THREE.JSONLoader has been removed.');\n\n  }\n\n  //\n\n  var SceneUtils = {\n\n    createMultiMaterialObject: function( /* geometry, materials */ ) {\n\n      console.error('THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js');\n\n    },\n\n    detach: function( /* child, parent, scene */ ) {\n\n      console.error('THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js');\n\n    },\n\n    attach: function( /* child, scene, parent */ ) {\n\n      console.error('THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js');\n\n    }\n\n  };\n\n  //\n\n  function LensFlare() {\n\n    console.error('THREE.LensFlare has been moved to /examples/js/objects/Lensflare.js');\n\n  }\n\n  if (typeof __THREE_DEVTOOLS__ !== 'undefined') {\n\n    /* eslint-disable no-undef */\n    __THREE_DEVTOOLS__.dispatchEvent(new CustomEvent('register', {\n      detail: {\n        revision: REVISION,\n      }\n    }));\n    /* eslint-enable no-undef */\n\n  }\n\n  exports.ACESFilmicToneMapping = ACESFilmicToneMapping;\n  exports.AddEquation = AddEquation;\n  exports.AddOperation = AddOperation;\n  exports.AdditiveBlending = AdditiveBlending;\n  exports.AlphaFormat = AlphaFormat;\n  exports.AlwaysDepth = AlwaysDepth;\n  exports.AlwaysStencilFunc = AlwaysStencilFunc;\n  exports.AmbientLight = AmbientLight;\n  exports.AmbientLightProbe = AmbientLightProbe;\n  exports.AnimationClip = AnimationClip;\n  exports.AnimationLoader = AnimationLoader;\n  exports.AnimationMixer = AnimationMixer;\n  exports.AnimationObjectGroup = AnimationObjectGroup;\n  exports.AnimationUtils = AnimationUtils;\n  exports.ArcCurve = ArcCurve;\n  exports.ArrayCamera = ArrayCamera;\n  exports.ArrowHelper = ArrowHelper;\n  exports.Audio = Audio;\n  exports.AudioAnalyser = AudioAnalyser;\n  exports.AudioContext = AudioContext;\n  exports.AudioListener = AudioListener;\n  exports.AudioLoader = AudioLoader;\n  exports.AxesHelper = AxesHelper;\n  exports.AxisHelper = AxisHelper;\n  exports.BackSide = BackSide;\n  exports.BasicDepthPacking = BasicDepthPacking;\n  exports.BasicShadowMap = BasicShadowMap;\n  exports.BinaryTextureLoader = BinaryTextureLoader;\n  exports.Bone = Bone;\n  exports.BooleanKeyframeTrack = BooleanKeyframeTrack;\n  exports.BoundingBoxHelper = BoundingBoxHelper;\n  exports.Box2 = Box2;\n  exports.Box3 = Box3;\n  exports.Box3Helper = Box3Helper;\n  exports.BoxBufferGeometry = BoxBufferGeometry;\n  exports.BoxGeometry = BoxGeometry;\n  exports.BoxHelper = BoxHelper;\n  exports.BufferAttribute = BufferAttribute;\n  exports.BufferGeometry = BufferGeometry;\n  exports.BufferGeometryLoader = BufferGeometryLoader;\n  exports.ByteType = ByteType;\n  exports.Cache = Cache;\n  exports.Camera = Camera;\n  exports.CameraHelper = CameraHelper;\n  exports.CanvasRenderer = CanvasRenderer;\n  exports.CanvasTexture = CanvasTexture;\n  exports.CatmullRomCurve3 = CatmullRomCurve3;\n  exports.CineonToneMapping = CineonToneMapping;\n  exports.CircleBufferGeometry = CircleBufferGeometry;\n  exports.CircleGeometry = CircleGeometry;\n  exports.ClampToEdgeWrapping = ClampToEdgeWrapping;\n  exports.Clock = Clock;\n  exports.ClosedSplineCurve3 = ClosedSplineCurve3;\n  exports.Color = Color;\n  exports.ColorKeyframeTrack = ColorKeyframeTrack;\n  exports.CompressedTexture = CompressedTexture;\n  exports.CompressedTextureLoader = CompressedTextureLoader;\n  exports.ConeBufferGeometry = ConeBufferGeometry;\n  exports.ConeGeometry = ConeGeometry;\n  exports.CubeCamera = CubeCamera;\n  exports.CubeGeometry = BoxGeometry;\n  exports.CubeReflectionMapping = CubeReflectionMapping;\n  exports.CubeRefractionMapping = CubeRefractionMapping;\n  exports.CubeTexture = CubeTexture;\n  exports.CubeTextureLoader = CubeTextureLoader;\n  exports.CubeUVReflectionMapping = CubeUVReflectionMapping;\n  exports.CubeUVRefractionMapping = CubeUVRefractionMapping;\n  exports.CubicBezierCurve = CubicBezierCurve;\n  exports.CubicBezierCurve3 = CubicBezierCurve3;\n  exports.CubicInterpolant = CubicInterpolant;\n  exports.CullFaceBack = CullFaceBack;\n  exports.CullFaceFront = CullFaceFront;\n  exports.CullFaceFrontBack = CullFaceFrontBack;\n  exports.CullFaceNone = CullFaceNone;\n  exports.Curve = Curve;\n  exports.CurvePath = CurvePath;\n  exports.CustomBlending = CustomBlending;\n  exports.CylinderBufferGeometry = CylinderBufferGeometry;\n  exports.CylinderGeometry = CylinderGeometry;\n  exports.Cylindrical = Cylindrical;\n  exports.DataTexture = DataTexture;\n  exports.DataTexture2DArray = DataTexture2DArray;\n  exports.DataTexture3D = DataTexture3D;\n  exports.DataTextureLoader = DataTextureLoader;\n  exports.DecrementStencilOp = DecrementStencilOp;\n  exports.DecrementWrapStencilOp = DecrementWrapStencilOp;\n  exports.DefaultLoadingManager = DefaultLoadingManager;\n  exports.DepthFormat = DepthFormat;\n  exports.DepthStencilFormat = DepthStencilFormat;\n  exports.DepthTexture = DepthTexture;\n  exports.DirectionalLight = DirectionalLight;\n  exports.DirectionalLightHelper = DirectionalLightHelper;\n  exports.DirectionalLightShadow = DirectionalLightShadow;\n  exports.DiscreteInterpolant = DiscreteInterpolant;\n  exports.DodecahedronBufferGeometry = DodecahedronBufferGeometry;\n  exports.DodecahedronGeometry = DodecahedronGeometry;\n  exports.DoubleSide = DoubleSide;\n  exports.DstAlphaFactor = DstAlphaFactor;\n  exports.DstColorFactor = DstColorFactor;\n  exports.DynamicBufferAttribute = DynamicBufferAttribute;\n  exports.DynamicCopyUsage = DynamicCopyUsage;\n  exports.DynamicDrawUsage = DynamicDrawUsage;\n  exports.DynamicReadUsage = DynamicReadUsage;\n  exports.EdgesGeometry = EdgesGeometry;\n  exports.EdgesHelper = EdgesHelper;\n  exports.EllipseCurve = EllipseCurve;\n  exports.EqualDepth = EqualDepth;\n  exports.EqualStencilFunc = EqualStencilFunc;\n  exports.EquirectangularReflectionMapping = EquirectangularReflectionMapping;\n  exports.EquirectangularRefractionMapping = EquirectangularRefractionMapping;\n  exports.Euler = Euler;\n  exports.EventDispatcher = EventDispatcher;\n  exports.ExtrudeBufferGeometry = ExtrudeBufferGeometry;\n  exports.ExtrudeGeometry = ExtrudeGeometry;\n  exports.Face3 = Face3;\n  exports.Face4 = Face4;\n  exports.FaceColors = FaceColors;\n  exports.FileLoader = FileLoader;\n  exports.FlatShading = FlatShading;\n  exports.Float32Attribute = Float32Attribute;\n  exports.Float32BufferAttribute = Float32BufferAttribute;\n  exports.Float64Attribute = Float64Attribute;\n  exports.Float64BufferAttribute = Float64BufferAttribute;\n  exports.FloatType = FloatType;\n  exports.Fog = Fog;\n  exports.FogExp2 = FogExp2;\n  exports.Font = Font;\n  exports.FontLoader = FontLoader;\n  exports.FrontFaceDirectionCCW = FrontFaceDirectionCCW;\n  exports.FrontFaceDirectionCW = FrontFaceDirectionCW;\n  exports.FrontSide = FrontSide;\n  exports.Frustum = Frustum;\n  exports.GammaEncoding = GammaEncoding;\n  exports.Geometry = Geometry;\n  exports.GeometryUtils = GeometryUtils;\n  exports.GreaterDepth = GreaterDepth;\n  exports.GreaterEqualDepth = GreaterEqualDepth;\n  exports.GreaterEqualStencilFunc = GreaterEqualStencilFunc;\n  exports.GreaterStencilFunc = GreaterStencilFunc;\n  exports.GridHelper = GridHelper;\n  exports.Group = Group;\n  exports.HalfFloatType = HalfFloatType;\n  exports.HemisphereLight = HemisphereLight;\n  exports.HemisphereLightHelper = HemisphereLightHelper;\n  exports.HemisphereLightProbe = HemisphereLightProbe;\n  exports.IcosahedronBufferGeometry = IcosahedronBufferGeometry;\n  exports.IcosahedronGeometry = IcosahedronGeometry;\n  exports.ImageBitmapLoader = ImageBitmapLoader;\n  exports.ImageLoader = ImageLoader;\n  exports.ImageUtils = ImageUtils;\n  exports.ImmediateRenderObject = ImmediateRenderObject;\n  exports.IncrementStencilOp = IncrementStencilOp;\n  exports.IncrementWrapStencilOp = IncrementWrapStencilOp;\n  exports.InstancedBufferAttribute = InstancedBufferAttribute;\n  exports.InstancedBufferGeometry = InstancedBufferGeometry;\n  exports.InstancedInterleavedBuffer = InstancedInterleavedBuffer;\n  exports.InstancedMesh = InstancedMesh;\n  exports.Int16Attribute = Int16Attribute;\n  exports.Int16BufferAttribute = Int16BufferAttribute;\n  exports.Int32Attribute = Int32Attribute;\n  exports.Int32BufferAttribute = Int32BufferAttribute;\n  exports.Int8Attribute = Int8Attribute;\n  exports.Int8BufferAttribute = Int8BufferAttribute;\n  exports.IntType = IntType;\n  exports.InterleavedBuffer = InterleavedBuffer;\n  exports.InterleavedBufferAttribute = InterleavedBufferAttribute;\n  exports.Interpolant = Interpolant;\n  exports.InterpolateDiscrete = InterpolateDiscrete;\n  exports.InterpolateLinear = InterpolateLinear;\n  exports.InterpolateSmooth = InterpolateSmooth;\n  exports.InvertStencilOp = InvertStencilOp;\n  exports.JSONLoader = JSONLoader;\n  exports.KeepStencilOp = KeepStencilOp;\n  exports.KeyframeTrack = KeyframeTrack;\n  exports.LOD = LOD;\n  exports.LatheBufferGeometry = LatheBufferGeometry;\n  exports.LatheGeometry = LatheGeometry;\n  exports.Layers = Layers;\n  exports.LensFlare = LensFlare;\n  exports.LessDepth = LessDepth;\n  exports.LessEqualDepth = LessEqualDepth;\n  exports.LessEqualStencilFunc = LessEqualStencilFunc;\n  exports.LessStencilFunc = LessStencilFunc;\n  exports.Light = Light;\n  exports.LightProbe = LightProbe;\n  exports.LightShadow = LightShadow;\n  exports.Line = Line;\n  exports.Line3 = Line3;\n  exports.LineBasicMaterial = LineBasicMaterial;\n  exports.LineCurve = LineCurve;\n  exports.LineCurve3 = LineCurve3;\n  exports.LineDashedMaterial = LineDashedMaterial;\n  exports.LineLoop = LineLoop;\n  exports.LinePieces = LinePieces;\n  exports.LineSegments = LineSegments;\n  exports.LineStrip = LineStrip;\n  exports.LinearEncoding = LinearEncoding;\n  exports.LinearFilter = LinearFilter;\n  exports.LinearInterpolant = LinearInterpolant;\n  exports.LinearMipMapLinearFilter = LinearMipMapLinearFilter;\n  exports.LinearMipMapNearestFilter = LinearMipMapNearestFilter;\n  exports.LinearMipmapLinearFilter = LinearMipmapLinearFilter;\n  exports.LinearMipmapNearestFilter = LinearMipmapNearestFilter;\n  exports.LinearToneMapping = LinearToneMapping;\n  exports.Loader = Loader;\n  exports.LoaderUtils = LoaderUtils;\n  exports.LoadingManager = LoadingManager;\n  exports.LogLuvEncoding = LogLuvEncoding;\n  exports.LoopOnce = LoopOnce;\n  exports.LoopPingPong = LoopPingPong;\n  exports.LoopRepeat = LoopRepeat;\n  exports.LuminanceAlphaFormat = LuminanceAlphaFormat;\n  exports.LuminanceFormat = LuminanceFormat;\n  exports.MOUSE = MOUSE;\n  exports.Material = Material;\n  exports.MaterialLoader = MaterialLoader;\n  exports.Math = _Math;\n  exports.Matrix3 = Matrix3;\n  exports.Matrix4 = Matrix4;\n  exports.MaxEquation = MaxEquation;\n  exports.Mesh = Mesh;\n  exports.MeshBasicMaterial = MeshBasicMaterial;\n  exports.MeshDepthMaterial = MeshDepthMaterial;\n  exports.MeshDistanceMaterial = MeshDistanceMaterial;\n  exports.MeshFaceMaterial = MeshFaceMaterial;\n  exports.MeshLambertMaterial = MeshLambertMaterial;\n  exports.MeshMatcapMaterial = MeshMatcapMaterial;\n  exports.MeshNormalMaterial = MeshNormalMaterial;\n  exports.MeshPhongMaterial = MeshPhongMaterial;\n  exports.MeshPhysicalMaterial = MeshPhysicalMaterial;\n  exports.MeshStandardMaterial = MeshStandardMaterial;\n  exports.MeshToonMaterial = MeshToonMaterial;\n  exports.MinEquation = MinEquation;\n  exports.MirroredRepeatWrapping = MirroredRepeatWrapping;\n  exports.MixOperation = MixOperation;\n  exports.MultiMaterial = MultiMaterial;\n  exports.MultiplyBlending = MultiplyBlending;\n  exports.MultiplyOperation = MultiplyOperation;\n  exports.NearestFilter = NearestFilter;\n  exports.NearestMipMapLinearFilter = NearestMipMapLinearFilter;\n  exports.NearestMipMapNearestFilter = NearestMipMapNearestFilter;\n  exports.NearestMipmapLinearFilter = NearestMipmapLinearFilter;\n  exports.NearestMipmapNearestFilter = NearestMipmapNearestFilter;\n  exports.NeverDepth = NeverDepth;\n  exports.NeverStencilFunc = NeverStencilFunc;\n  exports.NoBlending = NoBlending;\n  exports.NoColors = NoColors;\n  exports.NoToneMapping = NoToneMapping;\n  exports.NormalBlending = NormalBlending;\n  exports.NotEqualDepth = NotEqualDepth;\n  exports.NotEqualStencilFunc = NotEqualStencilFunc;\n  exports.NumberKeyframeTrack = NumberKeyframeTrack;\n  exports.Object3D = Object3D;\n  exports.ObjectLoader = ObjectLoader;\n  exports.ObjectSpaceNormalMap = ObjectSpaceNormalMap;\n  exports.OctahedronBufferGeometry = OctahedronBufferGeometry;\n  exports.OctahedronGeometry = OctahedronGeometry;\n  exports.OneFactor = OneFactor;\n  exports.OneMinusDstAlphaFactor = OneMinusDstAlphaFactor;\n  exports.OneMinusDstColorFactor = OneMinusDstColorFactor;\n  exports.OneMinusSrcAlphaFactor = OneMinusSrcAlphaFactor;\n  exports.OneMinusSrcColorFactor = OneMinusSrcColorFactor;\n  exports.OrthographicCamera = OrthographicCamera;\n  exports.PCFShadowMap = PCFShadowMap;\n  exports.PCFSoftShadowMap = PCFSoftShadowMap;\n  exports.PMREMGenerator = PMREMGenerator;\n  exports.ParametricBufferGeometry = ParametricBufferGeometry;\n  exports.ParametricGeometry = ParametricGeometry;\n  exports.Particle = Particle;\n  exports.ParticleBasicMaterial = ParticleBasicMaterial;\n  exports.ParticleSystem = ParticleSystem;\n  exports.ParticleSystemMaterial = ParticleSystemMaterial;\n  exports.Path = Path;\n  exports.PerspectiveCamera = PerspectiveCamera;\n  exports.Plane = Plane;\n  exports.PlaneBufferGeometry = PlaneBufferGeometry;\n  exports.PlaneGeometry = PlaneGeometry;\n  exports.PlaneHelper = PlaneHelper;\n  exports.PointCloud = PointCloud;\n  exports.PointCloudMaterial = PointCloudMaterial;\n  exports.PointLight = PointLight;\n  exports.PointLightHelper = PointLightHelper;\n  exports.Points = Points;\n  exports.PointsMaterial = PointsMaterial;\n  exports.PolarGridHelper = PolarGridHelper;\n  exports.PolyhedronBufferGeometry = PolyhedronBufferGeometry;\n  exports.PolyhedronGeometry = PolyhedronGeometry;\n  exports.PositionalAudio = PositionalAudio;\n  exports.PropertyBinding = PropertyBinding;\n  exports.PropertyMixer = PropertyMixer;\n  exports.QuadraticBezierCurve = QuadraticBezierCurve;\n  exports.QuadraticBezierCurve3 = QuadraticBezierCurve3;\n  exports.Quaternion = Quaternion;\n  exports.QuaternionKeyframeTrack = QuaternionKeyframeTrack;\n  exports.QuaternionLinearInterpolant = QuaternionLinearInterpolant;\n  exports.REVISION = REVISION;\n  exports.RGBADepthPacking = RGBADepthPacking;\n  exports.RGBAFormat = RGBAFormat;\n  exports.RGBAIntegerFormat = RGBAIntegerFormat;\n  exports.RGBA_ASTC_10x10_Format = RGBA_ASTC_10x10_Format;\n  exports.RGBA_ASTC_10x5_Format = RGBA_ASTC_10x5_Format;\n  exports.RGBA_ASTC_10x6_Format = RGBA_ASTC_10x6_Format;\n  exports.RGBA_ASTC_10x8_Format = RGBA_ASTC_10x8_Format;\n  exports.RGBA_ASTC_12x10_Format = RGBA_ASTC_12x10_Format;\n  exports.RGBA_ASTC_12x12_Format = RGBA_ASTC_12x12_Format;\n  exports.RGBA_ASTC_4x4_Format = RGBA_ASTC_4x4_Format;\n  exports.RGBA_ASTC_5x4_Format = RGBA_ASTC_5x4_Format;\n  exports.RGBA_ASTC_5x5_Format = RGBA_ASTC_5x5_Format;\n  exports.RGBA_ASTC_6x5_Format = RGBA_ASTC_6x5_Format;\n  exports.RGBA_ASTC_6x6_Format = RGBA_ASTC_6x6_Format;\n  exports.RGBA_ASTC_8x5_Format = RGBA_ASTC_8x5_Format;\n  exports.RGBA_ASTC_8x6_Format = RGBA_ASTC_8x6_Format;\n  exports.RGBA_ASTC_8x8_Format = RGBA_ASTC_8x8_Format;\n  exports.RGBA_PVRTC_2BPPV1_Format = RGBA_PVRTC_2BPPV1_Format;\n  exports.RGBA_PVRTC_4BPPV1_Format = RGBA_PVRTC_4BPPV1_Format;\n  exports.RGBA_S3TC_DXT1_Format = RGBA_S3TC_DXT1_Format;\n  exports.RGBA_S3TC_DXT3_Format = RGBA_S3TC_DXT3_Format;\n  exports.RGBA_S3TC_DXT5_Format = RGBA_S3TC_DXT5_Format;\n  exports.RGBDEncoding = RGBDEncoding;\n  exports.RGBEEncoding = RGBEEncoding;\n  exports.RGBEFormat = RGBEFormat;\n  exports.RGBFormat = RGBFormat;\n  exports.RGBIntegerFormat = RGBIntegerFormat;\n  exports.RGBM16Encoding = RGBM16Encoding;\n  exports.RGBM7Encoding = RGBM7Encoding;\n  exports.RGB_ETC1_Format = RGB_ETC1_Format;\n  exports.RGB_PVRTC_2BPPV1_Format = RGB_PVRTC_2BPPV1_Format;\n  exports.RGB_PVRTC_4BPPV1_Format = RGB_PVRTC_4BPPV1_Format;\n  exports.RGB_S3TC_DXT1_Format = RGB_S3TC_DXT1_Format;\n  exports.RGFormat = RGFormat;\n  exports.RGIntegerFormat = RGIntegerFormat;\n  exports.RawShaderMaterial = RawShaderMaterial;\n  exports.Ray = Ray;\n  exports.Raycaster = Raycaster;\n  exports.RectAreaLight = RectAreaLight;\n  exports.RedFormat = RedFormat;\n  exports.RedIntegerFormat = RedIntegerFormat;\n  exports.ReinhardToneMapping = ReinhardToneMapping;\n  exports.RepeatWrapping = RepeatWrapping;\n  exports.ReplaceStencilOp = ReplaceStencilOp;\n  exports.ReverseSubtractEquation = ReverseSubtractEquation;\n  exports.RingBufferGeometry = RingBufferGeometry;\n  exports.RingGeometry = RingGeometry;\n  exports.Scene = Scene;\n  exports.SceneUtils = SceneUtils;\n  exports.ShaderChunk = ShaderChunk;\n  exports.ShaderLib = ShaderLib;\n  exports.ShaderMaterial = ShaderMaterial;\n  exports.ShadowMaterial = ShadowMaterial;\n  exports.Shape = Shape;\n  exports.ShapeBufferGeometry = ShapeBufferGeometry;\n  exports.ShapeGeometry = ShapeGeometry;\n  exports.ShapePath = ShapePath;\n  exports.ShapeUtils = ShapeUtils;\n  exports.ShortType = ShortType;\n  exports.Skeleton = Skeleton;\n  exports.SkeletonHelper = SkeletonHelper;\n  exports.SkinnedMesh = SkinnedMesh;\n  exports.SmoothShading = SmoothShading;\n  exports.Sphere = Sphere;\n  exports.SphereBufferGeometry = SphereBufferGeometry;\n  exports.SphereGeometry = SphereGeometry;\n  exports.Spherical = Spherical;\n  exports.SphericalHarmonics3 = SphericalHarmonics3;\n  exports.SphericalReflectionMapping = SphericalReflectionMapping;\n  exports.Spline = Spline;\n  exports.SplineCurve = SplineCurve;\n  exports.SplineCurve3 = SplineCurve3;\n  exports.SpotLight = SpotLight;\n  exports.SpotLightHelper = SpotLightHelper;\n  exports.SpotLightShadow = SpotLightShadow;\n  exports.Sprite = Sprite;\n  exports.SpriteMaterial = SpriteMaterial;\n  exports.SrcAlphaFactor = SrcAlphaFactor;\n  exports.SrcAlphaSaturateFactor = SrcAlphaSaturateFactor;\n  exports.SrcColorFactor = SrcColorFactor;\n  exports.StaticCopyUsage = StaticCopyUsage;\n  exports.StaticDrawUsage = StaticDrawUsage;\n  exports.StaticReadUsage = StaticReadUsage;\n  exports.StereoCamera = StereoCamera;\n  exports.StreamCopyUsage = StreamCopyUsage;\n  exports.StreamDrawUsage = StreamDrawUsage;\n  exports.StreamReadUsage = StreamReadUsage;\n  exports.StringKeyframeTrack = StringKeyframeTrack;\n  exports.SubtractEquation = SubtractEquation;\n  exports.SubtractiveBlending = SubtractiveBlending;\n  exports.TOUCH = TOUCH;\n  exports.TangentSpaceNormalMap = TangentSpaceNormalMap;\n  exports.TetrahedronBufferGeometry = TetrahedronBufferGeometry;\n  exports.TetrahedronGeometry = TetrahedronGeometry;\n  exports.TextBufferGeometry = TextBufferGeometry;\n  exports.TextGeometry = TextGeometry;\n  exports.Texture = Texture;\n  exports.TextureLoader = TextureLoader;\n  exports.TorusBufferGeometry = TorusBufferGeometry;\n  exports.TorusGeometry = TorusGeometry;\n  exports.TorusKnotBufferGeometry = TorusKnotBufferGeometry;\n  exports.TorusKnotGeometry = TorusKnotGeometry;\n  exports.Triangle = Triangle;\n  exports.TriangleFanDrawMode = TriangleFanDrawMode;\n  exports.TriangleStripDrawMode = TriangleStripDrawMode;\n  exports.TrianglesDrawMode = TrianglesDrawMode;\n  exports.TubeBufferGeometry = TubeBufferGeometry;\n  exports.TubeGeometry = TubeGeometry;\n  exports.UVMapping = UVMapping;\n  exports.Uint16Attribute = Uint16Attribute;\n  exports.Uint16BufferAttribute = Uint16BufferAttribute;\n  exports.Uint32Attribute = Uint32Attribute;\n  exports.Uint32BufferAttribute = Uint32BufferAttribute;\n  exports.Uint8Attribute = Uint8Attribute;\n  exports.Uint8BufferAttribute = Uint8BufferAttribute;\n  exports.Uint8ClampedAttribute = Uint8ClampedAttribute;\n  exports.Uint8ClampedBufferAttribute = Uint8ClampedBufferAttribute;\n  exports.Uncharted2ToneMapping = Uncharted2ToneMapping;\n  exports.Uniform = Uniform;\n  exports.UniformsLib = UniformsLib;\n  exports.UniformsUtils = UniformsUtils;\n  exports.UnsignedByteType = UnsignedByteType;\n  exports.UnsignedInt248Type = UnsignedInt248Type;\n  exports.UnsignedIntType = UnsignedIntType;\n  exports.UnsignedShort4444Type = UnsignedShort4444Type;\n  exports.UnsignedShort5551Type = UnsignedShort5551Type;\n  exports.UnsignedShort565Type = UnsignedShort565Type;\n  exports.UnsignedShortType = UnsignedShortType;\n  exports.VSMShadowMap = VSMShadowMap;\n  exports.Vector2 = Vector2;\n  exports.Vector3 = Vector3;\n  exports.Vector4 = Vector4;\n  exports.VectorKeyframeTrack = VectorKeyframeTrack;\n  exports.Vertex = Vertex;\n  exports.VertexColors = VertexColors;\n  exports.VideoTexture = VideoTexture;\n  exports.WebGLMultisampleRenderTarget = WebGLMultisampleRenderTarget;\n  exports.WebGLRenderTarget = WebGLRenderTarget;\n  exports.WebGLRenderTargetCube = WebGLRenderTargetCube;\n  exports.WebGLRenderer = WebGLRenderer;\n  exports.WebGLUtils = WebGLUtils;\n  exports.WireframeGeometry = WireframeGeometry;\n  exports.WireframeHelper = WireframeHelper;\n  exports.WrapAroundEnding = WrapAroundEnding;\n  exports.XHRLoader = XHRLoader;\n  exports.ZeroCurvatureEnding = ZeroCurvatureEnding;\n  exports.ZeroFactor = ZeroFactor;\n  exports.ZeroSlopeEnding = ZeroSlopeEnding;\n  exports.ZeroStencilOp = ZeroStencilOp;\n  exports.sRGBEncoding = sRGBEncoding;\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n})));"]}]}